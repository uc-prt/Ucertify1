var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.createTemplateTagFirstArg=function(a){return a.raw=a};$jscomp.createTemplateTagFirstArgWithRaw=function(a,b){a.raw=b;return a};function addScript(a){document.body.append('<script class="reactScript">'+a+"\x3c/script>")}function showUcExpStep(e){let t=e.closest(".uc_step_explanation");AI.select(AI.find(t,".uc_step","hidden")[0],"show","block"),0===AI.find(t,".uc_step","hidden").length&&AI.select(e,"hide")}
function activateMathMl(a,b,c){console.log(a.match(/\\begin/gm));!b&&"function"==typeof c&&a.match(/\\begin/gm)&&c("previewSection",!0)}
function loadBackup(a,b,c){var d=document.querySelector(window.frameElement).getAttribute("guid");window.parent.contentDB.get("overallContent").then(function(e){if(e.content){var f={},g;for(g in e.content)f.$jscomp$loop$prop$i$0$12=g,e.content[f.$jscomp$loop$prop$i$0$12].guid==d&&(c(formatData(e.content[f.$jscomp$loop$prop$i$0$12].title),formatData(e.content[f.$jscomp$loop$prop$i$0$12].stem),formatData(e.content[f.$jscomp$loop$prop$i$0$12].remediation)),b("guid",e.content[f.$jscomp$loop$prop$i$0$12].guid),
b("content_type",e.content[f.$jscomp$loop$prop$i$0$12].content_type),setTimeout(function(){b("item","Blank")},1E3),setTimeout(function(k){return function(){b("item",parseInt(e.content[k.$jscomp$loop$prop$i$0$12].item));b("xml",e.content[k.$jscomp$loop$prop$i$0$12].xml+" ")}}(f),1100)),f={$jscomp$loop$prop$i$0$12:f.$jscomp$loop$prop$i$0$12}}})}
function replaceUnwantedTags(e,l){try{e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=e.replace(/&nbsp;/g," ").replace(/&#160;/g," ").replace(/   /g," &#160; ").replace(/  /g,"&#160; ")).replace(/\$/g,"&#36;")).replace(/<br><table/g,"<table")).replace(/<li><br>/g,"<li>")).replace(/<br><\/li>/g,"</li>")).replace(/<\/li><br>/g,"</li>")).replace(/<\/ul><br>/g,"</ul>")).replace(/<br><\/ul>/g,"</ul>")).replace(/<\/ol><br>/g,"</ol>")).replace(/<br><\/ol>/g,"</ol>")).replace(/<br><li>/g,"<li>")).replace(/<grammarly-btn([\s\S]*?)<\/grammarly-btn>/g,"")).replace(/<grammarly([\s\S]*?)<\/grammarly([\s\S]*?)>/g,"")).replace(/<main.*?data-remove="true"[\s\S]*?<\/main>/g,"")).replace(/class\=(\"|\')ebook_item_text.*?(\"|\')/g,"class='ebook_item_text'")).replace(/(\'|\")ebook_item_text(\'|\").*?\>/g,"'ebook_item_text'>")).replace(/(\'|\")ebook_item_text inline(\'|\").*?\>/g,"'ebook_item_text inline'>")).replace(/(\'|\")inline ebook_item_text(\'|\").*?\>/g,"'ebook_item_text inline'>")).replace(/mce-item-table/g,"")).replace(/\<input type="hidden".*?\>|\<input type="hidden".*?\/>/gm,""),"remediation"==l&&(e=(e=e.replace(/inline_new/,"inline")).replace(/sec_button inline|sec_button/,"sec_button inline").replace(/ebook_item_text inline|ebook_item_text/,"ebook_item_text inline")),e.replace(/&nbsp;/g," ").replace(/  /g," &nbsp;").replace(/> </g,">&nbsp;<")}catch(e){console.log("It seems incorrect active area / cursor position")}return e}
function replacePreTag(a,b){if(a&&a.match(/<pre.*?class=['"](.*?)['"].*?>[\s\S]*?<\/pre>/gi))return a.replace(/<pre.*?class=['"](.*?)['"].*?>[\s\S]*?<\/pre>/gi,function(c,d){console.warn("Replacing Pre Tags");var e=c;b.map(function(f){e=e.replace(f.tag,f.customTag)});return convertUcSyntaxSpaceInEntity(e)});console.log("Pre tag Not found");return a}
function showHints(t){let i=t.closest(".uc_answer_hint");AI.select(AI.find(i,"li","hidden")[0],"show","block");let n=AI.find(i,"li","hidden").length;0===n&&(n="No",AI.find(i,".hint_show",{action:"attr",actionData:{disabled:!0}})),AI.find(i,".li_count",{action:"html",actionData:n})}function requireScript(a,b){var c=document.createElement("script");c.src=a;c.setAttribute("class","reactScript");c.async=!0;c.onload=b;document.body.appendChild(c)}
function refreshPopover(){AI.getBS('.image_popover[data-bs-toggle="popover"]',"Popover",{html:!0,content:function(){return document.getElementById("popover-content").innerHTML}})}function toggleSave(a){AI.get("save_item")||AI.set("save_item",1==a?!0:!1)}
function updateItemInfData(a){a?(a.getAttribute("icon")?(AI.removeClass(".item_icon_list .active","active"),AI.addClass(a,"active")):"cong_level"==a.id?AI.set("cong_level",a.value):a.setAttribute("contentEditable",!0),AI.select(".inf_update_btn").style.display="inline-block"):(activate(2),a={ajax:"1",action:"update_editor_item_inf",content_guid:AI.get("current_guid"),ref_id:AI.select(".item_ref_id").textContent,isDraft:AI.get("draft"),content_icon:AI.get("current_item_icon"),cong_level:AI.get("cong_level"),
course:editor.course,anno_id:AI.select("#cong_level").getAttribute("annoid")},AI.ajax({url:baseUrl+"editor/index.php",data:a}).then(function(b){activate(0);console.log(b);1==b?AI.showmsg("Data updated successfully."):AI.showmsg("Updation failed.")}))}
function openDropDown(a,b,c){c&&(AI.select("#selected_item_icon").setAttribute("class","float-left s4 mr middle "+a.getAttribute("data-filter-icon")),AI.select("#selected_item_title").textContent=a.getAttribute("data-filter-title"),AI.set("current_item_icon",a.getAttribute("data-filter-value")),AI.selectAll(".inf_update_btn","show"));AI.select(b)}
function checkNewGuid(a,b){if(""!=a&&a!=b){var c=AI.url();c.set("content_guid",a);c.get("router_guid")?c.set("router_guid",c.get("router_guid").replace("#","")+","+a):c.set("router_guid",b+","+a);window.location=decodeURIComponent(c.toString())}}
function updateDatabase(a,b){window.parent&&window.parent.contentDB.get("overallContent").then(function(c){if(c.content){for(var d in c.content)c.content[d].guid==a&&(c.content[d]=AI.extend(c.content[d],b),c.content[d].guid=a);return window.parent.contentDB.put(c).then(function(e){})["catch"](function(e){console.log("Error found in update Database",e);updateDatabase(a)})}})}
function addUpdateDataBase(){AI.listen(window.parent.document,"click","#backupIt",function(){timer.updateDataBaseTimer=setTimeout(function(){var a=AI.select(window.frameElement).getAttribute("guid");updateDatabase(a);clearTimeout(timer.updateDataBaseTimer)},1E3)})}function getParent(a){a="object"==typeof a?a:document.querySelector(a);var b="";a&&a.closest("ul, ol")&&(b=a.closest("ul, ol"));return b}
function get_ucsyntax(a){if(a){a=a.replace(/\$/g,"&#36;");var b=a.match(/<uc:syntax([\s\S]*?)<\/uc:syntax>/gi);if(b)for(var c=0;c<b.length;c++){var d="",e=b[c],f=e.match(/<uc:syntax(.*?)>/gi);if(f[0].match(/console/gim)){var g="prettyprint black linenums";f[0].match(/nonum/gim)&&(g+=" hidelinenums")}else g=f[0].match(/command/gim)?"prettyprint cmd linenums":f[0].match(/white/gim)?f[0].match(/nonum/gim)?"prettyprint white":"prettyprint white linenums":f[0].match(/nonum/gim)?"prettyprint hidelinenums":
"prettyprint linenums";f[0].match(/hidelinenums/gim)&&(g+=" hidelinenums");if(f=e.match(/\snum="(.*?)"/gim))f[0]=f[0].replace(/\snum=|"/gim,""),g+=":"+f[0];e=e.replace(/<uc:syntax(.*?)>/gim,"");e=e.replace(/<\/uc:syntax>/gim,"");d+='<pre class="'+g+'">'+e+"</pre>";g=new RegExp(RegExp.quote(b[c]),"gm");a=a.replace(g,d)}return a}}
function changeSlide(a,b){var c=a.parentElement.querySelector(".slider_fade.active"),d=1==b?c.nextElementSibling:c.previousElementSibling;d&&d.classList.contains("slider_fade")?(a.parentElement.querySelectorAll(".slider_fade").forEach(function(e){e.style.display="none"}),c.classList.remove("active"),d.classList.add("active"),d.style.display="block"):console.warn("No slide found")}RegExp.quote=function(a){return a.replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1")};
function seqTag(a,b){b=b?b:!1;if(a&&isValidContent(a)){var c=a.match(/<seq(.*?)><\/seq>|<snt(.*?)><\/snt>/gim);if(c)for(var d=0;d<c.length;d++){var e=c[d].replace(/><\/seq>|><\/snt>/gim," />").replace(/data-style/gim,"style");a=a.replace(c[d],e)}a=customTableReplace(a);c="div li table tbody tr td th h1 h2 h3 h4 h5 h6 pre p figure figcaption dl dt section main article".split(" ");for(var f in c)a=a.replace(new RegExp(c[f]+">\\s+<","g"),c[f]+"><").replace(new RegExp(">\\s+<"+c[f],"g"),"><"+c[f]).replace(new RegExp(">\\s+</"+
c[f],"g"),"></"+c[f]).replace(new RegExp("\n.<"+c[f],"g"),"<"+c[f]).replace(new RegExp(c[f]+">\n","g"),c[f]+">");a=a.replace(/<br \/> |<br\/> |<br> | <br \/>| <br\/>| <br>|<br \/>|<br\/>|<br>/gim,"\n");a=a.replace(/<g class([\s\S]*?)>|<\/g>/,"");a=a.replace(/<grammarly-btn([\s\S]*?)<\/grammarly-btn>/g,"");a=a.replace(/<grammarly([\s\S]*?)<\/grammarly([\s\S]*?)>/g,"");a=a.replace(/<p><\/p>/,"\n");a=a.replace(RegExp("\n.<ul|\n<ul","g"),"<ul");a=a.replace(RegExp("\n.<ol|\n<ol","g"),"<ol");a=a.replace(/\[/g,
"&lsqb;");a=a.replace(/<main data-remove="true"[\s\S]*?<\/main>/g,"");a=a.replace(/class=("|')ebook_item_text.*?("|')/g,"class='ebook_item_text'");a=a.replace(/('|")ebook_item_text('|").*?>/g,"'ebook_item_text'>");a=a.replace(/('|")ebook_item_text inline('|").*?>/g,"'ebook_item_text inline'>");a=a.replace(/('|")inline ebook_item_text('|").*?>/g,"'ebook_item_text inline'>");a=a.replace(/mce-item-table/g,"");a=a.replace(/<input type="hidden".*?>|<input type="hidden".*?\/>/gm,"");"remed"==b&&(a=a.replace(/sec_button inline|sec_button/,
"sec_button inline").replace(/ebook_item_text inline|ebook_item_text/,"ebook_item_text inline"));1==b&&(a=a.replace(/<p>/gim,"\n").replace(/<\/p>/,""));return a}return""}function isValidContent(a){if('<br data-mce-bogus="1">'!=a&&'<b class="text-muted">Title</b>'!=a&&"&#160;"!=a)return!0;console.log("Invalid = ",a);return!1}function br2nl(a){if(a)return a.replace(/<br \/> |<br\/> |<br> | <br \/>| <br\/>| <br>|<br \/>|<br\/>|<br>/gim,"\n").replace(/&nbsp;/g," ")}
function nl2br(a){return a?a.replace(/\r\n|\n/g,"<BR>"):""}
function removeSection(a){return new Promise(function(b){try{var c=a.className,d=document.createElement("DIV");d.setAttribute("data-section",c);d.setAttribute("type",a.getAttribute("type"));d.setAttribute("sub_type",a.getAttribute("sub_type"));a.getAttribute("class").includes("inline")?(d.setAttribute("class","ebook_item_text inline"),d.innerHTML=1==a.childNodes.length?a.firstChild.innerHTML:a.innerHTML):(d.setAttribute("class","ebook_item_text"),d.innerHTML=a.innerHTML);a.after(d)}catch(e){console.log(a)}b(!0)})}
function formatData(a,b){b=void 0===b?!1:b;if(a){var c=a.match(/<snt(.*?)\/>/gim);if(c)for(var d=0;d<c.length;d++){var e=c[d].replace(/style/gim,"data-style");a=a.replace(c[d],e)}a=a.replace(/\r\n|\n/g,"<BR>");b&&(a=convertUcSyntaxSpaceInEntity(a));return a}}
function convertUcSyntaxSpaceInEntity(a){try{if(a&&a.match(/<uc:syntax/gm)){RegExp.escape=function(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")};var b=a.match(/<uc:syntax[\s\S]*?<\/uc:syntax>/gim);if(b)for(var c in b){var d=b[c];b[c]=b[c].replace(/\s{2}/g,"&#160;&#160;").replace(/&#160;\s|\s&#160;/g,"&#160;&#160;");a=a.replace(new RegExp(RegExp.escape(d),"gim"),b[c])}}}catch(e){console.warn("Issue in converting <uc:syntax",e)}return a}
function checkAnsMode(a){document.getElementById("ansModeAnswer").value=a}function getLabSimAnswer(a){document.getElementById("labAnswer").value=a.result}
function customTableReplace(a){a=a.replace(/<uc:table/gim,"<table").replace(/<uc:thead/gim,"<thead").replace(/<uc:tbody/gim,"<tbody").replace(/<uc:tfoot/gim,"<tfoot").replace(/<uc:th/gim,"<th").replace(/<uc:td/gim,"<td").replace(/<uc:tr/gim,"<tr");return a=a.replace(/<\/uc:table>/gim,"</table>").replace(/<\/uc:thead>/gim,"</thead>").replace(/<\/uc:tbody>/gim,"</tbody>").replace(/<\/uc:tfoot>/gim,"</tfoot>").replace(/<\/uc:th>/gim,"</th>").replace(/<\/uc:td>/gim,"</td>").replace(/<\/uc:tr>/gim,"</tr>")}
function getQueryString(a){return(a=RegExp("[?&]"+a+"=([^&]*)").exec(window.location.search))&&decodeURIComponent(a[1].replace(/\+/g," "))}function getEditable(a){return'<br data-mce-bogus="1">'!=a&&"&#160;"!=a?a:""}
function showWeblinkIframeEditor(a){AI.select(".load_data","hide");var b=a.contentDocument||a.contentWindow.document;a.setAttribute('height',"100%");a.setAttribute('width',"100%");a=document.body.clientHeight;typeof b.querySelector(".editor_close")!='object'?b.querySelector(".editor_close").getAttribute("onclick","window.parent.editorClose()"):'';AI.setCss(b.querySelector("#authoringSection"),{maxHeight:a-140,minHeight:a/2});AI.setCss(b.querySelector("#previewSection"),{minHeight:a/2,maxHeight:a-113})}
function editorClose(){AI.trigger("#editor_close_btn","click");if (typeof AI.select(".modal-backdrop.show") !='object') { AI.select(".modal-backdrop.show").remove();}AI.select("html").style.overflow="auto"}function getURLParameter(a){for(var b=window.location.search.substring(1).split("&"),c=0;c<b.length;c++){var d=b[c].split("=");if(d[0]==a)return d[1]}}var EXAMMAPPING="";
function checkedExamObjective(a){if(""!=EXAMMAPPING&&"null"!=EXAMMAPPING){var b=EXAMMAPPING;AI.selectAll('input[name="exam_obj[]"]').forEach(function(f){return f.checked=false});AI.select('input[name="exam_obj[]"]').parentElement.style.background="#fff";var c=getURLParameter("content_guid"),d;for(d in b)if(a.previousElementSibling&&a.previousElementSibling.value==d||window.frameElement.getAttribute("guid")==d||c==d){var e=c?c:1!=from_myproject?a.previousElementSibling.value:window.frameElement.getAttribute("guid");
e=b[e].split(",");for(i=0;i<=e.length;i++)AI.setCss(AI.select("#radio_"+e[i]).parentElement,{background:"#e3e3eb"}),AI.select("#radio_"+e[i]).checked=!0}setTimeout(function(){AI.bind("input.exam_obj_radio","click",function(f){AI&&AI.set("exma_obj_changed",!0)})},1E3)}}
function loadExamObjective(a){document.querySelectorAll(".popover").forEach(function(b){return b.style.display="none"});AI.select(".parent_ul").classList.add("list-unstyled");0==document.querySelector(".exam_modal_body").querySelectorAll(".parent_ul li").length?(AI.activate(1),AI.ajax({url:baseUrl+"index_data.php?func=get_exam_obj_list&ajax=1&course_code="+editor.course+"&get_mapping=1&from_myproject="+from_myproject}).then(function(b){b=JSON.parse(b);var c=b.obj;EXAMMAPPING=b.mapping;document.querySelectorAll(".parent_ul li").forEach(function(f){f.remove()});
if("null"!=c)for(var d in c){AI.insert(".parent_ul",'<li class="radio parent_li_'+d+' my-2" tag_guid="'+d+'"><label class="border exam_obj_label w-100 p rounded"><input type="checkbox" class="exam_obj_radio h" id="radio_'+d+'" name="exam_obj[]" value="'+d+'" /><div class="mt-sm"></div><span>'+c[d].n+'</span></label><ul class="child_ul list-unstyled"></ul></li>',"beforeend");for(var e in c[d].c)AI.insert(AI.select(".parent_li_"+d).querySelector(".child_ul"),'<li class="radio child_li pl-4 my-2" tag_guid="'+
e+'" ><label class="border exam_obj_label w-100 p rounded"><input type="checkbox" class="exam_obj_radio h" name="exam_obj[]" id="radio_'+e+'" value="'+e+'" /><div class="mt-sm"></div><span>'+c[d].c[e].n+"</span></label></li>","beforeend")}checkedExamObjective(a);AI.activate(0)})):checkedExamObjective(a)}
function searchText(a){document.querySelectorAll(".exam_modal_body ul > li").forEach(function(b){var c=b.textContent.toUpperCase(),d=a.value.toUpperCase();c.indexOf(d)!=-1?b.style.display="block":b.style.display="none"})}
function assignObjective(a){var b=AI.prevElm(a,"#guid_hidden").value;a=AI.select('input[name="exam_obj"]',"checked")[0].value;activate(1);AI.ajax({url:baseUrl+"?func=assign_exam_objective&course_code="+editor.course+">&content_guid="+b+"&tag_guid="+a+"&save=1"}).then(function(c){c=JSON.parse(c);AI.select("#exam_obj_"+b).remove();document.getElementById("test_"+b)&&AI.insert("#test_"+b,'<div class="mb-md" id="exam_obj_'+b+'"><b class="h">'+$l.exam_objective_uppercase+': </b><span class="parent'+b+
'"></span><span class="close pointer delete_tag float-right" content_guid="'+b+'">&times;</span><div><b class="exam_b">'+$l.exam_objective_uppercase+': </b><span class="tag_name'+b+'"></span></div></div>',"afterend");document.querySelector(".obj_"+b)&&AI.insert(".obj_"+b,'<div id="exam_obj_'+b+'" class="exam_objective mb-md"><span class="close pointer delete_tag float-right" content_guid="'+b+'">&times;</span><div class="float-left mt-sm mr"><img src="'+themeUrl+'images/certification_objective.png" alt="certification_objective"></div><div class="ml-xl pl-5 about font15 line_height1"><div class="h4">'+
l.exam_objectives+'</div><div class="parent'+b+'"></div><div class="tag_name'+b+'"></div></div></div>',"beforebegin");c.parent&&(document.getElementById("test_"+b)&&(document.querySelector(".exam_b").parentElement.style.textIndent="164px",document.querySelector(".parent"+b).previousElementSibling.classList.remove("h"),document.querySelectorAll(".exam_b").forEach(function(f){return f.style.display="none"})),document.querySelector(".obj_"+b)&&document.querySelector(".tag_name"+b).classList.add("sub_exam_obj"),
document.querySelector(".parent"+b).textContent=c.parent);for(var d in c)for(var e in c[d].exam_objective)document.querySelector(".tag_name"+b).textContent=c[d].exam_objective[e];AI.showmsg("Exam objective saved successfully!");activate(0)})}
function selectObjRadio(a){false==a.checked?(a.parentElement&&(a.parentElement.style.background="#fff"),AI.selectAll("#assign_exam_obj","removeAttr","disabled")):(AI.select("#assign_exam_obj").disabled=!0,a.parentElement&&(a.parentElement.style.background="#e3e3eb"))}
function formatXml(a,b){var c=b||!1;if(c)var d=a.match(/\x3c!--\[CDATA\[[\s\S]*?\]\]--\x3e/gim);a=a.replace(/\t/g,"");a=a.replace(/(>)(<)(\/*)/g,"$1\n$2$3").replace(/ *(.*) +\n/g,"$1\n").replace(/(<.+>)(.+\n)/g,"$1\n$2");c&&(c=a.match(/\x3c!--\[CDATA\[[\s\S]*?\]\]--\x3e/gim),a=a.replace(c,d));d="";c=a.split("\n");for(var e=0,f="other",g={"single->single":0,"single->closing":-1,"single->opening":0,"single->other":0,"closing->single":0,"closing->closing":-1,"closing->opening":0,"closing->other":0,"opening->single":1,
"opening->closing":0,"opening->opening":1,"opening->other":1,"other->single":0,"other->closing":-1,"other->opening":0,"other->other":0},k=0;k<c.length;k++){var m=c[k];if(""!=m){var n=!!m.match(/<.+\/>/),h=!!m.match(/<\/.+>/),p=!!m.match(/<[^!].*>/);h=n?"single":h?"closing":p?"opening":"other";n=f+"->"+h;f=h;h="";e+=g[n];for(p=0;p<e;p++)h+="\t";d="opening->closing"==n?d.substr(0,d.length-1)+m+"\n":d+(h+m+"\n")}}return d};
function functionForFullscreen(){var e=document.getElementById("authoringFrame");BigScreen.enabled&&BigScreen.toggle(e),BigScreen.onenter=function(){document.querySelector("#authoringFrame").contentDocument.querySelector("#fullScreenButton").innerText="Back To Editor";const e=document.querySelector("#authoringFrame").contentDocument.querySelector("#smartFullscr i");e&&(e.classList.remove("icomoon-expand"),e.classList.add("icomoon-contract"));const t=document.querySelectorAll(".educator_my_items");t.length>0&&t.forEach(e=>e.setAttribute("style","position: relative; z-index: -1;"));const o=document.querySelectorAll("#titlebar");o.length>0&&o.forEach(e=>e.setAttribute("style","display: none;"));const n=document.querySelectorAll("#bottombar");n.length>0&&n.forEach(e=>e.setAttribute("style","display: none"))},BigScreen.onexit=function(){document.querySelector("#authoringFrame").contentDocument.querySelector("#fullScreenButton").innerText="FullScreen";const e=document.querySelector("#authoringFrame").contentDocument.querySelector("#smartFullscr i");e&&(e.classList.add("icomoon-expand"),e.classList.remove("icomoon-contract"));const t=document.querySelectorAll(".educator_my_items");t.length>0&&t.forEach(e=>e.setAttribute("style","z-index: initial;"));const o=document.querySelectorAll("#titlebar");o.length>0&&o.forEach(e=>e.setAttribute("style","display: block;"));const n=document.querySelectorAll("#bottombar");n.length>0&&n.forEach(e=>e.setAttribute("style","display: block"))}}
function scrollToTop(n){if(0===document.scrollingElement.scrollTop)return;const l=document.scrollingElement.scrollTop;let o=l,e=null;window.requestAnimationFrame(function t(c){if(null!==e){if((o-=l*(c-e)/n)<=0)return document.scrollingElement.scrollTop=0;document.scrollingElement.scrollTop=o}e=c,window.requestAnimationFrame(t)})}function scrollnow(n){}
var UCUTIL=UCUTIL||{};function getTestFrameworkDetail(t){const e=document.querySelector("#uc-item-test-template");if(e){var r=e.setAttribute("temp_test_view");return!t&&r&&""!=r?r:e.attr("view")}return-1}function createPlayerEmbed(t,e,r,i,a){var l="";return r=r||!1,e=e||!1,a=a||!1,"inline"==t?l='<iframe tabindex="0" title="'+e+'" src="'+r+'" onload="autoResize(this.id)" allow="fullscreen" allowfullscreen="true" webkitallowfullscreen="true" mozallowfullscreen="true"'+i+"></iframe>":"overlay"==t?l='<button tabindex="0" type="button" '+i+">"+a+"</button>":"new_tab"==t&&(l='<a tabindex="0" href="'+r+'" target="_blank" '+i+">"+a+"</a>"),l}function getPlayerAttrVal(t,e){var r="",i="",a="";return t.getAttribute(e)?a=t.getAttribute(e):(t.getAttribute("option")&&t.getAttribute("option")&&(r=UCUTIL.parseJSON(t.getAttribute("option"))),t.getAttribute("styles")&&t.getAttribute("styles")&&(i=UCUTIL.parseJSON(t.getAttribute("styles"))),null!=r[e]?a=r[e]:null!=i[e]&&(item_val=i[e],a=isNaN(item_val)||-1!=item_val.indexOf("px")||-1!=item_val.indexOf("%")?item_val:item_val+"px")),a}function createSimulationHtml(t,e,r,i,a,l,n,s,o){var c,u=[],b=[],d="",m="",f="",p="";title="";var g,y,_='<div class="alert alert-info clearfix lab-title p-md">',v="",A=new Array;for(a.getAttribute("title")&&(title=a.getAttribute("title")),""!=t&&(t=t.split("-")),document.querySelectorAll("#user_answer_details").length>0&&(u=(u=(u=document.querySelector("#user_answer_details").value).replace("\x3c!--[CDATA[","").replace("]]--\x3e","")).split("\n")),""!=e&&(b=e.split("|")),b=(b=[...b,...u]).filter(t=>t),g=0;g<b.length;g++){var h=b[g].split("=");v+="&default["+h[0]+"]="+h[1]}if(""!=r&&(A=r.split("|")),""!=title?_+='<span class="float-left" style="padding-top: 5px;">'+title+"</span>":_+='<span class="float-left" style="padding-top: 5px;">&nbsp;</span>',d=1==l&&"assessment"==sub_type?"javascipt:;' disabled='disabled'":baseUrl+"sim/?module="+t[0]+"&type="+t[1]+"&version="+t[2]+"&is_player=1"+v,c=getPlayerAttrVal(a,"button_name"),a.getAttribute("correct")||"inline"==i?(d+="&show_click=1",p=1):(a.getAttribute("is_sql")||"overlay"==i)&&(m=1),n?(hint_btn='<button tabindex="0" type="button" style="margin-left:5px; background: #9B9B9B;" class="btn text-white" id="hintBtn'+s+"\" onclick=\"swal({title:'Hint', text:'"+n+"'});\">Hint</button>",n=""):hint_btn="",1==p){if(d+="&is_single=1",void 0===u&&(u=new Array),A.length>0&&1==l){var w='<table class="external"><tr><th>Correct Answer</th><th>Your Answer</th></tr>',x="",T="";if(sql_correct=A[0].split("="),"query_editor_area"==sql_correct[0])x+=sql_correct[1];else for(g=0;g<A.length;g++){var L=A[g].substring(A[g].lastIndexOf("~"),A[g].length);"~i"==L&&(A[g]=A[g].replace(L,"")),x+=A[g]+"</br>"}for(g=0;g<u.length;g++){let t=u[g].split("=");"query_editor_area"==t[0]?T+=t[1]+"<br>":T+=void 0!==u[g]?u[g]+"</br>":""}w+="<tr><td>"+x+"</td><td>"+T+"</td></tr></table>",y=a,"split"===getTestFrameworkDetail()&&(y=document.querySelector("#item_answer")),y.innerHTML+=w}else if(A.length>0){if(activate(1),y=a,"split"===getTestFrameworkDetail()){var S=a.cloneNode();a.remove(),document.querySelector("#specialModuleExtQuestion").innerHTML+=S,y=document.querySelector("player[type='external']")}f='id="msoffice_frame" frameBorder="0" correct="'+r+'" user_answer="'+u.join("|")+'" onload="autoResize(this.id)" scrolling="no" player_id="'+s+'"',y.innerHTML+=createPlayerEmbed("inline",o,d+"&wmode=transparent",f),setTimeout(function(){activate(0)},5e3)}else if(!a.getAttribute("try_me")&&"inline"!=a.getAttribute("try_me")){var U=a.getAttribute("custum-btn")?"":'<p tabindex="0" class="try-me-s">Click to see me in action</p>';const t=a.children||[];for(let e of t)e.innerHTML='<a tabindex="'+tabindex.n+'" href="'+d+'&nozoom=1" style="position:relative;display:inline-block;" onclick="return open_single_lab(this)">'+e.innerHTML+"</a>",e.querySelector("a").insertAdjacentHTML("afterbegin",U);a.querySelector("img").classList.add("noImgModal")}}else a.getAttribute("guids")&&""!=a.getAttribute("guids")?(""==title&&(title="Try it"),d+="&no_action=1&content_guid="+a.getAttribute("guids"),a.insertAdjacentHTML("afterbegin",'<a tabindex="0" class="btn btn-primary startlab focus_lab" href="'+d+'" target="_blank">'+title+"</a>")):""!=m?(f="class='btn btn-success startlab"+s+"' onclick='bindSql(\""+(d+="&is_single=1")+'", '+s+")'",a.insertAdjacentHTML("afterbegin","<div class='text-center'>"+createPlayerEmbed("overlay",!1,!1,f,c||"Start Lab")+hint_btn+"</div>")):"new_tab"==i?(f='class="btn btn-primary float-right startlab"',a.insertAdjacentHTML("afterbegin",_+createPlayerEmbed(i,!1,d,f,c||"Start Lab")+"</div>")):a.insertAdjacentHTML("afterbegin",_+'<a tabindex="0" class="btn btn-primary float-right startlab" href="'+d+'" target="_blank">Start Lab</a></div>')}UCUTIL.overlay={ui:function(t){return{1:'<div id="modal-from-test" class="modal test-modal" tabindex="-1"><div class="modal-body pt-0"><iframe title="Overlay window" name="test_frame" id="test_frame" frameBorder="0" src="" allowfullscreen="true"></iframe></div></div>'}[t]}},UCUTIL.parseJSON=function(t,e){var r=e||!1;try{return JSON.parse(t)}catch(t){return r&&console.warn(t),{}}},UCUTIL.param2Url=function(t){var e=[];for(var r in t){var i=r+"="+t[r];e.push(i)}return e.join("&")};
const AH={jsAction:function(e,t){if(e instanceof HTMLElement||e instanceof Node)switch(t.action){case"show":e.style.display=t.actionData||"";break;case"hide":e.style.display="none";break;case"toggleDisplay":e.style.display="none"==e.style.display?"block":"none";break;case"addClass":"object"==typeof t.actionData?e.classList.add(...t.actionData):e.classList.add(t.actionData);break;case"removeClass":"object"==typeof t.actionData?e.classList.remove(...t.actionData):e.classList.remove(t.actionData);break;case"toggleClass":e.classList.toggle(t.actionData);break;case"html":e.innerHTML=t.actionData;break;case"value":e.value=t.actionData;break;case"text":e.textContent=t.actionData;break;case"checked":e.checked=t.actionData;break;case"remove":e.remove();break;case"removeAttr":e.removeAttribute(t.actionData);break;case"css":this.setCss(e,t.actionData);break;case"attr":this.setAttr(e,t.actionData);break;case"data":this.setData(e,t.actionData);break;case"getData":this.getData(e,t.actionData)}},selectAll:function(e,t,a){let l="object"==typeof e?e:document.querySelectorAll(e);return l&&l.length>0&&t&&Array.prototype.forEach.call(l,e=>this.jsAction(e,{action:t,actionData:a})),l},setAttr:function(e,t){let a="object"==typeof e?e:document.querySelector(e);if(a)for(let e in t)a.setAttribute(e,t[e]);return a||{}},setCss:function(e,t){let a="object"==typeof e?e:document.querySelector(e);if(a)for(let e in t)a.style&&(a.style[e]=t[e]);return a||{}},ajax:function(e){let t="";if("object"==typeof e.data)if(e.formData)t=e.data;else if(e.withUrl){let t="?";for(let a in e.data)"object"!=typeof e.data[a]&&(t+="&"+a+"="+e.data[a]);e.url+=t}else{t=new FormData;for(let a in e.data)"object"==typeof e.data[a]&&this.isValid(e.data[a])?t=this.jsonFormEncode(t,a,e.data[a]):t.append(a,e.data[a])}return new Promise((a,l)=>{const r=new XMLHttpRequest;r.open(e.type||"POST",e.url,!0),e.responseType&&(r.responseType=e.responseType),r.onreadystatechange=(e=>{if(4==r.readyState&&200===r.status)try{a(r.responseText,e)}catch(e){l(e)}}),r.onerror=(e=>{l(e)}),e.onStart&&(r.onloadstart=e.onStart),e.onEnd&&(r.onloadend=e.onEnd),r.send(t)})},jsonFormEncode:function(e,t,a){try{if(Array.isArray(a))for(let l=0;l<a.length;l++)for(let r in a[l])e.append(`${t}[${l}][${r}]`,a[l][r]);else for(var l in a)e.append(`${t}[${l}]`,a[l])}catch(e){console.warn("Please provide valid JSON Object in ajax data."+e)}return e},addScript:function(e,t,a={}){let l=document.createElement("script");return t?(l.src=t,l.async=!0,a.callback&&(l.onload=function(){a.callback()})):l.innerHTML=e,(a.target?document.body:document.head).append(l),l},activate(e){document.querySelector("#activateLoaderContainer")&&document.querySelector("#activateLoaderContainer").remove(),e>0&&document.body.insertAdjacentHTML("afterend",'<div id="activateLoaderContainer" class="activateOverlay" style="z-index:9999999;"><center><div class="activator" style="height:100px; width: 100px;"></div></center></div>')}};
var html_editor=[],evalInline={getRegString:function(e,t,a){a=a?1:0;var l=new RegExp("\\<"+e+"\\>([\\s\\S]*?)\\<\\/"+e+"\\>","gm").exec(t),r="";return l&&(r=l[1],r=a?r:r.replace(/</g,"&lt;").replace(/>/,"&gt;")),r},createEditor:function(e,t,a,l,r){e.disabled=!0,AH.activate(1),a="html"==a?"xml":a,"function"!=typeof CodeMirror?AH.ajax({type:"POST",longData:!0,url:themeUrl+"svelte_items/lib/merged_codemirror.txt"}).then(n=>{const i=n.split("<\/script>");i[0]=i[0].replace("<script>",""),AH.addScript(i[0],"",{target:"body"});const s=document.createElement("style");i[1]=i[1].replace("<style>",""),i[1]=i[1].replace("</style>",""),s.innerHTML=i[1],document.head.append(s),setTimeout(()=>evalInline.renderEditor(e,t,a,l,r),500),AH.selectAll("#printPanel"+t,"hide"),AH.activate(0)}):(AH.selectAll("#printPanel"+t,"hide"),setTimeout(()=>evalInline.renderEditor(e,t,a,l,r),500),AH.activate(0))},getBack:function(e){AH.selectAll("#printPanel"+e,"show"),AH.selectAll("#evalCreator"+e,"attr",{disabled:!1}),AH.selectAll("#editorPanel"+e,"hide"),AH.selectAll("#framePanel"+e,"hide")},renderEditor:function(e,t,a,l,r){AH.selectAll("#framePanel"+t,"attr",{style:"width:38.3%;float:left;margin-left:5px;"}),AH.selectAll("#editorPanel"+t,"attr",{style:"width:59.6%;float:left;min-height:580px"}),r>0&&(AH.selectAll("#editorPanel"+t+" .panel-heading,#framePanel"+t+" .panel-heading, #framePanel"+t+".panel.panel-default.mb","attr",{style:" background: #474747;border-color: #000;color: #d5d5d5 !important;"}),AH.selectAll("#framePanel"+t+" textarea","attr",{style:"background: #272822;color: #fff;"})),AH.selectAll("#framePanel"+t,"attr",{class:""}),AH.selectAll("#editorPanel"+t,"attr",{class:""});var n=document.querySelector("#htmlEditor"+t);n.style.border="0";var i=n.firstElementChild.innerText;i||(i=n.firstElementChild.value),n.innerHTML='<textarea class="h" id="htmlText'+t+'"></textarea>',AH.selectAll("#htmlText"+t,"value",i);var s=document.querySelector("#htmlEditor"+t+" textarea");html_editor[t]=CodeMirror.fromTextArea(s,{lineNumbers:!0,mode:"xml"==a?"xml":"text/x-"+a,styleActiveLine:!0,autoCloseBrackets:!0,theme:r?"monokai":"default",lineWrapping:!0,scrollbarStyle:"simple",matchBrackets:!0,gutters:["CodeMirror-linenumbers","breakpoints"]}),AH.selectAll(".CodeMirror","css",{"min-height":"580px","max-height":"580px",border:"0","line-height":"1.2","font-size":"16px"}),AH.selectAll("#frameDiv"+t,"css",{height:"458.5px",position:"relative"}),AH.selectAll(".CodeMirror-scroll","css",{"min-height":"558px","max-height":"558px"}),AH.selectAll(".CodeMirror-gutters","css",{height:"580px"}),l<2&&(AH.selectAll("#inputPanel"+t,"hide"),AH.selectAll("#frameDiv"+t,"css",{height:"580.5px"}))},sendToFrame:function(e,t,a,l){AH.selectAll("#runBtn"+e,"attr",{disabled:!0}),t=t||0;var r,n=evalInline.getCode(e),i=["mp4","ogg","webm","mp3","wav"],s=["gif","tif","png","jpg"];n=(n=n.replace(/src[ ]*=[ ]*['"](.*?)['"]/gm,function(e,t){if(t){for(r=0;r<i.length;r++)if(t.includes(i[r]))return e.replace(t,"https://s3.amazonaws.com/jigyaasa_content_stream/"+t);for(r=0;r<s.length;r++)if(t.includes(s[r]))return e.replace(t,"https://s3.amazonaws.com/jigyaasa_content_static/"+t)}})).replace(/url\(['"](.*?)['"]\)/g,'url("https://s3.amazonaws.com/jigyaasa_content_static/$1")');var o=document.querySelector("#frameDiv"+e);if(o.style.position="relative",o.style.overflow="auto",AH.activate(1,"#frameDiv"+e,"","absolute"),t)t>1&&evalInline.executeTestCases(e),evalInline.runEvalPro(e,n,a,0,l);else{var c=document.createElement("iframe");c.className="fwidth bg-white border-0",c.style.height="564px",c.style.width="600px",o.innerHTML="",o.appendChild(c);var d=o.firstElementChild.contentDocument;d.open(),d.write(n),d.close(),AH.activate(0),AH.selectAll("#runBtn"+e,"attr",{disabled:!1})}},getCode:function(e){return html_editor[e].getValue()},executeTestCases:function(e){var t=AH.select("#evalXML"+e).value,a=evalInline.getCode(e);t=t.replace(/\<editor\>[\s\S]*?\<\/editor\>/g,"<editor>"+a+"</editor>"),t=encodeURIComponent(t),AH.ajax({type:"POST",url:baseUrl+"sim/evalpro/?user_code="+t+"&execute_testcases=1&isCompiled=0"}).then(function(t){1==t?AH.selectAll("#evalCheck"+e,"html",'<span class="item_score font-weight-bold"><span class="label-correct">Correct</span></span>'):AH.selectAll("#evalCheck"+e,"html",'<span class="item_score font-weight-bold"><span class="label-incorrect">Incorrect</span></span>'),AH.selectAll("#runBtn"+e,"attr",{disabled:!1})})},resetDb:function(e,t,a){AH.activate(1,"#frameDiv"+a,"","absolute"),AH.selectAll("#resetBtn"+a,"attr",{disabled:!1}),t=t||"myDBs",AH.ajax({type:"POST",url:baseUrl+"sim/evalpro/index.php",data:{ajax:1,in_editor:0,user_guid:e,resetDB:1}}).then(function(){AH.selectAll("#frameDiv"+a,"html","<div class='fwidth bg-white border-0 font14' style='height:282px'>Database reset complete!</div>"),AH.selectAll("#resetBtn"+a,"attr",{disabled:!1})})},runEvalPro:function(e,t,a,l,r){r=r||"myDBs";var n=AH.select("#evalXML"+e).value;t=evalInline.getRegString("pre",n,1)+t+evalInline.getRegString("post",n,1),l=l||AH.select("#evalInput"+e).value;AH.ajax({type:"POST",url:baseUrl+"sim/evalpro/",data:{code:t,repltype:a,stdin:l,user_guid:user_guid,dbName:r,run_code:1}}).then(function(t){AH.activate(0);var a=t.output?t.output:t.stderr?t.stderr:"Your code didn't print anything...";AH.selectAll("#frameDiv"+e,"html","<div class='fwidth bg-white border-0 font14' style='height:282px'>"+a+"</div>"),AH.selectAll("#runBtn"+e,"attr",{disabled:!1})})}};
function createPlaygroundHtml(e,t,a,l,r,n){var i=/language="(\w+)"/g.exec(e),s="",o="";if(i&&(i=i[1]),e){if(e.indexOf('type="22"')>-1){i="html";var c=evalInline.getRegString("tag",e),d=evalInline.getRegString("css",e),p=evalInline.getRegString("js",e);o=c+(d=d.length>1?"&lt;style&gt;"+d+"&lt;/style&gt;\n":"")+(p=p.length>1?"&lt;script&gt;"+p+"&lt;/script&gt;":"")}else{var u=evalInline.getRegString("editor",e),m=evalInline.getRegString("case",e);s=(s=/db_name="(.*?)"/gim.exec(e))?s[1]:"";var v=m.replace(/\|\d+/g,"").replace(",","\n");o=u}r.innerHTML='<div class="row"><textarea class="h-imp" id="evalXML'+l+'">'+e.replace(/</g,"&lt;").replace(/>/g,"&gt;")+'</textarea><div id="printPanel'+l+'" class="col-md-12"><div class="card"><div class="card-header height44">'+n+'<div class="d-inline-block ml" id="evalPCheck'+l+'"></div><button id="evalCreator'+l+'" onclick="evalInline.createEditor(this,'+l+",'"+i+"',"+t+","+a+')" style="margin-top: -8px" type="button" class="btn btn-primary m-t-n-xs float-right"><i class="fa fa-code"></i> Run</button></div><div id="htmlPEditor'+l+'" class="card-body p-0 border-0"><pre class="prettyprint black linenums mb-0">'+o+'</pre></div></div></div><div id="editorPanel'+l+'" class="h" style="max-height:500px;" class="col-md-12"><div class="card"><div class="card-header height44">'+n+'<div class="d-inline-block ml" id="evalCheck'+l+'"></div><button class="btn btn-success float-right" style="margin-top: -8px" onclick="evalInline.sendToFrame('+l+","+t+",'"+i+"','"+s+'\')"><i class="fa fa-code"></i> Run</button><button type="button" class="btn btn-danger mr-sm float-right mr-1" style="margin-top: -8px" onclick="evalInline.getBack('+l+')">Back</button>'+(s?'<button type="button" id="resetBtn'+l+'" class="btn btn-danger mr-sm float-right mr-1" style="margin-top: -8px" onclick="evalInline.resetDb(\''+user_guid+"','"+s+"',"+l+')">ResetDB</button>':"")+'</div><div id="htmlEditor'+l+'" class="card-body p-0 border-0"><pre class="prettyprint black linenums mb-0">'+o+'</pre></div></div></div><div id="framePanel'+l+'" class="h-imp"><div class="card mb" id="inputPanel'+l+'"><div class="card-header height44">Input</div><div id="inputDiv'+l+'" class="card-body p-0"><textarea rows="3" placeholder="Enter your input seperated by Enter.." class="form-control border-0 resize_none outline0 shadow-none p" id="evalInput'+l+'" autofocus>'+v+'</textarea></div></div><div class="card"><div class="card-header height44">Output</div><div id="frameDiv'+l+'" class="card-body p" style="resize: both;overflow: auto;background:#fff"></div></div></div></div>',prettyPrint()}}