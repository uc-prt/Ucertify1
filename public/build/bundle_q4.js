var app=function(){"use strict";function t(){}function e(t){return t()}function n(){return Object.create(null)}function i(t){t.forEach(e)}function r(t){return"function"==typeof t}function o(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}let s,a;function l(t,e){return s||(s=document.createElement("a")),s.href=e,t===s.href}function c(t){return null==t?"":t}function d(t,e){t.appendChild(e)}function h(t,e,n){var i;const r=function(t){const e=function(t){return t?t.getRootNode?t.getRootNode():t.ownerDocument:document}(t);return e.host,e}(t);if(!(null===(i=r)||void 0===i?void 0:i.getElementById(e))){const t=m("style");t.id=e,t.textContent=n,function(t,e){d(t.head||t,e)}(r,t)}}function p(t,e,n){t.insertBefore(e,n||null)}function u(t){t.parentNode.removeChild(t)}function m(t){return document.createElement(t)}function g(t){return document.createTextNode(t)}function f(){return g(" ")}function y(){return g("")}function w(t,e,n,i){return t.addEventListener(e,n,i),()=>t.removeEventListener(e,n,i)}function v(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function b(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}function x(t,e,n,i){t.style.setProperty(e,n,i?"important":"")}function A(t,e,n){t.classList[n?"add":"remove"](e)}class _{constructor(){this.e=this.n=null}c(t){this.h(t)}m(t,e,n=null){this.e||(this.e=m(e.nodeName),this.t=e,this.c(t)),this.i(n)}h(t){this.e.innerHTML=t,this.n=Array.from(this.e.childNodes)}i(t){for(let e=0;e<this.n.length;e+=1)p(this.t,this.n[e],t)}p(t){this.d(),this.h(t),this.i(this.a)}d(){this.n.forEach(u)}}function S(t){a=t}function k(){if(!a)throw new Error("Function called outside component initialization");return a}function T(t){k().$$.on_mount.push(t)}function E(){const t=k();return(e,n)=>{const i=t.$$.callbacks[e];if(i){const r=function(t,e,n=!1){const i=document.createEvent("CustomEvent");return i.initCustomEvent(t,n,!1,e),i}(e,n);i.slice().forEach((e=>{e.call(t,r)}))}}}const C=[],D=[],N=[],I=[],O=Promise.resolve();let M=!1;function j(){M||(M=!0,O.then(H))}function L(t){N.push(t)}let $=!1;const P=new Set;function H(){if(!$){$=!0;do{for(let t=0;t<C.length;t+=1){const e=C[t];S(e),R(e.$$)}for(S(null),C.length=0;D.length;)D.pop()();for(let t=0;t<N.length;t+=1){const e=N[t];P.has(e)||(P.add(e),e())}N.length=0}while(C.length);for(;I.length;)I.pop()();M=!1,$=!1,P.clear()}}function R(t){if(null!==t.fragment){t.update(),i(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(L)}}const q=new Set;let X;function B(t,e){t&&t.i&&(q.delete(t),t.i(e))}function F(t,e,n,i){if(t&&t.o){if(q.has(t))return;q.add(t),X.c.push((()=>{q.delete(t),i&&(n&&t.d(1),i())})),t.o(e)}}function J(t){t&&t.c()}function z(t,n,o,s){const{fragment:a,on_mount:l,on_destroy:c,after_update:d}=t.$$;a&&a.m(n,o),s||L((()=>{const n=l.map(e).filter(r);c?c.push(...n):i(n),t.$$.on_mount=[]})),d.forEach(L)}function U(t,e){const n=t.$$;null!==n.fragment&&(i(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function W(e,r,o,s,l,c,d,h=[-1]){const p=a;S(e);const m=e.$$={fragment:null,ctx:null,props:c,update:t,not_equal:l,bound:n(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(p?p.$$.context:r.context||[]),callbacks:n(),dirty:h,skip_bound:!1,root:r.target||p.$$.root};d&&d(m.root);let g=!1;if(m.ctx=o?o(e,r.props||{},((t,n,...i)=>{const r=i.length?i[0]:n;return m.ctx&&l(m.ctx[t],m.ctx[t]=r)&&(!m.skip_bound&&m.bound[t]&&m.bound[t](r),g&&function(t,e){-1===t.$$.dirty[0]&&(C.push(t),j(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}(e,t)),n})):[],m.update(),g=!0,i(m.before_update),m.fragment=!!s&&s(m.ctx),r.target){if(r.hydrate){const t=function(t){return Array.from(t.childNodes)}(r.target);m.fragment&&m.fragment.l(t),t.forEach(u)}else m.fragment&&m.fragment.c();r.intro&&B(e.$$.fragment),z(e,r.target,r.anchor,r.customElement),H()}S(p)}class Y{$destroy(){U(this,1),this.$destroy=t}$on(t,e){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(t){var e;this.$$set&&(e=t,0!==Object.keys(e).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}function V(t,e={}){const n="tagin-tag",i="tagin-tag-remove",r="tagin-input",o=t.dataset.separator||e.separator||",",s=t.dataset.duplicate||e.duplicate||"false",a=(0,eval)(t.dataset.transform)||e.transform||(t=>t),l=t.dataset.placeholder||e.placeholder||"",c=t=>`<span class="tagin-tag">${t}<span class="${i}"></span></span>`,d=()=>t.value,h=()=>d().split(o);!function(){const e=`<div class="${"tagin-wrapper "+t.className.replace("tagin","").trim()}">${""===d().trim()?"":h().map(c).join("")}<input type="text" class="tagin-input" placeholder="${l}"></div>`;t.insertAdjacentHTML("afterend",e)}();const p=t.nextElementSibling,u=p.getElementsByClassName(r)[0],m=()=>[...p.getElementsByClassName(n)].map((t=>t.textContent)),g=()=>m().join(o),f=()=>{t.value=g(),t.dispatchEvent(new Event("change"))};function y(){const t=document.createElement("div");t.classList.add(r,"tagin-input-hidden");const e=u.value||u.getAttribute("placeholder")||"";t.innerHTML=e.replace(/ /g,"&nbsp;"),document.body.appendChild(t),u.style.setProperty("width",Math.ceil(window.getComputedStyle(t).width.replace("px",""))+1+"px"),t.remove()}function w(t=!1){const e=a(u.value.replace(new RegExp(function(t){return t.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}(o),"g"),"").trim());""===e&&(u.value=""),(u.value.includes(o)||t&&""!=u.value)&&(m().includes(e)&&"false"===s?function(t){for(const e of p.getElementsByClassName(n))e.textContent===t&&(e.style.transform="scale(1.09)",setTimeout((()=>{e.removeAttribute("style")}),150))}(e):(u.insertAdjacentHTML("beforebegin",c(e)),f()),u.value="",u.removeAttribute("style"))}p.addEventListener("click",(()=>u.focus())),u.addEventListener("focus",(()=>p.classList.add("focus"))),u.addEventListener("blur",(()=>p.classList.remove("focus"))),document.addEventListener("click",(t=>{t.target.closest("."+i)&&(t.target.closest("."+i).parentNode.remove(),f())})),u.addEventListener("keydown",(t=>{""===u.value&&8===t.keyCode&&p.getElementsByClassName(n).length&&(p.querySelector(".tagin-tag:last-of-type").remove(),f())})),u.addEventListener("input",(()=>{w(),y()})),u.addEventListener("blur",(()=>{w(!0),y()})),y(),t.addEventListener("change",(()=>{d()!==g()&&([...p.getElementsByClassName(n)].map((t=>t.remove())),""!==d().trim()&&u.insertAdjacentHTML("beforebegin",h().map(c).join("")))}))}var Q=".tagin{display:none}.tagin-wrapper{border: 1px solid #ccc;display:flex;flex-wrap:wrap;height:auto;padding:calc(.375rem - 2px) calc(.75rem - 2px);position:relative;overflow:hidden;cursor:text}.tagin-wrapper.focus{color:#495057;background-color:#fff;border-color:#80bdff;outline:0;box-shadow:0 0 0 .2rem rgba(0,123,255,.25)}.tagin.is-valid+.tagin-wrapper,.was-validated .tagin:valid+.tagin-wrapper{border-color:#28a745}.tagin.is-invalid+.tagin-wrapper,.was-validated .tagin:invalid+.tagin-wrapper{border-color:#dc3545}.tagin-tag{border-radius:.25rem;color:#fff;border:0;padding:0 4px;display:inline-flex;align-items:center;height:24px;margin:2px;font-weight:300;background-color:#6c757d;transition:transform .1s}.tagin-tag-remove{margin-left:2px;width:18px;height:18px;cursor:pointer;background-image:url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='%23a0aec0' width='18px' height='18px'%3E%3Cpath d='M0 0h24v24H0z' fill='none'/%3E%3Cpath d='M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12 17 15.59z'/%3E%3C/svg%3E\")}.tagin-tag-remove:hover{background-image:url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='white' width='18px' height='18px'%3E%3Cpath d='M0 0h24v24H0z' fill='none'/%3E%3Cpath d='M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12 17 15.59z'/%3E%3C/svg%3E\")}.tagin-input{margin-left:2px;border-color:transparent;outline:0;border-width:1px 0;padding:0 2px 0 0;height:28px;color:#495057}.tagin-input:not(.tagin-input-hidden){width:4px;min-width:4px}.tagin-input-hidden{position:absolute;top:0;left:-9999px;overflow:hidden;visibility:hidden;white-space:nowrap";class K extends class{constructor(t){this._servers=["http://localhost/pe-gold3/","https://www.ucertify.com/","https://www.jigyaasa.info/","http://172.10.195.203/pe-gold3/"],this._REMOTE_API_URL=this._servers[1]+"pe-api/1/index.php",this._client={email:"pradeep.yadav@ucertify.com",password:"786pradeep",isSocial:"false",clientId:"040MA"}}validateApp(t){return new Promise(((e,n)=>{let i=t?"&action=refresh_token&refresh_token=1":"",r=this._client.isSocial?"&social_login=1":"",o=`${this._REMOTE_API_URL}?func=cat2.authenticate&device_id=${this._client.clientId}&email=${this._client.email}&password=${this._client.password+r+i}`,s=new XMLHttpRequest;s.open("POST",o,!0),s.onreadystatechange=t=>{if(4==s.readyState&&200===s.status)try{let t=s.responseText.match(/<jsonstring>(.*?)<\/jsonstring>/);e(JSON.parse(t[1]))}catch(t){n(t)}},s.onerror=t=>{n(t)},t&&s.setRequestHeader("old-access-token",globalThis.apiAccessToken),s.send()}))}getAPIDataJ(t,e,n=function(){}){let i="",r={},o="",s=e.ajax_info||{};if(e=this._assignPartial(e,{},"ajax_info",!0),r.device_id=this._client.clientId,"object"==typeof e)for(let t in e)"object"!=typeof e[t]&&(i+="&"+t+"="+e[t]);if(void 0!==t&&""!=t){for(let t in r)"object"!=typeof r[t]&&(o+="&"+t+"="+r[t]);o+="&func="+t}this.getAPIDataJSON(this._REMOTE_API_URL+"?"+o+"&debug=0&"+i,i,s,(i=>{"Expired"==i?this.getAPIDataJ(t,e,n):n(i)}),t)}getAPIDataJSON(t,e,n,i=function(){},r){let o=new XMLHttpRequest;o.open("POST",t,!0),o.onreadystatechange=t=>{if(4==o.readyState&&200===o.status){let t=o.responseText,n={};try{let e=t.match(/<jsonstring>(.*?)<\/jsonstring>/);if(""!=e[1]){let t=JSON.parse(e[1]);if(t.error&&["Expired","-9"].includes(t.error.error_id))return console.log("Api Error = ",t.error.error_id),void this.validateApp(-9!=t.error.error_id).then((t=>{"Success"==t.status&&(this.setAccessKey(t),i("Expired"))})).catch((t=>{console.log(t)}));t.response?(n=t.response,console.warn("Api data J reponse <-- Received --\x3e",t)):null==t.response&&null==t.error?(n=t,console.warn("Api data J reponse <-- Received II--\x3e",n)):(n=void 0,console.warn({Response_error:t.error}))}}catch(i){if(console.warn("Please check your Internet connection."),console.log("Api data error = ",t),!e.includes("must_reply_override"))return 0;n=void 0}i(n)}},e.includes("no_access_token_required")||o.setRequestHeader("access-token",globalThis.apiAccessToken),o.setRequestHeader("Content-type","application/json"),o.setRequestHeader("Access-Control-Allow-Origin","*"),o.setRequestHeader("Access-Control-Allow-Headers","*"),o.send()}_assignPartial(t,e={},n,i=!1){if(n=n.split(","),i)for(let i in t){-1===n.indexOf(i)&&(e[i]=t[i])}else for(let i in n){let r=n[i];void 0!==t[r]&&(e[r]=t[r])}return e}setAccessKey(t){t.access_token&&t.access_token.length>50&&(globalThis.apiAccessToken=t.access_token,"undefined"!=typeof Storage&&localStorage.setItem("apiAccessToken",t.access_token))}}{constructor(t){super(),this.trackInf={},this.buffer={},this.bsCat1=["Modal","Tooltip","Collapse","Popover","ScrollSpy","Tab","Alert","Dropdown"],this.extraSelectors=["hidden","visible","selected","checked","enabled","children","childNodes"],this.parseHtml=this.templateHtml.bind(this),this.isSSDloaded="",this.loadSSD()}loadSSD(){"object"==typeof globalThis?(globalThis.eventTracker=globalThis.eventTracker||{},globalThis.JUITemp=globalThis.JUITemp||{}):this.isSSDloaded=setInterval((()=>{"object"==typeof globalThis&&(globalThis.eventTracker=globalThis.eventTracker||{},globalThis.JUITemp=globalThis.JUITemp||{},clearInterval(this.isSSDloaded))}),500)}validate(t){return new Promise(((e,n)=>{this.validateApp(t).then((t=>{if("Success"!=t.status)n(t);else try{this.setAccessKey(t),e(t)}catch(t){n(t)}})).catch((t=>{n(t)}))}))}param2Url(t){let e=[];for(var n in t){var i=n+"="+t[n];e.push(i)}return e.join("&")}unique(t){return t.filter(((t,e,n)=>n.indexOf(t)===e))}parseJSON(t,e){let n=e||!1;try{return JSON.parse(t)}catch(t){return n&&console.warn(t),{}}}parseDom(t){return(new DOMParser).parseFromString(t,"text/html")}addScript(t,e,n={}){let i=document.createElement("script");return e?(i.src=e,i.async=!0,n.callback&&(i.onload=function(){n.callback()})):i.innerHTML=t,(n.target?document.body:document.head).append(i),i}createLink(t,e={}){let n=document.createElement("link"),i=e.target?document.body:document.head;return n.href=t,e.preload?(n.rel="preload",n.onload=function(){this.rel=e.type||"stylesheet"},n.as=e.as||"style",n.crossorigin="anonymous"):n.rel="stylesheet",i.append(n),n}enableTagView(t){let e=document.querySelectorAll(".tagin");for(const n of e)t?V(n,t):V(n);return e}addTagViewCss(){this.insert(document.head,`<style>${Q}</style>`,"beforeend")}hasInall(t,e){let n="object"==typeof t?t:document.querySelectorAll(t),i=[];return n&&Array.prototype.forEach.call(n,(t=>{t.contains(e)&&i.push(t)})),i}removeDomAttr(t,e){let n="object"==typeof t?t:document.querySelector(t);return n&&Array.prototype.forEach.call(e,(t=>{n.removeAttribute(t)})),n||{}}trigger(t,e,n){let i="object"==typeof t?t:document.querySelector(t);i?n?i.dispatchEvent(new Event(e,n)):i.dispatchEvent(new Event(e)):console.warn("Selector not found.",t)}findChild(t,e,n){let i=("object"==typeof t?t:document.querySelector(t)).children||[],r=[];if(e&&i.length>0){let t=0;for(;i[t];){if(i[t].matches(e)){if(!n){r=i[t];break}r.push(i[t])}t++}return r}return i}closest(t,e){let n="object"==typeof t?t:document.querySelector(t),i=n?n.parentElement:null,r=[];if(e)for(;i;){if(this.find(i,e)){r=this.find(i,e);break}i=i.parentElement}return r}parent(t,e){let n="object"==typeof t?t:document.querySelector(t),i=n?n.parentElement:null;if(e)for(;i&&!i.matches(e);)i=i.parentElement;return i}siblings(t,e){let n="object"==typeof t?t:document.querySelector(t),i=[];if(n)for(var r=n.parentNode.firstChild;r;)r!==n&&r.nodeType===Node.ELEMENT_NODE&&(e?r.matches(e)&&i.push(r):i.push(r)),r=r.nextElementSibling||r.nextSibling;return i}nextAll(t){let e=("object"==typeof t?t:document.querySelector(t)).nextElementSibling,n=[];if(e)for(;e;)e=e.nextElementSibling,n.push(e);return n}nextElm(t,e){let n=("object"==typeof t?t:document.querySelector(t)).nextElementSibling;if(e)for(;n&&!n.matches(e);)n=n.nextElementSibling;return n}prevElm(t,e){let n=("object"==typeof t?t:document.querySelector(t)).previousElementSibling;if(e)for(;n&&!n.matches(e);)n=n.previousElementSibling;return n}onReady(t){document.addEventListener("DOMContentLoaded",(function(e){t.call(e)}))}create(t,e){let n=document.createElement(t);return e&&(n.innerHTML=e),n}clone(t){let e="object"==typeof t?t:document.querySelector(t);return e?e.cloneNode(!0):null}serialize(t){let e="object"==typeof t?t:document.querySelector(t);return e?new URLSearchParams(new FormData(e)).toString():null}empty(t){let e="object"==typeof t?t:document.querySelector(t);if(e)for(;e.firstChild;)e.removeChild(e.firstChild);return e}getBS(t,e,n){let i="object"==typeof t?t:document.querySelector(t);if(i&&this.bsCat1.includes(e)){if(bootstrap[e].getInstance&&bootstrap[e].getInstance(i))return bootstrap[e].getInstance(i);return new bootstrap[e](i,n)}return{}}enableBsAll(t,e,n){if(this.bsCat1.includes(e)){return[].slice.call(document.querySelectorAll(t)).map((function(t){return n?new bootstrap[e](t,n):new bootstrap[e](t)}))}return console.error("Bootstrap can't enable for this component name"),[]}hideBsAll(t,e){let n=[].slice.call(document.querySelectorAll(t));this.bsCat1.includes(e)?n.forEach((function(t){bootstrap[e].getInstance(t)?.hide?.()})):console.error("Bootstrap can't disable for this component name")}initDropdown(){let t=this;t.enableBsAll('[data-toggle="dropdown"]',"Dropdown"),t.bind("body","click",(function(e){e.target.closest('[data-toggle="dropdown"]')||(t.selectAll('[data-toggle="dropdown"]').forEach((function(t){t.classList.remove("show")})),t.selectAll(".dropdown-menu").forEach((function(t){t.classList.remove("show")})))}))}ajax(t){let e="";if("object"==typeof t.data)if(t.formData)e=t.data;else if(t.withUrl){let e="?";for(let n in t.data)"object"!=typeof t.data[n]&&(e+="&"+n+"="+t.data[n]);t.url+=e}else{e=new FormData;for(let n in t.data)"object"==typeof t.data[n]&&this.isValid(t.data[n])?e=this.jsonFormEncode(e,n,t.data[n]):e.append(n,t.data[n])}return new Promise(((n,i)=>{const r=new XMLHttpRequest;r.open(t.type||"POST",t.url,!0),t.responseType&&(r.responseType=t.responseType),r.onreadystatechange=t=>{if(4==r.readyState&&200===r.status)try{n(r.responseText,t)}catch(t){i(t)}},r.onerror=t=>{i(t)},t.onStart&&(r.onloadstart=t.onStart),t.onEnd&&(r.onloadend=t.onEnd),r.send(e)}))}jsonFormEncode(t,e,n){try{if(Array.isArray(n))for(let i=0;i<n.length;i++)for(let r in n[i])t.append(`${e}[${i}][${r}]`,n[i][r]);else for(var i in n)t.append(`${e}[${i}]`,n[i])}catch(t){console.warn("Please provide valid JSON Object in ajax data."+t)}return t}getJSON(t){var e=document.createElement("script");e.src=t,document.body.appendChild(e)}offset(t){let e="object"==typeof t?t:document.querySelector(t),n={rect:e};if(e){let t=e.getBoundingClientRect();n={target:e,clientRect:t,top:t.top+window.scrollY,left:t.left+window.scrollX}}return n}findInArray(t,e){return!(!t||!e)&&e.find((e=>e==t))}inArray(t,e){let n=[];return t&&e&&t.forEach((t=>{e.forEach((e=>{t==e&&!n.includes(e)&&n.push(e)}))})),n.length>0?n.length:-1}serializeArray(t,e){let n=[];return t.forEach((t=>{if((!e||t.matches(e))&&(console.log(t.attributes.length),t.attributes.length>0)){let e={};for(let n of t.attributes)e[n.name]=n.value;n.push(e)}})),n}find(t,e,n){let i="object"==typeof t?t:document.querySelector(t);if(i)switch("object"==typeof n?"action":n){case"all":return i?.querySelectorAll(e);case"child":return i?.querySelector(e).childNodes;case"hidden":return Array.prototype.filter.call(i.querySelectorAll(e),(t=>0==t.offsetWidth&&0==t.offsetHeight));case"visible":return Array.prototype.filter.call(i.querySelectorAll(e),(t=>t.offsetWidth>0&&t.offsetHeight>0));case"checked":return Array.prototype.filter.call(document.querySelectorAll(selector),(t=>t.checked));case"selected":return Array.prototype.filter.call(i.querySelectorAll(e),(t=>t.selected));case"action":{let t=i.querySelectorAll(e);return t&&t.length>0&&n.action&&t.forEach((t=>this.jsAction(t,{action:n.action,actionData:n.actionData}))),t}default:return i.querySelector(e)}return[]}selectAll(t,e,n){let i=this.isExtraSelectors(e,n)?this.selectAction(t,e):"object"==typeof t?t:document.querySelectorAll(t);return i&&i.length>0&&e&&Array.prototype.forEach.call(i,(t=>this.jsAction(t,{action:e,actionData:n}))),i}isExtraSelectors(t,e){return!!this.extraSelectors.includes(t)&&("checked"!=t||void 0===e)}select(t,e,n){return this.isExtraSelectors(e,n)?this.selectAction(t,e):((t="object"==typeof t?t:document.querySelector(t))&&this.jsAction(t,{action:e,actionData:n}),t||{})}getElm(t,e){return document.getElementById(t)||{}}listenAll(t,e,n){let i="object"==typeof t?t:document.querySelectorAll(t);if(i&&i.length>0)for(let t=0;t<i.length;t++)i[t].addEventListener(e,n,!1)}bind(t,e,n){let i="object"==typeof t?t:document.querySelector(t);i&&i.addEventListener(e,n)}listen(t,e,n,i){let r="object"==typeof t?t:"undefined"!=typeof document&&document.querySelector(t);if(!r)return!1;globalThis.eventTracker[n]&&r.removeEventListener(e,globalThis.eventTracker[n]),globalThis.eventTracker[n]=this.onListen.bind(this,n,i,r),r.addEventListener(e,globalThis.eventTracker[n])}removeClass(t,e){let n="object"==typeof t?t:document.querySelectorAll(t);return n&&n?.length>0?Array.prototype.forEach.call(n,(t=>this.jsAction(t,{action:"removeClass",actionData:e}))):"object"==typeof n&&this.jsAction(n,{action:"removeClass",actionData:e}),n||{}}addClass(t,e){let n="object"==typeof t?t:document.querySelectorAll(t);return n&&n?.length>0?Array.prototype.forEach.call(n,(t=>this.jsAction(t,{action:"addClass",actionData:e}))):"object"==typeof n&&this.jsAction(n,{action:"addClass",actionData:e}),n||{}}toggleDom(t,e="toggleDisplay"){let n="object"==typeof t?t:document.querySelectorAll(t);return n&&n.length>0&&Array.prototype.forEach.call(n,(t=>this.jsAction(t,{action:e}))),n||{}}select2(t){let e=document.querySelector(t+" + span > .selection > span");e&&e.click()}setData(t,e){let n="object"==typeof t?t:document.querySelector(t);if(n)for(let t in e)n.dataset[t]=e[t];return n||{}}getData(t,e){return("object"==typeof t?t:document.querySelector(t))?.dataset[e]||{}}setAttr(t,e){let n="object"==typeof t?t:document.querySelector(t);if(n)for(let t in e)n.setAttribute(t,e[t]);return n||{}}setCss(t,e){let n="object"==typeof t?t:document.querySelector(t);if(n)for(let t in e)n.style&&(n.style[t]=e[t]);return n||{}}remove(t){let e=document.querySelectorAll(t);e.length>0&&Array.prototype.forEach.call(e,(t=>t.remove()))}replaceWith(t,e){let n="object"==typeof t?t:document.querySelector(t);if(n){let t=this.templateHtml(e);return n.replaceWith(t),t}return n}wrap(t,e){let n="object"==typeof t?t:document.querySelector(t);if(n){let t=this.templateHtml(e),i=this.innerChild(t);return i.innerHTML=n.outerHTML,n.parentNode.replaceChild(t,n),i.firstChild}return n}unwrap(t){let e="object"==typeof t?t:document.querySelectorAll(t);e&&e.length>0&&e.forEach((t=>{t.outerHTML=t.innerHTML}))}insertAfter(t,e){return t="object"==typeof t?t:document.querySelector(t),e="object"==typeof e?e:document.querySelector(e),t&&e&&e.parentNode.insertBefore(t,e.nextSibling),t}insert(t,e,n){let i="object"==typeof t?t:document.querySelector(t);if(i)switch(n){case"beforebegin":i.insertAdjacentHTML("beforebegin",e);break;case"afterbegin":i.insertAdjacentHTML("afterbegin",e);break;case"beforeend":i.insertAdjacentHTML("beforeend",e);break;case"afterend":i.insertAdjacentHTML("afterend",e)}return i||{}}domIndex(t){let e="object"==typeof t?t:document.querySelector(t);return e?Array.from(e.parentNode.children).indexOf(e):-1}match(t,e){let n="object"==typeof t?t:document.querySelector(t),i=[];return n&&n.length>0?(Array.prototype.forEach.call(n,(t=>{t.matches(e)&&i.push(t)})),i):n&&n.matches(e)}contains(t,e){let n="object"==typeof t?t:document.querySelectorAll(t);return n&&n.length>0?[].filter.call(n,(function(t){return RegExp(e).test(t.textContent)})):[]}extend(){let t={},e=!1,n=0,i=arguments.length;"[object Boolean]"===Object.prototype.toString.call(arguments[0])&&(e=arguments[0],n++);const r=function(n){for(let i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e&&"[object Object]"===Object.prototype.toString.call(n[i])?t[i]=extend(!0,t[i],n[i]):t[i]=n[i])};for(;n<i;n++){r(arguments[n])}return t}url(t){return t=t||("object"==typeof window?window.location.href:""),new URLSearchParams(t)}updateEditorUrl(t){let e=`?action=new&content_subtype=${t.subtype}&content_type=${t.type}&content_icon=${t.content_icon}&react_content=1`;window.history.replaceState(null,"",e)}getUrlVars(){let t,e=[],n=window.location.href.slice(window.location.href.indexOf("?")+1).split("&");for(let i=0;i<n.length;i++)t=n[i].split("="),e.push(t[0]),e[t[0]]=t[1];return e}setApiKey(t){globalThis.apiAccessToken=t}validateAjaxData(t,e){if(0==e||8==e){if(t&&!this.get("is_proposed")){if(t.content_text){try{t.content_text.answers.forEach(((e,n)=>{t.content_text.answers[n].answer=e.answer.replace(/\n/g,"")}))}catch(t){return{answers:[{is_correct:"0",answer:"Option A.",id:"01"},{is_correct:"0",answer:"Option B.",id:"02"},{is_correct:"0",answer:"Option C.",id:"03"},{is_correct:"0",answer:"Option D.",id:"04"}],correct_ans_str:"D",total_answers:4,correct_answers:1}}return t.content_text}return t}return{answers:[{is_correct:"0",answer:"Option A.",id:"01"},{is_correct:"0",answer:"Option B.",id:"02"},{is_correct:"0",answer:"Option C.",id:"03"},{is_correct:"0",answer:"Option D.",id:"04"}],correct_ans_str:"D",total_answers:4,correct_answers:1}}return t}watchDom(t,e,n={childList:!0}){let i=new MutationObserver((function(t){e&&e(t)}));return i.observe(t,n),i}ignoreEnity(t){return t.replace(/&amp;/g,"&")}cache(t){var e=new Map;return function(n){if(e.has(n))return e.get(n);var i=t(n);return e.set(n,i),i}}set(t,e){"save_item"==t&&this.addInLocalstorage(t,e),"object"==typeof globalThis&&(globalThis.JUITemp[t]=e)}addInLocalstorage(t,e){window.localStorage.setItem(t,e)}get(t){return globalThis.JUITemp[t]}caller(){console.log("called from "+arguments.callee.caller.toString())}showmsg(t,e=1e4){let n=document.querySelector("#showMsgAlert");this.buffer.showmsg&&clearTimeout(this.buffer.showmsg),n?(n.classList.add("show"),this.select("#showMsgBody").innerHTML=t):this.insert(document.body,this.getModalHtml(t,"Alert"),"beforebegin"),setTimeout((()=>{let t=this.getBS(document.querySelector("#showMsgAlert"),"Alert");t.close&&t.close()}),e)}alert(t){document.getElementById("showBSModal")?(this.getBS("#showBSModal","Modal").show(),this.select("#showBSBody").innerHTML=t||"No msg provided..."):(this.insert(document.body,this.getModalHtml(t,"showBSModal"),"beforeend"),this.getBS("#showBSModal","Modal").show())}formatXml(t,e){let n=e||!1,i=n?t.match(/<!--\[CDATA\[[\s\S]*?\]\]-->/gim):"";if(t=t.replace(/\t/g,"").replace(/(>)(<)(\/*)/g,"$1\n$2$3").replace(/ *(.*) +\n/g,"$1\n").replace(/(<.+>)(.+\n)/g,"$1\n$2"),n){let e=t.match(/<!--\[CDATA\[[\s\S]*?\]\]-->/gim);t=t.replace(e,i)}let r="",o=t.split("\n"),s=0,a="other",l={"single->single":0,"single->closing":-1,"single->opening":0,"single->other":0,"closing->single":0,"closing->closing":-1,"closing->opening":0,"closing->other":0,"opening->single":1,"opening->closing":0,"opening->opening":1,"opening->other":1,"other->single":0,"other->closing":-1,"other->opening":0,"other->other":0};for(let t=0;t<o.length;t++){let e=o[t];if(""!=e){let t=Boolean(e.match(/<.+\/>/)),n=Boolean(e.match(/<\/.+>/)),i=Boolean(e.match(/<[^!].*>/)),o=t?"single":n?"closing":i?"opening":"other",c=a+"->"+o;a=o;let d="";s+=l[c];for(let t=0;t<s;t++)d+="\t";"opening->closing"==c?r=r.substr(0,r.length-1)+e+"\n":r+=d+e+"\n"}}return r}getModalHtml(t,e){switch(e){case"Alert":return`\n                    <div id="showMsgAlert" class="alert alert-warning alert-dismissible text-center fade show" role="alert" style="z-index:99999;min-height:50px;position:fixed;width:100%;">\n                        <span id="showMsgBody">${t}</span>\n                        <button type="button" class="btn-close close" style="margin-top: -3px;" data-bs-dismiss="alert" data-dismiss="alert"  aria-label="Close"></button>\n                    </div>\n                `;case"showBSModal":return`\n                    <div class="modal fade" id="showBSModal" tabindex="-1" aria-labelledby="Alert" aria-hidden="true">\n                        <div class="modal-dialog modal-dialog-centered" id="showBSDialog">\n                            <div class="modal-content">\n                                <div class="modal-body text-center fs-5 pt-4" id="showBSBody">\n                                    ${t}\n                                </div>\n                                <div class="modal-footer">\n                                    <button type="button" class="btn bg-light m-auto text-dark border border-secondary" data-bs-dismiss="modal" data-dismiss="modal">OK</button>\n                                </div>\n                            </div>\n                        </div>\n                    </div>`;default:return"<div>Nothing</div>"}}isValid(t,e=!1){return!(!t||null==t||""==t||"undefined"==t||null==t)||!(!e||t==e)}store(t,e){}query(t){var e="item_error_log=1";if("object"==typeof t)for(let n in t)"object"!=typeof t[n]&&(e+="&"+n+"="+t[n]);return e}activate(t){document.querySelector("#activateLoaderContainer")&&document.querySelector("#activateLoaderContainer").remove(),t>0&&this.insert(document.body,'<div id="activateLoaderContainer" class="activateOverlay" style="z-index:9999999;"><center><div class="activator" style="height:100px; width: 100px;"></div></center></div>',"afterend")}onListen(t,e,n,i){let r=i.target,o=r.closest&&r.closest(t);o&&n.contains(o)&&e.call(this,o,i)}isFocus(t){return("object"==typeof t?t:document.querySelector(t))==document.activeElement}innerChild(t){let e="object"==typeof t?t:document.querySelector(t),n=e;if(e&&e.lastChild)for(e=e.lastChild;e;)n=e,e=e.lastChild;return n}templateHtml(t){let e=document.createElement("template");return e.innerHTML=t,e.content.firstElementChild.cloneNode(!0)}selectAction(t,e){switch(e){case"hidden":return Array.prototype.filter.call(document.querySelectorAll(t),(t=>0==t.offsetWidth&&0==t.offsetHeight));case"visible":return Array.prototype.filter.call(document.querySelectorAll(t),(t=>t.offsetWidth>0&&t.offsetHeight>0));case"selected":return Array.prototype.filter.call(document.querySelectorAll(t),(t=>t.selected));case"checked":return Array.prototype.filter.call(document.querySelectorAll(t),(t=>t.checked));case"enabled":return document.querySelectorAll(t+":not([disabled]");case"children":return document.querySelector(t).children;case"childNodes":return document.querySelector(t).childNodes;default:return document.querySelector(t)}}jsAction(t,e){if(t instanceof HTMLElement||t instanceof Node)switch(e.action){case"show":t.style.display=e.actionData||"";break;case"hide":t.style.display="none";break;case"toggleDisplay":t.style.display="none"==t.style.display?"block":"none";break;case"addClass":"object"==typeof e.actionData?t.classList.add(...e.actionData):t.classList.add(e.actionData);break;case"removeClass":"object"==typeof e.actionData?t.classList.remove(...e.actionData):t.classList.remove(e.actionData);break;case"toggleClass":t.classList.toggle(e.actionData);break;case"html":t.innerHTML=e.actionData;break;case"value":t.value=e.actionData;break;case"text":t.textContent=e.actionData;break;case"checked":t.checked=e.actionData;break;case"remove":t.remove();break;case"removeAttr":t.removeAttribute(e.actionData);break;case"css":this.setCss(t,e.actionData);break;case"attr":this.setAttr(t,e.actionData);break;case"data":this.setData(t,e.actionData);break;case"getData":this.getData(t,e.actionData)}}slideUp(t,e=500){t.style.transitionProperty="height, margin, padding",t.style.transitionDuration=e+"ms",t.style.boxSizing="border-box",t.style.height=t.offsetHeight+"px",t.offsetHeight,t.style.overflow="hidden",t.style.height=0,t.style.paddingTop=0,t.style.paddingBottom=0,t.style.marginTop=0,t.style.marginBottom=0,window.setTimeout((()=>{t.style.display="none",t.style.removeProperty("height"),t.style.removeProperty("padding-top"),t.style.removeProperty("padding-bottom"),t.style.removeProperty("margin-top"),t.style.removeProperty("margin-bottom"),t.style.removeProperty("overflow"),t.style.removeProperty("transition-duration"),t.style.removeProperty("transition-property")}),e)}slideDown(t,e=500){t.style.removeProperty("display");let n=window.getComputedStyle(t).display;"none"===n&&(n="block"),t.style.display=n;let i=t.offsetHeight;t.style.overflow="hidden",t.style.height=0,t.style.paddingTop=0,t.style.paddingBottom=0,t.style.marginTop=0,t.style.marginBottom=0,t.offsetHeight,t.style.boxSizing="border-box",t.style.transitionProperty="height, margin, padding",t.style.transitionDuration=e+"ms",t.style.height=i+"px",t.style.removeProperty("padding-top"),t.style.removeProperty("padding-bottom"),t.style.removeProperty("margin-top"),t.style.removeProperty("margin-bottom"),window.setTimeout((()=>{t.style.removeProperty("height"),t.style.removeProperty("overflow"),t.style.removeProperty("transition-duration"),t.style.removeProperty("transition-property")}),e)}slideToggle(t,e=500){return"none"===window.getComputedStyle(t).display?this.slideDown(t,e):this.slideUp(t,e)}setCookie(t,e,n){const i=new Date;i.setTime(i.getTime()+24*n*60*60*1e3);let r="expires="+i.toUTCString();document.cookie=t+"="+e+";"+r+";path=/"}getCookie(t){let e=t+"=",n=decodeURIComponent(document.cookie).split(";");for(let t=0;t<n.length;t++){let i=n[t];for(;" "==i.charAt(0);)i=i.substring(1);if(0==i.indexOf(e))return i.substring(e.length,i.length)}return""}}new K;const G=new K;class Z{constructor(){this.userAnsXML="<SMANS></SMANS>",this.xaxis=[],this.yaxis=[],this.count=0,this.drawstr="",this.elemId="#hptmain0",this.labBinded=!0,this.result=!1,this.temp=0}readyThis(t,e,n,i){if(t="#"+t,!e){this.labBinded=!0;const e=function(e){if(this.labBinded){let n=e,i="";n.classList.contains("selected")?(n.setAttribute("data-userans",0),n.classList.remove("selected")):(n.setAttribute("data-userans",1),n.classList.add("selected")),G.find(t,"[type] .textClick.selected","all").forEach((function(t,e){i=0==e?t.textContent:i+"|"+t.textContent})),G.find(t,"[type]",{action:"attr",actionData:{"data-userans":i}})}},n=function(e){if(this.labBinded){let n="";"SPAN"==e.target?.nodeName?(G.select(e.target,"removeClass",["selecttext","selected"]),this.removespan(e.target,t,0)):this.highlightText(t),G.find(t,"[type] .selecttext.selected","all").forEach((function(t,e){n=0==e?t.textContent:n+"|"+t.textContent}));let i=G.find(t,"[type]");G.select(i,"attr",{"data-userhtml":i.innerHTML,"data-userans":n})}};G.listen(t,"touchstart",".textClick",e.bind(this)),G.listen(t,"touchend",".textClick",e.bind(this)),G.listen(t,"click",".textClick",e.bind(this)),G.listen(t,"touchstart",'[type="textselect"]',n.bind(this)),G.listen(t,"touchend",'[type="textselect"]',n.bind(this)),G.listen(t,"click",'[type="textselect"]',n.bind(this))}}check_Ans(t){let e={inNativeIsCorrect:!1,userAnswers:""};this.userAnsXML="<smans type='4'>\\n",this.result=!0,this.temp=0;let n=G.select(t).children;for(let e=0;e<n.length;e++)this.userAnsXML=this.checkChildAnswer(t,n[e],this.userAnsXML);return this.userAnsXML+="</smans>",window.ISSPECIALMODULEUSERXMLCHANGE=1,e.userAnswers=G.select("#special_module_user_xml").value,"undefined"!=typeof calculatePoint&&calculatePoint(G.select(t).getAttribute("totalcorrectans"),temp),window.inNative&&(window.getHeight?.(),e.inNativeIsCorrect=this.result,window.postMessage(JSON.stringify(e),"*")),{uXml:this.userAnsXML,status:this.result}}checkChildAnswer(t,e,n){let i=e.getAttribute("type");switch(i){case"textclick":case"textselect":var r=e.getAttribute("data-correctans").split("|").sort().join("|"),o=e.getAttribute("data-userans").split("|").sort();r!=(o=(o=o.filter((function(t){return t}))).join("|"))&&(this.result=!1),"undefined"!=typeof calculatePoint&&G.find(e,"p","all").forEach((t=>{t.classList.contains("selected")&&t.getAttribute("data-userans")==t.getAttribute("data-correctans")&&this.temp++})),this.userAnsXML+="textselect"==i?`<div id="${e.getAttribute("id")}" data-userHtml="${escape(e.getAttribute("data-userhtml"))}" data-userAns="${escape(e.getAttribute("data-userans"))}"></div>\\n`:`<div id="${e.getAttribute("id")}" data-userAns="${escape(e.getAttribute("data-userans"))}"></div>\\n`}return this.userAnsXML}showansdrag(t,e,n){void 0===n&&(n=0);let i=G.select(t).children;if(i)for(let r=0;r<i.length;r++)this.showchilddragans(t,i[r],e,n)}showchilddragans(t,e,n,i){let r=G.select(e);switch(r.getAttribute("type")){case"textclick":if("c"==n){G.find(r,".show_correct,.show_incorrect","all").length>0&&(G.find(r,".show_correct,.show_incorrect",{action:"removeClass",actionData:["show_correct","show_incorrect"]}),G.find(r,".correct_incorrect_icon",{action:"remove"}),G.find(r,".correct_incorrect_icon",{action:"removeAttr",actionData:"style"}));let i=e.getAttribute("data-correctans").split("|");e.getAttribute("type");i.forEach((e=>{this.selectText(t,e,n,"selected")}))}else if("u"==n){e.getAttribute("type");try{var o=decodeURIComponent(e.getAttribute("data-userans"))}catch(t){o=decodeURIComponent(unescape(e.getAttribute("data-userans")))}if(o=(o=o.split("|")).filter((function(t){return t})),void 0!==i&&1==i){G.find(t,".selected",{action:"removeClass",actionData:"selected"});var s=e.getAttribute("data-correctans").split("|");o.forEach((e=>{let i="show_incorrect";G.findInArray(e,s)?(i="show_correct",this.selectText(t,e,n,i)):this.selectText(t,e,n,i)}))}else o.forEach((e=>{this.selectText(t,e,"c","selected"),G.select(t+" p span").length&&G.select(t+" p span").remove(),G.select(".textClick","removeClass",["show_incorrect","show_correct"])}))}break;case"textselect":if("c"==n){G.find(r,".show_correct,.show_incorrect").length>0&&(G.find(r,".show_correct,.show_incorrect",{action:"removeClass",actionData:["show_correct","show_incorrect"]}),G.find(r,".correct_incorrect_icon",{action:"removeAttr",actionData:"style"}));s=e.getAttribute("data-correctans").split("|"),e.getAttribute("type");G.select(e,"html",e.getAttribute("data-correcthtml").replace(/<span>/g,"</span>"))}else if("u"==n){e.getAttribute("type");try{o=decodeURIComponent(e.getAttribute("data-userans"))}catch(t){o=decodeURIComponent(unescape(e.getAttribute("data-userans")))}if(o=(o=o.split("|")).filter((function(t){return t})),""!=e.getAttribute("data-userhtml")||"undefined"==e.getAttribute("data-userhtml")){var a=e.getAttribute("data-userhtml");try{a=decodeURIComponent(a);var l=decodeURIComponent(a)}catch(t){console.log(t)}G.select(e,"html",l)}if(void 0!==i&&1==i){let t='<span class="icomoon-new-24px-checkmark-circle-1 font-weight-bold" style="color:green;vertical-align:super;">',n='<span class="icomoon-new-24px-cancel-circle-1 font-weight-bold red" style="vertical-align: super;">';G.insert(e.querySelector('span[userans="1"]span[correctans="1"]'),'<span class="correct_incorrect_icon" style="position:absolute;z-index:100;width:18px;height:18px;bottom:17px;background:white;border-radius:12px;font-size: 18px;"> '+t+"</span></span>","beforeend"),G.insert(e.querySelector('span[userans="1"]span[correctans="0"]'),'<span class="correct_incorrect_icon" style="position:absolute;z-index:100;width:18px;height:18px;bottom:17px;background:white;border-radius:12px;font-size: 18px;"> '+n+"</span></span>","beforeend")}}break;case"imagehighlight":{let e=G.find(t,"canvas"),i=G.select("#special_module_parse").value,r=i.substring(i.indexOf("{"),i.lastIndexOf("}")+1);if(""!=r&&(r=JSON.parse(r)),this.drawOnCanvas(e,r,window.color),"c"==n){let t=e.getAttribute("correctans");""!=t&&(t=JSON.parse(t)),this.drawOnCanvas(e,t,"green")}break}}}calculateArea(t,e,n){return{top:Math.min.apply(Math,n),left:Math.min.apply(Math,e),width:Math.max.apply(Math,e)-Math.min.apply(Math,e),height:Math.max.apply(Math,n)-Math.min.apply(Math,n)}}getCoordinate(t,e,n,i){return 0==i?this.drawstr='{"'+ ++i+'":{"x":['+e+'],"y":['+n+"]}}":(this.drawstr=G.select("#special_module_parse").value,this.drawstr=this.drawstr.substring(this.drawstr.indexOf("{"),this.drawstr.lastIndexOf("}")+1),this.drawstr=this.drawstr.slice(0,-1),this.drawstr+=',"'+ ++i+'":{"x":['+e+'],"y":['+n+"]}}"),G.selectAll(G.select(t).children,"attr",{userans:this.drawstr}),this.createUserAnsXMLDraw(this.drawstr),this.userAnsXML}update_HTMLValue(){let t=G.parseHtml(G.select("#special_module_xml").value),e="",n="";if(t)for(let i of t.attributes)switch(na_attr.nameme){case"bgimg":e=i.value;break;case"path":n=i.value}let i=G.children(t,"div"),r=i.getAttribute("top"),o=i.getAttribute("left"),s=i.getAttribute("width"),a=i.getAttribute("height");G.select("#area","css",{height:a,top:r,width:s,left:o}),e&&n&&G.select("#im","attr",{src:n+"/"+e})}movetarget(t,e,n){let i;t.style.display="",!window.event&&n.layerX?(t.style.top=n.layerY-t.height/2+"px",t.style.left=n.layerX-t.width/2+"px"):(t.style.top=n.offsetY-t.height/2+"px",t.style.left=n.offsetX-t.width/2+"px"),i=this.checkmodule(t,e),this.createUserAnsXML(t.style.top,t.style.left);let r=document.getElementById("special_module_user_xml");r.value=this.userAnsXML,r=document.getElementById("answer"),r.checked=i>0,"undefined"!=typeof calculatePoint&&(this.temp=1==i,calculatePoint(1,i))}createUserAnsXMLDraw(t){this.userAnsXML='<SMANS type="4"><div userans="'+t+'"></div></SMANS>'}createUserAnsXML(t,e){this.userAnsXML='<SMANS type="4"><div targetTop="'+parseInt(t)+'" targetLeft="'+parseInt(e)+'" /></SMANS>'}checkmodule(t,e){let n=0;return parseInt(t.style.top)+t.height/2>=parseInt(e.style.top)&&parseInt(t.style.top)+t.height/2<=parseInt(e.style.top)+parseInt(e.style.height)&&parseInt(t.style.left)+t.width/2>=parseInt(e.style.left)&&parseInt(t.style.left)+t.width/2<=parseInt(e.style.left)+parseInt(e.style.width)&&(n=1),n}drawOnCanvas(t,e,n){if(t){let i=0!=t.toString().indexOf("d")?document.getElementById(t.getAttribute("id")):document.getElementById(t),r=null!=i?i.getContext("2d"):"",o=Object.keys(e).length;if(""!=e&&""!=r)for(let t=1;t<=o;t++)for(let i=0;i<=e[t].x.length;i++)r.beginPath(),r.lineWidth="4",r.strokeStyle=n,r.moveTo(e[t].x[i],e[t].y[i]),r.lineTo(e[t].x[i+1],e[t].y[i+1]),r.stroke()}}compareDrawing(t,e,n){let i=0,r=this.getAreaVal(t),o=this.getAreaVal(e),s=0,a=0,l=Object.keys(o).length,c=Object.keys(r).length;for(let t=1;t<=l;t++){for(let e=1;e<=c;e++)if(r[e].height<=o[t].height&&r[e].width<=o[t].width&&r[e].top>=o[t].top&&o[t].left+o[t].width-(r[e].left+r[e].width)>=0&&r[e].left>=o[t].left&&o[t].top+o[t].height-(r[e].top+r[e].height)>=0){s++;break}"undefined"!=typeof calculatePoint&&(t==s&&a++,calculatePoint(G.select(n).getAttribute("totalcorrectans"),a))}return l==s&&l==c&&(i=1),i}getAreaVal(t){let e=Object.keys(t).length;if(""!=t){let n=[];for(let i=1;i<=e;i++)n[i]=this.calculateArea("",t[i].x,t[i].y);return n}}selectText(t,e,n,i){let r=G.selectAll(t+" p");for(var o=0;o<r.length;o++){let t=r[o];if(t.textContent.trim()==e&&(t.classList.add(i),"u"==n)){let e;e="show_correct"==i?'<span class="icomoon-new-24px-checkmark-circle-1 font-weight-bold" style="color:green;vertical-align:7px">':'<span class="icomoon-new-24px-cancel-circle-1 font-weight-bold red" style="vertical-align:7px">',G.insert(t,'<span class="correct_incorrect_icon" style="position:absolute;z-index:100;width:18px;height:18px;bottom:16px;background:white;border-radius:12px;font-size: 18px;"> '+e+"</span></span>")}}}highlightText(t){if(0!=this.getSelected().getRangeAt(0).endOffset){this.snapSelectionToWord();let n=this.getSelected().getRangeAt(0),i=(n.startOffset,G.find(t,"[type]").getAttribute("data-correctans").split("|"));var e=n.toString();if(e=e.trim()){let t=G.findInArray(e,i)?1:0;this.pasteHtmlAtCaret("<span class='selecttext selected' correctans="+t+" userans='1'>"+e+"</span> ")}}}snapSelectionToWord(){let t;if(window.getSelection&&(t==window.getSelection()).modify){if(t=window.getSelection(),""!=t&&!t.isCollapsed){var e=document.createRange();e.setStart(t.anchorNode,t.anchorOffset),e.setEnd(t.focusNode,t.focusOffset);var n=e.collapsed;e.detach();var i=t.focusNode,r=t.focusOffset;t.collapse(t.anchorNode,t.anchorOffset),n?(G.findInArray(t.anchorNode.textContent.charAt(t.anchorOffset-1),[",",".","!","?",";",")","}"])&&(t.modify("move","backward","character"),t.modify("move","forward","word")),t.extend(i,r),t.modify("extend","forward","character"),t.modify("extend","backward","word")):(t.modify("move","forward","character"),t.modify("move","backward","word"),t.extend(i,r),G.findInArray(t.anchorNode.textContent.charAt(r-1),[",",".","!","?",";",")","}"])&&(t.modify("extend","backward","character"),t.modify("extend","forward","word")))}}else if(t==document.selection&&"Control"!=t.type){let e=t.createRange();if(e.text){for(e.expand("word");/\s$/.test(e.text);)e.moveEnd("character",-1);e.select()}}}pasteHtmlAtCaret(t){let e,n;if(window.getSelection){if(e=window.getSelection(),e.getRangeAt&&e.rangeCount){n=e.getRangeAt(0),n.deleteContents();var i=document.createElement("div");i.innerHTML=t;for(var r,o,s=document.createDocumentFragment();r=i.firstChild;)o=s.appendChild(r);n.insertNode(s),o&&(n=n.cloneRange(),n.setStartAfter(o),n.collapse(!0),e.removeAllRanges(),e.addRange(n))}}else document.selection&&"Control"!=document.selection.type&&document.selection.createRange().pasteHTML(t)}getSelected(){if(window.getSelection)return window.getSelection();if(document.getSelection)return document.getSelection();var t=document.selection&&document.selection.createRange();return!!t.text&&t.text}removespan(t,e,n){let i=t.innerHTML,r=new RegExp("<\\/?span[^>]*>","g");i=i.replace(r,""),t.parentNode.replaceChild(document.createTextNode(i),t),n||G.find(e,"[type]",{action:"html",actionData:G.find(e,"[type]").innerHTML})}modeOnHot(t){G.selectAll(".test, .review","addClass","h"),t?(G.selectAll(".review","removeClass","h"),this.unBindLab(),this.showansdrag(this.elemId,"u",1)):(G.selectAll(".test","removeClass","h"),G.selectAll(".review","addClass","h"),this.bindLab(),this.showansdrag(this.elemId,"u",0))}unBindLab(){this.labBinded=!1,G.find(this.elemId,".hotArea0.hotArea",{action:"css",actionData:{display:"block"}}),G.find(this.elemId,".hotSpotImg",{action:"css",actionData:{pointerEvents:"none"}})}bindLab(){this.labBinded=!0,G.find(this.elemId,".hotArea0.hotArea",{action:"css",actionData:{display:"none"}}),G.find(this.elemId,".hotSpotImg",{action:"css",actionData:{pointerEvents:"auto"}})}}function tt(t,e){return!0===isNaN(Number(t))?this.x=0:this.x=t,!0===isNaN(Number(e))?this.y=0:this.y=e,{X:this.x,Y:this.y}}const et=new K;class nt{constructor(t){this.prevPoint=void 0,this.defaultOptions={target:"",penSize:1,width:t.width,height:t.height,cssClass:"",onClick:t=>{},onMove:t=>{},onPaint:t=>{},onRelease:t=>{}},this.penWidth=2,this.drawing=!1,this.cap="round",this.ID="dooScribCanvas"+Math.floor(100*Math.random()+1),this.drawingSurface="",t&&(this.Settings={...this.defaultOptions,...t}),!0===isNaN(this.Settings.height)&&(this.Settings.height=100),!0===isNaN(this.Settings.width)&&(this.Settings.width=100),this.init()}init(){let t=this.Settings.target;t?("hptmain0"==t.getAttribute("id")&&et.empty(t),et.insert(t,`<canvas id='${this.ID}' tabindex='0' class='relative ${this.Settings.cssClass}' type='${this.Settings.type}' correctans='${this.Settings.correctans}' userans=''  height='${this.Settings.height}' width='${this.Settings.width}'></canvas>`,"beforeend"),this.penSize(this.Settings.penSize),this.drawingSurface=document.getElementById(this.ID).getContext("2d"),this.drawingSurface.lineWidth=this.penSize(),this.drawingSurface.lineCap=this.cap,!1===this.hasTouch()?(document.getElementById(this.ID).addEventListener("mousedown",this.clickDown.bind(this),!0),document.getElementById(this.ID).addEventListener("mousemove",this.moved.bind(this),!0),document.getElementById(this.ID).addEventListener("mouseup",this.clickUp.bind(this),!0)):(document.getElementById(this.ID).addEventListener("touchstart",this.clickDown.bind(this),!0),document.getElementById(this.ID).addEventListener("touchmove",this.moved.bind(this),!0),document.getElementById(this.ID).addEventListener("touchend",this.clickUp.bind(this),!0))):console.error("Target not defined")}normalizeTouch(t){if(!0===this.hasTouch()){let e=window.scrollY;["touchstart","touchmove"].indexOf(t.type)>-1&&(t.clientX=t.targetTouches[0].pageX,t.clientY=t.targetTouches[0].pageY-e),["touchend"].indexOf(t.type)>-1&&(t.clientX=t.changedTouches[0].pageX,t.clientY=t.changedTouches[0].pageY-e)}return t}clickDown(t){if(!0===this.isDrawing())return;t||(t=window.event),!0===this.hasTouch()&&(t.preventDefault(),t=this.normalizeTouch(t));let e=et.offset(this.Settings.target),n=window.scrollY,i=new tt(t.clientX-e.left,t.clientY-(e.top-n));return this.prevPoint=i,this.drawing=!0,this.Settings.onClick(i),!1}moved(t){t||(t=window.event),!0===this.hasTouch()&&(t.preventDefault(),t=this.normalizeTouch(t));var e=et.offset(this.Settings.target),n=window.scrollY,i=new tt(t.clientX-e.left,t.clientY-(e.top-n));return!0===this.isDrawing()?(this.drawLine(this.prevPoint.X,this.prevPoint.Y,i.X,i.Y),this.prevPoint=i,this.Settings.onPaint(i)):this.Settings.onMove(i),!1}clickUp(t){if(!1===this.isDrawing())return;!0===this.hasTouch()&&(t.preventDefault(),t=this.normalizeTouch(t));let e=et.offset(this.Settings.target),n=window.scrollY,i=new tt(t.clientX-e.left,t.clientY-(e.top-n));return this.Settings.onRelease(i),this.drawing=!1,!1}hasTouch(){return"ontouchstart"in window}penSize(t){return void 0!==t&&!1===isNaN(Number(t))&&(this.penWidth=t),this.penWidth}isDrawing(){if(this.Settings.editable)return this.drawing}lineCap(t){if(void 0!==t)switch(t){case"butt":case"round":case"square":this.cap=t}return this.cap}lineColor(t){if(void 0!==t){let e=et.parseHtml("<div id='stub' style='backgroundColor:white'></div>");e.style.backgroundColor=t;let n=e.style.backgroundColor;void 0!==n&&""!==n&&(window.color=t)}return window.color}context(){return this.drawingSurface}clearSurface(){let t=et.find(document,"canvas").getAttribute("width").replace("px",""),e=et.find(document,"canvas").getAttribute("height").replace("px","");this.drawingSurface.clearRect(0,0,t,e)}drawLine(t,e,n,i){void 0!==t&&void 0!==e&&void 0!==n&&void 0!==i&&!1===isNaN(Number(t))&&!1===isNaN(Number(e))&&!1===isNaN(Number(n))&&!1===isNaN(Number(i))&&(this.drawingSurface.lineCap=this.cap,this.drawingSurface.strokeStyle=window.color,this.drawingSurface.lineWidth=this.penWidth,this.drawingSurface.beginPath(),this.drawingSurface.moveTo(t,e),this.drawingSurface.lineTo(n,i),this.drawingSurface.stroke())}}class it{config={};VERSION="1.2.0";DOMNodeTypes={ELEMENT_NODE:1,TEXT_NODE:3,CDATA_SECTION_NODE:4,COMMENT_NODE:8,DOCUMENT_NODE:9};constructor(){this.initConfigDefaults(),this.initRequiredPolyfills()}initConfigDefaults(){void 0===this.config.escapeMode&&(this.config.escapeMode=!0),this.config.attributePrefix=this.config.attributePrefix||"_",this.config.arrayAccessForm=this.config.arrayAccessForm||"none",this.config.emptyNodeForm=this.config.emptyNodeForm||"text",void 0===this.config.enableToStringFunc&&(this.config.enableToStringFunc=!0),this.config.arrayAccessFormPaths=this.config.arrayAccessFormPaths||[],void 0===this.config.skipEmptyTextNodesForObj&&(this.config.skipEmptyTextNodesForObj=!0),void 0===this.config.stripWhitespaces&&(this.config.stripWhitespaces=!0),this.config.datetimeAccessFormPaths=this.config.datetimeAccessFormPaths||[],void 0===this.config.useDoubleQuotes&&(this.config.useDoubleQuotes=!1),this.config.xmlElementsFilter=this.config.xmlElementsFilter||[],this.config.jsonPropertiesFilter=this.config.jsonPropertiesFilter||[],void 0===this.config.keepCData&&(this.config.keepCData=!1)}initRequiredPolyfills(){}getNodeLocalName(t){var e=t.localName;return null==e&&(e=t.baseName),null!=e&&""!=e||(e=t.nodeName),e}getNodePrefix(t){return t.prefix}escapeXmlChars(t){return"string"==typeof t?t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;"):t}unescapeXmlChars(t){return t.replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&quot;/g,'"').replace(/&apos;/g,"'").replace(/&amp;/g,"&")}checkInStdFiltersArrayForm(t,e,n,i){for(var r=0;r<t.length;r++){var o=t[r];if("string"==typeof o){if(o==i)break}else if(o instanceof RegExp){if(o.test(i))break}else if("function"==typeof o&&o(e,n,i))break}return r!=t.length}toArrayAccessForm(t,e,n){switch(this.config.arrayAccessForm){case"property":t[e]instanceof Array?t[e+"_asArray"]=t[e]:t[e+"_asArray"]=[t[e]]}!(t[e]instanceof Array)&&this.config.arrayAccessFormPaths.length>0&&this.checkInStdFiltersArrayForm(this.config.arrayAccessFormPaths,t,e,n)&&(t[e]=[t[e]])}fromXmlDateTime(t){var e=t.split(/[-T:+Z]/g),n=new Date(e[0],e[1]-1,e[2]),i=e[5].split(".");if(n.setHours(e[3],e[4],i[0]),i.length>1&&n.setMilliseconds(i[1]),e[6]&&e[7]){var r=60*e[6]+Number(e[7]);r=0+("-"==(/\d\d-\d\d:\d\d$/.test(t)?"-":"+")?-1*r:r),n.setMinutes(n.getMinutes()-r-n.getTimezoneOffset())}else-1!==t.indexOf("Z",t.length-1)&&(n=new Date(Date.UTC(n.getFullYear(),n.getMonth(),n.getDate(),n.getHours(),n.getMinutes(),n.getSeconds(),n.getMilliseconds())));return n}checkFromXmlDateTimePaths(t,e,n){if(this.config.datetimeAccessFormPaths.length>0){var i=n.split(".#")[0];return this.checkInStdFiltersArrayForm(this.config.datetimeAccessFormPaths,t,e,i)?this.fromXmlDateTime(t):t}return t}checkXmlElementsFilter(t,e,n,i){return!(e==this.DOMNodeTypes.ELEMENT_NODE&&this.config.xmlElementsFilter.length>0)||this.checkInStdFiltersArrayForm(this.config.xmlElementsFilter,t,n,i)}parseDOMChildren(t,e){if(t.nodeType==this.DOMNodeTypes.DOCUMENT_NODE){for(var n=new Object,i=t.childNodes,r=0;r<i.length;r++){if((o=i.item(r)).nodeType==this.DOMNodeTypes.ELEMENT_NODE)n[s=this.getNodeLocalName(o)]=this.parseDOMChildren(o,s)}return n}if(t.nodeType==this.DOMNodeTypes.ELEMENT_NODE){(n=new Object).__cnt=0;for(i=t.childNodes,r=0;r<i.length;r++){var o=i.item(r),s=this.getNodeLocalName(o);if(o.nodeType!=this.DOMNodeTypes.COMMENT_NODE){var a=e+"."+s;this.checkXmlElementsFilter(n,o.nodeType,s,a)&&(n.__cnt++,null==n[s]?(n[s]=this.parseDOMChildren(o,a),this.toArrayAccessForm(n,s,a)):(null!=n[s]&&(n[s]instanceof Array||(n[s]=[n[s]],this.toArrayAccessForm(n,s,a))),n[s][n[s].length]=this.parseDOMChildren(o,a)))}}for(var l=0;l<t.attributes.length;l++){var c=t.attributes.item(l);n.__cnt++,n[this.config.attributePrefix+c.name]=c.value}var d=this.getNodePrefix(t);return null!=d&&""!=d&&(n.__cnt++,n.__prefix=d),null!=n["#text"]&&(n.__text=n["#text"],n.__text instanceof Array&&(n.__text=n.__text.join("\n")),this.config.stripWhitespaces&&(n.__text=n.__text.trim()),delete n["#text"],"property"==this.config.arrayAccessForm&&delete n["#text_asArray"],n.__text=this.checkFromXmlDateTimePaths(n.__text,s,e+"."+s)),null!=n["#cdata-section"]&&(n.__cdata=n["#cdata-section"],delete n["#cdata-section"],"property"==this.config.arrayAccessForm&&delete n["#cdata-section_asArray"]),0==n.__cnt&&"text"==this.config.emptyNodeForm?n="":1==n.__cnt&&null!=n.__text?n=n.__text:1!=n.__cnt||null==n.__cdata||this.config.keepCData?n.__cnt>1&&null!=n.__text&&this.config.skipEmptyTextNodesForObj&&(this.config.stripWhitespaces&&""==n.__text||""==n.__text.trim())&&delete n.__text:n=n.__cdata,delete n.__cnt,!this.config.enableToStringFunc||null==n.__text&&null==n.__cdata||(n.toString=function(){return(null!=this.__text?this.__text:"")+(null!=this.__cdata?this.__cdata:"")}),n}if(t.nodeType==this.DOMNodeTypes.TEXT_NODE||t.nodeType==this.DOMNodeTypes.CDATA_SECTION_NODE)return t.nodeValue}startTag(t,e,n,i){var r="<"+(null!=t&&null!=t.__prefix?t.__prefix+":":"")+e;if(null!=n)for(var o=0;o<n.length;o++){var s=n[o],a=t[s];this.config.escapeMode&&(a=this.escapeXmlChars(a)),r+=" "+s.substr(this.config.attributePrefix.length)+"=",this.config.useDoubleQuotes?r+='"'+a+'"':r+="'"+a+"'"}return r+=i?"/>":">"}endTag(t,e){return"</"+(null!=t.__prefix?t.__prefix+":":"")+e+">"}endsWith(t,e){return-1!==t.indexOf(e,t.length-e.length)}jsonXmlSpecialElem(t,e){return!!("property"==this.config.arrayAccessForm&&this.endsWith(e.toString(),"_asArray")||0==e.toString().indexOf(this.config.attributePrefix)||0==e.toString().indexOf("__")||t[e]instanceof Function)}jsonXmlElemCount(t){var e=0;if(t instanceof Object)for(var n in t)this.jsonXmlSpecialElem(t,n)||e++;return e}checkJsonObjPropertiesFilter(t,e,n){return 0==this.config.jsonPropertiesFilter.length||""==n||this.checkInStdFiltersArrayForm(this.config.jsonPropertiesFilter,t,e,n)}parseJSONAttributes(t){var e=[];if(t instanceof Object)for(var n in t)-1==n.toString().indexOf("__")&&0==n.toString().indexOf(this.config.attributePrefix)&&e.push(n);return e}parseJSONTextAttrs(t){var e="";return null!=t.__cdata&&(e+="<![CDATA["+t.__cdata+"]]>"),null!=t.__text&&(this.config.escapeMode?e+=this.escapeXmlChars(t.__text):e+=t.__text),e}parseJSONTextObject(t){var e="";return t instanceof Object?e+=this.parseJSONTextAttrs(t):null!=t&&(this.config.escapeMode?e+=this.escapeXmlChars(t):e+=t),e}getJsonPropertyPath(t,e){return""===t?e:t+"."+e}parseJSONArray(t,e,n,i){var r="";if(0==t.length)r+=this.startTag(t,e,n,!0);else for(var o=0;o<t.length;o++)r+=this.startTag(t[o],e,this.parseJSONAttributes(t[o]),!1),r+=this.parseJSONObject(t[o],this.getJsonPropertyPath(i,e)),r+=this.endTag(t[o],e);return r}parseJSONObject(t,e){var n="";if(this.jsonXmlElemCount(t)>0)for(var i in t)if(!this.jsonXmlSpecialElem(t,i)&&(""==e||this.checkJsonObjPropertiesFilter(t,i,this.getJsonPropertyPath(e,i)))){var r=t[i],o=this.parseJSONAttributes(r);if(null==r||null==r)n+=this.startTag(r,i,o,!0);else if(r instanceof Object)if(r instanceof Array)n+=this.parseJSONArray(r,i,o,e);else if(r instanceof Date)n+=this.startTag(r,i,o,!1),n+=r.toISOString(),n+=this.endTag(r,i);else{this.jsonXmlElemCount(r)>0||null!=r.__text||null!=r.__cdata?(n+=this.startTag(r,i,o,!1),n+=this.parseJSONObject(r,this.getJsonPropertyPath(e,i)),n+=this.endTag(r,i)):n+=this.startTag(r,i,o,!0)}else n+=this.startTag(r,i,o,!1),n+=this.parseJSONTextObject(r),n+=this.endTag(r,i)}return n+=this.parseJSONTextObject(t)}parseXmlString(t){var e,n=window.ActiveXObject||"ActiveXObject"in window;if(void 0===t)return null;if(window.DOMParser){var i=new window.DOMParser,r=null;if(!n)try{r=i.parseFromString("INVALID","text/xml").getElementsByTagName("parsererror")[0].namespaceURI}catch(t){r=null}try{e=i.parseFromString(t,"text/xml"),null!=r&&e.getElementsByTagNameNS(r,"parsererror").length>0&&(e=null)}catch(t){e=null}}else 0==t.indexOf("<?")&&(t=t.substr(t.indexOf("?>")+2)),(e=new ActiveXObject("Microsoft.XMLDOM")).async="false",e.loadXML(t);return e}asArray(t){return void 0===t||null==t?[]:t instanceof Array?t:[t]}toXmlDateTime(t){return t instanceof Date?t.toISOString():"number"==typeof t?new Date(t).toISOString():null}asDateTime(t){return"string"==typeof t?this.fromXmlDateTime(t):t}xml2json(t){return this.parseDOMChildren(t)}xml_str2json(t){var e=this.parseXmlString(t);return null!=e?this.xml2json(e):null}json2xml_str(t){return this.parseJSONObject(t,"")}json2xml(t){var e=this.json2xml_str(t);return this.parseXmlString(e)}getVersion(){return this.VERSION}}function rt(t){t=t.replace(/<\!--\[CDATA\[/g,"<![CDATA[").replace(/\]\]-->/g,"]]>");let e=new it({useDoubleQuotes:!0}),n=JSON.stringify(e.xml_str2json(t));return n=n.replace("SMXML","smxml"),n=JSON.parse(n),n}function ot(t){t&&(st.select("#answer","checked",!!t.ans),st.select("#special_module_user_xml","value",t.uXml),"object"==typeof window&&(window.ISSPECIALMODULEUSERXMLCHANGE=1,"undefined"!=typeof calculatePoint&&calculatePoint(t.correctPoints||1,t.ansPoint||t.ans)),globalThis.saveUserAnswerInSapper?.(t))}const st=new K;new class{constructor(t={}){this._options=t,this._allowed=!1,this._init()}_init(){"undefined"!=typeof Storage?(this._allowed=!0,window.onstorage=t=>{this._options.onStore&&this._options.onStore(t)}):(this._allowed=!1,console.warn("Sorry! No Web Storage support.."))}key(t){if(this._allowed)return this._options.session?console.warn("Session has not key method."):window.localStorage.key(t)}get(t){if(this._allowed)return this._options.session?window.sessionStorage.getItem(t):window.localStorage.getItem(t)}set(t,e){if(this._allowed)return this._options.session?window.sessionStorage.setItem(t,e):window.localStorage.setItem(t,e)}remove(t){if(this._allowed)return this._options.session?window.sessionStorage.removeItem(t):window.localStorage.removeItem(t)}clearAll(){if(this._allowed)return this._options.session?window.sessionStorage.clear():window.localStorage.clear()}};function at(t){h(t,"svelte-ri6gyf",".smControlerBtn .btn-light:not([disabled]):not(.disabled).active{color:#fff!important;-webkit-box-shadow:inset 0 2px 0 #1266f1!important;box-shadow:inset 0 2px 0 #1266f1!important;background-color:#2572f2!important;border-color:#2572f2!important;border-top-color:#0c57d3!important}")}function lt(e){let n,r,o,s,a,l;return{c(){n=m("div"),r=m("button"),r.textContent="Correct Answer",o=f(),s=m("button"),s.textContent="Your Answer",v(r,"tabindex","0"),v(r,"type","button"),v(r,"mode","c"),v(r,"class","btn btn-light correct-ans svelte_items_test"),v(s,"tabindex","0"),v(s,"type","button"),v(s,"mode","u"),v(s,"class","btn btn-light your-ans active svelte_items_test"),v(n,"class","smControlerBtn btn-group mb-3"),v(n,"role","group"),v(n,"aria-label","Answer buttons")},m(t,i){p(t,n,i),d(n,r),d(n,o),d(n,s),a||(l=[w(r,"click",e[2]),w(s,"click",e[2])],a=!0)},p:t,d(t){t&&u(n),a=!1,i(l)}}}function ct(e){let n,r,o,s,a,l,c,h=e[0]&&lt(e);return{c(){n=m("center"),r=m("button"),o=f(),s=m("button"),a=f(),h&&h.c(),v(r,"tabindex","0"),v(r,"type","button"),v(r,"class","h h-imp svelte_items_test"),v(r,"id","set-review"),v(s,"tabindex","0"),v(s,"type","button"),v(s,"class","h h-imp svelte_items_test"),v(s,"id","unset-review")},m(t,i){p(t,n,i),d(n,r),d(n,o),d(n,s),d(n,a),h&&h.m(n,null),l||(c=[w(r,"click",e[4]),w(s,"click",e[5])],l=!0)},p(t,[e]){t[0]?h?h.p(t,e):(h=lt(t),h.c(),h.m(n,null)):h&&(h.d(1),h=null)},i:t,o:t,d(t){t&&u(n),h&&h.d(),l=!1,i(c)}}}function dt(t,e,n){let{reviewMode:i=!1}=e,{handleReviewClick:r}=e;const o=E();return t.$$set=t=>{"reviewMode"in t&&n(0,i=t.reviewMode),"handleReviewClick"in t&&n(3,r=t.handleReviewClick)},[i,o,function(t){document.querySelectorAll(".smControlerBtn button").forEach((t=>t.classList.remove("active"))),t.target.classList.add("active"),r&&r(t.target.getAttribute("mode"),t)},r,()=>o("setReview"),()=>o("unsetReview")]}class ht extends Y{constructor(t){super(),W(this,t,dt,ct,o,{reviewMode:0,handleReviewClick:3},at)}}function pt(t,e,n,i,r){let o,s={x:t.layerX,y:t.layerY,top:0,left:0,uXml:"",ans:!1,ans_h:e,ans_w:n,ans_left:i,ans_top:r};var a,l;return t.layerX&&t.layerY?(s.top=t.layerY-13,s.left=t.layerX-13):(s.top=t.offsetY-13,s.left=t.offsetX-13),o=function(t,e){let n=0,i=t.ans_top+t.ans_h,r=t.ans_left+t.ans_w;return t.top+e>t.ans_top&&t.top+parseInt(e/2)<i&&t.left+e>t.ans_left&&t.left+parseInt(e/2)<r&&(n=1),n}(s,13),s.uXml=(a=s.top,l=s.left,'<SMANS type="4"><div targetTop="'+parseInt(a)+'" targetLeft="'+parseInt(l)+'" /></SMANS>'),"undefined"!=typeof calculatePoint&&(temp=1==o?1:0,calculatePoint(1,temp)),s.ans=o>0,s}const ut=[];function mt(t){h(t,"svelte-11usv4u","main.svelte-11usv4u{text-align:center !important;padding:1em;max-width:240px;margin:0 auto;font-size:26px}.targetImg.svelte-11usv4u{display:none;position:absolute;z-index:10;width:17px;height:15px;border-radius:50%;background:#fff;color:#1c3ad4}.showBlock.svelte-11usv4u{display:block}@media(min-width: 640px){main.svelte-11usv4u{max-width:none}}")}function gt(t){let e,n,i=t[21](t[17][t[14]])+"";return{c(){e=new _,n=y(),e.a=n},m(t,r){e.m(i,t,r),p(t,n,r)},p(t,n){16384&n[0]&&i!==(i=t[21](t[17][t[14]])+"")&&e.p(i)},d(t){t&&u(n),t&&e.d()}}}function ft(t){let e,n,i,r,o,s,a,l=t[16]&&wt();return{c(){e=m("center"),n=m("div"),i=m("div"),i.innerHTML='<span class="icomoon-new-24px-reset-1 s3" style="vertical-align: text-top"></span>  \n\t\t\t\t\t\t\t<span class="position-relative bottom1">Reset</span>',r=f(),o=m("div"),a=f(),l&&l.c(),v(i,"id","reset"),x(i,"height","27px"),x(i,"width","90px"),x(i,"top","2px"),v(i,"class","reset btn btn-outline-primary position-relative btn-sm mt-sm2 mr-sm2 float-end"),x(n,"height","34px"),x(n,"width",window.inNative?window.innerWidth:t[2].imgwidth),x(n,"background","#d9e7fd"),x(n,"border-top","2px solid #96bbf6"),v(o,"id","hptmain0"),v(o,"totalcorrectans",t[0]),v(o,"dd",s=t[2].imgwidth),x(o,"width",t[2].imgwidth||"250px"),x(o,"height",t[2].imgheight||"600px"),x(o,"background-image","url('"+(bt+t[13])+"')"),x(o,"background-repeat","no-repeat"),x(o,"position","relative"),x(o,"border","2px solid #d9e7fd"),v(e,"key","imageHeight_3")},m(t,s){p(t,e,s),d(e,n),d(n,i),d(e,r),d(e,o),d(e,a),l&&l.m(e,null)},p(t,i){4&i[0]&&x(n,"width",window.inNative?window.innerWidth:t[2].imgwidth),1&i[0]&&v(o,"totalcorrectans",t[0]),4&i[0]&&s!==(s=t[2].imgwidth)&&v(o,"dd",s),4&i[0]&&x(o,"width",t[2].imgwidth||"250px"),4&i[0]&&x(o,"height",t[2].imgheight||"600px"),8192&i[0]&&x(o,"background-image","url('"+(bt+t[13])+"')"),t[16]?l||(l=wt(),l.c(),l.m(e,null)):l&&(l.d(1),l=null)},d(t){t&&u(e),l&&l.d()}}}function yt(t){let e,n,i,r,o,s,a,c,h,y,b,_,S,k,T,E,C,D;return{c(){e=m("table"),n=m("tbody"),i=m("tr"),r=m("td"),o=m("div"),s=m("div"),a=m("img"),h=f(),y=m("div"),b=g(" "),S=f(),k=m("span"),v(a,"id","im0"),v(a,"tabindex","0"),x(a,"max-width","none"),x(a,"width",t[2].imgwidth),x(a,"height",t[2].imgheight),v(a,"class","hotSpotImg"),l(a.src,c=bt+t[13])||v(a,"src",c),v(a,"alt",t[1]),v(y,"id","hotArea"),v(y,"class","hotArea hotArea hotAreaPreview"),v(y,"style",_=`\n\t\t\t\t\t\t\t\t\t\t\t\tdisplay: ${t[10]};\n\t\t\t\t\t\t\t\t\t\t\t\tleft:${t[9]};\n\t\t\t\t\t\t\t\t\t\t\t\ttop:${t[6]};\n\t\t\t\t\t\t\t\t\t\t\t\theight:${t[7]};\n\t\t\t\t\t\t\t\t\t\t\t\twidth:${t[8]};\n\t\t\t\t\t\t\t\t\t\t\t`),v(k,"id","target"),v(k,"class","target targetImg icomoon-plus-circle-2 svelte-11usv4u"),v(k,"style",T=`\n\t\t\t\t\t\t\t\t\t\t\t\tleft:${t[11]}px;\n\t\t\t\t\t\t\t\t\t\t\t\ttop:${t[12]}px;\n\t\t\t\t\t\t\t\t\t\t\t`),A(k,"showBlock",t[5]),v(s,"id","SM0"),v(s,"class","SM position-relative m-0 p-0"),v(s,"style",E=`\n\t\t\t\t\t\t\t\t\t\t\tposition: relative;\n\t\t\t\t\t\t\t\t\t\t\tmargin: 0px;\n\t\t\t\t\t\t\t\t\t\t\tpadding: 0px;\n\t\t\t\t\t\t\t\t\t\t\twidth: 100%;\n\t\t\t\t\t\t\t\t\t\t\theight: 100%;\n\t\t\t\t\t\t\t\t\t\t\tborder: ${t[3]?t[3]+"px solid":""};\n\t\t\t\t\t\t\t\t\t\t\tborder-color: ${t[4]};\n\t\t\t\t\t\t\t\t\t\t`),v(o,"id","SM0"),v(o,"class","relative"),v(r,"class","border"),v(e,"id","hptmain0"),v(e,"class","smbase smhotspot border-0 h-auto w-auto uc-table")},m(l,c){p(l,e,c),d(e,n),d(n,i),d(i,r),d(r,o),d(o,s),d(s,a),d(s,h),d(s,y),d(y,b),d(s,S),d(s,k),C||(D=w(a,"click",t[18]),C=!0)},p(t,e){4&e[0]&&x(a,"width",t[2].imgwidth),4&e[0]&&x(a,"height",t[2].imgheight),8192&e[0]&&!l(a.src,c=bt+t[13])&&v(a,"src",c),2&e[0]&&v(a,"alt",t[1]),1984&e[0]&&_!==(_=`\n\t\t\t\t\t\t\t\t\t\t\t\tdisplay: ${t[10]};\n\t\t\t\t\t\t\t\t\t\t\t\tleft:${t[9]};\n\t\t\t\t\t\t\t\t\t\t\t\ttop:${t[6]};\n\t\t\t\t\t\t\t\t\t\t\t\theight:${t[7]};\n\t\t\t\t\t\t\t\t\t\t\t\twidth:${t[8]};\n\t\t\t\t\t\t\t\t\t\t\t`)&&v(y,"style",_),6144&e[0]&&T!==(T=`\n\t\t\t\t\t\t\t\t\t\t\t\tleft:${t[11]}px;\n\t\t\t\t\t\t\t\t\t\t\t\ttop:${t[12]}px;\n\t\t\t\t\t\t\t\t\t\t\t`)&&v(k,"style",T),32&e[0]&&A(k,"showBlock",t[5]),24&e[0]&&E!==(E=`\n\t\t\t\t\t\t\t\t\t\t\tposition: relative;\n\t\t\t\t\t\t\t\t\t\t\tmargin: 0px;\n\t\t\t\t\t\t\t\t\t\t\tpadding: 0px;\n\t\t\t\t\t\t\t\t\t\t\twidth: 100%;\n\t\t\t\t\t\t\t\t\t\t\theight: 100%;\n\t\t\t\t\t\t\t\t\t\t\tborder: ${t[3]?t[3]+"px solid":""};\n\t\t\t\t\t\t\t\t\t\t\tborder-color: ${t[4]};\n\t\t\t\t\t\t\t\t\t\t`)&&v(s,"style",E)},d(t){t&&u(e),C=!1,D()}}}function wt(t){let e;return{c(){e=m("div"),v(e,"class","position-fixed index0"),x(e,"right","0"),x(e,"top","0"),x(e,"left","0"),x(e,"bottom","0"),x(e,"background","rgba(0,0,0,0.4)")},m(t,n){p(t,e,n)},d(t){t&&u(e)}}}function vt(t){let e,n,i,r,o,s,a,l;function c(t,e){return"4"==t[17][t[14]]?yt:"3"==t[17][t[14]]?ft:gt}i=new ht({}),i.$on("setReview",t[19]),i.$on("unsetReview",t[20]);let h=c(t),g=h(t);return{c(){e=m("main"),n=m("center"),J(i.$$.fragment),r=f(),o=m("div"),g.c(),s=f(),a=m("input"),v(o,"id","previewArea"),v(o,"class","relative"),v(a,"type","hidden"),v(a,"id","special_module_parse"),v(a,"name","special_module_parse"),v(a,"userans",""),a.value=t[15],v(e,"class","svelte-11usv4u")},m(t,c){p(t,e,c),d(e,n),z(i,n,null),d(n,r),d(n,o),g.m(o,null),d(e,s),d(e,a),l=!0},p(t,e){h===(h=c(t))&&g?g.p(t,e):(g.d(1),g=h(t),g&&(g.c(),g.m(o,null))),(!l||32768&e[0])&&(a.value=t[15])},i(t){l||(B(i.$$.fragment,t),l=!0)},o(t){F(i.$$.fragment,t),l=!1},d(t){t&&u(e),U(i),g.d()}}}!function(t,e){void 0===e&&(e={});var n=e.insertAt;if(t&&"undefined"!=typeof document){var i=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css","top"===n&&i.firstChild?i.insertBefore(r,i.firstChild):i.appendChild(r),r.styleSheet?r.styleSheet.cssText=t:r.appendChild(document.createTextNode(t))}}('#hptmain .drag-resize{position:absolute;left:90px;top:50px;border:none;z-index:8;text-align:center;font-size:0;line-height:20px;background-color:rgba(244,255,71,.6)!important;box-shadow:0 0 1px #000 inset;cursor:move}.tools{position:absolute;right:5px;z-index:101}.tools .labs-btn{padding:2px 5px}.drag-resize .tools{top:-28px;right:-3px}.elemActive{background:rgba(244,255,71,.6)!important;opacity:1!important}#option-toolbar{margin-bottom:0}.controls{list-style:none;margin:0;padding:0}.controls li{display:inline;padding:11px;float:left;font-size:13px}.controls li:hover,.selected-option{cursor:pointer;background-color:#ccc!important}#hotspot{width:700px;padding:4px;border-top-right-radius:10px;border-top-left-radius:10px;text-align:left;background-color:#ccc}.hotspotTxt{background:#fff;word-wrap:break-word;padding:1em;min-height:180px;text-align:left;overflow-y:scroll;border:1px solid #ccc;font-family:"open sans",Helvetica,Arial,"Times New Roman",sans-serif;font-size:14px}.hotspotTxt p{float:left;margin-bottom:3px}.textClick{border:1px solid transparent;padding:2px 0;margin-right:2px;cursor:pointer;border-radius:2px;position:relative;-webkit-user-select:none;-moz-user-select:none;user-select:none}.selecttext.selected,.textClick.selected,.textClick.selected:hover{background-color:#ff9;border:1px solid #8a7300;border-radius:2px}.textClick:hover{background-color:#fcfcd3;border-color:#8a7300}.show_correct{background-color:#e7f4e1!important;border-color:#62ae41!important}.show_incorrect{border-color:#da1919!important;background-color:#fbdddd!important}.selecttext{border:1px solid transparent;padding:3px 0;margin-right:2px;position:relative;margin-left:-1px;margin-right:-1px;border-radius:2px}.drawSurface{cursor:crosshair}.h{display:none}.textClick.selected:focus{box-shadow:inset 0 0 0 1px transparent,inset 0 0 0 1px #fff,inset 0 0 0 2px #000;outline:0}.red{color:red}#hptmain0 tr td{border:0!important}');let bt="//s3.amazonaws.com/jigyaasa_content_static/";function xt(t,e,n){let{xml:i}=e,{uxml:r}=e,{ansStatus:o}=e,{isReview:s}=e,{showAns:a}=e,{editorState:l}=e;const c=new Z;let d,h,p="",u=0,m="",g={textclick:"1",textselect:"2",imagehighlight:"3",hotspot:"4"},f={},y=0,w="gray",v=!1,b="",x="",A="",_="",S="none",k=0,E=0,C=0,D=0,N="",I="",O="",M=0,j=0,L="",$="",P="black",H="",R=0,q=[],X=[],B=0,F=0;var J="textclick",z="",U="";function W(){switch(n(14,O=p.smxml.div._type),M=p.smxml._height,j=p.smxml._width,null!=O&&""!=O||n(14,O=p.smxml._name.toLowerCase()),J=O,n(13,I=p.smxml._bgimg),g[O]){case"1":B=p.smxml._height+"px",F=p.smxml._width+"px",function(t){var e="",i=t.match(/%{(.*?)}%/gm);if(i){n(0,h=i.length);for(var r=0;r<i.length;r++)z=i[r].replace(/\s+/gm,"<uc:space>"),t=t.replace(i[r],z)}z="",t=t.split(" ");for(r=0;r<t.length;r++)t[r].match(/%{|%}/gm)?(t[r]=t[r].replace(/<uc:space>/gm," ").replace(/%{|}%/gm,""),e+='<p class="textClick" data-index="'+r+'" data-userans="0" data-correctans="1">'+t[r]+"</p>",z+=t[r]+"|"):e+='<p class="textClick" data-index="'+r+'" data-userans="0" data-correctans="0">'+t[r]+"</p>";z=z.replace(/\|$/gm,""),st.select(" #previewArea  #textID0").innerHTML=e}(p.smxml.div.__cdata),st.select(st.parent("#textID0"),"show","block"),st.selectAll('#drawPreview,table[id="hptmain2"]',"hide");break;case"2":isNaN(p.smxml._height)||(p.smxml._height=p.smxml._height+"px"),B=p.smxml._height,F=p.smxml._width+"px",function(t){z="";var e=t.match(/%{(.*?)}%/gm);if(e){for(var i=0;i<e.length;i+=1)z+=e[i].replace(/%{|}%/gm,"")+"|";U=t.replace(/%{/gm,'<span class="selecttext selected">').replace(/}%/gm,"<span>"),n(0,h=e.length),z=z.replace(/\|$/gm,"")}var r=t.replace(/%{|}%/gm,""),o=setTimeout(function(){st.select(" #previewArea  #textID0").innerHTML=r,clearTimeout(o)}.bind(self),100)}(p.smxml.div.__cdata),st.select(st.parent("#textID0"),"show","block"),st.selectAll('#drawPreview,table[id="hptmain2"]',"hide");break;case"3":{let t=new Image;t.addEventListener("load",(function(t){n(2,f.imgheight=p.smxml._height>this.height?p.smxml._height+"px":this.height+"px",f),n(2,f.imgwidth=p.smxml._width>this.width?p.smxml._width+"px":this.width+"px",f),st.find("#hptdraw0","canvas",{action:"attr",actionData:{height:f.imgheight,width:f.imgwidth}}),st.empty("#textID0"),K()}),!1),t.setAttribute("src",bt+p.smxml._bgimg)}break;case"4":{n(13,I=p.smxml._bgimg),n(1,m=p.smxml._alt),n(12,E=parseFloat(p.smxml.div._top)),n(11,k=parseFloat(p.smxml.div._left)+13),C=parseFloat(p.smxml.div._height),D=parseFloat(p.smxml.div._width),n(1,m=p.smxml.div._alt),N=p.smxml.div.type,n(3,y=p.smxml.div._border),n(4,w=p.smxml.div._bordercolor),n(8,A=p.smxml.div._width+"px"),n(7,x=p.smxml.div._height+"px"),n(9,_=parseInt(p.smxml.div._left)+4+"px"),n(6,b=parseInt(p.smxml.div._top)+2+"px");let t=new Image;t.onload=function(){let t=this.height+"px",e=this.width+"px";n(2,f.imgheight=p.smxml.div._imgheight?p.smxml.div._imgheight+"px":"auto !important",f),n(2,f.imgwidth=p.smxml.div._imgwidth?p.smxml.div._imgwidth+"px":"auto !important",f),st.select("#hptmain0","css",{height:t,width:e})},t.src=bt+p.smxml._bgimg}}}function Y(){s&&n(10,S="block");var t=new Image;if(t.onload=function(){"3"==g[O]?(n(2,f.imgheight=p.smxml._height>this.height?p.smxml._height+"px":this.height+"px",f),n(2,f.imgwidth=p.smxml._width>this.width?p.smxml._width+"px":this.width+"px",f)):(n(2,f.imgheight=p.smxml.div._imgheight?p.smxml.div._imgheight+"px":"auto !important",f),n(2,f.imgwidth=p.smxml.div._imgwidth?p.smxml.div._imgwidth+"px":"auto !important",f))},t.src=bt+I,r){n(15,L=r);let t=rt(r);t.SMANS&&t.SMANS.div&&(n(5,v=!0),n(11,k=t.SMANS.div._targetLeft),n(12,E=t.SMANS.div._targetTop))}}function V(t){let e={};"textclick"==J||"textselect"==J?e=c.check_Ans("#previewArea #hptmain0"):(e=pt(t,C,D,parseInt(_),parseInt(b)),n(5,v=!0),n(11,k=e.left),n(12,E=e.top),n(22,o=e.ans),n(28,d=o),l&&a(o?"Correct":"Incorrect")),ot(e)}function Q(){if(n(10,S="block"),"3"==g[O]){let t=st.find("#previewArea","canvas"),e=t.getAttribute("correctans");""!=e&&(e=JSON.parse(e)),c.drawOnCanvas(t,e,"green")}c.modeOnHot(1),st.select("#hptmain0","css",{pointerEvents:"none"})}function K(){if(n(10,S="none"),"3"==g[O]){st.find("#previewArea","canvas",{action:"remove"});var t=setTimeout((function(){!function(t,e){let r=st.find(t,"#hptmain0");t=r;let o=new nt({target:r,width:+f.imgwidth.replace("px",""),height:+f.imgheight.replace("px",""),correctans:$,cssClass:"drawSurface",penSize:4,type:"imagehighlight",editable:!e,onMove(){},onClick(){},onPaint(t){q.push(t.X),X.push(t.Y)},onRelease(i){!function(t,e,i){let r="",o=!1;if(!i){H="";var s=document.querySelector("#special_module_parse").value;""!=(s=s.substring(s.indexOf("{"),s.lastIndexOf("}")+1))?(s=Object.keys(JSON.parse(s)).length,H=c.getCoordinate(e,q,X,s)):H=c.getCoordinate(e,q,X,R),window.inNative&&window.getHeight&&window.getHeight(),window.ISSPECIALMODULEUSERXMLCHANGE=1,st.select("#special_module_user_xml").value=H,n(15,L=H),q=[],X=[];let t=st.find(e,"canvas").getAttribute("correctans"),i=st.find(e,"canvas").getAttribute("userans");""!=i&&(i=JSON.parse(i)),""!=t&&(t=JSON.parse(t));let h=c.compareDrawing(i,t,e),p="Incorrect";h>0?(o=!0,p="Correct",n(2,f.answerType3=!0,f),l&&a("Correct")):(o=!1,p="Incorrect",n(2,f.answerType3=!1,f)),l&&a(p),r=st.select("#special_module_user_xml").value,h=h>0,n(28,d=h),ot({ans:h,uXml:r}),st.select("#answer").checked=h>0,window.inNative&&window.postMessage(JSON.stringify({inNativeIsCorrect:o,userAnswers:r}),"*")}}(0,t,e)}});P=String(i.match(/linecolor=\"([^\"]+)\"/gm)),P=P.substring("11",P.length-1),e||st.listen("#previewArea","click","#reset",(()=>{o.clearSurface(),H="",R=0,n(15,L=""),st.selectAll(st.select(t).children,"attr",{userans:""}),n(28,d=!1)}));window.surface=o}("#previewArea",0);let e=st.find("#previewArea","canvas"),r=st.select("#special_module_parse").value,o=r.substring(r.indexOf("{"),r.lastIndexOf("}")+1);""!=o&&(o=JSON.parse(o)),c.drawOnCanvas(e,o,P),clearTimeout(t)}),500)}c.modeOnHot(),st.select("#hptmain0","css",{pointerEvents:"auto"})}return T((async()=>{p=rt(i),W(),Y(),c.readyThis("hptmain0",s),s?c.modeOnHot(1):c.modeOnHot(),st.listen("#previewArea","click",".textClick",(function(){V()})),st.listen("#previewArea","click",'[type="textselect"]',(function(){V()}))})),t.$$set=t=>{"xml"in t&&n(23,i=t.xml),"uxml"in t&&n(24,r=t.uxml),"ansStatus"in t&&n(22,o=t.ansStatus),"isReview"in t&&n(25,s=t.isReview),"showAns"in t&&n(26,a=t.showAns),"editorState"in t&&n(27,l=t.editorState)},t.$$.update=()=>{if(1040187392&t.$$.dirty[0]&&(s?(Q(),l&&0==u&&(a(d?"Correct":"Incorrect"),n(29,u=1))):(n(29,u=0),K())),1082130433&t.$$.dirty[0]&&i){let t=i.replace("\x3c!--[CDATA[","<![CDATA[").replace("]]--\x3e","]]>");t.match(/<\!\[CDATA\[{|<\!--\[CDATA\[{/gm)&&(n(30,$=t.toString().match(/{(.*)}/gim)),n(0,h=$.toString().match(/},"\d+"/gm)),n(0,h=h?h.pop():null),n(0,h=h?h.replace(/"|}|,/gm,""):1),t=t.replace($,""),n(30,$=$[0])),p=rt(i),W(),Y()}},[h,m,f,y,w,v,b,x,A,_,S,k,E,I,O,L,!1,g,V,Q,K,function(t){switch(t){case"1":case"2":{let t="",e="";if(r){let n=rt(r);window.test=r,n?.smans?.div&&(t=n.smans.div["_data-userAns"],e=n.smans.div["_data-userHtml"])}return`\n\t\t\t\t\t\t<div is id="hptmain0" totalCorrectAns=${h}>\n\t\t\t\t\t\t\t<div \n\t\t\t\t\t\t\t\tid="textID0" \n\t\t\t\t\t\t\t\ttype="${J}" \n\t\t\t\t\t\t\t\tdata-correcthtml="${U}" \n\t\t\t\t\t\t\t\tdata-correctans="${z}"\n\t\t\t\t\t\t\t\tdata-userans="${t}" \n\t\t\t\t\t\t\t\tdata-userhtml="${e}" \n\t\t\t\t\t\t\t\tclass="drag-resize hotspotTxt" \n\t\t\t\t\t\t\t\tstyle="max-width:${F}; height:${B}; line-height: 1.4;"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t`}default:return"<div>Incorrect question type</div>"}},o,i,r,s,a,l,d,u,$]}class At extends Y{constructor(t){super(),W(this,t,xt,vt,o,{xml:23,uxml:24,ansStatus:22,isReview:25,showAns:26,editorState:27},mt,[-1,-1])}}const _t="Token Highlight";function St(t){h(t,"svelte-4djjpi",".token.svelte-4djjpi.svelte-4djjpi:hover{border:1px solid #000!important}.bla .token:hover{border:1px solid #fff!important}.token_selected.svelte-4djjpi.svelte-4djjpi{background-color:#64bb63;color:#fff}.bla .token_highlight_heading{color:#000!important}.hotspot-token-preview.svelte-4djjpi br.svelte-4djjpi{clear:both}")}function kt(t,e,n){const i=t.slice();return i[25]=e[n],i[27]=n,i}function Tt(t){let e,n,i,r,o,s,a,l;i=new ht({props:{handleReviewClick:t[5],reviewMode:t[0].isReview}}),i.$on("setReview",t[2]),i.$on("unsetReview",t[3]);let c=t[0].itemLayout&&Ct(t);return{c(){e=m("div"),n=m("center"),J(i.$$.fragment),r=f(),o=m("div"),o.textContent=""+_t,s=f(),a=m("div"),c&&c.c(),v(o,"class","token_highlight_heading font17 p-2 text-left"),x(o,"max-width","600px"),x(o,"border-top","2px solid #96bbf6"),x(o,"background-color","#d9e7fd"),v(a,"class","p-2"),x(a,"max-width","600px"),x(a,"border","2px solid #d9e7fd"),x(a,"display","flow-root"),x(a,"text-align","left"),x(a,"justify-content","left"),v(e,"class","hotspot-token-preview svelte-4djjpi"),v(e,"tabindex","0")},m(t,h){p(t,e,h),d(e,n),z(i,n,null),d(n,r),d(n,o),d(n,s),d(n,a),c&&c.m(a,null),l=!0},p(t,e){const n={};1&e&&(n.reviewMode=t[0].isReview),i.$set(n),t[0].itemLayout?c?c.p(t,e):(c=Ct(t),c.c(),c.m(a,null)):c&&(c.d(1),c=null)},i(t){l||(B(i.$$.fragment,t),l=!0)},o(t){F(i.$$.fragment,t),l=!1},d(t){t&&u(e),U(i),c&&c.d()}}}function Et(e){let n;return{c(){n=m("div"),n.innerHTML="<span>Oops Something went wrong please check your ParseXML Function</span>",v(n,"class","alert alert-danger font-weight-bold")},m(t,e){p(t,n,e)},p:t,i:t,o:t,d(t){t&&u(n)}}}function Ct(t){let e,n=t[0].itemLayout,i=[];for(let e=0;e<n.length;e+=1)i[e]=jt(kt(t,n,e));return{c(){for(let t=0;t<i.length;t+=1)i[t].c();e=y()},m(t,n){for(let e=0;e<i.length;e+=1)i[e].m(t,n);p(t,e,n)},p(t,r){if(17&r){let o;for(n=t[0].itemLayout,o=0;o<n.length;o+=1){const s=kt(t,n,o);i[o]?i[o].p(s,r):(i[o]=jt(s),i[o].c(),i[o].m(e.parentNode,e))}for(;o<i.length;o+=1)i[o].d(1);i.length=n.length}},d(t){!function(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}(i,t),t&&u(e)}}}function Dt(t){let e,n=(t[25].value=t[25].value.replace(/##pt/g,"."))+"";return{c(){e=g(n)},m(t,n){p(t,e,n)},p(t,i){1&i&&n!==(n=(t[25].value=t[25].value.replace(/##pt/g,"."))+"")&&b(e,n)},d(t){t&&u(e)}}}function Nt(t){let e,n=(t[25].value=t[25].value.replace(/#cm/g,","))+"";return{c(){e=g(n)},m(t,n){p(t,e,n)},p(t,i){1&i&&n!==(n=(t[25].value=t[25].value.replace(/#cm/g,","))+"")&&b(e,n)},d(t){t&&u(e)}}}function It(t){let e,n,i,r,o,s,a,l,h,y,A,_,S,k,T,E,C,D,N=t[25].value+"";return{c(){e=m("div"),n=m("span"),i=g(N),h=f(),y=m("span"),A=m("span"),T=f(),v(n,"data-id",r="ID"+t[27]),v(n,"data-correct",o=st.findInArray("ID"+t[27],t[0].correctAns)),v(n,"data-selected",s=t[25].selected),v(n,"tabindex",a="auto"==t[0].pointerEvents?"0":"1"),v(n,"class",l="pointer float-left text-left font14 token "+(t[25].selected?"token_selected":"")+" svelte-4djjpi"),x(n,"margin","2px"),x(n,"user-select","none"),x(n,"border","1px solid transparent"),x(n,"padding","1px 3px"),x(n,"border-radius","3px"),x(n,"pointer-events",t[0].pointerEvents+"\r\n                                "),v(A,"class",_="position-relative "+(st.findInArray("ID"+t[27],t[0].correctAns)?"icomoon-new-24px-checkmark-circle-1":"icomoon-new-24px-cancel-circle-1")),x(A,"color",st.findInArray("ID"+t[27],t[0].correctAns)?"green":"red"),x(A,"bottom","3px"),x(A,"left","0"),v(A,"aria-label",S=st.findInArray("ID"+t[27],t[0].correctAns)?"marked as correct":"marked as incorrect"),v(y,"class",k=c(t[0].iconVisible)+" svelte-4djjpi"),x(y,"position","absolute"),x(y,"width","17px"),x(y,"height","17px"),x(y,"right","-8px"),x(y,"top","-9px"),x(y,"background","white"),x(y,"border-radius","15px 12px 12px"),x(y,"font-size","18px"),x(y,"z-index","1"),x(y,"display",(""==t[0].iconVisible&&t[25].selected?"block":"none")+"\r\n                                "),v(e,"key",E=t[27]),v(e,"class","tokenHeader position-relative float-left d-inline")},m(r,o){p(r,e,o),d(e,n),d(n,i),d(e,h),d(e,y),d(y,A),d(e,T),C||(D=w(n,"click",t[4].bind(this,t[27])),C=!0)},p(e,r){t=e,1&r&&N!==(N=t[25].value+"")&&b(i,N),1&r&&o!==(o=st.findInArray("ID"+t[27],t[0].correctAns))&&v(n,"data-correct",o),1&r&&s!==(s=t[25].selected)&&v(n,"data-selected",s),1&r&&a!==(a="auto"==t[0].pointerEvents?"0":"1")&&v(n,"tabindex",a),1&r&&l!==(l="pointer float-left text-left font14 token "+(t[25].selected?"token_selected":"")+" svelte-4djjpi")&&v(n,"class",l),1&r&&x(n,"pointer-events",t[0].pointerEvents+"\r\n                                "),1&r&&_!==(_="position-relative "+(st.findInArray("ID"+t[27],t[0].correctAns)?"icomoon-new-24px-checkmark-circle-1":"icomoon-new-24px-cancel-circle-1"))&&v(A,"class",_),1&r&&x(A,"color",st.findInArray("ID"+t[27],t[0].correctAns)?"green":"red"),1&r&&S!==(S=st.findInArray("ID"+t[27],t[0].correctAns)?"marked as correct":"marked as incorrect")&&v(A,"aria-label",S),1&r&&k!==(k=c(t[0].iconVisible)+" svelte-4djjpi")&&v(y,"class",k),1&r&&x(y,"display",(""==t[0].iconVisible&&t[25].selected?"block":"none")+"\r\n                                ")},d(t){t&&u(e),C=!1,D()}}}function Ot(e){let n;return{c(){n=m("br"),v(n,"class","svelte-4djjpi")},m(t,e){p(t,n,e)},p:t,d(t){t&&u(n)}}}function Mt(t){let e,n,i,r,o=t[25].value+"";return{c(){e=m("div"),n=m("span"),i=g(o),r=f(),v(n,"class","float-left position-absolute"),x(n,"left","-2.5px"),x(n,"top","2px"),v(e,"class","float-left position-relative d-inline"),x(e,"width","1.5px"),x(e,"height","1px")},m(t,o){p(t,e,o),d(e,n),d(n,i),d(e,r)},p(t,e){1&e&&o!==(o=t[25].value+"")&&b(i,o)},d(t){t&&u(e)}}}function jt(t){let e,n,i,r,o=t[25].value.indexOf("##pt")>-1,s=t[25].value.indexOf("#cm")>-1,a=o&&Dt(t),l=s&&Nt(t);function c(t,e){return","==t[25].value||"."==t[25].value?Mt:"#newline#"==t[25].value?Ot:It}let h=c(t),g=h(t);return{c(){e=m("div"),a&&a.c(),n=f(),l&&l.c(),i=f(),g.c(),r=y(),v(e,"class","h")},m(t,o){p(t,e,o),a&&a.m(e,null),d(e,n),l&&l.m(e,null),p(t,i,o),g.m(t,o),p(t,r,o)},p(t,i){1&i&&(o=t[25].value.indexOf("##pt")>-1),o?a?a.p(t,i):(a=Dt(t),a.c(),a.m(e,n)):a&&(a.d(1),a=null),1&i&&(s=t[25].value.indexOf("#cm")>-1),s?l?l.p(t,i):(l=Nt(t),l.c(),l.m(e,null)):l&&(l.d(1),l=null),h===(h=c(t))&&g?g.p(t,i):(g.d(1),g=h(t),g&&(g.c(),g.m(r.parentNode,r)))},d(t){t&&u(e),a&&a.d(),l&&l.d(),t&&u(i),g.d(t),t&&u(r)}}}function Lt(t){let e,n,r,o;const s=[Et,Tt],a=[];function l(t,e){return""!=t[1]?0:1}return e=l(t),n=a[e]=s[e](t),{c(){n.c(),r=y()},m(t,n){a[e].m(t,n),p(t,r,n),o=!0},p(t,[o]){let c=e;e=l(t),e===c?a[e].p(t,o):(X={r:0,c:[],p:X},F(a[c],1,1,(()=>{a[c]=null})),X.r||i(X.c),X=X.p,n=a[e],n?n.p(t,o):(n=a[e]=s[e](t),n.c()),B(n,1),n.m(r.parentNode,r))},i(t){o||(B(n),o=!0)},o(t){F(n),o=!1},d(t){a[e].d(t),t&&u(r)}}}function $t(e,n,i){let{xml:r}=n,{editorState:s}=n,{isReview:a}=n,{showAns:l}=n,{uxml:c}=n,d=0,h={},p=function(e,n=t){let i;const r=new Set;function s(t){if(o(e,t)&&(e=t,i)){const t=!ut.length;for(const t of r)t[1](),ut.push(t,e);if(t){for(let t=0;t<ut.length;t+=2)ut[t][0](ut[t+1]);ut.length=0}}}return{set:s,update:function(t){s(t(e))},subscribe:function(o,a=t){const l=[o,a];return r.add(l),1===r.size&&(i=n(s)||t),o(e),()=>{r.delete(l),0===r.size&&(i(),i=null)}}}}({xml:"",itemType:"",cdata:"",correctAns:"",userAns:[],itemLayout:[],smController:"h",pointerEvents:"auto",iconVisible:"h",isReview:!1}),u="";p.subscribe((t=>{i(0,h=t)}));var m;function g(){i(0,h.isReview=!0,h),i(0,h.smController="",h),i(0,h.pointerEvents="none",h),w("yans","showIcon"),st.select(".tokenHeader","attr",{tabIndex:"0"})}function f(){i(0,h.isReview=!1,h),i(0,h.smController="h",h),i(0,h.pointerEvents="auto",h),w("yans","hideIcon"),st.select(".tokenHeader","removeAttr","tabindex")}function y(){ISSPECIALMODULEUSERXMLCHANGE=1;let t=0;const e=h.correctAns.length;h.correctAns.map(((e,n)=>{h.userAns.map(((n,i)=>{e==n&&(t+=1)}))}));let n=e==t&&t==h.userAns.length;ot({ans:n,uXml:c}),l&&l(n?"Correct":"Incorrect")}function w(t,e){i(0,h.iconVisible="showIcon"==e?"":"h",h);let n=[];"cans"==t?n=h.correctAns:"yans"==t&&(n=h.userAns),h.itemLayout.map(((t,e)=>{t.selected=!!st.findInArray(t.id,n)}))}return m=()=>{r!=h.xml&&(i(0,h.xml=r,h),i(0,h.correctAns=[],h),i(0,h.userAns=[],h),async function(t){try{switch(i(0,h.correctAns=t.smxml.div._correctAns.split(","),h),i(0,h.itemType=t.smxml.div._type,h),i(0,h.cdata=t.smxml.div.__cdata,h),await(j(),O),t.smxml.div._type){case"w":!function(t){let e=(t=t.replace(/\n/g," #newline# ")).split(" ").map((t=>t.trim())).filter((t=>""!=t)),n=[],r=[];e.map(((t,e)=>{let n=t.match(/[.,]/g);if(n){let e=t.split(n[0]);r.push(e[0]),r.push(n[0]),e[1].trim()&&r.push(e[1])}else r.push(t)})),r.map(((t,e)=>{n.push({id:"ID"+e,value:t,selected:!1})})),i(0,h.itemLayout=n,h)}(h.cdata);break;case"s":!function(t){let e=t.split(".").map((t=>t.trim())).filter((t=>""!=t)),n=[];e.map(((t,e)=>{n.push({id:"ID"+e,value:t+".",selected:!1})})),i(0,h.itemLayout=n,h)}(h.cdata);break;case"p":!function(t){let e=t.split("\n").map((t=>t.trim())).filter((t=>""!=t)),n=[];e.map(((t,e)=>{n.push({id:"ID"+e,value:t,selected:!1})})),i(0,h.itemLayout=n,h)}(h.cdata);break;default:console.warn("No type found to parse")}c&&function(t){let e=rt(t);e.smans&&e.smans.div&&e.smans.div._userAns&&(i(0,h.userAns=e.smans.div._userAns.split(","),h),h.itemLayout.map(((t,e)=>{t.selected=!!st.findInArray(t.id,h.userAns)})))}(c)}catch(t){i(1,u=t),console.warn({error:t.message,"function name":"parseXMLPreview","File name":"HotspotTokenPreview.js"})}}(rt(r)))},k().$$.before_update.push(m),T((()=>{st.listen("body","keydown",".token",((t,e)=>{13===e.which&&t.click()})),window.inNative&&window.getHeight&&window.getHeight()})),e.$$set=t=>{"xml"in t&&i(7,r=t.xml),"editorState"in t&&i(8,s=t.editorState),"isReview"in t&&i(9,a=t.isReview),"showAns"in t&&i(10,l=t.showAns),"uxml"in t&&i(6,c=t.uxml)},e.$$.update=()=>{2816&e.$$.dirty&&(a?(g(),s&&0==d&&(i(11,d=1),y())):(i(11,d=0),s&&f()))},[h,u,g,f,function(t){i(0,h.itemLayout[t].selected=!h.itemLayout[t].selected,h),function(t,e){let n=h.userAns;if(1==e)n.push("ID"+t),i(0,h.userAns=n,h);else if(0==e){let e=n.indexOf("ID"+t);e>-1&&n.splice(e,1),i(0,h.userAns=n,h)}window.inNative&&window.getHeight&&window.getHeight();i(6,c="<smans><div userAns='"+h.userAns.join()+"'></div></smans>"),y()}(t,h.itemLayout[t].selected)},function(t,e){"c"==t?w("cans","hideIcon"):w("yans","showIcon")},c,r,s,a,l,d]}class Pt extends Y{constructor(t){super(),W(this,t,$t,Lt,o,{xml:7,editorState:8,isReview:9,showAns:10,uxml:6},St)}}const Ht='<smxml type="4" name="HotSpot" bgimg="star_topology_000dlj.jpg" path="" alt="" width="600" height="250">\n<div id="ID0" type="hotspot" top="172" left="220" width="112" height="80"  imgheight="" imgwidth="">\n\t\x3c!--[CDATA[]]--\x3e\n</div>\n</smxml>';let Rt,qt=XMLToJSON(window.QXML);return Rt=["w","s","p"].includes(qt.smxml.div._type)?new Pt({target:document.getElementById(window.moduleContainer)||document.body,props:{xml:window.QXML||Ht,uxml:window.uaXML,ansStatus:0,isReview:window.isReviewMode||!1}}):new At({target:document.getElementById(window.moduleContainer)||document.body,props:{xml:window.QXML||Ht,uxml:window.uaXML,ansStatus:0,isReview:window.isReviewMode||!1}}),Rt}();
//# sourceMappingURL=bundle_q4.js.map
