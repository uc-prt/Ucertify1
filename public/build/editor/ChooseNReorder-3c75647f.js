import{G as e,S as t,i as l,s as a,F as s,e as o,j as i,Z as r,b as n,f as c,g as d,h as m,l as u,v as h,o as p,y as v,H as f,I as g,K as x,c as _,m as $,M as y,t as S,a as b,d as w,D as k,E as C,X as A,J as E,u as q,r as M,w as T,C as O,A as D,O as L}from"./main-a30cdebc.js";var X="More than 6 options may cause this item to not render properly on a smartphone.",P="More than five rows and five columns may not render properly on a smartphone.";const N=new e;let J={err:{q9:X,q27:"You have exceeded the module limit. You can only create 6 statement nodes and 4 option nodes.",q6_advance:P},processError:function(e,t){return{error:e,message:t}},validate:function(e,t,l){if("q"==e||"u"==e)switch(t){case 9:return this.validate9(l);case 14:return this.validate14(l);case 6:return this.validate6(l);case 26:return this.validate26(l);case 27:return this.validate27(l)}},validate9:function(e){return N.selectAll("#fillmain [id^=elem]").length>6?this.processError(!0,this.err.q9):this.processError(!1,"valid")},validate6:function(e){let t=N.selectAll("#choose #sortable li").length;return console.log("len =>"+t),t>5?this.processError(!0,this.err.q9):this.processError(!1,"valid")},validate26:function(e){let t=N.selectAll("#mytable >tbody >tr").length,l=N.selectAll("#mytable >thead >tr >th").length;return t>5||l>6?this.processError(!0,this.err.q6_advance):this.processError(!1,"valid")},validate14:function(e){let t=N.selectAll("#matchListArea [class*='textarea_1']").length,l=selectAll("#matchListArea [class*='textarea_2']").length;return t>6||l>6?this.processError(!0,this.err.q9):this.processError(!1,"valid")},validate27:function(e){let t=N.selectAll("#choicemain .testmode_table tbody tr").length,l=N.selectAll("#choicemain .testmode_table thead tr th").length;return t>6||l>5?this.processError(!0,this.err.q27):this.processError(!1,"valid")}};const{document:I}=s;function H(e,t,l){const a=e.slice();return a[25]=t[l],a[27]=l,a}function V(e){let t,l=O.allow_sort+"";return{c(){t=q(l)},m(e,l){m(e,t,l)},p:M,d(e){e&&p(t)}}}function j(e){let t,l=O.in_sentence+"";return{c(){t=q(l)},m(e,l){m(e,t,l)},p:M,d(e){e&&p(t)}}}function F(e){let t,l=O.in_paragraph+"";return{c(){t=q(l)},m(e,l){m(e,t,l)},p:M,d(e){e&&p(t)}}}function Y(e){let t,l,a,s,r,f,g,x,_,$,y,S,b,w,k;function C(...t){return e[13](e[25],...t)}return{c(){t=o("div"),l=o("div"),a=o("div"),s=o("input"),f=n(),g=o("div"),x=o("textarea"),$=n(),y=o("div"),S=o("span"),c(s,"type","checkbox"),c(s,"id","check_correct_ans"),c(s,"name","check_correct_ans"),c(s,"class","secure-icon float-end"),s.checked=r="*"==e[25].value.charAt(0),d(s,"position","relative"),d(s,"top","11px"),d(s,"right","15px"),c(a,"class","col-1"),c(x,"class","height32 outline0 mb-1 ms-0 "),x.value=_="*"==e[25].value.charAt(0)?e[25].value.slice(1):e[25].value,c(g,"class","col"),c(S,"class","remove-item icomoon-24px-delete-1 height30 top1 position-relative float-start svelte-1afsy3o"),c(S,"tabindex","0"),d(S,"right","39px"),c(l,"class","form-row mt-head"),c(t,"class","clearfix mt choose_options"),c(t,"key",b=e[27])},m(o,r){m(o,t,r),i(t,l),i(l,a),i(a,s),i(l,f),i(l,g),i(g,x),i(l,$),i(l,y),i(y,S),w||(k=[u(s,"click",(function(){h(e[5].bind(e[25].value,e[27]))&&e[5].bind(e[25].value,e[27]).apply(this,arguments)})),u(x,"change",(function(){h(e[6].bind(e[25].value,e[27],e[2][e[27]]))&&e[6].bind(e[25].value,e[27],e[2][e[27]]).apply(this,arguments)})),u(S,"click",C)],w=!0)},p(t,l){e=t,1&l&&r!==(r="*"==e[25].value.charAt(0))&&(s.checked=r),1&l&&_!==(_="*"==e[25].value.charAt(0)?e[25].value.slice(1):e[25].value)&&(x.value=_)},d(e){e&&p(t),w=!1,v(k)}}}function z(e){let t;return{c(){t=q("Yes")},m(e,l){m(e,t,l)},d(e){e&&p(t)}}}function B(e){let t,l,a,s,r,d,v;return l=new L({props:{variant:"contained",class:"bg-primary text-white",$$slots:{default:[z]},$$scope:{ctx:e}}}),l.$on("click",(function(){h(e[7].bind(this,e[1].data_value,e[1].data_id))&&e[7].bind(this,e[1].data_value,e[1].data_id).apply(this,arguments)})),{c(){t=o("div"),_(l.$$.fragment),a=n(),s=o("input"),c(s,"type","button"),c(s,"variant","contained"),c(s,"class","btn btn-light colorgray"),s.value="No",c(t,"slot","footer"),c(t,"class","svelteFooter")},m(o,n){m(o,t,n),$(l,t,null),i(t,a),i(t,s),r=!0,d||(v=u(s,"click",e[14]),d=!0)},p(t,a){e=t;const s={};268435456&a&&(s.$$scope={dirty:a,ctx:e}),l.$set(s)},i(e){r||(S(l.$$.fragment,e),r=!0)},o(e){b(l.$$.fragment,e),r=!1},d(e){e&&p(t),w(l),d=!1,v()}}}function G(e){let t,l,a,s;return{c(){t=o("h4"),t.textContent="Confirmation",l=n(),a=o("div"),a.innerHTML='<span class="col-md-12 mt-4">Do you really want to delete?</span>',s=n(),c(a,"class","row")},m(e,o){m(e,t,o),m(e,l,o),m(e,a,o),m(e,s,o)},p:M,i:M,o:M,d(e){e&&p(t),e&&p(l),e&&p(a),e&&p(s)}}}function K(e){let t,l,a,s,d,h,C,A,E,q,M,T,O,D,L,X,P,N,J,z,K,R,U,Z,Q,W,ee,te,le,ae,se,oe,ie,re,ne,ce,de,me,ue,he;P=new r({props:{id:"allowSort",color:"",checked:1==e[1].allowSort,$$slots:{default:[V]},$$scope:{ctx:e}}}),P.$on("click",e[4]),z=new r({props:{id:"isSentence",color:"primary",checked:1==e[1].isSentence,$$slots:{default:[j]},$$scope:{ctx:e}}}),z.$on("click",e[4]),U=new r({props:{id:"isParagraph",color:"primary",checked:1==e[1].isParagraph,$$slots:{default:[F]},$$scope:{ctx:e}}}),U.$on("click",e[4]);let pe=e[0],ve=[];for(let t=0;t<pe.length;t+=1)ve[t]=Y(H(e,pe,t));function fe(t){e[15].call(null,t)}let ge={$$slots:{default:[G],footer:[B]},$$scope:{ctx:e}};return void 0!==e[1].open&&(ge.visible=e[1].open),ce=new f({props:ge}),g.push((()=>x(ce,"visible",fe))),ce.$on("close",e[16]),{c(){t=o("link"),a=n(),s=o("main"),d=o("div"),h=o("center"),C=o("div"),A=o("div"),E=o("div"),q=o("label"),q.textContent="Title",M=n(),T=o("input"),D=n(),L=o("div"),X=o("div"),_(P.$$.fragment),N=n(),J=o("div"),_(z.$$.fragment),K=n(),R=o("div"),_(U.$$.fragment),Z=n(),Q=o("div");for(let e=0;e<ve.length;e+=1)ve[e].c();W=n(),ee=o("div"),ee.innerHTML='<p class="mb-md">Add a new item by clicking the <b>Add Item</b> button at the bottom-left corner.</p>',te=n(),le=o("button"),le.innerHTML='<span class="addbuttonplus svelte-1afsy3o">+</span> Â  Add option',ae=n(),se=o("input"),oe=n(),ie=o("input"),ne=n(),_(ce.$$.fragment),c(t,"onload","this.rel='stylesheet'"),c(t,"rel","preload"),c(t,"as","style"),c(t,"href",l=editor.baseUrlTheme+"clsSMChoose/css/choose.min.css"),c(q,"for","headingCorrect"),c(q,"class","mt-1 pt-1"),c(T,"id","headingCorrect"),c(T,"type","text"),c(T,"class","sm_input_text mt mb"),T.value=O=e[1].headingCorrect,c(E,"class","d-flex ms-2 ps-4"),c(X,"class","col-md-3 pd-0 float-left"),c(J,"class","col-md-3 pd-0 float-left"),c(R,"class","col-md-3 pd-0 float-left"),c(L,"class","clearfix mt ps-4"),c(A,"class","choose_head_content px-3 pt-3 pb-0"),c(ee,"class","alert alert-info message_content"),c(le,"type","button"),c(le,"id","add-item"),c(le,"class","btn btn-sm btn-outline-primary btn-sm float-left d-flex align-items-center mt-3 addbutton svelte-1afsy3o"),c(Q,"class","choose_item_container mb ps-4"),c(se,"id","check"),c(se,"type","hidden"),c(se,"class",""),se.value="",c(ie,"type","hidden"),c(ie,"name","special_module_xml"),c(ie,"id","special_module_xml"),c(ie,"defaultvalue",re=e[1].xml),c(C,"id","main"),c(C,"class","border")},m(l,o){i(I.head,t),m(l,a,o),m(l,s,o),i(s,d),i(d,h),i(h,C),i(C,A),i(A,E),i(E,q),i(E,M),i(E,T),i(A,D),i(A,L),i(L,X),$(P,X,null),i(L,N),i(L,J),$(z,J,null),i(L,K),i(L,R),$(U,R,null),i(C,Z),i(C,Q);for(let e=0;e<ve.length;e+=1)ve[e].m(Q,null);i(Q,W),i(Q,ee),i(Q,te),i(Q,le),i(C,ae),i(C,se),i(C,oe),i(C,ie),i(s,ne),$(ce,s,null),me=!0,ue||(he=[u(T,"change",e[4]),u(le,"click",e[3])],ue=!0)},p(e,[t]){(!me||2&t&&O!==(O=e[1].headingCorrect)&&T.value!==O)&&(T.value=O);const l={};2&t&&(l.checked=1==e[1].allowSort),268435456&t&&(l.$$scope={dirty:t,ctx:e}),P.$set(l);const a={};2&t&&(a.checked=1==e[1].isSentence),268435456&t&&(a.$$scope={dirty:t,ctx:e}),z.$set(a);const s={};if(2&t&&(s.checked=1==e[1].isParagraph),268435456&t&&(s.$$scope={dirty:t,ctx:e}),U.$set(s),103&t){let l;for(pe=e[0],l=0;l<pe.length;l+=1){const a=H(e,pe,l);ve[l]?ve[l].p(a,t):(ve[l]=Y(a),ve[l].c(),ve[l].m(Q,W))}for(;l<ve.length;l+=1)ve[l].d(1);ve.length=pe.length}(!me||2&t&&re!==(re=e[1].xml))&&c(ie,"defaultvalue",re);const o={};268435458&t&&(o.$$scope={dirty:t,ctx:e}),!de&&2&t&&(de=!0,o.visible=e[1].open,y((()=>de=!1))),ce.$set(o)},i(e){me||(S(P.$$.fragment,e),S(z.$$.fragment,e),S(U.$$.fragment,e),S(ce.$$.fragment,e),me=!0)},o(e){b(P.$$.fragment,e),b(z.$$.fragment,e),b(U.$$.fragment,e),b(ce.$$.fragment,e),me=!1},d(e){p(t),e&&p(a),e&&p(s),w(P),w(z),w(U),k(ve,e),w(ce),ue=!1,v(he)}}}function R(e,t,l){let a=[],s=[],o={},{xml:i}=t,{getChildXml:r}=t,{changed_advance_xml:n}=t,{editorState:c}=t,{smValidate:d}=t;T({xml:"",headingCorrect:"",allowSort:"",isSentence:"",isParagraph:"",isadvance:!1,CDATA:"",istoggled:!1,openImageDialog:!1,openErrorDialog:!1,row_value:"",col_value:"",err_message:O.min_row_col_value,tomaketable:"none",open:!1,data_id:"",data_value:"",stateXMLToJSON:""}).subscribe((e=>{l(1,o=e)}));let m=[];C((()=>{o.xml!=i&&(l(1,o.xml=i,o),l(1,o.stateXMLToJSON=A(i),o),function(e){let t,i;try{l(0,a=[]),s=[],e.smxml.list._oldCData&&(i=e.smxml.list._oldCData.split("###")),t=e.smxml.list.__cdata.split("\n"),e.smxml.list._row&&e.smxml.list._col&&(delete e.smxml.list._allowsort,delete e.smxml.list._headingAll,n(E(e),26)),t.forEach((function(e,l){""!=t[l].trim()&&a.push({value:t[l].replace(/^\s+/g,""),id:l})})),i&&i.forEach((function(e,t){""!=i[t].trim()&&s.push({value:i[t].replace(/^\s+/g,""),id:t})})),function(e){let t=e,l=!1;t.smxml.list._headingCorrect&&(t.smxml.list._headingcorrect=t.smxml.list._headingCorrect,delete t.smxml.list._headingCorrect,l=!0),t.smxml.list._allowSort&&(t.smxml.list._allowsort=t.smxml.list._allowSort,delete t.smxml.list._allowSort,l=!0),t.smxml.list._isParagraph&&(t.smxml.list._isparagraph=t.smxml.list._isParagraph,delete t.smxml.list._isParagraph,l=!0),t.smxml.list._isSentence&&(t.smxml.list._issentence=t.smxml.list._isSentence,delete t.smxml.list._isSentence,l=!0),1==l&&r(E(t))}(e),l(1,o.headingCorrect=e.smxml.list._headingcorrect,o),l(1,o.allowSort=e.smxml.list._allowsort,o),l(1,o.isSentence=e.smxml.list._issentence,o),l(1,o.isParagraph=e.smxml.list._isparagraph,o)}catch(e){console.warn({error:e,"function name":"parseXMLAuthoring","File name":"ChooseNReorder.js"})}}(o.stateXMLToJSON))}));return e.$$set=e=>{"xml"in e&&l(8,i=e.xml),"getChildXml"in e&&l(9,r=e.getChildXml),"changed_advance_xml"in e&&l(10,n=e.changed_advance_xml),"editorState"in e&&l(11,c=e.editorState),"smValidate"in e&&l(12,d=e.smValidate)},e.$$.update=()=>{1&e.$$.dirty&&a.forEach((function(e,t){l(2,m[t]="*"==e.value.charAt(0),m)}))},[a,o,m,function(){D.find("#choose","#sortable li","all").length<=9?function(){let e=o.stateXMLToJSON;e.smxml.list.__cdata=e.smxml.list.__cdata+"\n*Option value",e.smxml.list._oldCData&&(e.smxml.list._oldCData.lastIndexOf("###")==e.smxml.list._oldCData.length-3?e.smxml.list._oldCData+="*Option value":e.smxml.list._oldCData+="###*Option value");if(r(E(e)),!e.smxml.list._row&&!e.smxml.list._col){var t=J.validate(c.content_type,c.item,c.content_icon);d(t)}}():D&&D.alert("Maximum possible value of nodes are 10.")},function(e){let t=o.stateXMLToJSON;switch(e.target.id){case"allowSort":t.smxml.list._allowsort=1==e.target.checked?"1":"0";break;case"isSentence":1==e.target.checked?(0==document.querySelector("#allowSort").checked?(document.querySelector("#allowSort").click(),document.querySelector("#allowSort").disabled=!0):document.querySelector("#allowSort").disabled=!0,l(1,o.isSentence="1",o),l(1,o.allowSort="1",o),t.smxml.list._issentence="1",t.smxml.list._allowSort="1",t.smxml.list._isparagraph="0"):(document.querySelector("#allowSort").disabled=!1,document.querySelector("#allowSort").click(),l(1,o.isSentence="0",o),l(1,o.allowSort="1",o),t.smxml.list._issentence="0",t.smxml.list._allowSort="0");break;case"isParagraph":1==e.target.checked?(0==document.querySelector("#allowSort").getAttribute("checked")?(document.querySelector("#allowSort").click(),document.querySelector("#allowSort").disabled=!0):document.querySelector("#allowSort").disabled=!0,l(1,o.isParagraph="1",o),l(1,o.allowSort="1",o),t.smxml.list._isparagraph="1",t.smxml.list._allowSort="1",t.smxml.list._issentence="0"):(document.querySelector("#allowSort").disabled=!1,document.querySelector("#allowSort").click(),l(1,o.isParagraph="0",o),l(1,o.allowSort="1",o),t.smxml.list._isparagraph="0",t.smxml.list._allowSort="0");break;case"headingCorrect":l(1,o.headingCorrect=e.target.value,o),t.smxml.list._headingCorrect=e.target.value}r(E(t))},function(e,t){1==t.target.checked?l(0,a[e].value="*"+a[e].value.trim(),a):l(0,a[e].value=a[e].value.trim().slice(1),a);let s=o.stateXMLToJSON;var i=setTimeout(function(){let e="\n";a.forEach((function(t,l){e+=a[l].value+"\n"})),s.smxml.list.__cdata=e,r(E(s)),clearTimeout(i)}.bind(this),200)},function(e,t,i){l(0,a[e].value=i.target.value,a);try{s[e]&&(s[e].value.indexOf("##")>0?s[e].value=s[e].value.split("##")[0]+"##"+i.target.value:s[e].value.indexOf("##")<1&&0==s[e].value.indexOf("!")?s[e].value="!"+i.target.value:s[e].value=i.target.value)}catch(e){console.warn({error:e})}l(0,a[e].value=1==t?"*"+a[e].value:a[e].value,a);let n=o.stateXMLToJSON;setTimeout(function(){let e="\n",t="###";a.forEach((function(t,l){e+=a[l].value+"\n"})),s&&s.forEach((function(e,l){t+=""==t?s[l].value:"###"+s[l].value})),n.smxml.list.__cdata=e,n.smxml.list._oldCData=t,r(E(n))}.bind(this),200)},function(e,t){let i="",n="";a.forEach((function(e,l){a[l].id!=t&&(i+=a[l].value+"\n")})),s&&s.forEach((function(e,l){s[l].id!=t&&(n+=""==n?s[l].value:"###"+s[l].value)})),l(1,o.open=!1,o);let c=o.stateXMLToJSON;c.smxml.list.__cdata=i,c.smxml.list._oldCData=n,r(E(c))},i,r,n,c,d,e=>{l(1,o.open=!0,o),l(1,o.data_value=e.value,o),l(1,o.data_id=e.id,o)},()=>{l(1,o.open=!1,o)},function(e){o.open=e,l(1,o)},()=>{l(1,o.open=!1,o)}]}export default class extends t{constructor(e){var t;super(),I.getElementById("svelte-1afsy3o-style")||((t=o("style")).id="svelte-1afsy3o-style",t.textContent=".colorgray{width:56px;background-color:lightgrey}.addbutton.svelte-1afsy3o{position:relative;left:32px;height:31px}.addbuttonplus.svelte-1afsy3o{font-size:24px}.height30.svelte-1afsy3o{height:30px !important}.top1.svelte-1afsy3o{top:1px}.top6{top:6px}",i(I.head,t)),l(this,e,R,K,a,{xml:8,getChildXml:9,changed_advance_xml:10,editorState:11,smValidate:12})}}
//# sourceMappingURL=ChooseNReorder-3c75647f.js.map
