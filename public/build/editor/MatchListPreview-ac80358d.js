import{G as t,O as e,S as s,i as n,s as a,F as r,e as l,a2 as o,f as c,g as d,h as u,l as f,r as p,o as m,H as h,I as g,K as b,b as v,c as x,u as A,j as k,m as w,x as _,N as y,t as I,a as L,d as C,y as T,p as q,A as M,E as $,X as S,W as H,D as E,$ as j,U as z,M as D}from"./main-9dc835e5.js";import{I as W}from"./ItemHelper-1bce5273.js";import{s as O}from"./style-inject.es-1f59c1d0.js";import{h as B}from"./hotkeys.esm-4c49bce2.js";const U=new t,P={sinfo:!0,multimatch:0,ajax_eId:"#matchmain",is_valid_drop:!1};let N,X=[];P.removeUserAns=function(){U.find("#matchmain","#lines, .matchlist-delete",{action:"remove"}),U.selectAll("#matchmain div[data-userans]").forEach((t=>{t.setAttribute("data-userans","")}))},P.update_XMLValue=function(){P.xmlDom=U.select("#special_module_xml").value,P.multimatch=U.select("#matchType").value,U.select("#multimatch").checked&&(P.multimatch=1);let t=U.findChild(P.xmlDom,"matchlist");U.setAttr(t,{listheading1:U.select("#list1").value,listheading2:U.select("#list2").value,multimatch:P.multimatch}),t.innerHTML="<![CDATA[\n"+U.select("#matchList").value+"\n]]>",U.select("#special_module_xml","value",formatXml(P.xmlDom.xml?P.xmlDom.xml:(new XMLSerializer).serializeToString(P.xmlDom[0])))},P.remove_lines=function(t){U.select(t+" #remMatchLine","remove"),U.listen("body","click",".matchlist-delete",(e=>{let s={path:e.getAttribute("d"),base:e.getAttribute("base").split("_")};s.userans=U.find("#matchmain",`[id="${s.base[0]}"]`).getAttribute("data-userans").split(","),0!=s.userans.includes(s.base[1])&&s.userans.splice(s.userans.indexOf(s.base[1]),1),s.userans=s.userans.join(","),","==s.userans.substr(0,1)&&(s.userans=s.userans.substr(1,s.userans.length)),U.select(`[id="${s.base[0]}"]`,"attr",{"data-userans":s.userans}),s.path=s.path.substr(1,s.path.length).split("C"),s.l1=s.path[0].trim().replace(/ /g,",").split(","),s.l2=s.path[1].trim().replace(/ /g,",").split(","),s.index=parseInt(s.l1[s.l1.length-1])+"_"+(parseInt(s.l1[s.l1.length-2])-20)+","+parseInt(s.l2[s.l2.length-1])+"_"+(parseInt(s.l2[s.l2.length-2])+10)+","+e.getAttribute("base"),X.splice(X.indexOf(s.index),1),U.remove(`[base='${e.getAttribute("base")}']`),P.checkAns(X),setTimeout((function(){P.checkAns(t)}),200)}))},U.listen("body","click",".donotshowdialo",(t=>{P.storeDoNotShow(user_guid,1==t.checked?"store":"remove")})),P.storeDoNotShow=function(t,e){let s=JSON.parse(localStorage.getItem("dontshowdialog"));"store"==e?(null==s&&(s={}),s[t]=1,localStorage.setItem("dontshowdialog",JSON.stringify(s))):"remove"==e&&null!=s&&(delete s[t],localStorage.setItem("dontshowdialog",JSON.stringify(s)))},P.chkDoNotShow=function(t){const e=JSON.parse(localStorage.getItem("dontshowdialog"));return null!=e&&t in e},P.showUserAns=function(t){let s=0;X=[],P.multimatch=U.select(t).getAttribute("multimatch"),P.showAns(t),P.dragOptionMatchlist={zIndex:100,cursorAt:{top:-10,left:-10},cursor:"default"},window.mlid=t,N=new e({onDragStart:t=>{P.is_valid_drop=!1;let e=t.target;s=parseInt(e.offsetTop+e.clientHeight/2)+"_"+parseInt(e.offsetLeft+e.offsetWidth)},onDrop:(e,i)=>{document.querySelectorAll(".list2").length>0?function(e,i){P.is_valid_drop=!0;let n,a=e.target,r="black";U.select("#main-page").length>0&&"bla"==U.select("#main-page").getAttribute("mode")&&(r="white"),a.style.position="relative",n=s+","+parseInt(a.offsetTop+a.clientHeight/2)+"_"+parseInt(a.offsetLeft)+","+i.getAttribute("id")+"_"+a.getAttribute("id"),0==X.includes(n)&&X.push(n);let l,o=i.getAttribute?.("data-userans")?i.getAttribute("data-userans").split(","):[];0==o.includes(a.getAttribute("id"))&&o.push(a.getAttribute("id")),o=o.join(","),","==o.substr(0,1)&&(o=o.substr(1,o.length)),i.setAttribute("data-userans",o);let c='<svg id="lines">';var d;X.forEach((function(t,e){e=t.split(","),t=e[1].split("_"),d=e[2],e=e[0].split("_"),l='<div class="matchlist-delete center-block" d="M'+parseInt(e[1])+","+e[0]+"C"+(parseInt(e[1])+88)+" ,"+e[0]+","+(parseInt(e[1])+88)+","+t[0]+","+(parseInt(t[1])-10)+","+t[0]+'" base="'+d+'" style="left:'+parseInt(e[1])+"px;top:"+(parseInt(e[0])-9)+'px">&times</div>',c+='<path fill="none" d="M'+parseInt(e[1])+","+(parseInt(e[0])-7)+"C"+(parseInt(e[1])+65)+" ,"+(parseInt(e[0])-7)+","+(parseInt(e[1])+65)+","+(parseInt(t[0])-7)+","+(parseInt(t[1])-10)+","+(parseInt(t[0])-7)+'"  base="'+d+'" stroke-width = "2" stroke="'+r+'"></path>',c+='<g transform="translate('+(parseInt(t[1])-11)+","+(parseInt(t[0])-14)+') rotate(0) scale(4) translate(0,0) scale(.3)" base="'+d+'"><g fill="'+r+'" stroke="none" ><path d="M 0 0 L 10 5 L 0 10 z" /></g></g>'})),c+="</svg>",U.insert(t,l,"afterbegin"),U.insert(t,c,"afterbegin"),P.remove_lines(t)}(e,i):document.querySelectorAll(".list3").length>0&&function(e,s){P.is_valid_drop=!0;const i=e.target;i.style.position="relative";var n=s.getAttribute("data-droped")?s.getAttriburte("data-droped"):s.getAttribute("id");i.setAttribute("data-droped",n),i.innerHTML=s.innerHTML,i.setAttribute("data-userans",n);let a=window.getComputedStyle(s);i.style.backgroundColor=a.getPropertyValue("background-color");var r=[];0==(r=s.getAttribute("data-userans").split(",")).includes(i.getAttribute("id"))&&r.push(n),","==(r=r.join(",")).substr(0,1)&&(r=r.substr(1,r.length)),s.setAttribute("data-userans",r),P.checkAns(t)}(e,i)},isValidDrag:t=>{}})},P.bindKeyup=function(t){t=t||P.ajax_eId,U.find(".row-fluid",".selmatch",{action:"removeClass",actionData:"selmatch"});let e=0,s="";function i(){U.find(t,".copiedclr","all").forEach((t=>{t.classList.remove("copiedclr")})),s="",e=0}function n(e){U.find(t,"."+e,"all").forEach((t=>{t.classList.add("ks")}))}function a(){!function(){const t=U.selectAll("#matchmain .ks").length;U.find(mlidVar,".ks:nth("+e+")").focus(),e==t-1?e=0:e++}()}function r(e){var s=!1;let i=U.find(t,"."+e,"all"),n=U.select(":focus");if(n.nodeName){let t=n.getAttribute("id");for(let e=0;e<i.length;e++)if(t==i[e].getAttribute("id")){s=!0;break}}return s}function l(t,e=1){if(t.id){let s=U.selectAll(".ks"),i=-1;for(let n=0;n<s.length;n++)if(t.id==s[n].id){i=e?n==s.length-1?0:n+1:0==n?s.length-1:n-1;break}-1!=i&&s[i].focus()}}"2"!=U.select(t).getAttribute("multimatch")?(n("list1"),n("list2")):(n("list3"),n("list4")),document.addEventListener("click",(()=>{r("list1")||r("list2")||r("list3")||r("list4")||i()})),document.querySelector(t).addEventListener("keydown",(()=>{"function"==typeof B&&B.setScope("matchlist")})),P.cleanTitle=function(){U.find(P.ajax_eId,".list1","all").forEach((t=>{t.removeAttribute("aria-label")}))},P.getTitle=function(t,e,s,i,n){return t&&(0==s&&(e+=n?n+" and Attached to ":"Attached to "),s>0&&(e+=" and "),i?(e+=t.textContent,e+="1"==t.getAttribute("as")?" is marked as correct":" is marked as incorrect"):e+=t.textContent),e},"function"==typeof B&&(B.unbind("down,up,left,right,alt+down,enter,delete,esc","matchlist"),B("down,up,left,right,alt+down,enter,delete,esc","matchlist",(function(e,n){switch(n.key){case"down":case"right":if(r("ks")){let t=U.select(".ks:focus"),s=U.selectAll(".ks")[U.selectAll(".ks").length-1];t.id==s.id?U.selectAll(".ks")[0].focus():l(t,1),e.preventDefault()}break;case"up":case"left":if(r("ks")){let t=U.select(".ks:focus"),s=U.selectAll(".ks")[0];t.id==s.id?U.selectAll(".ks")[U.selectAll(".ks").length].focus():l(focus_element,0),e.preventDefault()}break;case"alt+down":a();break;case"enter":e.preventDefault(),r("list3")?function(){var e=U.find(t,".ks:focus");if(""!=s){var i=U.select(t+" #"+s);i.classList.remove("copiedclr"),e.style.position="relative";var n=i.getAttribute("data-droped")?i.getAttribute("data-droped"):i.getAttribute("id");e.setAttribute("data-droped",n),e.innerHTML=i.innerHTML,e.setAttribute("data-userans",n);let r=window.getComputedStyle(i);e.style.backgroundColor=r.getPropertyValue("background-color");var a=[];0==(a=i.getAttribute("data-userans").split(",")).includes(e.getAttribute("id"))&&a.push(n),","==(a=a.join(",")).substr(0,1)&&(a=a.substr(1,a.length)),i.setAttribute("data-userans",a),P.checkAns(t),i.classList.remove("copiedclr"),s=""}}():r("list2")?function(){let e=U.find(t,".ks:focus");if(""!=s){let i=U.find(t,'[id="'+s+'"]'),n=0;n=parseInt(i.offsetTop+i.clientHeight/2)+"_"+parseInt(i.offsetLeft+i.offsetWidth);let a=U.clone(i);a.classList.add("clone"),U.setCss(a,{position:"absolute",top:i.offsetTop,left:i.offsetLeft,width:i.offsetWidth+20,height:i.clientHeight+15});let r="black";U.selectAll("#main-page").length>0&&"bla"==U.selectAll("#main-page").getAttribute("mode")&&(r="white"),e.style.position="relative";let l=n+","+parseInt(e.offsetTop+e.clientHeight/2)+"_"+parseInt(e.offsetLeft)+","+i.getAttribute("id")+"_"+e.getAttribute("id");0==X.includes(l)&&X.push(l);let o,c=[];if(c=i.getAttribute("data-userans").split(","),0==c.includes(e.getAttribute("id"))&&c.push(e.getAttribute("id")),c=c.join(","),","==c.substr(0,1)&&(c=c.substr(1,c.length)),i.setAttribute("data-userans",c),c.length>0){let t=c.split(","),e="";t.map(((t,s)=>{e=P.getTitle(U.select("#"+t),e,s)})),i.setAttribute("aria-label",e)}let d,u='<svg id="lines">';X.forEach(((t,e)=>{e=t.split(","),t=e[1].split("_"),d=e[2],e=e[0].split("_"),o='<div class="matchlist-delete center-block" d="M'+(parseInt(e[1])+20)+","+e[0]+"C"+(parseInt(e[1])+88)+" ,"+e[0]+","+(parseInt(e[1])+88)+","+t[0]+","+(parseInt(t[1])-10)+","+t[0]+'" base="'+d+'" style="left:'+parseInt(e[1])+"px;top:"+(parseInt(e[0])-9)+'px">&times</div>',u+='<path fill="none" d="M'+(parseInt(e[1])+20)+","+(parseInt(e[0])-5)+"C"+(parseInt(e[1])+88)+" ,"+e[0]+","+(parseInt(e[1])+88)+","+t[0]+","+(parseInt(t[1])-10)+","+t[0]+'"  base="'+d+'" stroke-width = "2" stroke="'+r+'"></path>',u+='<path fill="none" d="M'+(parseInt(e[1])+20)+","+(parseInt(e[0])-5)+"C"+(parseInt(e[1])+88)+" ,"+e[0]+","+(parseInt(e[1])+88)+","+t[0]+","+(parseInt(t[1])-10)+","+t[0]+'" marker-end="url(#triangle)" class="line" base="'+d+'" stroke-width = "50"></path>',u+='<g transform="translate('+(parseInt(t[1])-11)+","+(parseInt(t[0])-6)+') rotate(0) scale(4) translate(0,0) scale(.3)" base="'+d+'"><g fill="'+r+'" stroke="none" ><path d="M 0 0 L 10 5 L 0 10 z" /></g></g>'})),u+="</svg>",U.insert(t,o,"afterbegin"),U.insert(t,u,"afterbegin"),P.remove_lines(t),i.removeAttribute("style"),i.style.position="relative",U.remove(".clone"),i.classList.contains("ui-droppable"),P.checkAns(t),i.classList.remove("copiedclr"),s=""}}():(r("list1")||r("list4"))&&function(){let e=U.selectAll(t+" .ks:focus");U.find(t,".list1","all").forEach((t=>{t.classList.remove("copiedclr")})),U.find(t,".list4","all").forEach((t=>{t.classList.remove("copiedclr")})),s=e[0].id,U.select(e[0],"addClass","copiedclr")}();break;case"delete":e.preventDefault(),r("list3")?function(){let e=0;var s=U.find(t,".ks:focus");e=parseInt(s.offsetTop+s.clientHeight/2)+"_"+parseInt(s.offsetLeft+s.offsetWidth),U.setCss(s,{position:"absolute",top:s.offsetTop,left:s.offsetLeft,width:s.offsetWidth+20,height:s.clientHeight+15}),s.removeAttribute("style"),s.style.position="relative",s.classList.contains("ui-droppable")&&(s.classList.remove("dropped"),s.innerHTML="Place Here",s.setAttribute("data-userans",""))}():r("list1")&&function(){var e=U.find(t,".ks:focus");if(e.classList.contains("ui-draggable")&&""!=e.getAttribute("data-userans")){var s=e.getAttribute("id")+"_"+e.getAttribute("data-userans").split(",")[0],i="";U.find(t,".matchlist-delete","all").forEach((t=>{if(t.getAttribute("base")==s)return i=t,!1}));var n=document.querySelector(i).getAttribute("d"),a=document.querySelector(i).getAttribute("base").split("_"),r=U.find(t,'[id="'+rem.base[0]+'"]').getAttribute("data-userans").split(",");0!=r.includes(a[1])&&r.splice(r.indexOf(a[1]),1),","==(r=r.join(",")).substr(0,1)&&(r=r.substr(1,r.length)),document.querySelector("#"+a[0]).setAttribute("data-userans",r),document.querySelector("#"+a[0]).setAttribute("aria-label","");var l=(n=n.substr(1,n.length).split("C"))[0].trim().replace(/ /g,",").split(","),o=n[1].trim().replace(/ /g,",").split(","),c=parseInt(l[l.length-1])+"_"+(parseInt(l[l.length-2])-20)+","+parseInt(o[o.length-1])+"_"+(parseInt(o[o.length-2])+10)+","+U.select(i).getAttribute("base");X.splice(X.indexOf(c),1);var d=document.querySelector(i).getAttribute("base");U.remove("[base='"+d+"']"),P.checkAns(t)}}();case"esc":r("ks")&&(e.preventDefault(),i(),focusLast(),U.selectAll(".ks")[U.selectAll(".ks").length-1].blur())}})),B.setScope("matchlist"))},P.pollFunc=function(t,e,s){var i=(new Date).getTime();s=s||1e3,canPoll=!0,function n(){canPoll=(new Date).getTime()-i<=e,!t()&&canPoll&&setTimeout(n,s)}()},P.showAns=function(t){if(P.multimatch=document.querySelector(t).getAttribute("multimatch"),P.multimatch<2){var e='<svg id="lines">';P.f=0,U.selectAll(t+" .list1").forEach((s=>{if(""!=s.getAttribute("data-userans")){P.f=1;const i=parseInt(s.offsetTop+s.clientHeight/2),n=parseInt(s.offsetLeft+s.offsetWidth),a=top+"_"+n;e+='<marker id="triangle" viewBox="0 0 10 10" refX="0" refY="5" markerUnits="strokeWidth" markerWidth="6" markerHeight="5" orient="auto"><path d="M 0 0 L 10 5 L 0 10 z" /></marker>';const r=s.getAttribute("data-userans").split(",");for(let l=0;l<r.length;l++)if(""!=r[l]){const o=parseInt(U.find(t,"#"+r[l]).offsetTop+U.find(t,"#"+r[l]).clientHeight/2),c=parseInt(U.find(t,"#"+r[l]).offsetLeft),d=o+"_"+c,u='<div class="matchlist-delete center-block" d="M'+(parseInt(n)+20)+","+i+"C"+(parseInt(n)+88)+","+i+","+(parseInt(n)+88)+","+o+","+(parseInt(c)-10)+","+o+'" base="'+s.getAttribute("id")+"_"+U.find(t,"#"+r[l]).getAttribute("id")+'" style="left:'+parseInt(n)+"px;top:"+(i-9)+'px">&times</div>';e+='<path fill="none" d="M'+parseInt(n)+","+(i-5)+"C"+(parseInt(n)+88)+","+(parseInt(i)-4)+","+(parseInt(n)+88)+","+(parseInt(o)-4)+","+(parseInt(c)-10)+","+(parseInt(o)-4)+'" marker-end="url(#triangle)" class="line" base="'+s.getAttribute("id")+"_"+document.querySelector(t+" #"+r[l]).getAttribute("id")+'"></path>';const f=a+","+d+","+s.getAttribute("id")+"_"+U.select(t+" #"+r[l]).getAttribute("id");-1==f.includes(X)&&X.push(f),U.insert(t,u,"afterbegin")}}})),e+="</svg>",1==P.f&&U.insert(t,e,"afterbegin")}else P.showMultimatchAnswer(t,1)},P.checkAns=function(t){let e={},s=!0,i="",n="",a="",r=0,l="",o="",c=".list1",d=".list2";if(2==P.multimatch&&(c=".list3",d=".list4"),"#matchmain"==t){U.selectAll(t+" "+c).forEach((t=>{let e=t.getAttribute("data-correctans").split(",").sort().join(","),i=t.getAttribute("data-userans").split(",").sort().join(",");","==e.substr(0,1)&&(e=e.substr(1,e.length)),","==i.substr(0,1)&&(i=i.substr(1,i.length)),e!=i?s=!1:r++,n+=t.getAttribute("id")+",","undefined"!=typeof calculatePoint&&calculatePoint(U.select("#matchmain").getAttribute("totalcorrectans"),r),l+=t.getAttribute("data-originalseq")+","})),n=n.split(",");let u=n.filter(((t,e,s)=>s.lastIndexOf(t)==e));n=u.join(","),n=n.substr(0,n.length-1),l=l.substr(0,l.length-1),U.find(t,d,"all").forEach((e=>{var s="";U.find(t,c+`[data-userans*="${e.getAttribute("id")}"]`,"all").forEach((t=>{""!=t.getAttribute("data-userans")&&(s+=t.getAttribute("id")+"|")})),""!=(s=s.substr(0,s.length-1))&&(i+=e.getAttribute("id")+"["+s+"],"),a+=e.getAttribute("id")+",",o+=e.getAttribute("data-originalseq")+","})),a=a.substr(0,a.length-1),o=o.substr(0,o.length-1),i=i.substr(0,i.length-1);const f="<smans type='14'>\n\t<matchlist list1seq='"+n+"' list2seq='"+a+"' userans='"+i+"' originalseq1='"+l+"' originalseq2='"+o+"'></matchlist>\n</smans>";return e.u=f,e.ans=s,s?("undefined"!=typeof is_sm&&U.showmsg("Correct"),e):("undefined"!=typeof is_sm&&U.showmsg("Incorrect"),e)}},P.insertAtCaret=function(t,e){if(document.selection){t.focus(),document.selection.createRange().text=e}else if(t.selectionStart||0===t.selectionStart){let s=t.selectionStart,i=t.selectionEnd,n=t.scrollTop;t.value=t.value.substring(0,s)+e+t.value.substring(i,t.value.length),t.selectionStart=s+e.length,t.selectionEnd=s+e.length,t.scrollTop=n}else t.value+=e;t.focus()},P.showMultimatchAnswer=function(t,e){U.find(t," .list3","all").forEach((t=>{U.select(t,"removeClass","dropped"),t.innerHTML="Place here",U.select(t,"css",{backgroundColor:"#fff"})})),U.find(t,".list3","all").forEach((e=>{if(e.getAttribute("data-userans").length>0){const s=e.getAttribute("data-userans").split(",");for(let i=0;i<s.length;i++)if(""!=s[i]){const n=U.find(t,"#"+s[i]).innerHTML;e.innerHTML=n,e.classList.add("dropped")}}}))},P.checkAnswerStatus=function(t,e,s){let i=s||"",n=e.getAttribute("data-correctans").split(",").sort().join(","),a=e.getAttribute("data-userans").split(",").sort().join(",");if(","==n.substr(0,1)&&(n=n.substr(1,n.length)),","==a.substr(0,1)&&(a=a.substr(1,a.length)),""!=i){const e=n.split(","),s=a.split(",");0!=e.includes(i)&&0==s.includes(i)&&(t=-1)}else n!=a&&(t=-1);return t},P.showAllCorrectAns=function(t){U.selectAll(t+" .list3").forEach((e=>{const s=e.getAttribute("data-correctans").split(",");for(let i=0;i<s.length;i++)if(""!=s[i]){const n=U.find(t,"#"+s[i]).innerHTML;e.innerHTML=n,U.select(e,"addClass","dropped")}}))},P.showAllAns=function(t){if(console.table("showAns"),U.remove("#lines"),U.remove(".correct_incorrect_icon"),P.multimatch=document.querySelector(t).getAttribute("multimatch"),P.multimatch<2){var e='<svg id="lines"><marker id="triangle" viewBox="0 0 10 10" refX="0" refY="5" markerUnits="strokeWidth" markerWidth="6" markerHeight="5" orient="auto"><path d="M 0 0 L 10 5 L 0 10 z" /></marker>';e+='<marker id="trngle" viewBox="0 0 10 10" refX="0" refY="5" markerUnits="strokeWidth" markerWidth="6" markerHeight="5" orient="auto"><path d="M 0 0 L 10 5 L 0 10 z" style="fill:#83C883"/></marker>',U.find(t,".list1","all").forEach((s=>{const i=s.offsetTop+s.clientHeight/2;var n=s.offsetLeft+s.offsetWidth,a=s.getAttribute("data-correctans").split(",");for(let s=0;s<a.length;s++)if(""!=a[s]){const r=U.find(t,"#"+a[s]).offsetTop+U.find(t,"#"+a[s]).clientHeight/2-5,l=U.find(t,"#"+a[s]).offsetLeft;e+='<path fill="none" d="M'+parseInt(n)+","+(parseInt(i)-5)+"C"+(parseInt(n)+83)+","+(parseInt(i)-5)+","+(parseInt(n)+83)+","+r+","+(parseInt(l)-10)+","+r+'" marker-end="url(#trngle)" class="correct"></path>'}if(s.getAttribute("data-userans").length>0){const a=s.getAttribute("data-userans").split(",");var r="";for(let l=0;l<a.length;l++)if(""!=a[l]){const o=U.find(t,"#"+a[l]).offsetTop+U.find(t,"#"+a[l]).clientHeight/2+5,c=U.find(t,"#"+a[l]).offsetLeft;e+='<path fill="none" d="M'+parseInt(n)+","+(parseInt(i)+5)+"C"+(parseInt(n)+93)+","+(parseInt(i)+5)+","+(parseInt(n)+93)+","+o+","+(parseInt(c)-10)+","+o+'" marker-end="url(#triangle)" class="line"></path>',r=P.getTitle(U.select("#"+a[l]),r,l,!0,s.textContent)}s.setAttribute("aria-label",r)}})),e+="</svg>",U.insert(t,e,"afterbegin");var s=".list2"}else P.showMultimatchAnswer(t),s=".list3";U.selectAll(t+" "+s).forEach((e=>{const s=e.getAttribute("id");var i=1;2==P.multimatch?i=P.checkAnswerStatus(i,e):U.selectAll(t+' .list1[data-correctans*="'+e.getAttribute("id")+'"]').forEach((t=>{i=P.checkAnswerStatus(i,t,s)}));const n=1==i?'<span class="icomoon-checkmark-circle" style="color:green;">':'<span class="icomoon-cancel-circle" style="color:red;">';e.setAttribute("mrel",e.getAttribute("id")),e.setAttribute("as",i),U.insert(e,'<span class="correct_incorrect_icon" style="position:absolute;width:19px;height:19px;right:-9px;top:-9px;background:white;border-radius:15px 12px 12px;font-size:21px;"> '+n+"</span>","beforeend")}))},P.resetMatch=function(){U.remove("#lines"),U.remove(".correct_incorrect_icon");let t='<svg id="lines"><marker id="triangle" viewBox="0 0 10 10" refX="0" refY="5" markerUnits="strokeWidth" markerWidth="6" markerHeight="5" orient="auto"><path d="M 0 0 L 10 5 L 0 10 z" /></marker>';return t+='<marker id="trngle" viewBox="0 0 10 10" refX="0" refY="5" markerUnits="strokeWidth" markerWidth="6" markerHeight="5" orient="auto"><path d="M 0 0 L 10 5 L 0 10 z" style="fill:#83C883"/></marker>','<svg id="lines"><marker id="triangle" viewBox="0 0 10 10" refX="0" refY="5" markerUnits="strokeWidth" markerWidth="6" markerHeight="5" orient="auto"><path d="M 0 0 L 10 5 L 0 10 z" /></marker><marker id="trngle" viewBox="0 0 10 10" refX="0" refY="5" markerUnits="strokeWidth" markerWidth="6" markerHeight="5" orient="auto"><path d="M 0 0 L 10 5 L 0 10 z" style="fill:#83C883"/></marker>'},P.showCorrect=function(t){let e=P.resetMatch();P.cleanTitle(),U.selectAll(t+" .list1").forEach((s=>{const i=s.offsetTop+s.clientHeight/2;let n=s.offsetLeft+s.offsetWidth,a=s.getAttribute("data-correctans").split(","),r="";for(let l=0;l<a.length;l++)if(""!=a[l]){const o=U.find(t,"#"+a[l]).offsetTop+U.find(t,"#"+a[l]).clientHeight/2-5,c=U.find(t,"#"+a[l]).offsetLeft;e+='<path fill="none" d="M'+parseInt(n)+","+(parseInt(i)-5)+"C"+(parseInt(n)+83)+","+(parseInt(i)-5)+","+(parseInt(n)+83)+","+o+","+(parseInt(c)-10)+","+o+'" marker-end="url(#trngle)" class="correct"></path>',r=P.getTitle(U.select("#"+a[l]),r,l,s.textContent)}s.setAttribute("aria-label",r)})),e+="</svg>",U.insert(t,e,"afterbegin")},P.showYour=function(t){P.cleanTitle();let e=P.resetMatch();U.find(t,".list1","all").forEach((s=>{const i=s.offsetTop+s.clientHeight/2;let n=s.offsetLeft+s.offsetWidth;if(s.getAttribute("data-userans").length>0){const a=s.getAttribute("data-userans").split(",");let r="";for(let l=0;l<a.length;l++)if(""!=a[l]){const o=U.find(t,"#"+a[l]).offsetTop+U.find(t,"#"+a[l]).clientHeight/2+5,c=U.find(t,"#"+a[l]).offsetLeft;e+='<path fill="none" d="M'+parseInt(n)+","+(parseInt(i)+5)+"C"+(parseInt(n)+93)+","+(parseInt(i)+5)+","+(parseInt(n)+93)+","+o+","+(parseInt(c)-10)+","+o+'" marker-end="url(#triangle)" class="line"></path>',r=P.getTitle(U.select("#"+a[l]),r,l,!0,s.textContent)}s.setAttribute("aria-label",r)}})),e+="</svg>",U.insert(t,e,"afterbegin");U.find(t,".list2","all").forEach((e=>{const s=e.getAttribute("id");let i=1;U.find(t,'.list1[data-correctans*="'+e.getAttribute("id")+'"]',"all").forEach((t=>{i=P.checkAnswerStatus(i,t,s)}));const n=1==i?'<span class="icomoon-checkmark-circle" style="color:green;">':'<span class="icomoon-cancel-circle" style="color:red;">';e.setAttribute("mrel",e.getAttribute("id")),e.setAttribute("as",i),U.insert(e,'<span class="correct_incorrect_icon" style="position:absolute;width:19px;height:19px;right:-9px;top:-9px;background:white;border-radius:15px 12px 12px;font-size:21px;"> '+n+"</span>","afterbegin")}))},P.showAll=function(){P.showAllAns(P.ajax_eId)},P.labBinded=!0,P.modeOn=function(t){U.selectAll(".test","addClass","h"),U.find(P.ajax_eId,".review_2, .review_default",{action:"addClass",actionData:"h"}),t?(U.selectAll(".review","removeClass","h"),setTimeout((function(){"function"==typeof B&&B.unbind("down,up,left,right,alt+down,enter,delete,esc","matchlist"),U.selectAll(P.ajax_eId+"  .selmatch","removeClass","selmatch"),P.unBindLab(),P.showAllAns(P.ajax_eId),U.selectAll(P.ajax_eId+" #sm_controller button").forEach((t=>{t.classList.contains("your-ans btn-primary")?P.showAllAns(P.ajax_eId):t.classList.contains("correct-ans btn-primary")&&P.showAllCorrectAns(P.ajax_eId)})),U.find(P.ajax_eId,"#sm_controller_default button","all").forEach((t=>{t.classList.contains("your-ans btn-primary")?P.showYour(P.ajax_eId):t.classList.contains("correct-ans btn-primary")?P.showCorrect(P.ajax_eId):t.classList.contains("both-ans btn-primary")&&P.showAll(P.ajax_eId)}))}),50)):(U.selectAll(".review","addClass","h"),U.selectAll(".test","removeClass","h"),setTimeout((function(){P.bindLab(),P.bindKeyup(P.ajax_eId),P.showUserAns(P.ajax_eId),P.remove_lines(P.ajax_eId),P.cleanTitle()}),50))},P.unBindLab=function(){P.labBinded=!1,U.find(P.ajax_eId,"#lines, .matchlist-delete",{action:"remove"})},P.modifyClass=function(t,e){U.find(P.ajax_eId,"#sm_controller button, #sm_controller_default button","all"),t.classList.add("btn-primary"),t.classList.remove("btn-light")},P.bindLab=function(){P.labBinded=!0,U.find(P.ajax_eId,"#lines,.correct,.lines,.correct_incorrect_icon",{action:"remove"})},P.editor_validtion=function(t){if(1==t||2==t||3==t){const t=document.getElementById("#list1").value,e=document.getElementById("#list2").value,s=document.getElementById("#matchList").value;return""!=t&&""!=e&&""!=s||(U.showmsg("Please Fill The Heading of Lists and Question",1),!1)}};function Y(t){r(t,"svelte-bi3u6x",".u-sr-only.svelte-bi3u6x{position:absolute;left:-10000px;top:auto;width:1px;height:1px;overflow:hidden}@media(max-width:500px){.shuffle.svelte-bi3u6x{text-align:center}}")}function R(t,e,s){const i=t.slice();return i[50]=e[s],i[52]=s,i}function V(t,e,s){const i=t.slice();return i[50]=e[s],i[52]=s,i}function J(t,e,s){const i=t.slice();return i[50]=e[s],i[52]=s,i}function K(t,e,s){const i=t.slice();return i[50]=e[s],i[52]=s,i}function F(t){let e,s,i;return{c(){e=l("div"),e.textContent=""+o.shuffle,c(e,"id","shuffleArea"),c(e,"class","shuffle text-center svelte-bi3u6x"),d(e,"font-size","17px"),d(e,"cursor","pointer"),d(e,"display","none"),d(e,"color","#aaa")},m(n,a){u(n,e,a),s||(i=f(e,"click",t[14]),s=!0)},p:p,d(t){t&&m(e),s=!1,i()}}}function G(t){let e,s,i,n=t[7],a=[];for(let e=0;e<n.length;e+=1)a[e]=Z(V(t,n,e));let r=t[8],o=[];for(let e=0;e<r.length;e+=1)o[e]=tt(R(t,r,e));return{c(){e=l("div");for(let t=0;t<a.length;t+=1)a[t].c();s=v(),i=l("div");for(let t=0;t<o.length;t+=1)o[t].c();c(i,"class","row-fluid match_options shuffleList2"),c(e,"class","row-fluid shuffleList1")},m(t,n){u(t,e,n);for(let t=0;t<a.length;t+=1)a[t].m(e,null);k(e,s),k(e,i);for(let t=0;t<o.length;t+=1)o[t].m(i,null)},p(t,l){if(32896&l[0]){let i;for(n=t[7],i=0;i<n.length;i+=1){const r=V(t,n,i);a[i]?a[i].p(r,l):(a[i]=Z(r),a[i].c(),a[i].m(e,s))}for(;i<a.length;i+=1)a[i].d(1);a.length=n.length}if(67840&l[0]){let e;for(r=t[8],e=0;e<r.length;e+=1){const s=R(t,r,e);o[e]?o[e].p(s,l):(o[e]=tt(s),o[e].c(),o[e].m(i,null))}for(;e<o.length;e+=1)o[e].d(1);o.length=r.length}},d(t){t&&m(e),E(a,t),E(o,t)}}}function Q(t){let e,s,i,n,a,r,o=t[7],d=[];for(let e=0;e<o.length;e+=1)d[e]=et(K(t,o,e));let f=t[8],p=[];for(let e=0;e<f.length;e+=1)p[e]=st(J(t,f,e));return{c(){e=l("div"),s=l("div");for(let t=0;t<d.length;t+=1)d[t].c();i=v(),n=l("div"),a=v(),r=l("div");for(let t=0;t<p.length;t+=1)p[t].c();c(s,"class","span4 shuffleList1"),c(s,"dragable","1"),c(n,"class","span3"),c(r,"class","span4 shuffleList2"),c(e,"class","row-fluid")},m(t,l){u(t,e,l),k(e,s);for(let t=0;t<d.length;t+=1)d[t].m(s,null);k(e,i),k(e,n),k(e,a),k(e,r);for(let t=0;t<p.length;t+=1)p[t].m(r,null)},p(t,e){if(32896&e[0]){let i;for(o=t[7],i=0;i<o.length;i+=1){const n=K(t,o,i);d[i]?d[i].p(n,e):(d[i]=et(n),d[i].c(),d[i].m(s,null))}for(;i<d.length;i+=1)d[i].d(1);d.length=o.length}if(67840&e[0]){let s;for(f=t[8],s=0;s<f.length;s+=1){const i=J(t,f,s);p[s]?p[s].p(i,e):(p[s]=st(i),p[s].c(),p[s].m(r,null))}for(;s<p.length;s+=1)p[s].d(1);p.length=f.length}},d(t){t&&m(e),E(d,t),E(p,t)}}}function Z(t){let e,s,i,n,a,r,o,d,f,p,h,g,b,x,w,_,y,I,L,C,T,q,M,$,S=t[15](t[50],t[52])+"";return{c(){e=l("div"),s=l("span"),i=l("div"),f=v(),p=l("span"),h=l("div"),b=v(),x=l("span"),w=l("div"),_=A("Place Here"),c(i,"id",n=t[50].id),c(i,"class","list1"),c(i,"tabindex",a=0),c(i,"data-correctans",r=t[50].correctans),c(i,"data-userans",o=t[50].userans),c(i,"data-originalseq",d=t[50].originalseq?t[50].originalseq:"0"),c(s,"class","span4"),c(h,"id",g=t[50].id),c(h,"class","arrow"),c(p,"class","span3"),c(w,"id",y=t[50].id),c(w,"class","list3 ui-droppable"),c(w,"data-droped",""),c(w,"data-correctans",I=t[50].correctans),c(w,"data-userans",L=t[50].userans),c(w,"mrel",C=t[50].id),c(w,"dropzone","1"),c(w,"draggable","true"),c(w,"tabindex",T=0),c(w,"aria-label",q="Droped"),c(w,"data-originalseq",M=t[50].originalseq?t[50].originalseq:"0"),c(x,"class","span4"),c(e,"key",$=t[52]),c(e,"class","row-fluid")},m(t,n){u(t,e,n),k(e,s),k(s,i),i.innerHTML=S,k(e,f),k(e,p),k(p,h),k(e,b),k(e,x),k(x,w),k(w,_)},p(t,e){128&e[0]&&S!==(S=t[15](t[50],t[52])+"")&&(i.innerHTML=S),128&e[0]&&n!==(n=t[50].id)&&c(i,"id",n),128&e[0]&&r!==(r=t[50].correctans)&&c(i,"data-correctans",r),128&e[0]&&o!==(o=t[50].userans)&&c(i,"data-userans",o),128&e[0]&&d!==(d=t[50].originalseq?t[50].originalseq:"0")&&c(i,"data-originalseq",d),128&e[0]&&g!==(g=t[50].id)&&c(h,"id",g),128&e[0]&&y!==(y=t[50].id)&&c(w,"id",y),128&e[0]&&I!==(I=t[50].correctans)&&c(w,"data-correctans",I),128&e[0]&&L!==(L=t[50].userans)&&c(w,"data-userans",L),128&e[0]&&C!==(C=t[50].id)&&c(w,"mrel",C),128&e[0]&&M!==(M=t[50].originalseq?t[50].originalseq:"0")&&c(w,"data-originalseq",M)},d(t){t&&m(e)}}}function tt(t){let e,s,i,n,a,r,o,d=t[16](t[50],t[11][t[52]])+"";return{c(){e=l("div"),s=new j,i=v(),s.a=i,c(e,"key",n=t[52]),c(e,"id",a=t[50].id),c(e,"class","list4 ui-draggable"),c(e,"data-correctans",""),c(e,"dragable","1"),c(e,"draggable","true"),c(e,"data-userans",""),c(e,"tabindex",r=0),c(e,"data-originalseq",o=t[50].originalseq?t[50].originalseq:"0")},m(t,n){u(t,e,n),s.m(d,e),k(e,i)},p(t,i){256&i[0]&&d!==(d=t[16](t[50],t[11][t[52]])+"")&&s.p(d),256&i[0]&&a!==(a=t[50].id)&&c(e,"id",a),256&i[0]&&o!==(o=t[50].originalseq?t[50].originalseq:"0")&&c(e,"data-originalseq",o)},d(t){t&&m(e)}}}function et(t){let e,s,i,n,a,r,o,d,f,p,h=t[15](t[50],t[52])+"";return{c(){e=l("div"),s=new j,i=v(),s.a=i,c(e,"key",n=t[52]),c(e,"id",a=t[50].id),c(e,"class","list1 ui-draggable"),c(e,"data-correctans",r=t[50].correctans),c(e,"data-userans",o=t[50].userans),c(e,"style",d="position:relative;"),c(e,"tabindex",f=0),c(e,"draggable","true"),c(e,"data-originalseq",p=t[50].originalseq?t[50].originalseq:"0")},m(t,n){u(t,e,n),s.m(h,e),k(e,i)},p(t,i){128&i[0]&&h!==(h=t[15](t[50],t[52])+"")&&s.p(h),128&i[0]&&a!==(a=t[50].id)&&c(e,"id",a),128&i[0]&&r!==(r=t[50].correctans)&&c(e,"data-correctans",r),128&i[0]&&o!==(o=t[50].userans)&&c(e,"data-userans",o),128&i[0]&&p!==(p=t[50].originalseq?t[50].originalseq:"0")&&c(e,"data-originalseq",p)},d(t){t&&m(e)}}}function st(t){let e,s,i,n,a,r,o,d,f=t[16](t[50],t[11][t[52]])+"";return{c(){e=l("div"),s=new j,i=v(),s.a=i,c(e,"key",n=t[52]),c(e,"id",a=t[50].id),c(e,"class","list2 ui-droppable"),c(e,"data-correctans",""),c(e,"data-userans",""),c(e,"dropzone","1"),c(e,"style",r="position:relative;"),c(e,"tabindex",o=0),c(e,"data-originalseq",d=t[50].originalseq?t[50].originalseq:"0")},m(t,n){u(t,e,n),s.m(f,e),k(e,i)},p(t,i){256&i[0]&&f!==(f=t[16](t[50],t[11][t[52]])+"")&&s.p(f),256&i[0]&&a!==(a=t[50].id)&&c(e,"id",a),256&i[0]&&d!==(d=t[50].originalseq?t[50].originalseq:"0")&&c(e,"data-originalseq",d)},d(t){t&&m(e)}}}function it(t){let e;return{c(){e=l("i"),e.innerHTML='<span class="u-sr-only svelte-bi3u6x">close</span>',c(e,"class","mi mi-close")},m(t,s){u(t,e,s)},d(t){t&&m(e)}}}function nt(t){let e,s,i,n,a,r,o,f,p,h,g,b,A,_,y;return a=new z({props:{style:"position:relative;left:21px;bottom:6px;",$$slots:{default:[it]},$$scope:{ctx:t}}}),a.$on("click",t[29]),{c(){e=l("div"),s=l("div"),s.textContent="How to drop?",i=v(),n=l("div"),x(a.$$.fragment),r=v(),o=l("div"),f=l("div"),p=l("img"),g=v(),b=l("br"),A=v(),_=l("span"),_.innerHTML='<input type="checkbox" style="top:2px;" class="relative donotshowdialog" id="dropId"/> \n\t\t\t\t\t<label for="dropId">Do not show this dialog again</label>',c(s,"title","How to drop?"),c(s,"class","float-start"),c(n,"class","float-end"),d(e,"font-weight","bold"),c(e,"class","clearfix"),c(p,"alt","gif file"),D(p.src,h=M.select("#matchmain").getAttribute("path")+"match_drop_000BOG.gif")||c(p,"src",h),c(_,"class","mt-2"),c(f,"class","row")},m(t,l){u(t,e,l),k(e,s),k(e,i),k(e,n),w(a,n,null),u(t,r,l),u(t,o,l),k(o,f),k(f,p),k(f,g),k(f,b),k(f,A),k(f,_),y=!0},p(t,e){const s={};33554432&e[1]&&(s.$$scope={dirty:e,ctx:t}),a.$set(s)},i(t){y||(I(a.$$.fragment,t),y=!0)},o(t){L(a.$$.fragment,t),y=!1},d(t){t&&m(e),C(a),t&&m(r),t&&m(o)}}}function at(t){let e,s,i,n,a,r,o,p,q,M,$,S,H,E,j,z,D,O,B,U,P,N,X,Y,R,V,J,K,Z,tt,et,st,it,at,rt,lt,ot,ct=t[1]&&F(t);function dt(t,e){return 0==t[3]||1==t[3]?Q:G}o=new W({props:{handleReviewClick:t[17],reviewMode:t[0]}}),o.$on("setReview",t[12]),o.$on("unsetReview",t[13]);let ut=dt(t),ft=ut(t);function pt(e){t[30](e)}let mt={width:"450",height:"254",style:"background: #fff; border-radius: 5px;",$$slots:{default:[nt]},$$scope:{ctx:t}};return void 0!==t[10].dropDialog&&(mt.visible=t[10].dropDialog),it=new h({props:mt}),g.push((()=>b(it,"visible",pt))),{c(){e=l("main"),s=l("div"),i=l("center"),ct&&ct.c(),n=v(),a=l("div"),r=l("div"),x(o.$$.fragment),p=v(),q=l("div"),M=l("div"),$=l("button"),$.textContent="Correct Answer",H=v(),E=l("button"),E.textContent="Compare",z=v(),D=l("button"),D.textContent="Your Answer",U=v(),P=l("div"),N=l("div"),X=l("div"),Y=A(t[5]),R=v(),V=l("div"),J=v(),K=l("div"),Z=l("div"),tt=A(t[6]),et=v(),ft.c(),st=v(),x(it.$$.fragment),c(r,"class","btn-group clearfix review_2 h"),c(r,"id","sm_controller"),c($,"type","button"),c($,"tabindex",S=0),c($,"class","btn btn-light correct-ans clr"),c(E,"type","button"),c(E,"tabindex",j=0),c(E,"class","btn btn-primary both-ans clr"),c(D,"type","button"),c(D,"tabindex",O=0),c(D,"class","btn btn-light your-answer clr"),c(M,"class","btn-group clearfix review_default h"),c(M,"id","sm_controller_default"),c(q,"class",B=""),c(X,"class","heading"),c(N,"class","span4"),c(V,"class","span3"),c(Z,"class","heading"),c(K,"class","span4"),c(P,"class","row-fluid"),c(a,"id",t[4]),c(a,"path","//s3.amazonaws.com/jigyaasa_content_static/"),c(a,"multimatch",t[3]),c(a,"totalcorrectans",t[9]),d(a,"font-family","Roboto, sans-serif"),d(a,"font-size","1em"),c(s,"id","previewSection"),c(s,"class","px-2")},m(l,c){u(l,e,c),k(e,s),k(s,i),ct&&ct.m(i,null),k(i,n),k(i,a),k(a,r),w(o,r,null),k(a,p),k(a,q),k(q,M),k(M,$),k(M,H),k(M,E),k(M,z),k(M,D),k(a,U),k(a,P),k(P,N),k(N,X),k(X,Y),k(P,R),k(P,V),k(P,J),k(P,K),k(K,Z),k(Z,tt),k(a,et),ft.m(a,null),k(e,st),w(it,e,null),rt=!0,lt||(ot=[f($,"click",t[23]),f($,"keyup",t[24]),f(E,"click",t[25]),f(E,"keyup",t[26]),f(D,"click",t[27]),f(D,"keyup",t[28])],lt=!0)},p(t,e){t[1]?ct?ct.p(t,e):(ct=F(t),ct.c(),ct.m(i,n)):ct&&(ct.d(1),ct=null);const s={};1&e[0]&&(s.reviewMode=t[0]),o.$set(s),(!rt||32&e[0])&&_(Y,t[5]),(!rt||64&e[0])&&_(tt,t[6]),ut===(ut=dt(t))&&ft?ft.p(t,e):(ft.d(1),ft=ut(t),ft&&(ft.c(),ft.m(a,null))),(!rt||16&e[0])&&c(a,"id",t[4]),(!rt||8&e[0])&&c(a,"multimatch",t[3]),(!rt||512&e[0])&&c(a,"totalcorrectans",t[9]);const r={};1024&e[0]|33554432&e[1]&&(r.$$scope={dirty:e,ctx:t}),!at&&1024&e[0]&&(at=!0,r.visible=t[10].dropDialog,y((()=>at=!1))),it.$set(r)},i(t){rt||(I(o.$$.fragment,t),I(it.$$.fragment,t),rt=!0)},o(t){L(o.$$.fragment,t),L(it.$$.fragment,t),rt=!1},d(t){t&&m(e),ct&&ct.d(),C(o),ft.d(),C(it),lt=!1,T(ot)}}}function rt(t){for(let e=t.length-1;e>0;e--){let s=Math.floor(Math.random()*(e+1)),i=t[e];t[e]=t[s],t[s]=i}return t}function lt(t,s,n){let{showAns:a}=s,{cmed:r}=s,{xml:l}=s,{isReview:o}=s,{uxml:c}=s,{editorState:d}=s,u="",f="",p="",m=[],h=[],g="",b=!1,v=0,x=["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],A=!1,k=0,w=!1,_=1,y="",I="";P.sinfo=!0;let L,C,T,E=0,j=r?"matchmain"+r:"matchmain",z={xml:"",remedStatus:"",dropDialog:"",isReview:!1};function D(){let t=P.checkAns("#"+j);H({uXml:t.u,ans:t.ans}),d&&a(t.ans?"Correct":"Incorrect")}function W(){if(E>3)return!1;"function"==typeof hotkeys?setTimeout((function(){console.log("hotkey function is ","function"==typeof hotkeys),P.bindKeyup()}),1e3):(console.log("Hotkey try = ",E),E++,W())}function O(){if(n(0,o=!0),w=!0,D(),null!=document.querySelector("#shuffleAre")&&(document.querySelector("#shuffleAre").style.display="none"),P.modeOn("on"),1==p||0==p){M.find("#"+j,"#sm_controller").classList.add("h"),M.find("#"+j,"#sm_controller").style.display="none",M.find("#"+j,"#sm_controller_default").style.display="inline-block";var t=setTimeout((function(){M.find("#"+j,"#sm_controller_default .both-ans").click(),clearTimeout(t)}),50)}else{M.select("#"+j+" #sm_controller_default").classList.add("h"),M.find("#"+j,"#sm_controller_default").style.display="none",M.selectAll("#"+j+" #sm_controller").style.display="inline-block";var e=setTimeout((function(){M.find("#"+j,"#sm_controller_default .your-ans").click(),clearTimeout(e)}),200)}}function B(){n(0,o=!1),M.addClass(".review_2, .review_default","h");let t=document.querySelectorAll(".review_2, .review_default");for(let e=0;e<t.length;e++)t[e].style.display="none";w=!1,1==b?M.select("#shuffleArea","css",{display:"none"}):M.select("#shuffleArea","css",{display:"block"}),P.modeOn()}function U(){try{!function(){c||P.removeUserAns();P.showUserAns("#"+j),P.remove_lines("#"+j),P.modeOn(),d||function(){let t=S(c);if(c&&t.smans&&t.smans.matchlist&&t.smans.matchlist._userans){let t=S(c),e=t.smans.matchlist._list1seq.split(","),s=t.smans.matchlist._list2seq.split(",");y=t.smans.matchlist._originalseq1?t.smans.matchlist._originalseq1.split(","):"",I=t.smans.matchlist._originalseq2?t.smans.matchlist._originalseq2.split(","):"";let i=[];for(let t of e)for(let e in m)m[e].id==t&&i.push(m[e]);n(7,m=i);let a=[];for(let t of s)for(let e in h)h[e].id==t&&a.push(h[e]);if(n(8,h=a),t.smans.matchlist._userans){const e=t.smans.matchlist._userans.split(",");for(let t in e)for(let s in m){let i=e[t].split(/\[|\]/g)[1];i=i.split("|");for(let a in i)m[s].id==i[a]&&n(7,m[s].userans+=e[t].split(/\[|\]/g)[0]+",",m)}}}else rt(m),rt(h),P.removeUserAns();P.showUserAns("#"+j),P.remove_lines("#"+j),P.modeOn()}();if(o){M.find("#"+j,"#sm_controller_default .both-ans").click();var t=setTimeout((function(){w=!0,D(),M.select("#shuffleArea","css",{display:"none"}),P.modeOn("on"),1==p||0==p?(M.select("#"+j+" #sm_controller","addClass","h"),M.select("#"+j+" #sm_controller_default","removeClass","h")):(M.select("#"+j+" #sm_controller_default","addClass","h"),M.select("#"+j+" #sm_controller","removeClass","h")),clearTimeout(t)}),100)}else{let t=document.querySelectorAll(".review_2, .review_default");for(let e=0;e<t.length;e++)t[e].classList.add("h")}}()}catch(e){if(_<=100)var t=setTimeout((function(){U(),clearTimeout(t)}),50);else console.log("runModule14:Error"),console.log(e);_++}}q((async()=>{M.createLink("https://unpkg.com/mono-icons@1.0.5/iconfont/icons.css",{preload:!0,type:"stylesheet",as:"style"}),L=new e({onDragEnter:t=>{M.select(t.target,"addClass","drop-hover")},onDragLeave:t=>{M.select(t.target,"removeClass","drop-hover")},onDragEnd:t=>{D(),M.selectAll(".list2").forEach((function(t,e){M.select(t,"removeClass","drop-hover")})),M.selectAll(".list3").forEach((function(t,e){M.select(t,"removeClass","drop-hover")})),P.is_valid_drop||P.sinfo&&(n(2,P.sinfo=!1,P),setTimeout((function(){n(2,P.sinfo=!0,P)}),6e4),"function"==typeof M.alert&&M.alert("While dropping a component, keep your mouse pointer on the drop area. Drop area must be compatible with the component you are dropping."),1!=P.chkDoNotShow(user_guid)&&n(10,z.dropDialog=!0,z))}}),M.listen("#matchmain ","click",".matchlist-delete",(function(t){setTimeout((function(){D()}),200)})),M.listen(document,"click","#set-review",(function(){O()})),M.listen(document,"click","#unset-review",(function(){B()})),setTimeout(function(){let t=M.select("#"+j+" img");M.listen(document,"load",t,(()=>{o?(1==p||0==p?(M.select("#"+j+" #sm_controller","addClass","h"),M.select("#"+j+" #sm_controller_default","removeClass","h")):(M.select("#"+j+" #sm_controller_default","addClass","h"),M.select("#"+j+" #sm_controller","removeClass","h")),B(),O()):(O(),B())}))}.bind(this),500),setTimeout((function(){W()}),1500)})),$((()=>{z.xml!=l&&(n(10,z.xml=l,z),r&&(n(4,j="matchmain"+r),n(2,P.ajax_eId="#matchmain"+r,P)),n(22,b=!1),M.select("#shuffleArea","css",{display:"block"}),function(t){try{if(n(7,m=[]),n(8,h=[]),n(5,u=t.smxml.matchlist._listheading1),n(6,f=t.smxml.matchlist._listheading2),n(3,p=t.smxml.matchlist._multimatch),g=t.smxml.matchlist.__cdata,A=!!t.smxml.matchlist._is_algo&&"true"==t.smxml.matchlist._is_algo,t.smxml.matchlist._max_node){var e=Number(t.smxml.matchlist._max_node);k=e>0?e:0}else k=0;g=g.split("\n");var s=0,i=1,a=!1,r=!1,l="";if(g.forEach((function(t,e){if(""!=g[e].trim()){n(9,v++,v);var o="";if(g[e].match(/\[(.*?)\]/g)){var c=g[e].match(/\[(.*?)\]/g)[0];c=(c=c.replace("[","").replace("]","")).split("|")}h.forEach((function(t,s){h[s].value==g[e].replace(g[e].match(/\[(.*?)\]/g),"").trim()&&(l=h[s].id,r=!0)})),1!=r?(h.push({id:x[s],correctans:"",value:g[e].replace(g[e].match(/\[(.*?)\]/g),"").trim()}),o=h[s].id):o=l,m.forEach((function(t,e){m[e].value==c&&(a=!0,n(7,m[e].correctans=1!=r?m[e].correctans+","+h[s].id:m[e].correctans+","+l,m))})),1!=a&&c.forEach((function(t,e){m.push({id:i,correctans:o,userans:"",value:c[e]}),i++})),a=!1,0==r&&s++,r=!1}})),k>0&&k<=m.length){n(7,m=rt(m));for(var o=[],c=0;c<k;c++)o.push(m[c]);n(7,m=o),(o=[]).length=0;var d=0;for(c=0;c<m.length;c++)for(var b=m[c].correctans.split(","),w=0;w<b.length;w++)for(var _=0;_<h.length;_++)if(d=0,b[w]==h[_].id)if(o.length<=0)o.push(h[_]);else{for(var y=0;y<o.length;y++)if(b[w]==o[y].id){d=1;break}1!=d&&o.push(h[_])}n(8,h=o)}}catch(t){console.log({error:t,fun:"ParseXMLPreview",file:"MatchlistPreview.svelte"})}}(S(l)),U())})),M.listen("body","click",".clr",(t=>{M.selectAll(".clr","removeClass","btn-primary"),M.selectAll(".clr","addClass","btn-light"),M.select(t,"removeClass","btn-light"),M.select(t,"addClass","btn-primary")}));return t.$$set=t=>{"showAns"in t&&n(18,a=t.showAns),"cmed"in t&&n(19,r=t.cmed),"xml"in t&&n(20,l=t.xml),"isReview"in t&&n(0,o=t.isReview),"uxml"in t&&n(21,c=t.uxml),"editorState"in t&&n(1,d=t.editorState)},t.$$.update=()=>{4194333&t.$$.dirty[0]&&(1==o?(D(),M.select("#shuffleArea","hide"),P.modeOn("on"),1==p||0==p?(M.select(".both-ans").click(),M.select("#"+j+" #sm_controller","addClass","h"),M.select("#"+j+" #sm_controller_default","removeClass","h"),M.select("#"+j+" #sm_controller_default","css",{display:"inline-block"})):(M.select("#"+j+" #sm_controller_default","addClass","h"),M.select("#"+j+" #sm_controller","removeClass","h"),setTimeout((function(){document.getElementsByClassName("your-ans")[0].click()}),500))):(n(0,o=!1),M.select("#"+j+" #sm_controller_default","css",{display:"none"}),1==b?M.select("#shuffleArea","css",{display:"none"}):M.select("#shuffleArea","css",{display:"block"}),P.modeOn()))},[o,d,P,p,j,u,f,m,h,v,z,x,O,B,function(){n(22,b=!0),P.removeUserAns(),P.showUserAns("#"+j),P.remove_lines("#"+j),P.modeOn(),n(7,m=rt(m)),n(8,h=rt(h)),M.select("#shuffleArea","css",{display:"none"})},function(t,e){if(1==A&&1!=w)if(y){var s=y[i];t.originalseq=s,t.value=t.value.split("%%")[s]}else t.value=function(e){let s=Math.floor(Math.random()*e.length);return t.originalseq=s,e[s]}(t.value.split("%%"));let n=t.value.substr(1).split("##")[0].split("%%")[0],a=t.value.substr(1).split("##")[1]?t.value.substr(1).split("##")[1]:"";return C=`<span class="serial">${e+1}.</span>`+("*"==t.value.charAt(0)?`<img class="pe-none" src="//s3.amazonaws.com/jigyaasa_content_static/${n}" alt="${a}" />`:t.value),C},function(t,e){if(1==A&&1!=w)if(I){var s=I[i];data.originalseq=s,t.value=t.value.split("%%")[s]}else t.value=(n=t.value.split("%%"),a=Math.floor(Math.random()*n.length),t.originalseq=a,n[a]);var n,a;let r=t.value.substr(1).split("##")[0].split("%%")[0],l=t.value.substr(1).split("##")[1]?t.value.substr(1).split("##")[1]:"";return T=`<span class="serial">${e}.</span>`+("*"==t.value.charAt(0)?`<img class="pe-none" src="//s3.amazonaws.com/jigyaasa_content_static/${r}" alt="${l}" />`:t.value),T},function(t){"c"==t?P.showAllCorrectAns("#"+j):P.showAllAns("#"+j)},a,r,l,c,b,()=>P.showCorrect("#"+j),t=>{13==t.keyCode&&P.showCorrect("#"+j)},()=>P.showAll("#"+j),t=>{13==t.keyCode&&P.showAll("#"+j)},()=>P.showYour("#"+j),t=>{13==t.keyCode&&P.showYour("#"+j)},()=>{n(10,z.dropDialog=!1,z)},function(e){t.$$.not_equal(z.dropDialog,e)&&(z.dropDialog=e,n(10,z))}]}O('[id^=matchmain]{width:700px;min-height:10px;font-size:12px;position:relative;font-family:Arial,"Helvetica Neue",Helvetica,sans-serif;font-size:14px}[id^=matchmain] .row-fluid{width:100%}[id^=matchmain] .row-fluid:after,[id^=matchmain] .row-fluid:before{display:table;line-height:0;content:""}[id^=matchmain] .row-fluid:after{clear:both}[id^=matchmain] .row-fluid [class*=span]{display:block;float:left;width:100%;min-height:30px;margin-left:2.127659574468085%;-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box}[id^=matchmain] .row-fluid [class*=span]:first-child{margin-left:0}[id^=matchmain] .row-fluid .span4{width:36.914893617021278%}[id^=matchmain] .row-fluid .span3{width:21.914893617021278%!important;}[id^=matchmain] .heading{font-size:17px!important;font-weight:400;margin-bottom:20px;line-height:30px}[id^=matchmain] .arrow{min-height:44px;padding:7px 10px;background:url(../../images/arrow_matchtype.png) no-repeat 100% 50%;margin-left:-10.5%;margin-right:-10%}[id^=matchmain] .list4{display:inline-table;width:214px;margin-right:1.3%;cursor:move}[id^=matchmain] .list1,[id^=matchmain] .list2,[id^=matchmain] .list4{padding:7px 10px;margin-bottom:5px;-webkit-border-radius:2px;-moz-border-radius:2px;border-radius:2px;font-size:12px;line-height:20px;min-height:40px;word-wrap:break-word}[id^=matchmain] .list3{padding:7px 10px;text-align:center;margin-bottom:5px;-webkit-border-radius:2px;-moz-border-radius:2px;border-radius:2px;font-size:12px;min-height:40px;word-wrap:break-word;line-height:25px}[id^=matchmain] .list1{border:1px solid #000;background-color:#cfc;cursor:move;line-height:22px}[id^=matchmain] .list2,[id^=matchmain] .list4{border:1px solid #000;background-color:#ffc;position:relative}[id^=matchmain] .list3{border:1px solid #000;background-color:#fff;position:relative}[id^=matchmain] .clone{z-index:0!important;background-color:#fffcc1!important;border:none!important}[id^=matchmain] .drop-hover{border:1px dashed #000;box-shadow:0 0 0 1px #000 inset}[id^=matchmain] #lines{width:100%;height:100%;position:absolute;top:7px;left:0}[id^=matchmain] .line{stroke:#000;stroke-width:2px;z-index:11}[id^=matchmain] .serial{float:left;padding-right:1px}[id^=matchmain] .correct{stroke:#5bb75b;stroke-width:2px;z-index:0}[id^=matchmain] .list1 img,[id^=matchmain] .list2 img,[id^=matchmain] .list3 img,[id^=matchmain] .list4 img{max-width:100px;max-height:100px}.match_options{background:#e4eeff;margin-top:3%;margin-bottom:1%;padding:15px 10px 10px 20px;box-shadow:0 0 2px 1px gray;height:auto}.dropped{background-color:#ffc!important;cursor:move}.matchlist-delete{cursor:pointer;height:20px;width:20px;border-radius:50%;-webkit-border-radius:50%;-moz-border-radius:50%;background-color:#000;color:#fff;font-weight:700;font-size:20px;line-height:20px;position:absolute;z-index:16}.list1,.list2,.list3,.list4{color:#000!important}.selmatch{border:solid 2px red!important;border-radius:2px!important}.remoutline{outline:solid 3px red!important}.copiedclr{background-color:#ccc!important}.bla [id^=matchmain] .list1:focus,.bla [id^=matchmain] .list2:focus,.bla [id^=matchmain] .list3:focus,.bla [id^=matchmain] .list4:focus{box-shadow:inset 0 0 0 1px transparent,inset 0 0 0 1px #fff,inset 0 0 0 2px #fff;outline:0}.textdel>span{top:0}\r\n\r\n.context {\r\n    position: absolute;\r\n    top: 0px;\r\n    left: 0px;\r\n    min-width: 180px;\r\n    font-family: \'Segoe UI\', Tahoma, Geneva, Verdana, sans-serif;\r\n    color: #000;\r\n    background: #f5f5f5;\r\n    font-size: 9pt;\r\n    border: 1px solid #333333;\r\n    box-shadow: 4px 4px 3px -1px rgba(0, 0, 0, 0.5);\r\n    padding: 3px 0px;\r\n    -webkit-touch-callout: none;\r\n    -webkit-user-select: none;\r\n    -khtml-user-select: none;\r\n    -moz-user-select: none;\r\n    -ms-user-select: none;\r\n    user-select: none;\r\n    z-index: 1061;\r\n}\r\n\r\n.context .item {\r\n    padding: 4px 19px;\r\n    cursor: default;\r\n    color: inherit;\r\n    text-align: left\r\n}\r\n\r\n.context .item:hover {\r\n    background: #e3e3e3 !important;\r\n}\r\n\r\n.context .item:hover .hotkey {\r\n    color: #000 !important;\r\n}\r\n\r\n.context .disabled {\r\n    color: #878B90 !important;\r\n}\r\n\r\n.context .disabled:hover {\r\n    background: inherit !important;\r\n}\r\n\r\n.context .disabled:hover .hotkey {\r\n    color: #878B90 !important;\r\n}\r\n\r\n.context .separator {\r\n    margin: 4px 0px;\r\n    height: 0;\r\n    padding: 0;\r\n    border-top: 1px solid #b3b3b3;\r\n}\r\n\r\n.hotkey {\r\n    color: #878B90;\r\n    float: right;\r\n}');export default class extends s{constructor(t){super(),n(this,t,lt,at,a,{showAns:18,cmed:19,xml:20,isReview:0,uxml:21,editorState:1},Y,[-1,-1])}}
//# sourceMappingURL=MatchListPreview-ac80358d.js.map
