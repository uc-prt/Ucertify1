import{S as e,i as t,s as a,e as l,C as n,b as o,u as i,f as s,h as c,j as r,P as d,l as u,r as g,o as m,y as b,p,X as h,A as _}from"./main-a1cb066e.js";function f(e){let t,a,p,h,_,f,v,x,w,C,y,k,S,R,A,T,B,I,P,G,E,j,D,O,X,$,L,F,M,N,U,H,J,K,z,V,Y,q,Q,W,Z,ee,te,ae,le,ne,oe,ie,se,ce,re,de,ue,ge,me,be,pe,he,_e,fe,ve,xe,we,Ce,ye,ke,Se,Re,Ae,Te,Be,Ie,Pe,Ge,Ee,je,De,Oe,Xe,$e,Le,Fe,Me,Ne,Ue,He=n.recording_warning+"",Je=n.modal_data+"";return{c(){t=l("div"),a=l("div"),p=l("div"),h=l("b"),h.textContent=""+n.note_label,_=o(),f=i(He),v=o(),x=l("div"),w=l("div"),C=l("b"),C.textContent=""+n.spoken_label,y=o(),k=l("textarea"),A=o(),T=l("div"),B=l("div"),I=l("label"),P=l("b"),P.textContent=""+n.select_lang,G=o(),E=l("select"),j=l("option"),j.textContent=""+n.english_us,D=l("option"),D.textContent=""+n.german_lang,O=l("option"),O.textContent=""+n.french_lang,X=l("option"),X.textContent=""+n.spanish_lang,$=l("option"),$.textContent=""+n.hindi_lang,L=l("option"),L.textContent=""+n.japanese_lang,F=l("option"),F.textContent=""+n.korean_lang,M=l("option"),M.textContent=""+n.italiano,U=o(),H=l("div"),J=l("label"),K=l("input"),V=o(),Y=l("div"),q=o(),Q=l("label"),Q.textContent=""+n.show_transcript,W=o(),Z=l("div"),ee=l("div"),te=l("div"),ae=l("b"),ae.textContent=""+n.audio_recorder,le=o(),ne=l("div"),oe=l("span"),oe.textContent=""+n.starting_message,ie=o(),se=l("div"),se.innerHTML='<img src="//s3.amazonaws.com/jigyaasa_content_static/6ba174bf48e9b6dc8d8bd19d13c9caa9_000Awg.gif" alt="recording is on" class="w-100 h-100 img_fit"/>',ce=o(),re=l("div"),re.innerHTML='<img src="//s3.amazonaws.com/jigyaasa_content_static/giphy_000AYi.gif" alt="audio is playing" class="w-100 h-100 img_fit"/>',de=o(),ue=l("div"),ge=l("button"),me=l("span"),he=o(),_e=l("button"),fe=l("span"),we=o(),Ce=l("button"),ye=l("span"),Se=o(),Re=l("div"),Ae=l("div"),Te=l("div"),Be=l("div"),Ie=l("div"),Pe=l("h4"),Pe.textContent=""+n.confirm_label,Ge=o(),Ee=l("button"),Ee.textContent="×",je=o(),De=l("div"),Oe=i(Je),Xe=o(),$e=l("div"),Le=l("button"),Le.textContent=""+n.no_label,Fe=o(),Me=l("button"),Me.textContent=""+n.yes_label,s(h,"class","noteColor bolder"),s(p,"class","col-12"),s(p,"tabindex","0"),s(p,"aria-label","Recording will end after 15 sec"),s(w,"class","pb-2"),s(k,"id","data_container"),k.disabled="disabled",s(k,"name","cdata"),s(k,"class","form-control"),s(k,"rows","3"),s(k,"cols","75"),k.value=S=e[3].cdata,s(k,"aria-label",R=n.spoken_label+" "+(""!=e[3].cdata?e[3].cdata:"Nothing")),s(x,"class","col-6 py-2 mb-1"),s(I,"for","language_select"),s(B,"class","select_label_container"),j.__value="en-US",j.value=j.__value,s(j,"aria-label","English United States"),D.__value="de-DE",D.value=D.__value,s(D,"aria-label","German"),O.__value="fr-FR",O.value=O.__value,s(O,"aria-label","French"),X.__value="es-ES",X.value=X.__value,s(X,"aria-label","Spanish"),$.__value="hi-IN",$.value=$.__value,s($,"aria-label","Hindi"),L.__value="ja-JP",L.value=L.__value,s(L,"aria-label","Japanese"),F.__value="ko-KR",F.value=F.__value,s(F,"aria-label","Korean"),M.__value="it-IT",M.value=M.__value,s(M,"aria-label","Italian"),s(E,"id","language_select"),s(E,"name","language"),s(E,"class","disability_apply form-control form-control-sm"),s(E,"aria-label","Select the language for Recording"),s(K,"type","checkbox"),s(K,"name","showTranscript"),s(K,"id","showTranscript"),s(K,"tabindex","0"),s(K,"class","form-check-input"),K.checked=z=e[3].showTranscript,s(Y,"class","check_mark_custom pt-sm1"),s(J,"for","showTranscript"),s(J,"class","custom_checkbox_new float-left mr-1"),s(Q,"for","showTranscript"),s(Q,"class","form-check-label"),s(H,"class","form-check form-check-inline transcript_container mt-3"),s(T,"class","col-6 py-2 mb-1"),s(te,"class","p-2 tokenfield bg-light mb-3"),s(te,"aria-label","Audio Recorder"),s(te,"tabindex","0"),s(oe,"class","align-self-center mx-auto authInitialState tokenfield"),s(oe,"aria-label","Click on record to start recording"),s(oe,"tabindex","0"),s(se,"class","h authRecordingOn w-100 h-100 tokenfield"),s(se,"aria-label","recording is on"),s(se,"tabindex","0"),s(re,"class","h authAudioPlaying w-100 h-100 tokenfield"),s(re,"aria-label","Audio is playing"),s(re,"tabindex","0"),s(ne,"class","mx-auto text-danger recording_status initialState mb-3 d-flex mx-auto"),s(me,"class","icomoon-circle-2 s2 text-danger position-relative top1"),s(me,"data-bs-toggle","tooltip"),s(me,"data-placement","top"),s(me,"data-original-title",be="recording"==e[3].status?"Stop Recording":"Start Recording"),s(ge,"type","button"),s(ge,"name","recordButton"),s(ge,"id","recordButton"),s(ge,"class","btn btn-light py-0"),s(ge,"aria-label",pe="Click for "+e[2]),s(fe,"class","icomoon-24px-autoplay-4 position-relative top1"),s(fe,"data-bs-toggle","tooltip"),s(fe,"data-placement","top"),s(fe,"data-original-title","Play Audio"),s(_e,"type","button"),s(_e,"name","stopButton"),s(_e,"id","stopButton"),_e.disabled=ve=e[3].disabled,s(_e,"class","btn btn-light py-0"),s(_e,"aria-label",xe="Click for "+e[0]),s(ye,"class","icomoon-new-24px-reset-1 position-relative top1"),s(ye,"data-bs-toggle","tooltip"),s(ye,"data-placement","top"),s(ye,"title","Reset Data"),s(Ce,"type","button"),s(Ce,"name","resetButton"),s(Ce,"id","resetButton"),s(Ce,"class","btn btn-light py-0"),Ce.disabled=ke=e[3].isReset,s(Ce,"data-bs-toggle","modal"),s(Ce,"data-bs-target","#authoring_confirm_modal"),s(Ce,"aria-label","Click on this button for override the previous recording"),s(ue,"id","controls_container"),s(ue,"class","bg-light text-center w-100 p-2"),s(ee,"class","border rounded shadow-sm"),s(Z,"class","col-12 col-md-8 offset-md-2"),s(a,"class","row"),s(t,"id","authoring_container"),s(t,"class","container"),s(Pe,"class","modal-title tokenfield"),s(Pe,"aria-label","Confirmation Dialog box"),s(Pe,"tabindex","0"),s(Ee,"type","button"),s(Ee,"class","close"),s(Ee,"data-bs-dismiss","modal"),s(Ee,"tabindex","0"),s(Ee,"aria-label","Click on this button for close the confirmation dialog box"),s(Ie,"class","modal-header"),s(De,"class","modal-body tokenfield"),s(De,"tabindex","0"),s(De,"aria-label",e[1]),s(De,"id","dialogBody"),s(De,"name","dialogBody"),s(Le,"type","button"),s(Le,"class","authoring_dismiss_modal btn btn-light pr-2"),s(Le,"data-bs-dismiss","modal"),s(Le,"tabindex","0"),s(Le,"aria-label","Click on this button for neglecte to override previous recording"),s(Me,"type","button"),s(Me,"class","authoring_dismiss_done btn btn-primary"),s(Me,"data-bs-dismiss","modal"),s(Me,"tabindex","0"),s(Me,"aria-label","Click on this button for override the previous recording"),s($e,"class","modal-footer"),s(Be,"class","modal-content"),s(Te,"class","modal-dialog modal-md modal-dialog-centered"),s(Ae,"class","modal fade"),s(Ae,"id","authoring_confirm_modal"),s(Re,"class","authoring_modal_container container")},m(l,n){c(l,t,n),r(t,a),r(a,p),r(p,h),r(p,_),r(p,f),r(a,v),r(a,x),r(x,w),r(w,C),r(x,y),r(x,k),r(a,A),r(a,T),r(T,B),r(B,I),r(I,P),r(T,G),r(T,E),r(E,j),r(E,D),r(E,O),r(E,X),r(E,$),r(E,L),r(E,F),r(E,M),d(E,e[3].language),r(T,U),r(T,H),r(H,J),r(J,K),r(J,V),r(J,Y),r(H,q),r(H,Q),r(a,W),r(a,Z),r(Z,ee),r(ee,te),r(te,ae),r(ee,le),r(ee,ne),r(ne,oe),r(ne,ie),r(ne,se),r(ne,ce),r(ne,re),r(ee,de),r(ee,ue),r(ue,ge),r(ge,me),r(ue,he),r(ue,_e),r(_e,fe),r(ue,we),r(ue,Ce),r(Ce,ye),c(l,Se,n),c(l,Re,n),r(Re,Ae),r(Ae,Te),r(Te,Be),r(Be,Ie),r(Ie,Pe),r(Ie,Ge),r(Ie,Ee),r(Be,je),r(Be,De),r(De,Oe),r(Be,Xe),r(Be,$e),r($e,Le),r($e,Fe),r($e,Me),Ne||(Ue=[u(k,"change",e[5]),u(E,"change",e[5]),u(E,"blur",e[5]),u(K,"click",e[4]),u(K,"keyup",e[11]),u(ge,"click",e[6]),u(_e,"click",e[8]),u(Ce,"click",e[7]),u(Le,"click",e[10]),u(Me,"click",e[9])],Ne=!0)},p(e,[t]){8&t&&S!==(S=e[3].cdata)&&(k.value=S),8&t&&R!==(R=n.spoken_label+" "+(""!=e[3].cdata?e[3].cdata:"Nothing"))&&s(k,"aria-label",R),8&t&&N!==(N=e[3].language)&&d(E,e[3].language),8&t&&z!==(z=e[3].showTranscript)&&(K.checked=z),8&t&&be!==(be="recording"==e[3].status?"Stop Recording":"Start Recording")&&s(me,"data-original-title",be),4&t&&pe!==(pe="Click for "+e[2])&&s(ge,"aria-label",pe),8&t&&ve!==(ve=e[3].disabled)&&(_e.disabled=ve),1&t&&xe!==(xe="Click for "+e[0])&&s(_e,"aria-label",xe),8&t&&ke!==(ke=e[3].isReset)&&(Ce.disabled=ke),2&t&&s(De,"aria-label",e[1])},i:g,o:g,d(e){e&&m(t),e&&m(Se),e&&m(Re),Ne=!1,b(Ue)}}}function v(e,t,a){let l,o,i,s,c,r,d,{getChildXml:u}=t,{xml:g}=t,m="no",b=15,f={language:"",cdata:"",disabled:!0,xml:"",status:"",isReset:!0,showTranscript:!1,counter:0};function v(e){!function(e){try{a(3,f.language=e.smxml._language,f),a(3,f.cdata=e.smxml.__cdata,f),a(3,f.status=e.smxml._status,f),a(3,f.disabled="recordingStopped"!=e.smxml._status,f),a(3,f.isReset="true"==e.smxml._isReset,f),a(3,f.showTranscript="true"==e.smxml._showTranscript,f),w()}catch(e){console.warn({error:e.message,"function name":"parseXMLAuthoring","File name":"AudioRecorder.svelte"})}}(h(e))}function x(e){a(3,f.showTranscript=e.target.checked,f),w()}function w(){let e=setTimeout((function(){!function(e){u(e)}('<smxml type="43" name="AudioRecorder" status="'+f.status+'" language="'+f.language+'" isReset="'+f.isReset+'" showTranscript="'+f.showTranscript+'">\x3c!--[CDATA['+f.cdata+"]]--\x3e</smxml>"),""!=f.status?(_.select(".disability_apply, #showTranscript").disabled="disabled",_.selectAll(".transcript_container, .select_label_container label","addClass","disabledState")):(_.select(".disability_apply, #showTranscript").disabled="",_.selectAll(".transcript_container, .select_label_container label","removeClass","disabledState")),a(0,i=_.select("#authoring_container #stopButton span").getAttribute("data-original-title")),a(2,c=_.select("#authoring_container #recordButton span").getAttribute("data-original-title")),a(1,s=_.select("#dialogBody").innerText),clearTimeout(e)}),100)}function C(){switch(f.status){case"recording":y();break;case"recordingStopped":_.getBS("#authoring_confirm_modal","Modal").show(),_.select(".modal-body").focus();break;default:window.webkitSpeechRecognition||window.SpeechRecognition?(window.SpeechRecognition=window.webkitSpeechRecognition||window.SpeechRecognition,l=new SpeechRecognition,l.continuous=!0,l.interimResults=!0,l.lang=f.language,window.recognitionData=l,l.addEventListener("end",(function(){f.isReset||(clearTimeout(r),_.alert(n.recording_ended),k(),_.selectAll(".authInitialState","removeClass","h"),a(3,f.status="recordingStopped",f),a(3,f.disabled=!1,f),w())}))):_.alert(n.browser_support_msg),l.start(),_.select("#resetButton").disabled="",_.selectAll(".authAudioPlaying, .authInitialState","addClass","h"),_.selectAll(".authRecordingOn","removeClass","h"),l.onresult=e=>{let t="";for(let a=0;a<e.results.length;a+=1)t+=e.results[a][0].transcript;a(3,f.cdata=t.trim(),f),w()},a(3,f.status="recording",f),a(3,f.isReset=!1,f),a(3,f.counter=0,f),b=15,S(),w(),_.selectAll("#recordButton span","removeClass",["icomoon-circle-2","s2","text-danger"]),_.selectAll("#recordButton span","addClass","icomoon-24px-stop")}}function y(){k(),clearTimeout(r),a(3,f.status="recordingStopped",f),a(3,f.disabled=!1,f),w(),_.select(".authInitialState","removeClass","h"),l.stop()}function k(){_.selectAll(".authAudioPlaying, .authRecordingOn","addClass","h"),_.selectAll(".authInitialState","removeClass","h"),_.selectAll("#recordButton span","removeClass","icomoon-24px-stop"),_.selectAll("#recordButton span","addClass",["icomoon-circle-2","s2","text-danger"])}function S(){b-=1,a(3,f.counter=f.counter+1,f),r=setTimeout((function(){b>0?S():y()}),1e3)}return p((()=>{a(3,f.xml=g,f),v(g)})),e.$$set=e=>{"getChildXml"in e&&a(12,u=e.getChildXml),"xml"in e&&a(13,g=e.xml)},e.$$.update=()=>{8200&e.$$.dirty&&g!=f.xml&&(a(3,f.xml=g,f),v(g))},[i,s,c,f,x,function(e){a(3,f[e.target.name]=e.target.value,f),w()},C,function(){m="yes"},function(){window.speechSynthesis?(o=window.speechSynthesis,""!=f.cdata?(_.selectAll(".authRecordingOn, .authInitialState","addClass","h"),_.selectAll(".authAudioPlaying","removeClass","h"),a(3,f.disabled=!0,f),w(),function(){let e=new SpeechSynthesisUtterance(f.cdata),t="de-DE"==f.language?"Google Deutsch":"fr-FR"==f.language?"Google français":"es-ES"==f.language?"Google español":"hi-IN"==f.language?"Google हिन्दी":"ja-JP"==f.language?"Google 日本語":"ko-KR"==f.language?"Google 한국의":"it-IT"==f.language?"Google italiano":"Google US English";e.addEventListener("end",(function(){_.selectAll(".authAudioPlaying, .authRecordingOn","addClass","h"),_.selectAll(".authInitialState","removeClass","h"),a(3,f.disabled=!1,f),w(),o.cancel()})),setTimeout((function(){d=o.getVoices();for(let a=0;a<d.length;a++)d[a].name==t&&(e.voice=d[a],e.pitch=1,e.rate=1,e.lang=f.language,o.speak(e))}),10)}()):(_.selectAll(".authRecordingOn, .authAudioPaused","addClass","h"),_.selectAll(".authInitialState","removeClass","h"),_.alert(n.no_data_msg))):_.alert(n.browser_support_msg)},function(){if("yes"==m)!function(){k(),"recording"==f.status&&l.stop();a(3,f.language="",f),a(3,f.cdata="",f),a(3,f.disabled=!0,f),a(3,f.xml="",f),a(3,f.status="",f),a(3,f.isReset=!0,f),clearTimeout(r),w()}(),m="no";else{a(3,f.cdata="",f),a(3,f.disabled=!0,f),a(3,f.status="",f),w();let e=setTimeout((function(){C(),clearTimeout(e)}),120)}},function(){m="no"},function(e){13==e.keyCode&&x(e)},u,g]}export default class extends e{constructor(e){super(),t(this,e,v,f,a,{getChildXml:12,xml:13})}}
//# sourceMappingURL=AudioRecorder-47fc4a06.js.map
