import{S as t,i as e,s as n,F as l,e as a,j as o,q as i,h as s,o as r,c,b as d,m,t as p,a as u,d as g,f,D as x,g as h,k as b,n as v,p as _,A as w,E as y,C as k,w as $,X as N,Y as L,Z as A,l as C,y as I,r as T,u as F}from"./main-ce4abdd6.js";import{I as M}from"./ItemHelper-7f5401f1.js";import{G as P}from"./GriddedHelper-049aae25.js";const{document:z}=l;function E(t,e,n){const l=t.slice();return l[42]=e[n],l[44]=n,l}function H(t,e,n){const l=t.slice();return l[45]=e[n],l[47]=n,l}function S(t,e,n){const l=t.slice();return l[45]=e[n],l[47]=n,l}function B(t){let e,n,l,i,c,m,p,u,g,x,h,b,v,_;return{c(){e=a("input"),p=d(),u=a("span"),g=a("span"),h=d(),f(e,"type","text"),f(e,"id",n=t[45].id),f(e,"data-tag",l=t[45].dataTag),f(e,"name",i=t[45].name),f(e,"style",c="width:50px;text-align:center;"),e.value=m=void 0===t[1][t[47]]?" ":t[1][t[47]],f(e,"class","tdFont"),f(g,"id",x=t[45].spanid),f(g,"class","answer_icon"),f(u,"class",b=A(t[2].iconVisible+" relative")+" svelte-u3ss6a")},m(n,l){s(n,e,l),s(n,p,l),s(n,u,l),o(u,g),o(u,h),v||(_=[C(e,"change",t[12]),C(e,"input",J)],v=!0)},p(t,a){8&a[0]&&n!==(n=t[45].id)&&f(e,"id",n),8&a[0]&&l!==(l=t[45].dataTag)&&f(e,"data-tag",l),8&a[0]&&i!==(i=t[45].name)&&f(e,"name",i),2&a[0]&&m!==(m=void 0===t[1][t[47]]?" ":t[1][t[47]])&&e.value!==m&&(e.value=m),8&a[0]&&x!==(x=t[45].spanid)&&f(g,"id",x),4&a[0]&&b!==(b=A(t[2].iconVisible+" relative")+" svelte-u3ss6a")&&f(u,"class",b)},d(t){t&&r(e),t&&r(p),t&&r(u),v=!1,I(_)}}}function j(t){let e,n;return{c(){e=a("input"),f(e,"type","text"),f(e,"style",n="width:50px;text-align:center;"),e.value=".",e.disabled="true",f(e,"class","tdFont")},m(t,n){s(t,e,n)},p:T,d(t){t&&r(e)}}}function G(t){let e;function n(t,e){return 1==t[45].decpoint?j:B}let l=n(t),a=l(t);return{c(){a.c(),e=i()},m(t,n){a.m(t,n),s(t,e,n)},p(t,o){l===(l=n(t))&&a?a.p(t,o):(a.d(1),a=l(t),a&&(a.c(),a.m(e.parentNode,e)))},d(t){a.d(t),t&&r(e)}}}function R(t){let e,n,l,a;return e=new P({props:{loop:t[8],class1:"tdFont plus_tab",className:"tdFontP plus_tab items_element",tableId:"plus_minus_tab",tableClass:"plus_minus_tab gridded_tab mt-0 myP",value:"+"}}),e.$on("handleClickCombo",t[11]),l=new P({props:{loop:t[9],class1:"tdFont plus_tab",className:"tdFontP plus_tab items_element minus_point",tableId:"plus_minus_tab",tableClass:"plus_minus_tab gridded_tab mt-0 myP",value:"-"}}),l.$on("handleClickCombo",t[11]),{c(){c(e.$$.fragment),n=d(),c(l.$$.fragment)},m(t,o){m(e,t,o),s(t,n,o),m(l,t,o),a=!0},p(t,n){const a={};256&n[0]&&(a.loop=t[8]),e.$set(a);const o={};512&n[0]&&(o.loop=t[9]),l.$set(o)},i(t){a||(p(e.$$.fragment,t),p(l.$$.fragment,t),a=!0)},o(t){u(e.$$.fragment,t),u(l.$$.fragment,t),a=!1},d(t){g(e,t),t&&r(n),g(l,t)}}}function V(t){let e,n;return e=new P({props:{loop:t[6],class1:"tdFont points",className:"tdFontP text-center items_element sla_point",tableId:"tdFontP slash_tab",tableClass:"slash_tab gridded_tab mt-0",value:"/"}}),e.$on("handleClickCombo",t[11]),{c(){c(e.$$.fragment)},m(t,l){m(e,t,l),n=!0},p(t,n){const l={};64&n[0]&&(l.loop=t[6]),e.$set(l)},i(t){n||(p(e.$$.fragment,t),n=!0)},o(t){u(e.$$.fragment,t),n=!1},d(t){g(e,t)}}}function X(t){let e,n;return e=new P({props:{loop:t[7],class1:"tdFont points",className:"tdFontP text-center items_element decl_point",tableId:"slash_tab",tableClass:"slash_tab gridded_tab mt-0 mb-0 myP",value:"."}}),e.$on("handleClickCombo",t[11]),{c(){c(e.$$.fragment)},m(t,l){m(e,t,l),n=!0},p(t,n){const l={};128&n[0]&&(l.loop=t[7]),e.$set(l)},i(t){n||(p(e.$$.fragment,t),n=!0)},o(t){u(e.$$.fragment,t),n=!1},d(t){g(e,t)}}}function q(t){let e,n,l,i,c,d,m,p,u,g,x=+t[44]+"";return{c(){e=a("td"),n=a("span"),l=F(x),f(n,"tabindex",i=t[45].tabIndex),f(n,"key",c=t[45].key),f(n,"name",d=t[45].name),f(n,"data-tag",m=t[45].dataTag),f(n,"class","tdFontP text-center td_data algn items_element"),f(n,"id",p=t[45].id),f(e,"width","50"),f(e,"class","text-center")},m(a,i){s(a,e,i),o(e,n),o(n,l),u||(g=C(n,"click",t[10]),u=!0)},p(t,e){32&e[0]&&i!==(i=t[45].tabIndex)&&f(n,"tabindex",i),32&e[0]&&c!==(c=t[45].key)&&f(n,"key",c),32&e[0]&&d!==(d=t[45].name)&&f(n,"name",d),32&e[0]&&m!==(m=t[45].dataTag)&&f(n,"data-tag",m),32&e[0]&&p!==(p=t[45].id)&&f(n,"id",p)},d(t){t&&r(e),u=!1,g()}}}function D(t){let e,n;return{c(){e=a("td"),f(e,"key",n=t[45].key),f(e,"class","tdFont text-center"),f(e,"width","50"),f(e,"disabled","true")},m(t,n){s(t,e,n)},p(t,l){32&l[0]&&n!==(n=t[45].key)&&f(e,"key",n)},d(t){t&&r(e)}}}function O(t){let e;function n(t,e){return t[45].decpoint?D:q}let l=n(t),a=l(t);return{c(){a.c(),e=i()},m(t,n){a.m(t,n),s(t,e,n)},p(t,o){l===(l=n(t))&&a?a.p(t,o):(a.d(1),a=l(t),a&&(a.c(),a.m(e.parentNode,e)))},d(t){a.d(t),t&&r(e)}}}function Y(t){let e,n,l,i=t[5],c=[];for(let e=0;e<i.length;e+=1)c[e]=O(H(t,i,e));return{c(){e=a("tr");for(let t=0;t<c.length;t+=1)c[t].c();n=d(),f(e,"key",l=t[42].key)},m(t,l){s(t,e,l);for(let t=0;t<c.length;t+=1)c[t].m(e,null);o(e,n)},p(t,a){if(1056&a[0]){let l;for(i=t[5],l=0;l<i.length;l+=1){const o=H(t,i,l);c[l]?c[l].p(o,a):(c[l]=O(o),c[l].c(),c[l].m(e,n))}for(;l<c.length;l+=1)c[l].d(1);c.length=i.length}16&a[0]&&l!==(l=t[42].key)&&f(e,"key",l)},d(t){t&&r(e),x(c,t)}}}function Z(t){let e,n,l,i,_,w,y,k,$,N,L,A,C,I,T,F;_=new M({props:{handleReviewClick:t[13],reviewMode:t[0]}});let P=t[3],z=[];for(let e=0;e<P.length;e+=1)z[e]=G(S(t,P,e));let H=1==t[2].plus_minus&&R(t),B=1==t[2].slash_val&&V(t),j=1==t[2].decimal_val&&X(t),q=t[4],D=[];for(let e=0;e<q.length;e+=1)D[e]=Y(E(t,q,e));return{c(){e=a("main"),n=a("center"),l=a("div"),i=a("center"),c(_.$$.fragment),w=d(),y=a("table"),k=a("tr");for(let t=0;t<z.length;t+=1)z[t].c();N=d(),H&&H.c(),L=d(),B&&B.c(),A=d(),j&&j.c(),C=d(),I=a("table"),T=a("tbody");for(let t=0;t<D.length;t+=1)D[t].c();h(k,"display","flex"),h(k,"padding","0"),f(y,"border","1"),f(y,"id","tab2"),f(y,"style",$="border-collapse:collapse;text-align:center"),f(I,"id","gridded_sheet"),f(I,"class","gridded_tab mt-0 lastGrid create_tab myP"),f(l,"class","griddedModule")},m(t,a){s(t,e,a),o(e,n),o(n,l),o(l,i),m(_,i,null),o(l,w),o(l,y),o(y,k);for(let t=0;t<z.length;t+=1)z[t].m(k,null);o(l,N),H&&H.m(l,null),o(l,L),B&&B.m(l,null),o(l,A),j&&j.m(l,null),o(l,C),o(l,I),o(I,T);for(let t=0;t<D.length;t+=1)D[t].m(T,null);F=!0},p(t,e){const n={};if(1&e[0]&&(n.reviewMode=t[0]),_.$set(n),4110&e[0]){let n;for(P=t[3],n=0;n<P.length;n+=1){const l=S(t,P,n);z[n]?z[n].p(l,e):(z[n]=G(l),z[n].c(),z[n].m(k,null))}for(;n<z.length;n+=1)z[n].d(1);z.length=P.length}if(1==t[2].plus_minus?H?(H.p(t,e),4&e[0]&&p(H,1)):(H=R(t),H.c(),p(H,1),H.m(l,L)):H&&(b(),u(H,1,1,(()=>{H=null})),v()),1==t[2].slash_val?B?(B.p(t,e),4&e[0]&&p(B,1)):(B=V(t),B.c(),p(B,1),B.m(l,A)):B&&(b(),u(B,1,1,(()=>{B=null})),v()),1==t[2].decimal_val?j?(j.p(t,e),4&e[0]&&p(j,1)):(j=X(t),j.c(),p(j,1),j.m(l,C)):j&&(b(),u(j,1,1,(()=>{j=null})),v()),1072&e[0]){let n;for(q=t[4],n=0;n<q.length;n+=1){const l=E(t,q,n);D[n]?D[n].p(l,e):(D[n]=Y(l),D[n].c(),D[n].m(T,null))}for(;n<D.length;n+=1)D[n].d(1);D.length=q.length}},i(t){F||(p(_.$$.fragment,t),p(H),p(B),p(j),F=!0)},o(t){u(_.$$.fragment,t),u(H),u(B),u(j),F=!1},d(t){t&&r(e),g(_),x(z,t),H&&H.d(),B&&B.d(),j&&j.d(),x(D,t)}}}function J(t){let e=t.target.getAttribute("name"),n=document.getElementsByName(e);for(let e=1;e<n.length;e++)n[e].classList.contains("active")&&n[e].classList.remove("active"),n[e].innerHTML==t.target.value&&n[e].classList.add("active")}function K(t,e,n){let l,a,{isReview:o}=e,{xml:i}=e,{showAns:s}=e,{uxml:r}=e,{editorState:c}=e,d=" ",m=[],p=[],u=[],g=0,f="",x=$({rowNum:4,colNum:4,item:1,plus_minus:0,slash_val:0,decimal_val:0,xml:"",textSizeP:0,correctAns:[],userList:[],isMathquill:!1,smController:"h",pointerEvents:"auto",decimal_point:0,iconVisible:"h"}),h={};x.subscribe((t=>{n(2,h=t)}));function b(t){!function(t){try{n(2,h.rowNum=t.smxml._row,h),n(2,h.colNum=t.smxml._col,h),n(2,h.slash_val=t.smxml._slash,h),n(2,h.plus_minus=t.smxml._plusminus,h),n(2,h.decimal_val=t.smxml._decimal,h),n(2,h.textSizeP=t.smxml._font,h),n(2,h.correctAns=t.smxml._correctAns.split(","),h),n(2,h.decimal_point=t.smxml._fixed_point,h),r&&function(t){let e=N(t);e.smans&&e.smans.div&&e.smans.div._userAns&&(m=e.smans.div._userAns.split(","),d=e.smans.div._correct,p=m)}(r)}catch(t){console.log({error:t.message,"function name":"parseXMLPreview","File name":"GriddedPreview.js"})}}(t=N(t))}function v(t){let e,o,i,p=t.target.attributes.getNamedItem("data-tag").value;""===t.target.innerHTML?m[p]=t.target.value:m[p]=t.target.innerHTML;for(let t=0;t<m.length;t++)void 0!==m[t]&&""!=m[t]||(m[t]="%blank%");"%blank%"==m[m.length-1]&&m.pop(),n(2,h.userList=m,h),l=h.correctAns;let u=h.userList;if(u.length==l.length){for(let t=0;t<l.length;t++)u[t]==l[t]&&g++;g==u.length?(e=k.correct,f=!0,g=0):(e=k.incorrect,f=!1,g=0)}else e=k.incorrect;c&&s(e),i="correct"==e,a="<smans><div type='56' correct='"+f+"' userAns='"+h.userList+"'></div></smans>",o="<smans><div type='56' correct='"+f+"' userAns='"+h.userList+"'></div></smans>"," "!=d&&g==u.length?w.select("#answer","attr",{checked:d}):w.select("#answer","attr",{checked:f}),n(14,r=a),L({uXml:o,ans:i})}_((()=>{w.listen(document,"keydown",".td_data",((t,e)=>{13===e.which&&t.click()})),w.listen(document,"click","#sm_controller button",(t=>{w.selectAll("#sm_controller button","removeClass",["active,btn-secondary,text-white,bg-secondary"]),w.selectAll(t,"addClass",["active,btn-secondary,text-white,bg-secondary"])})),w.listen(document,"click","#set-review",(function(){M()})),w.listen(document,"click","#unset-review",(function(){P()}))})),y((()=>{i!=h.xml&&(n(2,h.xml=i,h),b(i)),i&&console.log("qxml"),function(){n(3,A=[]);let t=h.decimal_point;for(let e=0;e<h.colNum;e++)"%blank%"===p[e]?n(1,u[e]=" ",u):n(1,u[e]=p[e],u),e==t-1&&0!=t?n(3,A=[...A,{decpoint:!0}]):A.length<h.colNum&&n(3,A=[...A,{id:"t"+e,dataTag:e,name:"p"+e,value:u[e],spanid:"t_"+e,decpoint:!1}])}(),function(t){n(7,F=[]);let e=h.decimal_point;for(let t=0;t<h.colNum;t++)t==e-1&&0!=e?n(7,F=[...F,{key:"col"+t,decpoint:!0}]):F.length<h.colNum&&n(7,F=[...F,{id:"t"+t,name:"p"+t,dataTag:t,decpoint:!1}])}(),function(t){n(6,T=[]);let e=h.decimal_point;for(let t=0;t<h.colNum;t++)t==e-1&&0!=e?n(6,T=[...T,{key:"col"+t,decpoint:!0}]):T.length<h.colNum&&n(6,T=[...T,{id:"t"+t,name:"p"+t,dataTag:t,decpoint:!1}])}(),function(t){n(8,E=[]),n(9,H=[]);let e=h.decimal_point;for(let t=0;t<h.colNum;t++)t==e-1&&0!=e?n(8,E=[...E,{dataTag:t,name:t,decpoint:!0}]):E.length<h.colNum&&n(8,E=[...E,{id:"t"+t,name:"p"+t,dataTag:t,decpoint:!1}]),t==e-1&&0!=e?n(9,H=[...H,{dataTag:t,name:t,decpoint:!0}]):H.length<h.colNum&&n(9,H=[...H,{id:"t"+t,name:"p"+t,dataTag:t,decpoint:!1}])}(),function(){n(4,C=[]);let t=h.decimal_point;for(let e=0;e<h.rowNum;e++){n(5,I=[]);for(let l=0;l<h.colNum;l++)l==t-1&&0!=t?n(5,I=[...I,{key:"col"+e+l,decpoint:!0}]):I.length<h.colNum&&n(5,I=[...I,{tabIndex:0,key:"col"+e+l,name:"p"+l,dataTag:l,id:"t"+l+"-"+e+l,decpoint:!1}]);n(4,C=[...C,{key:"row"+e}])}}()}));let A=[];let C=[],I=[];let T=[];let F=[];function M(){console.trace(),n(2,h.smController="",h),n(2,h.pointerEvents="none",h),n(0,o=!0),z("yans","showIcon"),w.selectAll("#sm_controller .your-ans","addClass",["btn-light","active"]),w.selectAll(".tokenHeader","attr",{tabindex:0}),setTimeout(function(){for(let t=0;t<h.correctAns.length;t++)h.correctAns[t]==h.userList[t]?(w.select("#t_"+t,"removeClass","icomoon-new-24px-cancel-circle-1"),w.select("#t_"+t,"addClass","icomoon-new-24px-checkmark-circle-1")):(w.select("#t_"+t,"removeClass","icomoon-new-24px-checkmark-circle-1"),w.select("#t_"+t,"addClass","icomoon-new-24px-cancel-circle-1"))}(),200),c&&s(f?k.correct:k.incorrect)}function P(){n(2,h.smController="h",h),n(2,h.pointerEvents="auto",h),n(0,o=!1),z("yans","hideIcon"),w.selectAll(".tokenHeader","removeAttr","tabindex")}function z(t,e){if(n(2,h.iconVisible="showIcon"==e?"":"h",h),"cans"==t){document.getElementsByClassName("gridded_tab").disabled=!0,p=h.correctAns}else"yans"==t&&(p=m)}let E=[],H=[];return t.$$set=t=>{"isReview"in t&&n(0,o=t.isReview),"xml"in t&&n(15,i=t.xml),"showAns"in t&&n(16,s=t.showAns),"uxml"in t&&n(14,r=t.uxml),"editorState"in t&&n(17,c=t.editorState)},t.$$.update=()=>{1&t.$$.dirty[0]&&(o?M():P())},[o,u,h,A,C,I,T,F,E,H,function(t){let e=t.target.getAttribute("name"),n=document.getElementsByName(e);for(let t=0;t<n.length;t++)n[t].classList.contains("active")&&n[t].classList.remove("active");t.target.classList.add("active");let l=t.target.id.split("-");document.getElementById(l[0]).value=t.target.innerHTML,v(t)},function(t){let e=t.detail.target.getAttribute("name"),o=document.getElementsByName(e);for(let t=0;t<o.length;t++)o[t].classList.contains("active")&&o[t].classList.remove("active");t.detail.target.classList.add("active");let i=t.detail.target.id.split("-");document.getElementById(i[0]).value=t.detail.target.innerHTML,function(t){let e,o,i,p=t.detail.target.attributes.getNamedItem("data-tag").value;""===t.detail.target.innerHTML?m[p]=t.detail.target.value:m[p]=t.detail.target.innerHTML;for(let t=0;t<m.length;t++)void 0!==m[t]&&""!=m[t]||(m[t]="%blank%");"%blank%"==m[m.length-1]&&m.pop();n(2,h.userList=m,h),l=h.correctAns;let u=h.userList;if(u.length==l.length){for(let t=0;t<l.length;t++)u[t]==l[t]&&g++;g==u.length?(e=k.correct,f=!0,g=0):(e=k.incorrect,f=!1,g=0)}else e=k.incorrect;c&&s(e);i="Correct"==e,a="<smans><div type='56' correct='"+f+"' userAns='"+h.userList+"'></div></smans>",o="<smans><div type='56' correct='"+f+"' userAns='"+h.userList+"'></div></smans>"," "!=d&&g==u.length?w.select("#answer","attr",{checked:d}):w.select("#answer","attr",{checked:f});n(14,r=a),L({uXml:o,ans:i})}(t)},function(t){let e=h.rowNum-1;return t.target.value.length>1?(w.alert("Double digit not accepted"),t.target.value="",!1):t.target.value<0?(w.alert("Less then 1 not accepted"),t.target.value="",!1):e<t.target.value?(w.alert("Number insert only 0 to "+h.rowNum),t.target.value="",!1):void v(t)},function(t){"c"==t?z("cans","hideIcon"):z("yans","showIcon")},r,i,s,c]}export default class extends t{constructor(t){var l;super(),z.getElementById("svelte-u3ss6a-style")||((l=a("style")).id="svelte-u3ss6a-style",l.textContent=".layoutHeading{font-weight:bold;font-size:16px;color:#1877b1}.items_element:hover{border:1.2px solid #777}.moreOptions{-webkit-box-shadow:3px 4px 6px #c4c5c5;-moz-box-shadow:3px 4px 6px #c4c5c5;box-shadow:3px 4px 6px #c4c5c5;background-color:#f0f0f0;border-top:1px solid #1877b1;border-bottom:1px solid #1877b1}.moreOptionDetails{background-color:#f7f7f7}.input_col{position:relative;left:5px}.layoutheading{padding:5px;font-size:20px;font-weight:bold}.numbr_range{position:relative;left:130px}.numbr_range_txt{position:relative;left:200px}.plus_minus_fraction{position:relative;top:20px}.floating_fraction{position:relative;top:27px}.plus_minus_span{position:relative;left:5px}.floating_decimal{float:right;margin-right:45px}.fontStyle{width:100px;float:right;margin-right:60px}.fraction_slash{position:relative;left:177px}.minus_tab,.plus_tab.svelte-u3ss6a,.slash_tab.svelte-u3ss6a{text-align:center}.gridded_tab{background-color:#f0f0f0!important;user-select:none!important;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none}.font_size_label{position:relative;left:198px}.font_size{position:relative;left:225px}.decimal_col{position:relative;left:208px;width:90px}.correct_color{background-color:#E9FFE9}.fixed_decimal_check{position:relative;top:26px;left:13px}.correct_incorrect_icon_fill{position:relative;width:19px;height:19px;right:121px;top:-55px;background:white;border-radius:50%}.row_column_decimal{position:relative;top:30px;left:5px}.fixed_point_class{position:relative;left:7px}.row_column{position:relative;left:5px}.answer_icon{position:absolute;top:7px;right:34px}.myP tbody{cursor:pointer}.col_range{width:205px}.posSize{position:relative;left:7px}.fontSmall{font-size:12px;text-align:center}.fontNormal{font-size:14px;text-align:center}.fontLarge{font-size:24px;text-align:center}.fontExtraLarge{font-size:26px;text-align:center}.grid{position:relative;top:10px;box-shadow:10px 5px 10px #000}.items_element{border:1px solid #8080807a;padding:6px 10px;border-radius:50%;background-color:white}.griddedModule .active{color:white;transition:1s;background:#696969;border:2px solid #fff}.minus_point,.decl_point.svelte-u3ss6a{padding:6px 12px}.sla_point{padding:6px 11px}.griddedModule table tr td:last-child{border-right:1px solid #ccc !important}.griddedModule .lastGrid tr:last-child td{border-bottom:1px solid #ccc !important}.griddedModule td{border:1px solid #f0f0f0 !important;border-left:1px solid #ccc !important}.token:hover{border:1px solid #000 !important}.bla .token:hover{border:1px solid #fff !important}.token_selected{background-color:#64bb63;color:#fff}.bla .token_highlight_heading{color:#000 !important}.griddedModule .expandIcon{font-size:27px;font-weight:bold;color:#1877b1}table td{padding:.5rem .5rem!important;vertical-align:top!important;border-top:1px solid #dee2e6!important}table th{padding:.5rem .5rem!important;vertical-align:top!important;border-top:1px solid #dee2e6!important}",o(z.head,l)),e(this,t,K,Z,n,{isReview:0,xml:15,showAns:16,uxml:14,editorState:17},[-1,-1])}}
//# sourceMappingURL=GriddedPreview-1759233e.js.map
