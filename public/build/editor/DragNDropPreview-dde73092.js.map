{"version":3,"file":"DragNDropPreview-dde73092.js","sources":["../../../clsSMDragNDrop/libs/preview/dndString.js","../../../clsSMDragNDrop/libs/preview/TextboxPreview.svelte","../../../clsSMDragNDrop/libs/preview/DragPreview.svelte","../../../clsSMDragNDrop/libs/preview/DropPreview.svelte","../../../clsSMDragNDrop/libs/preview/SelectPreview.svelte","../../../clsSMDragNDrop/libs/preview/RadioPreview.svelte","../../../clsSMDragNDrop/libs/preview/MultilineboxPreview.svelte","../../../clsSMDragNDrop/libs/preview/CheckboxPreview.svelte","../../../clsSMDragNDrop/libs/preview/TabheadPreview.svelte","../../../clsSMDragNDrop/libs/preview/LabelPreview.svelte","../../../clsSMDragNDrop/libs/preview/HotspotPreview.svelte","../../../clsSMDragNDrop/libs/preview/MenulistPreview.svelte","../../../clsSMDragNDrop/libs/preview/ButtonPreview.svelte","../../../clsSMDragNDrop/libs/preview/TabPillsPreview.svelte","../../../clsSMDragNDrop/libs/preview/TabPreview.svelte","../../../clsSMDragNDrop/libs/preview/StepPreview.svelte","../../../clsSMDragNDrop/DragNDropPreview.svelte"],"sourcesContent":["/**\r\n *  File Name   : dndString.js\r\n *  Author      : Ayush Srivastava\r\n *  Function    : DND\r\n *  Version     : 1.0\r\n *  Packege     : Drag and Drop (prev)\r\n *  Last update : 19 Jan 2021\r\n *  Dependency  : Draggable, Sweetalert, Hotkeys-js\r\n */\r\nimport Draggable from '../plugins/Draggable';\r\nimport swal from 'sweetalert';\r\nimport hotkeys from 'hotkeys-js';\r\nlet jsSwal = swal;\r\n\r\n// declaring gloabl variable for use\r\nlet elemId = \"#dndmainPreview\";\r\nlet result = true;\r\nlet stepsPreview = null;\r\nlet dragstore = {};\r\nlet user_points = 0;\r\nconst DND = {}\r\nlet is_all_correct = true;\r\n\r\n// for storing to prevent dialog\r\nDND.prevent_dialog = false;\r\n//window.DND = DND;\r\n// for storing the storage data\r\nDND.storage = {\r\n    store: function(obj, key, val) {\r\n        if (!obj) {\r\n            return this.state;\r\n        } else if (!key) {\r\n            if (!(obj in this.state)) {\r\n                return {};\r\n            }\r\n            return this.state[obj];\r\n        } else if (arguments.length < 3) {\r\n            if (!(obj in this.state)) {\r\n                return undefined;\r\n            }\r\n            return this.state[obj][key];\r\n        } else {\r\n            if (!(obj in this.state)) {\r\n                this.state[obj] = {};\r\n            }\r\n            this.state[obj][key] = val;\r\n        }\r\n    },\r\n    remove: function(obj) {\r\n        if (this.state[obj]) {\r\n            delete this.state[obj]\r\n        }\r\n    },\r\n    state: {}\r\n}\r\n\r\n// for setting the browser version\r\nDND.browser = {};\r\nDND.browser.msie = false;\r\nDND.browser.version = 0\r\nif (typeof navigator !== 'undefined' && navigator.userAgent.match(/MSIE ([0-9]+)\\./)) {\r\n    DND.browser.msie = true;\r\n    DND.browser.version = RegExp.$1;\r\n}\r\n\r\n\r\n// function responsible for parsing the sql queries\r\nDND.sqlparser = function(sql, type) {\r\n    if (typeof(type) !== \"boolean\") {\r\n        type = false;\r\n    }\r\n    let ret = [];\r\n    if (type) {\r\n        ret['optional'] = [], ret['mustbeone'] = [];\r\n        let matches = sql.match(/{.*?}/g);\r\n        if (matches != null) {\r\n            for (let i = 0; i < matches.length; i++) {\r\n                sql = sql.replace(matches[i], \"\");\r\n                opt = matches[i].trim();\r\n                let opt = opt.substr(1, (opt.length - 2));\r\n                if (opt.indexOf('|') != -1) {\r\n                    opt = opt.split('|');\r\n                    ret['mustbeone'].push(opt);\r\n                } else {\r\n                    ret['optional'].push(opt);\r\n                }\r\n            }\r\n        }\r\n    }\r\n    ret['sql'] = sql.toLowerCase().replace(/([?~!@#$%^&*()_+\\-=\\[\\]{};':\",\\./\\<>%])/g, ' $1 ').replace(/[;]/g, ' ').trim().replace(/(,|`|\\n)/g, \" \").replace(/\\s{2,}/g, \" \").split(' ');\r\n    return ret;\r\n}\r\n\r\n// modifying string prototype\r\nString.prototype.sqlparser = function(type) {\r\n    return DND.sqlparser(this.toString(), type);\r\n}\r\n\r\n// function responsible for setting/changing the steps\r\nDND.setStep = function(tabname) {\r\n    tabname = tabname.match(/dnd/g) || (tabname == \"base\") ? tabname : \"dnd\" + tabname;\r\n    if (tabname && tabname.trim() != '') {\r\n        let dndid;\r\n        let tabname_element = document.querySelector('#' + tabname);\r\n        let tabname_closest = (tabname_element) ? tabname_element.closest('[id^=\"dndmainPreview\"]') : false;\r\n        if (tabname_closest) {\r\n            dndid = '#' + tabname_closest.getAttribute('id');\r\n        }\r\n        if (dndid) {\r\n            let element = document.querySelector(elemId);\r\n            if (element) {\r\n                let new_element = AI.find(element, \"[type='step']\", 'all');\r\n                for (let index = 0; index < new_element.length; index++) {\r\n                    AI.setCss(new_element[index], {\r\n                        display: \"none\",\r\n                    });\r\n                }\r\n            }\r\n            let dnd_element = AI.select(dndid);\r\n\r\n            if (tabname == \"base\") {\r\n                let dnd_find_element = AI.find(dnd_element, '#base')\r\n                AI.selectAll(dnd_find_element, 'checked', true)\r\n            } else {\r\n                AI.select(\"#step_\" + tabname, 'checked', true)\r\n                let element_list = AI.find(dnd_element, \"#\" + tabname);\r\n                AI.setCss(element_list.parentElement, {\r\n                    display: 'block',\r\n                });\r\n                AI.setCss(element_list, {\r\n                    display: 'block',\r\n                });\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\n// making this global as it is used outside the code\r\nif (typeof window !== 'undefined') {\r\n    window.setStep = DND.setStep;\r\n}\r\n\r\n// function for wrapping the element into other element\r\nDND.wrapInner = function(parent, wrapper, attribute, attributevalue) {\r\n    try {\r\n        if (typeof wrapper === \"string\") {\r\n            wrapper = document.createElement(wrapper);\r\n        }\r\n        parent.appendChild(wrapper).setAttribute(attribute, attributevalue);\r\n        while (parent.firstChild !== wrapper) {\r\n            wrapper.appendChild(parent.firstChild);\r\n        }\r\n    } catch (error) {\r\n        console.warn(error)\r\n    }\r\n}\r\n\r\n// function for activator in preview side\r\nDND.activate = function(type = 0) {\r\n    if (type != 0 && document.querySelectorAll('.spinner').length == 0) {\r\n        let spinner = document.createElement(\"div\");\r\n        spinner.className = \"spinner\";\r\n        let loading = document.createElement(\"div\");\r\n        loading.className = \"loading\";\r\n        spinner.appendChild(loading);\r\n        if (document.body != null) {\r\n            document.body.appendChild(spinner);\r\n        }\r\n    } else {\r\n        !!document.getElementsByClassName('spinner')[0] && document.getElementsByClassName('spinner')[0].remove()\r\n    }\r\n}\r\n\r\n// function responsible for binding all the events to the elments\r\nDND.readyThis = function(dndid) {\r\n    let dndid_element = AI.select(dndid);\r\n    let elements_list = AI.find(dndid, '[zoom=\"1\"]', 'all');\r\n    if (elements_list.length > 0) {\r\n        elements_list.forEach(function(value) {\r\n            DND.wrapInner(value, 'div', 'class', 'zoom_wrap');\r\n            DND.wrapInner(value, 'div', 'class', 'zoom_container');\r\n\r\n            let div = document.createElement(\"div\");\r\n            div.class = 'c_zoom';\r\n            let input = document.createElement(\"input\");\r\n            input.type = 'range';\r\n            input.id = 'c_zoom';\r\n            input.min = \"1\";\r\n            input.max = \"7\";\r\n            div.append(input);\r\n            value.appendChild(div);\r\n            value.insertBefore(div, value.firstChild);\r\n        });\r\n    }\r\n\r\n    // nee to check I think we have to use listen all\r\n    AI.listen('body', 'change', '.c_zoom', function(element) {\r\n        let zoom_element = AI.find(element.parentElement.parentElement, '.zoom_wrap');\r\n        if (zoom_element) {\r\n            switch (element.value) {\r\n                case \"1\": {\r\n                    zoom_element.setAttribute(\"class\", \"zoom_wrap zoom2\");\r\n                    break;\r\n                }\r\n                case \"2\": {\r\n                    zoom_element.setAttribute(\"class\", \"zoom_wrap zoom2\");\r\n                    break;\r\n                }\r\n                case \"3\": {\r\n                    zoom_element.setAttribute(\"class\", \"zoom_wrap zoom3\");\r\n                    break;\r\n                }\r\n                case \"4\": {\r\n                    zoom_element.setAttribute(\"class\", \"zoom_wrap zoom4\");\r\n                    break;\r\n                }\r\n                case \"5\": {\r\n                    zoom_element.setAttribute(\"class\", \"zoom_wrap zoom5\");\r\n                    break;\r\n                }\r\n                case \"6\": {\r\n                    zoom_element.setAttribute(\"class\", \"zoom_wrap zoom6\");\r\n                    break;\r\n                }\r\n                case \"7\": {\r\n                    zoom_element.setAttribute(\"class\", \"zoom_wrap zoom7\");\r\n                    break;\r\n                }\r\n            }\r\n        }\r\n    });\r\n\r\n    AI.listen('body', 'click', '.hotspot_test', function(element, event) {\r\n        if (element.classList.contains('lab_disable')) {\r\n            return;\r\n        }\r\n        let targetimg_element = AI.find(dndid_element, '.targetImg');\r\n        if (!event.target.classList.contains('tmpTarget') && AI.find(element, '.hs_item', 'all').length > AI.find(element, '.tmpTarget', 'all').length) {\r\n            let top = Math.round(event.pageY - DND.offset(element).top - ((targetimg_element) ? (targetimg_element.offsetHeight ? targetimg_element.offsetHeight : 32) : 0) / 2) - window.pageYOffset;\r\n            let left = Math.round(event.pageX - DND.offset(element).left - ((targetimg_element) ? (targetimg_element.offsetHeight ? targetimg_element.offsetHeight : 32) : 0) / 2) - window.pageXOffset;\r\n            if (event.target.getAttribute('id') != \"c_zoom\") {\r\n                if (event.target.classList.contains('hs_item')) {\r\n                    event.target.setAttribute(\"data-correctans\", \"1\");\r\n                }\r\n\r\n                let clone_element = AI.clone(targetimg_element);\r\n                clone_element.classList.remove('targetImg');\r\n                clone_element.classList.add('tmpTarget');\r\n                clone_element.id = element.id + \"_\" + (AI.find(element, '.tmpTarget', 'all').length + 1)\r\n                AI.setCss(clone_element, {\r\n                    position: 'absolute',\r\n                    top: top + 'px',\r\n                    left: left + 'px',\r\n                    display: 'block',\r\n                });\r\n                DND.storage.store(clone_element.id, 'tgElem', event.target.id);\r\n                AI.insertAfter(clone_element, AI.find(element, '.hs_item', 'all')[AI.find(element, '.hs_item', 'all').length - 1]);\r\n            }\r\n        } else if (event.target.classList.contains('tmpTarget')) {\r\n            let last_id = event.target.id.split('_')[1];\r\n            let tgElem = DND.storage.store(event.target.id, 'tgElem');\r\n            event.target.remove();\r\n\r\n            if (last_id) {\r\n                for (let index = (last_id - 1); index < AI.find(element, '.tmpTarget', 'all').length; index++) {\r\n                    let current_id = element.id + \"_\" + (index + 1);\r\n                    let next_elem_id = element.id + \"_\" + (index + 2);\r\n                    let next_elem_store = DND.storage.store(next_elem_id, 'tgElem');\r\n                    DND.storage.store(current_id, 'tgElem', next_elem_store)\r\n                    DND.storage.remove(next_elem_id);\r\n                    AI.select('#' + next_elem_id).id = current_id;\r\n                }\r\n            }\r\n\r\n            if (typeof(tgElem) !== \"undefined\") {\r\n                let rmTg = true;\r\n                let tmp_target = AI.find(dndid_element, '.tmpTarget', 'all');\r\n\r\n                for (let index = 0; index < tmp_target.length; index++) {\r\n                    if (DND.storage.store(tmp_target[index].id, 'tgElem') == tgElem) {\r\n                        rmTg = false;\r\n                        break;\r\n                    }\r\n                }\r\n                if (rmTg) {\r\n                    AI.select('#dndmainPreview #' + tgElem).setAttribute(\"data-correctans\", \"0\");\r\n                }\r\n            }\r\n        }\r\n\r\n        let hustr = \"\";\r\n        let hId = 1;\r\n\r\n        let tmp_target = AI.find(dndid_element, '.tmpTarget', 'all');\r\n\r\n        for (let index = 0; index < tmp_target.length; index++) {\r\n            hustr += '\"' + hId + '\":[' + tmp_target[index].offsetTop + ',' + tmp_target[index].offsetLeft + ',' + tmp_target[index].offsetWidth + ',' + tmp_target[index].offsetHeight + '],';\r\n            hId++;\r\n        }\r\n        element.setAttribute(\"data-userans\", \"{\" + hustr.substr(0, hustr.length - 1) + \"}\");\r\n        DND.checkAns(dndid);\r\n    });\r\n\r\n    let drop_image = AI.find(dndid_element, '[data-dragimage]', 'all');\r\n\r\n    for (let index = 0; index < drop_image.length; index++) {\r\n        if (drop_image[index].getAttribute('data-dragimage') != 'undefined' && drop_image[index].getAttribute('data-dragimage') != '') {\r\n            let bgimage = drop_image[index].getAttribute(\"data-path\") + drop_image[index].getAttribute(\"data-dragimage\");\r\n            AI.insert('body', '<img src=\"' + bgimage + '\" style=\"display:none\"/>', 'beforeend')\r\n        }\r\n    }\r\n\r\n    let droppable = AI.selectAll('.dropable');\r\n    for (let index = 0; index < droppable.length; index++) {\r\n        let target = droppable[index].id;\r\n        let source = droppable[index].dataset.droped;\r\n        if (target && source) {\r\n            dragstore[target] = [AI.select('#' + source), AI.select('#' + target)];\r\n        }\r\n    }\r\n\r\n    let draggable = new Draggable('#dndmainPreview', '[draging]', '[droping]', dragstore);\r\n    let distance = 80, step = 5;\r\n    draggable.onDrag = function(event) {\r\n        if (event.clientY <= distance) {\r\n            window.scrollTo(0, window.scrollY - step);\r\n        } else if (event.clientY >= (window.innerHeight + 20)) {\r\n            window.scrollTo(0, window.scrollY + step);\r\n        }\r\n        if (AI.selectAll('#external_lab').length == 1) {\r\n            AI.select('#external_lab').scrollTo(event.clientX, event.clientY);\r\n        }\r\n        if (AI.selectAll('#user_answer').length == 1) {\r\n            AI.select('#user_answer').scrollTo(event.clientX, event.clientY);\r\n        }\r\n    }\r\n\r\n    draggable.onDragStart = function(event, element) {\r\n        let target = element;\r\n        let img, bgimage;\r\n        if (element.classList.contains('dropable') && target.getAttribute('data-droped') && target.getAttribute('data-droped').trim() != '') {\r\n            target = AI.find(dndid, '#' + target.getAttribute('data-droped'));\r\n        }\r\n\r\n        if (typeof(target.getAttribute('data-dragimage')) != 'undefined' && target.getAttribute('data-dragimage') != '') {\r\n            bgimage = \"url(\" + target.getAttribute(\"data-path\") + target.getAttribute(\"data-dragimage\") + \")\";\r\n        } else {\r\n            bgimage = target.style.backgroundImage;\r\n        }\r\n        if (bgimage == \"none\" || bgimage == \"\") {\r\n            img = {\r\n                \"width\": target.offsetWidth,\r\n                \"height\": target.offsetHeight,\r\n            };\r\n        } else {\r\n            img = new Image();\r\n            img.src = bgimage.substr(4, (bgimage.length - 5));\r\n        }\r\n\r\n        let copied_node = element.cloneNode(true);\r\n        copied_node.removeAttribute('droping');\r\n        copied_node.style.position = 'absolute';\r\n        copied_node.style.zIndex = 0;\r\n        copied_node.backgroundImage = bgimage;\r\n        copied_node.style.width = img.width + \"px\";\r\n        copied_node.style.height = img.height + \"px\";\r\n        return copied_node;\r\n    };\r\n\r\n    draggable.onDrop = function(source, target) {\r\n        let copied = source.cloneNode(true);\r\n        target.style.backgroundColor = copied.getAttribute('data-bgcolor');\r\n        target.setAttribute('draging', 2);\r\n        target.setAttribute('droping', 2);\r\n\r\n        // for disabling the dragable\r\n        if (source.getAttribute(\"data-multi_drag\") == \"0\") {\r\n            source.classList.add('uc_drag_disable');\r\n            source.style.setProperty(\"cursor\", \"no-drop\", \"important\");\r\n            source.style.setProperty(\"opacity\", \"0.5\", \"important\");\r\n        }\r\n\r\n        target.classList.remove('drop-hover');\r\n        target.style.opacity = '1';\r\n\r\n        let drop_id = source.getAttribute('data-droped') ? source.getAttribute('data-droped') : source.getAttribute('id');\r\n        let bgimage = '';\r\n        if (source.getAttribute('data-dropimage') && source.getAttribute('data-dropimage') != '') {\r\n            bgimage = \"url(\" + source.getAttribute('data-path') + source.getAttribute('data-dropimage') + \")\";\r\n        } else {\r\n            bgimage = source.style.backgroundImage;\r\n        }\r\n\r\n        if (DND.browser.msie && drop_id && AI.find(AI.select(dndid), '#' + drop_id).innerText.trim() == \"\") {\r\n            source.style.backgroundColor = \"transparent\";\r\n        }\r\n\r\n        target.setAttribute('data-userans', drop_id);\r\n        target.setAttribute('data-droped', drop_id);\r\n        target.setAttribute('data-path', source.getAttribute('data-path'));\r\n        target.setAttribute('data-dropimage', source.getAttribute('data-dropimage'));\r\n        target.setAttribute('data-dragimage', source.getAttribute('data-dragimage'));\r\n\r\n        AI.setCss(target, {\r\n            backgroundColor: source.style.backgroundColor,\r\n            backgroundImage: bgimage\r\n        });\r\n        // changes for php\r\n        if(AI.select(copied) != undefined) { \r\n            AI.find(target, 'p').innerText = AI.select(copied).innerText.trim();\r\n        } else {\r\n            AI.find(target, 'p').innerText = copied.innerText.trim();\r\n        }\r\n       \r\n\r\n        setTimeout(function() {\r\n            DND.checkAns(dndid);\r\n        }, 500);\r\n\r\n    };\r\n\r\n    draggable.isRevert = function() {\r\n        if (DND.prevent_dialog) {\r\n            return false;\r\n        }\r\n        AI.showmsg('While dropping a component, keep your mouse pointer on the drop area. Drop area must be compatible with the component you are dropping.', 3000);\r\n        let img = document.createElement('img');\r\n        img.src = '//s3.amazonaws.com/jigyaasa_content_static/how-to-drop-final_000BeI.gif';\r\n        img.alt = 'How to Drop?';\r\n        let div = document.createElement('div');\r\n        let content = document.createElement('div');\r\n        let input = document.createElement('input');\r\n        input.type = 'checkbox'\r\n        input.id = 'prevent_dialog'\r\n        //AI.select('#prevent_dialog').parentElement.classList.add('check');\r\n        input.classList.add('mr-1');\r\n        input.onchange = function() {\r\n            DND.prevent_dialog = this.checked;\r\n            if (this.checked) {\r\n                jsSwal.close();\r\n            }\r\n\r\n        }\r\n        let label = document.createElement('label');\r\n        label.setAttribute('for', 'prevent_dialog')\r\n        label.innerText = \"Don't show me message again!\"\r\n\r\n        content.append(img)\r\n        div.append(input)\r\n        div.append(label);\r\n        content.append(div)\r\n        // Added the close button (X) at the top right side in sweetalert modal.\r\n        jsSwal = function() {\r\n            swal(arguments[0]);\r\n            if (arguments[0].showCloseButton) {\r\n                let closeButton = document.createElement('button');\r\n                closeButton.className = 'swal2-close close';\r\n                closeButton.onclick = function() { swal.close(); };\r\n                closeButton.textContent = '×';\r\n                closeButton.classList.add('position-relative');\r\n                closeButton.style.bottom = '220px';\r\n                closeButton.style.right = '10px';\r\n                let modal = document.querySelector('.swal-modal');\r\n                AI.select('.swal-text').style.marginTop='23px'\r\n                AI.select('.swal-text').style.marginBottom='10px';\r\n                AI.select('.swal-text').style.float = 'left';\r\n                modal.appendChild(closeButton);\r\n            }\r\n        }\r\n\r\n        jsSwal({\r\n            text: \"How to Drop?\",\r\n            content: content,\r\n            //timer: 10000,\r\n            buttons: false,\r\n            showCloseButton: true\r\n        });\r\n\r\n    }\r\n\r\n    draggable.onRemove = function(source, target) {\r\n        source.removeAttribute('draging');\r\n        source.setAttribute('droping', 1);\r\n\r\n        // for disabling the dragable\r\n        if (target) {\r\n            target.classList.remove('uc_drag_disable');\r\n            target.style.cursor = '';\r\n            target.style.opacity = '';\r\n        }\r\n\r\n        source.classList.remove('drop-hover');\r\n        source.style.opacity = '1';\r\n\r\n        source.setAttribute('data-userans', '');\r\n        source.setAttribute('data-droped', '');\r\n        source.style.backgroundColor = source.getAttribute('data-bgcolor');\r\n        source.style.backgroundImage = source.getAttribute('data-bgimage');\r\n        AI.find(source, 'p').innerText = source.getAttribute('data-caption');\r\n        setTimeout(function() {\r\n            DND.checkAns(dndid);\r\n        }, 500);\r\n    };\r\n\r\n    draggable.onOver = function(element) {\r\n        try {\r\n            let hoverImg = \"\";\r\n            if (element.getAttribute(\"hoverimage\")) {\r\n                hoverImg = element.getAttribute(\"data-path\") + element.getAttribute(\"hoverimage\");\r\n            }\r\n            if (element.style.backgroundImage.match(/undefined/) || element.style.backgroundImage.match(/none/)) {\r\n                element.style.backgroundImage = \"url(\" + hoverImg + \")\";\r\n            }\r\n        } catch (e) {\r\n            console.warn(e);\r\n        }\r\n    };\r\n\r\n    draggable.onOut = function(element) {\r\n        try {\r\n            let hoverImg = \"none\";\r\n            if (element.getAttribute(\"hoverimage\")) {\r\n                hoverImg = element.getAttribute(\"hoverimage\");\r\n            }\r\n            if (element.style.backgroundImage.search(hoverImg) != -1) {\r\n                element.style.backgroundImage = \"\";\r\n            }\r\n        } catch (e) {\r\n            console.warn(e);\r\n        }\r\n    };\r\n\r\n    AI.listen('body', 'dblclick', dndid + ' [detail]', function(element, event) {\r\n        try {\r\n            if (element.closest(dndid)) {\r\n                if (element.getAttribute('data-detail').length == 5) {\r\n                    DND.activate(1);\r\n                    AI.ajax({\r\n                        url: baseUrl + 'index.php',\r\n                        data: {\r\n                            \"lab_detail\": element.getAttribute('data-detail'),\r\n                            \"ajax\": \"1\"\r\n                        },\r\n                        longUrl: true\r\n                    }).then(function(response) {\r\n                        DND.activate(0);\r\n                        if (AI.selectAll('.detail-modal').length < 1) {\r\n                            AI.insert('#main-page', '<div id=\"modal-from-detail\" class=\"detail-modal modal fade\" tabindex=\"-1\"><div class=\"modal-dialog modal-dialog-centered\"><div class=\"modal-content no-padding\"><span class=\"close-icon\" data-dismiss=\"modal\" aria-hidden=\"true\"></span><div class=\"detail_data\">' + response + '</div></div></div></div>', 'beforeend');\r\n                        } else {\r\n                            AI.select('.detail-modal .detail_data').innerHTML = response;\r\n                        }\r\n                        AI.getBS('#modal-from-detail', 'Modal').show();\r\n                    });\r\n                } else if (element.getAttribute('data-detail') != '') {\r\n                    if (AI.select('.detail').length < 1) {\r\n                        AI.insert('body', '<div class=\"detail\"><span class=\"close_detail\">&times;</span><div class=\"detail_data\">' + element.getAttribute('data-detail') + '</div></div>', 'beforeend');\r\n                        AI.setCss(AI.select('.detail'), {\r\n                            \"top\": event.pageY + \"px\",\r\n                            \"left\": event.pageX + \"px\",\r\n                            'display': 'block',\r\n                        })\r\n                    } else {\r\n                        AI.select('.detail .detail_data').innerText = element.getAttribute('data-detail');\r\n                        AI.setCss(AI.select('.detail .detail_data'), {\r\n                            \"top\": event.pageY + \"px\",\r\n                            \"left\": event.pageX + \"px\",\r\n                            'display': 'block',\r\n                        })\r\n                    }\r\n                }\r\n            }\r\n        } catch (error) {\r\n            console.warn(error);\r\n        }\r\n    });\r\n\r\n    AI.listen('body', 'click', '.close_detail', function() {\r\n        AI.select('.detail').nodeName && AI.select('.detail').remove();\r\n    });\r\n\r\n    let index = 1;\r\n\r\n    AI.listen('body', 'click', dndid + ' [image]', function(element) {\r\n        try {\r\n            let toggleImg = element.getAttribute('image').split(',');\r\n            element.style.backgroundImage = \"url(\" + element.getAttribute('data-path') + toggleImg[index] + \")\";\r\n            index++;\r\n            if (toggleImg.length == index) index = 0;\r\n        } catch (error) {\r\n            console.warn(error)\r\n        }\r\n    });\r\n}\r\n\r\n// for changing the draggable state\r\nDND.draggable = function(element, enable) {\r\n    if (enable) {\r\n        element.classList.remove('uc_drag_disable');\r\n        element.style.cursor = '';\r\n        element.style.opacity = 1;\r\n    } else {\r\n        element.classList.add('uc_drag_disable');\r\n        element.style.setProperty(\"cursor\", \"no-drop\", \"important\");\r\n        element.style.setProperty(\"opacity\", \"0.7\", \"important\");\r\n    }\r\n}\r\n\r\n// function for moving the focus to the next or previous elements\r\nDND.tabMove = function(element, type = 1) {\r\n    if (element.id) {\r\n        let ks_element = AI.selectAll('.ks');\r\n        let focus_index = -1;\r\n        for (let index = 0; index < ks_element.length; index++) {\r\n            if (element.id == ks_element[index].id) {\r\n                if (type) {\r\n                    if (index == (ks_element.length - 1)) {\r\n                        focus_index = 0;\r\n                    } else {\r\n                        focus_index = index + 1;\r\n                    }\r\n                } else {\r\n                    if (index == 0) {\r\n                        focus_index = ks_element.length - 1;\r\n                    } else {\r\n                        focus_index = index - 1;\r\n                    }\r\n                }\r\n                break;\r\n            }\r\n        }\r\n\r\n        if (focus_index != -1) {\r\n            ks_element[focus_index].focus();\r\n        }\r\n    }\r\n}\r\n\r\n// fucntion for checking the containment of hotspot area, it runs in case of keyboard\r\nDND.checkContainment = function(element, extra_top = 0, extra_left = 0) {\r\n    let top = parseInt(element.style.top.replace(\"px\", \"\")) + extra_top;\r\n    let left = parseInt(element.style.left.replace(\"px\", \"\")) + extra_left;\r\n    let width = parseInt(element.parentElement.style.width.replace(\"px\", \"\"));\r\n    let height = parseInt(element.parentElement.style.height.replace(\"px\", \"\"));\r\n\r\n    if (left > (width - element.offsetWidth)) {\r\n        left = width - element.offsetWidth;\r\n    } else if (left < 0) {\r\n        left = 0;\r\n    }\r\n\r\n    if (top > (height - element.offsetHeight)) {\r\n        top = height - element.offsetHeight;\r\n    } else if (top < 0) {\r\n        top = 0;\r\n    }\r\n    return {\r\n        top: top,\r\n        left: left\r\n    };\r\n}\r\n\r\n// function reponisble for binding the key up events (keyboard related events)\r\nDND.bindKeyUp = function(dndid) {\r\n    let dndid_elements = AI.find(dndid, \"[id^=dndID]\", 'all');\r\n    for (let index = 0; index < dndid_elements.length; index++) {\r\n        if (dndid_elements[index].getAttribute('type') != 'tab' && !(dndid_elements[index].classList.contains(\"dndlabel\"))) {\r\n            dndid_elements[index].classList.add('ks');\r\n        }\r\n    }\r\n\r\n    let count = 0;\r\n    let copied_id = \"\";\r\n    let ee = {\r\n        clientX: 16,\r\n        clientY: 16\r\n    };\r\n\r\n    AI.find(dndid, \".selmatch\", {\r\n        action: 'removeClass',\r\n        actionData: 'selmatch'\r\n    });\r\n\r\n    let elements = AI.selectAll('.ks');\r\n\r\n\r\n    function sortBy(prop, prop2) {\r\n        return function(a, b) {\r\n            let filter_a = parseInt(a.style[prop]);\r\n            let filter_b = parseInt(b.style[prop]);\r\n            if (filter_a == filter_b) {\r\n                let filter_c = parseInt(a.style[prop2]);\r\n                let filter_d = parseInt(b.style[prop2]);\r\n                return filter_c < filter_d ? -1 : (filter_c > filter_d ? 1 : 0);\r\n            }\r\n            return filter_a < filter_b ? -1 : (filter_a > filter_b ? 1 : 0);\r\n        }\r\n    }\r\n\r\n    function sortDom(filter, second_filter) {\r\n        //Transform our nodeList into array and apply sort function\r\n        return [].map.call(elements, function(elm) {\r\n            return elm;\r\n        }).sort(sortBy(filter, second_filter))\r\n    }\r\n    \r\n    //Sort by top style property\r\n    let byTop = sortDom('top', \"left\");\r\n\r\n    for (let index = 0; index < byTop.length; index++) {\r\n        let id = byTop[index].getAttribute('id');\r\n        let parent = byTop[index].parentElement;\r\n        if (id) {\r\n            AI.find(dndid, \"#\" + id, {\r\n                action: 'remove'\r\n            });\r\n        }\r\n        if (parent) {\r\n            parent.append(byTop[index]);\r\n        }\r\n    }\r\n\r\n    // function for focusing first element\r\n    function focusFirst() {\r\n        let ks_element = AI.selectAll('.ks');\r\n        if (ks_element.length > 0) {\r\n            let elem = AI.select('.ks');\r\n            let first_child = elem.children[0];\r\n            if (first_child && (first_child.classList.contains(\"dnd_textbox\") || first_child.classList.contains(\"dndcheckbox\") || first_child.classList.contains(\"dnd_select\"))) {\r\n                first_child.focus();\r\n            } else if (AI.find(elem, \".customRad\", 'all').length != 0) {\r\n                AI.find(elem, \".customRad\").focus();\r\n            } else {\r\n                elem.focus();\r\n            }\r\n        }\r\n    }\r\n\r\n    // function for focusing last element\r\n    function focusLast() {\r\n        let ks_element = AI.selectAll('.ks');\r\n        if (ks_element.length > 0) {\r\n            let elem = AI.selectAll('.ks')[AI.selectAll('.ks').length - 1];\r\n            let last_child = elem.children[0];\r\n            if (last_child && (last_child.classList.contains(\"dnd_textbox\") || last_child.classList.contains(\"dndcheckbox\") || last_child.classList.contains(\"dnd_select\"))) {\r\n                last_child.focus();\r\n            } else if (AI.find(elem, \".customRad\", 'all').length != 0) {\r\n                AI.find(elem, \".customRad\").focus();\r\n            } else {\r\n                elem.focus();\r\n            }\r\n        }\r\n    }\r\n\r\n    // function for checking the focus\r\n    function checkFocus(list, img = 0) {\r\n        let is_focus = false;\r\n        let elements = AI.find(dndid, \".\" + list, 'all');\r\n        let focus_el = (img) ? AI.select('.tmpTarget:focus') : AI.select('.ks:focus');\r\n        if (focus_el.nodeName) {\r\n            let focus_id = focus_el.getAttribute('id');\r\n            for (let index = 0; index < elements.length; index++) {\r\n                if (focus_id == elements[index].getAttribute('id')) {\r\n                    is_focus = true;\r\n                    break;\r\n                }\r\n            }\r\n        }\r\n        return is_focus;\r\n    }\r\n\r\n    // function for removing the draggable using keyboard\r\n    function removeDraggable(event) {\r\n        let removethis = event.target;\r\n        let dropedNode = removethis.getAttribute('data-droped');\r\n        if (removethis.classList.contains('dropable') && dropedNode != \"\") {\r\n            AI.setCss(removethis, {\r\n                backgroundColor: removethis.getAttribute('data-bgcolor'),\r\n                backgroundImage: removethis.getAttribute('data-bgimage'),\r\n            });\r\n\r\n            removethis.setAttribute('data-droped', \"\");\r\n            removethis.setAttribute('data-userans', \"\");\r\n            removethis.setAttribute('droping', \"1\");\r\n            removethis.removeAttribute('draging');\r\n\r\n            if (AI.select('#' + dropedNode).getAttribute('data-multi_drag') == '0') {\r\n                DND.draggable(AI.select('#' + dropedNode), 1);\r\n            }\r\n\r\n            if (dragstore && dragstore[removethis.id]) {\r\n                delete dragstore[removethis.id];\r\n            }\r\n\r\n            AI.find(removethis, 'p').innerText = removethis.getAttribute('data-caption');\r\n        }\r\n        let check_ans_timer = setTimeout(function() {\r\n            DND.checkAns(dndid);\r\n            clearTimeout(check_ans_timer);\r\n        }, 100);\r\n    }\r\n\r\n    // function for navigating down\r\n    function navigateDown() {\r\n        AI.find(dndid, \".selmatch\", {\r\n            action: 'removeClass',\r\n            actionData: 'selmatch'\r\n        });\r\n        let ks_element = AI.selectAll(\".ks\");\r\n        let ks_length = ks_element.length;\r\n\r\n        let ks_fill = ks_element[count];\r\n\r\n        if (ks_fill) {\r\n            if (ks_fill.children[0] && (ks_fill.children[0].classList.contains(\"dnd_textbox\") || ks_fill.children[0].classList.contains(\"dndcheckbox\") || ks_fill.children[0].classList.contains(\"dnd_select\"))) {\r\n                ks_fill.children[0].focus();\r\n            } else if (AI.find(ks_fill, '.customRad', 'all').length != 0) {\r\n                AI.find(ks_fill, '.customRad').focus();\r\n            } else {\r\n                ks_fill.focus();\r\n            }\r\n        }\r\n\r\n\r\n        if (count == (ks_length - 1)) {\r\n            count = 0\r\n        } else {\r\n            count++;\r\n        }\r\n    }\r\n\r\n\r\n    // function for enabling the hotspot using keyboard\r\n    function hotSpotKeyboard() {\r\n        let ks = AI.selectAll('.ks');\r\n        for (let index = 0; index < ks.length; index++) {\r\n            if (ks[index].classList.contains('hotspot_test')) {\r\n                let hotspot_this = ks[index];\r\n                let child = hotspot_this.children;\r\n                for (let sub_index = 0; sub_index < child.length; sub_index++) {\r\n                    if (child[sub_index].classList.contains(\"drag-resize\") && (AI.find(hotspot_this, '.hs_item', 'all').length > AI.find(hotspot_this, '.tmpTarget', 'all').length)) {\r\n                        let top = Math.round(ee.clientY - (AI.find(dndid, '.targetImg').offsetHeight / 2));\r\n                        let left = Math.round(ee.clientX - (AI.find(dndid, '.targetImg').offsetWidth / 2));\r\n                        if (hotspot_this.getAttribute('id') != 'c_zoom') {\r\n                            if (AI.find(dndid, '.targetImg')) {\r\n                                let clonenode = AI.find(dndid, '.targetImg').cloneNode(true);\r\n                                clonenode.classList.remove('targetImg');\r\n                                clonenode.classList.add('tmpTarget');\r\n                                clonenode.id = hotspot_this.id + \"_\" + (AI.find(hotspot_this, '.tmpTarget', 'all').length + 1)\r\n\r\n                                AI.setCss(clonenode, {\r\n                                    position: 'absolute',\r\n                                    top: top + \"px\",\r\n                                    left: left + \"px\",\r\n                                    display: 'block'\r\n                                });\r\n\r\n                                // need to check here\r\n                                DND.storage.store(clonenode.id, 'tgElem', hotspot_this.id)\r\n                                AI.insertAfter(clonenode, AI.find(hotspot_this, '.hs_item', 'all')[AI.find(hotspot_this, '.hs_item', 'all').length - 1]);\r\n                            }\r\n                        }\r\n                        let tmp_target = AI.find(dndid, '.tmpTarget', 'all');\r\n\r\n                        let hustr = \"\";\r\n                        let hId = 1;\r\n                        for (let tmp_index = 0; tmp_index < tmp_target.length; tmp_index++) {\r\n                            hustr += '\"' + hId + '\":[' + tmp_target[tmp_index].offsetTop + ',' + tmp_target[tmp_index].offsetLeft + ',' + tmp_target[tmp_index].offsetWidth + ',' + tmp_target[tmp_index].offsetHeight + '],';\r\n                            hId++;\r\n                        }\r\n                        hotspot_this.setAttribute(\"data-userans\", \"{\" + hustr.substr(0, hustr.length - 1) + \"}\");\r\n                        DND.checkAns(dndid);\r\n                        ee.clientX += 35;\r\n                    }\r\n                }\r\n                DND.setHotspotans(hotspot_this);\r\n            }\r\n        }\r\n    }\r\n\r\n    // function for moving the hotspot image\r\n    function moveTargetImg(top, left) {\r\n        let hotspot_test = AI.select(\".hotspot_test\");\r\n\r\n        if (hotspot_test.getAttribute('id') != \"c_zoom\") {\r\n            AI.setCss(AI.find(dndid, '.tmpTarget:focus'), {\r\n                position: \"absolute\",\r\n                top: top + \"px\",\r\n                left: left + \"px\"\r\n            })\r\n        }\r\n\r\n        let tmp_target = AI.find(dndid, '.tmpTarget', 'all');\r\n        let hustr = \"\";\r\n        let hId = 1;\r\n        for (let tmp_index = 0; tmp_index < tmp_target.length; tmp_index++) {\r\n            hustr += '\"' + hId + '\":[' + tmp_target[tmp_index].offsetTop + ',' + tmp_target[tmp_index].offsetLeft + ',' + tmp_target[tmp_index].offsetWidth + ',' + tmp_target[tmp_index].offsetHeight + '],';\r\n            hId++;\r\n        }\r\n        hotspot_test.setAttribute(\"data-userans\", \"{\" + hustr.substr(0, hustr.length - 1) + \"}\");\r\n        DND.setHotspotans(hotspot_test);\r\n        DND.checkAns(dndid);\r\n    }\r\n\r\n    // function for activating keyboard activity\r\n    function activateKs() {\r\n        hotSpotKeyboard();\r\n        count = 0;\r\n        navigateDown();\r\n    }\r\n\r\n    // function responsible for copy Draggable using keyboard\r\n    function copyDraggable() {\r\n        let copy_drag = AI.select(\".ks:focus\");\r\n        if (copy_drag) {\r\n            if (copy_drag.classList.contains('ui-draggable') && !copy_drag.classList.contains('uc_drag_disable')) {\r\n                AI.find(dndid, '.dragable', {\r\n                    action: 'removeClass',\r\n                    actionData: 'copiedclr'\r\n                })\r\n                copied_id = copy_drag.id;\r\n                copy_drag.classList.add('copiedclr');\r\n            } else {\r\n                AH.showmsg('You cannot drag this');\r\n            }\r\n        }\r\n    }\r\n\r\n    // function responsible for pasteDraggable using keyboard\r\n    function pasteDraggable() {\r\n        let dropthis = AI.select(\".ks:focus\");\r\n        if (dropthis && copied_id != \"\" && dropthis.classList.contains('ui-droppable')) {\r\n            let ui_drag = AI.find(dndid, \"#\" + copied_id);\r\n            ui_drag.classList.remove('copiedclr');\r\n            let bgimage = '';\r\n            let drop_id = ui_drag.getAttribute('data-droped') ? ui_drag.getAttribute('data-droped') : ui_drag.getAttribute('id');\r\n            if (ui_drag.getAttribute('data-dropimage') && ui_drag.getAttribute('data-dropimage') != '') {\r\n                bgimage = \"url(\" + ui_drag.getAttribute('data-path') + ui_drag.getAttribute('data-dropimage') + \")\";\r\n            } else {\r\n                bgimage = ui_drag.style.backgroundImage;\r\n            }\r\n\r\n            if (dropthis.getAttribute('data-droped') && dropthis.getAttribute('data-droped').trim() != '') {\r\n                DND.draggable(AI.find(dndid, '#' + dropthis.getAttribute(\"data-droped\")), 1);\r\n            }\r\n\r\n            if (DND.browser.msie && AI.find(dndid, '#' + drop_id) && AI.find(dndid, '#' + drop_id).innerText.trim() == '') {\r\n                ui_drag.style.backgroundColor = 'transparent';\r\n            }\r\n\r\n            AI.setAttr(dropthis, {\r\n                'userans': drop_id,\r\n                'data-droped': drop_id,\r\n                'data-userans': drop_id,\r\n                'data-path': ui_drag.getAttribute('path'),\r\n                'data-dropimage': ui_drag.getAttribute('dropimage'),\r\n                'data-dragimage': ui_drag.getAttribute('dragimage'),\r\n                'draging': '2',\r\n                'droping': '2'\r\n            });\r\n\r\n            dragstore[dropthis.id] = [ui_drag, dropthis];\r\n\r\n            AI.find(dropthis, 'p').innerText = ui_drag.innerText.trim();\r\n\r\n            AI.setCss(dropthis, {\r\n                backgroundColor: ui_drag.style.backgroundColor,\r\n                backgroundImage: bgimage\r\n            });\r\n\r\n            if (AI.find(dndid, \"#\" + drop_id).getAttribute('data-multi_drag') == \"0\") {\r\n                if (!(ui_drag.classList.contains('dropable'))) {\r\n                    DND.draggable(ui_drag, 0);\r\n                } else {\r\n                    DND.draggable(AI.find(dndid, '#' + drop_id), 0);\r\n                }\r\n            }\r\n            DND.checkAns(dndid);\r\n            copied_id = \"\";\r\n        }\r\n    }\r\n\r\n    // function for the key events\r\n    if (typeof(hotkeys) == 'function') {\r\n        hotkeys.unbind('alt+down,down,up,left,right,enter,delete', 'dragndrop');\r\n        hotkeys(\"alt+down,down,up,left,right,enter,delete\", 'dragndrop', function(event, handler) {\r\n            switch (handler.key) {\r\n                case 'alt+down':\r\n                    activateKs();\r\n                    break;\r\n                case 'down':\r\n                    if (AI.select(\"#sm_controller\").offsetHeight == 0) {\r\n                        if (checkFocus(\"tmpTarget\", 1)) {\r\n                            event.preventDefault();\r\n                            let position = DND.checkContainment(AI.select(\".tmpTarget:focus\"), 4, 0)\r\n                            moveTargetImg(position.top, position.left);\r\n                        } else if (checkFocus('dragable') || checkFocus('dropable')) {\r\n                            let focus_element = AI.select('.ks:focus');\r\n                            let ks_last_element = AI.selectAll('.ks')[AI.selectAll('.ks').length - 1];\r\n\r\n                            if (focus_element && ((focus_element.id == ks_last_element.id) || (ks_last_element.children[0] && (ks_last_element.children[0].id == focus_element.id)) || (AI.find(ks_last_element, '.customRad') && (AI.find(ks_last_element, '.customRad').id == focus_element.id)))) {\r\n                                focusFirst();\r\n                            } else {\r\n                                DND.tabMove(focus_element, 1);\r\n                            }\r\n                            event.preventDefault();\r\n                        }\r\n                    }\r\n                    break;\r\n                case 'up':\r\n                    if (AI.select(\"#sm_controller\").offsetHeight == 0) {\r\n                        if (checkFocus(\"tmpTarget\", 1)) {\r\n                            event.preventDefault();\r\n                            let position = DND.checkContainment(AI.select(\".tmpTarget:focus\"), -4, 0)\r\n                            moveTargetImg(position.top, position.left);\r\n                        } else if (checkFocus('dragable') || checkFocus('dropable')) {\r\n                            let focus_element = AI.select('.ks:focus');\r\n                            let ks_element = AI.selectAll('.ks')[0];\r\n\r\n                            if (focus_element && ((focus_element.id == ks_element.id) || (ks_element.children[0] && (ks_element.children[0].id == focus_element.id)) || (AI.find(ks_element, '.customRad') && (AI.find(ks_element, '.customRad').id == focus_element.id)))) {\r\n                                focusLast();\r\n                            } else {\r\n                                DND.tabMove(focus_element, 0);\r\n                            }\r\n                            event.preventDefault();\r\n                        }\r\n                    }\r\n                    break;\r\n                case 'left':\r\n                    if (AI.select(\"#sm_controller\").offsetHeight == 0) {\r\n                        if (checkFocus(\"tmpTarget\", 1)) {\r\n                            event.preventDefault();\r\n                            let position = DND.checkContainment(AI.select(\".tmpTarget:focus\"), 0, -4)\r\n                            moveTargetImg(position.top, position.left);\r\n                        } else if (checkFocus('dragable') || checkFocus('dropable')) {\r\n                            let focus_element = AI.select('.ks:focus');\r\n                            let ks_element = AI.selectAll('.ks')[0];\r\n\r\n                            if (focus_element && ((focus_element.id == ks_element.id) || (ks_element.children[0] && (ks_element.children[0].id == focus_element.id)) || (AI.find(ks_element, '.customRad') && (AI.find(ks_element, '.customRad').id == focus_element.id)))) {\r\n                                focusLast();\r\n                            } else {\r\n                                DND.tabMove(focus_element, 0);\r\n                            }\r\n                        }\r\n                    }\r\n                    break;\r\n                case 'right':\r\n                    if (AI.select(\"#sm_controller\").offsetHeight == 0) {\r\n                        if (checkFocus(\"tmpTarget\", 1)) {\r\n                            event.preventDefault();\r\n                            let position = DND.checkContainment(AI.select(\".tmpTarget:focus\"), 0, 4)\r\n                            moveTargetImg(position.top, position.left);\r\n                        } else if (checkFocus('dragable') || checkFocus('dropable')) {\r\n                            let focus_element = AI.select('.ks:focus');\r\n                            let ks_last_element = AI.selectAll('.ks')[AI.selectAll('.ks').length - 1];\r\n\r\n                            if (focus_element && ((focus_element.id == ks_last_element.id) || (ks_last_element.children[0] && (ks_last_element.children[0].id == focus_element.id)) || (AI.find(ks_last_element, '.customRad') && (AI.find(ks_last_element, '.customRad').id == focus_element.id)))) {\r\n                                focusFirst();\r\n                            } else {\r\n                                DND.tabMove(focus_element, 1);\r\n                            }\r\n                        }\r\n                    }\r\n                    break;\r\n                case 'enter':\r\n                    if (AI.select(\"#sm_controller\").offsetHeight == 0) {\r\n                        if (checkFocus(\"dragable\")) {\r\n                            copyDraggable();\r\n                        } else if (checkFocus(\"dropable\")) {\r\n                            pasteDraggable();\r\n                        }\r\n                    }\r\n                    break;\r\n                case 'delete':\r\n                    if (AI.select(\"#sm_controller\").offsetHeight == 0) {\r\n                        if (checkFocus(\"dropable\")) {\r\n                            removeDraggable(event);\r\n                        }\r\n                    }\r\n                    break;\r\n            }\r\n        });\r\n        hotkeys.setScope('dragndrop');\r\n        hotkeys.filter = function() {\r\n            return true;\r\n        }\r\n    }\r\n\r\n    /* events for keyboard binding */\r\n    AI.listen('body', 'keyup', '.ks', function(current, event) {\r\n        if (event.keyCode == 13 && !current.classList.contains('lab_disable')) {\r\n            current.focus();\r\n            if (current.classList.contains('dragable')) {\r\n                copyDraggable();\r\n            } else if (current.classList.contains('dropable')) {\r\n                pasteDraggable();\r\n            }\r\n        }\r\n    });\r\n\r\n    AI.listen('body', 'keydown', '#dndmainPreview', function(current, event) {\r\n        let last_element = AI.selectAll('.ks')[AI.selectAll('.ks').length - 1];\r\n        let first_element = AI.select('.ks');\r\n        if (AI.select('.ks:focus').nodeName) {\r\n            if (((AI.select('.ks:focus').getAttribute('id') == last_element.getAttribute('id')) || (last_element.children[0] && AI.find(last_element.children[0], '.customRad') && (AI.select('.ks:focus').getAttribute('id') == AI.find(last_element.children[0], '.customRad').getAttribute('id')))) && (event.which || event.keyCode) == 9 && (event.shiftKey == false)) {\r\n                event.preventDefault();\r\n                focusFirst();\r\n            }\r\n\r\n            if (((AI.select('.ks:focus').getAttribute('id') == first_element.getAttribute('id')) || (first_element.children[0] && AI.find(first_element.children[0], '.customRad') && (AI.select('.ks:focus').getAttribute('id') == AI.find(first_element.children[0], '.customRad')))) && event.shiftKey == true && (event.which || event.keyCode) == 9) {\r\n                event.preventDefault();\r\n                focusLast();\r\n            }\r\n        }\r\n\r\n        if (event.which == 27) {\r\n            AI.find(dndid, '.copiedclr', {\r\n                action: 'removeClass',\r\n                actionData: 'copiedclr'\r\n            });\r\n            count = 0;\r\n            copied_id = \"\";\r\n\r\n            if (last_element.children[0] && (last_element.children[0].classList.contains(\"dnd_textbox\") || last_element.children[0].classList.contains(\"dndcheckbox\") || last_element.children[0].classList.contains(\"dnd_select\"))) {\r\n                last_element.children[0].focus();\r\n                last_element.children[0].blur()\r\n            } else if (AI.find(last_element, \".customRad\", 'all').length != 0) {\r\n                AI.find(last_element, \".customRad\").focus();\r\n                AI.find(last_element, \".customRad\").blur();\r\n            } else {\r\n                last_element.focus();\r\n                last_element.blur();\r\n            }\r\n        }\r\n    });\r\n\r\n    AI.listenAll('body', 'click', function() {\r\n        if (!checkFocus(\"dragable\") && !checkFocus(\"dropable\")) {\r\n            AI.find(dndid, '.copiedclr', {\r\n                action: 'removeClass',\r\n                actionData: 'copiedclr'\r\n            });\r\n            copied_id = \"\";\r\n        }\r\n    });\r\n\r\n    AI.listen('body', 'keypress', '#dndmainPreview input', function(current, event) {\r\n        if (event.which == 13) {\r\n            event.preventDefault();\r\n            return false;\r\n        }\r\n    });\r\n    /* end of events for keyboard binding */\r\n\r\n}\r\n\r\n\r\n// function responsible for calculating the area\r\nDND.calcArea = function(coords) {\r\n    let i = 0,\r\n        maxX = 0,\r\n        minX = Infinity,\r\n        maxY = 0,\r\n        minY = Infinity;\r\n\r\n    while (i < coords.length) {\r\n        let x = parseInt(coords[i++], 10),\r\n            y = parseInt(coords[i++], 10);\r\n\r\n        if (x < minX) minX = x;\r\n        else if (x > maxX) maxX = x;\r\n\r\n        if (y < minY) minY = y;\r\n        else if (y > maxY) maxY = y;\r\n    }\r\n    return {\r\n        top: minY,\r\n        left: minX,\r\n        width: (maxX - minX),\r\n        height: (maxY - minY)\r\n    }\r\n}\r\n\r\n// function for responsible the correct data\r\nDND.getCorrect = function(pElem) {\r\n    let is_correct = -1;\r\n    let cans = pElem.getAttribute('data-anskey');\r\n    let uans = pElem.getAttribute('data-userans');\r\n\r\n    if ((cans == uans) || (uans != \"\" && cans.split(\",\").includes(uans))) {\r\n        is_correct = 1;\r\n    }\r\n    if (cans == \"\" && uans == \"\") {\r\n        is_correct = -2;\r\n    }\r\n    return is_correct;\r\n}\r\n\r\n// function reponsible for showing the drag & drop module answers\r\nDND.showansdrag = function(dndid, ansType, review) {\r\n\r\n    let element = AI.select(dndid);\r\n    let tab_pane_div = AI.find(dndid, '.tab-pane', 'all');\r\n    if (DND.browser.msie && tab_pane_div.length > 0) {\r\n        for (let index = 0; index < tab_pane_div.length; index++) {\r\n            let cur_element = tab_pane_div[index];\r\n\r\n            if (cur_element.offsetHeight <= 0 && AI.selectAll(dndid + '>.tab-content,' + dndid + '>img').length < 1) {\r\n                let top = 0,\r\n                    height = 0;\r\n                let drag_resize = AI.find(cur_element, '.drag-resize', 'all');\r\n                for (let drag_index = 0; drag_index < drag_resize.length; drag_index++) {\r\n                    let drag_element = drag_resize[index];\r\n                    if (drag_element.offsetHeight > height) {\r\n                        height = drag_element.offsetHeight;\r\n                    }\r\n                    if (DND.offset(drag_element).top > top) {\r\n                        height = DND.offset(drag_element).top;\r\n                    }\r\n\r\n                    if (drag_element.classList.contains('dragable') > -1 && drag_element.style.backgroundColor == \"transparent\" && drag_element.style.backgroundImage == \"none\" && drag_element.innerText.trim() == \"\") {\r\n                        AI.setCss(drag_element, {\r\n                            backgroundColor: 'white',\r\n                            opacity: '0',\r\n                            filter: 'alpha(opacity=0)'\r\n                        })\r\n                    }\r\n                }\r\n\r\n                cur_element.style.height = (height + top) + 'px';\r\n                AI.setCss(cur_element, {\r\n                    height: (height + top) + 'px',\r\n                    overflow: 'hidden',\r\n                });\r\n\r\n                AI.setCss(drag_element.parentElement, {\r\n                    overflow: 'hidden',\r\n                })\r\n            }\r\n        }\r\n    }\r\n\r\n    if (typeof review === \"undefined\") review = 0;\r\n\r\n    let dnd_test = AI.find(element, '.dndTest', 'all');\r\n    for (let test_index = 0; test_index < dnd_test.length; test_index++) {\r\n        DND.showchildansdrag(dndid, dnd_test[test_index], ansType, review);\r\n    }\r\n\r\n    let dropables = document.querySelectorAll(\".dropable.ui-droppable\");\r\n    for (let i = 0; i < dropables.length; i++) {\r\n        let droppedElem = dropables[i];\r\n        if (droppedElem.getAttribute(\"data-droped\") || ansType == \"c\") {\r\n            droppedElem.innerHTML = (droppedElem.innerHTML).replace(\"Drop Here\", \"\").replace(\"Place Here\", \"\");\r\n        }\r\n    }\r\n}\r\n\r\n// for getting the offset\r\nDND.offset = function(element) {\r\n    let rect = element.getBoundingClientRect();\r\n    return {\r\n        top: rect.top + document.body.scrollTop,\r\n        left: rect.left + document.body.scrollLeft\r\n    }\r\n}\r\n// for getting the position\r\nDND.position = function(element) {\r\n    return {\r\n        left: element.offsetLeft,\r\n        top: element.offsetTop\r\n    }\r\n}\r\n\r\n// for setting the hotspot ans in case of keyboard\r\nDND.setHotspotans = function(element) {\r\n    let userans = element.getAttribute('data-userans');\r\n    if (userans) {\r\n        userans = JSON.parse(userans);\r\n        let hs_item = AI.find(element, '.hs_item', 'all');\r\n        for (let index = 0; index < hs_item.length; index++) {\r\n            let cur_element = hs_item[index];\r\n            let position = DND.position(cur_element);\r\n            position.width = cur_element.offsetWidth;\r\n            position.height = cur_element.offsetHeight;\r\n            for (let sub_index = 0; sub_index < Object.keys(userans).length; sub_index++) {\r\n                let user_ans_index = Object.keys(userans)[sub_index];\r\n                if (position.top <= (userans[user_ans_index][0] + userans[user_ans_index][3] / 2) && (userans[user_ans_index][0] + userans[user_ans_index][3] / 2) <= (position.top + position.height)) {\r\n                    if (position.left <= (userans[user_ans_index][1] + userans[user_ans_index][2] / 2) && (userans[user_ans_index][1] + userans[user_ans_index][2] / 2) <= (position.left + position.width)) {\r\n                        cur_element.setAttribute(\"data-correctans\", \"1\");\r\n                        break;\r\n                    }\r\n                } else {\r\n                    cur_element.setAttribute(\"data-correctans\", \"0\");\r\n                }\r\n            }\r\n        }\r\n\r\n    }\r\n}\r\n\r\n// function responsible for showing the dnd ans by traversing each element passing for DND.showansdrag\r\nDND.showchildansdrag = function(dndid, pElem, ansType, review) {\r\n    let is_correct = -2;\r\n    let dnd_element = AI.select(dndid);\r\n    if (pElem.classList.contains('hotspot') || pElem.classList.contains('hotspot_test')) {\r\n        let selected = AI.find(pElem, '.tmpTarget:not([showtarget])', 'all')\r\n        if (selected.length > 0) {\r\n            selected.forEach((elm) => elm.remove());\r\n        }\r\n        let hs_item = AI.find(pElem, '.hs_item', 'all');\r\n        if (ansType == 'c') {\r\n            let targetimg = {\r\n                height: (AI.find(dnd_element, '.targetImg').offsetHeight) ? AI.find(dnd_element, '.targetImg').offsetHeight : 32,\r\n                width: (AI.find(dnd_element, '.targetImg').offsetWidth) ? AI.find(dnd_element, '.targetImg').offsetWidth : 32,\r\n            }\r\n            for (let index = 0; index < hs_item.length; index++) {\r\n                let hcpos = DND.position(hs_item[index]);\r\n                let top = hcpos.top + hs_item[index].offsetHeight / 2 - targetimg.height / 2;\r\n                let left = hcpos.left + hs_item[index].offsetWidth / 2 - targetimg.width / 2;\r\n                if (hs_item[index].nodeName.toLowerCase() == 'area') {\r\n                    let height = DND.calcArea(hs_item[index].getAttribute('coords').split(','));\r\n                    top = height.top + height.height / 2 - targetimg.height / 2;\r\n                    left = height.left + height.width / 2 - targetimg.width / 2;\r\n                }\r\n                let clone_element = AI.clone(AI.find(dnd_element, '.targetImg'));\r\n                clone_element.classList.remove('targetImg');\r\n                clone_element.classList.add('tmpTarget');\r\n                clone_element.id = pElem.id + \"_\" + (index + 1);\r\n                AI.setCss(clone_element, {\r\n                    position: 'absolute',\r\n                    top: top + 'px',\r\n                    left: left + 'px',\r\n                    display: 'block'\r\n                });\r\n                pElem.append(clone_element);\r\n            }\r\n        } else if (ansType == 'u') {\r\n            let ans_attr = pElem.getAttribute('data-userans');\r\n            let userans = null;\r\n            if (ans_attr) {\r\n                userans = JSON.parse(ans_attr);\r\n            }\r\n            if (userans != null && Object.keys(userans).length > 0) {\r\n                let already_filled_ans = []\r\n                let matched_ans = [];\r\n                for (let index = 0; index < hs_item.length; index++) {\r\n                    let cur_element = hs_item[index];\r\n                    let position = DND.position(cur_element);\r\n                    let tgElem = \"\";\r\n                    Object.keys(userans).forEach(function(user_ans_index) {\r\n                        if (typeof(tgElem) == 'string' && !already_filled_ans.includes(user_ans_index)) {\r\n                            position.width = cur_element.offsetWidth;\r\n                            position.height = cur_element.offsetHeight;\r\n                            if (cur_element.nodeName.toLowerCase() == \"area\") {\r\n                                position = DND.calcArea(cur_element.getAttribute('coords').split(','));\r\n                            }\r\n                            if (position.top <= (userans[user_ans_index][0] + userans[user_ans_index][3] / 2) && (userans[user_ans_index][0] + userans[user_ans_index][3] / 2) <= (position.top + position.height)) {\r\n                                if (position.left <= (userans[user_ans_index][1] + userans[user_ans_index][2] / 2) && (userans[user_ans_index][1] + userans[user_ans_index][2] / 2) <= (position.left + position.width)) {\r\n                                    tgElem = cur_element;\r\n                                    already_filled_ans.push(user_ans_index);\r\n                                    matched_ans[user_ans_index] = {\r\n                                        tgElem: tgElem.id,\r\n                                        userans: userans[user_ans_index],\r\n                                    }\r\n                                }\r\n                            }\r\n                        }\r\n                    });\r\n\r\n                    if (tgElem != '') {\r\n                        cur_element.setAttribute(\"data-correctans\", \"1\");\r\n                        is_correct = true;\r\n                    }else{\r\n                        is_correct = false;\r\n                        break;\r\n                    }\r\n                }\r\n\r\n                Object.keys(matched_ans).forEach(function(index) {\r\n                    let clone_element = AI.clone(AI.find(dnd_element, '.targetImg'));\r\n                    clone_element.classList.remove('targetImg');\r\n                    clone_element.classList.add('tmpTarget');\r\n                    clone_element.id = pElem.id + \"_\" + index;\r\n                    AI.setCss(clone_element, {\r\n                        position: 'absolute',\r\n                        top: matched_ans[index]['userans'][0] + 'px',\r\n                        left: matched_ans[index]['userans'][1] + 'px',\r\n                        display: 'block',\r\n                    });\r\n                    DND.storage.store(clone_element.id, 'tgElem', matched_ans[index]['tgElem']);\r\n                    pElem.append(clone_element);\r\n                });\r\n\r\n                Object.keys(userans).forEach(function(index) {\r\n                    if (!already_filled_ans.includes(index)) {\r\n                        let clone_element = AI.clone(AI.find(dnd_element, '.targetImg'));\r\n                        clone_element.classList.remove('targetImg');\r\n                        clone_element.classList.add('tmpTarget');\r\n                        clone_element.id = pElem.id + \"_\" + index;\r\n                        AI.setCss(clone_element, {\r\n                            position: 'absolute',\r\n                            top: userans[index][0] + 'px',\r\n                            left: userans[index][1] + 'px',\r\n                            display: 'block',\r\n                        });\r\n                        DND.storage.store(clone_element.id, 'tgElem', pElem.id);\r\n                        pElem.append(clone_element);\r\n                    }\r\n                });\r\n            }\r\n        }\r\n    }\r\n\r\n    if (pElem.classList.contains('dropable')) {\r\n        let user_pointsBgDropUrl = \"none\";\r\n        if (pElem.getAttribute('data-bgimage')) {\r\n            user_pointsBgDropUrl = \"url(\" + (pElem.getAttribute('data-path') + pElem.getAttribute('data-bgimage')) + \")\";\r\n        }\r\n\r\n        AI.setCss(pElem, {\r\n            backgroundColor: pElem.getAttribute(\"data-bgcolor\"),\r\n            backgroundImage: user_pointsBgDropUrl\r\n        });\r\n\r\n        AI.find(pElem, 'p').innerHTML = pElem.getAttribute('data-caption');\r\n        if (ansType == 'c') {\r\n            let anskey = pElem.getAttribute('data-anskey').split(',');\r\n            if (anskey.length) {\r\n                anskey.forEach(function(value, index) {\r\n                    if (value.trim() != \"\") {\r\n                        let anskey_element = AI.find(dnd_element, '#' + value);\r\n\r\n                        let selector;\r\n                        if (anskey.length > 1) {\r\n                            selector = AI.selectAll('.dropable[data-anskey=\"' + pElem.getAttribute(\"data-anskey\") + '\"]')[index]\r\n                        } else {\r\n                            selector = pElem;\r\n                        }\r\n\r\n                        if (anskey_element) {\r\n                            AI.setCss(selector, {\r\n                                backgroundColor: anskey_element.getAttribute(\"data-bgcolor\"),\r\n                                backgroundImage: (anskey_element.getAttribute('data-dropimage') || anskey_element.getAttribute('data-bgimage')) ? \"url(\" + (anskey_element.getAttribute('data-path') + (anskey_element.getAttribute('data-dropimage') ? anskey_element.getAttribute('data-dropimage') : anskey_element.getAttribute('data-bgimage'))) + \")\" : 'none'\r\n                            });\r\n\r\n                            AI.find(selector, 'p').innerHTML = anskey_element.getAttribute('data-caption');\r\n                        }\r\n                    }\r\n                })\r\n            }\r\n        } else if (ansType == 'u') {\r\n            if (pElem.getAttribute('data-userans').trim() != '') {\r\n                try {\r\n                    let user_ans = AI.find(dnd_element, '#' + pElem.getAttribute('data-userans'));\r\n                    if (user_ans) {\r\n                        AI.setCss(pElem, {\r\n                            backgroundColor: user_ans.getAttribute(\"data-bgcolor\"),\r\n                            backgroundImage: (user_ans.getAttribute('data-dropimage') ||  user_ans.getAttribute('data-bgimage')) ? \"url(\" + (user_ans.getAttribute('data-path') + (user_ans.getAttribute('data-dropimage') ? user_ans.getAttribute('data-dropimage') : user_ans.getAttribute('data-bgimage'))) + \")\" : ''\r\n                        });\r\n\r\n                        AI.find(pElem, 'p').innerHTML = user_ans.getAttribute('data-caption');\r\n                        pElem.setAttribute('droping', 2);\r\n                        pElem.setAttribute('draging', 2);\r\n                        if (user_ans.getAttribute(\"data-multi_drag\") == \"0\") {\r\n                            user_ans.classList.add('uc_drag_disable');\r\n                            user_ans.style.setProperty(\"cursor\", \"no-drop\", \"important\");\r\n                            user_ans.style.setProperty(\"opacity\", \"0.5\", \"important\");\r\n                        }\r\n                    } else {\r\n                        pElem.setAttribute('droping', 1);\r\n                        pElem.removeAttribute('draging');\r\n                    }\r\n                } catch (error) {\r\n                    console.warn('User ans xml destroyed', pElem.getAttribute('data-userans'));\r\n                }\r\n            }\r\n            if (typeof(pElem.getAttribute(\"name\")) !== \"undefined\" && pElem.getAttribute(\"name\") != \"\") {\r\n                let ansKey = pElem.getAttribute('data-anskey').split(',');\r\n                let userans = [];\r\n\r\n                let droppable_element = AI.find(dnd_element, '.dropable[name=\"' + pElem.getAttribute(\"name\") + '\"]', 'all');\r\n\r\n                for (let index = 0; index < droppable_element.length; index++) {\r\n                    if (typeof(droppable_element[index].getAttribute('data-userans')) != 'undefined' && droppable_element[index].getAttribute('data-userans') != '' || AI.find(droppable_element[index], '.correct_incorrect_icon', 'all').length > 0) {\r\n                        userans.push(droppable_element[index].getAttribute('data-userans'));\r\n                    }\r\n                }\r\n\r\n                if (typeof(pElem.getAttribute('data-userans')) != 'undefined' && pElem.getAttribute('data-userans') != '') {\r\n                    is_correct = DND.getCorrect(pElem);\r\n                } else if ((ansKey.length - userans.length) > 0) {\r\n                    is_correct = -1;\r\n                }\r\n            } else {\r\n                is_correct = DND.getCorrect(pElem);\r\n            }\r\n        }\r\n    }\r\n\r\n    if (pElem.getAttribute('type') == 'step') {\r\n        if (typeof(pElem.getAttribute('data-udisplay')) != 'undefined') {\r\n            if ((stepsPreview == null) || pElem.getAttribute('id').match(stepsPreview + '_0')) {\r\n                stepsPreview = pElem.getAttribute('id');\r\n            }\r\n\r\n            let step_display = true;\r\n\r\n            if (ansType == 'c') {\r\n                step_display = (pElem.getAttribute('data-cdisplay')) ? true : false;\r\n            } else if (ansType == 'u') {\r\n                step_display = (pElem.getAttribute('data-udisplay')) ? true : false;\r\n            }\r\n\r\n            if (step_display) {\r\n                DND.setStep(pElem.getAttribute('id'))\r\n            } else {\r\n                DND.setStep(stepsPreview);\r\n            }\r\n        }\r\n    }\r\n\r\n    if (pElem.nodeName == 'SPAN') {\r\n        if (pElem.classList.contains('menu')) {\r\n            if (pElem.getAttribute('data-correctans') > 0) {\r\n                is_correct = -1;\r\n                if (pElem.getAttribute('data-userans') > 0) {\r\n                    pElem.setAttribute('clicked', '1');\r\n                    is_correct = 1;\r\n                }\r\n            }\r\n        } else {\r\n            AI.setAttr(pElem, {\r\n                sel: '0',\r\n                class: 'off'\r\n            });\r\n\r\n            if (ansType == 'c' && Nmuber(pElem.getAttribute('data-correctans')) > 0) {\r\n                AI.setAttr(pElem, {\r\n                    sel: '1',\r\n                    class: 'on'\r\n                });\r\n            }\r\n\r\n            if (ansType == 'u') {\r\n                is_correct = -1;\r\n                if (Number(pElem.getAttribute('data-userans')) > 0) {\r\n                    AI.setAttr(pElem, {\r\n                        sel: '1',\r\n                        class: 'on'\r\n                    });\r\n                }\r\n\r\n                if (review == 1) {\r\n                    if (Number(pElem.getAttribute('data-userans')) > 0 && Number(pElem.getAttribute('data-correctans')) > 0) {\r\n                        is_correct = 1;\r\n                    } else {\r\n                        if (Number(pElem.getAttribute('data-userans')) < 1 && Number(pElem.getAttribute('data-correctans')) > 0) {\r\n                            pElem.classList.remove('off');\r\n                            pElem.classList.add('off');\r\n                        }\r\n                        if (Number(pElem.getAttribute('data-correctans')) < 1 && Number(pElem.getAttribute('data-defaultans')) < 1 && Number(pElem.getAttribute('data-userans')) < 1) {\r\n                            is_correct = -2;\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    if (AI.find(pElem, '[class*=\"dnd_\"],.dndradio,.dndcheckbox,.dropable,.hotspot,.hotspot_test,[type=\"step\"],[type=\"tab\"]', 'all').length > 0) {\r\n        let childrens = pElem.children;\r\n        if (childrens.length > 0) {\r\n            for (let index = 0; index < childrens.length; index++) {\r\n                let element = childrens[index];\r\n                if (typeof(pElem.getAttribute(\"type\")) !== \"undefined\" && [\"step\", \"tab\"].includes(pElem.getAttribute(\"type\"))) {\r\n                    DND.showchildansdrag(dndid, element, ansType, review);\r\n                }\r\n                if (element.getAttribute(\"data-correctans\") == null) element.setAttribute(\"data-correctans\", \"\");\r\n                if (element.getAttribute(\"data-userans\") == null) element.setAttribute(\"data-userans\", \"\");\r\n                if (element.getAttribute(\"data-defaultans\") == null) element.setAttribute(\"data-defaultans\", \"\");\r\n\r\n                // SELECT ANS SHOWING IS STARTED FROM HERE //\r\n                if (element.nodeName == 'SELECT') {\r\n                    is_correct = -1;\r\n                    let total_correct = AI.find(element, \"[data-correctans='1']\", 'all').length;\r\n                    let compare_index = 0;\r\n                    let options = AI.find(element, 'option', 'all');\r\n                    let default_value = '0';\r\n                    element.value = '';\r\n                    for (let sub_index = 0; sub_index < options.length; sub_index++) {\r\n                        if (ansType == 'c') {\r\n                            if (Number(options[sub_index].getAttribute('data-correctans')) > 0) {\r\n                                options[sub_index].parentElement.value = options[sub_index].value;\r\n                            }\r\n                        } else if (ansType == 'u') {\r\n                            if (Number(options[sub_index].getAttribute('data-userans')) > 0) {\r\n                                options[sub_index].parentElement.value = options[sub_index].value;\r\n                            }\r\n                            if (options[sub_index].selected && Number(options[sub_index].getAttribute('data-correctans')) == 1) {\r\n                                compare_index++;\r\n                            }\r\n\r\n                            if (Number(options[sub_index].getAttribute('data-defaultans')) > 0) {\r\n                                default_value = options[sub_index].value;\r\n                            }\r\n                        }\r\n                    }\r\n                    if (total_correct == compare_index) {\r\n                        is_correct = 1;\r\n                    }\r\n                    if (element.value.trim() == '' && AI.find(element, 'option')) {\r\n                        element.value = default_value;\r\n                    }\r\n                }\r\n                if (element.nodeName == \"INPUT\") {\r\n                    is_correct = -1;\r\n                    if (element.getAttribute('data-correctans') == \"\") {\r\n                        element.getAttribute('data-correctans', \"0\");\r\n                    }\r\n                    if (element.getAttribute(\"type\") == \"radio\" || element.getAttribute(\"type\") == \"checkbox\") {\r\n                        element.checked = false;\r\n                        if (ansType == 'c') {\r\n                            if (Number(element.getAttribute(\"data-correctans\")) > 0) {\r\n                                element.checked = true;\r\n                            }\r\n                        } else if (ansType == 'u') {\r\n                            if (Number(element.getAttribute(\"data-userans\")) > 0) {\r\n                                element.checked = true;\r\n                            }\r\n                            if (Number(element.getAttribute('data-userans')) == Number(element.getAttribute('data-correctans'))) {\r\n                                is_correct = 1;\r\n                            }\r\n                        }\r\n                    }\r\n                    if (element.getAttribute(\"type\") == \"text\" || element.getAttribute(\"type\") == \"password\") {\r\n\r\n                        // I don't think this is needed here , NEED TO REVEIW\r\n                        if (typeof(element.type) == \"undefined\") {\r\n                            element.type = 'text';\r\n                        }\r\n                        if (ansType == 'c') {\r\n                            element.value = element.getAttribute(\"data-correctans\");\r\n                        } else if (ansType == 'u') {\r\n                            element.value = element.getAttribute(\"data-userans\");\r\n                            is_correct = DND.testText(element);\r\n                        }\r\n                    }\r\n                } else if (element.nodeName == \"TEXTAREA\") {\r\n                    is_correct = -1;\r\n                    if (ansType == 'c') {\r\n                        element.value = element.getAttribute(\"data-correctans\")\r\n                    } else if (ansType == 'u') {\r\n                        element.value = element.getAttribute(\"data-userans\");\r\n                        is_correct = DND.testText(element);\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    let anstest = false;\r\n    if (AI.find(pElem, '.choicematrixradio', 'all').length) {\r\n        anstest = AI.find(pElem, '.choicematrixradio').checked;\r\n    } else if (AI.find(pElem, '.custRad', 'all').length) {\r\n        anstest = AI.find(pElem, '.custRad').checked;\r\n    }\r\n\r\n    if (ansType == 'u' && review == 1) {\r\n        if (is_correct != -2) {\r\n            let correct_incorrect_mark = '';\r\n            if (AI.find(pElem, '.custRad', 'all').length || AI.find(pElem, '.choicematrixradio', 'all').length) {\r\n                if (AI.find(pElem, '.choicematrixradio')) {\r\n                    AI.find(pElem, '.choicematrixradio').disabled = true;\r\n                }\r\n                if (AI.find(pElem, '.custRad')) {\r\n                    AI.find(pElem, '.custRad').disabled = true;\r\n                }\r\n                correct_incorrect_mark = DND.markUserAnswerChoiceMatrix(is_correct, anstest);\r\n            } else {\r\n                correct_incorrect_mark = DND.markUserAnswer(is_correct);\r\n            }\r\n            pElem.setAttribute('as', is_correct);\r\n            pElem.insertAdjacentHTML('beforeend', correct_incorrect_mark);\r\n        }\r\n    } else if (ansType == 'u' && review == 0) {\r\n        if (AI.find(pElem, '.custRad', 'all').length || AI.find(pElem, '.choicematrixradio', 'all').length) {\r\n            if (AI.find(pElem, '.choicematrixradio')) {\r\n                AI.find(pElem, '.choicematrixradio').disabled = false;\r\n            }\r\n            if (AI.find(pElem, '.custRad')) {\r\n                AI.find(pElem, '.custRad').disabled = false;\r\n            }\r\n        }\r\n        AI.remove('.correct_incorrect_icon');\r\n    } else {\r\n        AI.remove('.correct_incorrect_icon');\r\n    }\r\n}\r\n\r\n// function for marking correct incorrect\r\nDND.markUserAnswer = function(is_correct) {\r\n    let droped_value_indicator_html = '';\r\n    if (is_correct == 1) {\r\n        if (window.inNative) {\r\n            droped_value_indicator_html = '<span class=\"icomoon-checkmark-circles\" style=\"color:green;\">';\r\n        } else {\r\n            droped_value_indicator_html = '<span class=\"icomoon-checkmark-circle\" style=\"color:green;\">';\r\n        }\r\n    } else {\r\n        if (window.inNative) {\r\n            droped_value_indicator_html = '<span class=\"icomoon-cancel-circles\" style=\"color:red;\">';\r\n        } else {\r\n            droped_value_indicator_html = '<span class=\"icomoon-cancel-circle\" style=\"color:red;\">';\r\n        }\r\n    }\r\n    let correct_incorrect_mark = '<span class=\"correct_incorrect_icon\" style=\"position:absolute;width:18px;height:18px;right:-9px;top:-9px;background:white;border-radius:15px 12px 12px;font-size:21px;\"> ' + droped_value_indicator_html + '</span></span>'\r\n    return correct_incorrect_mark;\r\n}\r\n\r\n// function for marking choice matrix answers\r\nDND.markUserAnswerChoiceMatrix = function(is_correct, anstest) {\r\n    let correct_incorrect_mark = '', droped_value_indicator_html = '';\r\n    if (is_correct == 1 && anstest == true) {\r\n        if (window.inNative) {\r\n            droped_value_indicator_html = '<span class=\"icomoon-checkmark-circles\" style=\"color:green;\">';\r\n        } else {\r\n            droped_value_indicator_html = '<span class=\"icomoon-checkmark-circle\" style=\"color:green;\">';\r\n        }\r\n\r\n        correct_incorrect_mark = '<span class=\"correct_incorrect_icon\" style=\"position:absolute;width:15px;height:20px;right:-9px;top:-42px;background:white;border-radius:15px 12px 12px;font-size:17px;\"> ' + droped_value_indicator_html + '</span></span>'\r\n    } else if (is_correct != 1 && anstest == true) {\r\n        if (window.inNative) {\r\n            droped_value_indicator_html = '<span class=\"icomoon-cancel-circles\" style=\"color:red;\">';\r\n        } else {\r\n            droped_value_indicator_html = '<span class=\"icomoon-cancel-circle style=\"color:red;\">';\r\n        }\r\n\r\n        correct_incorrect_mark = '<span class=\"correct_incorrect_icon\" style=\"position:absolute;width:15px;height:15px;right:-9px;top:-42px;background:white;border-radius:15px 12px 12px;font-size:17px;\"> ' + droped_value_indicator_html + '</span></span>'\r\n    }\r\n    return correct_incorrect_mark;\r\n}\r\n// function for cheking module answers\r\nDND.checkAns = function(dndid) {\r\n    let userAnsXML = \"<smans type='15'>\\n\";\r\n    result = true;\r\n    user_points = 0;\r\n    is_all_correct = true;\r\n    let dnd_element = AI.select(dndid);\r\n    let dnd_test = AI.find(dnd_element, '.dndTest', 'all');\r\n\r\n    for (let index = 0; index < dnd_test.length; index++) {\r\n        userAnsXML = DND.checkChildAnswer(dndid, dnd_test[index], userAnsXML);\r\n    }\r\n    userAnsXML += \"</smans>\";\r\n\r\n    result = is_all_correct;\r\n    if (window.inNative) {\r\n        if (typeof window.getHeight == \"function\") {\r\n            window.getHeight();\r\n        }\r\n    }\r\n    DND.calculatePoint(dnd_element.getAttribute('totalcorrectans'), user_points);\r\n\r\n    if (window.inNative) {\r\n        window.postMessage(JSON.stringify({\r\n            userAnswers: userAnsXML,\r\n            inNativeIsCorrect: result\r\n        }), '*');\r\n    }\r\n    return {uXml: userAnsXML, ans: result};\r\n}\r\n\r\n// function for changing the user and ans points\r\nDND.calculatePoint = function(answer_points, user_points) {\r\n    //changes for php\r\n    AI.selectAll('#answer_points', 'value', answer_points);\r\n    AI.selectAll('#user_points', 'value', user_points);\r\n}\r\n\r\n// function for cheking module by traversing the child\r\nDND.checkChildAnswer = function(dndid, pElem, userAnsXML) {\r\n    let dnd_element = AI.select(dndid);\r\n\r\n    if (pElem.classList.contains('hotspot_test')) {\r\n        let hs_item = AI.find(pElem, '.hs_item', 'all');\r\n        let result_array = [];\r\n        for (let index = 0; index < hs_item.length; index++) {\r\n            if (hs_item[index].getAttribute('data-correctans') == '0') {\r\n                result_array.push(0);\r\n            } else {\r\n                result_array.push(1);\r\n                user_points++;\r\n            }\r\n        }\r\n        result = !(result_array.includes(0));\r\n        userAnsXML += \"<div id='\" + pElem.getAttribute(\"id\") + \"' userAns='\" + pElem.getAttribute('data-userans') + \"'></div>\\n\";\r\n    } else if (pElem.classList.contains('dropable')) {\r\n        let ansKey = pElem.getAttribute('data-anskey').split(',');\r\n\r\n        if (pElem.getAttribute(\"name\") == '' && !ansKey.includes(pElem.getAttribute(\"data-userans\"))) {\r\n            result = false;\r\n        } else if (typeof(pElem.getAttribute(\"name\")) !== \"undefined\" && pElem.getAttribute(\"name\") != \"\") {\r\n            let userans = [];\r\n            let dnd_element_dropable = AI.find(dnd_element, '.dropable[name=\"' + pElem.getAttribute(\"name\") + '\"]', 'all');\r\n            for (let index = 0; index < dnd_element_dropable.length; index++) {\r\n                if (typeof(dnd_element_dropable[index].getAttribute('data-userans')) != \"undefined\" && dnd_element_dropable[index].getAttribute('data-userans') != \"\") {\r\n                    userans.push(dnd_element_dropable[index].getAttribute('data-userans'));\r\n                }\r\n            }\r\n            if (DND.compareArray(ansKey, userans) != 0) {\r\n                result = false;\r\n            } else {\r\n                user_points++;\r\n            }\r\n        } else {\r\n            user_points++;\r\n        }\r\n        userAnsXML += \"<div id='\" + pElem.getAttribute(\"id\") + \"' userAns='\" + pElem.getAttribute('data-userans') + \"'></div>\\n\";\r\n    } else if (pElem.classList.contains('menulist') && !pElem.classList.contains(\"menu\")) {\r\n        if (pElem.getAttribute('data-correctans') != pElem.getAttribute('sel')) {\r\n            result = false;\r\n        } else {\r\n            user_points++;\r\n        }\r\n        userAnsXML += \"<div id='\" + pElem.getAttribute(\"id\") + \"' userAns='\" + pElem.getAttribute(\"sel\") + \"'></div>\\n\";\r\n    } else if (pElem.classList.contains(\"record\")) {\r\n        if (pElem.getAttribute(\"clicked\") == null || pElem.getAttribute(\"clicked\") == '') {\r\n            pElem.setAttribute(\"clicked\", \"0\");\r\n        }\r\n        if (Number(pElem.getAttribute('clicked')) != 1) {\r\n            result = false;\r\n        } else {\r\n            user_points++;\r\n        }\r\n        userAnsXML += \"<div id='\" + pElem.getAttribute(\"id\") + \"' userAns='\" + pElem.getAttribute(\"clicked\") + \"'></div>\\n\";\r\n    } else if (AI.find(pElem, '[class*=\"dnd_\"],.dndradio,.dndcheckbox,.dropable,.record,.hotspot_test,[type=\"step\"],[type=\"tab\"]', 'all').length > 0) {\r\n        let disabledstring = \"\";\r\n        let childrens = pElem.children;\r\n        for (let index = 0; index < childrens.length; index++) {\r\n            let current_element = childrens[index];\r\n            if (typeof(pElem.getAttribute('type')) != 'undefined' && ['step', 'tab'].includes(pElem.getAttribute('type'))) {\r\n                userAnsXML = DND.checkChildAnswer(dndid, current_element, userAnsXML);\r\n            }\r\n            if (current_element.getAttribute(\"data-correctans\") == null) current_element.setAttribute(\"data-correctans\", \"\");\r\n            if (current_element.getAttribute(\"data-userans\") == null) current_element.setAttribute(\"data-userans\", \"\");\r\n            if (current_element.getAttribute(\"data-defaultans\") == null) current_element.setAttribute(\"data-defaultans\", \"\");\r\n            if (current_element.disabled) disabledstring = \" udisabled='1'\";\r\n\r\n            if (current_element.nodeName == \"SELECT\") {\r\n                let uAnsSel = \"\";\r\n                let compare_index = 0;\r\n                let totalcorrect = AI.find(current_element, \"[data-correctans='1']\", 'all').length;\r\n                let options = AI.find(current_element, 'option', 'all');\r\n                for (let sub_index = 0; sub_index < options.length; sub_index++) {\r\n                    if (options[sub_index].selected) {\r\n                        compare_index++;\r\n                        if (Number(options[sub_index].getAttribute(\"data-correctans\")) != 1) {\r\n                            result = false;\r\n                        } else {\r\n                            user_points++;\r\n                        }\r\n                        uAnsSel = uAnsSel + (sub_index + 1) + \",\";\r\n                    }\r\n                }\r\n                if (compare_index != totalcorrect) result = false;\r\n                userAnsXML += '<div id=\"' + current_element.parentElement.getAttribute(\"id\") + '\" userAns=\"' + uAnsSel + '\" ' + disabledstring + '></div>\\n';\r\n            } else if (current_element.nodeName == 'INPUT') {\r\n                if (current_element.getAttribute('type') == 'radio' || current_element.getAttribute('type') == 'checkbox') {\r\n                    if ((Number(current_element.getAttribute(\"data-correctans\")) == 1 && !current_element.checked) || ((Number(current_element.getAttribute(\"data-correctans\")) != 1 && current_element.checked))) {\r\n                        result = false;\r\n                    } else {\r\n                        user_points++;\r\n                    }\r\n\r\n                    if (current_element.checked) {\r\n                        userAnsXML += \"<div id='\" + current_element.parentElement.getAttribute(\"id\") + \"' userAns='1' \" + disabledstring + \"></div>\\n\";\r\n                    } else {\r\n                        userAnsXML += \"<div id='\" + current_element.parentElement.getAttribute(\"id\") + \"' userAns='0' \" + disabledstring + \"></div>\\n\";\r\n                    }\r\n                } else if (current_element.getAttribute('type') == 'text' || current_element.getAttribute('type') == 'password') {\r\n                    let correctansarray = [];\r\n                    let givenanswer;\r\n                    if (Number(current_element.getAttribute(\"data-ismultipleanswer\")) == 1) {\r\n                        correctansarray = current_element.getAttribute(\"data-correctans\").split(\",\");\r\n                    }\r\n                    correctansarray.push(current_element.getAttribute(\"data-correctans\"));\r\n\r\n                    if (Number(current_element.getAttribute('data-nocase')) == 1) {\r\n                        correctansarray = correctansarray.map(function(values) {\r\n                            return values.toLowerCase();\r\n                        });\r\n                        givenanswer = current_element.value.toLowerCase();\r\n                    } else {\r\n                        givenanswer = current_element.value;\r\n                    }\r\n\r\n                    if (correctansarray.indexOf(givenanswer) < 0) {\r\n                        result = false;\r\n                    } else {\r\n                        user_points++;\r\n                    }\r\n                    userAnsXML += \"<div id='\" + current_element.parentElement.getAttribute(\"id\") + \"' userAns='\" + current_element.value + \"' \" + disabledstring + \"></div>\\n\";\r\n                }\r\n            } else if (current_element.nodeName == 'BUTTON') {\r\n                if (typeof(current_element.getAttribute(\"data-userans\")) !== \"undefined\") {\r\n                    userAnsXML += \"<div id='\" + current_element.parentElement.getAttribute(\"id\") + \"' userAns='\" + current_element.getAttribute(\"data-userans\") + \"' \" + disabledstring + \"></div>\\n\";\r\n                }\r\n            } else if (current_element.nodeName == 'TEXTAREA') {\r\n                let parser = ((current_element.getAttribute('data-parser')) ? current_element.getAttribute('data-parser').trim() : \"\");\r\n                if (parser != '') {\r\n                    let correct_val = current_element.getAttribute(\"data-correctans\").sqlparser(true);\r\n                    let text_val = current_element.value.replace(/\"/g, \"'\");\r\n                    text_val = text_val.sqlparser();\r\n                    if (DND.compareArray(correct_val['sql'], text_val['sql']) == 0) {\r\n                        if (correct_val['mustbeone'].length > 0) {\r\n                            for (let sub_index = 0; sub_index < correct_val['mustbeone'].length; sub_index++) {\r\n                                if (DND.compareArray(correct_val['mustbeone'][sub_index], text_val['sql']).length >= correct_val['mustbeone'][sub_index].length) {\r\n                                    result = false;\r\n                                }\r\n                            }\r\n                        }\r\n                    } else {\r\n                        result = false;\r\n                    }\r\n                } else {\r\n                    let correctansarray = [];\r\n                    let givenanswer;\r\n                    if (Number(current_element.getAttribute(\"data-ismultipleanswer\")) == 1) {\r\n                        correctansarray = current_element.getAttribute(\"data-correctans\").split(\",\");\r\n                    }\r\n                    correctansarray.push(current_element.getAttribute(\"data-correctans\"));\r\n                    if (Number(current_element.getAttribute('data-nocase')) == 1) {\r\n                        correctansarray = correctansarray.map(function(values) {\r\n                            return values.toLowerCase();\r\n                        });\r\n                        givenanswer = current_element.value.toLowerCase();\r\n                    } else {\r\n                        givenanswer = current_element.value;\r\n                    }\r\n                    if (correctansarray.indexOf(givenanswer) < 0) {\r\n                        result = false;\r\n                    } else {\r\n                        user_points++;\r\n                    }\r\n                }\r\n                userAnsXML += \"<div id='\" + current_element.parentElement.getAttribute(\"id\") + \"' userAns='\" + current_element.value + \"' \" + disabledstring + \"></div>\\n\";\r\n            }\r\n        }\r\n    }\r\n\r\n    if (result == false) {\r\n        is_all_correct = false;\r\n    }\r\n    return userAnsXML;\r\n}\r\n\r\n// function for areaToggle\r\nDND.areaToggle = function(obj) {\r\n    if (obj.classList.contains('off')) {\r\n        AI.setAttr(AI.select(obj), {\r\n            \"sel\": \"1\",\r\n            \"class\": \"on\"\r\n        });\r\n    } else {\r\n        AI.setAttr(AI.select(obj), {\r\n            \"sel\": \"0\",\r\n            \"class\": \"off\"\r\n        });\r\n    }\r\n}\r\n\r\n// function for checking the sql text\r\nDND.testText = function(element) {\r\n    let is_correct = -1,\r\n        parser = ((element.getAttribute('data-parser')) ? element.getAttribute('data-parser').trim() : \"\"),\r\n        correct_val = element.getAttribute(\"data-correctans\"),\r\n        text_val = element.value.replace(/\"/g, \"'\").trim();\r\n    let correctansarray = [];\r\n    let givenanswer;\r\n    if (parser != \"\") {\r\n        correct_val = correct_val.sqlparser(true);\r\n        text_val = text_val.sqlparser();\r\n        if (DND.compareArray(correct_val['sql'], text_val['sql']) == 0) {\r\n            is_correct = 1;\r\n        }\r\n    } else {\r\n        if (Number(element.getAttribute(\"data-ismultipleanswer\")) == 1) {\r\n            correctansarray = element.getAttribute(\"data-correctans\").split(\",\");\r\n        }\r\n        correctansarray.push(element.getAttribute(\"data-correctans\"));\r\n\r\n        if (Number(element.getAttribute('data-nocase')) == 1) {\r\n            correctansarray = correctansarray.map(function(v) {\r\n                return v.toLowerCase();\r\n            });\r\n            givenanswer = element.value.toLowerCase();\r\n        } else {\r\n            givenanswer = element.value;\r\n        }\r\n        if (correctansarray.indexOf(givenanswer) > -1) {\r\n            is_correct = 1;\r\n        }\r\n    }\r\n    return is_correct;\r\n}\r\n\r\n// function for comparing the array and return if the parent one is not in child one\r\nDND.compareArray = function(tree, branch) {\r\n    let matchedBranch = [];\r\n    for (let i = 0; i < tree.length; i++) {\r\n        for (let j = 0; j < branch.length; j++) {\r\n            if (branch[j] == tree[i]) {\r\n                matchedBranch.push(branch[j]);\r\n                continue;\r\n            }\r\n        }\r\n    }\r\n    let result = (tree.length - matchedBranch.length);\r\n    return result < 0 ? 0 : result;\r\n}\r\n\r\n// function call whenever the the review mode is changes\r\nDND.modeOn = function(modeType) {\r\n    AI.selectAll('.test', 'addClass', 'h');\r\n    AI.selectAll('.review', 'addClass', 'h');\r\n\r\n    if (modeType) {\r\n        AI.selectAll('.review', 'removeClass', 'h');\r\n\r\n        if (typeof(hotkeys) == 'function') {\r\n            hotkeys.unbind('alt+down,down,up,left,right,enter,delete', 'dragndrop');\r\n        }\r\n\r\n        DND.unBindLab();\r\n        DND.showansdrag(elemId, 'u', 1);\r\n        AI.setCss('#sm_controller', {\r\n            display: 'block',\r\n        });\r\n        AI.selectAll('#sm_controller button', 'removeClass', 'active');\r\n        AI.addClass('#sm_controller .your-ans', 'active');\r\n    } else {\r\n        AI.selectAll('.test', 'removeClass', 'h');\r\n        DND.bindKeyUp(elemId);\r\n        AI.setCss('#sm_controller', {\r\n            display: 'none',\r\n        });\r\n        DND.bindLab();\r\n        DND.showansdrag(elemId, 'u');\r\n    }\r\n}\r\n\r\n// function for unbinding the events\r\nDND.unBindLab = function() {\r\n    let element = AI.select(elemId);\r\n    let select_elements = AI.find(element, 'select,input,textarea', 'all');\r\n\r\n    for (let index = 0; index < select_elements.length; index++) {\r\n        if (select_elements[index].nodeName == 'INPUT') {\r\n            let input_type = select_elements[index].getAttribute('type');\r\n            if (input_type == 'text' || input_type == 'password') {\r\n                select_elements[index].setAttribute('data-userans', select_elements[index].value);\r\n            } else if (input_type == 'radio' || input_type == 'checkbox') {\r\n                select_elements[index].setAttribute('data-userans', (select_elements[index].checked) ? 1 : 0);\r\n            }\r\n        } else if (select_elements[index].nodeName == 'SELECT') {\r\n            let options = AI.find(select_elements[index], 'option', 'all');\r\n            for (let opt_index = 0; opt_index < options.length; opt_index++) {\r\n                options[opt_index].setAttribute('data-userans', (options[opt_index].selected) ? 1 : 0);\r\n            }\r\n        } else if (select_elements[index].nodeName == 'TEXTAREA') {\r\n            select_elements[index].setAttribute('data-userans', select_elements[index].value);\r\n        }\r\n        select_elements[index].style.pointerEvents = 'none';\r\n    }\r\n    AI.find(elemId, '.dragable, .dropable, .hotspot_test, .tmpTarget, .record,  [data-droped*=dndID]', {\r\n        action: 'addClass',\r\n        actionData: 'lab_disable'\r\n    });\r\n\r\n    AI.find(element, '.hs_item', {\r\n        action: 'addClass',\r\n        actionData: 'ajax_hs_item'\r\n    });\r\n\r\n}\r\n\r\n// function for binding the events\r\nDND.bindLab = function() {\r\n    let element = AI.select(elemId);\r\n    let select_items = AI.find(element, 'select,input,textarea', 'all');\r\n\r\n    AI.find(element, '.hs_item', {\r\n        action: 'removeClass',\r\n        actionData: 'ajax_hs_item'\r\n    });\r\n\r\n    AI.find(elemId, '.dragable, .dropable, .hotspot_test, .tmpTarget, .record,  [data-droped*=dndID]', {\r\n        action: 'removeClass',\r\n        actionData: 'lab_disable'\r\n    });\r\n\r\n    if (select_items) {\r\n        for (let index = 0; index < select_items.length; index++) {\r\n            select_items[index].style.pointerEvents = 'all';\r\n        }\r\n    }\r\n\r\n    DND.readyThis(elemId);\r\n}\r\n\r\n// function for textbox alingment setting\r\nDND.textBoxAlignment = function(element) {\r\n    element.style.textAlign = (!isNaN(element.value)) ? 'center' : 'left';\r\n}\r\n\r\n// funciton for cleartext\r\nDND.clearText = function(id) {\r\n    try {\r\n        let element = AI.select(elemId);\r\n        let find_element = AI.find(element, '.dnd' + id, 'all');\r\n\r\n        if (find_element) {\r\n            for (let index = 0; index < find_element.length; index++) {\r\n                find_element[index].value = '';\r\n            }\r\n        }\r\n    } catch (err) {\r\n        console.warn(\"ID does not exist for clearing text \", err);\r\n    }\r\n}\r\n\r\n\r\n// function calling on the window load\r\nif (typeof document !== 'undefined') {\r\n    document.addEventListener(\"DOMContentLoaded\", function() {\r\n        let dnd_textbox = AI.selectAll('.dnd_textbox');\r\n        for (let index = 0; index < dnd_textbox.length; index++) {\r\n            DND.textBoxAlignment(dnd_textbox[index]);\r\n        }\r\n        AI.listen('body', 'change', '.dnd_textbox', function(_this) {\r\n            DND.textBoxAlignment(_this);\r\n        })\r\n    });\r\n}\r\n\r\n\r\nexport default DND;\r\n","<!--\r\n *  File Name   : TextboxPreview.svelte\r\n *  Description : Responsible for TextboxPreview\r\n *  Author      : Ayush Srivastava\r\n *  Package     : Drag and Drop (preview)\r\n *  Last update : 20-Jan-2021\r\n *  Last Updated By : Ayush Srivastava\r\n-->\r\n<script>\r\n    import { XMLToJSON } from \"../../../helper/HelperAI.svelte\";\r\n    import { afterUpdate } from 'svelte';\r\n\r\n    export let modules;\r\n    export let containerID = '';\r\n    export let uxml = '';\r\n    let textbox_data = [];\r\n    let textbox = modules;\r\n\r\n    $: if (modules) {\r\n        if (Array.isArray(modules) == false) {\r\n            textbox = []\r\n            textbox[0] = modules;\r\n        } else {\r\n            textbox = modules;\r\n        }\r\n\r\n        textbox_data = [];\r\n        textbox.map(function (data) {\r\n            if (uxml != '') {\r\n                let uaXML = XMLToJSON(uxml);\r\n                if (uaXML && uaXML.smans) {\r\n                    if (uaXML.smans.div) {\r\n                        let uans = uaXML.smans.div;\r\n                        if (Array.isArray(uans) == false) {\r\n                            uans = []\r\n                            uans[0] = uaXML.smans.div;\r\n                        }\r\n                        for (let j in uans) {\r\n                            if(uans[j]._id == \"dnd\"+data._id) {\r\n                                data._userans = uans[j]._userAns;\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n            textbox_data = [...textbox_data, data];\r\n        });\r\n    } else {\r\n        textbox_data = [];\r\n    }\r\n\r\n    afterUpdate( ()=> {\r\n        if (textbox_data.length > 0 && containerID != '') {\r\n            textbox.map(function (data) {\r\n                let eventArr = [\"onclick\",\"ondblclick\",\"oncontextmenu\",\"ondragstart\",\"ondrag\",\"ondragend\",\"ondrop\",\"onmouseover\",\"onmouseup\",\"onmousedown\",\"onchange\",\"onfocus\",\"onblur\",\"onkeyup\",\"onkeypress\",\"onkeydown\"];\r\n                let container = document.querySelector('#'+ containerID);\r\n                eventArr.forEach(function(value, index) {\r\n                    if (!!container) {\r\n                        let new_container = container.querySelectorAll(\".dnd\" + data._id);\r\n                        if (!!new_container) {\r\n                            new_container.forEach(function(element) {\r\n                                element.removeAttribute(eventArr[index])\r\n                            });\r\n                        }\r\n                    }\r\n                });\r\n\r\n                Object.keys(data).forEach(function(key){\r\n                    let evt = key.replace(\"_\",\"\").trim();\r\n                    if (eventArr.includes(evt) && !!container) {\r\n                        let new_container = container.querySelectorAll(\".dnd\" + data._id);\r\n                        if (!!new_container) {\r\n                            new_container.forEach(function(element) {\r\n                                element.setAttribute(evt, data[key]);\r\n                            });\r\n                        }\r\n                    }\r\n                });\r\n            });\r\n        }\r\n    })\r\n</script>\r\n\r\n<div>\r\n    {#if textbox_data && textbox_data.length > 0}\r\n        {#each textbox_data as data, index}\r\n                <div\r\n                    key=\"{index}\"\r\n                    id=\"{\"dnd\" + data._id}\"\r\n                    class=\"drag-resize dndTest\"\r\n                    style=\"\r\n                        position: absolute;\r\n                        top: {data._top}px;\r\n                        left: {data._left}px;\r\n                        height:{data._height}px;\r\n                        width: {data._width}px;\r\n                        z-index: 1;\r\n                    \"\r\n                >\r\n                    <input\r\n                        type={data._type}\r\n                        class=\"{\"dnd\" + data._id + \" dnd_textbox \" + data._custom_class}\"\r\n                        name=\"\"\r\n                        data-correctans = {(data._correctans) ? data._correctans : ''}\r\n                        data-userans = \"{(data._userans) ? data._userans : \"\"}\"\r\n                        data-udisplay = \"\"\r\n                        data-udisabled = \"\"\r\n                        data-defaultans = \"{(data._defaultans) ? data._defaultans : \"\"}\"\r\n                        placeholder = \"{(data._placeholder) ? data._placeholder : \"\"}\"\r\n                        data-nocase = \"{(data._nocase) ? data._nocase : \"\"}\"\r\n                        data-ismultipleanswer = \"{(data._ismultipleanswer) ? data._ismultipleanswer : \"\"}\"\r\n                    />\r\n            </div>\r\n        {/each}\r\n    {/if}\r\n</div>\r\n\r\n\t\t","<!--\r\n *  File Name   : DragPreview.svelte\r\n *  Description : Responsible for DragPreview\r\n *  Author      : Ayush Srivastava\r\n *  Package     : Drag and Drop (preview)\r\n *  Last update : 20-Jan-2021\r\n *  Last Updated By : Ayush Srivastava\r\n-->\r\n<script>\r\n    export let modules;\r\n    let drag = modules;\r\n    let drag_value = [];\r\n\r\n    $: if ( modules ) {\r\n        init()\r\n    } else {\r\n        drag_value = [];\r\n    }\r\n\r\n    // for initializing the drag\r\n    function init() {\r\n        if (Array.isArray(modules) == false) {\r\n            drag = []\r\n            drag[0] = modules;\r\n        } else {\r\n            drag = modules\r\n        }\r\n        drag_value = [];\r\n        drag.map(function (data) {\r\n            drag_value = [\r\n                ...drag_value, {\r\n                    id : \"dnd\" + data._id,\r\n                    caption: data._value,\r\n                    bgcolor: validColor(data._bgcolor,data._invisible),\r\n                    multi_drag: data._multi_drag,\r\n                    dragimage: (data._image) ? data._image.split(',')[1] : \"\",\r\n                    dropimage: (data._image) ? data._image.split(',')[2] : \"\",\r\n                    bgimage: (data._image) ? data._image.split(',')[0] : \"\",\r\n                    top: data._top+\"px\",\r\n                    left: data._left+\"px\",\r\n                    height: data._height+\"px\",\r\n                    width: data._width+\"px\",\r\n                    border: validBorderColor(data._border_color),\r\n                    backgroundColor: validColor(data._bgcolor,data._invisible),\r\n                    backgroundImage:((data._image) ? \"url('\"+ bgImage(data._image) +\"')\" : \"none\"),\r\n                    value: data._value\r\n                }\r\n            ]\r\n        });\r\n    }\r\n\r\n\tfunction validColor(_bgcolor, _invisible) {\r\n\t\tif (_invisible == \"1\") {\r\n\t\t\treturn \"\";\r\n\t\t} else if(_bgcolor) {\r\n\t\t\treturn _bgcolor;\r\n\t\t} else {\r\n\t\t\treturn \"#CCFFCC\";\r\n\t\t}\r\n\t}\r\n\r\n\tfunction validBorderColor(_bordercolor) {\r\n\t\tif(_bordercolor) {\r\n\t\t\treturn \"1px solid \"+_bordercolor;\r\n\t\t} else {\r\n\t\t\treturn \"\";\r\n\t\t}\r\n\t}\r\n\r\n\tfunction bgImage(img) {\r\n\t\tif(img) {\r\n\t\t\tlet str = img.split(',')[0];\r\n\t\t\treturn (window.inNative ? \"https://s3.amazonaws.com/jigyaasa_content_static/\" : \"https://s3.amazonaws.com/jigyaasa_content_static/\") + str;\r\n\t\t} else {\r\n\t\t\treturn \"\";\r\n\t\t}\r\n\t}\r\n</script>\t\r\n<div>\r\n    {#if drag_value && drag_value.length > 0}\r\n        {#each drag_value as data, index}\r\n            <div \r\n                key={index}\r\n                id={data.id}\r\n                draging=\"1\"\r\n                name=\"\"\r\n                class=\"drag-resize dragable ui-draggable dndTest\"\r\n                data-caption={data.caption}\r\n                data-bgcolor={data.bgcolor}\r\n                data-multi_drag={data.multi_drag}\r\n                data-dragimage={data.dragimage}\r\n                data-dropimage={data.dropimage}\r\n                data-bgimage={data.bgimage}\r\n                data-detail=\"\"\r\n                tabindex=\"0\"\r\n                data-path={(window.inNative ? \"https://s3.amazonaws.com/jigyaasa_content_static/\" : \"https://s3.amazonaws.com/jigyaasa_content_static/\")}\r\n                style=\"\r\n                    position: absolute;\r\n                    top: {data.top};\r\n                    left: {data.left};\r\n                    height: {data.height};\r\n                    width: {data.width};\r\n                    border: {data.border};\r\n                    background-color: {data.backgroundColor};\r\n                    background-image: {data.backgroundImage};\r\n                \"\r\n                aria-disabled=\"false\"\r\n            >\r\n                {#if data.value}<p>{@html data.value}</p>{/if}\t\r\n            </div>\r\n        {/each}\r\n    {/if}\r\n</div>","<!--\r\n *  File Name   : DropPreview.svelte\r\n *  Description : Responsible for DropPreview\r\n *  Author      : Ayush Srivastava\r\n *  Package     : Drag and Drop (preview)\r\n *  Last update : 20-Jan-2021\r\n *  Last Updated By : Ayush Srivastava\r\n-->\r\n<script>\r\n    import { XMLToJSON } from \"../../../helper/HelperAI.svelte\";\r\n    import { afterUpdate } from 'svelte';\r\n    export let modules;\r\n    export let containerID = '';\r\n    export let uxml = '';\r\n    let dropPreview = modules;\r\n    let drop_data = [];\r\n    $: if (modules) {\r\n        if (Array.isArray(modules) == false) {\r\n            dropPreview = []\r\n            dropPreview[0] = modules;\r\n        } else {\r\n            dropPreview = modules;\r\n        }\r\n        drop_data = [];\r\n        dropPreview.map(function(data) {\r\n            let ansKey = \"\";\r\n            if (data._anskey) {\r\n                let allAnsKey = data._anskey.split(\",\");\r\n                allAnsKey.forEach(function(value) {\r\n                    ansKey += \"dnd\" + value + \",\";  \r\n                });\r\n                ansKey = ansKey.slice(0, -1);\r\n            }\r\n\r\n            if (uxml != '') {\r\n                let uaXML = XMLToJSON(uxml);\r\n                if (uaXML && uaXML.smans) {\r\n                    if (uaXML.smans.div) {\r\n                        let uans = uaXML.smans.div;\r\n                        if (Array.isArray(uans) == false) {\r\n                            uans = []\r\n                            uans[0] = uaXML.smans.div;\r\n                        }\r\n                        for (let j in uans) {\r\n                            if (uans[j]._id == \"dnd\"+data._id) {\r\n                                data._userans = uans[j]._userAns;\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n\r\n            drop_data = [\r\n                ...drop_data, {\r\n                    id : \"dnd\"+data._id,\r\n                    anskey: (data._anskey)? ansKey : \"\",\r\n                    caption: data._value,\r\n                    userans: setUserAns(data._userans, data._defaultans),\r\n                    droped: setUserAns(data._userans, data._defaultans),\r\n                    bgcolor: validColor(data._bgcolor, data._invisible),\r\n                    top: data._top + \"px\",\r\n                    left: data._left + \"px\",\r\n                    height: data._height + \"px\",\r\n                    width: data._width + \"px\",\r\n                    border: validBorderColor(data._border),\r\n                }\r\n            ];\r\n        });\r\n    } else {\r\n        dropPreview = [];\r\n        drop_data = [];\r\n    }\r\n\r\n    afterUpdate(() => {\r\n        if (dropPreview && drop_data.length > 0 && containerID != '') {\r\n            dropPreview.map(function (data) {\r\n                let eventArr = [\"onclick\",\"ondblclick\",\"oncontextmenu\",\"ondragstart\",\"ondrag\",\"ondragend\",\"ondrop\",\"onmouseover\",\"onmouseup\",\"onmousedown\",\"onchange\",\"onfocus\",\"onblur\",\"onkeyup\",\"onkeypress\",\"onkeydown\"];\r\n                let container = document.querySelector('#'+ containerID);\r\n                eventArr.forEach(function(value, index) {\r\n                    if (!!container) {\r\n                        let new_container = container.querySelectorAll(\"#dnd\" + data._id);\r\n                        if (!!new_container) {\r\n                            new_container.forEach(function(element) {\r\n                                element.removeAttribute(eventArr[index])\r\n                            });\r\n                        }\r\n                    }\r\n                });\r\n\r\n                Object.keys(data).forEach(function(key){\r\n                    let evt = key.replace(\"_\",\"\").trim();\r\n                    if (eventArr.includes(evt) && !!container) {\r\n                        let new_container = container.querySelectorAll(\"#dnd\" + data._id);\r\n                        if (!!new_container) {\r\n                            new_container.forEach(function(element) {\r\n                                element.setAttribute(evt, data[key]);\r\n                            });\r\n                        }\r\n                    }\r\n                });\r\n            });\r\n        }\r\n    });\r\n\r\n\tfunction validColor(_bgcolor, _invisible) {\r\n\t\tif (_invisible == \"1\") {\r\n\t\t\treturn \"\";\r\n\t\t} else if (_bgcolor) {\r\n\t\t\treturn _bgcolor;\r\n\t\t} else {\r\n\t\t\treturn \"#FFFFCC\";\r\n\t\t}\r\n\t}\r\n\r\n\tfunction validBorderColor(_bordercolor) {\r\n\t\tif (_bordercolor) {\r\n\t\t\treturn \"1px solid \" + _bordercolor;\r\n\t\t} else {\r\n\t\t\treturn \"\";\r\n\t\t}\r\n\t}\r\n\r\n\tfunction setUserAns(uans, defaultans) {\r\n\t\tif (uans) {\r\n\t\t\treturn uans;\r\n\t\t} else if (defaultans) {\r\n\t\t\treturn defaultans;\r\n\t\t} else {\r\n\t\t\treturn \"\";\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<div>\r\n    {#if drop_data && drop_data.length > 0}\r\n        {#each drop_data as data, index}\r\n            <div \r\n                key={index}\r\n                id={data.id}\r\n                name=\"\"\r\n                tabindex=\"0\"\r\n                data-anskey={data.anskey}\r\n                data-caption={data.caption}\r\n                data-userans={data.userans}\r\n                data-droped={data.droped}\r\n                data-bgcolor={data.bgcolor}\r\n                data-path={(window.inNative ? \"https://s3.amazonaws.com/jigyaasa_content_static/\" : \"https://s3.amazonaws.com/jigyaasa_content_static/\")}\r\n                data-dragimage=\"\"\r\n                data-dropimage=\"\"\r\n                data-bgimage=\"\"\r\n                class=\"drag-resize dropable ui-droppable dndTest\"\r\n                droping= {data.userans ? '2' : '1'}\r\n                style=\"\r\n                    position: absolute;\r\n                    top: {data.top};\r\n                    left: {data.left};\r\n                    height: {data.height};\r\n                    width: {data.width};\r\n                    border: {data.border};\r\n                    z-index: 1 \r\n                \"\r\n            >\r\n                <p></p>\r\n            </div>\r\n        {/each}\r\n    {/if}\r\n</div>\r\n","<!--\r\n *  File Name   : SelectPreview.svelte\r\n *  Description : Responsible for SelectPreview\r\n *  Author      : Ayush Srivastava\r\n *  Package     : Drag and Drop (preview)\r\n *  Last update : 20-Jan-2021\r\n *  Last Updated By : Ayush Srivastava\r\n-->\r\n<script>\r\nimport { afterUpdate } from \"svelte\";\r\nimport { XMLToJSON } from \"../../../helper/HelperAI.svelte\";\r\n\r\nexport let modules;\r\nexport let containerID = '';\r\nexport let uxml = '';\r\nlet user_ans = 0;\r\nlet select_data = [];\r\nlet select = modules;\r\n\r\n$: if (modules) {\r\n    if (Array.isArray(modules) == false) {\r\n        select = []\r\n        select[0] = modules;\r\n    } else {\r\n        select = modules;\r\n    }\r\n    select_data = [];\r\n    select.map( function (data) {\r\n        if(uxml != '') {\r\n            let uaXML = XMLToJSON(uxml);\r\n            if (uaXML && uaXML.smans) {\r\n                if(uaXML.smans.div) {\r\n                    let uans = uaXML.smans.div;\r\n                    if(Array.isArray(uans) == false) {\r\n                        uans = []\r\n                        uans[0] = uaXML.smans.div;\r\n                    }\r\n                    for(let j in uans) {\r\n                        if(uans[j]._id == \"dnd\"+data._id) {\r\n                            data._userans = uans[j]._userAns;\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n\r\n        let option = [];\r\n        if (data.__text) {\r\n            data.__text.split(\"\\n\").map(function(option_data, index) {\r\n                if (data._userans == ( index + 1 ) + \",\") {\r\n                    user_ans = 1;\r\n                } else {\r\n                    user_ans = 0;\r\n                }\r\n                if (option_data.trim().charAt(0) == \"+\") {\r\n                    option.push({\r\n                        key: index,\r\n                        correctans: 0,\r\n                        defaultans: 1,\r\n                        userans: (user_ans) ? user_ans : '',\r\n                        text: option_data.trim().slice(1),\r\n                        selected : 1,\r\n                    })\r\n                } else if (option_data.trim().charAt(0) == \"*\") {\r\n                    option.push({\r\n                        key: index,\r\n                        correctans: 1,\r\n                        defaultans: 0,\r\n                        userans: (user_ans) ? user_ans : '',\r\n                        text: option_data.trim().slice(1),\r\n                    })\r\n                } else {\r\n                    option.push({\r\n                        key: index,\r\n                        correctans: 0,\r\n                        defaultans: 0,\r\n                        userans: (user_ans) ? user_ans : '',\r\n                        text: option_data.trim(),\r\n                    })\r\n                }\r\n            });\r\n        }\r\n        select_data = [\r\n            ...select_data , {\r\n                id : \"dnd\" + data._id,\r\n                top: data._top + \"px\",\r\n                left: data._left + \"px\",\r\n                height: data._height + \"px\" ,\r\n                width: data._width + \"px\",\r\n                userans: (data._userans) ? data._userans : \"\",\r\n                select: option\r\n            }\r\n        ];\r\n    });\r\n} else {\r\n    select_data = [];\r\n}\r\nafterUpdate(()=> {\r\n    if (select_data.length > 0 && containerID != '') {\r\n        select.map(function (data) {\r\n            let eventArr = [\"onclick\",\"ondblclick\",\"oncontextmenu\",\"ondragstart\",\"ondrag\",\"ondragend\",\"ondrop\",\"onmouseover\",\"onmouseup\",\"onmousedown\",\"onchange\",\"onfocus\",\"onblur\",\"onkeyup\",\"onkeypress\",\"onkeydown\"];\r\n            let container = document.querySelector('#'+ containerID);\r\n            eventArr.forEach(function(value, index) {\r\n                if (!!container) {\r\n                    let new_container = container.querySelectorAll(\".dnd\" + data._id);\r\n                    if (!!new_container) {\r\n                        new_container.forEach(function(element) {\r\n                            element.removeAttribute(eventArr[index])\r\n                        });\r\n                    }\r\n                }\r\n            });\r\n            Object.keys(data).forEach(function(key) {\r\n                let evt = key.replace(\"_\",\"\").trim();\r\n                if (eventArr.includes(evt) && !!container) {\r\n                    let new_container = container.querySelectorAll(\".dnd\" + data._id);\r\n                    if (!!new_container) {\r\n                        new_container.forEach(function(element) {\r\n                            element.setAttribute(evt, data[key]);\r\n                        });\r\n                    }\r\n                }\r\n            });\r\n        });\r\n    }\r\n})\r\n</script>\r\n<div>\r\n    {#if select_data && select_data.length > 0}\r\n        {#each select_data as data, index}\r\n            <div\r\n                key={index}\r\n                as=\"-1\"\r\n                id= {data.id}\r\n                class=\"drag-resize dndTest\"\r\n                style=\"\r\n                    position: absolute;\r\n                    top: {data.top};\r\n                    left: {data.left};\r\n                    height: {data.height};\r\n                    width: {data.width};\r\n                    z-index: 1;\r\n                \"\r\n            >\r\n                <select\r\n                    class = {data.id + \" dnd_select align_baseline_middle\"}\r\n                    name=\"\"\r\n                    size=\"0\"\r\n                    data-userans={data.userans}\r\n                    data-udisplay=\"\"\r\n                    data-udisabled=\"\"\r\n                    data-correctans=\"\"\r\n                    data-defaultans=\"\"\r\n                >\r\n                    {#if data.select.length}\r\n                        {#each data.select as option}\r\n                            {#if option.selected == 1} \r\n                                <option selected=\"selected\" key={option.key} data-correctans={option.correctans} data-defaultans={option.defaultans} data-userans={option.userans} value={option.key + 1}>{option.text}</option>\r\n                            {:else}\r\n                                <option key={option.key} data-correctans={option.correctans} data-defaultans={option.defaultans} data-userans={option.userans} value={option.key}>{option.text}</option>\r\n                            {/if}\r\n                        {/each}\r\n                    {:else}\r\n                        <option>Please Select</option>\r\n                    {/if}\r\n                </select>\r\n            </div>\r\n        {/each}\r\n    {/if}\r\n</div>","<!--\r\n *  File Name   : RadioPreview.svelte\r\n *  Description : Responsible for RadioPreview\r\n *  Author      : Ayush Srivastava\r\n *  Package     : Drag and Drop (preview)\r\n *  Last update : 20-Jan-2021\r\n *  Last Updated By : Ayush Srivastava\r\n-->\r\n<script>\r\n    import { afterUpdate } from \"svelte\";\r\n    import { XMLToJSON } from \"../../../helper/HelperAI.svelte\";\r\n\r\n    export let modules;\r\n    export let containerID = '';\r\n    export let uxml = '';\r\n    let radio_data = [];\r\n    let radio = modules;\r\n\r\n    $: if (modules) {\r\n        if (Array.isArray(modules) == false) {\r\n            radio = []\r\n            radio[0] = modules;\r\n        } else {\r\n            radio = modules;\r\n        }\r\n\r\n        radio_data = [];\r\n        radio.map( function (data) {\r\n            if(uxml != '') {\r\n                let uaXML = XMLToJSON(uxml);\r\n                if(uaXML && uaXML.smans) {\r\n                    if(uaXML.smans.div) {\r\n                        let uans = uaXML.smans.div;\r\n                        if(Array.isArray(uans) == false) {\r\n                            uans = []\r\n                            uans[0] = uaXML.smans.div;\r\n                        }\r\n                        for (let j in uans) {\r\n                            if (uans[j]._id == \"dnd\" + data._id) {\r\n                                data._userans = uans[j]._userAns;\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n\r\n            radio_data = [\r\n                ...radio_data ,{\r\n                    id : data._id,\r\n                    top: data._top + \"px\",\r\n                    left: data._left + \"px\",\r\n                    height: data._height + \"px\" ,\r\n                    width: data._width + \"px\",\r\n                    userans: (data._userans) ? data._userans : \"\",\r\n                    correctans: data._correctans,\r\n                    defaultans: data._defaultans,\r\n                    checktype: data._checktype,\r\n                    name: data._name,\r\n                }\r\n            ]\r\n        });\r\n    } else {\r\n        radio_data = [];\r\n    }\r\n\r\n    afterUpdate(()=> {\r\n        if (radio_data.length > 0 && containerID != '') {\r\n            radio.map( function (data) {\r\n                let eventArr = [\"onclick\",\"ondblclick\",\"oncontextmenu\",\"ondragstart\",\"ondrag\",\"ondragend\",\"ondrop\",\"onmouseover\",\"onmouseup\",\"onmousedown\",\"onchange\",\"onfocus\",\"onblur\",\"onkeyup\",\"onkeypress\",\"onkeydown\"];\r\n                let container = document.querySelector('#'+ containerID);\r\n                eventArr.forEach(function(value, index) {\r\n                    if (!!container) {\r\n                        let new_container = container.querySelectorAll(\".dnd\" + data._id);\r\n                        if (!!new_container) {\r\n                            new_container.forEach(function(element) {\r\n                                element.removeAttribute(eventArr[index])\r\n                            });\r\n                        }\r\n                    }\r\n                });\r\n                Object.keys(data).forEach(function(key){\r\n                    let evt = key.replace(\"_\",\"\").trim();\r\n                    if (eventArr.includes(evt) && !!container) {\r\n                        let new_container = container.querySelectorAll(\".dnd\" + data._id);\r\n                        if (!!new_container) {\r\n                            new_container.forEach(function(element) {\r\n                                element.setAttribute(evt, data[key]);\r\n                            });\r\n                        }\r\n                    }\r\n                });\r\n            });\r\n        }\r\n    })\r\n</script>\r\n\r\n<div>\r\n    {#if radio_data && radio_data.length > 0}\r\n        {#each radio_data as data, index}\r\n            <div\r\n                key={index}\r\n                as=\"-1\"\r\n                id= {\"dnd\" + data.id}\r\n                class=\"only-dragable dndTest\"\r\n                style=\"\r\n                    position: absolute;\r\n                    top: {data.top};\r\n                    left: {data.left};\r\n                    height: {data.height};\r\n                    width: {data.width};\r\n                    z-index: 1;\r\n                \"\r\n            >\r\n                {#if data.defaultans == \"1\" && data.userans == ''}\r\n                    <input \r\n                        type=\"radio\"\r\n                        id={\"rad\" + data.id} \r\n                        class={\"dnd\" + data.id + \" custRad dndradio\"} \r\n                        data-title={data.id}\r\n                        data-correctans={data.correctans}\r\n                        data-defaultans={data.defaultans}\r\n                        data-userans={1}\r\n                        checked=\"checked\"\r\n                        data-udisplay=\"\"\r\n                        data-udisabled=\"\"\r\n                        data-checktype={data.checktype}\r\n                        name={data.name}\r\n                        value=\"1\"\r\n                    />\r\n                {:else}\r\n                    <input \r\n                        type=\"radio\"\r\n                        id={\"rad\" + data.id} \r\n                        class={\"dnd\" + data.id + \" custRad dndradio\"} \r\n                        data-title={data.id}\r\n                        data-correctans={data.correctans}\r\n                        data-defaultans={data.defaultans}\r\n                        data-userans={data.userans}\r\n                        data-udisplay=\"\"\r\n                        data-udisabled=\"\"\r\n                        data-checktype={data.checktype}\r\n                        name={data.name}\r\n                        value=\"0\"\r\n                    />\r\n                {/if}\r\n                <label\r\n                    for={\"rad\" + data.id}\r\n                    class={((data.checktype == \"true\") ? \"tureitemColor\" : \"falseitemColor\") + \" customRad radio_sim \" + ((window.inNative) ? \"native\" : \"\" )}\r\n                    data-correctans=\"\"\r\n                    data-userans=\"\"\r\n                    data-defaultans=\"\"\r\n                >\r\n                </label>\r\n            </div>\r\n        {/each}\r\n    {/if}\r\n</div>","<!--\r\n *  File Name   : MultilineboxPreview.svelte\r\n *  Description : Responsible for MultilineboxPreview\r\n *  Author      : Ayush Srivastava\r\n *  Package     : Drag and Drop (preview)\r\n *  Last update : 20-Jan-2021\r\n *  Last Updated By : Ayush Srivastava\r\n-->\r\n<script>\r\n    import { afterUpdate } from \"svelte\";\r\n    import { XMLToJSON } from \"../../../helper/HelperAI.svelte\";\r\n    export let modules;\r\n    export let containerID = '';\r\n    export let uxml = '';\r\n    let multilinebox_data = [];\r\n    let multilinebox_preview = modules;\r\n\r\n    $: if (modules) {\r\n        if (Array.isArray(modules) == false) {\r\n            multilinebox_preview = []\r\n            multilinebox_preview[0] = modules;\r\n        } else {\r\n            multilinebox_preview = modules;\r\n        }\r\n\r\n        multilinebox_data = [];\r\n        multilinebox_preview.map( function (data) {\r\n            if (uxml != '') {\r\n                let uaXML = XMLToJSON(uxml);\r\n                if (uaXML && uaXML.smans) {\r\n                    if (uaXML.smans.div) {\r\n                        let uans = uaXML.smans.div;\r\n                        if (Array.isArray(uans) == false) {\r\n                            uans = []\r\n                            uans[0] = uaXML.smans.div;\r\n                        }\r\n                        for (let j in uans) {\r\n                            if(uans[j]._id == \"dnd\"+data._id) {\r\n                                data._userans = uans[j]._userAns;\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n\r\n            multilinebox_data = [\r\n                ...multilinebox_data , {\r\n                id : data._id,\r\n                top: data._top + \"px\",\r\n                left: data._left + \"px\",\r\n                height: data._height + \"px\" ,\r\n                width: data._width + \"px\",\r\n                correctans: ((data.correctans) ? setCorrect(data.correctans):\"\"),\r\n                defaultans: ((data.defaultans) ? data.defaultans.__cdata : \"\"),\r\n                parser: ((data._parser) ? data._parser : \"\"),\r\n                placeholder: (data._placeholder) ? data._placeholder : \"\",\r\n                nocase : data._nocase,\r\n                userans: (data._userans) ? data._userans : '',\r\n                classes: \"dnd\" + data._id + \" dnd_textarea \" + data._custom_class\r\n            }];\r\n        });\r\n    } else {\r\n        multilinebox_data = [];\r\n    }\r\n\r\n    function setCorrect(crt){\r\n\t\tif(crt.__cdata) {\r\n\t\t\treturn crt.__cdata\r\n\t\t} else if (typeof (crt) == 'object' && crt[0]) {\r\n            return (crt[0].__cdata) ? (crt[0].__cdata) : crt[0];\r\n\t\t} else if (typeof crt == \"string\" && crt.length > 1) {\r\n\t\t\treturn crt;\r\n\t\t} else {\r\n\t\t\treturn \"\";\r\n\t\t}\r\n\t}\r\n\r\n    // was created in js unused function for now but keeping it fot future reference\r\n\t// function changeStep(data) {\r\n\t// \tlet id = data.match(/('.*?')/gm);\r\n\t// \tid = id[0].replace(/'|\"/gm,'');\r\n\t// \tsetStep(id);\r\n\t// }\r\n\r\n    afterUpdate(()=> {\r\n        if (multilinebox_data.length > 0 && containerID != '') {\r\n            multilinebox_preview.map( function (data) {\r\n                let eventArr = [\"onclick\",\"ondblclick\",\"oncontextmenu\",\"ondragstart\",\"ondrag\",\"ondragend\",\"ondrop\",\"onmouseover\",\"onmouseup\",\"onmousedown\",\"onchange\",\"onfocus\",\"onblur\",\"onkeyup\",\"onkeypress\",\"onkeydown\"];\r\n                let container = document.querySelector('#'+ containerID);\r\n                eventArr.forEach(function(value, index) {\r\n                    if (!!container) {\r\n                        let new_container = container.querySelectorAll(\".dnd\" + data._id);\r\n                        if (!!new_container) {\r\n                            new_container.forEach(function(element) {\r\n                                element.removeAttribute(eventArr[index])\r\n                            });\r\n                        }\r\n                    }\r\n                });\r\n                Object.keys(data).forEach(function(key){\r\n                    let evt = key.replace(\"_\",\"\").trim();\r\n                    if (eventArr.includes(evt) && !!container) {\r\n                        let new_container = container.querySelectorAll(\".dnd\" + data._id);\r\n                        if (!!new_container) {\r\n                            new_container.forEach(function(element) {\r\n                                element.setAttribute(evt, data[key]);\r\n                            });\r\n                        }\r\n                    }\r\n                });\r\n            });\r\n        }\r\n    })\r\n</script>\r\n\r\n<div>\r\n    {#if multilinebox_data && multilinebox_data.length > 0}\r\n        {#each multilinebox_data as data, index}\r\n                <div\r\n                key={index}\r\n                id={\"dnd\"+data.id}\r\n                class=\"drag-resize dndTest\"\r\n                style=\"\r\n                    position: absolute;\r\n                    top: {data.top};\r\n                    left: {data.left};\r\n                    height: {data.height};\r\n                    width: {data.width};  \r\n                    z-index: 1;              \r\n                \"\r\n            >\r\n                <textarea \r\n                    class={data.classes} \r\n                    data-title={data.id}\r\n                    data-correctans={data.correctans}\r\n                    data-defaultans={((data.defaultans)?data.defaultans.__cdata:\"\")}\r\n                    data-parser={data.parser}\r\n                    placeholder={data.placeholder}\r\n                    data-nocase={data.nocase}\r\n                    data-userans={data.userans}\r\n                ></textarea>\r\n            </div>\r\n        {/each}\r\n    {/if}\r\n</div>","<!--\r\n *  File Name   : CheckboxPreview.svelte\r\n *  Description : Responsible for CheckboxPreview\r\n *  Author      : Ayush Srivastava\r\n *  Package     : Drag and Drop (preview)\r\n *  Last update : 20-Jan-2021\r\n *  Last Updated By : Ayush Srivastava\r\n-->\r\n<script>\r\n    import { XMLToJSON } from \"../../../helper/HelperAI.svelte\";\r\n    import { afterUpdate } from 'svelte';\r\n\r\n    export let modules;\r\n    export let containerID = '';\r\n    export let uxml = '';\r\n    let checkbox_data = [];\r\n    let checkbox = modules;\r\n\r\n    $: if (modules) {\r\n        if (Array.isArray(modules) == false) {\r\n            checkbox = []\r\n            checkbox[0] = modules;\r\n        } else {\r\n            checkbox = modules;\r\n        }\r\n        \r\n        checkbox_data = [];\r\n        checkbox.map(function (data) {\r\n            if (uxml != '') {\r\n                let uaXML = XMLToJSON(uxml);\r\n                if (uaXML && uaXML.smans) {\r\n                    if (uaXML.smans.div) {\r\n                        let uans = uaXML.smans.div;\r\n                        if (Array.isArray(uans) == false) {\r\n                            uans = []\r\n                            uans[0] = uaXML.smans.div;\r\n                        }\r\n                        for (let j in uans) {\r\n                            if(uans[j]._id == \"dnd\"+data._id) {\r\n                                data._userans = uans[j]._userAns;\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n\r\n            checkbox_data = [\r\n                ...checkbox_data, {\r\n                    top: data._top + \"px\",\r\n                    left: data._left + \"px\",\r\n                    height: data._height + \"px\",\r\n                    width: data._width + \"px\",\r\n                    id: data._id,\r\n                    userans: (data._userans) ? data._userans : \"\",\r\n                    correctans: (data._correctans) ? data._correctans : \"\",\r\n                    defaultans: (data._defaultans) ? data._defaultans : \"\",\r\n                }\r\n            ];\r\n        });\r\n    } else {\r\n        checkbox_data = [];\r\n    }\r\n\r\n    afterUpdate( ()=> {\r\n        if (checkbox_data && checkbox_data.length > 0 && containerID != '') {\r\n            checkbox.map(function (data) {\r\n                let eventArr = [\"onclick\",\"ondblclick\",\"oncontextmenu\",\"ondragstart\",\"ondrag\",\"ondragend\",\"ondrop\",\"onmouseover\",\"onmouseup\",\"onmousedown\",\"onchange\",\"onfocus\",\"onblur\",\"onkeyup\",\"onkeypress\",\"onkeydown\"];\r\n                let container = document.querySelector('#'+ containerID);\r\n                eventArr.forEach(function(value, index) {\r\n                    if (!!container) {\r\n                        let new_container = container.querySelectorAll(\".dnd\" + data._id);\r\n                        if (!!new_container) {\r\n                            new_container.forEach(function(element) {\r\n                                element.removeAttribute(eventArr[index])\r\n                            });\r\n                        }\r\n                    }\r\n                });\r\n\r\n                Object.keys(data).forEach(function(key){\r\n                    let evt = key.replace(\"_\",\"\").trim();\r\n                    if (eventArr.includes(evt) && !!container) {\r\n                        let new_container = container.querySelectorAll(\".dnd\" + data._id);\r\n                        if (!!new_container) {\r\n                            new_container.forEach(function(element) {\r\n                                element.setAttribute(evt, data[key]);\r\n                            });\r\n                        }\r\n                    }\r\n                });\r\n            });\r\n        }\r\n    })\r\n</script>\r\n\r\n<div>\r\n    {#if checkbox_data.length > 0}\r\n        {#each checkbox_data as data, index}\r\n            <div\r\n                key={index}\r\n                id={\"dnd\"+data.id}\r\n                class=\"only-dragable dndTest\"\r\n                style=\"\r\n                    position: absolute;\r\n                    top: {data.top};\r\n                    left: {data.left};\r\n                    height: {data.height};\r\n                    width: {data.width};\r\n                \"\r\n            >\r\n                {#if data.defaultans == \"1\" && data.userans == ''} \r\n                    <input \r\n                        type=\"checkbox\"\r\n                        class={\"dnd\" + data.id + \" dndcheckbox\"} \r\n                        data-correctans={data.correctans}\r\n                        data-defaultans={data.defaultans}\r\n                        data-userans=\"1\"\r\n                        data-udisplay=\"\"\r\n                        data-udisabled=\"\"\r\n                        name=\"\"\r\n                        value=\"\"\r\n                        checked = {true}\r\n                    />\r\n                {:else}\r\n                    <input \r\n                        type=\"checkbox\"\r\n                        class={\"dnd\" + data.id + \" dndcheckbox\"} \r\n                        data-correctans={data.correctans}\r\n                        data-defaultans={data.defaultans}\r\n                        data-userans={data.userans}\r\n                        data-udisplay=\"\"\r\n                        data-udisabled=\"\"\r\n                        name=\"\"\r\n                        value=\"\"\r\n                    />\r\n                {/if}\r\n            </div>\r\n        {/each}\r\n    {/if}\r\n</div>\r\n\r\n\t\t","<!--\r\n *  File Name   : TabheadPreview.svelte\r\n *  Description : Responsible for TabheadPreview\r\n *  Author      : Ayush Srivastava\r\n *  Package     : Drag and Drop (preview)\r\n *  Last update : 20-Jan-2021\r\n *  Last Updated By : Ayush Srivastava\r\n-->\r\n<script>\r\n    import { afterUpdate } from 'svelte';\r\n\r\n    export let modules;\r\n    export let containerID = '';\r\n    let tabhead_data = [];\r\n    let tabhead = modules;\r\n    $: if (modules) {\r\n        if (Array.isArray(modules) == false) {\r\n            tabhead = []\r\n            tabhead[0] = modules;\r\n        } else {\r\n            tabhead = modules;\r\n        }\r\n        tabhead_data = [];\r\n        \r\n\r\n\r\n        tabhead.map(function (data) {\r\n            let styling = changeStyletoString(Object.assign({\r\n                position: 'absolute',\r\n                top: data._top + \"px\",\r\n                left: data._left + \"px\",\r\n                height: data._height + \"px\" ,\r\n                width: data._width + \"px\",\r\n            }, addInlineStyle(data._style)));\r\n\r\n            tabhead_data = [\r\n                ...tabhead_data, {\r\n                    top: data._top + \"px\",\r\n                    left: data._left + \"px\",\r\n                    height: data._height + \"px\",\r\n                    width: data._width + \"px\",\r\n                    styles: styling,\r\n                    id: data._id,\r\n                    classes: \"drag-resize dndtabhead dndTest \" + data._class\r\n                }\r\n            ];\r\n        });\r\n    } else {\r\n        tabhead_data = [];\r\n    }\r\n\r\n    afterUpdate( ()=> {\r\n        if (tabhead_data.length > 0 && containerID != '') {\r\n            tabhead.map(function (data) {\r\n                let eventArr = [\"onclick\",\"ondblclick\",\"oncontextmenu\",\"ondragstart\",\"ondrag\",\"ondragend\",\"ondrop\",\"onmouseover\",\"onmouseup\",\"onmousedown\",\"onchange\",\"onfocus\",\"onblur\",\"onkeyup\",\"onkeypress\",\"onkeydown\"];\r\n                let container = document.querySelector('#'+ containerID);\r\n                eventArr.forEach(function(value, index) {\r\n                    if (!!container) {\r\n                        let new_container = container.querySelectorAll(\"#dnd\" + data._id);\r\n                        if (!!new_container) {\r\n                            new_container.forEach(function(element) {\r\n                                element.removeAttribute(eventArr[index])\r\n                            });\r\n                        }\r\n                    }\r\n                });\r\n\r\n                Object.keys(data).forEach(function(key){\r\n                    let evt = key.replace(\"_\",\"\").trim();\r\n                    if (eventArr.includes(evt) && !!container) {\r\n                        let new_container = container.querySelectorAll(\"#dnd\" + data._id);\r\n                        if (!!new_container) {\r\n                            new_container.forEach(function(element) {\r\n                                element.setAttribute(evt, data[key]);\r\n                            });\r\n                        }\r\n                    }\r\n                });\r\n            });\r\n        }\r\n    })\r\n\r\n    // function for getting the style sheet from the object in string format\r\n    function changeStyletoString(data) {\r\n        let style = '';\r\n        for (let key in data) { \r\n            style += key.replace(/_/g, '-') + \":\" + data[key] + \";\";\r\n        }\r\n        return style;\r\n    }\r\n\r\n    // function for adding inline style from the object\r\n    function addInlineStyle(stylesheet) {\r\n\t\tif (typeof stylesheet != \"undefined\") {\r\n\t\t\tlet style = {};\r\n\t\t\tlet inlineStyle = stylesheet.split(\";\");\r\n\t\t\tinlineStyle.map(function(value) {\r\n\t\t\t\ttry {\r\n\t\t\t\t\tlet new_property  = value.split(\":\");\r\n\t\t\t\t\tstyle[new_property[0]] = new_property[1];\r\n\t\t\t\t} catch(err) {\r\n\t\t\t\t\tconsole.warn(err);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\treturn (style);\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<div>\r\n    {#if tabhead_data && tabhead_data.length > 0}\r\n        {#each tabhead_data as data, index}\r\n            <div\r\n                key={index}\r\n                id={\"dnd\"+data.id}\r\n\t\t\t\tdata-type=\"tabhead\"\r\n                class={data.classes}\r\n                style={data.styles}\r\n                name=\"\"\r\n                data-userans=\"\"\r\n                data-udisplay=\"\"\r\n                data-udisabled=\"\"\r\n            >\r\n            </div>\r\n        {/each}\r\n    {/if}\r\n</div>\r\n\r\n\t\t","<!--\r\n *  File Name   : LabelPreview.svelte\r\n *  Description : Responsible for LabelPreview\r\n *  Author      : Ayush Srivastava\r\n *  Package     : Drag and Drop (preview)\r\n *  Last update : 20-Jan-2021\r\n *  Last Updated By : Ayush Srivastava\r\n-->\r\n<script>\r\n    import { afterUpdate } from \"svelte\";\r\n    import { AH } from \"../../../helper/HelperAI.svelte\";\r\n    export let modules;\r\n    export let containerID = '';\r\n\t\t\t\t\r\n    let label_preview_data = [];\r\n    let labelPreview = modules;\r\n    \r\n    $: if (modules) {\r\n        if (Array.isArray(modules) == false) {\r\n            labelPreview = []\r\n            labelPreview[0] = modules;\r\n        } else {\r\n            labelPreview = modules;\r\n        }\r\n        label_preview_data = [];\r\n        labelPreview.map( function (data) {\r\n            let styling = changeStyletoString(Object.assign({\r\n                position: 'absolute',\r\n                top: data._top + \"px\",\r\n                left: data._left + \"px\",\r\n                height: data._height + \"px\" ,\r\n                width: data._width + \"px\",\r\n                border: data._border_size + \"px solid \" + data._border_color,\r\n                background_color : data._background_color,\r\n            }, addInlineStyle(data._style)));\r\n\r\n            let para_styling = changeStyletoString(addParaStyle(data));\r\n\r\n            label_preview_data = [\r\n                ...label_preview_data, {\r\n                id : data._id,\r\n                style : styling,\r\n                classes: \"dndlabel dndTest \"+((data._label_class) ? data._label_class : \"\"),\r\n                paraStyle: para_styling,\r\n                parahtml:  setInnerHtml(data._richtext ? data.__cdata : ((data._title != undefined) ? AH.ignoreEnity(data._title) : ''))\r\n            }];\r\n        });\r\n    } else {\r\n        label_preview_data = [];\r\n    }\r\n\r\n    // function for getting the style sheet from the object in string format\r\n    function changeStyletoString(data) {\r\n        let style = '';\r\n        for (let key in data) { \r\n            style += key.replace(/_/g, '-') + \":\" + data[key] + \";\";\r\n        }\r\n        return style;\r\n    }\r\n\r\n    // for adding inline paragraph style\r\n    function addParaStyle(data) {\r\n\t\tif (typeof data._label_class != \"undefined\") {\r\n\t\t\treturn addInlineStyle(data._style);\r\n\t\t}\r\n    }\r\n\r\n    // function for setting inner html\r\n    function setInnerHtml(htmlEnt) {\r\n        return (htmlEnt ? htmlEnt.replace(/&#(\\d+);/g, function(match, dec) {\r\n            return String.fromCharCode(dec);\r\n        }) : \"\" );\r\n    }\r\n\r\n    // function for adding inline style from the object\r\n    function addInlineStyle(stylesheet) {\r\n\t\tif (typeof stylesheet != \"undefined\") {\r\n\t\t\tlet style = {};\r\n\t\t\tlet inlineStyle = stylesheet.split(\",\");\r\n\t\t\tinlineStyle.map(function(value) {\r\n\t\t\t\ttry {\r\n\t\t\t\t\tlet new_property  = value.split(\":\");\r\n\t\t\t\t\tstyle[new_property[0]] = new_property[1];\r\n\t\t\t\t} catch(err) {\r\n\t\t\t\t\tconsole.warn(err);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\treturn (style);\r\n\t\t}\r\n\t}\r\n\r\n    afterUpdate(()=> {\r\n        if (label_preview_data.length > 0 && containerID != '') {\r\n            labelPreview.map( function (data) {\r\n                let eventArr = [\"onclick\",\"ondblclick\",\"oncontextmenu\",\"ondragstart\",\"ondrag\",\"ondragend\",\"ondrop\",\"onmouseover\",\"onmouseup\",\"onmousedown\",\"onchange\",\"onfocus\",\"onblur\",\"onkeyup\",\"onkeypress\",\"onkeydown\"];\r\n                let container = document.querySelector('#'+ containerID);\r\n                eventArr.forEach(function(value, index) {\r\n                    if (!!container) {\r\n                        let new_container = container.querySelectorAll(\"#dnd\" + data._id);\r\n                        if (!!new_container) {\r\n                            new_container.forEach(function(element) {\r\n                                element.removeAttribute(eventArr[index])\r\n                            });\r\n                        }\r\n                    }\r\n                });\r\n                Object.keys(data).forEach(function(key){\r\n                    let evt = key.replace(\"_\",\"\").trim();\r\n                    if (eventArr.includes(evt) && !!container) {\r\n                        let new_container = container.querySelectorAll(\"#dnd\" + data._id);\r\n                        if (!!new_container) {\r\n                            new_container.forEach(function(element) {\r\n                                element.setAttribute(evt, data[key]);\r\n                            });\r\n                        }\r\n                    }\r\n                });\r\n            });\r\n        }\r\n    })\r\n</script>\r\n\r\n<div>\r\n    {#if label_preview_data && label_preview_data.length}\r\n        {#each label_preview_data as data, index}\r\n            <!-- svelte-ignore a11y-positive-tabindex -->\r\n            <div\r\n                key={index}\r\n                id={\"dnd\"+data.id}\r\n                class={data.classes}\r\n                tabindex=\"1\"\r\n                style={data.style}\r\n            >\r\n                <p class='pl_7' style={data.paraStyle}>{data.parahtml}</p>\r\n            </div>\r\n        {/each}\r\n    {/if}\r\n</div>","<!--\r\n *  File Name   : HotspotPreview.svelte\r\n *  Description : Responsible for HotspotPreview\r\n *  Author      : Ayush Srivastava\r\n *  Package     : Drag and Drop (preview)\r\n *  Last update : 20-Jan-2021\r\n *  Last Updated By : Ayush Srivastava\r\n-->\r\n<script>\r\n    import { XMLToJSON } from \"../../../helper/HelperAI.svelte\";\r\n    export let modules;\r\n    export let uxml;\r\n    export let module_type;\r\n    let hotspot_data = [];\r\n    let hotspot = modules;\r\n    let module_height = 0;\r\n    let div_height = 'auto';\r\n    $: if (modules) {\r\n        if (Array.isArray(modules) == false) {\r\n            hotspot = []\r\n            hotspot[0] = modules;\r\n        } else {\r\n            hotspot = modules;\r\n        }\r\n        hotspot_data = [];\r\n\r\n\t\tif (module_type == '15') {\r\n\t\t\ttry {\r\n\t\t\t\thotspot.map((data) => {\r\n\t\t\t\t\tmodule_height = data._height;\r\n\t\t\t\t\tif (module_height < data._height) {\r\n\t\t\t\t\t\tmodule_height = data._height\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t} catch(e) {\r\n\t\t\t\tmodule_height = 350;\r\n\t\t\t}\r\n\t\t}\r\n        \r\n        div_height = (module_height == 0) ? 'auto' : (module_height + 100) + 'px';\r\n        hotspot.map( function (data, index) {\r\n            let inner_component = [];\r\n            let innerText = JSON.parse(((data.__text) ? data.__text : data.__cdata));\r\n            for (let key in innerText) {\r\n                inner_component.push({\r\n                    top: innerText[key][0] + \"px\",\r\n                    left: innerText[key][1] + \"px\",\r\n                    width: innerText[key][2] + \"px\",\r\n                    height: innerText[key][3] + \"px\",\r\n                })\r\n            }\t\r\n            if (uxml) {\r\n                let uaXML = XMLToJSON(uxml);\r\n                if(uaXML && uaXML.smans) {\r\n                    if(uaXML.smans.div) {\r\n                        let uans = uaXML.smans.div;\r\n                        if(Array.isArray(uans) == false) {\r\n                            uans = []\r\n                            uans[0] = uaXML.smans.div;\r\n                        }\r\n                        for(let j in uans) {\r\n                            if(uans[j]._id == \"dnd\" + data._id) {\r\n                                data._userans = uans[j]._userAns;\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n            hotspot_data =[\r\n                ...hotspot_data, {\r\n                id: data._id,\r\n                top: data._top+\"px\",\r\n                left: data._left+\"px\",\r\n                height: data._height+\"px\",\r\n                width: data._width+\"px\",\r\n                backgroundImage: \"url('\" + bgImage(data._bgimg) + \"')\",\r\n                userans: (data._userans) ? data._userans : '',\r\n                bgimg: data._bgimg,\r\n                child: inner_component\r\n            }]\r\n        });\r\n    } else {\r\n        hotspot_data = [];\r\n    }\r\n\r\n    // function for getting the background image\r\n\tfunction bgImage(img) {\r\n\t\tif (img) {\r\n\t\t\treturn (window.inNative ? \"https://s3.amazonaws.com/jigyaasa_content_static/\" : \"https://s3.amazonaws.com/jigyaasa_content_static/\") + img;\r\n\t\t} else {\r\n\t\t\treturn \"\";\r\n\t\t}\r\n\t}\r\n\r\n</script>\r\n\r\n<div>\r\n    <div class=\"hotspotContainer\" style=\"{'height:' + div_height}\">\r\n        {#if hotspot_data && hotspot_data.length > 0} \r\n            {#each hotspot_data as data, index}\r\n                <div \r\n                    key={index}\r\n                    id={\"dnd\" + data.id}\r\n                    class=\"drag-resize hotspot_test dndTest\"\r\n                    style=\"\r\n                        position: absolute;\r\n                        top: {data.top};\r\n                        left: {data.left};\r\n                        height: {data.height};\r\n                        width: {data.width};\r\n                        border: {data.border};\r\n                        background-image: {data.backgroundImage}\r\n                        z-index: 1\r\n                    \"\r\n                    data-userans={data.userans}\r\n                >\r\n                    {#if data.bgimg}\r\n                        <div>\r\n                            <img style=\"display: none\" alt=\"hotspot\" src={( (window.inNative) ? \"https://s3.amazonaws.com/jigyaasa_content_static/\" : \"https://s3.amazonaws.com/jigyaasa_content_static/\") + data.bgimg + \"?\" + Date.now() } />\r\n                        </div>\r\n                    {/if}\r\n\r\n                    {#if data.child.length > 0}\r\n                        {#each data.child as child_data, child_index}\r\n                            <div\r\n                                key={child_index}\r\n                                id={data.id + \"_\" + (child_index + 1)}\r\n                                data-correctans=\"0\"\r\n                                class=\"drag-resize hs_item ui-droppable\"\r\n                                style = \"\r\n                                    position: absolute;\r\n                                    top: {child_data.top};\r\n                                    left: {child_data.left};\r\n                                    height: {child_data.height};\r\n                                    width: {child_data.width};\r\n                                \"\r\n                            >\r\n                            </div>\r\n                        {/each}\r\n                    {/if}\r\n                </div>\r\n            {/each}\r\n        {/if}\r\n    </div>\r\n</div>","<!--\r\n *  File Name   : MenulistPreview.svelte\r\n *  Description : Responsible for MenulistPreview\r\n *  Author      : Ayush Srivastava\r\n *  Package     : Drag and Drop (preview)\r\n *  Last update : 20-Jan-2021\r\n *  Last Updated By : Ayush Srivastava\r\n-->\r\n<script>\r\n    export let modules;\r\n    let menulist_data = [];\r\n    let menulist_preview = modules;\r\n    let menuEvent = [];\r\n    let correctSelect = \"\";\r\n    $: if (modules) {\r\n        if (Array.isArray(modules) == false) {\r\n            menulist_preview = []\r\n            menulist_preview[0] = modules;\r\n        } else {\r\n            menulist_preview = modules;\r\n        }\r\n        menulist_data = [];\r\n        menulist_preview.map( function (data) {\r\n            let row, col, matrix;\r\n            let count = 0;\r\n            let menulist_item = [];\r\n            menuEvent = [];\r\n\r\n            if (data.__text) {\r\n                getClick(data.__text);\r\n            }\r\n\r\n            matrix = ((data._matrix) ? (data._matrix).split(\"x\") : []);\r\n            row = matrix[0];\r\n            col = matrix[1];\r\n\r\n            for (let row_loop = 1; row_loop <= row; row_loop++) {\r\n                for (let col_loop = 1; col_loop <= col; col_loop++) {\r\n                    menulist_item.push({\r\n                        id: data._id + \"_\" + row_loop + \"_\" + col_loop,\r\n                        classes: ((data._correctans && menuEvent[count]) ? \"menu off menulist dndTest record\" : \"menu off menulist dndTest\" ),\r\n                        correctans: ((menuEvent[count])? \"1\"  : \"0\" ),\r\n                        top: getTop(row_loop, row, data) + 'px',\r\n                        left: getLeft(col_loop, col, data) + 'px',\r\n                        height: getHeight(row, data) + 'px',\r\n                        width: getWidth(col, data) + 'px',\r\n                        click_event: (menuEvent[count]) ? menuEvent[count] : \"\",\r\n                    })\r\n                    count++;\r\n                }\r\n            }\r\n\r\n            menulist_data = [\r\n                ...menulist_data, {\r\n                    top:data._top+\"px\",\r\n                    left:data._left+\"px\",\r\n                    height:data._height+\"px\",\r\n                    width:data._width+\"px\",\r\n                    menulist_item: menulist_item\r\n                }\r\n            ]\r\n        });\r\n    } else {\r\n        menulist_data = [];\r\n    }\r\n\r\n\tfunction getTop(rowCount, row, list) {\r\n\t\tlet top = (((parseFloat(list._height) / parseFloat(row)) - 0) * (parseFloat(rowCount) - 1)) + ((parseFloat(rowCount) - 1) * 0) + (0 / 2);\r\n\t\treturn top;\r\n\t}\r\n\r\n\tfunction getLeft(colCount, col, list) {\r\n\t\tlet left = (((parseFloat(list._width) / parseFloat(col)) - 0) * (parseFloat(colCount) - 1)) + ((parseFloat(colCount) - 1) * 0) + (0 / 2);\r\n\t\treturn left;\r\n\t}\r\n\r\n\tfunction getHeight(row, list) {\r\n\t\tlet height = (( parseFloat(list._height) / parseFloat(row) ) - 0 );\r\n\t\treturn height;\r\n\t}\r\n\r\n\tfunction getWidth(col ,list) {\r\n\t\tlet width = (( parseFloat(list._width) / parseFloat(col) ) - 0 );\r\n\t\treturn width;\r\n\t}\r\n\r\n\tfunction getClick(text) {\r\n\t\tlet data = text.split(\"|\");\r\n\t\tfor (let i = 0; i < data.length ; i++) {\r\n\t\t\tlet clck = data[i].match(/\\(.*?\\)/gi);\r\n\t\t\tif(clck) {\r\n\t\t\t\tmenuEvent[i] = clck[0].replace('(','').replace(')','').replace(/\"/g,'').replace(/'/g,'');\r\n\t\t\t} else {\r\n\t\t\t\tmenuEvent[i] = \"\";\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n    // @ayush : I don't find the function used for now will look it later on it\r\n\tfunction getCorrect(r,c,row,col,data) {\r\n\t\tcorrectSelect = \",\"+((data._correctans)?data._correctans.replace(\" \",\"\"):\"\")+\",\";\r\n\t\tlet cans = \"menu off dndTest menulist\";\r\n\t\tif((row > 1) && (col <= 1)) {\r\n\t\t\tlet srch1 = \",\"+r+\",\";\r\n\t\t\tif(correctSelect.indexOf(srch1) !== false) {\r\n\t\t\t\tcans = \"menu off menulist dndTest record\";\r\n\t\t\t}\r\n\t\t} else if ((row <= 1) && (col > 1)) {\r\n\t\t\tlet srch2 = \",\"+c+\",\";\r\n\t\t\tif (correctSelect.indexOf(srch2) !== false) {\r\n\t\t\t\tcans = \"menu off menulist dndTest record\";\r\n\t\t\t}\r\n\t\t} else if ((row > 1) && (col > 1)) {\r\n\t\t\tlet srch3 = r+\"x\"+c+\",\";\r\n\t\t\tif (correctSelect.indexOf(srch3) !== false) {\r\n\t\t\t\tcans = \"menu off menulist dndTest record\";\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tlet srch4 = \",\"+r+\",\";\r\n\t\t\tif (correctSelect.indexOf(srch4) !== false) {\r\n\t\t\t\tcans = \"menu off menulist dndTest record\";\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn cans;\r\n\t}\r\n</script>\r\n\r\n<div>\r\n    {#if menulist_data && menulist_data.length > 0}\r\n        {#each menulist_data as data, index}\r\n            <div\r\n                key={index}\r\n                class=\"drag-resize\"\r\n                style=\"\r\n                    position: absolute;\r\n                    top:{data.top};\r\n                    left:{data.left};\r\n                    height:{data.height};\r\n                    width:{data.width};\r\n                    z-index: 1;\r\n                \"\r\n                data-correctans=\"\"\r\n                data-userans=\"\"\r\n                data-defaultans=\"\"\r\n            >\r\n                {#if data.menulist_item.length > 0}\r\n                    {#each data.menulist_item as menu_data, subindex}\r\n                        <span\r\n                            key={\"menu_\" + subindex}\r\n                            id={menu_data.id}\r\n                            class={menu_data.classes}\r\n                            data-correctans={menu_data.correctans}\r\n                            data-defaultans=\"\"\r\n                            data-userans=\"\"\r\n                            on:click=\"{()=> window.setStep(menu_data.click_event)}\"\r\n                            style=\"\r\n                                position: absolute;\r\n                                top:{menu_data.top};\r\n                                left:{menu_data.left};\r\n                                height:{menu_data.height};\r\n                                width:{menu_data.width};\r\n                            \"\r\n                        >\r\n                            <!--@TO DO : NEED TO ADD ONCLICK EVENT FOR SETSTEP --->\r\n                        </span>\r\n                    {/each}\r\n                {/if}\r\n            </div>\r\n        {/each}\r\n    {/if}\r\n</div>","<!--\r\n *  File Name   : ButtonPreview.svelte\r\n *  Description : Responsible for ButtonPreview\r\n *  Author      : Ayush Srivastava\r\n *  Package     : Drag and Drop (preview)\r\n *  Last update : 20-Jan-2021\r\n *  Last Updated By : Ayush Srivastava\r\n-->\r\n<script>\r\n    import { afterUpdate } from 'svelte';\r\n\r\n    export let modules;\r\n    export let containerID = '';\r\n    let button_preview_data = [];\r\n    let button_preview = modules;\r\n\r\n    $: if (modules) {\r\n        if (Array.isArray(modules) == false) {\r\n            button_preview = []\r\n            button_preview[0] = modules;\r\n        } else {\r\n            button_preview = modules;\r\n        }\r\n\r\n        button_preview_data = [];\r\n        button_preview.map(function (data) {\r\n            button_preview_data = [\r\n                ...button_preview_data, {\r\n                    top: data._top + \"px\",\r\n                    left: data._left + \"px\",\r\n                    height: data._height + \"px\",\r\n                    width: data._width + \"px\",\r\n                    id: data._id,\r\n                    classes: \"drag-resize dndTest \"+data._class,\r\n                    value: data._value\r\n                }\r\n            ];\r\n        });\r\n    } else {\r\n        button_preview_data = [];\r\n    }\r\n\r\n    afterUpdate( ()=> {\r\n        if (button_preview_data.length > 0 && containerID != '') {\r\n            button_preview.map(function (data) {\r\n                let eventArr = [\"onclick\",\"ondblclick\",\"oncontextmenu\",\"ondragstart\",\"ondrag\",\"ondragend\",\"ondrop\",\"onmouseover\",\"onmouseup\",\"onmousedown\",\"onchange\",\"onfocus\",\"onblur\",\"onkeyup\",\"onkeypress\",\"onkeydown\"];\r\n                let container = document.querySelector('#'+ containerID);\r\n                eventArr.forEach(function(value, index) {\r\n                    if (!!container) {\r\n                        let new_container = container.querySelectorAll(\".dnd\" + data._id);\r\n                        if (!!new_container) {\r\n                            new_container.forEach(function(element) {\r\n                                element.removeAttribute(eventArr[index])\r\n                            });\r\n                        }\r\n                    }\r\n                });\r\n\r\n                Object.keys(data).forEach(function(key){\r\n                    let evt = key.replace(\"_\",\"\").trim();\r\n                    if (eventArr.includes(evt) && !!container) {\r\n                        let new_container = container.querySelectorAll(\".dnd\" + data._id);\r\n                        if (!!new_container) {\r\n                            new_container.forEach(function(element) {\r\n                                element.setAttribute(evt, data[key]);\r\n                            });\r\n                        }\r\n                    }\r\n                });\r\n            });\r\n        }\r\n    });\r\n</script>\r\n\r\n<div>\r\n    {#if button_preview_data && button_preview_data.length > 0}\r\n        {#each button_preview_data as data, index}\r\n            <div\r\n                key={index}\r\n                id={\"dnd\"+data.id}\r\n                class={data.classes}\r\n                style=\"\r\n                    position: absolute;\r\n                    top: {data.top};\r\n                    left: {data.left};\r\n                    height: {data.height};\r\n                    width: {data.width};\r\n                \"\r\n                data-correctans=\"\"\r\n                data-defaultans=\"\"\r\n                data-userans=\"\"\r\n                tabindex=\"0\"\r\n            >\r\n                <button \r\n                    type=\"button\"\r\n                    class={\"dnd\" + data.id + \" dnd_button\"} \r\n                    name=\"\"\r\n                    tabindex=\"-1\"\r\n                    value={data.value ? data.value : ''}\r\n                    data-correctans=\"\"\r\n                    data-defaultans=\"\"\r\n                    data-userans=\"\"\r\n                >\r\n                    {data.value ? data.value : ''}\r\n                </button>\r\n            </div>\r\n        {/each}\r\n    {/if}\r\n</div>\r\n\r\n\t\t","<!--\r\n *  File Name   : TabpillsPreview.svelte\r\n *  Description : Responsible for TabpillsPreview\r\n *  Author      : Ayush Srivastava\r\n *  Package     : Drag and Drop (preview)\r\n *  Last update : 20-Jan-2021\r\n *  Last Updated By : Ayush Srivastava\r\n-->\r\n<script>\r\n    import DragPreview from './DragPreview.svelte';\r\n    import DropPreview from './DropPreview.svelte';\r\n    import RadioPreview from './RadioPreview.svelte';\r\n    import SelectPreview from './SelectPreview.svelte';\r\n    import TextboxPreview from './TextboxPreview.svelte';\r\n    import CheckboxPreview from './CheckboxPreview.svelte';\r\n    import TabheadPreview from './TabheadPreview.svelte';\r\n    import HotspotPreview from './HotspotPreview.svelte';\r\n    import MenulistPreview from './MenulistPreview.svelte';\r\n\r\n    export let modules;\r\n    export let uxml = '';\r\n    export let checkImages;\r\n    let tab_pills_preview = modules;\r\n\r\n    $: if (modules) {\r\n        if (Array.isArray(modules) == false) {\r\n            tab_pills_preview = []\r\n            tab_pills_preview[0] = modules;\r\n        } else {\r\n            tab_pills_preview = modules;\r\n        }\r\n    } else {\r\n        tab_pills_preview = [];\r\n    }\r\n</script>\r\n\t\t\r\n<div>\r\n    {#if tab_pills_preview && tab_pills_preview.length > 0}\r\n        <ul class=\"nav nav-pills margin-bottom dndTest\" data-correctans=\"\" data-userans=\"\" data-defaultans=\"\" role=\"tablist\">\r\n            {#each tab_pills_preview as data, index}\r\n                <li key={\"tab_pills_list_\" + index} class=\"nav-item\">\r\n                    <a class={\"nav-link\" + ((data._display == \"1\") ? \" active\" :\"\")} href={\"#dnd\"+data._id} data-bs-toggle=\"pill\" data-bs-target={\"#dnd\"+data._id} >{data._value}</a>\r\n                </li>\r\n            {/each}\r\n        </ul>\r\n        <div class=\"tab-content dndTest\" type=\"tab\" style=\"position:relative\">\r\n            {#each tab_pills_preview as data, index}\r\n                <div\r\n                    key={\"tab_pills_preview_\" + index}\r\n                    id={\"dnd\" + data._id} \r\n                    type=\"tab\"\r\n                    role=\"tabpanel\"\r\n                    class={\"tab-pane \" + ((data._display == \"1\") ? \"active\": \"\")}\r\n                    data-correctans=\"\"\r\n                    data-userans=\"\"\r\n                    data-defaultans=\"\"\r\n                >\r\n                    {#if data._bgimg}\r\n                        <img on:load={() => {checkImages(2)}} src={(window.inNative ? \"https://s3.amazonaws.com/jigyaasa_content_static/\" : \"https://s3.amazonaws.com/jigyaasa_content_static/\") + data._bgimg} alt={data._alt} />\r\n                    {/if}\r\n                    <DragPreview modules={((data.drag) ? data.drag : [])}  />\r\n                    <DropPreview modules={((data.drop) ? data.drop : [])}  uxml={uxml} />\r\n                    <RadioPreview modules={((data.radio) ? data.radio : [])}  uxml={uxml} />\r\n                    <SelectPreview modules={((data.select) ? data.select : [])}  uxml={uxml} />\r\n                    <TextboxPreview modules={((data.textbox) ? data.textbox : [])}  uxml={uxml} />\r\n                    <CheckboxPreview modules={((data.checkbox) ? data.checkbox : [])}  uxml={uxml} />\r\n                    <TabheadPreview modules={((data.tabhead) ? data.tabhead : [])}  />\r\n                    <HotspotPreview modules={((data.hotspot) ? data.hotspot : [])}  uxml={uxml}/>\r\n                    <MenulistPreview modules={((data.menulist) ? data.menulist : [])}  />\r\n                </div>\r\n            {/each}\r\n        </div>\r\n    {/if}\r\n</div>","<!--\r\n *  File Name   : TabPreview.svelte\r\n *  Description : Responsible for TabPreview\r\n *  Author      : Ayush Srivastava\r\n *  Package     : Drag and Drop (preview)\r\n *  Last update : 20-Jan-2021\r\n *  Last Updated By : Ayush Srivastava\r\n-->\r\n<script>\r\n    import DragPreview from './DragPreview.svelte';\r\n    import DropPreview from './DropPreview.svelte';\r\n    import RadioPreview from './RadioPreview.svelte';\r\n    import SelectPreview from './SelectPreview.svelte';\r\n    import TextboxPreview from './TextboxPreview.svelte';\r\n    import CheckboxPreview from './CheckboxPreview.svelte';\r\n    import TabheadPreview from './TabheadPreview.svelte';\r\n    import HotspotPreview from './HotspotPreview.svelte';\r\n    import MenulistPreview from './MenulistPreview.svelte';\r\n    import TabPillsPreview from './TabPillsPreview.svelte';\r\n\r\n    export let modules;\r\n    export let containerID;\r\n    export let uxml = '';\r\n    export let checkImages;\r\n    let tab_preview = modules;\r\n\r\n    $ : if (modules) {\r\n        if (Array.isArray(modules) == false) {\r\n            tab_preview = []\r\n            tab_preview[0] = modules;\r\n        } else {\r\n            tab_preview = modules;\r\n        }\r\n    } else {\r\n        tab_preview = [];\r\n    }\r\n</script>\r\n\t\t\r\n<div>\r\n    {#if tab_preview && tab_preview.length > 0}\r\n        <ul class=\"nav nav-tabs margin-bottom dndTest mt-3\" data-correctans=\"\" data-userans=\"\" data-defaultans=\"\">\r\n            {#each tab_preview as data, index}\r\n                <li key={\"tab_list_\" + index} class=\"nav-item\">\r\n                    <a href={\"#dnd\"+data._id} data-bs-target={\"#dnd\" + data._id} data-bs-toggle=\"tab\" class={((data._display == \"1\")?\" active nav-link\":\" nav-link\")}>{data._value}</a>\r\n                </li>\r\n            {/each}\r\n        </ul>\r\n        <div class=\"tab-content dndTest\" type=\"tab\" style=\"position:relative\">\r\n            {#each tab_preview as data, index}\r\n                <div\r\n                    key={\"tab_preview_\" + index}\r\n                    id={\"dnd\" + data._id} \r\n                    role=\"tabpanel\"\r\n                    type=\"tab\"\r\n                    class={\"tab-pane \" + ((data._display == \"1\") ? \"active\": \"\")}\r\n                    data-correctans=\"\"\r\n                    data-userans=\"\"\r\n                    data-defaultans=\"\"\r\n                >\r\n                    {#if data._bgimg}\r\n                        <img on:load={() => {checkImages(2)}} src={(window.inNative ? \"https://s3.amazonaws.com/jigyaasa_content_static/\" : \"https://s3.amazonaws.com/jigyaasa_content_static/\") + data._bgimg} alt={data._alt} />\r\n                    {/if}\r\n                    <DragPreview modules={((data.drag) ? data.drag : [])} containerID={containerID} />\r\n                    <DropPreview modules={((data.drop) ? data.drop : [])} containerID={containerID} uxml={uxml} />\r\n                    <RadioPreview modules={((data.radio) ? data.radio : [])} containerID={containerID} uxml={uxml} />\r\n                    <SelectPreview modules={((data.select) ? data.select : [])} containerID={containerID} uxml={uxml} />\r\n                    <TextboxPreview modules={((data.textbox) ? data.textbox : [])} containerID={containerID} uxml={uxml} />\r\n                    <CheckboxPreview modules={((data.checkbox) ? data.checkbox : [])} containerID={containerID} uxml={uxml} />\r\n                    <TabheadPreview modules={((data.tabhead) ? data.tabhead : [])} containerID={containerID} />\r\n                    <HotspotPreview modules={((data.hotspot) ? data.hotspot : [])} containerID={containerID} uxml={uxml}/>\r\n                    <MenulistPreview modules={((data.menulist) ? data.menulist : [])} containerID={containerID} />\r\n                    <TabPillsPreview modules={((data.tab) ? data.tab : [])} {checkImages} uxml={uxml}/>\r\n                </div>\r\n            {/each}\r\n        </div>\r\n    {/if}\r\n</div>","<!--\r\n *  File Name   : StepPreview.svelte\r\n *  Description : Responsible for StepPreview\r\n *  Author      : Ayush Srivastava\r\n *  Package     : Drag and Drop (preview)\r\n *  Last update : 20-Jan-2021\r\n *  Last Updated By : Ayush Srivastava\r\n-->\r\n<script>\r\n    import DragPreview from './DragPreview.svelte';\r\n    import DropPreview from './DropPreview.svelte';\r\n    import RadioPreview from './RadioPreview.svelte';\r\n    import SelectPreview from './SelectPreview.svelte';\r\n    import TextboxPreview from './TextboxPreview.svelte';\r\n    import CheckboxPreview from './CheckboxPreview.svelte';\r\n    import TabheadPreview from './TabheadPreview.svelte';\r\n    import HotspotPreview from './HotspotPreview.svelte';\r\n    import MenulistPreview from './MenulistPreview.svelte';\r\n    import MultilineboxPreview from './MultilineboxPreview.svelte';\r\n    import TabPreview from './TabPreview.svelte';\r\n    import ButtonPreview from './ButtonPreview.svelte';\r\n    import LabelPreview from './LabelPreview.svelte';\r\n    \r\n    export let modules;\r\n    export let containerID;\r\n    export let uxml = '';\r\n    export let checkImages;\r\n    let step = modules;\r\n    $: if (modules) {\r\n        if (Array.isArray(modules) == false) {\r\n            step = []\r\n            step[0] = modules;\r\n        } else {\r\n            step = modules;\r\n        }\r\n    } else {\r\n        step = [];\r\n    }\r\n</script>\r\n\t\t\r\n<div>\r\n    {#if step && step.length > 0}\r\n        {#each step as data, index}\r\n            <div\r\n                key={index}\r\n                id={\"dnd\" + data._id}\r\n                type=\"step\"\r\n                class=\"step dndTest\"\r\n                style=\"position: relative\"\r\n                data-ddisplay=\"\"\r\n                data-udisplay=\"\"\r\n                data-cdisplay=\"\"\r\n            >\r\n                {#if data._bgimg}\r\n\t\t\t\t\t<img on:load={() => {checkImages(2)}} on:error={(e)=>{e.target.onerror = null; e.target.src=\"https://s3.amazonaws.com/jigyaasa_content_static/\" + data._bgimg}} src={window.inNative ? \"____s3.amazonaws.com__jigyaasa_content_static__\" + data._bgimg :\"https://s3.amazonaws.com/jigyaasa_content_static/\" + data._bgimg} alt={data._alt}/>\r\n                {/if}\r\n                <DragPreview modules={((data.drag) ? data.drag : [])} containerID={containerID} />\r\n                <DropPreview modules={((data.drop) ? data.drop : [])} containerID={containerID} uxml={uxml} />\r\n                <RadioPreview modules={((data.radio) ? data.radio : [])} containerID={containerID} uxml={uxml} />\r\n                <SelectPreview modules={((data.select) ? data.select : [])} containerID={containerID} uxml={uxml} />\r\n                <TextboxPreview modules={((data.textbox) ? data.textbox : [])} containerID={containerID} uxml={uxml} />\r\n                <CheckboxPreview modules={((data.checkbox) ? data.checkbox : [])} containerID={containerID} uxml={uxml} />\r\n                <TabheadPreview modules={((data.tabhead) ? data.tabhead : [])} containerID={containerID} />\r\n                <HotspotPreview modules={((data.hotspot) ? data.hotspot : [])} containerID={containerID} uxml={uxml}/>\r\n                <MenulistPreview modules={((data.menulist) ? data.menulist : [])} containerID={containerID} />\r\n                <MultilineboxPreview modules={((data.multilinebox) ? data.multilinebox : [])} containerID={containerID}  uxml={uxml}/>\r\n                <TabPreview {checkImages} modules={((data.tab) ? data.tab : [])} containerID={containerID} />\r\n                <ButtonPreview modules={((data.button) ? data.button : [])} containerID={containerID} />\r\n                <LabelPreview modules={((data.label) ? data.label : [])} containerID={containerID} />\r\n            </div>\r\n        {/each}\r\n    {/if}\r\n</div>","<!--\r\n *  File Name   : DragNDropPreview.svelte\r\n *  Description : Responsible for Preview Side functionality\r\n *  Author      : Ayush Srivastava\r\n *  Package     : Drag and Drop (Preview)\r\n *  Last update : 26-Aug-2021\r\n *  Last Updated By : Prabhat Kumar <prabhat.kumar@ucertify.com> \r\n-->\r\n<script> \r\n// Importing all the required components\r\nimport { onMount, afterUpdate } from 'svelte';\r\nimport ItemHelper from '../helper/ItemHelper.svelte';\r\nimport { AH, onUserAnsChange, XMLToJSON } from \"../helper/HelperAI.svelte\";\r\nimport { writable } from \"svelte/store\";\r\nimport DND from './libs/preview/dndString';\r\nimport TextboxPreview from './libs/preview/TextboxPreview.svelte';\r\nimport DragPreview from './libs/preview/DragPreview.svelte';\r\nimport DropPreview from './libs/preview/DropPreview.svelte';\r\nimport SelectPreview from './libs/preview/SelectPreview.svelte';\r\nimport RadioPreview from './libs/preview/RadioPreview.svelte';\r\nimport MultilineboxPreview from './libs/preview/MultilineboxPreview.svelte';\r\nimport CheckboxPreview from './libs/preview/CheckboxPreview.svelte';\r\nimport TabheadPreview from './libs/preview/TabheadPreview.svelte';\r\nimport LabelPreview from './libs/preview/LabelPreview.svelte';\r\nimport HotspotPreview from './libs/preview/HotspotPreview.svelte';\r\nimport MenulistPreview from './libs/preview/MenulistPreview.svelte';\r\nimport ButtonPreview from './libs/preview/ButtonPreview.svelte';\r\nimport StepPreview from './libs/preview/StepPreview.svelte';\r\nimport TabPreview from './libs/preview/TabPreview.svelte';\r\nimport l from '../src/libs/editorLib/language.js';\r\nimport './css/dragndrop.min.css';\r\n\r\n// exporting the variables\r\nexport let xml;\r\nexport let uxml;\r\nexport let isReview;\r\nexport let showAns;\r\nexport let editorState;\r\n\r\n// initializing the variable\r\nlet QXML = \"\";\r\nlet image_loaded = 0;\r\nlet bgImg = \"\";\r\nlet imgHeight = \"\";\r\nlet imgWidth = \"\";\r\nlet step = [];\r\nlet alt = \"\";\r\nlet totalcorrectans = 0;\r\nlet borderclass = \"\";\r\nlet borderclassname = 'img-bordered';\r\nlet container_id = 'dndmainPreview';\r\nlet moduleType = 1;\r\nlet state = {};\r\n// writable for preview\r\nlet preview_store = writable({\r\n\txml: '',\r\n\tcheck: \"checked\",\r\n\ttotalcorrectans: \"\",\r\n\treview : false,\r\n\tdata: [],\r\n})\r\n\r\n// subscribing to the store\r\nconst unsubscribe = preview_store.subscribe(value => {\r\n\tstate = value;\r\n});\r\n\r\n// this is called for the first time use for binding the events\r\nonMount( async function() {\r\n\tif (window.inNative) {\r\n\t\tif (typeof window.getHeight == \"function\") {\t\r\n\t\t\twindow.getHeight && window.getHeight();\r\n\t\t}\r\n\t}\r\n\r\n\tif (xml) {\r\n\t\tAH.setCss( document.getElementById('dndsteps'), {\r\n\t\t\tdisplay: 'none'\r\n\t\t});\r\n\t}\r\n\r\n\tAH.listen(document, 'click', '.record', function(current_element) {\r\n\t\tif (!current_element.classList.contains('lab_disable'))\r\n\t\tcurrent_element.setAttribute(\"clicked\", 1);\r\n\t});\r\n\r\n\tAH.listen('body', 'click', '#reviewUserAns', function() {\r\n\t\t// for your ans\r\n\t\tAH.selectAll('#sm_controller button', 'removeClass', 'active');\r\n\t\tAH.addClass('#sm_controller .your-ans', 'active');\r\n\t\tyourAnswer();\r\n\t});\r\n\r\n\tAH.listen('body', 'click', '#reviewCorrectAns', function() {\r\n\t\t// for correct ans\r\n\t\tAH.selectAll('#sm_controller button', 'removeClass', 'active');\r\n\t\tAH.addClass('#sm_controller .correct-ans', 'active');\r\n\t\tcorrectAnswer();\r\n\t});\r\n\tAH.listen(document, 'click', '#'+ container_id, function() {\r\n\t\tdisplayAns();\r\n\t});\r\n\r\n\tAH.listen(document, 'keyup', '#'+ container_id, function() {\r\n\t\tdisplayAns();\r\n\t});\r\n\r\n\tAH.listen(document, 'change', '#'+ container_id, function() {\r\n\t\tdisplayAns();\r\n\t});\r\n\r\n\tAH.listen(document, 'mouseup', '#'+ container_id, function() {\r\n\t\tdisplayAns();\r\n\t});\r\n\t\r\n\t// prevent to open context menu\r\n\tAH.bind('body', 'contextmenu', function(event) {\r\n\t\tevent.preventDefault()\r\n\t});\r\n\tconsole.log('dragNDrop');\r\n})\r\n\r\n// call everytime when updating will happen\r\nafterUpdate(async() => {\r\n\t// if there is change in xml\r\n\tif (state.xml != xml) {\r\n\t\tloadModule(xml);\r\n\t}\r\n\t// run only in case of editor no need to run it in case of preview\r\n\t// if (state.review != isReview && editorState ) { // Its creating issue in student area\r\n\tif (state.review != isReview ) {\r\n\t\tpreview_store.update( (item) => {\r\n\t\t\titem.review = isReview;\r\n\t\t\treturn item;\r\n\t\t});\r\n\t\tif (isReview) {\r\n\t\t\tdisplayAns();\r\n\t\t\tDND.modeOn(1);\r\n\t\t\tDND.showansdrag(\"#\" + container_id, 'u', 1);\r\n\t\t\tAH.selectAll('#sm_controller button', 'removeClass', 'active');\r\n\t\t\tAH.addClass('#sm_controller .your-ans', 'active');\r\n\t\t} else {\r\n\t\t\tDND.modeOn(0);\r\n\t\t}\r\n\t}\r\n});\r\n\r\n// for checking the answer and creating the user ans\r\nfunction displayAns() {\r\n\t//@Prabhat: Answer checking and attibute value updating happening at the same time so here we need to add the setTimeout for time laps in answer checking. \r\n\tsetTimeout(function(){\r\n\t\tlet result = DND.checkAns(\"#\"+ container_id);\r\n\t\tif (typeof(is_sm) != \"undefined\") AH.showmsg(result.ans ? \"Correct\" : \"Incorrect\", 3000);\r\n\t\tif (editorState) {\r\n\t\t\tshowAns(result.ans ? \"Correct\" : \"Incorrect\");\r\n\t\t}\r\n\t\tonUserAnsChange(result);\r\n\t}, 100);\r\n\t\r\n}\r\n\r\n// call whenever there is change in xml and changes the module accordingly\r\nfunction loadModule(loadXml) {\r\n\tlet newXml = XMLToJSON(loadXml);\r\n\tparseXMLPreview(newXml);\r\n\ttotalcorrectans = setTotalCorrectAns(newXml);\r\n\tpreview_store.update( (item) => {\r\n\t\titem.xml = loadXml;\r\n\t\titem.totalcorrectans = totalcorrectans;\r\n\t\titem.data = loadNestedModule(newXml);\r\n\t\treturn item;\r\n\t});\r\n\tcheckImages();\r\n\trefreshModule();\r\n}\r\n\r\n// whenever the module will refresh means there is change in xml it will called \r\nfunction refreshModule() {\r\n\tlet dnd_timeout = setTimeout(function() {\r\n\t\tDND.readyThis(\"#\"+ container_id);\r\n\t\tDND.showansdrag(\"#\" +container_id, 'u');\r\n\t\tif (isReview) {\r\n\t\t\t// if review mode is on\r\n\t\t\tdisplayAns(); // display the answe\r\n\t\t\tDND.modeOn(1); // for showing correct answer and your answer tab\r\n\t\t\tDND.showansdrag(\"#\" + container_id, 'u', 1);\r\n\t\t\tAH.selectAll('#sm_controller button', 'removeClass', 'active');\r\n\t\t\tAH.addClass('#sm_controller .your-ans', 'active');\r\n\t\t} else {\r\n\t\t\ttry {\r\n\t\t\t\tDND.modeOn(0);\r\n\t\t\t\tif (typeof(showAns) == 'undefined') {\r\n\t\t\t\t\tdisplayAns();\r\n\t\t\t\t}\r\n\t\t\t} catch (err) {\r\n\t\t\t\tconsole.warn({err: err});\r\n\t\t\t}\r\n\t\t}\r\n\t\tclearTimeout(dnd_timeout);\r\n\t}, 500);\r\n}\r\n\r\n// parse the xml for preview\r\nfunction parseXMLPreview(MYXML) {\r\n\ttry {\r\n\t\t// getting he required data\r\n\t\tQXML = MYXML;\r\n\t\tbgImg = MYXML.smxml._bgimg;\r\n\t\tmoduleType = MYXML.smxml._type || 1;\r\n\t\talt = (MYXML.smxml._alt) ? MYXML.smxml._alt : \"\";\r\n\t\timgHeight = MYXML.smxml._height;\r\n\t\timgWidth = MYXML.smxml._width;\r\n\t\tborderclass = (MYXML.smxml._borderrequired == 1) ? borderclassname : '';\r\n\t\tstep = MYXML.smxml.step;\r\n\t\tif (Array.isArray(step) == false && step) {\r\n\t\t\tstep = [];\r\n\t\t\tstep[0] = QXML.smxml.step;\r\n\t\t}\r\n\t} catch (error) {\r\n\t\tconsole.warn({\r\n\t\t\terror,\r\n\t\t\tfun: 'parseXMLPreview',\r\n\t\t\tfile: 'DragNDropPreview.svelte'\r\n\t\t});\r\n\t}\r\n}\r\n\r\n// setting the container height and width on the basis of image height and width\r\nfunction checkImages(is_image_load) {\t\t\r\n\tlet container = document.querySelectorAll(\"#\" + container_id + \" img\");\r\n\tif (container.length > 0) {\r\n\t\tcontainer.forEach(function (value) {\r\n\t\t\tif (value.complete) {\r\n\t\t\t\tlet originalHeight = value.clientHeight > value.naturalHeight ? value.clientHeight : value.naturalHeight;\r\n\t\t\t\tlet originalWidth = value.clientWidth > value.naturalWidth ? value.clientWidth : value.naturalWidth;\r\n\t\t\t\tif (Number(originalWidth) != 0 || Number(originalHeight) != 0 || (typeof from_myproject != \"undefined\" && from_myproject ==  1)) {\r\n\t\t\t\t\tAH.setCss(\"#\" + container_id, {\r\n\t\t\t\t\t\theight: ((imgHeight && imgHeight >= originalHeight) ? imgHeight : originalHeight) + \"px\",\r\n\t\t\t\t\t\twidth: ((imgWidth && imgWidth >= originalWidth) ? imgWidth : originalWidth) + \"px\"\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t})\r\n\t}\r\n\tif (is_image_load == 1 || is_image_load == 2) {\r\n\t\timage_loaded = 1;\r\n\t\tif (window.inNative) {\r\n\t\t\twindow.postMessage(`height___${ AH.select(\"#\" + container_id+\">img\").naturalHeight }`)\r\n\t\t}\r\n\t\trefreshModule();\r\n\t}\r\n}\r\n\r\n// for getting the total no of correct answers\r\nfunction setTotalCorrectAns(qXml) {\r\n\tvar item = qXml ? qXml.smxml : null;\r\n\tvar count = 0;\r\n\t// if there is xml\r\n\tif(item) {\r\n\t\t// iterating throgh the xml and store the elements in item \r\n\t\tfor (let i in item) {\r\n\t\t\tif (Array.isArray(item[i]) == false) {\r\n\t\t\t\tlet arr = [];\r\n\t\t\t\tarr.push(item[i]);\r\n\t\t\t\titem[i] = arr;\r\n\t\t\t}\r\n\t\t}\r\n\t\t/** Counting the total length of the element **/\r\n\t\tif (item['drop']) {\r\n\t\t\tcount = count+item['drop'].length;\r\n\t\t}\r\n\t\tif (item['select']) {\r\n\t\t\tcount = count+item['select'].length;\r\n\t\t}\r\n\t\tif (item['textbox']) {\r\n\t\t\tcount = count+item['textbox'].length;\r\n\t\t}\r\n\t\tif (item['checkbox']) {\r\n\t\t\tcount = count+item['checkbox'].length;\r\n\t\t}\r\n\t\tif (item['radio']) {\r\n\t\t\titem['radio'].map(function(data) {\r\n\t\t\t\tif(parseInt(data._correctans) == 1) {\r\n\t\t\t\t\tcount = count+1;\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\t\tif (item['hotspot']) {\r\n\t\t\titem['hotspot'].map(function(data) {\r\n\t\t\t\tlet innerText = JSON.parse(((data.__text)?data.__text:data.__cdata));\r\n\t\t\t\tcount = count+Object.keys(innerText).length;\r\n\t\t\t})\r\n\t\t}\r\n\r\n\t\tif (item['jscript']) {\r\n\t\t\ttry {\r\n\t\t\t\teval.call(window, item['jscript'][0]);\r\n\t\t\t} catch (e) {\r\n\t\t\t\tconsole.warn(e);\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn count;\r\n\t}\r\n}\r\n\r\n// convert object to lower case\r\nfunction objToLower(obj) {\r\n\tlet newX = {};\r\n\tfor ( let index in obj ) {\r\n\t\tnewX[index.toLowerCase()] = obj[index];\r\n\t}\r\n\treturn newX;\r\n}\r\n\r\n// return the data of the nested module according to the xml\r\nfunction loadNestedModule(qXml) {\r\n\tvar smxml = qXml ? qXml.smxml : null;\r\n\tvar customDrag = [], customDrop = [];\r\n\tif (smxml) {\r\n\t\tif (smxml.div) {\r\n\t\t\tsmxml.div.map(function(data,i){\r\n\t\t\t\tdata = objToLower(data);\r\n\t\t\t\tif (data._anskey == \"\" || data._anskey == undefined) {\r\n\t\t\t\t\t/*added this condition because key was diffrent with id*/\r\n\t\t\t\t\tif (data._key.indexOf(\"key\") <= -1) {\r\n\t\t\t\t\t\tdata._id = \"ID\"+data._key;\r\n\t\t\t\t\t\tdata._key = \"key\"+data._key;\r\n\t\t\t\t\t}\r\n\t\t\t\t\t/********/\r\n\t\t\t\t\tcustomDrag.push(data);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tlet id = data._id.split(\"ID\");\r\n\t\t\t\t\t/*added this condition because key was diffrent with id*/\r\n\t\t\t\t\tif (data._key.indexOf(\"key\") <= -1) {\r\n\t\t\t\t\t\tdata._id = \"ID\"+data._key;\r\n\t\t\t\t\t\tdata._key = \"key\"+data._key;\r\n\t\t\t\t\t\tdata._anskey = \"ID\"+data._anskey;\r\n\t\t\t\t\t\t/********/\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tlet key = data._key.split(\"key\");\r\n\t\t\t\t\t\tif (id[1] == key[1]) {\r\n\t\t\t\t\t\t\tlet k = data._anskey.split(\"key\");\r\n\t\t\t\t\t\t\tlet k2 = k[1];\r\n\t\t\t\t\t\t\tif (k2) data._anskey = \"ID\"+k2;\r\n\t\t\t\t\t\t} else if (parseInt(id[1]) != parseInt(key[1])) {\r\n\t\t\t\t\t\t\tif (data._anskey.indexOf(\"ID\") <= -1) {\r\n\t\t\t\t\t\t\t\tdata._anskey = \"ID\"+key[1];\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tcustomDrop.push(data);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\t\treturn [smxml, customDrag, customDrop];\r\n\t}\r\n}\r\n\r\n// for the correct answer\r\nfunction correctAnswer() {\r\n\tDND.showansdrag('#'+container_id, 'c',1);\r\n}\r\n\r\n// for showing the user ans\r\nfunction yourAnswer() {\r\n\tDND.showansdrag('#'+container_id, 'u',1);\r\n}\r\n\r\n// call on the setreview function\r\nfunction setReview() {\r\n\tdisplayAns();\r\n\tisReview = true;\r\n\tDND.modeOn(1);\r\n}\r\n\r\n// unset review function\r\nfunction unsetReview() {\r\n\tisReview = false;\r\n\tDND.modeOn(0);\r\n}\r\n\r\n// for changing the load stte\r\nfunction changeLoadState() {\r\n\tAH.select('#pre_sample_image').remove();\r\n\timage_loaded = 1;\r\n}\r\n</script>\r\n<div>\r\n\t<ItemHelper \r\n\t\ton:setReview = {setReview}\r\n\t\ton:unsetReview = {unsetReview}\r\n\t/>\r\n\t<div id=\"dndsteps\" class=\"h\" >\r\n\t\t<input id=\"base\" type=\"radio\" on:click={() => DND.setStep('base')} defaultValue=\"1\" defaultChecked name=\"rbs\" class=\"baseradio dndradio\" /> \r\n\t\t{l.base_steps}\r\n\t\t{#if step && step.length}\r\n\t\t\t{#each step as data, index}\r\n\t\t\t\t<span key={index}>\r\n\t\t\t\t\t<input \r\n\t\t\t\t\t\tid={\"step_dnd\" + data._id} \r\n\t\t\t\t\t\ttype=\"radio\" \r\n\t\t\t\t\t\ton:click={() => DND.setStep(\"dnd\" + data._id)} \r\n\t\t\t\t\t\tdefaultValue=\"1\" \r\n\t\t\t\t\t\tname=\"rbs\" \r\n\t\t\t\t\t\tclass=\"baseradio dndradio\" \r\n\t\t\t\t\t/>\r\n\t\t\t\t\t{\"dnd\" + data._id}\r\n\t\t\t\t</span>\r\n\t\t\t{/each}\r\n\t\t{/if}\t\r\n\t</div>\r\n\t<center>\r\n\t\t<div class=\"btn-group mb-xl clearfix review h mb-3\" id=\"sm_controller\">\r\n\t\t\t<button \r\n\t\t\t\ttype=\"button\" \r\n\t\t\t\tclass=\"btn btn-light correct-ans svelte_items_testing\" \r\n\t\t\t\tid=\"reviewCorrectAns\" \r\n\t\t\t>{l.correct_answer}</button>\r\n\t\t\t<button \r\n\t\t\t\ttype=\"button\" \r\n\t\t\t\tclass=\"btn active your-ans btn-light svelte_items_testing\" \r\n\t\t\t\tid=\"reviewUserAns\" \r\n\t\t\t\tstyle=\"margin-left:-4px;\"\r\n\t\t\t>\r\n\t\t\t\t{l.your_answer}\r\n\t\t\t</button>\r\n\t\t</div>    \r\n\t\t<div\r\n\t\t\tid={container_id}\r\n\t\t\tzoom=\"\"\r\n\t\t\ttotalcorrectans = {totalcorrectans}\r\n\t\t\tclass=\"container_div\"\r\n\t\t\tdata-item=\"svelte_items_testing\"\r\n\t\t>\r\n\t\t\t{#if bgImg}\r\n\t\t\t\t<img on:error={(e)=>{e.target.onerror = null; e.target.src=\"https://s3.amazonaws.com/jigyaasa_content_static/\" + bgImg}} height={imgHeight+\"px\"} width={imgWidth+\"px\"} src={window.inNative ? \"____s3.amazonaws.com__jigyaasa_content_static__\"+bgImg.replace(/\\//g,'__') : \"https://s3.amazonaws.com/jigyaasa_content_static/\"+bgImg} class={borderclass} alt={alt ? alt : l.sample_img} on:load={() => {checkImages(1)}}/>\r\n\t\t\t{:else}\r\n                <img id=\"pre_sample_image\" src=\"https://s3.amazonaws.com/jigyaasa_content_static/bg_000PLn.png\" alt=\"{l.sample_img}\" on:load={changeLoadState}/>\r\n            {/if}\r\n\t\t\t{#if state.data && image_loaded}\r\n\t\t\t\t\r\n\t\t\t\t<DragPreview modules={state.data[0].drag} containerID={container_id} />\r\n\t\t\t\t<DragPreview modules={state.data[1]} containerID={container_id} />\r\n\t\t\t\t<DropPreview modules={state.data[0].drop} containerID={container_id} uxml={uxml}/>\r\n\t\t\t\t<DropPreview modules={state.data[2]} containerID={container_id} uxml={uxml}/>\r\n\t\t\t\t<SelectPreview modules={state.data[0].select} containerID={container_id}  uxml={uxml}/>\r\n\t\t\t\t<TextboxPreview modules={state.data[0].textbox} containerID={container_id} uxml={uxml}/>\r\n\t\t\t\t<RadioPreview modules={state.data[0].radio} containerID={container_id} uxml={uxml}/>\r\n\t\t\t\t<MultilineboxPreview modules={state.data[0].multilinebox} containerID={container_id} uxml={uxml} />\r\n\t\t\t\t<CheckboxPreview modules={state.data[0].checkbox} containerID={container_id} uxml={uxml} />\r\n\t\t\t\t<TabheadPreview modules={state.data[0].tabhead} containerID={container_id} />\r\n\t\t\t\t<LabelPreview modules={state.data[0].label} containerID={container_id} />\r\n\t\t\t\t<HotspotPreview modules={state.data[0].hotspot} module_type={moduleType} containerID={container_id} uxml={uxml} />\r\n\t\t\t\t<MenulistPreview modules={state.data[0].menulist} containerID={container_id} />\r\n\t\t\t\t<ButtonPreview modules={state.data[0].button} containerID={container_id} />\r\n\t\t\t\t<StepPreview modules={state.data[0].step} containerID={container_id} {checkImages} uxml={uxml}/>\r\n\t\t\t\t<TabPreview modules={state.data[0].tab} containerID={container_id} {checkImages} uxml={uxml}/>\r\n\t\t\t\t{#if state.data[0].hotspot}\r\n\t\t\t\t\t<img class=\"targetImg\" tabindex=\"0\" alt=\"target_img\" src={\"https://s3.amazonaws.com/jigyaasa_assets/items/target.png\"} style=\"display: none\" />\r\n\t\t\t\t{/if}\r\n\t\t\t{/if}\r\n\t\t</div>\r\n\t</center>\r\n</div>\r\n<style>\r\n\t#dndsteps {\r\n\t\ttext-align: center;\r\n\t\tborder: 1px solid #999999;\r\n\t\tbackground-color: #DDDDDD;\r\n\t\twidth: 100%;\r\n\t}\r\n\t:global(#sm_controller) {\r\n        margin-top: 20px;\r\n        display: none;\r\n    }\r\n\t:global(.correct_incorrect_icon) {\r\n\t\tz-index: 9 !important;\r\n\t}\r\n\t:global(input.dnd_textbox) {\r\n\t\ttext-align: center;\r\n\t\tborder-radius: 4px;\r\n\t\tbackground-color: #fff;\r\n\t\tborder: 1px solid #ccc;\r\n\t\tborder-radius: 4px;\r\n\t}\r\n</style>"],"names":["jsSwal","swal","elemId","result","stepsPreview","dragstore","user_points","DND","is_all_correct","ctx","length","_type","_id","_custom_class","_correctans","_userans","_defaultans","_placeholder","_nocase","_ismultipleanswer","_top","_left","_height","_width","insert","append","modules","containerID","uxml","textbox_data","textbox","afterUpdate","map","data","eventArr","container","document","querySelector","forEach","value","index","new_container","querySelectorAll","element","removeAttribute","Object","keys","key","evt","replace","trim","includes","setAttribute","Array","isArray","uaXML","XMLToJSON","smans","div","uans","j","_userAns","prevent_dialog","storage","store","obj","val","this","state","arguments","remove","browser","msie","version","navigator","userAgent","match","RegExp","$1","sqlparser","sql","type","ret","matches","i","opt","substr","indexOf","split","push","toLowerCase","String","prototype","toString","setStep","tabname","dndid","tabname_element","tabname_closest","closest","getAttribute","new_element","AI","find","setCss","display","dnd_element","select","dnd_find_element","selectAll","element_list","parentElement","window","wrapInner","parent","wrapper","attribute","attributevalue","createElement","appendChild","firstChild","error","console","warn","activate","spinner","className","loading","body","getElementsByClassName","readyThis","dndid_element","elements_list","class","input","id","min","max","insertBefore","listen","zoom_element","event","classList","contains","targetimg_element","target","top","Math","round","pageY","offset","offsetHeight","pageYOffset","left","pageX","pageXOffset","clone_element","clone","add","position","insertAfter","last_id","tgElem","current_id","next_elem_id","next_elem_store","rmTg","tmp_target","hustr","hId","offsetTop","offsetLeft","offsetWidth","checkAns","drop_image","bgimage","droppable","source","dataset","droped","draggable","Draggable","onDrag","clientY","scrollTo","scrollY","innerHeight","clientX","onDragStart","img","style","backgroundImage","width","height","Image","src","copied_node","cloneNode","zIndex","onDrop","copied","backgroundColor","setProperty","opacity","drop_id","innerText","undefined","setTimeout","isRevert","showmsg","alt","content","onchange","checked","close","label","showCloseButton","closeButton","onclick","textContent","bottom","right","modal","marginTop","marginBottom","float","text","buttons","onRemove","cursor","onOver","hoverImg","e","onOut","search","ajax","url","baseUrl","lab_detail","longUrl","then","response","innerHTML","getBS","show","nodeName","toggleImg","enable","tabMove","ks_element","focus_index","focus","checkContainment","extra_top","extra_left","parseInt","bindKeyUp","dndid_elements","count","copied_id","ee","action","actionData","elements","byTop","filter","second_filter","call","elm","sort","prop","prop2","a","b","filter_a","filter_b","filter_c","filter_d","focusFirst","elem","first_child","children","focusLast","last_child","checkFocus","list","is_focus","focus_el","focus_id","moveTargetImg","hotspot_test","tmp_index","setHotspotans","activateKs","ks","hotspot_this","child","sub_index","clonenode","hotSpotKeyboard","ks_length","ks_fill","navigateDown","copyDraggable","copy_drag","AH","pasteDraggable","dropthis","ui_drag","setAttr","userans","data-droped","data-userans","data-path","data-dropimage","data-dragimage","draging","droping","hotkeys","unbind","handler","preventDefault","focus_element","ks_last_element","removethis","dropedNode","check_ans_timer","clearTimeout","removeDraggable","setScope","current","keyCode","last_element","first_element","which","shiftKey","blur","listenAll","calcArea","coords","maxX","minX","Infinity","maxY","minY","x","y","getCorrect","pElem","is_correct","cans","showansdrag","ansType","review","tab_pane_div","cur_element","drag_resize","drag_index","drag_element","overflow","dnd_test","test_index","showchildansdrag","dropables","droppedElem","rect","getBoundingClientRect","scrollTop","scrollLeft","JSON","parse","hs_item","user_ans_index","selected","targetimg","hcpos","ans_attr","already_filled_ans","matched_ans","user_pointsBgDropUrl","anskey","selector","anskey_element","user_ans","ansKey","droppable_element","step_display","sel","Nmuber","Number","childrens","total_correct","compare_index","options","default_value","testText","anstest","correct_incorrect_mark","disabled","markUserAnswerChoiceMatrix","markUserAnswer","insertAdjacentHTML","droped_value_indicator_html","inNative","userAnsXML","checkChildAnswer","getHeight","calculatePoint","postMessage","stringify","userAnswers","inNativeIsCorrect","uXml","ans","answer_points","result_array","dnd_element_dropable","compareArray","disabledstring","current_element","uAnsSel","totalcorrect","givenanswer","correctansarray","values","correct_val","text_val","areaToggle","parser","v","tree","branch","matchedBranch","modeOn","modeType","unBindLab","addClass","bindLab","select_elements","input_type","opt_index","pointerEvents","select_items","textBoxAlignment","textAlign","isNaN","clearText","find_element","err","addEventListener","dnd_textbox","_this","caption","bgcolor","multi_drag","dragimage","dropimage","border","validColor","_bgcolor","_invisible","bgImage","str","drag","drag_value","_bordercolor","_value","_multi_drag","_image","_border_color","setUserAns","defaultans","dropPreview","drop_data","_anskey","slice","_border","correctans","select_data","option","__text","option_data","charAt","checktype","name","radio_data","radio","_checktype","_name","classes","__cdata","placeholder","nocase","multilinebox_data","multilinebox_preview","crt","_parser","checkbox_data","checkbox","styles","tabhead_data","tabhead","styling","changeStyletoString","assign","stylesheet","new_property","addInlineStyle","_style","_class","parahtml","paraStyle","label_preview_data","labelPreview","_border_size","background_color","_background_color","para_styling","_label_class","addParaStyle","htmlEnt","_richtext","_title","ignoreEnity","dec","fromCharCode","bgimg","Date","now","module_type","hotspot_data","hotspot","module_height","div_height","inner_component","_bgimg","menulist_item","getTop","rowCount","row","parseFloat","getLeft","colCount","col","getWidth","menulist_data","menulist_preview","menuEvent","matrix","clck","getClick","_matrix","row_loop","col_loop","click_event","menu_data","button_preview_data","button_preview","_display","_alt","drop","menulist","checkImages","tab_pills_preview","tab","tab_preview","multilinebox","button","step","onerror","l","sample_img","container_id","base_steps","correct_answer","your_answer","xml","isReview","showAns","editorState","QXML","image_loaded","bgImg","imgHeight","imgWidth","totalcorrectans","borderclass","moduleType","preview_store","writable","check","subscribe","displayAns","is_sm","onUserAnsChange","refreshModule","dnd_timeout","is_image_load","complete","originalHeight","clientHeight","naturalHeight","originalWidth","clientWidth","naturalWidth","from_myproject","onMount","getElementById","bind","log","loadXml","newXml","MYXML","smxml","_borderrequired","fun","file","parseXMLPreview","qXml","item","arr","eval","setTotalCorrectAns","update","customDrag","customDrop","newX","objToLower","_key","k2","loadNestedModule","loadModule"],"mappings":"ocAYA,IAAIA,EAASC,EAGTC,EAAS,kBACTC,GAAS,EACTC,EAAe,KACfC,EAAY,GACZC,EAAc,EAClB,MAAMC,EAAM,GACZ,IAAIC,GAAiB,sFCgENC,0BAALC,wKAAKD,aAALC,qIAAAA,iIAeoBD,KAAKE,qBACH,MAAQF,KAAKG,IAAM,gBAAkBH,KAAKI,sDAE9BJ,KAAKK,YAAeL,KAAKK,YAAc,yBACzCL,KAAKM,SAAYN,KAAKM,SAAW,6EAG9BN,KAAKO,YAAeP,KAAKO,YAAc,wBAC3CP,KAAKQ,aAAgBR,KAAKQ,aAAe,wBACzCR,KAAKS,QAAWT,KAAKS,QAAU,kCACrBT,KAAKU,kBAAqBV,KAAKU,kBAAoB,gBAvB5EV,iBACD,MAAQA,KAAKG,6EAIRH,KAAKW,sBACJX,KAAKY,yBACJZ,KAAKa,0BACLb,KAAKc,wCATrBC,SAaIC,kCACUhB,KAAKE,kCACH,MAAQF,KAAKG,IAAM,gBAAkBH,KAAKI,2CAE9BJ,KAAKK,YAAeL,KAAKK,YAAc,0CACzCL,KAAKM,SAAYN,KAAKM,SAAW,uCAG9BN,KAAKO,YAAeP,KAAKO,YAAc,0CAC3CP,KAAKQ,aAAgBR,KAAKQ,aAAe,sCACzCR,KAAKS,QAAWT,KAAKS,QAAU,sCACrBT,KAAKU,kBAAqBV,KAAKU,kBAAoB,gDAtB7E,MAAQV,KAAKG,iCAIRH,KAAKW,2BACJX,KAAKY,8BACJZ,KAAKa,+BACLb,KAAKc,mDAX5Bd,MAAgBA,KAAaC,OAAS,+CAD/Cc,kCACSf,MAAgBA,KAAaC,OAAS,0HAxEhCgB,kBACAC,EAAc,YACdC,EAAO,MACdC,KACAC,EAAUJ,SAmCdK,QACQF,EAAanB,OAAS,GAAoB,IAAfiB,GAC3BG,EAAQE,cAAcC,OACdC,GAAY,UAAU,aAAa,gBAAgB,cAAc,SAAS,YAAY,SAAS,cAAc,YAAY,cAAc,WAAW,UAAU,SAAS,UAAU,aAAa,aAC5LC,EAAYC,SAASC,cAAc,IAAKV,GAC5CO,EAASI,kBAAiBC,EAAOC,MACvBL,OACEM,EAAgBN,EAAUO,iBAAiB,OAAST,EAAKrB,KACvD6B,GACFA,EAAcH,kBAAiBK,GAC3BA,EAAQC,gBAAgBV,EAASM,WAMjDK,OAAOC,KAAKb,GAAMK,kBAAiBS,OAC3BC,EAAMD,EAAIE,QAAQ,IAAI,IAAIC,UAC1BhB,EAASiB,SAASH,IAAUb,OACxBM,EAAgBN,EAAUO,iBAAiB,OAAST,EAAKrB,KACvD6B,GACFA,EAAcH,kBAAiBK,GAC3BA,EAAQS,aAAaJ,EAAKf,EAAKc,iKAvDpDrB,GAC2B,GAA1B2B,MAAMC,QAAQ5B,QACdI,UACAA,EAAQ,GAAKJ,UAEbI,EAAUJ,OAGdG,MACAC,EAAQE,cAAcC,MACN,IAARL,OACI2B,EAAQC,EAAU5B,MAClB2B,GAASA,EAAME,OACXF,EAAME,MAAMC,SACRC,EAAOJ,EAAME,MAAMC,IACI,GAAvBL,MAAMC,QAAQK,KACdA,KACAA,EAAK,GAAKJ,EAAME,MAAMC,aAEjBE,KAAKD,EACPA,EAAKC,GAAGhD,KAAO,MAAMqB,EAAKrB,MACzBqB,EAAKlB,SAAW4C,EAAKC,GAAGC,eAM5ChC,MAAmBA,EAAcI,YAGrCJ,oBDxBRtB,EAAIuD,gBAAiB,EAGrBvD,EAAIwD,QAAU,CACVC,MAAO,SAASC,EAAKlB,EAAKmB,GACtB,IAAKD,EACD,OAAOE,KAAKC,MACT,IAAKrB,EACR,OAAMkB,KAAOE,KAAKC,MAGXD,KAAKC,MAAMH,GAFP,GAGR,GAAII,UAAU3D,OAAS,EAAG,CAC7B,KAAMuD,KAAOE,KAAKC,OACd,OAEJ,OAAOD,KAAKC,MAAMH,GAAKlB,GAEjBkB,KAAOE,KAAKC,QACdD,KAAKC,MAAMH,GAAO,IAEtBE,KAAKC,MAAMH,GAAKlB,GAAOmB,GAG/BI,OAAQ,SAASL,GACTE,KAAKC,MAAMH,WACJE,KAAKC,MAAMH,IAG1BG,MAAO,IAIX7D,EAAIgE,QAAU,GACdhE,EAAIgE,QAAQC,MAAO,EACnBjE,EAAIgE,QAAQE,QAAU,EACG,oBAAdC,WAA6BA,UAAUC,UAAUC,MAAM,qBAC9DrE,EAAIgE,QAAQC,MAAO,EACnBjE,EAAIgE,QAAQE,QAAUI,OAAOC,IAKjCvE,EAAIwE,UAAY,SAASC,EAAKC,GACL,sBACjBA,GAAO,GAEX,IAAIC,EAAM,GACV,GAAID,EAAM,CACNC,EAAc,SAAI,GAAIA,EAAe,UAAI,GACzC,IAAIC,EAAUH,EAAIJ,MAAM,UACxB,GAAe,MAAXO,EACA,IAAK,IAAIC,EAAI,EAAGA,EAAID,EAAQzE,OAAQ0E,IAAK,CACrCJ,EAAMA,EAAI/B,QAAQkC,EAAQC,GAAI,IAC9BC,EAAMF,EAAQC,GAAGlC,OACjB,IAAImC,EAAMA,EAAIC,OAAO,EAAID,EAAI3E,OAAS,IACb,GAArB2E,EAAIE,QAAQ,MACZF,EAAMA,EAAIG,MAAM,KAChBN,EAAe,UAAEO,KAAKJ,IAEtBH,EAAc,SAAEO,KAAKJ,IAMrC,OADAH,EAAS,IAAIF,EAAIU,cAAczC,QAAQ,2CAA4C,QAAQA,QAAQ,OAAQ,KAAKC,OAAOD,QAAQ,YAAa,KAAKA,QAAQ,UAAW,KAAKuC,MAAM,KACxKN,GAIXS,OAAOC,UAAUb,UAAY,SAASE,GAClC,OAAO1E,EAAIwE,UAAUZ,KAAK0B,WAAYZ,IAI1C1E,EAAIuF,QAAU,SAASC,GAEnB,IADAA,EAAUA,EAAQnB,MAAM,SAAuB,QAAXmB,EAAqBA,EAAU,MAAQA,IAC1C,IAAlBA,EAAQ7C,OAAc,CACjC,IAAI8C,EACAC,EAAkB7D,SAASC,cAAc,IAAM0D,GAC/CG,IAAkB,GAAoBD,EAAgBE,QAAQ,0BAIlE,GAHID,IACAF,EAAQ,IAAME,EAAgBE,aAAa,OAE3CJ,EAAO,CACP,IAAIrD,EAAUP,SAASC,cAAcnC,GACrC,GAAIyC,EAAS,CACT,IAAI0D,EAAcC,GAAGC,KAAK5D,EAAS,gBAAiB,OACpD,IAAK,IAAIH,EAAQ,EAAGA,EAAQ6D,EAAY3F,OAAQ8B,IAC5C8D,GAAGE,OAAOH,EAAY7D,GAAQ,CAC1BiE,QAAS,SAIrB,IAAIC,EAAcJ,GAAGK,OAAOX,GAE5B,GAAe,QAAXD,EAAmB,CACnB,IAAIa,EAAmBN,GAAGC,KAAKG,EAAa,SAC5CJ,GAAGO,UAAUD,EAAkB,WAAW,OACvC,CACHN,GAAGK,OAAO,SAAWZ,EAAS,WAAW,GACzC,IAAIe,EAAeR,GAAGC,KAAKG,EAAa,IAAMX,GAC9CO,GAAGE,OAAOM,EAAaC,cAAe,CAClCN,QAAS,UAEbH,GAAGE,OAAOM,EAAc,CACpBL,QAAS,cAQP,oBAAXO,SACPA,OAAOlB,QAAUvF,EAAIuF,SAIzBvF,EAAI0G,UAAY,SAASC,EAAQC,EAASC,EAAWC,GACjD,IAKI,IAJuB,iBAAZF,IACPA,EAAU/E,SAASkF,cAAcH,IAErCD,EAAOK,YAAYJ,GAAS/D,aAAagE,EAAWC,GAC7CH,EAAOM,aAAeL,GACzBA,EAAQI,YAAYL,EAAOM,YAEjC,MAAOC,GACLC,QAAQC,KAAKF,KAKrBlH,EAAIqH,SAAW,SAAS3C,EAAO,GAC3B,GAAY,GAARA,GAA6D,GAAhD7C,SAASM,iBAAiB,YAAYhC,OAAa,CAChE,IAAImH,EAAUzF,SAASkF,cAAc,OACrCO,EAAQC,UAAY,UACpB,IAAIC,EAAU3F,SAASkF,cAAc,OACrCS,EAAQD,UAAY,UACpBD,EAAQN,YAAYQ,GACC,MAAjB3F,SAAS4F,MACT5F,SAAS4F,KAAKT,YAAYM,QAG5BzF,SAAS6F,uBAAuB,WAAW,IAAM7F,SAAS6F,uBAAuB,WAAW,GAAG3D,UAKzG/D,EAAI2H,UAAY,SAASlC,GACrB,IAAImC,EAAgB7B,GAAGK,OAAOX,GAC1BoC,EAAgB9B,GAAGC,KAAKP,EAAO,aAAc,OAC7CoC,EAAc1H,OAAS,GACvB0H,EAAc9F,SAAQ,SAASC,GAC3BhC,EAAI0G,UAAU1E,EAAO,MAAO,QAAS,aACrChC,EAAI0G,UAAU1E,EAAO,MAAO,QAAS,kBAErC,IAAImB,EAAMtB,SAASkF,cAAc,OACjC5D,EAAI2E,MAAQ,SACZ,IAAIC,EAAQlG,SAASkF,cAAc,SACnCgB,EAAMrD,KAAO,QACbqD,EAAMC,GAAK,SACXD,EAAME,IAAM,IACZF,EAAMG,IAAM,IACZ/E,EAAIjC,OAAO6G,GACX/F,EAAMgF,YAAY7D,GAClBnB,EAAMmG,aAAahF,EAAKnB,EAAMiF,eAKtClB,GAAGqC,OAAO,OAAQ,SAAU,WAAW,SAAShG,GAC5C,IAAIiG,EAAetC,GAAGC,KAAK5D,EAAQoE,cAAcA,cAAe,cAChE,GAAI6B,EACA,OAAQjG,EAAQJ,OACZ,IAAK,IAIL,IAAK,IACDqG,EAAaxF,aAAa,QAAS,mBACnC,MAEJ,IAAK,IACDwF,EAAaxF,aAAa,QAAS,mBACnC,MAEJ,IAAK,IACDwF,EAAaxF,aAAa,QAAS,mBACnC,MAEJ,IAAK,IACDwF,EAAaxF,aAAa,QAAS,mBACnC,MAEJ,IAAK,IACDwF,EAAaxF,aAAa,QAAS,mBACnC,MAEJ,IAAK,IACDwF,EAAaxF,aAAa,QAAS,uBAOnDkD,GAAGqC,OAAO,OAAQ,QAAS,iBAAiB,SAAShG,EAASkG,GAC1D,GAAIlG,EAAQmG,UAAUC,SAAS,eAC3B,OAEJ,IAAIC,EAAoB1C,GAAGC,KAAK4B,EAAe,cAC/C,IAAKU,EAAMI,OAAOH,UAAUC,SAAS,cAAgBzC,GAAGC,KAAK5D,EAAS,WAAY,OAAOjC,OAAS4F,GAAGC,KAAK5D,EAAS,aAAc,OAAOjC,OAAQ,CAC5I,IAAIwI,EAAMC,KAAKC,MAAMP,EAAMQ,MAAQ9I,EAAI+I,OAAO3G,GAASuG,KAAO,EAAuBF,EAAkBO,aAAeP,EAAkBO,aAAe,GAAM,GAAK,GAAKvC,OAAOwC,YAC1KC,EAAON,KAAKC,MAAMP,EAAMa,MAAQnJ,EAAI+I,OAAO3G,GAAS8G,MAAQ,EAAuBT,EAAkBO,aAAeP,EAAkBO,aAAe,GAAM,GAAK,GAAKvC,OAAO2C,YAChL,GAAuC,UAAnCd,EAAMI,OAAO7C,aAAa,MAAmB,CACzCyC,EAAMI,OAAOH,UAAUC,SAAS,YAChCF,EAAMI,OAAO7F,aAAa,kBAAmB,KAGjD,IAAIwG,EAAgBtD,GAAGuD,MAAMb,GAC7BY,EAAcd,UAAUxE,OAAO,aAC/BsF,EAAcd,UAAUgB,IAAI,aAC5BF,EAAcrB,GAAK5F,EAAQ4F,GAAK,KAAOjC,GAAGC,KAAK5D,EAAS,aAAc,OAAOjC,OAAS,GACtF4F,GAAGE,OAAOoD,EAAe,CACrBG,SAAU,WACVb,IAAKA,EAAM,KACXO,KAAMA,EAAO,KACbhD,QAAS,UAEblG,EAAIwD,QAAQC,MAAM4F,EAAcrB,GAAI,SAAUM,EAAMI,OAAOV,IAC3DjC,GAAG0D,YAAYJ,EAAetD,GAAGC,KAAK5D,EAAS,WAAY,OAAO2D,GAAGC,KAAK5D,EAAS,WAAY,OAAOjC,OAAS,UAEhH,GAAImI,EAAMI,OAAOH,UAAUC,SAAS,aAAc,CACrD,IAAIkB,EAAUpB,EAAMI,OAAOV,GAAG/C,MAAM,KAAK,GACrC0E,EAAS3J,EAAIwD,QAAQC,MAAM6E,EAAMI,OAAOV,GAAI,UAGhD,GAFAM,EAAMI,OAAO3E,SAET2F,EACA,IAAK,IAAIzH,EAASyH,EAAU,EAAIzH,EAAQ8D,GAAGC,KAAK5D,EAAS,aAAc,OAAOjC,OAAQ8B,IAAS,CAC3F,IAAI2H,EAAaxH,EAAQ4F,GAAK,KAAO/F,EAAQ,GACzC4H,EAAezH,EAAQ4F,GAAK,KAAO/F,EAAQ,GAC3C6H,EAAkB9J,EAAIwD,QAAQC,MAAMoG,EAAc,UACtD7J,EAAIwD,QAAQC,MAAMmG,EAAY,SAAUE,GACxC9J,EAAIwD,QAAQO,OAAO8F,GACnB9D,GAAGK,OAAO,IAAMyD,GAAc7B,GAAK4B,EAI3C,QAAuB,MAAa,CAChC,IAAIG,GAAO,EACPC,EAAajE,GAAGC,KAAK4B,EAAe,aAAc,OAEtD,IAAK,IAAI3F,EAAQ,EAAGA,EAAQ+H,EAAW7J,OAAQ8B,IAC3C,GAAIjC,EAAIwD,QAAQC,MAAMuG,EAAW/H,GAAO+F,GAAI,WAAa2B,EAAQ,CAC7DI,GAAO,EACP,MAGJA,GACAhE,GAAGK,OAAO,oBAAsBuD,GAAQ9G,aAAa,kBAAmB,MAKpF,IAAIoH,EAAQ,GACRC,EAAM,EAENF,EAAajE,GAAGC,KAAK4B,EAAe,aAAc,OAEtD,IAAK,IAAI3F,EAAQ,EAAGA,EAAQ+H,EAAW7J,OAAQ8B,IAC3CgI,GAAS,IAAMC,EAAM,MAAQF,EAAW/H,GAAOkI,UAAY,IAAMH,EAAW/H,GAAOmI,WAAa,IAAMJ,EAAW/H,GAAOoI,YAAc,IAAML,EAAW/H,GAAO+G,aAAe,KAC7KkB,IAEJ9H,EAAQS,aAAa,eAAgB,IAAMoH,EAAMlF,OAAO,EAAGkF,EAAM9J,OAAS,GAAK,KAC/EH,EAAIsK,SAAS7E,MAGjB,IAAI8E,EAAaxE,GAAGC,KAAK4B,EAAe,mBAAoB,OAE5D,IAAK,IAAI3F,EAAQ,EAAGA,EAAQsI,EAAWpK,OAAQ8B,IAC3C,GAAwD,aAApDsI,EAAWtI,GAAO4D,aAAa,mBAAwF,IAApD0E,EAAWtI,GAAO4D,aAAa,kBAAyB,CAC3H,IAAI2E,EAAUD,EAAWtI,GAAO4D,aAAa,aAAe0E,EAAWtI,GAAO4D,aAAa,kBAC3FE,GAAG9E,OAAO,OAAQ,aAAeuJ,EAAU,2BAA4B,aAI/E,IAAIC,EAAY1E,GAAGO,UAAU,aAC7B,IAAK,IAAIrE,EAAQ,EAAGA,EAAQwI,EAAUtK,OAAQ8B,IAAS,CACnD,IAAIyG,EAAS+B,EAAUxI,GAAO+F,GAC1B0C,EAASD,EAAUxI,GAAO0I,QAAQC,OAClClC,GAAUgC,IACV5K,EAAU4I,GAAU,CAAC3C,GAAGK,OAAO,IAAMsE,GAAS3E,GAAGK,OAAO,IAAMsC,KAItE,IAAImC,EAAY,IAAIC,EAAU,kBAAmB,YAAa,YAAahL,GAE3E+K,EAAUE,OAAS,SAASzC,GACpBA,EAAM0C,SAFC,GAGPvE,OAAOwE,SAAS,EAAGxE,OAAOyE,QAHR,GAIX5C,EAAM0C,SAAYvE,OAAO0E,YAAc,IAC9C1E,OAAOwE,SAAS,EAAGxE,OAAOyE,QALR,GAOsB,GAAxCnF,GAAGO,UAAU,iBAAiBnG,QAC9B4F,GAAGK,OAAO,iBAAiB6E,SAAS3C,EAAM8C,QAAS9C,EAAM0C,SAElB,GAAvCjF,GAAGO,UAAU,gBAAgBnG,QAC7B4F,GAAGK,OAAO,gBAAgB6E,SAAS3C,EAAM8C,QAAS9C,EAAM0C,UAIhEH,EAAUQ,YAAc,SAAS/C,EAAOlG,GACpC,IACIkJ,EAAKd,EADL9B,EAAStG,EAETA,EAAQmG,UAAUC,SAAS,aAAeE,EAAO7C,aAAa,gBAA+D,IAA7C6C,EAAO7C,aAAa,eAAelD,SACnH+F,EAAS3C,GAAGC,KAAKP,EAAO,IAAMiD,EAAO7C,aAAa,iBAIlD2E,OADiD,IAA1C9B,EAAO7C,aAAa,mBAA8E,IAAzC6C,EAAO7C,aAAa,kBAC1E,OAAS6C,EAAO7C,aAAa,aAAe6C,EAAO7C,aAAa,kBAAoB,IAEpF6C,EAAO6C,MAAMC,gBAEZ,QAAXhB,GAAgC,IAAXA,EACrBc,EAAM,CACFG,MAAS/C,EAAO2B,YAChBqB,OAAUhD,EAAOM,eAGrBsC,EAAM,IAAIK,MACVL,EAAIM,IAAMpB,EAAQzF,OAAO,EAAIyF,EAAQrK,OAAS,IAGlD,IAAI0L,EAAczJ,EAAQ0J,WAAU,GAOpC,OANAD,EAAYxJ,gBAAgB,WAC5BwJ,EAAYN,MAAM/B,SAAW,WAC7BqC,EAAYN,MAAMQ,OAAS,EAC3BF,EAAYL,gBAAkBhB,EAC9BqB,EAAYN,MAAME,MAAQH,EAAIG,MAAQ,KACtCI,EAAYN,MAAMG,OAASJ,EAAII,OAAS,KACjCG,GAGXhB,EAAUmB,OAAS,SAAStB,EAAQhC,GAChC,IAAIuD,EAASvB,EAAOoB,WAAU,GAC9BpD,EAAO6C,MAAMW,gBAAkBD,EAAOpG,aAAa,gBACnD6C,EAAO7F,aAAa,UAAW,GAC/B6F,EAAO7F,aAAa,UAAW,GAGe,KAA1C6H,EAAO7E,aAAa,qBACpB6E,EAAOnC,UAAUgB,IAAI,mBACrBmB,EAAOa,MAAMY,YAAY,SAAU,UAAW,aAC9CzB,EAAOa,MAAMY,YAAY,UAAW,MAAO,cAG/CzD,EAAOH,UAAUxE,OAAO,cACxB2E,EAAO6C,MAAMa,QAAU,IAEvB,IAAIC,EAAU3B,EAAO7E,aAAa,eAAiB6E,EAAO7E,aAAa,eAAiB6E,EAAO7E,aAAa,MACxG2E,EAAU,GAEVA,EADAE,EAAO7E,aAAa,mBAA8D,IAAzC6E,EAAO7E,aAAa,kBACnD,OAAS6E,EAAO7E,aAAa,aAAe6E,EAAO7E,aAAa,kBAAoB,IAEpF6E,EAAOa,MAAMC,gBAGvBxL,EAAIgE,QAAQC,MAAQoI,GAAwE,IAA7DtG,GAAGC,KAAKD,GAAGK,OAAOX,GAAQ,IAAM4G,GAASC,UAAU3J,SAClF+H,EAAOa,MAAMW,gBAAkB,eAGnCxD,EAAO7F,aAAa,eAAgBwJ,GACpC3D,EAAO7F,aAAa,cAAewJ,GACnC3D,EAAO7F,aAAa,YAAa6H,EAAO7E,aAAa,cACrD6C,EAAO7F,aAAa,iBAAkB6H,EAAO7E,aAAa,mBAC1D6C,EAAO7F,aAAa,iBAAkB6H,EAAO7E,aAAa,mBAE1DE,GAAGE,OAAOyC,EAAQ,CACdwD,gBAAiBxB,EAAOa,MAAMW,gBAC9BV,gBAAiBhB,IAGG+B,MAArBxG,GAAGK,OAAO6F,GACTlG,GAAGC,KAAK0C,EAAQ,KAAK4D,UAAYvG,GAAGK,OAAO6F,GAAQK,UAAU3J,OAE7DoD,GAAGC,KAAK0C,EAAQ,KAAK4D,UAAYL,EAAOK,UAAU3J,OAItD6J,YAAW,WACPxM,EAAIsK,SAAS7E,KACd,MAIPoF,EAAU4B,SAAW,WACjB,GAAIzM,EAAIuD,eACJ,OAAO,EAEXwC,GAAG2G,QAAQ,0IAA2I,KACtJ,IAAIpB,EAAMzJ,SAASkF,cAAc,OACjCuE,EAAIM,IAAM,0EACVN,EAAIqB,IAAM,eACV,IAAIxJ,EAAMtB,SAASkF,cAAc,OAC7B6F,EAAU/K,SAASkF,cAAc,OACjCgB,EAAQlG,SAASkF,cAAc,SACnCgB,EAAMrD,KAAO,WACbqD,EAAMC,GAAK,iBAEXD,EAAMQ,UAAUgB,IAAI,QACpBxB,EAAM8E,SAAW,WACb7M,EAAIuD,eAAiBK,KAAKkJ,QACtBlJ,KAAKkJ,SACLrN,EAAOsN,SAIf,IAAIC,EAAQnL,SAASkF,cAAc,SACnCiG,EAAMnK,aAAa,MAAO,kBAC1BmK,EAAMV,UAAY,+BAElBM,EAAQ1L,OAAOoK,GACfnI,EAAIjC,OAAO6G,GACX5E,EAAIjC,OAAO8L,GACXJ,EAAQ1L,OAAOiC,GAEf1D,EAAS,WAEL,GADAC,EAAKoE,UAAU,IACXA,UAAU,GAAGmJ,gBAAiB,CAC9B,IAAIC,EAAcrL,SAASkF,cAAc,UACzCmG,EAAY3F,UAAY,oBACxB2F,EAAYC,QAAU,WAAazN,EAAKqN,SACxCG,EAAYE,YAAc,IAC1BF,EAAY3E,UAAUgB,IAAI,qBAC1B2D,EAAY3B,MAAM8B,OAAS,QAC3BH,EAAY3B,MAAM+B,MAAQ,OAC1B,IAAIC,EAAQ1L,SAASC,cAAc,eACnCiE,GAAGK,OAAO,cAAcmF,MAAMiC,UAAU,OACxCzH,GAAGK,OAAO,cAAcmF,MAAMkC,aAAa,OAC3C1H,GAAGK,OAAO,cAAcmF,MAAMmC,MAAQ,OACtCH,EAAMvG,YAAYkG,KAI1BzN,EAAO,CACHkO,KAAM,eACNf,QAASA,EAETgB,SAAS,EACTX,iBAAiB,KAKzBpC,EAAUgD,SAAW,SAASnD,EAAQhC,GAClCgC,EAAOrI,gBAAgB,WACvBqI,EAAO7H,aAAa,UAAW,GAG3B6F,IACAA,EAAOH,UAAUxE,OAAO,mBACxB2E,EAAO6C,MAAMuC,OAAS,GACtBpF,EAAO6C,MAAMa,QAAU,IAG3B1B,EAAOnC,UAAUxE,OAAO,cACxB2G,EAAOa,MAAMa,QAAU,IAEvB1B,EAAO7H,aAAa,eAAgB,IACpC6H,EAAO7H,aAAa,cAAe,IACnC6H,EAAOa,MAAMW,gBAAkBxB,EAAO7E,aAAa,gBACnD6E,EAAOa,MAAMC,gBAAkBd,EAAO7E,aAAa,gBACnDE,GAAGC,KAAK0E,EAAQ,KAAK4B,UAAY5B,EAAO7E,aAAa,gBACrD2G,YAAW,WACPxM,EAAIsK,SAAS7E,KACd,MAGPoF,EAAUkD,OAAS,SAAS3L,GACxB,IACI,IAAI4L,EAAW,GACX5L,EAAQyD,aAAa,gBACrBmI,EAAW5L,EAAQyD,aAAa,aAAezD,EAAQyD,aAAa,gBAEpEzD,EAAQmJ,MAAMC,gBAAgBnH,MAAM,cAAgBjC,EAAQmJ,MAAMC,gBAAgBnH,MAAM,WACxFjC,EAAQmJ,MAAMC,gBAAkB,OAASwC,EAAW,KAE1D,MAAOC,GACL9G,QAAQC,KAAK6G,KAIrBpD,EAAUqD,MAAQ,SAAS9L,GACvB,IACI,IAAI4L,EAAW,OACX5L,EAAQyD,aAAa,gBACrBmI,EAAW5L,EAAQyD,aAAa,gBAEmB,GAAnDzD,EAAQmJ,MAAMC,gBAAgB2C,OAAOH,KACrC5L,EAAQmJ,MAAMC,gBAAkB,IAEtC,MAAOyC,GACL9G,QAAQC,KAAK6G,KAIrBlI,GAAGqC,OAAO,OAAQ,WAAY3C,EAAQ,aAAa,SAASrD,EAASkG,GACjE,IACQlG,EAAQwD,QAAQH,KACkC,GAA9CrD,EAAQyD,aAAa,eAAe1F,QACpCH,EAAIqH,SAAS,GACbtB,GAAGqI,KAAK,CACJC,IAAKC,QAAU,YACf5M,KAAM,CACF6M,WAAcnM,EAAQyD,aAAa,eACnCuI,KAAQ,KAEZI,SAAS,IACVC,MAAK,SAASC,GACb1O,EAAIqH,SAAS,GACTtB,GAAGO,UAAU,iBAAiBnG,OAAS,EACvC4F,GAAG9E,OAAO,aAAc,oQAAsQyN,EAAW,2BAA4B,aAErU3I,GAAGK,OAAO,8BAA8BuI,UAAYD,EAExD3I,GAAG6I,MAAM,qBAAsB,SAASC,WAEE,IAAvCzM,EAAQyD,aAAa,iBACxBE,GAAGK,OAAO,WAAWjG,OAAS,GAC9B4F,GAAG9E,OAAO,OAAQ,yFAA2FmB,EAAQyD,aAAa,eAAiB,eAAgB,aACnKE,GAAGE,OAAOF,GAAGK,OAAO,WAAY,CAC5BuC,IAAOL,EAAMQ,MAAQ,KACrBI,KAAQZ,EAAMa,MAAQ,KACtBjD,QAAW,YAGfH,GAAGK,OAAO,wBAAwBkG,UAAYlK,EAAQyD,aAAa,eACnEE,GAAGE,OAAOF,GAAGK,OAAO,wBAAyB,CACzCuC,IAAOL,EAAMQ,MAAQ,KACrBI,KAAQZ,EAAMa,MAAQ,KACtBjD,QAAW,aAK7B,MAAOgB,GACLC,QAAQC,KAAKF,OAIrBnB,GAAGqC,OAAO,OAAQ,QAAS,iBAAiB,WACxCrC,GAAGK,OAAO,WAAW0I,UAAY/I,GAAGK,OAAO,WAAWrC,YAG1D,IAAI9B,EAAQ,EAEZ8D,GAAGqC,OAAO,OAAQ,QAAS3C,EAAQ,YAAY,SAASrD,GACpD,IACI,IAAI2M,EAAY3M,EAAQyD,aAAa,SAASZ,MAAM,KACpD7C,EAAQmJ,MAAMC,gBAAkB,OAASpJ,EAAQyD,aAAa,aAAekJ,EAAU9M,GAAS,IAChGA,IACI8M,EAAU5O,QAAU8B,IAAOA,EAAQ,GACzC,MAAOiF,GACLC,QAAQC,KAAKF,QAMzBlH,EAAI6K,UAAY,SAASzI,EAAS4M,GAC1BA,GACA5M,EAAQmG,UAAUxE,OAAO,mBACzB3B,EAAQmJ,MAAMuC,OAAS,GACvB1L,EAAQmJ,MAAMa,QAAU,IAExBhK,EAAQmG,UAAUgB,IAAI,mBACtBnH,EAAQmJ,MAAMY,YAAY,SAAU,UAAW,aAC/C/J,EAAQmJ,MAAMY,YAAY,UAAW,MAAO,eAKpDnM,EAAIiP,QAAU,SAAS7M,EAASsC,EAAO,GACnC,GAAItC,EAAQ4F,GAAI,CACZ,IAAIkH,EAAanJ,GAAGO,UAAU,OAC1B6I,GAAe,EACnB,IAAK,IAAIlN,EAAQ,EAAGA,EAAQiN,EAAW/O,OAAQ8B,IAC3C,GAAIG,EAAQ4F,IAAMkH,EAAWjN,GAAO+F,GAAI,CAG5BmH,EAFJzK,EACIzC,GAAUiN,EAAW/O,OAAS,EAChB,EAEA8B,EAAQ,EAGb,GAATA,EACciN,EAAW/O,OAAS,EAEpB8B,EAAQ,EAG9B,OAIY,GAAhBkN,GACAD,EAAWC,GAAaC,UAMpCpP,EAAIqP,iBAAmB,SAASjN,EAASkN,EAAY,EAAGC,EAAa,GACjE,IAAI5G,EAAM6G,SAASpN,EAAQmJ,MAAM5C,IAAIjG,QAAQ,KAAM,KAAO4M,EACtDpG,EAAOsG,SAASpN,EAAQmJ,MAAMrC,KAAKxG,QAAQ,KAAM,KAAO6M,EACxD9D,EAAQ+D,SAASpN,EAAQoE,cAAc+E,MAAME,MAAM/I,QAAQ,KAAM,KACjEgJ,EAAS8D,SAASpN,EAAQoE,cAAc+E,MAAMG,OAAOhJ,QAAQ,KAAM,KAavE,OAXIwG,EAAQuC,EAAQrJ,EAAQiI,YACxBnB,EAAOuC,EAAQrJ,EAAQiI,YAChBnB,EAAO,IACdA,EAAO,GAGPP,EAAO+C,EAAStJ,EAAQ4G,aACxBL,EAAM+C,EAAStJ,EAAQ4G,aAChBL,EAAM,IACbA,EAAM,GAEH,CACHA,IAAKA,EACLO,KAAMA,IAKdlJ,EAAIyP,UAAY,SAAShK,GACrB,IAAIiK,EAAiB3J,GAAGC,KAAKP,EAAO,cAAe,OACnD,IAAK,IAAIxD,EAAQ,EAAGA,EAAQyN,EAAevP,OAAQ8B,IACG,OAA9CyN,EAAezN,GAAO4D,aAAa,SAAsB6J,EAAezN,GAAOsG,UAAUC,SAAS,aAClGkH,EAAezN,GAAOsG,UAAUgB,IAAI,MAI5C,IAAIoG,EAAQ,EACRC,EAAY,GACZC,EAAK,CACLzE,QAAS,GACTJ,QAAS,IAGbjF,GAAGC,KAAKP,EAAO,YAAa,CACxBqK,OAAQ,cACRC,WAAY,aAGhB,IAAIC,EAAWjK,GAAGO,UAAU,OAwB5B,IAAI2J,GARaC,EAQG,MARKC,EAQE,OANhB,GAAG1O,IAAI2O,KAAKJ,GAAU,SAASK,GAClC,OAAOA,KACRC,MAjBSC,EAiBGL,EAjBGM,EAiBKL,EAhBhB,SAASM,EAAGC,GACf,IAAIC,EAAWnB,SAASiB,EAAElF,MAAMgF,IAC5BK,EAAWpB,SAASkB,EAAEnF,MAAMgF,IAChC,GAAII,GAAYC,EAAU,CACtB,IAAIC,EAAWrB,SAASiB,EAAElF,MAAMiF,IAC5BM,EAAWtB,SAASkB,EAAEnF,MAAMiF,IAChC,OAAOK,EAAWC,GAAY,EAAKD,EAAWC,EAAW,EAAI,EAEjE,OAAOH,EAAWC,GAAY,EAAKD,EAAWC,EAAW,EAAI,MAIrE,IAAiBV,EAAQC,EAbTI,EAAMC,EAuBtB,IAAK,IAAIvO,EAAQ,EAAGA,EAAQgO,EAAM9P,OAAQ8B,IAAS,CAC/C,IAAI+F,EAAKiI,EAAMhO,GAAO4D,aAAa,MAC/Bc,EAASsJ,EAAMhO,GAAOuE,cACtBwB,GACAjC,GAAGC,KAAKP,EAAO,IAAMuC,EAAI,CACrB8H,OAAQ,WAGZnJ,GACAA,EAAOzF,OAAO+O,EAAMhO,IAK5B,SAAS8O,IAEL,GADiBhL,GAAGO,UAAU,OACfnG,OAAS,EAAG,CACvB,IAAI6Q,EAAOjL,GAAGK,OAAO,OACjB6K,EAAcD,EAAKE,SAAS,GAC5BD,IAAgBA,EAAY1I,UAAUC,SAAS,gBAAkByI,EAAY1I,UAAUC,SAAS,gBAAkByI,EAAY1I,UAAUC,SAAS,eACjJyI,EAAY7B,QACwC,GAA7CrJ,GAAGC,KAAKgL,EAAM,aAAc,OAAO7Q,OAC1C4F,GAAGC,KAAKgL,EAAM,cAAc5B,QAE5B4B,EAAK5B,SAMjB,SAAS+B,IAEL,GADiBpL,GAAGO,UAAU,OACfnG,OAAS,EAAG,CACvB,IAAI6Q,EAAOjL,GAAGO,UAAU,OAAOP,GAAGO,UAAU,OAAOnG,OAAS,GACxDiR,EAAaJ,EAAKE,SAAS,GAC3BE,IAAeA,EAAW7I,UAAUC,SAAS,gBAAkB4I,EAAW7I,UAAUC,SAAS,gBAAkB4I,EAAW7I,UAAUC,SAAS,eAC7I4I,EAAWhC,QACyC,GAA7CrJ,GAAGC,KAAKgL,EAAM,aAAc,OAAO7Q,OAC1C4F,GAAGC,KAAKgL,EAAM,cAAc5B,QAE5B4B,EAAK5B,SAMjB,SAASiC,EAAWC,EAAMhG,EAAM,GAC5B,IAAIiG,GAAW,EACXvB,EAAWjK,GAAGC,KAAKP,EAAO,IAAM6L,EAAM,OACtCE,EAAW,EAAQzL,GAAGK,OAAO,oBAAsBL,GAAGK,OAAO,aACjE,GAAIoL,EAAS1C,SAAU,CACnB,IAAI2C,EAAWD,EAAS3L,aAAa,MACrC,IAAK,IAAI5D,EAAQ,EAAGA,EAAQ+N,EAAS7P,OAAQ8B,IACzC,GAAIwP,GAAYzB,EAAS/N,GAAO4D,aAAa,MAAO,CAChD0L,GAAW,EACX,OAIZ,OAAOA,EAiHX,SAASG,EAAc/I,EAAKO,GACxB,IAAIyI,EAAe5L,GAAGK,OAAO,iBAEU,UAAnCuL,EAAa9L,aAAa,OAC1BE,GAAGE,OAAOF,GAAGC,KAAKP,EAAO,oBAAqB,CAC1C+D,SAAU,WACVb,IAAKA,EAAM,KACXO,KAAMA,EAAO,OAIrB,IAAIc,EAAajE,GAAGC,KAAKP,EAAO,aAAc,OAC1CwE,EAAQ,GACRC,EAAM,EACV,IAAK,IAAI0H,EAAY,EAAGA,EAAY5H,EAAW7J,OAAQyR,IACnD3H,GAAS,IAAMC,EAAM,MAAQF,EAAW4H,GAAWzH,UAAY,IAAMH,EAAW4H,GAAWxH,WAAa,IAAMJ,EAAW4H,GAAWvH,YAAc,IAAML,EAAW4H,GAAW5I,aAAe,KAC7LkB,IAEJyH,EAAa9O,aAAa,eAAgB,IAAMoH,EAAMlF,OAAO,EAAGkF,EAAM9J,OAAS,GAAK,KACpFH,EAAI6R,cAAcF,GAClB3R,EAAIsK,SAAS7E,GAIjB,SAASqM,KAxET,WACI,IAAIC,EAAKhM,GAAGO,UAAU,OACtB,IAAK,IAAIrE,EAAQ,EAAGA,EAAQ8P,EAAG5R,OAAQ8B,IACnC,GAAI8P,EAAG9P,GAAOsG,UAAUC,SAAS,gBAAiB,CAC9C,IAAIwJ,EAAeD,EAAG9P,GAClBgQ,EAAQD,EAAad,SACzB,IAAK,IAAIgB,EAAY,EAAGA,EAAYD,EAAM9R,OAAQ+R,IAC9C,GAAID,EAAMC,GAAW3J,UAAUC,SAAS,gBAAmBzC,GAAGC,KAAKgM,EAAc,WAAY,OAAO7R,OAAS4F,GAAGC,KAAKgM,EAAc,aAAc,OAAO7R,OAAS,CAC7J,IAAIwI,EAAMC,KAAKC,MAAMgH,EAAG7E,QAAWjF,GAAGC,KAAKP,EAAO,cAAcuD,aAAe,GAC3EE,EAAON,KAAKC,MAAMgH,EAAGzE,QAAWrF,GAAGC,KAAKP,EAAO,cAAc4E,YAAc,GAC/E,GAAuC,UAAnC2H,EAAanM,aAAa,OACtBE,GAAGC,KAAKP,EAAO,cAAe,CAC9B,IAAI0M,EAAYpM,GAAGC,KAAKP,EAAO,cAAcqG,WAAU,GACvDqG,EAAU5J,UAAUxE,OAAO,aAC3BoO,EAAU5J,UAAUgB,IAAI,aACxB4I,EAAUnK,GAAKgK,EAAahK,GAAK,KAAOjC,GAAGC,KAAKgM,EAAc,aAAc,OAAO7R,OAAS,GAE5F4F,GAAGE,OAAOkM,EAAW,CACjB3I,SAAU,WACVb,IAAKA,EAAM,KACXO,KAAMA,EAAO,KACbhD,QAAS,UAIblG,EAAIwD,QAAQC,MAAM0O,EAAUnK,GAAI,SAAUgK,EAAahK,IACvDjC,GAAG0D,YAAY0I,EAAWpM,GAAGC,KAAKgM,EAAc,WAAY,OAAOjM,GAAGC,KAAKgM,EAAc,WAAY,OAAO7R,OAAS,IAG7H,IAAI6J,EAAajE,GAAGC,KAAKP,EAAO,aAAc,OAE1CwE,EAAQ,GACRC,EAAM,EACV,IAAK,IAAI0H,EAAY,EAAGA,EAAY5H,EAAW7J,OAAQyR,IACnD3H,GAAS,IAAMC,EAAM,MAAQF,EAAW4H,GAAWzH,UAAY,IAAMH,EAAW4H,GAAWxH,WAAa,IAAMJ,EAAW4H,GAAWvH,YAAc,IAAML,EAAW4H,GAAW5I,aAAe,KAC7LkB,IAEJ8H,EAAanP,aAAa,eAAgB,IAAMoH,EAAMlF,OAAO,EAAGkF,EAAM9J,OAAS,GAAK,KACpFH,EAAIsK,SAAS7E,GACboK,EAAGzE,SAAW,GAGtBpL,EAAI6R,cAAcG,IA+B1BI,GACAzC,EAAQ,EAxGZ,WACI5J,GAAGC,KAAKP,EAAO,YAAa,CACxBqK,OAAQ,cACRC,WAAY,aAEhB,IAAIb,EAAanJ,GAAGO,UAAU,OAC1B+L,EAAYnD,EAAW/O,OAEvBmS,EAAUpD,EAAWS,GAErB2C,IACIA,EAAQpB,SAAS,KAAOoB,EAAQpB,SAAS,GAAG3I,UAAUC,SAAS,gBAAkB8J,EAAQpB,SAAS,GAAG3I,UAAUC,SAAS,gBAAkB8J,EAAQpB,SAAS,GAAG3I,UAAUC,SAAS,eACjL8J,EAAQpB,SAAS,GAAG9B,QACmC,GAAhDrJ,GAAGC,KAAKsM,EAAS,aAAc,OAAOnS,OAC7C4F,GAAGC,KAAKsM,EAAS,cAAclD,QAE/BkD,EAAQlD,SAKZO,GAAU0C,EAAY,EACtB1C,EAAQ,EAERA,IAiFJ4C,GAIJ,SAASC,IACL,IAAIC,EAAY1M,GAAGK,OAAO,aACtBqM,IACIA,EAAUlK,UAAUC,SAAS,kBAAoBiK,EAAUlK,UAAUC,SAAS,oBAC9EzC,GAAGC,KAAKP,EAAO,YAAa,CACxBqK,OAAQ,cACRC,WAAY,cAEhBH,EAAY6C,EAAUzK,GACtByK,EAAUlK,UAAUgB,IAAI,cAExBmJ,GAAGhG,QAAQ,yBAMvB,SAASiG,IACL,IAAIC,EAAW7M,GAAGK,OAAO,aACzB,GAAIwM,GAAyB,IAAbhD,GAAmBgD,EAASrK,UAAUC,SAAS,gBAAiB,CAC5E,IAAIqK,EAAU9M,GAAGC,KAAKP,EAAO,IAAMmK,GACnCiD,EAAQtK,UAAUxE,OAAO,aACzB,IAAIyG,EAAU,GACV6B,EAAUwG,EAAQhN,aAAa,eAAiBgN,EAAQhN,aAAa,eAAiBgN,EAAQhN,aAAa,MAE3G2E,EADAqI,EAAQhN,aAAa,mBAA+D,IAA1CgN,EAAQhN,aAAa,kBACrD,OAASgN,EAAQhN,aAAa,aAAegN,EAAQhN,aAAa,kBAAoB,IAEtFgN,EAAQtH,MAAMC,gBAGxBoH,EAAS/M,aAAa,gBAAiE,IAA/C+M,EAAS/M,aAAa,eAAelD,QAC7E3C,EAAI6K,UAAU9E,GAAGC,KAAKP,EAAO,IAAMmN,EAAS/M,aAAa,gBAAiB,GAG1E7F,EAAIgE,QAAQC,MAAQ8B,GAAGC,KAAKP,EAAO,IAAM4G,IAA8D,IAAlDtG,GAAGC,KAAKP,EAAO,IAAM4G,GAASC,UAAU3J,SAC7FkQ,EAAQtH,MAAMW,gBAAkB,eAGpCnG,GAAG+M,QAAQF,EAAU,CACjBG,QAAW1G,EACX2G,cAAe3G,EACf4G,eAAgB5G,EAChB6G,YAAaL,EAAQhN,aAAa,QAClCsN,iBAAkBN,EAAQhN,aAAa,aACvCuN,iBAAkBP,EAAQhN,aAAa,aACvCwN,QAAW,IACXC,QAAW,MAGfxT,EAAU8S,EAAS5K,IAAM,CAAC6K,EAASD,GAEnC7M,GAAGC,KAAK4M,EAAU,KAAKtG,UAAYuG,EAAQvG,UAAU3J,OAErDoD,GAAGE,OAAO2M,EAAU,CAChB1G,gBAAiB2G,EAAQtH,MAAMW,gBAC/BV,gBAAiBhB,IAGgD,KAAjEzE,GAAGC,KAAKP,EAAO,IAAM4G,GAASxG,aAAa,qBACrCgN,EAAQtK,UAAUC,SAAS,YAG7BxI,EAAI6K,UAAU9E,GAAGC,KAAKP,EAAO,IAAM4G,GAAU,GAF7CrM,EAAI6K,UAAUgI,EAAS,IAK/B7S,EAAIsK,SAAS7E,GACbmK,EAAY,IAKG,uBACnB2D,EAAQC,OAAO,2CAA4C,aAC3DD,EAAQ,2CAA4C,aAAa,SAASjL,EAAOmL,GAC7E,OAAQA,EAAQjR,KACZ,IAAK,WACDsP,IACA,MACJ,IAAK,OACD,GAAgD,GAA5C/L,GAAGK,OAAO,kBAAkB4C,aAC5B,GAAIqI,EAAW,YAAa,GAAI,CAC5B/I,EAAMoL,iBACN,IAAIlK,EAAWxJ,EAAIqP,iBAAiBtJ,GAAGK,OAAO,oBAAqB,EAAG,GACtEsL,EAAclI,EAASb,IAAKa,EAASN,WAClC,GAAImI,EAAW,aAAeA,EAAW,YAAa,CACzD,IAAIsC,EAAgB5N,GAAGK,OAAO,aAC1BwN,EAAkB7N,GAAGO,UAAU,OAAOP,GAAGO,UAAU,OAAOnG,OAAS,GAEnEwT,IAAmBA,EAAc3L,IAAM4L,EAAgB5L,IAAQ4L,EAAgB1C,SAAS,IAAO0C,EAAgB1C,SAAS,GAAGlJ,IAAM2L,EAAc3L,IAASjC,GAAGC,KAAK4N,EAAiB,eAAkB7N,GAAGC,KAAK4N,EAAiB,cAAc5L,IAAM2L,EAAc3L,IAC9P+I,IAEA/Q,EAAIiP,QAAQ0E,EAAe,GAE/BrL,EAAMoL,iBAGd,MACJ,IAAK,KACD,GAAgD,GAA5C3N,GAAGK,OAAO,kBAAkB4C,aAC5B,GAAIqI,EAAW,YAAa,GAAI,CAC5B/I,EAAMoL,iBACN,IAAIlK,EAAWxJ,EAAIqP,iBAAiBtJ,GAAGK,OAAO,qBAAsB,EAAG,GACvEsL,EAAclI,EAASb,IAAKa,EAASN,WAClC,GAAImI,EAAW,aAAeA,EAAW,YAAa,CACzD,IAAIsC,EAAgB5N,GAAGK,OAAO,aAC1B8I,EAAanJ,GAAGO,UAAU,OAAO,GAEjCqN,IAAmBA,EAAc3L,IAAMkH,EAAWlH,IAAQkH,EAAWgC,SAAS,IAAOhC,EAAWgC,SAAS,GAAGlJ,IAAM2L,EAAc3L,IAASjC,GAAGC,KAAKkJ,EAAY,eAAkBnJ,GAAGC,KAAKkJ,EAAY,cAAclH,IAAM2L,EAAc3L,IACrOmJ,IAEAnR,EAAIiP,QAAQ0E,EAAe,GAE/BrL,EAAMoL,iBAGd,MACJ,IAAK,OACD,GAAgD,GAA5C3N,GAAGK,OAAO,kBAAkB4C,aAC5B,GAAIqI,EAAW,YAAa,GAAI,CAC5B/I,EAAMoL,iBACN,IAAIlK,EAAWxJ,EAAIqP,iBAAiBtJ,GAAGK,OAAO,oBAAqB,GAAI,GACvEsL,EAAclI,EAASb,IAAKa,EAASN,WAClC,GAAImI,EAAW,aAAeA,EAAW,YAAa,CACzD,IAAIsC,EAAgB5N,GAAGK,OAAO,aAC1B8I,EAAanJ,GAAGO,UAAU,OAAO,GAEjCqN,IAAmBA,EAAc3L,IAAMkH,EAAWlH,IAAQkH,EAAWgC,SAAS,IAAOhC,EAAWgC,SAAS,GAAGlJ,IAAM2L,EAAc3L,IAASjC,GAAGC,KAAKkJ,EAAY,eAAkBnJ,GAAGC,KAAKkJ,EAAY,cAAclH,IAAM2L,EAAc3L,IACrOmJ,IAEAnR,EAAIiP,QAAQ0E,EAAe,GAIvC,MACJ,IAAK,QACD,GAAgD,GAA5C5N,GAAGK,OAAO,kBAAkB4C,aAC5B,GAAIqI,EAAW,YAAa,GAAI,CAC5B/I,EAAMoL,iBACN,IAAIlK,EAAWxJ,EAAIqP,iBAAiBtJ,GAAGK,OAAO,oBAAqB,EAAG,GACtEsL,EAAclI,EAASb,IAAKa,EAASN,WAClC,GAAImI,EAAW,aAAeA,EAAW,YAAa,CACzD,IAAIsC,EAAgB5N,GAAGK,OAAO,aAC1BwN,EAAkB7N,GAAGO,UAAU,OAAOP,GAAGO,UAAU,OAAOnG,OAAS,GAEnEwT,IAAmBA,EAAc3L,IAAM4L,EAAgB5L,IAAQ4L,EAAgB1C,SAAS,IAAO0C,EAAgB1C,SAAS,GAAGlJ,IAAM2L,EAAc3L,IAASjC,GAAGC,KAAK4N,EAAiB,eAAkB7N,GAAGC,KAAK4N,EAAiB,cAAc5L,IAAM2L,EAAc3L,IAC9P+I,IAEA/Q,EAAIiP,QAAQ0E,EAAe,GAIvC,MACJ,IAAK,QAC+C,GAA5C5N,GAAGK,OAAO,kBAAkB4C,eACxBqI,EAAW,YACXmB,IACOnB,EAAW,aAClBsB,KAGR,MACJ,IAAK,SAC+C,GAA5C5M,GAAGK,OAAO,kBAAkB4C,cACxBqI,EAAW,aA/SnC,SAAyB/I,GACrB,IAAIuL,EAAavL,EAAMI,OACnBoL,EAAaD,EAAWhO,aAAa,eACrCgO,EAAWtL,UAAUC,SAAS,aAA6B,IAAdsL,IAC7C/N,GAAGE,OAAO4N,EAAY,CAClB3H,gBAAiB2H,EAAWhO,aAAa,gBACzC2F,gBAAiBqI,EAAWhO,aAAa,kBAG7CgO,EAAWhR,aAAa,cAAe,IACvCgR,EAAWhR,aAAa,eAAgB,IACxCgR,EAAWhR,aAAa,UAAW,KACnCgR,EAAWxR,gBAAgB,WAEwC,KAA/D0D,GAAGK,OAAO,IAAM0N,GAAYjO,aAAa,oBACzC7F,EAAI6K,UAAU9E,GAAGK,OAAO,IAAM0N,GAAa,GAG3ChU,GAAaA,EAAU+T,EAAW7L,YAC3BlI,EAAU+T,EAAW7L,IAGhCjC,GAAGC,KAAK6N,EAAY,KAAKvH,UAAYuH,EAAWhO,aAAa,iBAEjE,IAAIkO,EAAkBvH,YAAW,WAC7BxM,EAAIsK,SAAS7E,GACbuO,aAAaD,KACd,KAqRiBE,CAAgB3L,OAMpCiL,EAAQW,SAAS,aACjBX,EAAQrD,OAAS,WACb,OAAO,IAKfnK,GAAGqC,OAAO,OAAQ,QAAS,OAAO,SAAS+L,EAAS7L,GAC3B,IAAjBA,EAAM8L,SAAkBD,EAAQ5L,UAAUC,SAAS,iBACnD2L,EAAQ/E,QACJ+E,EAAQ5L,UAAUC,SAAS,YAC3BgK,IACO2B,EAAQ5L,UAAUC,SAAS,aAClCmK,QAKZ5M,GAAGqC,OAAO,OAAQ,UAAW,mBAAmB,SAAS+L,EAAS7L,GAC9D,IAAI+L,EAAetO,GAAGO,UAAU,OAAOP,GAAGO,UAAU,OAAOnG,OAAS,GAChEmU,EAAgBvO,GAAGK,OAAO,OAC1BL,GAAGK,OAAO,aAAa0I,YACjB/I,GAAGK,OAAO,aAAaP,aAAa,OAASwO,EAAaxO,aAAa,OAAWwO,EAAanD,SAAS,IAAMnL,GAAGC,KAAKqO,EAAanD,SAAS,GAAI,eAAkBnL,GAAGK,OAAO,aAAaP,aAAa,OAASE,GAAGC,KAAKqO,EAAanD,SAAS,GAAI,cAAcrL,aAAa,QAA8C,IAAjCyC,EAAMiM,OAASjM,EAAM8L,UAAoC,GAAlB9L,EAAMkM,WACxUlM,EAAMoL,iBACN3C,MAGEhL,GAAGK,OAAO,aAAaP,aAAa,OAASyO,EAAczO,aAAa,OAAWyO,EAAcpD,SAAS,IAAMnL,GAAGC,KAAKsO,EAAcpD,SAAS,GAAI,eAAkBnL,GAAGK,OAAO,aAAaP,aAAa,OAASE,GAAGC,KAAKsO,EAAcpD,SAAS,GAAI,gBAAsC,GAAlB5I,EAAMkM,UAAsD,IAAjClM,EAAMiM,OAASjM,EAAM8L,WAC3T9L,EAAMoL,iBACNvC,MAIW,IAAf7I,EAAMiM,QACNxO,GAAGC,KAAKP,EAAO,aAAc,CACzBqK,OAAQ,cACRC,WAAY,cAEhBJ,EAAQ,EACRC,EAAY,GAERyE,EAAanD,SAAS,KAAOmD,EAAanD,SAAS,GAAG3I,UAAUC,SAAS,gBAAkB6L,EAAanD,SAAS,GAAG3I,UAAUC,SAAS,gBAAkB6L,EAAanD,SAAS,GAAG3I,UAAUC,SAAS,gBACrM6L,EAAanD,SAAS,GAAG9B,QACzBiF,EAAanD,SAAS,GAAGuD,QACmC,GAArD1O,GAAGC,KAAKqO,EAAc,aAAc,OAAOlU,QAClD4F,GAAGC,KAAKqO,EAAc,cAAcjF,QACpCrJ,GAAGC,KAAKqO,EAAc,cAAcI,SAEpCJ,EAAajF,QACbiF,EAAaI,YAKzB1O,GAAG2O,UAAU,OAAQ,SAAS,WACrBrD,EAAW,aAAgBA,EAAW,cACvCtL,GAAGC,KAAKP,EAAO,aAAc,CACzBqK,OAAQ,cACRC,WAAY,cAEhBH,EAAY,OAIpB7J,GAAGqC,OAAO,OAAQ,WAAY,yBAAyB,SAAS+L,EAAS7L,GACrE,GAAmB,IAAfA,EAAMiM,MAEN,OADAjM,EAAMoL,kBACC,MASnB1T,EAAI2U,SAAW,SAASC,GACpB,IAAI/P,EAAI,EACJgQ,EAAO,EACPC,EAAOC,EAAAA,EACPC,EAAO,EACPC,EAAOF,EAAAA,EAEX,KAAOlQ,EAAI+P,EAAOzU,QAAQ,CACtB,IAAI+U,EAAI1F,SAASoF,EAAO/P,KAAM,IAC1BsQ,EAAI3F,SAASoF,EAAO/P,KAAM,IAE1BqQ,EAAIJ,EAAMA,EAAOI,EACZA,EAAIL,IAAMA,EAAOK,GAEtBC,EAAIF,EAAMA,EAAOE,EACZA,EAAIH,IAAMA,EAAOG,GAE9B,MAAO,CACHxM,IAAKsM,EACL/L,KAAM4L,EACNrJ,MAAQoJ,EAAOC,EACfpJ,OAASsJ,EAAOC,IAKxBjV,EAAIoV,WAAa,SAASC,GACtB,IAAIC,GAAc,EACdC,EAAOF,EAAMxP,aAAa,eAC1BzC,EAAOiS,EAAMxP,aAAa,gBAQ9B,OANK0P,GAAQnS,GAAkB,IAARA,GAAcmS,EAAKtQ,MAAM,KAAKrC,SAASQ,MAC1DkS,EAAa,GAEL,IAARC,GAAsB,IAARnS,IACdkS,GAAc,GAEXA,GAIXtV,EAAIwV,YAAc,SAAS/P,EAAOgQ,EAASC,GAEvC,IAAItT,EAAU2D,GAAGK,OAAOX,GACpBkQ,EAAe5P,GAAGC,KAAKP,EAAO,YAAa,OAC/C,GAAIzF,EAAIgE,QAAQC,MAAQ0R,EAAaxV,OAAS,EAC1C,IAAK,IAAI8B,EAAQ,EAAGA,EAAQ0T,EAAaxV,OAAQ8B,IAAS,CACtD,IAAI2T,EAAcD,EAAa1T,GAE/B,GAAI2T,EAAY5M,cAAgB,GAAKjD,GAAGO,UAAUb,EAAQ,iBAAmBA,EAAQ,QAAQtF,OAAS,EAAG,CACrG,IAAIwI,EAAM,EACN+C,EAAS,EACTmK,EAAc9P,GAAGC,KAAK4P,EAAa,eAAgB,OACvD,IAAK,IAAIE,EAAa,EAAGA,EAAaD,EAAY1V,OAAQ2V,IAAc,CACpE,IAAIC,EAAeF,EAAY5T,GAC3B8T,EAAa/M,aAAe0C,IAC5BA,EAASqK,EAAa/M,cAEtBhJ,EAAI+I,OAAOgN,GAAcpN,IAAMA,IAC/B+C,EAAS1L,EAAI+I,OAAOgN,GAAcpN,KAGlCoN,EAAaxN,UAAUC,SAAS,aAAe,GAA2C,eAAtCuN,EAAaxK,MAAMW,iBAA0E,QAAtC6J,EAAaxK,MAAMC,iBAA8D,IAAjCuK,EAAazJ,UAAU3J,QAClLoD,GAAGE,OAAO8P,EAAc,CACpB7J,gBAAiB,QACjBE,QAAS,IACT8D,OAAQ,qBAKpB0F,EAAYrK,MAAMG,OAAUA,EAAS/C,EAAO,KAC5C5C,GAAGE,OAAO2P,EAAa,CACnBlK,OAASA,EAAS/C,EAAO,KACzBqN,SAAU,WAGdjQ,GAAGE,OAAO8P,aAAavP,cAAe,CAClCwP,SAAU,iBAMJ,IAAXN,IAAwBA,EAAS,GAE5C,IAAIO,EAAWlQ,GAAGC,KAAK5D,EAAS,WAAY,OAC5C,IAAK,IAAI8T,EAAa,EAAGA,EAAaD,EAAS9V,OAAQ+V,IACnDlW,EAAImW,iBAAiB1Q,EAAOwQ,EAASC,GAAaT,EAASC,GAG/D,IAAIU,EAAYvU,SAASM,iBAAiB,0BAC1C,IAAK,IAAI0C,EAAI,EAAGA,EAAIuR,EAAUjW,OAAQ0E,IAAK,CACvC,IAAIwR,EAAcD,EAAUvR,IACxBwR,EAAYxQ,aAAa,gBAA6B,KAAX4P,KAC3CY,EAAY1H,UAAa0H,EAAqB,UAAE3T,QAAQ,YAAa,IAAIA,QAAQ,aAAc,OAM3G1C,EAAI+I,OAAS,SAAS3G,GAClB,IAAIkU,EAAOlU,EAAQmU,wBACnB,MAAO,CACH5N,IAAK2N,EAAK3N,IAAM9G,SAAS4F,KAAK+O,UAC9BtN,KAAMoN,EAAKpN,KAAOrH,SAAS4F,KAAKgP,aAIxCzW,EAAIwJ,SAAW,SAASpH,GACpB,MAAO,CACH8G,KAAM9G,EAAQgI,WACdzB,IAAKvG,EAAQ+H,YAKrBnK,EAAI6R,cAAgB,SAASzP,GACzB,IAAI2Q,EAAU3Q,EAAQyD,aAAa,gBACnC,GAAIkN,EAAS,CACTA,EAAU2D,KAAKC,MAAM5D,GACrB,IAAI6D,EAAU7Q,GAAGC,KAAK5D,EAAS,WAAY,OAC3C,IAAK,IAAIH,EAAQ,EAAGA,EAAQ2U,EAAQzW,OAAQ8B,IAAS,CACjD,IAAI2T,EAAcgB,EAAQ3U,GACtBuH,EAAWxJ,EAAIwJ,SAASoM,GAC5BpM,EAASiC,MAAQmK,EAAYvL,YAC7Bb,EAASkC,OAASkK,EAAY5M,aAC9B,IAAK,IAAIkJ,EAAY,EAAGA,EAAY5P,OAAOC,KAAKwQ,GAAS5S,OAAQ+R,IAAa,CAC1E,IAAI2E,EAAiBvU,OAAOC,KAAKwQ,GAASb,GAC1C,GAAI1I,EAASb,KAAQoK,EAAQ8D,GAAgB,GAAK9D,EAAQ8D,GAAgB,GAAK,GAAO9D,EAAQ8D,GAAgB,GAAK9D,EAAQ8D,GAAgB,GAAK,GAAOrN,EAASb,IAAMa,EAASkC,QAC3K,GAAIlC,EAASN,MAAS6J,EAAQ8D,GAAgB,GAAK9D,EAAQ8D,GAAgB,GAAK,GAAO9D,EAAQ8D,GAAgB,GAAK9D,EAAQ8D,GAAgB,GAAK,GAAOrN,EAASN,KAAOM,EAASiC,MAAQ,CACrLmK,EAAY/S,aAAa,kBAAmB,KAC5C,YAGJ+S,EAAY/S,aAAa,kBAAmB,SAShE7C,EAAImW,iBAAmB,SAAS1Q,EAAO4P,EAAOI,EAASC,GACnD,IAAIJ,GAAc,EACdnP,EAAcJ,GAAGK,OAAOX,GAC5B,GAAI4P,EAAM9M,UAAUC,SAAS,YAAc6M,EAAM9M,UAAUC,SAAS,gBAAiB,CACjF,IAAIsO,EAAW/Q,GAAGC,KAAKqP,EAAO,+BAAgC,OAC1DyB,EAAS3W,OAAS,GAClB2W,EAAS/U,SAASsO,GAAQA,EAAItM,WAElC,IAAI6S,EAAU7Q,GAAGC,KAAKqP,EAAO,WAAY,OACzC,GAAe,KAAXI,EAAgB,CAChB,IAAIsB,EAAY,CACZrL,OAAS3F,GAAGC,KAAKG,EAAa,cAA0B,aAAIJ,GAAGC,KAAKG,EAAa,cAAc6C,aAAe,GAC9GyC,MAAQ1F,GAAGC,KAAKG,EAAa,cAAyB,YAAIJ,GAAGC,KAAKG,EAAa,cAAckE,YAAc,IAE/G,IAAK,IAAIpI,EAAQ,EAAGA,EAAQ2U,EAAQzW,OAAQ8B,IAAS,CACjD,IAAI+U,EAAQhX,EAAIwJ,SAASoN,EAAQ3U,IAC7B0G,EAAMqO,EAAMrO,IAAMiO,EAAQ3U,GAAO+G,aAAe,EAAI+N,EAAUrL,OAAS,EACvExC,EAAO8N,EAAM9N,KAAO0N,EAAQ3U,GAAOoI,YAAc,EAAI0M,EAAUtL,MAAQ,EAC3E,GAA6C,QAAzCmL,EAAQ3U,GAAO6M,SAAS3J,cAAyB,CACjD,IAAIuG,EAAS1L,EAAI2U,SAASiC,EAAQ3U,GAAO4D,aAAa,UAAUZ,MAAM,MACtE0D,EAAM+C,EAAO/C,IAAM+C,EAAOA,OAAS,EAAIqL,EAAUrL,OAAS,EAC1DxC,EAAOwC,EAAOxC,KAAOwC,EAAOD,MAAQ,EAAIsL,EAAUtL,MAAQ,EAE9D,IAAIpC,EAAgBtD,GAAGuD,MAAMvD,GAAGC,KAAKG,EAAa,eAClDkD,EAAcd,UAAUxE,OAAO,aAC/BsF,EAAcd,UAAUgB,IAAI,aAC5BF,EAAcrB,GAAKqN,EAAMrN,GAAK,KAAO/F,EAAQ,GAC7C8D,GAAGE,OAAOoD,EAAe,CACrBG,SAAU,WACVb,IAAKA,EAAM,KACXO,KAAMA,EAAO,KACbhD,QAAS,UAEbmP,EAAMnU,OAAOmI,SAEd,GAAe,KAAXoM,EAAgB,CACvB,IAAIwB,EAAW5B,EAAMxP,aAAa,gBAC9BkN,EAAU,KAId,GAHIkE,IACAlE,EAAU2D,KAAKC,MAAMM,IAEV,MAAXlE,GAAmBzQ,OAAOC,KAAKwQ,GAAS5S,OAAS,EAAG,CACpD,IAAI+W,EAAqB,GACrBC,EAAc,GAClB,IAAK,IAAIlV,EAAQ,EAAGA,EAAQ2U,EAAQzW,OAAQ8B,IAAS,CACjD,IAAI2T,EAAcgB,EAAQ3U,GACtBuH,EAAWxJ,EAAIwJ,SAASoM,GACxBjM,EAAS,GAqBb,GApBArH,OAAOC,KAAKwQ,GAAShR,SAAQ,SAAS8U,GACZ,oBAAaK,EAAmBtU,SAASiU,KAC3DrN,EAASiC,MAAQmK,EAAYvL,YAC7Bb,EAASkC,OAASkK,EAAY5M,aACY,QAAtC4M,EAAY9G,SAAS3J,gBACrBqE,EAAWxJ,EAAI2U,SAASiB,EAAY/P,aAAa,UAAUZ,MAAM,OAEjEuE,EAASb,KAAQoK,EAAQ8D,GAAgB,GAAK9D,EAAQ8D,GAAgB,GAAK,GAAO9D,EAAQ8D,GAAgB,GAAK9D,EAAQ8D,GAAgB,GAAK,GAAOrN,EAASb,IAAMa,EAASkC,QACvKlC,EAASN,MAAS6J,EAAQ8D,GAAgB,GAAK9D,EAAQ8D,GAAgB,GAAK,GAAO9D,EAAQ8D,GAAgB,GAAK9D,EAAQ8D,GAAgB,GAAK,GAAOrN,EAASN,KAAOM,EAASiC,QAC7K9B,EAASiM,EACTsB,EAAmBhS,KAAK2R,GACxBM,EAAYN,GAAkB,CAC1BlN,OAAQA,EAAO3B,GACf+K,QAASA,EAAQ8D,SAOvB,IAAVlN,EAGC,CACD2L,GAAa,EACb,MAJAM,EAAY/S,aAAa,kBAAmB,KAC5CyS,GAAa,EAOrBhT,OAAOC,KAAK4U,GAAapV,SAAQ,SAASE,GACtC,IAAIoH,EAAgBtD,GAAGuD,MAAMvD,GAAGC,KAAKG,EAAa,eAClDkD,EAAcd,UAAUxE,OAAO,aAC/BsF,EAAcd,UAAUgB,IAAI,aAC5BF,EAAcrB,GAAKqN,EAAMrN,GAAK,IAAM/F,EACpC8D,GAAGE,OAAOoD,EAAe,CACrBG,SAAU,WACVb,IAAKwO,EAAYlV,GAAgB,QAAE,GAAK,KACxCiH,KAAMiO,EAAYlV,GAAgB,QAAE,GAAK,KACzCiE,QAAS,UAEblG,EAAIwD,QAAQC,MAAM4F,EAAcrB,GAAI,SAAUmP,EAAYlV,GAAe,QACzEoT,EAAMnU,OAAOmI,MAGjB/G,OAAOC,KAAKwQ,GAAShR,SAAQ,SAASE,GAClC,IAAKiV,EAAmBtU,SAASX,GAAQ,CACrC,IAAIoH,EAAgBtD,GAAGuD,MAAMvD,GAAGC,KAAKG,EAAa,eAClDkD,EAAcd,UAAUxE,OAAO,aAC/BsF,EAAcd,UAAUgB,IAAI,aAC5BF,EAAcrB,GAAKqN,EAAMrN,GAAK,IAAM/F,EACpC8D,GAAGE,OAAOoD,EAAe,CACrBG,SAAU,WACVb,IAAKoK,EAAQ9Q,GAAO,GAAK,KACzBiH,KAAM6J,EAAQ9Q,GAAO,GAAK,KAC1BiE,QAAS,UAEblG,EAAIwD,QAAQC,MAAM4F,EAAcrB,GAAI,SAAUqN,EAAMrN,IACpDqN,EAAMnU,OAAOmI,SAOjC,GAAIgM,EAAM9M,UAAUC,SAAS,YAAa,CACtC,IAAI4O,EAAuB,OAW3B,GAVI/B,EAAMxP,aAAa,kBACnBuR,EAAuB,QAAU/B,EAAMxP,aAAa,aAAewP,EAAMxP,aAAa,iBAAmB,KAG7GE,GAAGE,OAAOoP,EAAO,CACbnJ,gBAAiBmJ,EAAMxP,aAAa,gBACpC2F,gBAAiB4L,IAGrBrR,GAAGC,KAAKqP,EAAO,KAAK1G,UAAY0G,EAAMxP,aAAa,gBACpC,KAAX4P,EAAgB,CAChB,IAAI4B,EAAShC,EAAMxP,aAAa,eAAeZ,MAAM,KACjDoS,EAAOlX,QACPkX,EAAOtV,SAAQ,SAASC,EAAOC,GAC3B,GAAoB,IAAhBD,EAAMW,OAAc,CACpB,IAEI2U,EAFAC,EAAiBxR,GAAGC,KAAKG,EAAa,IAAMnE,GAI5CsV,EADAD,EAAOlX,OAAS,EACL4F,GAAGO,UAAU,0BAA4B+O,EAAMxP,aAAa,eAAiB,MAAM5D,GAEnFoT,EAGXkC,IACAxR,GAAGE,OAAOqR,EAAU,CAChBpL,gBAAiBqL,EAAe1R,aAAa,gBAC7C2F,gBAAkB+L,EAAe1R,aAAa,mBAAqB0R,EAAe1R,aAAa,gBAAmB,QAAU0R,EAAe1R,aAAa,cAAgB0R,EAAe1R,aAAa,kBAAoB0R,EAAe1R,aAAa,kBAAoB0R,EAAe1R,aAAa,kBAAoB,IAAM,SAGlUE,GAAGC,KAAKsR,EAAU,KAAK3I,UAAY4I,EAAe1R,aAAa,0BAK5E,GAAe,KAAX4P,EAAgB,CACvB,GAAiD,IAA7CJ,EAAMxP,aAAa,gBAAgBlD,OACnC,IACI,IAAI6U,EAAWzR,GAAGC,KAAKG,EAAa,IAAMkP,EAAMxP,aAAa,iBACzD2R,GACAzR,GAAGE,OAAOoP,EAAO,CACbnJ,gBAAiBsL,EAAS3R,aAAa,gBACvC2F,gBAAkBgM,EAAS3R,aAAa,mBAAsB2R,EAAS3R,aAAa,gBAAmB,QAAU2R,EAAS3R,aAAa,cAAgB2R,EAAS3R,aAAa,kBAAoB2R,EAAS3R,aAAa,kBAAoB2R,EAAS3R,aAAa,kBAAoB,IAAM,KAG/RE,GAAGC,KAAKqP,EAAO,KAAK1G,UAAY6I,EAAS3R,aAAa,gBACtDwP,EAAMxS,aAAa,UAAW,GAC9BwS,EAAMxS,aAAa,UAAW,GACkB,KAA5C2U,EAAS3R,aAAa,qBACtB2R,EAASjP,UAAUgB,IAAI,mBACvBiO,EAASjM,MAAMY,YAAY,SAAU,UAAW,aAChDqL,EAASjM,MAAMY,YAAY,UAAW,MAAO,gBAGjDkJ,EAAMxS,aAAa,UAAW,GAC9BwS,EAAMhT,gBAAgB,YAE5B,MAAO6E,GACLC,QAAQC,KAAK,yBAA0BiO,EAAMxP,aAAa,iBAGlE,QAA2C,IAAhCwP,EAAMxP,aAAa,SAA0D,IAA9BwP,EAAMxP,aAAa,QAAe,CACxF,IAAI4R,EAASpC,EAAMxP,aAAa,eAAeZ,MAAM,KACjD8N,EAAU,GAEV2E,EAAoB3R,GAAGC,KAAKG,EAAa,mBAAqBkP,EAAMxP,aAAa,QAAU,KAAM,OAErG,IAAK,IAAI5D,EAAQ,EAAGA,EAAQyV,EAAkBvX,OAAQ8B,UACmB,IAA1DyV,EAAkBzV,GAAO4D,aAAa,iBAA4F,IAAzD6R,EAAkBzV,GAAO4D,aAAa,iBAAyBE,GAAGC,KAAK0R,EAAkBzV,GAAQ,0BAA2B,OAAO9B,OAAS,IAC5N4S,EAAQ7N,KAAKwS,EAAkBzV,GAAO4D,aAAa,sBAIT,IAAvCwP,EAAMxP,aAAa,iBAAyE,IAAtCwP,EAAMxP,aAAa,gBAChFyP,EAAatV,EAAIoV,WAAWC,GACpBoC,EAAOtX,OAAS4S,EAAQ5S,OAAU,IAC1CmV,GAAc,QAGlBA,EAAatV,EAAIoV,WAAWC,IAKxC,GAAkC,QAA9BA,EAAMxP,aAAa,cACgC,IAAxCwP,EAAMxP,aAAa,iBAAkC,EACvC,MAAhBhG,GAAyBwV,EAAMxP,aAAa,MAAMxB,MAAMxE,EAAe,SACxEA,EAAewV,EAAMxP,aAAa,OAGtC,IAAI8R,GAAe,EAEJ,KAAXlC,EACAkC,IAAgBtC,EAAMxP,aAAa,iBACjB,KAAX4P,IACPkC,IAAgBtC,EAAMxP,aAAa,kBAGnC8R,EACA3X,EAAIuF,QAAQ8P,EAAMxP,aAAa,OAE/B7F,EAAIuF,QAAQ1F,GAqDxB,GAhDsB,QAAlBwV,EAAMvG,WACFuG,EAAM9M,UAAUC,SAAS,QACrB6M,EAAMxP,aAAa,mBAAqB,IACxCyP,GAAc,EACVD,EAAMxP,aAAa,gBAAkB,IACrCwP,EAAMxS,aAAa,UAAW,KAC9ByS,EAAa,KAIrBvP,GAAG+M,QAAQuC,EAAO,CACduC,IAAK,IACL9P,MAAO,QAGI,KAAX2N,GAAkBoC,OAAOxC,EAAMxP,aAAa,oBAAsB,GAClEE,GAAG+M,QAAQuC,EAAO,CACduC,IAAK,IACL9P,MAAO,OAIA,KAAX2N,IACAH,GAAc,EACVwC,OAAOzC,EAAMxP,aAAa,iBAAmB,GAC7CE,GAAG+M,QAAQuC,EAAO,CACduC,IAAK,IACL9P,MAAO,OAID,GAAV4N,IACIoC,OAAOzC,EAAMxP,aAAa,iBAAmB,GAAKiS,OAAOzC,EAAMxP,aAAa,oBAAsB,EAClGyP,EAAa,GAETwC,OAAOzC,EAAMxP,aAAa,iBAAmB,GAAKiS,OAAOzC,EAAMxP,aAAa,oBAAsB,IAClGwP,EAAM9M,UAAUxE,OAAO,OACvBsR,EAAM9M,UAAUgB,IAAI,QAEpBuO,OAAOzC,EAAMxP,aAAa,oBAAsB,GAAKiS,OAAOzC,EAAMxP,aAAa,oBAAsB,GAAKiS,OAAOzC,EAAMxP,aAAa,iBAAmB,IACvJyP,GAAc,QAQlCvP,GAAGC,KAAKqP,EAAO,qGAAsG,OAAOlV,OAAS,EAAG,CACxI,IAAI4X,EAAY1C,EAAMnE,SACtB,GAAI6G,EAAU5X,OAAS,EACnB,IAAK,IAAI8B,EAAQ,EAAGA,EAAQ8V,EAAU5X,OAAQ8B,IAAS,CACnD,IAAIG,EAAU2V,EAAU9V,GASxB,QAR2C,IAAhCoT,EAAMxP,aAAa,SAA4B,CAAC,OAAQ,OAAOjD,SAASyS,EAAMxP,aAAa,UAClG7F,EAAImW,iBAAiB1Q,EAAOrD,EAASqT,EAASC,GAEH,MAA3CtT,EAAQyD,aAAa,oBAA4BzD,EAAQS,aAAa,kBAAmB,IACjD,MAAxCT,EAAQyD,aAAa,iBAAyBzD,EAAQS,aAAa,eAAgB,IACxC,MAA3CT,EAAQyD,aAAa,oBAA4BzD,EAAQS,aAAa,kBAAmB,IAGrE,UAApBT,EAAQ0M,SAAsB,CAC9BwG,GAAc,EACd,IAAI0C,EAAgBjS,GAAGC,KAAK5D,EAAS,wBAAyB,OAAOjC,OACjE8X,EAAgB,EAChBC,EAAUnS,GAAGC,KAAK5D,EAAS,SAAU,OACrC+V,EAAgB,IACpB/V,EAAQJ,MAAQ,GAChB,IAAK,IAAIkQ,EAAY,EAAGA,EAAYgG,EAAQ/X,OAAQ+R,IACjC,KAAXuD,EACIqC,OAAOI,EAAQhG,GAAWrM,aAAa,oBAAsB,IAC7DqS,EAAQhG,GAAW1L,cAAcxE,MAAQkW,EAAQhG,GAAWlQ,OAE9C,KAAXyT,IACHqC,OAAOI,EAAQhG,GAAWrM,aAAa,iBAAmB,IAC1DqS,EAAQhG,GAAW1L,cAAcxE,MAAQkW,EAAQhG,GAAWlQ,OAE5DkW,EAAQhG,GAAW4E,UAA0E,GAA9DgB,OAAOI,EAAQhG,GAAWrM,aAAa,qBACtEoS,IAGAH,OAAOI,EAAQhG,GAAWrM,aAAa,oBAAsB,IAC7DsS,EAAgBD,EAAQhG,GAAWlQ,QAI3CgW,GAAiBC,IACjB3C,EAAa,GAEW,IAAxBlT,EAAQJ,MAAMW,QAAgBoD,GAAGC,KAAK5D,EAAS,YAC/CA,EAAQJ,MAAQmW,GAGA,SAApB/V,EAAQ0M,UACRwG,GAAc,EACiC,IAA3ClT,EAAQyD,aAAa,oBACrBzD,EAAQyD,aAAa,kBAAmB,KAER,SAAhCzD,EAAQyD,aAAa,SAAsD,YAAhCzD,EAAQyD,aAAa,UAChEzD,EAAQ0K,SAAU,EACH,KAAX2I,EACIqC,OAAO1V,EAAQyD,aAAa,oBAAsB,IAClDzD,EAAQ0K,SAAU,GAEJ,KAAX2I,IACHqC,OAAO1V,EAAQyD,aAAa,iBAAmB,IAC/CzD,EAAQ0K,SAAU,GAElBgL,OAAO1V,EAAQyD,aAAa,kBAAoBiS,OAAO1V,EAAQyD,aAAa,sBAC5EyP,EAAa,KAIW,QAAhClT,EAAQyD,aAAa,SAAqD,YAAhCzD,EAAQyD,aAAa,eAGnC,IAAjBzD,EAAY,OACnBA,EAAQsC,KAAO,QAEJ,KAAX+Q,EACArT,EAAQJ,MAAQI,EAAQyD,aAAa,mBACnB,KAAX4P,IACPrT,EAAQJ,MAAQI,EAAQyD,aAAa,gBACrCyP,EAAatV,EAAIoY,SAAShW,MAGP,YAApBA,EAAQ0M,WACfwG,GAAc,EACC,KAAXG,EACArT,EAAQJ,MAAQI,EAAQyD,aAAa,mBACnB,KAAX4P,IACPrT,EAAQJ,MAAQI,EAAQyD,aAAa,gBACrCyP,EAAatV,EAAIoY,SAAShW,MAO9C,IAAIiW,GAAU,EAOd,GANItS,GAAGC,KAAKqP,EAAO,qBAAsB,OAAOlV,OAC5CkY,EAAUtS,GAAGC,KAAKqP,EAAO,sBAAsBvI,QACxC/G,GAAGC,KAAKqP,EAAO,WAAY,OAAOlV,SACzCkY,EAAUtS,GAAGC,KAAKqP,EAAO,YAAYvI,SAG1B,KAAX2I,GAA4B,GAAVC,GAClB,IAAmB,GAAfJ,EAAkB,CAClB,IAAIgD,EAAyB,GACzBvS,GAAGC,KAAKqP,EAAO,WAAY,OAAOlV,QAAU4F,GAAGC,KAAKqP,EAAO,qBAAsB,OAAOlV,QACpF4F,GAAGC,KAAKqP,EAAO,wBACftP,GAAGC,KAAKqP,EAAO,sBAAsBkD,UAAW,GAEhDxS,GAAGC,KAAKqP,EAAO,cACftP,GAAGC,KAAKqP,EAAO,YAAYkD,UAAW,GAE1CD,EAAyBtY,EAAIwY,2BAA2BlD,EAAY+C,IAEpEC,EAAyBtY,EAAIyY,eAAenD,GAEhDD,EAAMxS,aAAa,KAAMyS,GACzBD,EAAMqD,mBAAmB,YAAaJ,QAExB,KAAX7C,GAA4B,GAAVC,IACrB3P,GAAGC,KAAKqP,EAAO,WAAY,OAAOlV,QAAU4F,GAAGC,KAAKqP,EAAO,qBAAsB,OAAOlV,UACpF4F,GAAGC,KAAKqP,EAAO,wBACftP,GAAGC,KAAKqP,EAAO,sBAAsBkD,UAAW,GAEhDxS,GAAGC,KAAKqP,EAAO,cACftP,GAAGC,KAAKqP,EAAO,YAAYkD,UAAW,IAG9CxS,GAAGhC,OAAO,4BAEVgC,GAAGhC,OAAO,4BAKlB/D,EAAIyY,eAAiB,SAASnD,GAC1B,IAAIqD,EAA8B,GAelC,OAZQA,EAFU,GAAdrD,EACI7O,OAAOmS,SACuB,gEAEA,+DAG9BnS,OAAOmS,SACuB,2DAEA,0DAGT,4KAA8KD,EAA8B,kBAK7O3Y,EAAIwY,2BAA6B,SAASlD,EAAY+C,GAClD,IAAIC,EAAyB,GAAIK,EAA8B,GAkB/D,OAjBkB,GAAdrD,GAA8B,GAAX+C,GAEfM,EADAlS,OAAOmS,SACuB,gEAEA,+DAGlCN,EAAyB,6KAA+KK,EAA8B,kBACjN,GAAdrD,GAA8B,GAAX+C,IAEtBM,EADAlS,OAAOmS,SACuB,2DAEA,yDAGlCN,EAAyB,6KAA+KK,EAA8B,kBAEnOL,GAGXtY,EAAIsK,SAAW,SAAS7E,GACpB,IAAIoT,EAAa,sBACjBjZ,GAAS,EACTG,EAAc,EACdE,GAAiB,EACjB,IAAIkG,EAAcJ,GAAGK,OAAOX,GACxBwQ,EAAWlQ,GAAGC,KAAKG,EAAa,WAAY,OAEhD,IAAK,IAAIlE,EAAQ,EAAGA,EAAQgU,EAAS9V,OAAQ8B,IACzC4W,EAAa7Y,EAAI8Y,iBAAiBrT,EAAOwQ,EAAShU,GAAQ4W,GAkB9D,OAhBAA,GAAc,WAEdjZ,EAASK,EACLwG,OAAOmS,UACwB,mBAApBnS,OAAOsS,WACdtS,OAAOsS,YAGf/Y,EAAIgZ,eAAe7S,EAAYN,aAAa,mBAAoB9F,GAE5D0G,OAAOmS,UACPnS,OAAOwS,YAAYvC,KAAKwC,UAAU,CAC9BC,YAAaN,EACbO,kBAAmBxZ,IACnB,KAED,CAACyZ,KAAMR,EAAYS,IAAK1Z,IAInCI,EAAIgZ,eAAiB,SAASO,EAAexZ,GAEzCgG,GAAGO,UAAU,iBAAkB,QAASiT,GACxCxT,GAAGO,UAAU,eAAgB,QAASvG,IAI1CC,EAAI8Y,iBAAmB,SAASrT,EAAO4P,EAAOwD,GAC1C,IAAI1S,EAAcJ,GAAGK,OAAOX,GAE5B,GAAI4P,EAAM9M,UAAUC,SAAS,gBAAiB,CAC1C,IAAIoO,EAAU7Q,GAAGC,KAAKqP,EAAO,WAAY,OACrCmE,EAAe,GACnB,IAAK,IAAIvX,EAAQ,EAAGA,EAAQ2U,EAAQzW,OAAQ8B,IACc,KAAlD2U,EAAQ3U,GAAO4D,aAAa,mBAC5B2T,EAAatU,KAAK,IAElBsU,EAAatU,KAAK,GAClBnF,KAGRH,GAAW4Z,EAAa5W,SAAS,GACjCiW,GAAc,YAAcxD,EAAMxP,aAAa,MAAQ,cAAgBwP,EAAMxP,aAAa,gBAAkB,kBACzG,GAAIwP,EAAM9M,UAAUC,SAAS,YAAa,CAC7C,IAAIiP,EAASpC,EAAMxP,aAAa,eAAeZ,MAAM,KAErD,GAAkC,IAA9BoQ,EAAMxP,aAAa,SAAkB4R,EAAO7U,SAASyS,EAAMxP,aAAa,iBAErE,QAA2C,IAAhCwP,EAAMxP,aAAa,SAA0D,IAA9BwP,EAAMxP,aAAa,QAAe,CAC/F,IAAIkN,EAAU,GACV0G,EAAuB1T,GAAGC,KAAKG,EAAa,mBAAqBkP,EAAMxP,aAAa,QAAU,KAAM,OACxG,IAAK,IAAI5D,EAAQ,EAAGA,EAAQwX,EAAqBtZ,OAAQ8B,SACmB,IAA7DwX,EAAqBxX,GAAO4D,aAAa,iBAA+F,IAA5D4T,EAAqBxX,GAAO4D,aAAa,iBAC5HkN,EAAQ7N,KAAKuU,EAAqBxX,GAAO4D,aAAa,iBAGrB,GAArC7F,EAAI0Z,aAAajC,EAAQ1E,GACzBnT,GAAS,EAETG,SAGJA,SAfAH,GAAS,EAiBbiZ,GAAc,YAAcxD,EAAMxP,aAAa,MAAQ,cAAgBwP,EAAMxP,aAAa,gBAAkB,kBACzG,GAAIwP,EAAM9M,UAAUC,SAAS,cAAgB6M,EAAM9M,UAAUC,SAAS,QACrE6M,EAAMxP,aAAa,oBAAsBwP,EAAMxP,aAAa,OAC5DjG,GAAS,EAETG,IAEJ8Y,GAAc,YAAcxD,EAAMxP,aAAa,MAAQ,cAAgBwP,EAAMxP,aAAa,OAAS,kBAChG,GAAIwP,EAAM9M,UAAUC,SAAS,UACK,MAAjC6M,EAAMxP,aAAa,YAAuD,IAAjCwP,EAAMxP,aAAa,YAC5DwP,EAAMxS,aAAa,UAAW,KAEW,GAAzCiV,OAAOzC,EAAMxP,aAAa,YAC1BjG,GAAS,EAETG,IAEJ8Y,GAAc,YAAcxD,EAAMxP,aAAa,MAAQ,cAAgBwP,EAAMxP,aAAa,WAAa,kBACpG,GAAIE,GAAGC,KAAKqP,EAAO,oGAAqG,OAAOlV,OAAS,EAAG,CAC9I,IAAIwZ,EAAiB,GACjB5B,EAAY1C,EAAMnE,SACtB,IAAK,IAAIjP,EAAQ,EAAGA,EAAQ8V,EAAU5X,OAAQ8B,IAAS,CACnD,IAAI2X,EAAkB7B,EAAU9V,GAShC,QAR0C,IAA/BoT,EAAMxP,aAAa,SAA2B,CAAC,OAAQ,OAAOjD,SAASyS,EAAMxP,aAAa,WACjGgT,EAAa7Y,EAAI8Y,iBAAiBrT,EAAOmU,EAAiBf,IAEP,MAAnDe,EAAgB/T,aAAa,oBAA4B+T,EAAgB/W,aAAa,kBAAmB,IACzD,MAAhD+W,EAAgB/T,aAAa,iBAAyB+T,EAAgB/W,aAAa,eAAgB,IAChD,MAAnD+W,EAAgB/T,aAAa,oBAA4B+T,EAAgB/W,aAAa,kBAAmB,IACzG+W,EAAgBrB,WAAUoB,EAAiB,kBAEf,UAA5BC,EAAgB9K,SAAsB,CACtC,IAAI+K,EAAU,GACV5B,EAAgB,EAChB6B,EAAe/T,GAAGC,KAAK4T,EAAiB,wBAAyB,OAAOzZ,OACxE+X,EAAUnS,GAAGC,KAAK4T,EAAiB,SAAU,OACjD,IAAK,IAAI1H,EAAY,EAAGA,EAAYgG,EAAQ/X,OAAQ+R,IAC5CgG,EAAQhG,GAAW4E,WACnBmB,IACkE,GAA9DH,OAAOI,EAAQhG,GAAWrM,aAAa,oBACvCjG,GAAS,EAETG,IAEJ8Z,EAAUA,GAAW3H,EAAY,GAAK,KAG1C+F,GAAiB6B,IAAcla,GAAS,GAC5CiZ,GAAc,YAAce,EAAgBpT,cAAcX,aAAa,MAAQ,cAAgBgU,EAAU,KAAOF,EAAiB,iBAC9H,GAAgC,SAA5BC,EAAgB9K,UACvB,GAA4C,SAAxC8K,EAAgB/T,aAAa,SAA8D,YAAxC+T,EAAgB/T,aAAa,QAChB,GAA3DiS,OAAO8B,EAAgB/T,aAAa,sBAA6B+T,EAAgB9M,SAAyE,GAA3DgL,OAAO8B,EAAgB/T,aAAa,qBAA4B+T,EAAgB9M,QAChLlN,GAAS,EAETG,IAGA6Z,EAAgB9M,QAChB+L,GAAc,YAAce,EAAgBpT,cAAcX,aAAa,MAAQ,iBAAmB8T,EAAiB,YAEnHd,GAAc,YAAce,EAAgBpT,cAAcX,aAAa,MAAQ,iBAAmB8T,EAAiB,iBAEpH,GAA4C,QAAxCC,EAAgB/T,aAAa,SAA6D,YAAxC+T,EAAgB/T,aAAa,QAAuB,CAC7G,IACIkU,EADAC,EAAkB,GAE+C,GAAjElC,OAAO8B,EAAgB/T,aAAa,4BACpCmU,EAAkBJ,EAAgB/T,aAAa,mBAAmBZ,MAAM,MAE5E+U,EAAgB9U,KAAK0U,EAAgB/T,aAAa,oBAES,GAAvDiS,OAAO8B,EAAgB/T,aAAa,iBACpCmU,EAAkBA,EAAgBvY,KAAI,SAASwY,GAC3C,OAAOA,EAAO9U,iBAElB4U,EAAcH,EAAgB5X,MAAMmD,eAEpC4U,EAAcH,EAAgB5X,MAG9BgY,EAAgBhV,QAAQ+U,GAAe,EACvCna,GAAS,EAETG,IAEJ8Y,GAAc,YAAce,EAAgBpT,cAAcX,aAAa,MAAQ,cAAgB+T,EAAgB5X,MAAQ,KAAO2X,EAAiB,kBAEhJ,GAAgC,UAA5BC,EAAgB9K,cACsC,IAAlD8K,EAAgB/T,aAAa,kBACpCgT,GAAc,YAAce,EAAgBpT,cAAcX,aAAa,MAAQ,cAAgB+T,EAAgB/T,aAAa,gBAAkB,KAAO8T,EAAiB,kBAEvK,GAAgC,YAA5BC,EAAgB9K,SAAwB,CAE/C,GAAc,KADC8K,EAAgB/T,aAAa,eAAkB+T,EAAgB/T,aAAa,eAAelD,OAAS,IACjG,CACd,IAAIuX,EAAcN,EAAgB/T,aAAa,mBAAmBrB,WAAU,GACxE2V,EAAWP,EAAgB5X,MAAMU,QAAQ,KAAM,KAEnD,GADAyX,EAAWA,EAAS3V,YACyC,GAAzDxE,EAAI0Z,aAAaQ,EAAiB,IAAGC,EAAc,MACnD,GAAID,EAAuB,UAAE/Z,OAAS,EAClC,IAAK,IAAI+R,EAAY,EAAGA,EAAYgI,EAAuB,UAAE/Z,OAAQ+R,IAC7DlS,EAAI0Z,aAAaQ,EAAuB,UAAEhI,GAAYiI,EAAc,KAAGha,QAAU+Z,EAAuB,UAAEhI,GAAW/R,SACrHP,GAAS,QAKrBA,GAAS,MAEV,CACH,IACIma,EADAC,EAAkB,GAE+C,GAAjElC,OAAO8B,EAAgB/T,aAAa,4BACpCmU,EAAkBJ,EAAgB/T,aAAa,mBAAmBZ,MAAM,MAE5E+U,EAAgB9U,KAAK0U,EAAgB/T,aAAa,oBACS,GAAvDiS,OAAO8B,EAAgB/T,aAAa,iBACpCmU,EAAkBA,EAAgBvY,KAAI,SAASwY,GAC3C,OAAOA,EAAO9U,iBAElB4U,EAAcH,EAAgB5X,MAAMmD,eAEpC4U,EAAcH,EAAgB5X,MAE9BgY,EAAgBhV,QAAQ+U,GAAe,EACvCna,GAAS,EAETG,IAGR8Y,GAAc,YAAce,EAAgBpT,cAAcX,aAAa,MAAQ,cAAgB+T,EAAgB5X,MAAQ,KAAO2X,EAAiB,cAQ3J,OAHc,GAAV/Z,IACAK,GAAiB,GAEd4Y,GAIX7Y,EAAIoa,WAAa,SAAS1W,GAClBA,EAAI6E,UAAUC,SAAS,OACvBzC,GAAG+M,QAAQ/M,GAAGK,OAAO1C,GAAM,CACvBkU,IAAO,IACP9P,MAAS,OAGb/B,GAAG+M,QAAQ/M,GAAGK,OAAO1C,GAAM,CACvBkU,IAAO,IACP9P,MAAS,SAMrB9H,EAAIoY,SAAW,SAAShW,GACpB,IAKI2X,EALAzE,GAAc,EACd+E,EAAWjY,EAAQyD,aAAa,eAAkBzD,EAAQyD,aAAa,eAAelD,OAAS,GAC/FuX,EAAc9X,EAAQyD,aAAa,mBACnCsU,EAAW/X,EAAQJ,MAAMU,QAAQ,KAAM,KAAKC,OAC5CqX,EAAkB,GA0BtB,MAxBc,IAAVK,GACAH,EAAcA,EAAY1V,WAAU,GACpC2V,EAAWA,EAAS3V,YACyC,GAAzDxE,EAAI0Z,aAAaQ,EAAiB,IAAGC,EAAc,OACnD7E,EAAa,KAG4C,GAAzDwC,OAAO1V,EAAQyD,aAAa,4BAC5BmU,EAAkB5X,EAAQyD,aAAa,mBAAmBZ,MAAM,MAEpE+U,EAAgB9U,KAAK9C,EAAQyD,aAAa,oBAES,GAA/CiS,OAAO1V,EAAQyD,aAAa,iBAC5BmU,EAAkBA,EAAgBvY,KAAI,SAAS6Y,GAC3C,OAAOA,EAAEnV,iBAEb4U,EAAc3X,EAAQJ,MAAMmD,eAE5B4U,EAAc3X,EAAQJ,MAEtBgY,EAAgBhV,QAAQ+U,IAAgB,IACxCzE,EAAa,IAGdA,GAIXtV,EAAI0Z,aAAe,SAASa,EAAMC,GAC9B,IAAIC,EAAgB,GACpB,IAAK,IAAI5V,EAAI,EAAGA,EAAI0V,EAAKpa,OAAQ0E,IAC7B,IAAK,IAAIxB,EAAI,EAAGA,EAAImX,EAAOra,OAAQkD,IAC3BmX,EAAOnX,IAAMkX,EAAK1V,IAClB4V,EAAcvV,KAAKsV,EAAOnX,IAKtC,IAAIzD,EAAU2a,EAAKpa,OAASsa,EAActa,OAC1C,OAAOP,EAAS,EAAI,EAAIA,GAI5BI,EAAI0a,OAAS,SAASC,GAClB5U,GAAGO,UAAU,QAAS,WAAY,KAClCP,GAAGO,UAAU,UAAW,WAAY,KAEhCqU,GACA5U,GAAGO,UAAU,UAAW,cAAe,KAEhB,sBACnBiN,EAAQC,OAAO,2CAA4C,aAG/DxT,EAAI4a,YACJ5a,EAAIwV,YAAY7V,EAAQ,IAAK,GAC7BoG,GAAGE,OAAO,iBAAkB,CACxBC,QAAS,UAEbH,GAAGO,UAAU,wBAAyB,cAAe,UACrDP,GAAG8U,SAAS,2BAA4B,YAExC9U,GAAGO,UAAU,QAAS,cAAe,KACrCtG,EAAIyP,UAAU9P,GACdoG,GAAGE,OAAO,iBAAkB,CACxBC,QAAS,SAEblG,EAAI8a,UACJ9a,EAAIwV,YAAY7V,EAAQ,OAKhCK,EAAI4a,UAAY,WACZ,IAAIxY,EAAU2D,GAAGK,OAAOzG,GACpBob,EAAkBhV,GAAGC,KAAK5D,EAAS,wBAAyB,OAEhE,IAAK,IAAIH,EAAQ,EAAGA,EAAQ8Y,EAAgB5a,OAAQ8B,IAAS,CACzD,GAAuC,SAAnC8Y,EAAgB9Y,GAAO6M,SAAqB,CAC5C,IAAIkM,EAAaD,EAAgB9Y,GAAO4D,aAAa,QACnC,QAAdmV,GAAsC,YAAdA,EACxBD,EAAgB9Y,GAAOY,aAAa,eAAgBkY,EAAgB9Y,GAAOD,OACtD,SAAdgZ,GAAuC,YAAdA,GAChCD,EAAgB9Y,GAAOY,aAAa,eAAiBkY,EAAgB9Y,GAAc,QAAI,EAAI,QAE5F,GAAuC,UAAnC8Y,EAAgB9Y,GAAO6M,SAAsB,CACpD,IAAIoJ,EAAUnS,GAAGC,KAAK+U,EAAgB9Y,GAAQ,SAAU,OACxD,IAAK,IAAIgZ,EAAY,EAAGA,EAAY/C,EAAQ/X,OAAQ8a,IAChD/C,EAAQ+C,GAAWpY,aAAa,eAAiBqV,EAAQ+C,GAAmB,SAAI,EAAI,OAE9C,YAAnCF,EAAgB9Y,GAAO6M,UAC9BiM,EAAgB9Y,GAAOY,aAAa,eAAgBkY,EAAgB9Y,GAAOD,OAE/E+Y,EAAgB9Y,GAAOsJ,MAAM2P,cAAgB,OAEjDnV,GAAGC,KAAKrG,EAAQ,kFAAmF,CAC/FmQ,OAAQ,WACRC,WAAY,gBAGhBhK,GAAGC,KAAK5D,EAAS,WAAY,CACzB0N,OAAQ,WACRC,WAAY,kBAMpB/P,EAAI8a,QAAU,WACV,IAAI1Y,EAAU2D,GAAGK,OAAOzG,GACpBwb,EAAepV,GAAGC,KAAK5D,EAAS,wBAAyB,OAY7D,GAVA2D,GAAGC,KAAK5D,EAAS,WAAY,CACzB0N,OAAQ,cACRC,WAAY,iBAGhBhK,GAAGC,KAAKrG,EAAQ,kFAAmF,CAC/FmQ,OAAQ,cACRC,WAAY,gBAGZoL,EACA,IAAK,IAAIlZ,EAAQ,EAAGA,EAAQkZ,EAAahb,OAAQ8B,IAC7CkZ,EAAalZ,GAAOsJ,MAAM2P,cAAgB,MAIlDlb,EAAI2H,UAAUhI,IAIlBK,EAAIob,iBAAmB,SAAShZ,GAC5BA,EAAQmJ,MAAM8P,UAAcC,MAAMlZ,EAAQJ,OAAqB,OAAX,UAIxDhC,EAAIub,UAAY,SAASvT,GACrB,IACI,IAAI5F,EAAU2D,GAAGK,OAAOzG,GACpB6b,EAAezV,GAAGC,KAAK5D,EAAS,OAAS4F,EAAI,OAEjD,GAAIwT,EACA,IAAK,IAAIvZ,EAAQ,EAAGA,EAAQuZ,EAAarb,OAAQ8B,IAC7CuZ,EAAavZ,GAAOD,MAAQ,GAGtC,MAAOyZ,GACLtU,QAAQC,KAAK,uCAAwCqU,KAMrC,oBAAb5Z,UACPA,SAAS6Z,iBAAiB,oBAAoB,WAC1C,IAAIC,EAAc5V,GAAGO,UAAU,gBAC/B,IAAK,IAAIrE,EAAQ,EAAGA,EAAQ0Z,EAAYxb,OAAQ8B,IAC5CjC,EAAIob,iBAAiBO,EAAY1Z,IAErC8D,GAAGqC,OAAO,OAAQ,SAAU,gBAAgB,SAASwT,GACjD5b,EAAIob,iBAAiBQ,wLE5gElB1b,0BAALC,yKAAKD,aAALC,sIAAAA,sDA4BgCD,KAAK8B,qCAAff,2CAAUf,KAAK8B,sFAA1B9B,KAAK8B,8DA1BL9B,iBACDA,KAAK8H,oHAIK9H,KAAK2b,8BACL3b,KAAK4b,iCACF5b,KAAK6b,mCACN7b,KAAK8b,kCACL9b,KAAK+b,gCACP/b,KAAKsK,oEAGP/D,OAAOmS,WAAW,2FAGpB1Y,KAAKyI,gBACJzI,KAAKgJ,mBACHhJ,KAAKwL,oBACNxL,KAAKuL,oBACJvL,KAAKgc,+BACKhc,KAAKgM,wCACLhM,KAAKsL,sDAvBhCvK,uCA2BSf,KAAK8B,yEAzBN9B,KAAK8H,6BAIK9H,KAAK2b,4CACL3b,KAAK4b,4CACF5b,KAAK6b,kDACN7b,KAAK8b,gDACL9b,KAAK+b,gDACP/b,KAAKsK,+CAMTtK,KAAKyI,qBACJzI,KAAKgJ,wBACHhJ,KAAKwL,yBACNxL,KAAKuL,yBACJvL,KAAKgc,oCACKhc,KAAKgM,6CACLhM,KAAKsL,iEAzBnCtL,MAAcA,KAAWC,OAAS,+CAD3Cc,kCACSf,MAAcA,KAAWC,OAAS,qGA5BjCgc,GAAWC,EAAUC,SACX,KAAdA,EACI,GACED,GAGF,mBAYAE,GAAQhR,MACbA,OACEiR,EAAMjR,EAAIrG,MAAM,KAAK,UACjBwB,OAAOmS,SAAW,oDAA6G2D,QAEhI,kCAjEKpb,KACPqb,EAAOrb,EACPsb,yFAEItb,GAQ0B,GAA1B2B,MAAMC,QAAQ5B,IACdqb,KACAA,EAAK,GAAKrb,GAEVqb,EAAOrb,MAEXsb,MACAD,EAAK/a,cAAcC,OAiCAgb,MAhCfD,MACOA,GACCzU,GAAK,MAAQtG,EAAKrB,IAClBwb,QAASna,EAAKib,OACdb,QAASK,GAAWza,EAAK0a,SAAS1a,EAAK2a,YACvCN,WAAYra,EAAKkb,YACjBZ,UAAYta,EAAKmb,OAAUnb,EAAKmb,OAAO5X,MAAM,KAAK,GAAK,GACvDgX,UAAYva,EAAKmb,OAAUnb,EAAKmb,OAAO5X,MAAM,KAAK,GAAK,GACvDuF,QAAU9I,EAAKmb,OAAUnb,EAAKmb,OAAO5X,MAAM,KAAK,GAAK,GACrD0D,IAAKjH,EAAKb,KAAK,KACfqI,KAAMxH,EAAKZ,MAAM,KACjB4K,OAAQhK,EAAKX,QAAQ,KACrB0K,MAAO/J,EAAKV,OAAO,KACnBkb,QAmBOQ,EAnBkBhb,EAAKob,cAoB7CJ,EACK,aAAaA,EAEb,IAtBUxQ,gBAAiBiQ,GAAWza,EAAK0a,SAAS1a,EAAK2a,YAC/C7Q,gBAAkB9J,EAAKmb,OAAU,QAASP,GAAQ5a,EAAKmb,QAAS,KAAO,OACvE7a,MAAON,EAAKib,kBA7BxBF,6KCuHOvc,0BAALC,0KAAKD,aAALC,uIAAAA,2HAEWD,iBACDA,KAAK8H,2DAGI9H,KAAKmX,6BACJnX,KAAK2b,8BACL3b,KAAK6S,6BACN7S,KAAK0K,6BACJ1K,KAAK4b,0BACPrV,OAAOmS,WAAW,wMAKpB1Y,KAAK6S,QAAU,IAAM,0CAGrB7S,KAAKyI,gBACJzI,KAAKgJ,mBACHhJ,KAAKwL,oBACNxL,KAAKuL,oBACJvL,KAAKgc,wDAtBtBjb,SA0BIC,kCAxBIhB,KAAK8H,6BAGI9H,KAAKmX,0CACJnX,KAAK2b,4CACL3b,KAAK6S,4CACN7S,KAAK0K,0CACJ1K,KAAK4b,4CAMT5b,KAAK6S,QAAU,IAAM,sCAGrB7S,KAAKyI,qBACJzI,KAAKgJ,wBACHhJ,KAAKwL,yBACNxL,KAAKuL,yBACJvL,KAAKgc,+CAxBzBhc,MAAaA,KAAUC,OAAS,gDADzCc,kCACSf,MAAaA,KAAUC,OAAS,sGAZ/B4c,GAAW3Z,EAAM4Z,UACrB5Z,IAEO4Z,GAGH,mCArHK7b,kBACAC,EAAc,YACdC,EAAO,MACd4b,EAAc9b,EACd+b,YA0DJ1b,QACQyb,GAAeC,EAAU/c,OAAS,GAAoB,IAAfiB,GACvC6b,EAAYxb,cAAcC,OAClBC,GAAY,UAAU,aAAa,gBAAgB,cAAc,SAAS,YAAY,SAAS,cAAc,YAAY,cAAc,WAAW,UAAU,SAAS,UAAU,aAAa,aAC5LC,EAAYC,SAASC,cAAc,IAAKV,GAC5CO,EAASI,kBAAiBC,EAAOC,MACvBL,OACEM,EAAgBN,EAAUO,iBAAiB,OAAST,EAAKrB,KACvD6B,GACFA,EAAcH,kBAAiBK,GAC3BA,EAAQC,gBAAgBV,EAASM,WAMjDK,OAAOC,KAAKb,GAAMK,kBAAiBS,OAC3BC,EAAMD,EAAIE,QAAQ,IAAI,IAAIC,UAC1BhB,EAASiB,SAASH,IAAUb,OACxBM,EAAgBN,EAAUO,iBAAiB,OAAST,EAAKrB,KACvD6B,GACFA,EAAcH,kBAAiBK,GAC3BA,EAAQS,aAAaJ,EAAKf,EAAKc,iKA/EpDrB,GAC2B,GAA1B2B,MAAMC,QAAQ5B,QACd8b,UACAA,EAAY,GAAK9b,UAEjB8b,EAAc9b,OAElB+b,MACAD,EAAYxb,cAAaC,OACjB+V,EAAS,MACT/V,EAAKyb,SACWzb,EAAKyb,QAAQlY,MAAM,KACzBlD,kBAAiBC,GACvByV,GAAU,MAAQzV,EAAQ,OAE9ByV,EAASA,EAAO2F,MAAM,GAAI,MAGlB,IAAR/b,OACI2B,EAAQC,EAAU5B,MAClB2B,GAASA,EAAME,OACXF,EAAME,MAAMC,SACRC,EAAOJ,EAAME,MAAMC,IACI,GAAvBL,MAAMC,QAAQK,KACdA,KACAA,EAAK,GAAKJ,EAAME,MAAMC,aAEjBE,KAAKD,EACNA,EAAKC,GAAGhD,KAAO,MAAMqB,EAAKrB,MAC1BqB,EAAKlB,SAAW4C,EAAKC,GAAGC,eAqE7BoZ,EAVNN,EAAUC,MApDnBa,MACOA,GACClV,GAAK,MAAMtG,EAAKrB,IAChBgX,OAAS3V,EAAKyb,QAAU1F,EAAS,GACjCoE,QAASna,EAAKib,OACd5J,QAASgK,GAAWrb,EAAKlB,SAAUkB,EAAKjB,aACxCmK,OAAQmS,GAAWrb,EAAKlB,SAAUkB,EAAKjB,aACvCqb,SA6CCM,EA7CmB1a,EAAK0a,SA6CdC,EA7CwB3a,EAAK2a,WA8CxC,KAAdA,EACI,GACGD,GAGH,WAlDUzT,IAAKjH,EAAKb,KAAO,KACjBqI,KAAMxH,EAAKZ,MAAQ,KACnB4K,OAAQhK,EAAKX,QAAU,KACvB0K,MAAO/J,EAAKV,OAAS,KACrBkb,QAkDOQ,EAlDkBhb,EAAK2b,QAmD5CX,EACI,aAAeA,EAEf,gBAjDFO,UACAC,iQC2DOhd,0BAALC,0KAAKD,aAALC,uIAAAA,+JAkCcc,oDAROf,KAAKkG,4BAAVjG,0KAAKD,KAAKkG,eAAVjG,uIAAAA,kEAIyJD,KAAOyN,oDAA7IzN,KAAOsC,6BAAsBtC,KAAOod,oCAA6Bpd,KAAO8c,iCAA0B9c,KAAO6S,qBAAgB7S,KAAOsC,8BAA7IvB,oCAAmJf,KAAOyN,6BAA7IzN,KAAOsC,+BAAsBtC,KAAOod,kDAA6Bpd,KAAO8c,kDAA0B9c,KAAO6S,4CAAgB7S,KAAOsC,yFAF8BtC,KAAOyN,0EAAjJzN,KAAOsC,6BAAsBtC,KAAOod,oCAA6Bpd,KAAO8c,iCAA0B9c,KAAO6S,qBAAgB7S,KAAOsC,IAAM,4BAAvKvB,oCAA2Kf,KAAOyN,6BAAjJzN,KAAOsC,+BAAsBtC,KAAOod,kDAA6Bpd,KAAO8c,kDAA0B9c,KAAO6S,4CAAgB7S,KAAOsC,IAAM,gGADnJ,GAAnBtC,KAAO4W,iPAFf5W,KAAKkG,OAAOjG,6FATRD,KAAK8H,GAAK,yFAGL9H,KAAK6S,0HAjBlB7S,gCAEAA,KAAK8H,4EAIA9H,KAAKyI,gBACJzI,KAAKgJ,mBACHhJ,KAAKwL,oBACNxL,KAAKuL,kCAVrBxK,SAcIC,8GACahB,KAAK8H,GAAK,iEAGL9H,KAAK6S,4CAflB7S,KAAK8H,gCAIA9H,KAAKyI,qBACJzI,KAAKgJ,wBACHhJ,KAAKwL,yBACNxL,KAAKuL,oDAZxBvL,MAAeA,KAAYC,OAAS,gDAD7Cc,kCACSf,MAAeA,KAAYC,OAAS,4HApHlCgB,kBACAC,EAAc,YACdC,EAAO,MACdmW,EAAW,EACX+F,KACAnX,EAASjF,SAgFbK,QACQ+b,EAAYpd,OAAS,GAAoB,IAAfiB,GAC1BgF,EAAO3E,cAAcC,OACbC,GAAY,UAAU,aAAa,gBAAgB,cAAc,SAAS,YAAY,SAAS,cAAc,YAAY,cAAc,WAAW,UAAU,SAAS,UAAU,aAAa,aAC5LC,EAAYC,SAASC,cAAc,IAAKV,GAC5CO,EAASI,kBAAiBC,EAAOC,MACvBL,OACEM,EAAgBN,EAAUO,iBAAiB,OAAST,EAAKrB,KACvD6B,GACFA,EAAcH,kBAAiBK,GAC3BA,EAAQC,gBAAgBV,EAASM,WAKjDK,OAAOC,KAAKb,GAAMK,kBAAiBS,OAC3BC,EAAMD,EAAIE,QAAQ,IAAI,IAAIC,UAC1BhB,EAASiB,SAASH,IAAUb,OACxBM,EAAgBN,EAAUO,iBAAiB,OAAST,EAAKrB,KACvD6B,GACFA,EAAcH,kBAAiBK,GAC3BA,EAAQS,aAAaJ,EAAKf,EAAKc,iKAnGpDrB,GAC2B,GAA1B2B,MAAMC,QAAQ5B,QACdiF,UACAA,EAAO,GAAKjF,UAEZiF,EAASjF,OAEboc,MACAnX,EAAO3E,cAAeC,MACP,IAARL,OACK2B,EAAQC,EAAU5B,MAClB2B,GAASA,EAAME,OACZF,EAAME,MAAMC,SACPC,EAAOJ,EAAME,MAAMC,IACG,GAAvBL,MAAMC,QAAQK,KACbA,KACAA,EAAK,GAAKJ,EAAME,MAAMC,aAElBE,KAAKD,EACNA,EAAKC,GAAGhD,KAAO,MAAMqB,EAAKrB,MACzBqB,EAAKlB,SAAW4C,EAAKC,GAAGC,eAOxCka,KACA9b,EAAK+b,QACL/b,EAAK+b,OAAOxY,MAAM,MAAMxD,cAAaic,EAAazb,GAC1CP,EAAKlB,UAAcyB,EAAQ,EAAM,QACjCuV,EAAW,OAEXA,EAAW,GAEqB,KAAhCkG,EAAY/a,OAAOgb,OAAO,GAC1BH,EAAOtY,MACH1C,IAAKP,EACLqb,WAAY,EACZN,WAAY,EACZjK,QAAUyE,GAAuB,GACjC7J,KAAM+P,EAAY/a,OAAOya,MAAM,GAC/BtG,SAAW,IAEwB,KAAhC4G,EAAY/a,OAAOgb,OAAO,GACjCH,EAAOtY,MACH1C,IAAKP,EACLqb,WAAY,EACZN,WAAY,EACZjK,QAAUyE,GAAuB,GACjC7J,KAAM+P,EAAY/a,OAAOya,MAAM,KAGnCI,EAAOtY,MACH1C,IAAKP,EACLqb,WAAY,EACZN,WAAY,EACZjK,QAAUyE,GAAuB,GACjC7J,KAAM+P,EAAY/a,gBAKlC4a,MACOA,GACCvV,GAAK,MAAQtG,EAAKrB,IAClBsI,IAAKjH,EAAKb,KAAO,KACjBqI,KAAMxH,EAAKZ,MAAQ,KACnB4K,OAAQhK,EAAKX,QAAU,KACvB0K,MAAO/J,EAAKV,OAAS,KACrB+R,QAAUrR,EAAKlB,SAAYkB,EAAKlB,SAAW,GAC3C4F,OAAQoX,aAKpBD,0MCGWrd,0BAALC,0KAAKD,aAALC,uIAAAA,2HAkCkB,MAAQD,KAAK8H,kBACV,MAAQ9H,KAAK8H,GAAK,wCACb9H,KAAK8H,4BACA9H,KAAKod,oCACLpd,KAAK8c,iCACR9c,KAAK6S,iFAGH7S,KAAK0d,wBACf1d,KAAK2d,0BAXf5c,6BAEQ,MAAQf,KAAK8H,6BACV,MAAQ9H,KAAK8H,GAAK,iDACb9H,KAAK8H,qCACA9H,KAAKod,kDACLpd,KAAK8c,kDACR9c,KAAK6S,4CAGH7S,KAAK0d,gDACf1d,KAAK2d,iIAzBP,MAAQ3d,KAAK8H,kBACV,MAAQ9H,KAAK8H,GAAK,wCACb9H,KAAK8H,4BACA9H,KAAKod,oCACLpd,KAAK8c,iCACR,+FAIE9c,KAAK0d,wBACf1d,KAAK2d,0BAZf5c,6BAEQ,MAAQf,KAAK8H,6BACV,MAAQ9H,KAAK8H,GAAK,iDACb9H,KAAK8H,qCACA9H,KAAKod,kDACLpd,KAAK8c,kDAKN9c,KAAK0d,gDACf1d,KAAK2d,8FAbK,KAAnB3d,KAAK8c,YAAqC,IAAhB9c,KAAK6S,iGAiC3B,MAAQ7S,KAAK8H,mBACS,QAAlB9H,KAAK0d,UAAuB,gBAAkB,kBAAoB,yBAA4BnX,OAAOmS,SAAY,SAAW,4FA/CpI1Y,gCAEA,MAAQA,KAAK8H,8EAIR9H,KAAKyI,gBACJzI,KAAKgJ,mBACHhJ,KAAKwL,oBACNxL,KAAKuL,kCAVrBxK,4BA8CIC,+FACS,MAAQhB,KAAK8H,+BACS,QAAlB9H,KAAK0d,UAAuB,gBAAkB,kBAAoB,yBAA4BnX,OAAOmS,SAAY,SAAW,iCA7CpI,MAAQ1Y,KAAK8H,gCAIR9H,KAAKyI,qBACJzI,KAAKgJ,wBACHhJ,KAAKwL,yBACNxL,KAAKuL,oDAZxBvL,MAAcA,KAAWC,OAAS,gDAD3Cc,kCACSf,MAAcA,KAAWC,OAAS,4HArF5BgB,kBACAC,EAAc,YACdC,EAAO,MACdyc,KACAC,EAAQ5c,SAiDZK,QACQsc,EAAW3d,OAAS,GAAoB,IAAfiB,GACzB2c,EAAMtc,cAAeC,OACbC,GAAY,UAAU,aAAa,gBAAgB,cAAc,SAAS,YAAY,SAAS,cAAc,YAAY,cAAc,WAAW,UAAU,SAAS,UAAU,aAAa,aAC5LC,EAAYC,SAASC,cAAc,IAAKV,GAC5CO,EAASI,kBAAiBC,EAAOC,MACvBL,OACEM,EAAgBN,EAAUO,iBAAiB,OAAST,EAAKrB,KACvD6B,GACFA,EAAcH,kBAAiBK,GAC3BA,EAAQC,gBAAgBV,EAASM,WAKjDK,OAAOC,KAAKb,GAAMK,kBAAiBS,OAC3BC,EAAMD,EAAIE,QAAQ,IAAI,IAAIC,UAC1BhB,EAASiB,SAASH,IAAUb,OACxBM,EAAgBN,EAAUO,iBAAiB,OAAST,EAAKrB,KACvD6B,GACFA,EAAcH,kBAAiBK,GAC3BA,EAAQS,aAAaJ,EAAKf,EAAKc,iKApEpDrB,GAC2B,GAA1B2B,MAAMC,QAAQ5B,QACd4c,UACAA,EAAM,GAAK5c,UAEX4c,EAAQ5c,OAGZ2c,MACAC,EAAMtc,cAAeC,MACN,IAARL,OACK2B,EAAQC,EAAU5B,MACnB2B,GAASA,EAAME,OACXF,EAAME,MAAMC,SACPC,EAAOJ,EAAME,MAAMC,IACG,GAAvBL,MAAMC,QAAQK,KACbA,KACAA,EAAK,GAAKJ,EAAME,MAAMC,aAEjBE,KAAKD,EACNA,EAAKC,GAAGhD,KAAO,MAAQqB,EAAKrB,MAC5BqB,EAAKlB,SAAW4C,EAAKC,GAAGC,eAO5Cwa,MACOA,GACC9V,GAAKtG,EAAKrB,IACVsI,IAAKjH,EAAKb,KAAO,KACjBqI,KAAMxH,EAAKZ,MAAQ,KACnB4K,OAAQhK,EAAKX,QAAU,KACvB0K,MAAO/J,EAAKV,OAAS,KACrB+R,QAAUrR,EAAKlB,SAAYkB,EAAKlB,SAAW,GAC3C8c,WAAY5b,EAAKnB,YACjByc,WAAYtb,EAAKjB,YACjBmd,UAAWlc,EAAKsc,WAChBH,KAAMnc,EAAKuc,iBAKvBH,wMCuDO5d,0BAALC,0KAAKD,aAALC,uIAAAA,sIAeiBD,KAAKge,4BACAhe,KAAK8H,4BACA9H,KAAKod,oCACHpd,KAAK8c,WAAY9c,KAAK8c,WAAWmB,QAAQ,wBAC/Cje,KAAKma,4BACLna,KAAKke,iCACLle,KAAKme,6BACJne,KAAK6S,qBApBlB7S,iBACD,MAAMA,KAAK8H,4EAIL9H,KAAKyI,gBACJzI,KAAKgJ,mBACHhJ,KAAKwL,oBACNxL,KAAKuL,kCATjBxK,SAaAC,kCACWhB,KAAKge,qCACAhe,KAAK8H,qCACA9H,KAAKod,kDACHpd,KAAK8c,WAAY9c,KAAK8c,WAAWmB,QAAQ,0CAC/Cje,KAAKma,0CACLna,KAAKke,+CACLle,KAAKme,0CACJne,KAAK6S,4CAnBnB,MAAM7S,KAAK8H,gCAIL9H,KAAKyI,qBACJzI,KAAKgJ,wBACHhJ,KAAKwL,yBACNxL,KAAKuL,8CAXxBvL,MAAqBA,KAAkBC,OAAS,gDADzDc,kCACSf,MAAqBA,KAAkBC,OAAS,4HAzG1CgB,kBACAC,EAAc,YACdC,EAAO,MACdid,KACAC,EAAuBpd,SAqE3BK,QACQ8c,EAAkBne,OAAS,GAAoB,IAAfiB,GAChCmd,EAAqB9c,cAAeC,OAC5BC,GAAY,UAAU,aAAa,gBAAgB,cAAc,SAAS,YAAY,SAAS,cAAc,YAAY,cAAc,WAAW,UAAU,SAAS,UAAU,aAAa,aAC5LC,EAAYC,SAASC,cAAc,IAAKV,GAC5CO,EAASI,kBAAiBC,EAAOC,MACvBL,OACEM,EAAgBN,EAAUO,iBAAiB,OAAST,EAAKrB,KACvD6B,GACFA,EAAcH,kBAAiBK,GAC3BA,EAAQC,gBAAgBV,EAASM,WAKjDK,OAAOC,KAAKb,GAAMK,kBAAiBS,OAC3BC,EAAMD,EAAIE,QAAQ,IAAI,IAAIC,UAC1BhB,EAASiB,SAASH,IAAUb,OACxBM,EAAgBN,EAAUO,iBAAiB,OAAST,EAAKrB,KACvD6B,GACFA,EAAcH,kBAAiBK,GAC3BA,EAAQS,aAAaJ,EAAKf,EAAKc,iKAxFpDrB,GAC2B,GAA1B2B,MAAMC,QAAQ5B,QACdod,UACAA,EAAqB,GAAKpd,UAE1Bod,EAAuBpd,OAG3Bmd,MACAC,EAAqB9c,cAAeC,MACpB,IAARL,OACI2B,EAAQC,EAAU5B,MAClB2B,GAASA,EAAME,OACXF,EAAME,MAAMC,SACRC,EAAOJ,EAAME,MAAMC,IACI,GAAvBL,MAAMC,QAAQK,KACdA,KACAA,EAAK,GAAKJ,EAAME,MAAMC,aAEjBE,KAAKD,EACPA,EAAKC,GAAGhD,KAAO,MAAMqB,EAAKrB,MACzBqB,EAAKlB,SAAW4C,EAAKC,GAAGC,eA2BhCkb,MApBZF,MACOA,GACHtW,GAAKtG,EAAKrB,IACVsI,IAAKjH,EAAKb,KAAO,KACjBqI,KAAMxH,EAAKZ,MAAQ,KACnB4K,OAAQhK,EAAKX,QAAU,KACvB0K,MAAO/J,EAAKV,OAAS,KACrBsc,WAAc5b,EAAK4b,YAaXkB,EAboC9c,EAAK4b,WAc5DkB,EAAIL,QACCK,EAAIL,QACe,iBAARK,GAAoBA,EAAI,GACzBA,EAAI,GAAGL,QAAYK,EAAI,GAAGL,QAAWK,EAAI,GAClC,iBAAPA,GAAmBA,EAAIre,OAAS,EAC1Cqe,EAEA,IArBmE,GAC7DxB,WAActb,EAAKsb,WAActb,EAAKsb,WAAWmB,QAAU,GAC3D9D,OAAU3Y,EAAK+c,QAAW/c,EAAK+c,QAAU,GACzCL,YAAc1c,EAAKhB,aAAgBgB,EAAKhB,aAAe,GACvD2d,OAAS3c,EAAKf,QACdoS,QAAUrR,EAAKlB,SAAYkB,EAAKlB,SAAW,GAC3C0d,QAAS,MAAQxc,EAAKrB,IAAM,iBAAmBqB,EAAKpB,yBAI5Dge,wMCmCOpe,0BAALC,0KAAKD,aAALC,uIAAAA,yHA6BqB,MAAQD,KAAK8H,GAAK,wCACR9H,KAAKod,oCACLpd,KAAK8c,iCACR9c,KAAK6S,4FALvB9R,6BAEW,MAAQf,KAAK8H,GAAK,4CACR9H,KAAKod,kDACLpd,KAAK8c,kDACR9c,KAAK6S,0IAhBZ,MAAQ7S,KAAK8H,GAAK,wCACR9H,KAAKod,oCACLpd,KAAK8c,4HAMX,UAVf/b,6BAEW,MAAQf,KAAK8H,GAAK,4CACR9H,KAAKod,kDACLpd,KAAK8c,uGALN,KAAnB9c,KAAK8c,YAAqC,IAAhB9c,KAAK6S,8EAX/B7S,iBACD,MAAMA,KAAK8H,8EAIL9H,KAAKyI,gBACJzI,KAAKgJ,mBACHhJ,KAAKwL,oBACNxL,KAAKuL,eATrBxK,6GAEQ,MAAMf,KAAK8H,gCAIL9H,KAAKyI,qBACJzI,KAAKgJ,wBACHhJ,KAAKwL,yBACNxL,KAAKuL,oDAXxBvL,KAAcC,OAAS,gDADhCc,kCACSf,KAAcC,OAAS,4HApFjBgB,kBACAC,EAAc,YACdC,EAAO,MACdqd,KACAC,EAAWxd,SA+CfK,QACQkd,GAAiBA,EAAcve,OAAS,GAAoB,IAAfiB,GAC7Cud,EAASld,cAAcC,OACfC,GAAY,UAAU,aAAa,gBAAgB,cAAc,SAAS,YAAY,SAAS,cAAc,YAAY,cAAc,WAAW,UAAU,SAAS,UAAU,aAAa,aAC5LC,EAAYC,SAASC,cAAc,IAAKV,GAC5CO,EAASI,kBAAiBC,EAAOC,MACvBL,OACEM,EAAgBN,EAAUO,iBAAiB,OAAST,EAAKrB,KACvD6B,GACFA,EAAcH,kBAAiBK,GAC3BA,EAAQC,gBAAgBV,EAASM,WAMjDK,OAAOC,KAAKb,GAAMK,kBAAiBS,OAC3BC,EAAMD,EAAIE,QAAQ,IAAI,IAAIC,UAC1BhB,EAASiB,SAASH,IAAUb,OACxBM,EAAgBN,EAAUO,iBAAiB,OAAST,EAAKrB,KACvD6B,GACFA,EAAcH,kBAAiBK,GAC3BA,EAAQS,aAAaJ,EAAKf,EAAKc,iKAnEpDrB,GAC2B,GAA1B2B,MAAMC,QAAQ5B,QACdwd,UACAA,EAAS,GAAKxd,UAEdwd,EAAWxd,OAGfud,MACAC,EAASld,cAAcC,MACP,IAARL,OACI2B,EAAQC,EAAU5B,MAClB2B,GAASA,EAAME,OACXF,EAAME,MAAMC,SACRC,EAAOJ,EAAME,MAAMC,IACI,GAAvBL,MAAMC,QAAQK,KACdA,KACAA,EAAK,GAAKJ,EAAME,MAAMC,aAEjBE,KAAKD,EACPA,EAAKC,GAAGhD,KAAO,MAAMqB,EAAKrB,MACzBqB,EAAKlB,SAAW4C,EAAKC,GAAGC,eAO5Cob,MACOA,GACC/V,IAAKjH,EAAKb,KAAO,KACjBqI,KAAMxH,EAAKZ,MAAQ,KACnB4K,OAAQhK,EAAKX,QAAU,KACvB0K,MAAO/J,EAAKV,OAAS,KACrBgH,GAAItG,EAAKrB,IACT0S,QAAUrR,EAAKlB,SAAYkB,EAAKlB,SAAW,GAC3C8c,WAAa5b,EAAKnB,YAAemB,EAAKnB,YAAc,GACpDyc,WAAatb,EAAKjB,YAAeiB,EAAKjB,YAAc,cAKhEie,wMCmDOxe,0BAALC,0KAAKD,aAALC,uIAAAA,8FAEWD,iBACD,MAAMA,KAAK8H,6CAER9H,KAAKge,uBACLhe,KAAK0e,uGALhB3d,6BAEQ,MAAMf,KAAK8H,6BAER9H,KAAKge,qCACLhe,KAAK0e,+DAPnB1e,MAAgBA,KAAaC,OAAS,gDAD/Cc,kCACSf,MAAgBA,KAAaC,OAAS,4HAnGhCgB,kBACAC,EAAc,MACrByd,KACAC,EAAU3d,SAqCdK,QACQqd,EAAa1e,OAAS,GAAoB,IAAfiB,GAC3B0d,EAAQrd,cAAcC,OACdC,GAAY,UAAU,aAAa,gBAAgB,cAAc,SAAS,YAAY,SAAS,cAAc,YAAY,cAAc,WAAW,UAAU,SAAS,UAAU,aAAa,aAC5LC,EAAYC,SAASC,cAAc,IAAKV,GAC5CO,EAASI,kBAAiBC,EAAOC,MACvBL,OACEM,EAAgBN,EAAUO,iBAAiB,OAAST,EAAKrB,KACvD6B,GACFA,EAAcH,kBAAiBK,GAC3BA,EAAQC,gBAAgBV,EAASM,WAMjDK,OAAOC,KAAKb,GAAMK,kBAAiBS,OAC3BC,EAAMD,EAAIE,QAAQ,IAAI,IAAIC,UAC1BhB,EAASiB,SAASH,IAAUb,OACxBM,EAAgBN,EAAUO,iBAAiB,OAAST,EAAKrB,KACvD6B,GACFA,EAAcH,kBAAiBK,GAC3BA,EAAQS,aAAaJ,EAAKf,EAAKc,uIA1DpDrB,GAC2B,GAA1B2B,MAAMC,QAAQ5B,QACd2d,UACAA,EAAQ,GAAK3d,UAEb2d,EAAU3d,OAEd0d,MAIAC,EAAQrd,cAAcC,OACdqd,WAwDiBrd,OACrB6J,EAAQ,WACH/I,KAAOd,EACZ6J,GAAS/I,EAAIE,QAAQ,KAAM,KAAO,IAAMhB,EAAKc,GAAO,WAEjD+I,EA7DWyT,CAAoB1c,OAAO2c,QACrCzV,SAAU,WACVb,IAAKjH,EAAKb,KAAO,KACjBqI,KAAMxH,EAAKZ,MAAQ,KACnB4K,OAAQhK,EAAKX,QAAU,KACvB0K,MAAO/J,EAAKV,OAAS,eA4DTke,WACD,IAAdA,OACN3T,YACc2T,EAAWja,MAAM,KACvBxD,cAAaO,WAEnBmd,EAAgBnd,EAAMiD,MAAM,KAChCsG,EAAM4T,EAAa,IAAMA,EAAa,SAC/B1D,GACPtU,QAAQC,KAAKqU,OAGPlQ,GAvEI6T,CAAe1d,EAAK2d,cAEvBR,MACOA,GACClW,IAAKjH,EAAKb,KAAO,KACjBqI,KAAMxH,EAAKZ,MAAQ,KACnB4K,OAAQhK,EAAKX,QAAU,KACvB0K,MAAO/J,EAAKV,OAAS,KACrB4d,OAAQG,EACR/W,GAAItG,EAAKrB,IACT6d,QAAS,kCAAoCxc,EAAK4d,kBAK9DT,+LC4EO3e,0BAALC,0KAAKD,aAALC,uIAAAA,sEAS8CD,KAAKqf,0FAAtBrf,KAAKsf,uBANvBtf,iBACD,MAAMA,KAAK8H,kBACR9H,KAAKge,2CAELhe,KAAKqL,eALhBtK,SAOIC,yCAAwChB,KAAKqf,iCAAtBrf,KAAKsf,uCALxB,MAAMtf,KAAK8H,6BACR9H,KAAKge,qCAELhe,KAAKqL,8DARnBrL,MAAsBA,KAAmBC,qDADlDc,kCACSf,MAAsBA,KAAmBC,2GAvErC6e,GAAoBtd,OACrB6J,EAAQ,WACH/I,KAAOd,EACZ6J,GAAS/I,EAAIE,QAAQ,KAAM,KAAO,IAAMhB,EAAKc,GAAO,WAEjD+I,WAkBF6T,GAAeF,WACD,IAAdA,OACN3T,YACc2T,EAAWja,MAAM,KACvBxD,cAAaO,WAEnBmd,EAAgBnd,EAAMiD,MAAM,KAChCsG,EAAM4T,EAAa,IAAMA,EAAa,SAC/B1D,GACPtU,QAAQC,KAAKqU,OAGPlQ,kCA5EIpK,kBACAC,EAAc,MAErBqe,KACAC,EAAeve,SA4EnBK,QACQie,EAAmBtf,OAAS,GAAoB,IAAfiB,GACjCse,EAAaje,cAAeC,OACpBC,GAAY,UAAU,aAAa,gBAAgB,cAAc,SAAS,YAAY,SAAS,cAAc,YAAY,cAAc,WAAW,UAAU,SAAS,UAAU,aAAa,aAC5LC,EAAYC,SAASC,cAAc,IAAKV,GAC5CO,EAASI,kBAAiBC,EAAOC,MACvBL,OACEM,EAAgBN,EAAUO,iBAAiB,OAAST,EAAKrB,KACvD6B,GACFA,EAAcH,kBAAiBK,GAC3BA,EAAQC,gBAAgBV,EAASM,WAKjDK,OAAOC,KAAKb,GAAMK,kBAAiBS,OAC3BC,EAAMD,EAAIE,QAAQ,IAAI,IAAIC,UAC1BhB,EAASiB,SAASH,IAAUb,OACxBM,EAAgBN,EAAUO,iBAAiB,OAAST,EAAKrB,KACvD6B,GACFA,EAAcH,kBAAiBK,GAC3BA,EAAQS,aAAaJ,EAAKf,EAAKc,uIA/FpDrB,GAC2B,GAA1B2B,MAAMC,QAAQ5B,QACdue,UACAA,EAAa,GAAKve,UAElBue,EAAeve,OAEnBse,MACAC,EAAaje,cAAeC,OACpBqd,EAAUC,GAAoB1c,OAAO2c,QACrCzV,SAAU,WACVb,IAAKjH,EAAKb,KAAO,KACjBqI,KAAMxH,EAAKZ,MAAQ,KACnB4K,OAAQhK,EAAKX,QAAU,KACvB0K,MAAO/J,EAAKV,OAAS,KACrBkb,OAAQxa,EAAKie,aAAe,YAAcje,EAAKob,cAC/C8C,iBAAmBle,EAAKme,mBACzBT,GAAe1d,EAAK2d,UAEnBS,EAAed,YAyBLtd,WACQ,IAArBA,EAAKqe,oBACRX,GAAe1d,EAAK2d,QA3BqBW,CAAate,QAgCtCue,MA9BdR,MACOA,GACHzX,GAAKtG,EAAKrB,IACVkL,MAAQwT,EACRb,QAAS,qBAAsBxc,EAAKqe,aAAgBre,EAAKqe,aAAe,IACxEP,UAAWM,EACXP,UAwBUU,EAxBcve,EAAKwe,UAAYxe,EAAKyc,QAA2B5R,MAAf7K,EAAKye,OAAuBzN,EAAG0N,YAAY1e,EAAKye,QAAU,GAyBpHF,EAAUA,EAAQvd,QAAQ,sBAAsB2B,EAAOgc,UACpDjb,OAAOkb,aAAaD,MAC1B,eAvBLZ,gQCmDWvf,0BAALC,0KAAKD,aAALC,uIAAAA,6IAmB+DsG,OAAOmS,WAAY,oDAA6G1Y,KAAKqgB,MAAQ,IAAMC,KAAKC,8BAD7Mxf,SACIC,8BAAiDuF,OAAOmS,WAAY,oDAA6G1Y,KAAKqgB,MAAQ,IAAMC,KAAKC,6DAKtMvgB,KAAK+R,2BAAV9R,0KAAKD,KAAK+R,cAAV9R,uIAAAA,0FAEWD,kBACDA,KAAK8H,GAAK,KAAO9H,MAAc,oHAKzBA,MAAWyI,gBACVzI,MAAWgJ,mBACThJ,MAAWwL,oBACZxL,MAAWuL,eAV3BxK,6BAEQf,KAAK8H,GAAK,KAAO9H,MAAc,gCAKzBA,MAAWyI,qBACVzI,MAAWgJ,wBACThJ,MAAWwL,yBACZxL,MAAWuL,wDAlB9BvL,KAAKqgB,eAMLrgB,KAAK+R,MAAM9R,OAAS,yEArBpBD,iBACD,MAAQA,KAAK8H,yFAIP9H,KAAKyI,gBACJzI,KAAKgJ,mBACHhJ,KAAKwL,oBACNxL,KAAKuL,oBACJvL,KAAKgc,+BACKhc,KAAKsL,uGAGdtL,KAAK6S,iBAdvB9R,6DAgBSf,KAAKqgB,6DAMLrgB,KAAK+R,MAAM9R,OAAS,qEApBrB,MAAQD,KAAK8H,gCAIP9H,KAAKyI,qBACJzI,KAAKgJ,wBACHhJ,KAAKwL,yBACNxL,KAAKuL,yBACJvL,KAAKgc,oCACKhc,KAAKsL,8FAGdtL,KAAK6S,6FAhB1B7S,MAAgBA,KAAaC,OAAS,iGADT,UAAYD,cADtDe,SACIC,gCACShB,MAAgBA,KAAaC,OAAS,wEADT,UAAYD,sFAvFvCiB,WACAE,kBACAqf,KACPC,KACAC,EAAUzf,EACV0f,EAAgB,EAChBC,EAAa,mKACV3f,MAC2B,GAA1B2B,MAAMC,QAAQ5B,QACdyf,UACAA,EAAQ,GAAKzf,UAEbyf,EAAUzf,OAEdwf,MAEa,MAAfD,MAEFE,EAAQnf,KAAKC,QACZmf,EAAgBnf,EAAKX,SACjB8f,EAAgBnf,EAAKX,aACxB8f,EAAgBnf,EAAKX,kBAGhBkN,OACP4S,EAAgB,SAIZC,EAA+B,GAAjBD,EAAsB,OAAUA,EAAgB,IAAO,MACrED,EAAQnf,cAAeC,EAAMO,OACrB8e,KACAzU,EAAYoK,KAAKC,MAAQjV,EAAK+b,OAAU/b,EAAK+b,OAAS/b,EAAKyc,iBACtD3b,KAAO8J,EACZyU,EAAgB7b,MACZyD,IAAK2D,EAAU9J,GAAK,GAAK,KACzB0G,KAAMoD,EAAU9J,GAAK,GAAK,KAC1BiJ,MAAOa,EAAU9J,GAAK,GAAK,KAC3BkJ,OAAQY,EAAU9J,GAAK,GAAK,UAGhCnB,OACI2B,EAAQC,EAAU5B,MACnB2B,GAASA,EAAME,OACXF,EAAME,MAAMC,SACPC,EAAOJ,EAAME,MAAMC,IACG,GAAvBL,MAAMC,QAAQK,KACbA,KACAA,EAAK,GAAKJ,EAAME,MAAMC,aAElBE,KAAKD,EACNA,EAAKC,GAAGhD,KAAO,MAAQqB,EAAKrB,MAC3BqB,EAAKlB,SAAW4C,EAAKC,GAAGC,eAwBtCgI,MAlBNqV,MACOA,GACH3Y,GAAItG,EAAKrB,IACTsI,IAAKjH,EAAKb,KAAK,KACfqI,KAAMxH,EAAKZ,MAAM,KACjB4K,OAAQhK,EAAKX,QAAQ,KACrB0K,MAAO/J,EAAKV,OAAO,KACnBwK,gBAAiB,SAWfF,EAXiC5J,EAAKsf,QAYlD1V,GACK7E,OAAOmS,SAAW,oDAA6GtN,GAEhI,IAfwD,MAClDyH,QAAUrR,EAAKlB,SAAYkB,EAAKlB,SAAW,GAC3C+f,MAAO7e,EAAKsf,OACZ/O,MAAO8O,iBAIfJ,6QC+COzgB,0BAALC,0KAAKD,aAALC,uIAAAA,sDAiBiBD,KAAK+gB,mCAAV9gB,0KAAKD,KAAK+gB,sBAAV9gB,uIAAAA,mIAEW,QAAUD,kBACXA,MAAU8H,kBACP9H,MAAUge,iCACAhe,MAAUod,kGAMlBpd,MAAUyI,gBACTzI,MAAUgJ,mBACRhJ,MAAUwL,oBACXxL,MAAUuL,eAbzBxK,4DAEQf,MAAU8H,6BACP9H,MAAUge,qCACAhe,MAAUod,qDAMlBpd,MAAUyI,qBACTzI,MAAUgJ,wBACRhJ,MAAUwL,yBACXxL,MAAUuL,2DAf5BvL,KAAK+gB,cAAc9gB,OAAS,0DAd5BD,uEAIIA,KAAKyI,gBACJzI,KAAKgJ,mBACHhJ,KAAKwL,oBACNxL,KAAKuL,6GARpBxK,uCAeSf,KAAK+gB,cAAc9gB,OAAS,wEAVxBD,KAAKyI,qBACJzI,KAAKgJ,wBACHhJ,KAAKwL,yBACNxL,KAAKuL,uDAVvBvL,MAAiBA,KAAcC,OAAS,gDADjDc,kCACSf,MAAiBA,KAAcC,OAAS,sGA9DvC+gB,GAAOC,EAAUC,EAAK9P,UACjB+P,WAAW/P,EAAKvQ,SAAWsgB,WAAWD,GAAQ,IAAMC,WAAWF,GAAY,GAAoC,GAA5BE,WAAWF,GAAY,GAAW,WAI1HG,GAAQC,EAAUC,EAAKlQ,UACjB+P,WAAW/P,EAAKtQ,QAAUqgB,WAAWG,GAAQ,IAAMH,WAAWE,GAAY,GAAoC,GAA5BF,WAAWE,GAAY,GAAW,WAI1HxI,GAAUqI,EAAK9P,UACP+P,WAAW/P,EAAKvQ,SAAWsgB,WAAWD,GAAS,WAIvDK,GAASD,EAAKlQ,UACP+P,WAAW/P,EAAKtQ,QAAUqgB,WAAWG,GAAS,iCAzEhDrgB,KACPugB,KACAC,EAAmBxgB,EACnBygB,0FAEGzgB,GAC2B,GAA1B2B,MAAMC,QAAQ5B,QACdwgB,UACAA,EAAiB,GAAKxgB,UAEtBwgB,EAAmBxgB,OAEvBugB,MACAC,EAAiBlgB,cAAeC,OACxB0f,EAAKI,EAAKK,EACVlS,EAAQ,EACRsR,SACJW,MAEIlgB,EAAK+b,iBA0DF9P,OACbjM,EAAOiM,EAAK1I,MAAM,aACbJ,EAAI,EAAGA,EAAInD,EAAKvB,OAAS0E,SAC7Bid,EAAOpgB,EAAKmD,GAAGR,MAAM,iBAExBud,EAAU/c,GADRid,EACaA,EAAK,GAAGpf,QAAQ,IAAI,IAAIA,QAAQ,IAAI,IAAIA,QAAQ,KAAK,IAAIA,QAAQ,KAAK,IAEtE,OAhEHqf,CAASrgB,EAAK+b,QAGlBoE,EAAWngB,EAAKsgB,QAAYtgB,EAAKsgB,QAAS/c,MAAM,QAChDmc,EAAMS,EAAO,GACbL,EAAMK,EAAO,WAEJI,EAAW,EAAGA,GAAYb,EAAKa,YAC3BC,EAAW,EAAGA,GAAYV,EAAKU,IACpCjB,EAAc/b,MACV8C,GAAItG,EAAKrB,IAAM,IAAM4hB,EAAW,IAAMC,EACtChE,QAAWxc,EAAKnB,aAAeqhB,EAAUjS,GAAU,mCAAqC,4BACxF2N,WAAcsE,EAAUjS,GAAS,IAAO,IACxChH,IAAKuY,GAAOe,EAAUb,EAAK1f,GAAQ,KACnCwH,KAAMoY,GAAQY,EAAUV,EAAK9f,GAAQ,KACrCgK,OAAQqN,GAAUqI,EAAK1f,GAAQ,KAC/B+J,MAAOgW,GAASD,EAAK9f,GAAQ,KAC7BygB,YAAcP,EAAUjS,GAAUiS,EAAUjS,GAAS,KAEzDA,QAIR+R,MACOA,GACC/Y,IAAIjH,EAAKb,KAAK,KACdqI,KAAKxH,EAAKZ,MAAM,KAChB4K,OAAOhK,EAAKX,QAAQ,KACpB0K,MAAM/J,EAAKV,OAAO,KACHigB,cAAAA,aAK3BS,oBA2FoCjb,OAAOlB,QAAQ6c,EAAUD,6KC9EtDjiB,0BAALC,0KAAKD,aAALC,uIAAAA,uEA2BWD,KAAK8B,MAAQ9B,KAAK8B,MAAQ,2FARpB,MAAQ9B,KAAK8H,GAAK,6DAGlB9H,KAAK8B,MAAQ9B,KAAK8B,MAAQ,0FApBhC9B,iBACD,MAAMA,KAAK8H,kBACR9H,KAAKge,8CAGFhe,KAAKyI,gBACJzI,KAAKgJ,mBACHhJ,KAAKwL,oBACNxL,KAAKuL,8GATrBxK,SAgBIC,0CAUKhB,KAAK8B,MAAQ9B,KAAK8B,MAAQ,4BARpB,MAAQ9B,KAAK8H,GAAK,2CAGlB9H,KAAK8B,MAAQ9B,KAAK8B,MAAQ,6BAnBjC,MAAM9B,KAAK8H,6BACR9H,KAAKge,wCAGFhe,KAAKyI,qBACJzI,KAAKgJ,wBACHhJ,KAAKwL,yBACNxL,KAAKuL,8CAXxBvL,MAAuBA,KAAoBC,OAAS,gDAD7Dc,kCACSf,MAAuBA,KAAoBC,OAAS,4HAhE9CgB,kBACAC,EAAc,MACrBihB,KACAC,EAAiBnhB,SA4BrBK,QACQ6gB,EAAoBliB,OAAS,GAAoB,IAAfiB,GAClCkhB,EAAe7gB,cAAcC,OACrBC,GAAY,UAAU,aAAa,gBAAgB,cAAc,SAAS,YAAY,SAAS,cAAc,YAAY,cAAc,WAAW,UAAU,SAAS,UAAU,aAAa,aAC5LC,EAAYC,SAASC,cAAc,IAAKV,GAC5CO,EAASI,kBAAiBC,EAAOC,MACvBL,OACEM,EAAgBN,EAAUO,iBAAiB,OAAST,EAAKrB,KACvD6B,GACFA,EAAcH,kBAAiBK,GAC3BA,EAAQC,gBAAgBV,EAASM,WAMjDK,OAAOC,KAAKb,GAAMK,kBAAiBS,OAC3BC,EAAMD,EAAIE,QAAQ,IAAI,IAAIC,UAC1BhB,EAASiB,SAASH,IAAUb,OACxBM,EAAgBN,EAAUO,iBAAiB,OAAST,EAAKrB,KACvD6B,GACFA,EAAcH,kBAAiBK,GAC3BA,EAAQS,aAAaJ,EAAKf,EAAKc,uIAhDpDrB,GAC2B,GAA1B2B,MAAMC,QAAQ5B,QACdmhB,UACAA,EAAe,GAAKnhB,UAEpBmhB,EAAiBnhB,OAGrBkhB,MACAC,EAAe7gB,cAAcC,OACzB2gB,MACOA,GACC1Z,IAAKjH,EAAKb,KAAO,KACjBqI,KAAMxH,EAAKZ,MAAQ,KACnB4K,OAAQhK,EAAKX,QAAU,KACvB0K,MAAO/J,EAAKV,OAAS,KACrBgH,GAAItG,EAAKrB,IACT6d,QAAS,uBAAuBxc,EAAK4d,OACrCtd,MAAON,EAAKib,kBAKxB0F,oQCAWniB,0BAALC,qCAOKD,0BAALC,oaARNc,6DAOAA,qFANWf,aAALC,+HAAAA,2BAOKD,aAALC,uHAAAA,8DAAAA,gLALuJD,KAAKyc,mEAA5I,YAAgC,KAAjBzc,KAAKqiB,SAAmB,UAAW,kBAAW,OAAOriB,KAAKG,yDAA2C,OAAOH,KAAKG,iBADrI,kBAAoBH,sCAA7Be,SACIC,yCAAiJhB,KAAKyc,+BAA5I,YAAgC,KAAjBzc,KAAKqiB,SAAmB,UAAW,iCAAW,OAAOriB,KAAKG,gCAA2C,OAAOH,KAAKG,0GAiB1FoG,OAAOmS,WAAW,oDAA6G1Y,KAAK8gB,mCAAa9gB,KAAKsiB,cAAlMvhB,6DAA4CwF,OAAOmS,WAAW,oDAA6G1Y,KAAK8gB,mCAAa9gB,KAAKsiB,kHADjMtiB,KAAK8gB,8CAGc9gB,KAAKsc,KAAQtc,KAAKsc,oCAClBtc,KAAKuiB,KAAQviB,KAAKuiB,aAAmBviB,iCACpCA,KAAK6d,MAAS7d,KAAK6d,cAAoB7d,iCACtCA,KAAKkG,OAAUlG,KAAKkG,eAAqBlG,gCACxCA,KAAKqB,QAAWrB,KAAKqB,gBAAsBrB,iCAC1CA,KAAKye,SAAYze,KAAKye,iBAAuBze,iCAC9CA,KAAK4e,QAAW5e,KAAK4e,uCACrB5e,KAAK0gB,QAAW1gB,KAAK0gB,gBAAsB1gB,iCAC1CA,KAAKwiB,SAAYxiB,KAAKwiB,yQApB7C,qBAAuBxiB,iBACxB,MAAQA,KAAKG,4DAGV,aAAiC,KAAjBH,KAAKqiB,SAAmB,SAAU,wFAL7DthB,uNAUSf,KAAK8gB,yFAGc9gB,KAAKsc,KAAQtc,KAAKsc,8CAClBtc,KAAKuiB,KAAQviB,KAAKuiB,sBAAmBviB,2CACpCA,KAAK6d,MAAS7d,KAAK6d,uBAAoB7d,2CACtCA,KAAKkG,OAAUlG,KAAKkG,wBAAqBlG,2CACxCA,KAAKqB,QAAWrB,KAAKqB,yBAAsBrB,2CAC1CA,KAAKye,SAAYze,KAAKye,0BAAuBze,2CAC9CA,KAAK4e,QAAW5e,KAAK4e,iDACrB5e,KAAK0gB,QAAW1gB,KAAK0gB,yBAAsB1gB,2CAC1CA,KAAKwiB,SAAYxiB,KAAKwiB,wCAnB9C,MAAQxiB,KAAKG,oCAGV,aAAiC,KAAjBH,KAAKqiB,SAAmB,SAAU,seAfpEriB,MAAqBA,KAAkBC,OAAS,gDADzDc,uCACSf,MAAqBA,KAAkBC,OAAS,gMAlB1CgB,WACAE,EAAO,mBACPshB,KACPC,EAAoBzhB,wJAEjBA,EAC2B,GAA1B2B,MAAMC,QAAQ5B,QACdyhB,UACAA,EAAkB,GAAKzhB,UAEvByhB,EAAoBzhB,OAGxByhB,sBA0BqCD,EAAY,8PCjBtCziB,0BAALC,qCAOKD,0BAALC,kZARNc,6DAOAA,qFANWf,aAALC,+HAAAA,4BAOKD,aAALC,uHAAAA,8DAAAA,gLALyJD,KAAKyc,kEAA/I,OAAOzc,KAAKG,4BAAqB,OAASH,KAAKG,+CAAoD,KAAjBH,KAAKqiB,SAAiB,mBAAmB,yBAD/H,YAAcriB,sCAAvBe,SACIC,yCAAmJhB,KAAKyc,+BAA/I,OAAOzc,KAAKG,gCAAqB,OAASH,KAAKG,0CAAoD,KAAjBH,KAAKqiB,SAAiB,mBAAmB,yGAiBpF9b,OAAOmS,WAAW,oDAA6G1Y,KAAK8gB,mCAAa9gB,KAAKsiB,cAAlMvhB,6DAA4CwF,OAAOmS,WAAW,oDAA6G1Y,KAAK8gB,mCAAa9gB,KAAKsiB,sHADjMtiB,KAAK8gB,8CAGc9gB,KAAKsc,KAAQtc,KAAKsc,oBAAyBtc,iCAC3CA,KAAKuiB,KAAQviB,KAAKuiB,oBAAyBviB,UAAmBA,iCAC7DA,KAAK6d,MAAS7d,KAAK6d,qBAA0B7d,UAAmBA,iCAC/DA,KAAKkG,OAAUlG,KAAKkG,sBAA2BlG,UAAmBA,gCACjEA,KAAKqB,QAAWrB,KAAKqB,uBAA4BrB,UAAmBA,iCACnEA,KAAKye,SAAYze,KAAKye,wBAA6Bze,UAAmBA,iCACvEA,KAAK4e,QAAW5e,KAAK4e,uBAA4B5e,iCACjDA,KAAK0gB,QAAW1gB,KAAK0gB,uBAA4B1gB,UAAmBA,iCACnEA,KAAKwiB,SAAYxiB,KAAKwiB,wBAA6BxiB,iCACnDA,KAAK2iB,IAAO3iB,KAAK2iB,6BAA+B3iB,yRArBvE,eAAiBA,iBAClB,MAAQA,KAAKG,4DAGV,aAAiC,KAAjBH,KAAKqiB,SAAmB,SAAU,wFAL7DthB,0OAUSf,KAAK8gB,yFAGc9gB,KAAKsc,KAAQtc,KAAKsc,6BAAyBtc,2CAC3CA,KAAKuiB,KAAQviB,KAAKuiB,6BAAyBviB,mBAAmBA,2CAC7DA,KAAK6d,MAAS7d,KAAK6d,8BAA0B7d,mBAAmBA,2CAC/DA,KAAKkG,OAAUlG,KAAKkG,+BAA2BlG,mBAAmBA,2CACjEA,KAAKqB,QAAWrB,KAAKqB,gCAA4BrB,mBAAmBA,2CACnEA,KAAKye,SAAYze,KAAKye,iCAA6Bze,mBAAmBA,2CACvEA,KAAK4e,QAAW5e,KAAK4e,gCAA4B5e,2CACjDA,KAAK0gB,QAAW1gB,KAAK0gB,gCAA4B1gB,mBAAmBA,2CACnEA,KAAKwiB,SAAYxiB,KAAKwiB,iCAA6BxiB,2CACnDA,KAAK2iB,IAAO3iB,KAAK2iB,+CAA+B3iB,iCApBxE,MAAQA,KAAKG,oCAGV,aAAiC,KAAjBH,KAAKqiB,SAAmB,SAAU,ihBAfpEriB,MAAeA,KAAYC,OAAS,gDAD7Cc,uCACSf,MAAeA,KAAYC,OAAS,gMAnB9BgB,kBACAC,WACAC,EAAO,mBACPshB,KACPG,EAAc3hB,iMAEVA,EAC0B,GAA1B2B,MAAMC,QAAQ5B,QACd2hB,UACAA,EAAY,GAAK3hB,UAEjB2hB,EAAc3hB,OAGlB2hB,wBA0BqCH,EAAY,yMClB1CziB,0BAALC,yNAAKD,aAALC,+HAAAA,8DAAAA,yNAYgKsG,OAAOmS,SAAW,kDAAoD1Y,KAAK8gB,OAAQ,oDAAsD9gB,KAAK8gB,kCAAa9gB,KAAKsiB,cAArUvhB,mFAAqKwF,OAAOmS,SAAW,kDAAoD1Y,KAAK8gB,OAAQ,oDAAsD9gB,KAAK8gB,kCAAa9gB,KAAKsiB,iIADrTtiB,KAAK8gB,8CAGc9gB,KAAKsc,KAAQtc,KAAKsc,oBAAyBtc,iCAC3CA,KAAKuiB,KAAQviB,KAAKuiB,oBAAyBviB,UAAmBA,iCAC7DA,KAAK6d,MAAS7d,KAAK6d,qBAA0B7d,UAAmBA,iCAC/DA,KAAKkG,OAAUlG,KAAKkG,sBAA2BlG,UAAmBA,gCACjEA,KAAKqB,QAAWrB,KAAKqB,uBAA4BrB,UAAmBA,iCACnEA,KAAKye,SAAYze,KAAKye,wBAA6Bze,UAAmBA,iCACvEA,KAAK4e,QAAW5e,KAAK4e,uBAA4B5e,iCACjDA,KAAK0gB,QAAW1gB,KAAK0gB,uBAA4B1gB,UAAmBA,iCACnEA,KAAKwiB,SAAYxiB,KAAKwiB,wBAA6BxiB,iCAC/CA,KAAK6iB,aAAgB7iB,KAAK6iB,4BAAiC7iB,UAAoBA,kDAC1EA,KAAK2iB,IAAO3iB,KAAK2iB,mBAAwB3iB,iCACpDA,KAAK8iB,OAAU9iB,KAAK8iB,sBAA2B9iB,iCAChDA,KAAK8M,MAAS9M,KAAK8M,qBAA0B9M,8VAxBjEA,iBACD,MAAQA,KAAKG,+JAFrBY,mSAUSf,KAAK8gB,yFAGc9gB,KAAKsc,KAAQtc,KAAKsc,6BAAyBtc,2CAC3CA,KAAKuiB,KAAQviB,KAAKuiB,6BAAyBviB,mBAAmBA,2CAC7DA,KAAK6d,MAAS7d,KAAK6d,8BAA0B7d,mBAAmBA,2CAC/DA,KAAKkG,OAAUlG,KAAKkG,+BAA2BlG,mBAAmBA,2CACjEA,KAAKqB,QAAWrB,KAAKqB,gCAA4BrB,mBAAmBA,2CACnEA,KAAKye,SAAYze,KAAKye,iCAA6Bze,mBAAmBA,2CACvEA,KAAK4e,QAAW5e,KAAK4e,gCAA4B5e,2CACjDA,KAAK0gB,QAAW1gB,KAAK0gB,gCAA4B1gB,mBAAmBA,2CACnEA,KAAKwiB,SAAYxiB,KAAKwiB,iCAA6BxiB,2CAC/CA,KAAK6iB,aAAgB7iB,KAAK6iB,qCAAiC7iB,mBAAoBA,qEAC1EA,KAAK2iB,IAAO3iB,KAAK2iB,4BAAwB3iB,2CACpDA,KAAK8iB,OAAU9iB,KAAK8iB,+BAA2B9iB,2CAChDA,KAAK8M,MAAS9M,KAAK8M,8BAA0B9M,iCAvBlE,MAAQA,KAAKG,+oBAJxBH,MAAQA,KAAKC,OAAS,gDAD/Bc,uCACSf,MAAQA,KAAKC,OAAS,gMAlBhBgB,kBACAC,WACAC,EAAO,mBACPshB,KACPM,EAAO9hB,iMACJA,EAC2B,GAA1B2B,MAAMC,QAAQ5B,QACd8hB,UACAA,EAAK,GAAK9hB,UAEV8hB,EAAO9hB,OAGX8hB,wBAkBkBN,EAAY,OAAgB1U,KAAKA,EAAEvF,OAAOwa,QAAU,KAAMjV,EAAEvF,OAAOkD,IAAI,oDAAsDlK,EAAKsf,0iBCsVlJ9gB,0BAALC,8KAAKD,aAALC,uIAAAA,sEAUC,MAAQD,MAAKG,uGAPT,WAAaH,MAAKG,gIAFbH,eAAXe,SACCC,mFACK,WAAahB,MAAKG,kCAOtB,MAAQH,MAAKG,2RA+BmG8iB,EAAEC,oBAAxGniB,0BAA8Hf,gHAFTA,KAAU,oBAAaA,KAAS,gBAAWuG,OAAOmS,SAAW,kDAAkD1Y,KAAMwC,QAAQ,MAAM,MAAQ,oDAAoDxC,gCAAcA,kBAAkBA,KAAMA,KAAMijB,EAAEC,oBAA9WniB,mFAAiIf,KAAU,uCAAaA,KAAS,yCAAWuG,OAAOmS,SAAW,kDAAkD1Y,KAAMwC,QAAQ,MAAM,MAAQ,oDAAoDxC,0CAAcA,sBAAkBA,KAAMA,KAAMijB,EAAEC,oKAMxVljB,MAAMwB,KAAK,GAAG8a,iBAAmB6G,+BACjCnjB,MAAMwB,KAAK,eAAiB2hB,+BAC5BnjB,MAAMwB,KAAK,GAAG+gB,iBAAmBY,QAAoBnjB,iCACrDA,MAAMwB,KAAK,eAAiB2hB,QAAoBnjB,iCAC9CA,MAAMwB,KAAK,GAAG0E,mBAAqBid,QAAqBnjB,gCACvDA,MAAMwB,KAAK,GAAGH,oBAAsB8hB,QAAoBnjB,iCAC1DA,MAAMwB,KAAK,GAAGqc,kBAAoBsF,QAAoBnjB,iCAC/CA,MAAMwB,KAAK,GAAGqhB,yBAA2BM,QAAoBnjB,iCACjEA,MAAMwB,KAAK,GAAGid,qBAAuB0E,QAAoBnjB,iCAC1DA,MAAMwB,KAAK,GAAGod,oBAAsBuE,+BACtCnjB,MAAMwB,KAAK,GAAGsL,kBAAoBqW,+BAChCnjB,MAAMwB,KAAK,GAAGkf,oBAAsB1gB,iBAAyBmjB,QAAoBnjB,iCAChFA,MAAMwB,KAAK,GAAGghB,qBAAuBW,+BACvCnjB,MAAMwB,KAAK,GAAGshB,mBAAqBK,+BACrCnjB,MAAMwB,KAAK,GAAGuhB,iBAAmBI,0BAAkCnjB,iCACpEA,MAAMwB,KAAK,GAAGmhB,gBAAkBQ,0BAAkCnjB,cAClFA,MAAMwB,KAAK,GAAGkf,mwBAhBG1gB,MAAMwB,KAAK,GAAG8a,iDACdtc,MAAMwB,KAAK,+CACXxB,MAAMwB,KAAK,GAAG+gB,sBAAuCviB,iDACrDA,MAAMwB,KAAK,oBAAqCxB,iDAC9CA,MAAMwB,KAAK,GAAG0E,wBAA0ClG,iDACvDA,MAAMwB,KAAK,GAAGH,yBAA0CrB,iDAC1DA,MAAMwB,KAAK,GAAGqc,uBAAwC7d,iDAC/CA,MAAMwB,KAAK,GAAGqhB,8BAA+C7iB,iDACjEA,MAAMwB,KAAK,GAAGid,0BAA2Cze,iDAC1DA,MAAMwB,KAAK,GAAGod,oDAChB5e,MAAMwB,KAAK,GAAGsL,kDACZ9M,MAAMwB,KAAK,GAAGkf,kCAAsB1gB,sBAA6CA,iDAChFA,MAAMwB,KAAK,GAAGghB,qDAChBxiB,MAAMwB,KAAK,GAAGshB,mDAChB9iB,MAAMwB,KAAK,GAAGuhB,sBAAqD/iB,iDACpEA,MAAMwB,KAAK,GAAGmhB,qBAAoD3iB,gBAClFA,MAAMwB,KAAK,GAAGkf,kkCACwC,wEAAA,2FAA1D3f,sFAhEFkiB,EAAEG,4CALapjB,2BACEA,aAKbA,MAAQA,KAAKC,qCAuCZD,+BAKAA,MAAMwB,MAAQxB,2KAtBjBijB,EAAEI,oDAOFJ,EAAEK,qkBAIAH,yCAEenjB,kGA3CtBe,4BAKCC,OACCA,kDAkBDA,OACCA,OACCA,cAKAA,cASDA,qFAhCKhB,MAAQA,KAAKC,8HA4CZD,MAAMwB,MAAQxB,kJATAA,qgXA5XlBmjB,GAAe,4CAjBRI,WACApiB,eACAqiB,cACAC,kBACAC,KAGPC,EAAO,GACPC,EAAe,EACfC,EAAQ,GACRC,EAAY,GACZC,EAAW,GACXhB,KACAtW,EAAM,GACNuX,EAAkB,EAClBC,EAAc,GAGdC,EAAa,EACbvgB,KAEAwgB,EAAgBC,GACnBb,IAAK,GACLc,MAAO,UACPL,gBAAiB,GACjBxO,QAAS,EACThU,UAImB2iB,EAAcG,WAAUxiB,SAC3C6B,EAAQ7B,eAoFAyiB,IAERjY,2BACK5M,EAASI,EAAIsK,SAAS,IAAK+Y,IACV,oBAAVqB,OAAuBhS,EAAGhG,QAAQ9M,EAAO0Z,IAAM,UAAY,YAAa,KAC/EsK,GACHD,EAAQ/jB,EAAO0Z,IAAM,UAAY,aAElCqL,EAAgB/kB,KACd,cAoBKglB,QACJC,EAAcrY,0BACjBxM,EAAI2H,UAAU,IAAK0b,IACnBrjB,EAAIwV,YAAY,IAAK6N,GAAc,KAC/BK,EAEHe,IACAzkB,EAAI0a,OAAO,GACX1a,EAAIwV,YAAY,IAAM6N,GAAc,IAAK,GACzC3Q,EAAGpM,UAAU,wBAAyB,cAAe,UACrDoM,EAAGmI,SAAS,2BAA4B,mBAGvC7a,EAAI0a,OAAO,QACY,IAAZiJ,GACVc,UAEOhJ,GACRtU,QAAQC,MAAWqU,IAAAA,IAGrBzH,aAAa6Q,KACX,cA6BKlC,EAAYmC,OAChBljB,EAAYC,SAASM,iBAAiB,IAAMkhB,GAAe,QAC3DzhB,EAAUzB,OAAS,GACtByB,EAAUG,kBAAkBC,MACvBA,EAAM+iB,cACLC,EAAiBhjB,EAAMijB,aAAejjB,EAAMkjB,cAAgBljB,EAAMijB,aAAejjB,EAAMkjB,cACvFC,EAAgBnjB,EAAMojB,YAAcpjB,EAAMqjB,aAAerjB,EAAMojB,YAAcpjB,EAAMqjB,cAC1D,GAAzBvN,OAAOqN,IAAiD,GAA1BrN,OAAOkN,IAAkD,oBAAlBM,gBAAoD,GAAnBA,iBACzG5S,EAAGzM,OAAO,IAAMod,IACf3X,QAAUsY,GAAaA,GAAagB,EAAkBhB,EAAYgB,GAAkB,KACpFvZ,OAASwY,GAAYA,GAAYkB,EAAiBlB,EAAWkB,GAAiB,WAM9D,GAAjBL,GAAuC,GAAjBA,QACzBhB,EAAe,GACXrd,OAAOmS,UACVnS,OAAOwS,wBAAyBvG,EAAGtM,OAAO,IAAMid,GAAa,QAAQ6B,eAEtEN,KArLFW,oBACK9e,OAAOmS,UACqB,mBAApBnS,OAAOsS,WACjBtS,OAAOsS,WAAatS,OAAOsS,YAIzB0K,GACH/Q,EAAGzM,OAAQpE,SAAS2jB,eAAe,aAClCtf,QAAS,SAIXwM,EAAGtK,OAAOvG,SAAU,QAAS,oBAAoB+X,GAC3CA,EAAgBrR,UAAUC,SAAS,gBACxCoR,EAAgB/W,aAAa,UAAW,MAGzC6P,EAAGtK,OAAO,OAAQ,QAAS,6BAE1BsK,EAAGpM,UAAU,wBAAyB,cAAe,UACrDoM,EAAGmI,SAAS,2BAA4B,UAoRzC7a,EAAIwV,YAAY,IAAI6N,GAAc,IAAI,MAhRtC3Q,EAAGtK,OAAO,OAAQ,QAAS,gCAE1BsK,EAAGpM,UAAU,wBAAyB,cAAe,UACrDoM,EAAGmI,SAAS,8BAA+B,UAwQ5C7a,EAAIwV,YAAY,IAAI6N,GAAc,IAAI,MArQtC3Q,EAAGtK,OAAOvG,SAAU,QAAS,IAAKwhB,eACjCoB,OAGD/R,EAAGtK,OAAOvG,SAAU,QAAS,IAAKwhB,eACjCoB,OAGD/R,EAAGtK,OAAOvG,SAAU,SAAU,IAAKwhB,eAClCoB,OAGD/R,EAAGtK,OAAOvG,SAAU,UAAW,IAAKwhB,eACnCoB,OAID/R,EAAG+S,KAAK,OAAQ,wBAAwBnd,GACvCA,EAAMoL,oBAEPvM,QAAQue,IAAI,gBAIblkB,aAEKqC,EAAM4f,KAAOA,YAqCEkC,OACfC,EAAS3iB,EAAU0iB,aAwCCE,OAGvBhC,EAAOgC,MACP9B,EAAQ8B,EAAMC,MAAM9E,YACpBoD,EAAayB,EAAMC,MAAM1lB,OAAS,OAClCuM,EAAOkZ,EAAMC,MAAMtD,KAAQqD,EAAMC,MAAMtD,KAAO,QAC9CwB,EAAY6B,EAAMC,MAAM/kB,aACxBkjB,EAAW4B,EAAMC,MAAM9kB,YACvBmjB,EAA8C,GAA/B0B,EAAMC,MAAMC,gBAnKP,eAmKiD,QACrE9C,EAAO4C,EAAMC,MAAM7C,MACQ,GAAvBngB,MAAMC,QAAQkgB,IAAkBA,QACnCA,UACAA,EAAK,GAAKY,EAAKiC,MAAM7C,eAEd/b,GACRC,QAAQC,MACPF,MAAAA,EACA8e,IAAK,kBACLC,KAAM,8BA1DRC,CAAgBN,OAChB1B,WAyF2BiC,OACvBC,EAAOD,EAAOA,EAAKL,MAAQ,KAC3BnW,EAAQ,KAETyW,WAEOvhB,KAAKuhB,KACiB,GAA1BtjB,MAAMC,QAAQqjB,EAAKvhB,SAClBwhB,KACJA,EAAInhB,KAAKkhB,EAAKvhB,IACduhB,EAAKvhB,GAAKwhB,KAIRD,EAAW,OACdzW,GAAcyW,EAAW,KAAEjmB,QAExBimB,EAAa,SAChBzW,GAAcyW,EAAa,OAAEjmB,QAE1BimB,EAAc,UACjBzW,GAAcyW,EAAc,QAAEjmB,QAE3BimB,EAAe,WAClBzW,GAAcyW,EAAe,SAAEjmB,QAE5BimB,EAAY,OACfA,EAAY,MAAE3kB,cAAaC,GACO,GAA9B8N,SAAS9N,EAAKnB,eAChBoP,GAAc,MAIbyW,EAAc,SACjBA,EAAc,QAAE3kB,cAAaC,OACxB4K,EAAYoK,KAAKC,MAAQjV,EAAK+b,OAAQ/b,EAAK+b,OAAO/b,EAAKyc,SAC3DxO,GAAcrN,OAAOC,KAAK+J,GAAWnM,UAInCimB,EAAc,YAEhBE,KAAKlW,KAAK3J,OAAQ2f,EAAc,QAAE,UAC1BnY,GACR9G,QAAQC,KAAK6G,UAGR0B,GAxIU4W,CAAmBX,IACrCvB,EAAcmC,QAASJ,IACtBA,EAAK3C,IAAMkC,EACXS,EAAKlC,gBAAkBA,EACvBkC,EAAK1kB,cAkJmBykB,OACrBL,EAAQK,EAAOA,EAAKL,MAAQ,KAC5BW,KAAiBC,QACjBZ,SACCA,EAAM3iB,KACT2iB,EAAM3iB,IAAI1B,cAAaC,EAAKmD,MAEP,KADpBnD,WAfgBgC,OACfijB,aACM1kB,KAASyB,EAClBijB,EAAK1kB,EAAMkD,eAAiBzB,EAAIzB,UAE1B0kB,EAUGC,CAAWllB,IACTyb,SAAiC5Q,MAAhB7K,EAAKyb,QAE1Bzb,EAAKmlB,KAAK7hB,QAAQ,SAAW,IAChCtD,EAAKrB,IAAM,KAAKqB,EAAKmlB,KACrBnlB,EAAKmlB,KAAO,MAAMnlB,EAAKmlB,MAGxBJ,EAAWvhB,KAAKxD,YAEZsG,EAAKtG,EAAKrB,IAAI4E,MAAM,SAEpBvD,EAAKmlB,KAAK7hB,QAAQ,SAAW,EAChCtD,EAAKrB,IAAM,KAAKqB,EAAKmlB,KACrBnlB,EAAKmlB,KAAO,MAAMnlB,EAAKmlB,KACvBnlB,EAAKyb,QAAU,KAAKzb,EAAKyb,iBAGrB3a,EAAMd,EAAKmlB,KAAK5hB,MAAM,UACtB+C,EAAG,IAAMxF,EAAI,QAEZskB,EADIplB,EAAKyb,QAAQlY,MAAM,OAChB,GACP6hB,IAAIplB,EAAKyb,QAAU,KAAK2J,QAClBtX,SAASxH,EAAG,KAAOwH,SAAShN,EAAI,KACtCd,EAAKyb,QAAQnY,QAAQ,QAAU,IAClCtD,EAAKyb,QAAU,KAAK3a,EAAI,IAI3BkkB,EAAWxhB,KAAKxD,QAIXokB,EAAOW,EAAYC,GAzLfK,CAAiBnB,GACtBQ,KAERzD,IACAiC,IA/CCoC,CAAWvD,GAIR5f,EAAM6R,QAAUgO,IACnBW,EAAcmC,QAASJ,IACtBA,EAAK1Q,OAASgO,EACP0C,KAEJ1C,GACHe,IACAzkB,EAAI0a,OAAO,GACX1a,EAAIwV,YAAY,IAAM6N,GAAc,IAAK,GACzC3Q,EAAGpM,UAAU,wBAAyB,cAAe,UACrDoM,EAAGmI,SAAS,2BAA4B,WAExC7a,EAAI0a,OAAO,+NAoOb+J,SACAf,GAAW,GACX1jB,EAAI0a,OAAO,oBAKXgJ,GAAW,GACX1jB,EAAI0a,OAAO,eAKXhI,EAAGtM,OAAO,qBAAqBrC,aAC/B+f,EAAe,gBASgC9jB,EAAIuF,QAAQ,WAQtCvF,EAAIuF,QAAQ,MAAQ7D,EAAKrB,KAkC3B4N,IAAKA,EAAEvF,OAAOwa,QAAU,KAAMjV,EAAEvF,OAAOkD,IAAI,oDAAsDmY,QAAyRpB,EAAY"}