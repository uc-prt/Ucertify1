{"version":3,"file":"Resizable-191e4862.js","sources":["../../../clsSMDragNDrop/libs/plugins/Resizable.js"],"sourcesContent":["\r\n\r\n\"use strict\";\r\nwindow.isResizable = (window.isResizable) ? window.isResizable : false;\r\nexport default class Resizable {\r\n    constructor (container, elements) {\r\n        this.container = container;\r\n        this.targetResize = null;\r\n        this.elmsResizable = document.querySelectorAll(elements);\r\n        this.started = false;\r\n        this.init();\r\n    }\r\n\r\n    init() {\r\n\r\n        [] .forEach.call (this.elmsResizable, (el) => {\r\n            if (el.querySelector('.resizer') == null  || (el.id == 'dndmain' && document.querySelector('#dndmain > .resizer') == null)) { \r\n                let resizer = document.createElement('div');\r\n                resizer.className ='resizer icomoon-resize';\r\n                el.appendChild (resizer);\r\n            }\r\n        });\r\n\r\n        if (!window.isResizable) {\r\n            window.isResizable = true;\r\n            AI.listen('body', 'mouseleave', this.container, () => {\r\n                this.targetResize = null;\r\n            })\r\n            AI.listen('body', 'mousedown', '.resizer', (current) => {\r\n                this.targetResize = current.parentNode;\r\n                this.started = true;\r\n                this.onStart && this.onStart(current);\r\n            });\r\n            AI.listenAll('body', 'mousemove', (event) => {\r\n                if (this.targetResize == null || !this.started) {return;}\r\n                let position = this.getPosition(event, this.targetResize);\r\n                this.targetResize.style.width = position.x +'px';\r\n                this.targetResize.style.height = position.y +'px';\r\n            });\r\n\r\n            AI.listenAll('body', 'mouseup', (event) => {\r\n                if (this.started) {\r\n                    this.started = false;\r\n                    this.onStop && this.onStop(event, this.targetResize);\r\n                    this.targetResize = null;\r\n                }\r\n            })\r\n\r\n        }\r\n        \r\n    }   \r\n    \r\n    getPosition (e, node) {\r\n        let element_boundry = node.getBoundingClientRect();\r\n        let containment_boundry = document.querySelector(this.container).getBoundingClientRect()\r\n        let left = e.clientX, top = e.clientY;\r\n        if (top > containment_boundry.bottom) {\r\n            top = containment_boundry.bottom;\r\n        }\r\n        \r\n        if (left > containment_boundry.right) {\r\n            left = containment_boundry.right;\r\n        }\r\n\r\n        let x = left - element_boundry.left\r\n        let y = top - element_boundry.top;\r\n\r\n        if (this.setLimit) {\r\n            return this.setLimit(x,y)\r\n        }\r\n        return {x:x, y:y};\r\n    }\r\n\r\n}"],"names":["window","isResizable","Resizable","[object Object]","container","elements","this","targetResize","elmsResizable","document","querySelectorAll","started","init","forEach","call","el","querySelector","id","resizer","createElement","className","appendChild","AI","listen","current","parentNode","onStart","listenAll","event","position","getPosition","style","width","x","height","y","onStop","e","node","element_boundry","getBoundingClientRect","containment_boundry","left","clientX","top","clientY","bottom","right","setLimit"],"mappings":"AAGAA,OAAOC,cAAeD,OAAkB,aAAIA,OAAOC,YACpC,MAAMC,EACjBC,YAAaC,EAAWC,GACpBC,KAAKF,UAAYA,EACjBE,KAAKC,aAAe,KACpBD,KAAKE,cAAgBC,SAASC,iBAAiBL,GAC/CC,KAAKK,SAAU,EACfL,KAAKM,OAGTT,OAEI,GAAIU,QAAQC,KAAMR,KAAKE,eAAgBO,IACnC,GAAoC,MAAhCA,EAAGC,cAAc,aAAkC,WAATD,EAAGE,IAAoE,MAAjDR,SAASO,cAAc,uBAAiC,CACxH,IAAIE,EAAUT,SAASU,cAAc,OACrCD,EAAQE,UAAW,yBACnBL,EAAGM,YAAaH,OAInBlB,OAAOC,cACRD,OAAOC,aAAc,EACrBqB,GAAGC,OAAO,OAAQ,aAAcjB,KAAKF,WAAW,KAC5CE,KAAKC,aAAe,QAExBe,GAAGC,OAAO,OAAQ,YAAa,YAAaC,IACxClB,KAAKC,aAAeiB,EAAQC,WAC5BnB,KAAKK,SAAU,EACfL,KAAKoB,SAAWpB,KAAKoB,QAAQF,MAEjCF,GAAGK,UAAU,OAAQ,aAAcC,IAC/B,GAAyB,MAArBtB,KAAKC,eAAyBD,KAAKK,QAAU,OACjD,IAAIkB,EAAWvB,KAAKwB,YAAYF,EAAOtB,KAAKC,cAC5CD,KAAKC,aAAawB,MAAMC,MAAQH,EAASI,EAAG,KAC5C3B,KAAKC,aAAawB,MAAMG,OAASL,EAASM,EAAG,QAGjDb,GAAGK,UAAU,OAAQ,WAAYC,IACzBtB,KAAKK,UACLL,KAAKK,SAAU,EACfL,KAAK8B,QAAU9B,KAAK8B,OAAOR,EAAOtB,KAAKC,cACvCD,KAAKC,aAAe,UAQpCJ,YAAakC,EAAGC,GACZ,IAAIC,EAAkBD,EAAKE,wBACvBC,EAAsBhC,SAASO,cAAcV,KAAKF,WAAWoC,wBAC7DE,EAAOL,EAAEM,QAASC,EAAMP,EAAEQ,QAC1BD,EAAMH,EAAoBK,SAC1BF,EAAMH,EAAoBK,QAG1BJ,EAAOD,EAAoBM,QAC3BL,EAAOD,EAAoBM,OAG/B,IAAId,EAAIS,EAAOH,EAAgBG,KAC3BP,EAAIS,EAAML,EAAgBK,IAE9B,OAAItC,KAAK0C,SACE1C,KAAK0C,SAASf,EAAEE,GAEpB,CAACF,EAAEA,EAAGE,EAAEA"}