{"version":3,"file":"DragNDropPreview-9db9893e.js","sources":["../../../clsSMDragNDrop/libs/preview/dndString.js","../../../clsSMDragNDrop/libs/preview/TextboxPreview.svelte","../../../clsSMDragNDrop/libs/preview/DragPreview.svelte","../../../clsSMDragNDrop/libs/preview/DropPreview.svelte","../../../clsSMDragNDrop/libs/preview/SelectPreview.svelte","../../../clsSMDragNDrop/libs/preview/RadioPreview.svelte","../../../clsSMDragNDrop/libs/preview/MultilineboxPreview.svelte","../../../clsSMDragNDrop/libs/preview/CheckboxPreview.svelte","../../../clsSMDragNDrop/libs/preview/TabheadPreview.svelte","../../../clsSMDragNDrop/libs/preview/LabelPreview.svelte","../../../clsSMDragNDrop/libs/preview/HotspotPreview.svelte","../../../clsSMDragNDrop/libs/preview/MenulistPreview.svelte","../../../clsSMDragNDrop/libs/preview/ButtonPreview.svelte","../../../clsSMDragNDrop/libs/preview/TabPillsPreview.svelte","../../../clsSMDragNDrop/libs/preview/TabPreview.svelte","../../../clsSMDragNDrop/libs/preview/StepPreview.svelte","../../../clsSMDragNDrop/DragNDropPreview.svelte"],"sourcesContent":["/**\n *  File Name   : dndString.js\n *  Author      : Ayush Srivastava\n *  Function    : DND\n *  Version     : 1.0\n *  Packege     : Drag and Drop (prev)\n *  Last update : 19 Jan 2021\n *  Dependency  : Draggable, Sweetalert, Hotkeys-js\n */\nimport Draggable from '../plugins/Draggable';\nimport swal from 'sweetalert';\nimport hotkeys from 'hotkeys-js';\nlet jsSwal = swal;\n\n// declaring gloabl variable for use\nlet elemId = \"#dndmainPreview\";\nlet result = true;\nlet stepsPreview = null;\nlet dragstore = {};\nlet user_points = 0;\nconst DND = {}\nlet is_all_correct = true;\n\n// for storing to prevent dialog\nDND.prevent_dialog = false;\nwindow.DND = DND;\n// for storing the storage data\nDND.storage = {\n    store: function(obj, key, val) {\n        if (!obj) {\n            return this.state;\n        } else if (!key) {\n            if (!(obj in this.state)) {\n                return {};\n            }\n            return this.state[obj];\n        } else if (arguments.length < 3) {\n            if (!(obj in this.state)) {\n                return undefined;\n            }\n            return this.state[obj][key];\n        } else {\n            if (!(obj in this.state)) {\n                this.state[obj] = {};\n            }\n            this.state[obj][key] = val;\n        }\n    },\n    remove: function(obj) {\n        if (this.state[obj]) {\n            delete this.state[obj]\n        }\n    },\n    state: {}\n}\n\n// for setting the browser version\nDND.browser = {};\nDND.browser.msie = false;\nDND.browser.version = 0\nif (navigator.userAgent.match(/MSIE ([0-9]+)\\./)) {\n    DND.browser.msie = true;\n    DND.browser.version = RegExp.$1;\n}\n\n\n// function responsible for parsing the sql queries\nDND.sqlparser = function(sql, type) {\n    if (typeof(type) !== \"boolean\") {\n        type = false;\n    }\n    let ret = [];\n    if (type) {\n        ret['optional'] = [], ret['mustbeone'] = [];\n        let matches = sql.match(/{.*?}/g);\n        if (matches != null) {\n            for (let i = 0; i < matches.length; i++) {\n                sql = sql.replace(matches[i], \"\");\n                opt = matches[i].trim();\n                let opt = opt.substr(1, (opt.length - 2));\n                if (opt.indexOf('|') != -1) {\n                    opt = opt.split('|');\n                    ret['mustbeone'].push(opt);\n                } else {\n                    ret['optional'].push(opt);\n                }\n            }\n        }\n    }\n    ret['sql'] = sql.toLowerCase().replace(/([?~!@#$%^&*()_+\\-=\\[\\]{};':\",\\./\\<>%])/g, ' $1 ').replace(/[;]/g, ' ').trim().replace(/(,|`|\\n)/g, \" \").replace(/\\s{2,}/g, \" \").split(' ');\n    return ret;\n}\n\n// modifying string prototype\nString.prototype.sqlparser = function(type) {\n    return DND.sqlparser(this.toString(), type);\n}\n\n// function responsible for setting/changing the steps\nDND.setStep = function(tabname) {\n    tabname = tabname.match(/dnd/g) || (tabname == \"base\") ? tabname : \"dnd\" + tabname;\n    if (tabname && tabname.trim() != '') {\n        let dndid;\n        let tabname_element = document.querySelector('#' + tabname);\n        let tabname_closest = (tabname_element) ? tabname_element.closest('[id^=\"dndmainPreview\"]') : false;\n        if (tabname_closest) {\n            dndid = '#' + tabname_closest.getAttribute('id');\n        }\n        if (dndid) {\n            let element = document.querySelector(elemId);\n            if (element) {\n                let new_element = AI.find(element, \"[type='step']\", 'all');\n                for (let index = 0; index < new_element.length; index++) {\n                    AI.setCss(new_element[index], {\n                        display: \"none\",\n                    });\n                }\n            }\n            let dnd_element = AI.select(dndid);\n\n            if (tabname == \"base\") {\n                let dnd_find_element = AI.find(dnd_element, '#base')\n                AI.selectAll(dnd_find_element, 'checked', true)\n            } else {\n                AI.select(\"#step_\" + tabname, 'checked', true)\n                let element_list = AI.find(dnd_element, \"#\" + tabname);\n                AI.setCss(element_list.parentElement, {\n                    display: 'block',\n                });\n                AI.setCss(element_list, {\n                    display: 'block',\n                });\n            }\n        }\n    }\n}\n\n// making this global as it is used outside the code\nwindow.setStep = DND.setStep;\n\n// function for wrapping the element into other element\nDND.wrapInner = function(parent, wrapper, attribute, attributevalue) {\n    try {\n        if (typeof wrapper === \"string\") {\n            wrapper = document.createElement(wrapper);\n        }\n        parent.appendChild(wrapper).setAttribute(attribute, attributevalue);\n        while (parent.firstChild !== wrapper) {\n            wrapper.appendChild(parent.firstChild);\n        }\n    } catch (error) {\n        console.warn(error)\n    }\n}\n\n// function for activator in preview side\nDND.activate = function(type = 0) {\n    if (type != 0 && document.querySelectorAll('.spinner').length == 0) {\n        let spinner = document.createElement(\"div\");\n        spinner.className = \"spinner\";\n        let loading = document.createElement(\"div\");\n        loading.className = \"loading\";\n        spinner.appendChild(loading);\n        if (document.body != null) {\n            document.body.appendChild(spinner);\n        }\n    } else {\n        !!document.getElementsByClassName('spinner')[0] && document.getElementsByClassName('spinner')[0].remove()\n    }\n}\n\n// function responsible for binding all the events to the elments\nDND.readyThis = function(dndid) {\n    let dndid_element = AI.select(dndid);\n    let elements_list = AI.find(dndid, '[zoom=\"1\"]', 'all');\n    if (elements_list.length > 0) {\n        elements_list.forEach(function(value) {\n            DND.wrapInner(value, 'div', 'class', 'zoom_wrap');\n            DND.wrapInner(value, 'div', 'class', 'zoom_container');\n\n            let div = document.createElement(\"div\");\n            div.class = 'c_zoom';\n            let input = document.createElement(\"input\");\n            input.type = 'range';\n            input.id = 'c_zoom';\n            input.min = \"1\";\n            input.max = \"7\";\n            div.append(input);\n            value.appendChild(div);\n            value.insertBefore(div, value.firstChild);\n        });\n    }\n\n    // nee to check I think we have to use listen all\n    AI.listen('body', 'change', '.c_zoom', function(element) {\n        let zoom_element = AI.find(element.parentElement.parentElement, '.zoom_wrap');\n        if (zoom_element) {\n            switch (element.value) {\n                case \"1\": {\n                    zoom_element.setAttribute(\"class\", \"zoom_wrap zoom2\");\n                    break;\n                }\n                case \"2\": {\n                    zoom_element.setAttribute(\"class\", \"zoom_wrap zoom2\");\n                    break;\n                }\n                case \"3\": {\n                    zoom_element.setAttribute(\"class\", \"zoom_wrap zoom3\");\n                    break;\n                }\n                case \"4\": {\n                    zoom_element.setAttribute(\"class\", \"zoom_wrap zoom4\");\n                    break;\n                }\n                case \"5\": {\n                    zoom_element.setAttribute(\"class\", \"zoom_wrap zoom5\");\n                    break;\n                }\n                case \"6\": {\n                    zoom_element.setAttribute(\"class\", \"zoom_wrap zoom6\");\n                    break;\n                }\n                case \"7\": {\n                    zoom_element.setAttribute(\"class\", \"zoom_wrap zoom7\");\n                    break;\n                }\n            }\n        }\n    });\n\n    AI.listen('body', 'click', '.hotspot_test', function(element, event) {\n        if (element.classList.contains('lab_disable')) {\n            return;\n        }\n        let targetimg_element = AI.find(dndid_element, '.targetImg');\n        if (!event.target.classList.contains('tmpTarget') && AI.find(element, '.hs_item', 'all').length > AI.find(element, '.tmpTarget', 'all').length) {\n            let top = Math.round(event.pageY - DND.offset(element).top - ((targetimg_element) ? (targetimg_element.offsetHeight ? targetimg_element.offsetHeight : 32) : 0) / 2) - window.pageYOffset;\n            let left = Math.round(event.pageX - DND.offset(element).left - ((targetimg_element) ? (targetimg_element.offsetHeight ? targetimg_element.offsetHeight : 32) : 0) / 2) - window.pageXOffset;\n            if (event.target.getAttribute('id') != \"c_zoom\") {\n                if (event.target.classList.contains('hs_item')) {\n                    event.target.setAttribute(\"data-correctans\", \"1\");\n                }\n\n                let clone_element = AI.clone(targetimg_element);\n                clone_element.classList.remove('targetImg');\n                clone_element.classList.add('tmpTarget');\n                clone_element.id = element.id + \"_\" + (AI.find(element, '.tmpTarget', 'all').length + 1)\n                AI.setCss(clone_element, {\n                    position: 'absolute',\n                    top: top + 'px',\n                    left: left + 'px',\n                    display: 'block',\n                });\n                DND.storage.store(clone_element.id, 'tgElem', event.target.id);\n                AI.insertAfter(clone_element, AI.find(element, '.hs_item', 'all')[AI.find(element, '.hs_item', 'all').length - 1]);\n            }\n        } else if (event.target.classList.contains('tmpTarget')) {\n            let last_id = event.target.id.split('_')[1];\n            let tgElem = DND.storage.store(event.target.id, 'tgElem');\n            event.target.remove();\n\n            if (last_id) {\n                for (let index = (last_id - 1); index < AI.find(element, '.tmpTarget', 'all').length; index++) {\n                    let current_id = element.id + \"_\" + (index + 1);\n                    let next_elem_id = element.id + \"_\" + (index + 2);\n                    let next_elem_store = DND.storage.store(next_elem_id, 'tgElem');\n                    DND.storage.store(current_id, 'tgElem', next_elem_store)\n                    DND.storage.remove(next_elem_id);\n                    AI.select('#' + next_elem_id).id = current_id;\n                }\n            }\n\n            if (typeof(tgElem) !== \"undefined\") {\n                let rmTg = true;\n                let tmp_target = AI.find(dndid_element, '.tmpTarget', 'all');\n\n                for (let index = 0; index < tmp_target.length; index++) {\n                    if (DND.storage.store(tmp_target[index].id, 'tgElem') == tgElem) {\n                        rmTg = false;\n                        break;\n                    }\n                }\n                if (rmTg) {\n                    AI.select('#dndmainPreview #' + tgElem).setAttribute(\"data-correctans\", \"0\");\n                }\n            }\n        }\n\n        let hustr = \"\";\n        let hId = 1;\n\n        let tmp_target = AI.find(dndid_element, '.tmpTarget', 'all');\n\n        for (let index = 0; index < tmp_target.length; index++) {\n            hustr += '\"' + hId + '\":[' + tmp_target[index].offsetTop + ',' + tmp_target[index].offsetLeft + ',' + tmp_target[index].offsetWidth + ',' + tmp_target[index].offsetHeight + '],';\n            hId++;\n        }\n        element.setAttribute(\"data-userans\", \"{\" + hustr.substr(0, hustr.length - 1) + \"}\");\n        DND.checkAns(dndid);\n    });\n\n    let drop_image = AI.find(dndid_element, '[data-dragimage]', 'all');\n\n    for (let index = 0; index < drop_image.length; index++) {\n        if (drop_image[index].getAttribute('data-dragimage') != 'undefined' && drop_image[index].getAttribute('data-dragimage') != '') {\n            let bgimage = drop_image[index].getAttribute(\"data-path\") + drop_image[index].getAttribute(\"data-dragimage\");\n            AI.insert('body', '<img src=\"' + bgimage + '\" style=\"display:none\"/>', 'beforeend')\n        }\n    }\n\n    let droppable = AI.selectAll('.dropable');\n    for (let index = 0; index < droppable.length; index++) {\n        let target = droppable[index].id;\n        let source = droppable[index].dataset.droped;\n        if (target && source) {\n            dragstore[target] = [AI.select('#' + source), AI.select('#' + target)];\n        }\n    }\n\n    let draggable = new Draggable('#dndmainPreview', '[draging]', '[droping]', dragstore);\n    let distance = 80, step = 5;\n    draggable.onDrag = function(event) {\n        if (event.clientY <= distance) {\n            window.scrollTo(0, window.scrollY - step);\n        } else if (event.clientY >= (window.innerHeight + 20)) {\n            window.scrollTo(0, window.scrollY + step);\n        }\n        if (AI.selectAll('#external_lab').length == 1) {\n            AI.select('#external_lab').scrollTo(event.clientX, event.clientY);\n        }\n        if (AI.selectAll('#user_answer').length == 1) {\n            AI.select('#user_answer').scrollTo(event.clientX, event.clientY);\n        }\n    }\n\n    draggable.onDragStart = function(event, element) {\n        let target = element;\n        let img, bgimage;\n        if (element.classList.contains('dropable') && target.getAttribute('data-droped') && target.getAttribute('data-droped').trim() != '') {\n            target = AI.find(dndid, '#' + target.getAttribute('data-droped'));\n        }\n\n        if (typeof(target.getAttribute('data-dragimage')) != 'undefined' && target.getAttribute('data-dragimage') != '') {\n            bgimage = \"url(\" + target.getAttribute(\"data-path\") + target.getAttribute(\"data-dragimage\") + \")\";\n        } else {\n            bgimage = target.style.backgroundImage;\n        }\n        if (bgimage == \"none\" || bgimage == \"\") {\n            img = {\n                \"width\": target.offsetWidth,\n                \"height\": target.offsetHeight,\n            };\n        } else {\n            img = new Image();\n            img.src = bgimage.substr(4, (bgimage.length - 5));\n        }\n\n        let copied_node = element.cloneNode(true);\n        copied_node.removeAttribute('droping');\n        copied_node.style.position = 'absolute';\n        copied_node.style.zIndex = 0;\n        copied_node.backgroundImage = bgimage;\n        copied_node.style.width = img.width + \"px\";\n        copied_node.style.height = img.height + \"px\";\n        return copied_node;\n    };\n\n    draggable.onDrop = function(source, target) {\n        let copied = source.cloneNode(true);\n        target.style.backgroundColor = copied.getAttribute('data-bgcolor');\n        target.setAttribute('draging', 2);\n        target.setAttribute('droping', 2);\n\n        // for disabling the dragable\n        if (source.getAttribute(\"data-multi_drag\") == \"0\") {\n            source.classList.add('uc_drag_disable');\n            source.style.setProperty(\"cursor\", \"no-drop\", \"important\");\n            source.style.setProperty(\"opacity\", \"0.5\", \"important\");\n        }\n\n        target.classList.remove('drop-hover');\n        target.style.opacity = '1';\n\n        let drop_id = source.getAttribute('data-droped') ? source.getAttribute('data-droped') : source.getAttribute('id');\n        let bgimage = '';\n        if (source.getAttribute('data-dropimage') && source.getAttribute('data-dropimage') != '') {\n            bgimage = \"url(\" + source.getAttribute('data-path') + source.getAttribute('data-dropimage') + \")\";\n        } else {\n            bgimage = source.style.backgroundImage;\n        }\n\n        if (DND.browser.msie && drop_id && AI.find(AI.select(dndid), '#' + drop_id).innerText.trim() == \"\") {\n            source.style.backgroundColor = \"transparent\";\n        }\n\n        target.setAttribute('data-userans', drop_id);\n        target.setAttribute('data-droped', drop_id);\n        target.setAttribute('data-path', source.getAttribute('data-path'));\n        target.setAttribute('data-dropimage', source.getAttribute('data-dropimage'));\n        target.setAttribute('data-dragimage', source.getAttribute('data-dragimage'));\n\n        AI.setCss(target, {\n            backgroundColor: source.style.backgroundColor,\n            backgroundImage: bgimage\n        });\n        AI.find(target, 'p').innerText = AI.find(copied, 'p').innerText.trim();\n\n        setTimeout(function() {\n            DND.checkAns(dndid);\n        }, 500);\n\n    };\n\n    draggable.isRevert = function() {\n        if (DND.prevent_dialog) {\n            return false;\n        }\n        AI.showmsg('While dropping a component, keep your mouse pointer on the drop area. Drop area must be compatible with the component you are dropping.', 3000);\n        let img = document.createElement('img');\n        img.src = '//s3.amazonaws.com/jigyaasa_content_static/how-to-drop-final_000BeI.gif';\n        img.alt = 'How to Drop?';\n        let div = document.createElement('div');\n        let content = document.createElement('div');\n        let input = document.createElement('input');\n        input.type = 'checkbox'\n        input.id = 'prevent_dialog'\n        input.classList.add('mr-1');\n        input.onchange = function() {\n            DND.prevent_dialog = this.checked;\n            if (this.checked) {\n                jsSwal.close();\n            }\n\n        }\n        let label = document.createElement('label');\n        label.setAttribute('for', 'prevent_dialog')\n        label.innerText = \"Don't show me message again!\"\n\n        content.append(img)\n        div.append(input)\n        div.append(label);\n        content.append(div)\n        jsSwal({\n            text: \"How to Drop?\",\n            content: content,\n            timer: 10000,\n            buttons: false,\n        });\n\n    }\n\n    draggable.onRemove = function(source, target) {\n        source.removeAttribute('draging');\n        source.setAttribute('droping', 1);\n\n        // for disabling the dragable\n        if (target) {\n            target.classList.remove('uc_drag_disable');\n            target.style.cursor = '';\n            target.style.opacity = '';\n        }\n\n        source.classList.remove('drop-hover');\n        source.style.opacity = '1';\n\n        source.setAttribute('data-userans', '');\n        source.setAttribute('data-droped', '');\n        source.style.backgroundColor = source.getAttribute('data-bgcolor');\n        source.style.backgroundImage = source.getAttribute('data-bgimage');\n        AI.find(source, 'p').innerText = source.getAttribute('data-caption');\n        setTimeout(function() {\n            DND.checkAns(dndid);\n        }, 500);\n    };\n\n    draggable.onOver = function(element) {\n        try {\n            let hoverImg = \"\";\n            if (element.getAttribute(\"hoverimage\")) {\n                hoverImg = element.getAttribute(\"data-path\") + element.getAttribute(\"hoverimage\");\n            }\n            if (element.style.backgroundImage.match(/undefined/) || element.style.backgroundImage.match(/none/)) {\n                element.style.backgroundImage = \"url(\" + hoverImg + \")\";\n            }\n        } catch (e) {\n            console.warn(e);\n        }\n    };\n\n    draggable.onOut = function(element) {\n        try {\n            let hoverImg = \"none\";\n            if (element.getAttribute(\"hoverimage\")) {\n                hoverImg = element.getAttribute(\"hoverimage\");\n            }\n            if (element.style.backgroundImage.search(hoverImg) != -1) {\n                element.style.backgroundImage = \"\";\n            }\n        } catch (e) {\n            console.warn(e);\n        }\n    };\n\n    AI.listen('body', 'dblclick', dndid + ' [detail]', function(element, event) {\n        try {\n            if (element.closest(dndid)) {\n                if (element.getAttribute('data-detail').length == 5) {\n                    DND.activate(1);\n                    AI.ajax({\n                        url: baseUrl + 'index.php',\n                        data: {\n                            \"lab_detail\": element.getAttribute('data-detail'),\n                            \"ajax\": \"1\"\n                        },\n                        longUrl: true\n                    }).then(function(response) {\n                        DND.activate(0);\n                        if (AI.selectAll('.detail-modal').length < 1) {\n                            AI.insert('#main-page', '<div id=\"modal-from-detail\" class=\"detail-modal modal fade\" tabindex=\"-1\"><div class=\"modal-dialog modal-dialog-centered\"><div class=\"modal-content no-padding\"><span class=\"close-icon\" data-dismiss=\"modal\" aria-hidden=\"true\"></span><div class=\"detail_data\">' + response + '</div></div></div></div>', 'beforeend');\n                        } else {\n                            AI.select('.detail-modal .detail_data').innerHTML = response;\n                        }\n                        AI.getBS('#modal-from-detail', 'Modal').show();\n                    });\n                } else if (element.getAttribute('data-detail') != '') {\n                    if (AI.select('.detail').length < 1) {\n                        AI.insert('body', '<div class=\"detail\"><span class=\"close_detail\">&times;</span><div class=\"detail_data\">' + element.getAttribute('data-detail') + '</div></div>', 'beforeend');\n                        AI.setCss(AI.select('.detail'), {\n                            \"top\": event.pageY + \"px\",\n                            \"left\": event.pageX + \"px\",\n                            'display': 'block',\n                        })\n                    } else {\n                        AI.select('.detail .detail_data').innerText = element.getAttribute('data-detail');\n                        AI.setCss(AI.select('.detail .detail_data'), {\n                            \"top\": event.pageY + \"px\",\n                            \"left\": event.pageX + \"px\",\n                            'display': 'block',\n                        })\n                    }\n                }\n            }\n        } catch (error) {\n            console.warn(error);\n        }\n    });\n\n    AI.listen('body', 'click', '.close_detail', function() {\n        AI.select('.detail').nodeName && AI.select('.detail').remove();\n    });\n\n    let index = 1;\n\n    AI.listen('body', 'click', dndid + ' [image]', function(element) {\n        try {\n            let toggleImg = element.getAttribute('image').split(',');\n            element.style.backgroundImage = \"url(\" + element.getAttribute('data-path') + toggleImg[index] + \")\";\n            index++;\n            if (toggleImg.length == index) index = 0;\n        } catch (error) {\n            console.warn(error)\n        }\n    });\n}\n\n// for changing the draggable state\nDND.draggable = function(element, enable) {\n    if (enable) {\n        element.classList.remove('uc_drag_disable');\n        element.style.cursor = '';\n        element.style.opacity = 1;\n    } else {\n        element.classList.add('uc_drag_disable');\n        element.style.setProperty(\"cursor\", \"no-drop\", \"important\");\n        element.style.setProperty(\"opacity\", \"0.7\", \"important\");\n    }\n}\n\n// function for moving the focus to the next or previous elements\nDND.tabMove = function(element, type = 1) {\n    if (element.id) {\n        let ks_element = AI.selectAll('.ks');\n        let focus_index = -1;\n        for (let index = 0; index < ks_element.length; index++) {\n            if (element.id == ks_element[index].id) {\n                if (type) {\n                    if (index == (ks_element.length - 1)) {\n                        focus_index = 0;\n                    } else {\n                        focus_index = index + 1;\n                    }\n                } else {\n                    if (index == 0) {\n                        focus_index = ks_element.length - 1;\n                    } else {\n                        focus_index = index - 1;\n                    }\n                }\n                break;\n            }\n        }\n\n        if (focus_index != -1) {\n            ks_element[focus_index].focus();\n        }\n    }\n}\n\n// fucntion for checking the containment of hotspot area, it runs in case of keyboard\nDND.checkContainment = function(element, extra_top = 0, extra_left = 0) {\n    let top = parseInt(element.style.top.replace(\"px\", \"\")) + extra_top;\n    let left = parseInt(element.style.left.replace(\"px\", \"\")) + extra_left;\n    let width = parseInt(element.parentElement.style.width.replace(\"px\", \"\"));\n    let height = parseInt(element.parentElement.style.height.replace(\"px\", \"\"));\n\n    if (left > (width - element.offsetWidth)) {\n        left = width - element.offsetWidth;\n    } else if (left < 0) {\n        left = 0;\n    }\n\n    if (top > (height - element.offsetHeight)) {\n        top = height - element.offsetHeight;\n    } else if (top < 0) {\n        top = 0;\n    }\n    return {\n        top: top,\n        left: left\n    };\n}\n\n// function reponisble for binding the key up events (keyboard related events)\nDND.bindKeyUp = function(dndid) {\n    let dndid_elements = AI.find(dndid, \"[id^=dndID]\", 'all');\n    for (let index = 0; index < dndid_elements.length; index++) {\n        if (dndid_elements[index].getAttribute('type') != 'tab' && !(dndid_elements[index].classList.contains(\"dndlabel\"))) {\n            dndid_elements[index].classList.add('ks');\n        }\n    }\n\n    let count = 0;\n    let copied_id = \"\";\n    let ee = {\n        clientX: 16,\n        clientY: 16\n    };\n\n    AI.find(dndid, \".selmatch\", {\n        action: 'removeClass',\n        actionData: 'selmatch'\n    });\n\n    let elements = AI.selectAll('.ks');\n\n\n    function sortBy(prop, prop2) {\n        return function(a, b) {\n            let filter_a = parseInt(a.style[prop]);\n            let filter_b = parseInt(b.style[prop]);\n            if (filter_a == filter_b) {\n                let filter_c = parseInt(a.style[prop2]);\n                let filter_d = parseInt(b.style[prop2]);\n                return filter_c < filter_d ? -1 : (filter_c > filter_d ? 1 : 0);\n            }\n            return filter_a < filter_b ? -1 : (filter_a > filter_b ? 1 : 0);\n        }\n    }\n\n    function sortDom(filter, second_filter) {\n        //Transform our nodeList into array and apply sort function\n        return [].map.call(elements, function(elm) {\n            return elm;\n        }).sort(sortBy(filter, second_filter))\n    }\n    \n    //Sort by top style property\n    let byTop = sortDom('top', \"left\");\n\n    for (let index = 0; index < byTop.length; index++) {\n        let id = byTop[index].getAttribute('id');\n        let parent = byTop[index].parentElement;\n        if (id) {\n            AI.find(dndid, \"#\" + id, {\n                action: 'remove'\n            });\n        }\n        if (parent) {\n            parent.append(byTop[index]);\n        }\n    }\n\n    // function for focusing first element\n    function focusFirst() {\n        let ks_element = AI.selectAll('.ks');\n        if (ks_element.length > 0) {\n            let elem = AI.select('.ks');\n            let first_child = elem.children[0];\n            if (first_child && (first_child.classList.contains(\"dnd_textbox\") || first_child.classList.contains(\"dndcheckbox\") || first_child.classList.contains(\"dnd_select\"))) {\n                first_child.focus();\n            } else if (AI.find(elem, \".customRad\", 'all').length != 0) {\n                AI.find(elem, \".customRad\").focus();\n            } else {\n                elem.focus();\n            }\n        }\n    }\n\n    // function for focusing last element\n    function focusLast() {\n        let ks_element = AI.selectAll('.ks');\n        if (ks_element.length > 0) {\n            let elem = AI.selectAll('.ks')[AI.selectAll('.ks').length - 1];\n            let last_child = elem.children[0];\n            if (last_child && (last_child.classList.contains(\"dnd_textbox\") || last_child.classList.contains(\"dndcheckbox\") || last_child.classList.contains(\"dnd_select\"))) {\n                last_child.focus();\n            } else if (AI.find(elem, \".customRad\", 'all').length != 0) {\n                AI.find(elem, \".customRad\").focus();\n            } else {\n                elem.focus();\n            }\n        }\n    }\n\n    // function for checking the focus\n    function checkFocus(list, img = 0) {\n        let is_focus = false;\n        let elements = AI.find(dndid, \".\" + list, 'all');\n        let focus_el = (img) ? AI.select('.tmpTarget:focus') : AI.select('.ks:focus');\n        if (focus_el.nodeName) {\n            let focus_id = focus_el.getAttribute('id');\n            for (let index = 0; index < elements.length; index++) {\n                if (focus_id == elements[index].getAttribute('id')) {\n                    is_focus = true;\n                    break;\n                }\n            }\n        }\n        return is_focus;\n    }\n\n    // function for removing the draggable using keyboard\n    function removeDraggable(event) {\n        let removethis = event.target;\n        let dropedNode = removethis.getAttribute('data-droped');\n        if (removethis.classList.contains('dropable') && dropedNode != \"\") {\n            AI.setCss(removethis, {\n                backgroundColor: removethis.getAttribute('data-bgcolor'),\n                backgroundImage: removethis.getAttribute('data-bgimage'),\n            });\n\n            removethis.setAttribute('data-droped', \"\");\n            removethis.setAttribute('data-userans', \"\");\n            removethis.setAttribute('droping', \"1\");\n            removethis.removeAttribute('draging');\n\n            if (AI.select('#' + dropedNode).getAttribute('data-multi_drag') == '0') {\n                DND.draggable(AI.select('#' + dropedNode), 1);\n            }\n\n            if (dragstore && dragstore[removethis.id]) {\n                delete dragstore[removethis.id];\n            }\n\n            AI.find(removethis, 'p').innerText = removethis.getAttribute('data-caption');\n        }\n        let check_ans_timer = setTimeout(function() {\n            DND.checkAns(dndid);\n            clearTimeout(check_ans_timer);\n        }, 100);\n    }\n\n    // function for navigating down\n    function navigateDown() {\n        AI.find(dndid, \".selmatch\", {\n            action: 'removeClass',\n            actionData: 'selmatch'\n        });\n        let ks_element = AI.selectAll(\".ks\");\n        let ks_length = ks_element.length;\n\n        let ks_fill = ks_element[count];\n\n        if (ks_fill) {\n            if (ks_fill.children[0] && (ks_fill.children[0].classList.contains(\"dnd_textbox\") || ks_fill.children[0].classList.contains(\"dndcheckbox\") || ks_fill.children[0].classList.contains(\"dnd_select\"))) {\n                ks_fill.children[0].focus();\n            } else if (AI.find(ks_fill, '.customRad', 'all').length != 0) {\n                AI.find(ks_fill, '.customRad').focus();\n            } else {\n                ks_fill.focus();\n            }\n        }\n\n\n        if (count == (ks_length - 1)) {\n            count = 0\n        } else {\n            count++;\n        }\n    }\n\n\n    // function for enabling the hotspot using keyboard\n    function hotSpotKeyboard() {\n        let ks = AI.selectAll('.ks');\n        for (let index = 0; index < ks.length; index++) {\n            if (ks[index].classList.contains('hotspot_test')) {\n                let hotspot_this = ks[index];\n                let child = hotspot_this.children;\n                for (let sub_index = 0; sub_index < child.length; sub_index++) {\n                    if (child[sub_index].classList.contains(\"drag-resize\") && (AI.find(hotspot_this, '.hs_item', 'all').length > AI.find(hotspot_this, '.tmpTarget', 'all').length)) {\n                        let top = Math.round(ee.clientY - (AI.find(dndid, '.targetImg').offsetHeight / 2));\n                        let left = Math.round(ee.clientX - (AI.find(dndid, '.targetImg').offsetWidth / 2));\n                        if (hotspot_this.getAttribute('id') != 'c_zoom') {\n                            if (AI.find(dndid, '.targetImg')) {\n                                let clonenode = AI.find(dndid, '.targetImg').cloneNode(true);\n                                clonenode.classList.remove('targetImg');\n                                clonenode.classList.add('tmpTarget');\n                                clonenode.id = hotspot_this.id + \"_\" + (AI.find(hotspot_this, '.tmpTarget', 'all').length + 1)\n\n                                AI.setCss(clonenode, {\n                                    position: 'absolute',\n                                    top: top + \"px\",\n                                    left: left + \"px\",\n                                    display: 'block'\n                                });\n\n                                // need to check here\n                                DND.storage.store(clonenode.id, 'tgElem', hotspot_this.id)\n                                AI.insertAfter(clonenode, AI.find(hotspot_this, '.hs_item', 'all')[AI.find(hotspot_this, '.hs_item', 'all').length - 1]);\n                            }\n                        }\n                        let tmp_target = AI.find(dndid, '.tmpTarget', 'all');\n\n                        let hustr = \"\";\n                        let hId = 1;\n                        for (let tmp_index = 0; tmp_index < tmp_target.length; tmp_index++) {\n                            hustr += '\"' + hId + '\":[' + tmp_target[tmp_index].offsetTop + ',' + tmp_target[tmp_index].offsetLeft + ',' + tmp_target[tmp_index].offsetWidth + ',' + tmp_target[tmp_index].offsetHeight + '],';\n                            hId++;\n                        }\n                        hotspot_this.setAttribute(\"data-userans\", \"{\" + hustr.substr(0, hustr.length - 1) + \"}\");\n                        DND.checkAns(dndid);\n                        ee.clientX += 35;\n                    }\n                }\n                DND.setHotspotans(hotspot_this);\n            }\n        }\n    }\n\n    // function for moving the hotspot image\n    function moveTargetImg(top, left) {\n        let hotspot_test = AI.select(\".hotspot_test\");\n\n        if (hotspot_test.getAttribute('id') != \"c_zoom\") {\n            AI.setCss(AI.find(dndid, '.tmpTarget:focus'), {\n                position: \"absolute\",\n                top: top + \"px\",\n                left: left + \"px\"\n            })\n        }\n\n        let tmp_target = AI.find(dndid, '.tmpTarget', 'all');\n        let hustr = \"\";\n        let hId = 1;\n        for (let tmp_index = 0; tmp_index < tmp_target.length; tmp_index++) {\n            hustr += '\"' + hId + '\":[' + tmp_target[tmp_index].offsetTop + ',' + tmp_target[tmp_index].offsetLeft + ',' + tmp_target[tmp_index].offsetWidth + ',' + tmp_target[tmp_index].offsetHeight + '],';\n            hId++;\n        }\n        hotspot_test.setAttribute(\"data-userans\", \"{\" + hustr.substr(0, hustr.length - 1) + \"}\");\n        DND.setHotspotans(hotspot_test);\n        DND.checkAns(dndid);\n    }\n\n    // function for activating keyboard activity\n    function activateKs() {\n        hotSpotKeyboard();\n        count = 0;\n        navigateDown();\n    }\n\n    // function responsible for copy Draggable using keyboard\n    function copyDraggable() {\n        let copy_drag = AI.select(\".ks:focus\");\n        if (copy_drag) {\n            if (copy_drag.classList.contains('ui-draggable') && !copy_drag.classList.contains('uc_drag_disable')) {\n                AI.find(dndid, '.dragable', {\n                    action: 'removeClass',\n                    actionData: 'copiedclr'\n                })\n                copied_id = copy_drag.id;\n                copy_drag.classList.add('copiedclr');\n            } else {\n                AI.showmsg('You cannot drag this');\n            }\n        }\n    }\n\n    // function responsible for pasteDraggable using keyboard\n    function pasteDraggable() {\n        let dropthis = AI.select(\".ks:focus\");\n        if (dropthis && copied_id != \"\" && dropthis.classList.contains('ui-droppable')) {\n            let ui_drag = AI.find(dndid, \"#\" + copied_id);\n            ui_drag.classList.remove('copiedclr');\n            let bgimage = '';\n            let drop_id = ui_drag.getAttribute('data-droped') ? ui_drag.getAttribute('data-droped') : ui_drag.getAttribute('id');\n            if (ui_drag.getAttribute('data-dropimage') && ui_drag.getAttribute('data-dropimage') != '') {\n                bgimage = \"url(\" + ui_drag.getAttribute('data-path') + ui_drag.getAttribute('data-dropimage') + \")\";\n            } else {\n                bgimage = ui_drag.style.backgroundImage;\n            }\n\n            if (dropthis.getAttribute('data-droped') && dropthis.getAttribute('data-droped').trim() != '') {\n                DND.draggable(AI.find(dndid, '#' + dropthis.getAttribute(\"data-droped\")), 1);\n            }\n\n            if (DND.browser.msie && AI.find(dndid, '#' + drop_id) && AI.find(dndid, '#' + drop_id).innerText.trim() == '') {\n                ui_drag.style.backgroundColor = 'transparent';\n            }\n\n            AI.setAttr(dropthis, {\n                'userans': drop_id,\n                'data-droped': drop_id,\n                'data-userans': drop_id,\n                'data-path': ui_drag.getAttribute('path'),\n                'data-dropimage': ui_drag.getAttribute('dropimage'),\n                'data-dragimage': ui_drag.getAttribute('dragimage'),\n                'draging': '2',\n                'droping': '2'\n            });\n\n            dragstore[dropthis.id] = [ui_drag, dropthis];\n\n            AI.find(dropthis, 'p').innerText = ui_drag.innerText.trim();\n\n            AI.setCss(dropthis, {\n                backgroundColor: ui_drag.style.backgroundColor,\n                backgroundImage: bgimage\n            });\n\n            if (AI.find(dndid, \"#\" + drop_id).getAttribute('data-multi_drag') == \"0\") {\n                if (!(ui_drag.classList.contains('dropable'))) {\n                    DND.draggable(ui_drag, 0);\n                } else {\n                    DND.draggable(AI.find(dndid, '#' + drop_id), 0);\n                }\n            }\n            DND.checkAns(dndid);\n            copied_id = \"\";\n        }\n    }\n\n    // function for the key events\n    if (typeof(hotkeys) == 'function') {\n        hotkeys.unbind('alt+down,down,up,left,right,enter,delete', 'dragndrop');\n        hotkeys(\"alt+down,down,up,left,right,enter,delete\", 'dragndrop', function(event, handler) {\n            switch (handler.key) {\n                case 'alt+down':\n                    activateKs();\n                    break;\n                case 'down':\n                    if (AI.select(\"#sm_controller\").offsetHeight == 0) {\n                        if (checkFocus(\"tmpTarget\", 1)) {\n                            event.preventDefault();\n                            let position = DND.checkContainment(AI.select(\".tmpTarget:focus\"), 4, 0)\n                            moveTargetImg(position.top, position.left);\n                        } else if (checkFocus('dragable') || checkFocus('dropable')) {\n                            let focus_element = AI.select('.ks:focus');\n                            let ks_last_element = AI.selectAll('.ks')[AI.selectAll('.ks').length - 1];\n\n                            if (focus_element && ((focus_element.id == ks_last_element.id) || (ks_last_element.children[0] && (ks_last_element.children[0].id == focus_element.id)) || (AI.find(ks_last_element, '.customRad') && (AI.find(ks_last_element, '.customRad').id == focus_element.id)))) {\n                                focusFirst();\n                            } else {\n                                DND.tabMove(focus_element, 1);\n                            }\n                            event.preventDefault();\n                        }\n                    }\n                    break;\n                case 'up':\n                    if (AI.select(\"#sm_controller\").offsetHeight == 0) {\n                        if (checkFocus(\"tmpTarget\", 1)) {\n                            event.preventDefault();\n                            let position = DND.checkContainment(AI.select(\".tmpTarget:focus\"), -4, 0)\n                            moveTargetImg(position.top, position.left);\n                        } else if (checkFocus('dragable') || checkFocus('dropable')) {\n                            let focus_element = AI.select('.ks:focus');\n                            let ks_element = AI.selectAll('.ks')[0];\n\n                            if (focus_element && ((focus_element.id == ks_element.id) || (ks_element.children[0] && (ks_element.children[0].id == focus_element.id)) || (AI.find(ks_element, '.customRad') && (AI.find(ks_element, '.customRad').id == focus_element.id)))) {\n                                focusLast();\n                            } else {\n                                DND.tabMove(focus_element, 0);\n                            }\n                            event.preventDefault();\n                        }\n                    }\n                    break;\n                case 'left':\n                    if (AI.select(\"#sm_controller\").offsetHeight == 0) {\n                        if (checkFocus(\"tmpTarget\", 1)) {\n                            event.preventDefault();\n                            let position = DND.checkContainment(AI.select(\".tmpTarget:focus\"), 0, -4)\n                            moveTargetImg(position.top, position.left);\n                        } else if (checkFocus('dragable') || checkFocus('dropable')) {\n                            let focus_element = AI.select('.ks:focus');\n                            let ks_element = AI.selectAll('.ks')[0];\n\n                            if (focus_element && ((focus_element.id == ks_element.id) || (ks_element.children[0] && (ks_element.children[0].id == focus_element.id)) || (AI.find(ks_element, '.customRad') && (AI.find(ks_element, '.customRad').id == focus_element.id)))) {\n                                focusLast();\n                            } else {\n                                DND.tabMove(focus_element, 0);\n                            }\n                        }\n                    }\n                    break;\n                case 'right':\n                    if (AI.select(\"#sm_controller\").offsetHeight == 0) {\n                        if (checkFocus(\"tmpTarget\", 1)) {\n                            event.preventDefault();\n                            let position = DND.checkContainment(AI.select(\".tmpTarget:focus\"), 0, 4)\n                            moveTargetImg(position.top, position.left);\n                        } else if (checkFocus('dragable') || checkFocus('dropable')) {\n                            let focus_element = AI.select('.ks:focus');\n                            let ks_last_element = AI.selectAll('.ks')[AI.selectAll('.ks').length - 1];\n\n                            if (focus_element && ((focus_element.id == ks_last_element.id) || (ks_last_element.children[0] && (ks_last_element.children[0].id == focus_element.id)) || (AI.find(ks_last_element, '.customRad') && (AI.find(ks_last_element, '.customRad').id == focus_element.id)))) {\n                                focusFirst();\n                            } else {\n                                DND.tabMove(focus_element, 1);\n                            }\n                        }\n                    }\n                    break;\n                case 'enter':\n                    if (AI.select(\"#sm_controller\").offsetHeight == 0) {\n                        if (checkFocus(\"dragable\")) {\n                            copyDraggable();\n                        } else if (checkFocus(\"dropable\")) {\n                            pasteDraggable();\n                        }\n                    }\n                    break;\n                case 'delete':\n                    if (AI.select(\"#sm_controller\").offsetHeight == 0) {\n                        if (checkFocus(\"dropable\")) {\n                            removeDraggable(event);\n                        }\n                    }\n                    break;\n            }\n        });\n        hotkeys.setScope('dragndrop');\n        hotkeys.filter = function() {\n            return true;\n        }\n    }\n\n    /* events for keyboard binding */\n    AI.listen('body', 'keyup', '.ks', function(current, event) {\n        if (event.keyCode == 13 && !current.classList.contains('lab_disable')) {\n            current.focus();\n            if (current.classList.contains('dragable')) {\n                copyDraggable();\n            } else if (current.classList.contains('dropable')) {\n                pasteDraggable();\n            }\n        }\n    });\n\n    AI.listen('body', 'keydown', '#dndmainPreview', function(current, event) {\n        let last_element = AI.selectAll('.ks')[AI.selectAll('.ks').length - 1];\n        let first_element = AI.select('.ks');\n        if (AI.select('.ks:focus').nodeName) {\n            if (((AI.select('.ks:focus').getAttribute('id') == last_element.getAttribute('id')) || (last_element.children[0] && AI.find(last_element.children[0], '.customRad') && (AI.select('.ks:focus').getAttribute('id') == AI.find(last_element.children[0], '.customRad').getAttribute('id')))) && (event.which || event.keyCode) == 9 && (event.shiftKey == false)) {\n                event.preventDefault();\n                focusFirst();\n            }\n\n            if (((AI.select('.ks:focus').getAttribute('id') == first_element.getAttribute('id')) || (first_element.children[0] && AI.find(first_element.children[0], '.customRad') && (AI.select('.ks:focus').getAttribute('id') == AI.find(first_element.children[0], '.customRad')))) && event.shiftKey == true && (event.which || event.keyCode) == 9) {\n                event.preventDefault();\n                focusLast();\n            }\n        }\n\n        if (event.which == 27) {\n            AI.find(dndid, '.copiedclr', {\n                action: 'removeClass',\n                actionData: 'copiedclr'\n            });\n            count = 0;\n            copied_id = \"\";\n\n            if (last_element.children[0] && (last_element.children[0].classList.contains(\"dnd_textbox\") || last_element.children[0].classList.contains(\"dndcheckbox\") || last_element.children[0].classList.contains(\"dnd_select\"))) {\n                last_element.children[0].focus();\n                last_element.children[0].blur()\n            } else if (AI.find(last_element, \".customRad\", 'all').length != 0) {\n                AI.find(last_element, \".customRad\").focus();\n                AI.find(last_element, \".customRad\").blur();\n            } else {\n                last_element.focus();\n                last_element.blur();\n            }\n        }\n    });\n\n    AI.listenAll('body', 'click', function() {\n        if (!checkFocus(\"dragable\") && !checkFocus(\"dropable\")) {\n            AI.find(dndid, '.copiedclr', {\n                action: 'removeClass',\n                actionData: 'copiedclr'\n            });\n            copied_id = \"\";\n        }\n    });\n\n    AI.listen('body', 'keypress', '#dndmainPreview input', function(current, event) {\n        if (event.which == 13) {\n            event.preventDefault();\n            return false;\n        }\n    });\n    /* end of events for keyboard binding */\n\n}\n\n\n// function responsible for calculating the area\nDND.calcArea = function(coords) {\n    let i = 0,\n        maxX = 0,\n        minX = Infinity,\n        maxY = 0,\n        minY = Infinity;\n\n    while (i < coords.length) {\n        let x = parseInt(coords[i++], 10),\n            y = parseInt(coords[i++], 10);\n\n        if (x < minX) minX = x;\n        else if (x > maxX) maxX = x;\n\n        if (y < minY) minY = y;\n        else if (y > maxY) maxY = y;\n    }\n    return {\n        top: minY,\n        left: minX,\n        width: (maxX - minX),\n        height: (maxY - minY)\n    }\n}\n\n// function for responsible the correct data\nDND.getCorrect = function(pElem) {\n    let is_correct = -1;\n    let cans = pElem.getAttribute('data-anskey');\n    let uans = pElem.getAttribute('data-userans');\n\n    if ((cans == uans) || (uans != \"\" && cans.split(\",\").includes(uans))) {\n        is_correct = 1;\n    }\n    if (cans == \"\" && uans == \"\") {\n        is_correct = -2;\n    }\n    return is_correct;\n}\n\n// function reponsible for showing the drag & drop module answers\nDND.showansdrag = function(dndid, ansType, review) {\n\n    let element = AI.select(dndid);\n    let tab_pane_div = AI.find(dndid, '.tab-pane', 'all');\n    if (DND.browser.msie && tab_pane_div.length > 0) {\n        for (let index = 0; index < tab_pane_div.length; index++) {\n            let cur_element = tab_pane_div[index];\n\n            if (cur_element.offsetHeight <= 0 && AI.selectAll(dndid + '>.tab-content,' + dndid + '>img').length < 1) {\n                let top = 0,\n                    height = 0;\n                let drag_resize = AI.find(cur_element, '.drag-resize', 'all');\n                for (let drag_index = 0; drag_index < drag_resize.length; drag_index++) {\n                    let drag_element = drag_resize[index];\n                    if (drag_element.offsetHeight > height) {\n                        height = drag_element.offsetHeight;\n                    }\n                    if (DND.offset(drag_element).top > top) {\n                        height = DND.offset(drag_element).top;\n                    }\n\n\n                    if (drag_element.classList.contains('dragable') > -1 && drag_element.style.backgroundColor == \"transparent\" && drag_element.style.backgroundImage == \"none\" && drag_element.innerText.trim() == \"\") {\n                        AI.setCss(drag_element, {\n                            backgroundColor: 'white',\n                            opacity: '0',\n                            filter: 'alpha(opacity=0)'\n                        })\n                    }\n                }\n\n                cur_element.style.height = (height + top) + 'px';\n                AI.setCss(cur_element, {\n                    height: (height + top) + 'px',\n                    overflow: 'hidden',\n                });\n\n                AI.setCss(drag_element.parentElement, {\n                    overflow: 'hidden',\n                })\n            }\n        }\n    }\n\n    if (typeof review === \"undefined\") review = 0;\n\n    let dnd_test = AI.find(element, '.dndTest', 'all');\n    for (let test_index = 0; test_index < dnd_test.length; test_index++) {\n        DND.showchildansdrag(dndid, dnd_test[test_index], ansType, review);\n    }\n\n    let dropables = document.querySelectorAll(\".dropable.ui-droppable\");\n    for (let i = 0; i < dropables.length; i++) {\n        let droppedElem = dropables[i];\n        if (droppedElem.getAttribute(\"data-droped\") || ansType == \"c\") {\n            droppedElem.innerHTML = (droppedElem.innerHTML).replace(\"Drop Here\", \"\").replace(\"Place Here\", \"\");\n        }\n    }\n}\n\n// for getting the offset\nDND.offset = function(element) {\n    let rect = element.getBoundingClientRect();\n    return {\n        top: rect.top + document.body.scrollTop,\n        left: rect.left + document.body.scrollLeft\n    }\n}\n// for getting the position\nDND.position = function(element) {\n    return {\n        left: element.offsetLeft,\n        top: element.offsetTop\n    }\n}\n\n// for setting the hotspot ans in case of keyboard\nDND.setHotspotans = function(element) {\n    let userans = element.getAttribute('data-userans');\n    if (userans) {\n        userans = JSON.parse(userans);\n        let hs_item = AI.find(element, '.hs_item', 'all');\n        for (let index = 0; index < hs_item.length; index++) {\n            let cur_element = hs_item[index];\n            let position = DND.position(cur_element);\n            position.width = cur_element.offsetWidth;\n            position.height = cur_element.offsetHeight;\n            for (let sub_index = 0; sub_index < Object.keys(userans).length; sub_index++) {\n                let user_ans_index = Object.keys(userans)[sub_index];\n                if (position.top <= (userans[user_ans_index][0] + userans[user_ans_index][3] / 2) && (userans[user_ans_index][0] + userans[user_ans_index][3] / 2) <= (position.top + position.height)) {\n                    if (position.left <= (userans[user_ans_index][1] + userans[user_ans_index][2] / 2) && (userans[user_ans_index][1] + userans[user_ans_index][2] / 2) <= (position.left + position.width)) {\n                        cur_element.setAttribute(\"data-correctans\", \"1\");\n                        break;\n                    }\n                } else {\n                    cur_element.setAttribute(\"data-correctans\", \"0\");\n                }\n            }\n        }\n\n    }\n}\n\n// function responsible for showing the dnd ans by traversing each element passing for DND.showansdrag\nDND.showchildansdrag = function(dndid, pElem, ansType, review) {\n    let is_correct = -2;\n    let dnd_element = AI.select(dndid);\n    if (pElem.classList.contains('hotspot') || pElem.classList.contains('hotspot_test')) {\n        let selected = AI.find(pElem, '.tmpTarget:not([showtarget])', 'all')\n        if (selected.length > 0) {\n            selected.forEach((elm) => elm.remove());\n        }\n        let hs_item = AI.find(pElem, '.hs_item', 'all');\n        if (ansType == 'c') {\n            let targetimg = {\n                height: (AI.find(dnd_element, '.targetImg').offsetHeight) ? AI.find(dnd_element, '.targetImg').offsetHeight : 32,\n                width: (AI.find(dnd_element, '.targetImg').offsetWidth) ? AI.find(dnd_element, '.targetImg').offsetWidth : 32,\n            }\n            for (let index = 0; index < hs_item.length; index++) {\n                let hcpos = DND.position(hs_item[index]);\n                let top = hcpos.top + hs_item[index].offsetHeight / 2 - targetimg.height / 2;\n                let left = hcpos.left + hs_item[index].offsetWidth / 2 - targetimg.width / 2;\n                if (hs_item[index].nodeName.toLowerCase() == 'area') {\n                    let height = DND.calcArea(hs_item[index].getAttribute('coords').split(','));\n                    top = height.top + height.height / 2 - targetimg.height / 2;\n                    left = height.left + height.width / 2 - targetimg.width / 2;\n                }\n                let clone_element = AI.clone(AI.find(dnd_element, '.targetImg'));\n                clone_element.classList.remove('targetImg');\n                clone_element.classList.add('tmpTarget');\n                clone_element.id = pElem.id + \"_\" + (index + 1);\n                AI.setCss(clone_element, {\n                    position: 'absolute',\n                    top: top + 'px',\n                    left: left + 'px',\n                    display: 'block'\n                });\n                pElem.append(clone_element);\n            }\n        } else if (ansType == 'u') {\n            let ans_attr = pElem.getAttribute('data-userans');\n            let userans = null;\n            if (ans_attr) {\n                userans = JSON.parse(ans_attr);\n            }\n            if (userans != null && Object.keys(userans).length > 0) {\n                let already_filled_ans = []\n                let matched_ans = [];\n                for (let index = 0; index < hs_item.length; index++) {\n                    let cur_element = hs_item[index];\n                    let position = DND.position(cur_element);\n                    let tgElem = \"\";\n                    Object.keys(userans).forEach(function(user_ans_index) {\n                        if (typeof(tgElem) == 'string' && !already_filled_ans.includes(user_ans_index)) {\n                            position.width = cur_element.offsetWidth;\n                            position.height = cur_element.offsetHeight;\n                            if (cur_element.nodeName.toLowerCase() == \"area\") {\n                                position = DND.calcArea(cur_element.getAttribute('coords').split(','));\n                            }\n                            if (position.top <= (userans[user_ans_index][0] + userans[user_ans_index][3] / 2) && (userans[user_ans_index][0] + userans[user_ans_index][3] / 2) <= (position.top + position.height)) {\n                                if (position.left <= (userans[user_ans_index][1] + userans[user_ans_index][2] / 2) && (userans[user_ans_index][1] + userans[user_ans_index][2] / 2) <= (position.left + position.width)) {\n                                    tgElem = cur_element;\n                                    already_filled_ans.push(user_ans_index);\n                                    matched_ans[user_ans_index] = {\n                                        tgElem: tgElem.id,\n                                        userans: userans[user_ans_index],\n                                    }\n                                }\n                            }\n                        }\n                    });\n\n                    if (tgElem != '') {\n                        cur_element.setAttribute(\"data-correctans\", \"1\");\n                        is_correct = true;\n                    }\n                }\n\n                Object.keys(matched_ans).forEach(function(index) {\n                    let clone_element = AI.clone(AI.find(dnd_element, '.targetImg'));\n                    clone_element.classList.remove('targetImg');\n                    clone_element.classList.add('tmpTarget');\n                    clone_element.id = pElem.id + \"_\" + index;\n                    AI.setCss(clone_element, {\n                        position: 'absolute',\n                        top: matched_ans[index]['userans'][0] + 'px',\n                        left: matched_ans[index]['userans'][1] + 'px',\n                        display: 'block',\n                    });\n                    DND.storage.store(clone_element.id, 'tgElem', matched_ans[index]['tgElem']);\n                    pElem.append(clone_element);\n                });\n\n                Object.keys(userans).forEach(function(index) {\n                    if (!already_filled_ans.includes(index)) {\n                        let clone_element = AI.clone(AI.find(dnd_element, '.targetImg'));\n                        clone_element.classList.remove('targetImg');\n                        clone_element.classList.add('tmpTarget');\n                        clone_element.id = pElem.id + \"_\" + index;\n                        AI.setCss(clone_element, {\n                            position: 'absolute',\n                            top: userans[index][0] + 'px',\n                            left: userans[index][1] + 'px',\n                            display: 'block',\n                        });\n                        DND.storage.store(clone_element.id, 'tgElem', pElem.id);\n                        pElem.append(clone_element);\n                    }\n                });\n            }\n        }\n    }\n\n    if (pElem.classList.contains('dropable')) {\n        let user_pointsBgDropUrl = \"none\";\n        if (pElem.getAttribute('data-bgimage')) {\n            user_pointsBgDropUrl = \"url(\" + (pElem.getAttribute('data-path') + pElem.getAttribute('data-bgimage')) + \")\";\n        }\n\n        AI.setCss(pElem, {\n            backgroundColor: pElem.getAttribute(\"data-bgcolor\"),\n            backgroundImage: user_pointsBgDropUrl\n        });\n\n        AI.find(pElem, 'p').innerHTML = pElem.getAttribute('data-caption');\n        if (ansType == 'c') {\n            let anskey = pElem.getAttribute('data-anskey').split(',');\n            if (anskey.length) {\n                anskey.forEach(function(value, index) {\n                    if (value.trim() != \"\") {\n                        let anskey_element = AI.find(dnd_element, '#' + value);\n\n                        let selector;\n                        if (anskey.length > 1) {\n                            selector = AI.selectAll('.dropable[data-anskey=\"' + pElem.getAttribute(\"data-anskey\") + '\"]')[index]\n                        } else {\n                            selector = pElem;\n                        }\n\n                        if (anskey_element) {\n                            AI.setCss(selector, {\n                                backgroundColor: anskey_element.getAttribute(\"data-bgcolor\"),\n                                backgroundImage: (anskey_element.getAttribute('data-dropimage') || anskey_element.getAttribute('data-bgimage')) ? \"url(\" + (anskey_element.getAttribute('data-path') + (anskey_element.getAttribute('data-dropimage') ? anskey_element.getAttribute('data-dropimage') : anskey_element.getAttribute('data-bgimage'))) + \")\" : 'none'\n                            });\n\n                            AI.find(selector, 'p').innerHTML = anskey_element.getAttribute('data-caption');\n                        }\n                    }\n                })\n            }\n        } else if (ansType == 'u') {\n            if (pElem.getAttribute('data-userans').trim() != '') {\n                try {\n                    let user_ans = AI.find(dnd_element, '#' + pElem.getAttribute('data-userans'));\n                    if (user_ans) {\n                        AI.setCss(pElem, {\n                            backgroundColor: user_ans.getAttribute(\"data-bgcolor\"),\n                            backgroundImage: (user_ans.getAttribute('data-dropimage') ||  user_ans.getAttribute('data-bgimage')) ? \"url(\" + (user_ans.getAttribute('data-path') + (user_ans.getAttribute('data-dropimage') ? user_ans.getAttribute('data-dropimage') : user_ans.getAttribute('data-bgimage'))) + \")\" : ''\n                        });\n\n                        AI.find(pElem, 'p').innerHTML = user_ans.getAttribute('data-caption');\n                        pElem.setAttribute('droping', 2);\n                        pElem.setAttribute('draging', 2);\n                        if (user_ans.getAttribute(\"data-multi_drag\") == \"0\") {\n                            user_ans.classList.add('uc_drag_disable');\n                            user_ans.style.setProperty(\"cursor\", \"no-drop\", \"important\");\n                            user_ans.style.setProperty(\"opacity\", \"0.5\", \"important\");\n                        }\n                    } else {\n                        pElem.setAttribute('droping', 1);\n                        pElem.removeAttribute('draging');\n                    }\n                } catch (error) {\n                    console.warn('User ans xml destroyed', pElem.getAttribute('data-userans'));\n                }\n            }\n            if (typeof(pElem.getAttribute(\"name\")) !== \"undefined\" && pElem.getAttribute(\"name\") != \"\") {\n                let ansKey = pElem.getAttribute('data-anskey').split(',');\n                let userans = [];\n\n                let droppable_element = AI.find(dnd_element, '.dropable[name=\"' + pElem.getAttribute(\"name\") + '\"]', 'all');\n\n                for (let index = 0; index < droppable_element.length; index++) {\n                    if (typeof(droppable_element[index].getAttribute('data-userans')) != 'undefined' && droppable_element[index].getAttribute('data-userans') != '' || AI.find(droppable_element[index], '.correct_incorrect_icon', 'all').length > 0) {\n                        userans.push(droppable_element[index].getAttribute('data-userans'));\n                    }\n                }\n\n                if (typeof(pElem.getAttribute('data-userans')) != 'undefined' && pElem.getAttribute('data-userans') != '') {\n                    is_correct = DND.getCorrect(pElem);\n                } else if ((ansKey.length - userans.length) > 0) {\n                    is_correct = -1;\n                }\n            } else {\n                is_correct = DND.getCorrect(pElem);\n            }\n        }\n    }\n\n    if (pElem.getAttribute('type') == 'step') {\n        if (typeof(pElem.getAttribute('data-udisplay')) != 'undefined') {\n            if ((stepsPreview == null) || pElem.getAttribute('id').match(stepsPreview + '_0')) {\n                stepsPreview = pElem.getAttribute('id');\n            }\n\n            let step_display = true;\n\n            if (ansType == 'c') {\n                step_display = (pElem.getAttribute('data-cdisplay')) ? true : false;\n            } else if (ansType == 'u') {\n                step_display = (pElem.getAttribute('data-udisplay')) ? true : false;\n            }\n\n            if (step_display) {\n                DND.setStep(pElem.getAttribute('id'))\n            } else {\n                DND.setStep(stepsPreview);\n            }\n        }\n    }\n\n    if (pElem.nodeName == 'SPAN') {\n        if (pElem.classList.contains('menu')) {\n            if (pElem.getAttribute('data-correctans') > 0) {\n                is_correct = -1;\n                if (pElem.getAttribute('data-userans') > 0) {\n                    pElem.setAttribute('clicked', '1');\n                    is_correct = 1;\n                }\n            }\n        } else {\n            AI.setAttr(pElem, {\n                sel: '0',\n                class: 'off'\n            });\n\n            if (ansType == 'c' && Nmuber(pElem.getAttribute('data-correctans')) > 0) {\n                AI.setAttr(pElem, {\n                    sel: '1',\n                    class: 'on'\n                });\n            }\n\n            if (ansType == 'u') {\n                is_correct = -1;\n                if (Number(pElem.getAttribute('data-userans')) > 0) {\n                    AI.setAttr(pElem, {\n                        sel: '1',\n                        class: 'on'\n                    });\n                }\n\n                if (review == 1) {\n                    if (Number(pElem.getAttribute('data-userans')) > 0 && Number(pElem.getAttribute('data-correctans')) > 0) {\n                        is_correct = 1;\n                    } else {\n                        if (Number(pElem.getAttribute('data-userans')) < 1 && Number(pElem.getAttribute('data-correctans')) > 0) {\n                            pElem.classList.remove('off');\n                            pElem.classList.add('off');\n                        }\n                        if (Number(pElem.getAttribute('data-correctans')) < 1 && Number(pElem.getAttribute('data-defaultans')) < 1 && Number(pElem.getAttribute('data-userans')) < 1) {\n                            is_correct = -2;\n                        }\n                    }\n                }\n            }\n        }\n    }\n\n    if (AI.find(pElem, '[class*=\"dnd_\"],.dndradio,.dndcheckbox,.dropable,.hotspot,.hotspot_test,[type=\"step\"],[type=\"tab\"]', 'all').length > 0) {\n        let childrens = pElem.children;\n        if (childrens.length > 0) {\n            for (let index = 0; index < childrens.length; index++) {\n                let element = childrens[index];\n                if (typeof(pElem.getAttribute(\"type\")) !== \"undefined\" && [\"step\", \"tab\"].includes(pElem.getAttribute(\"type\"))) {\n                    DND.showchildansdrag(dndid, element, ansType, review);\n                }\n                if (element.getAttribute(\"data-correctans\") == null) element.setAttribute(\"data-correctans\", \"\");\n                if (element.getAttribute(\"data-userans\") == null) element.setAttribute(\"data-userans\", \"\");\n                if (element.getAttribute(\"data-defaultans\") == null) element.setAttribute(\"data-defaultans\", \"\");\n\n                // SELECT ANS SHOWING IS STARTED FROM HERE //\n                if (element.nodeName == 'SELECT') {\n                    is_correct = -1;\n                    let total_correct = AI.find(element, \"[data-correctans='1']\", 'all').length;\n                    let compare_index = 0;\n                    let options = AI.find(element, 'option', 'all');\n                    let default_value = '0';\n                    element.value = '';\n\n                    for (let sub_index = 0; sub_index < options.length; sub_index++) {\n                        if (ansType == 'c') {\n                            if (Number(options[sub_index].getAttribute('data-correctans')) > 0) {\n                                options[sub_index].parentElement.value = options[sub_index].value;\n                            }\n                        } else if (ansType == 'u') {\n                            if (Number(options[sub_index].getAttribute('data-userans')) > 0) {\n                                options[sub_index].parentElement.value = options[sub_index].value;\n                            }\n                            if (options[sub_index].selected && Number(options[sub_index].getAttribute('data-correctans')) == 1) {\n                                compare_index++;\n                            }\n\n                            if (Number(options[sub_index].getAttribute('data-defaultans')) > 0) {\n                                default_value = options[sub_index].value;\n                            }\n                        }\n                    }\n                    if (total_correct == compare_index) {\n                        is_correct = 1;\n                    }\n\n                    if (element.value.trim() == '' && AI.find(element, 'option')) {\n                        element.value = default_value;\n                    }\n                }\n                if (element.nodeName == \"INPUT\") {\n                    is_correct = -1;\n                    if (element.getAttribute('data-correctans') == \"\") {\n                        element.getAttribute('data-correctans', \"0\");\n                    }\n                    if (element.getAttribute(\"type\") == \"radio\" || element.getAttribute(\"type\") == \"checkbox\") {\n                        element.checked = false;\n                        if (ansType == 'c') {\n                            if (Number(element.getAttribute(\"data-correctans\")) > 0) {\n                                element.checked = true;\n                            }\n                        } else if (ansType == 'u') {\n                            if (Number(element.getAttribute(\"data-userans\")) > 0) {\n                                element.checked = true;\n                            }\n                            if (Number(element.getAttribute('data-userans')) == Number(element.getAttribute('data-correctans'))) {\n                                is_correct = 1;\n                            }\n                        }\n                    }\n                    if (element.getAttribute(\"type\") == \"text\" || element.getAttribute(\"type\") == \"password\") {\n\n                        // I don't think this is needed here , NEED TO REVEIW\n                        if (typeof(element.type) == \"undefined\") {\n                            element.type = 'text';\n                        }\n                        if (ansType == 'c') {\n                            element.value = element.getAttribute(\"data-correctans\");\n                        } else if (ansType == 'u') {\n                            element.value = element.getAttribute(\"data-userans\");\n                            is_correct = DND.testText(element);\n                        }\n                    }\n                } else if (element.nodeName == \"TEXTAREA\") {\n                    is_correct = -1;\n                    if (ansType == 'c') {\n                        element.value = element.getAttribute(\"data-correctans\")\n                    } else if (ansType == 'u') {\n                        element.value = element.getAttribute(\"data-userans\");\n                        is_correct = DND.testText(element);\n                    }\n                }\n            }\n        }\n    }\n\n    let anstest = false;\n    if (AI.find(pElem, '.choicematrixradio', 'all').length) {\n        anstest = AI.find(pElem, '.choicematrixradio').checked;\n    } else if (AI.find(pElem, '.custRad', 'all').length) {\n        anstest = AI.find(pElem, '.custRad').checked;\n    }\n\n    if (ansType == 'u' && review == 1) {\n        if (is_correct != -2) {\n            let correct_incorrect_mark = '';\n            if (AI.find(pElem, '.custRad', 'all').length || AI.find(pElem, '.choicematrixradio', 'all').length) {\n                if (AI.find(pElem, '.choicematrixradio')) {\n                    AI.find(pElem, '.choicematrixradio').disabled = true;\n                }\n                if (AI.find(pElem, '.custRad')) {\n                    AI.find(pElem, '.custRad').disabled = true;\n                }\n                correct_incorrect_mark = DND.markUserAnswerChoiceMatrix(is_correct, anstest);\n            } else {\n                correct_incorrect_mark = DND.markUserAnswer(is_correct);\n            }\n            pElem.setAttribute('as', is_correct);\n            pElem.insertAdjacentHTML('beforeend', correct_incorrect_mark);\n        }\n    } else if (ansType == 'u' && review == 0) {\n        if (AI.find(pElem, '.custRad', 'all').length || AI.find(pElem, '.choicematrixradio', 'all').length) {\n            if (AI.find(pElem, '.choicematrixradio')) {\n                AI.find(pElem, '.choicematrixradio').disabled = false;\n            }\n            if (AI.find(pElem, '.custRad')) {\n                AI.find(pElem, '.custRad').disabled = false;\n            }\n        }\n        AI.remove('.correct_incorrect_icon');\n    } else {\n        AI.remove('.correct_incorrect_icon');\n    }\n}\n\n// function for marking correct incorrect\nDND.markUserAnswer = function(is_correct) {\n    let droped_value_indicator_html = ''\n    if (is_correct == 1) {\n        if (window.inNative) {\n            droped_value_indicator_html = '<span class=\"icomoon-checkmark-circles\" style=\"color:green;\">';\n        } else {\n            droped_value_indicator_html = '<span class=\"icomoon-checkmark-circle\" style=\"color:green;\">';\n        }\n    } else {\n        if (window.inNative) {\n            droped_value_indicator_html = '<span class=\"icomoon-cancel-circles\" style=\"color:red;\">';\n        } else {\n            droped_value_indicator_html = '<span class=\"icomoon-cancel-circle\" style=\"color:red;\">';\n        }\n    }\n    let correct_incorrect_mark = '<span class=\"correct_incorrect_icon\" style=\"position:absolute;width:18px;height:18px;right:-9px;top:-9px;background:white;border-radius:15px 12px 12px;font-size:21px;\"> ' + droped_value_indicator_html + '</span></span>'\n    return correct_incorrect_mark;\n}\n\n// function for marking choice matrix answers\nDND.markUserAnswerChoiceMatrix = function(is_correct, anstest) {\n    let correct_incorrect_mark = '', droped_value_indicator_html = '';\n    if (is_correct == 1 && anstest == true) {\n        if (window.inNative) {\n            droped_value_indicator_html = '<span class=\"icomoon-checkmark-circles\" style=\"color:green;\">';\n        } else {\n            droped_value_indicator_html = '<span class=\"icomoon-checkmark-circle\" style=\"color:green;\">';\n        }\n\n        correct_incorrect_mark = '<span class=\"correct_incorrect_icon\" style=\"position:absolute;width:15px;height:20px;right:-9px;top:-42px;background:white;border-radius:15px 12px 12px;font-size:17px;\"> ' + droped_value_indicator_html + '</span></span>'\n    } else if (is_correct != 1 && anstest == true) {\n        if (window.inNative) {\n            droped_value_indicator_html = '<span class=\"icomoon-cancel-circles\" style=\"color:red;\">';\n        } else {\n            droped_value_indicator_html = '<span class=\"icomoon-cancel-circle style=\"color:red;\">';\n        }\n\n        correct_incorrect_mark = '<span class=\"correct_incorrect_icon\" style=\"position:absolute;width:15px;height:15px;right:-9px;top:-42px;background:white;border-radius:15px 12px 12px;font-size:17px;\"> ' + droped_value_indicator_html + '</span></span>'\n    }\n    return correct_incorrect_mark;\n}\n// function for cheking module answers\nDND.checkAns = function(dndid) {\n    let userAnsXML = \"<smans type='15'>\\n\";\n    result = true;\n    user_points = 0;\n    is_all_correct = true;\n    let dnd_element = AI.select(dndid);\n    let dnd_test = AI.find(dnd_element, '.dndTest', 'all');\n\n    for (let index = 0; index < dnd_test.length; index++) {\n        userAnsXML = DND.checkChildAnswer(dndid, dnd_test[index], userAnsXML);\n    }\n    userAnsXML += \"</smans>\";\n\n    result = is_all_correct;\n    if (window.inNative) {\n        if (typeof window.getHeight == \"function\") {\n            window.getHeight();\n        }\n    }\n    DND.calculatePoint(dnd_element.getAttribute('totalcorrectans'), user_points);\n\n    if (window.inNative) {\n        window.postMessage(JSON.stringify({\n            userAnswers: userAnsXML,\n            inNativeIsCorrect: result\n        }), '*');\n    }\n    return {uXml: userAnsXML, ans: result};\n}\n\n// function for changing the user and ans points\nDND.calculatePoint = function(answer_points, user_points) {\n    AI.select('#answer_points', 'value', answer_points);\n    AI.select('#user_points', 'value', user_points);\n}\n\n// function for cheking module by traversing the child\nDND.checkChildAnswer = function(dndid, pElem, userAnsXML) {\n    let dnd_element = AI.select(dndid);\n\n    if (pElem.classList.contains('hotspot_test')) {\n        let hs_item = AI.find(pElem, '.hs_item', 'all');\n        let result_array = [];\n        for (let index = 0; index < hs_item.length; index++) {\n            if (hs_item[index].getAttribute('data-correctans') == '0') {\n                result_array.push(0);\n            } else {\n                result_array.push(1);\n                user_points++;\n            }\n        }\n        result = !(result_array.includes(0));\n        userAnsXML += \"<div id='\" + pElem.getAttribute(\"id\") + \"' userAns='\" + pElem.getAttribute('data-userans') + \"'></div>\\n\";\n    } else if (pElem.classList.contains('dropable')) {\n        let ansKey = pElem.getAttribute('data-anskey').split(',');\n\n        if (pElem.getAttribute(\"name\") == '' && !ansKey.includes(pElem.getAttribute(\"data-userans\"))) {\n            result = false;\n        } else if (typeof(pElem.getAttribute(\"name\")) !== \"undefined\" && pElem.getAttribute(\"name\") != \"\") {\n            let userans = [];\n            let dnd_element_dropable = AI.find(dnd_element, '.dropable[name=\"' + pElem.getAttribute(\"name\") + '\"]', 'all');\n            for (let index = 0; index < dnd_element_dropable.length; index++) {\n                if (typeof(dnd_element_dropable[index].getAttribute('data-userans')) != \"undefined\" && dnd_element_dropable[index].getAttribute('data-userans') != \"\") {\n                    userans.push(dnd_element_dropable[index].getAttribute('data-userans'));\n                }\n            }\n            if (DND.compareArray(ansKey, userans) != 0) {\n                result = false;\n            } else {\n                user_points++;\n            }\n        } else {\n            user_points++;\n        }\n        userAnsXML += \"<div id='\" + pElem.getAttribute(\"id\") + \"' userAns='\" + pElem.getAttribute('data-userans') + \"'></div>\\n\";\n    } else if (pElem.classList.contains('menulist') && !pElem.classList.contains(\"menu\")) {\n        if (pElem.getAttribute('data-correctans') != pElem.getAttribute('sel')) {\n            result = false;\n        } else {\n            user_points++;\n        }\n        userAnsXML += \"<div id='\" + pElem.getAttribute(\"id\") + \"' userAns='\" + pElem.getAttribute(\"sel\") + \"'></div>\\n\";\n    } else if (pElem.classList.contains(\"record\")) {\n        if (pElem.getAttribute(\"clicked\") == null || pElem.getAttribute(\"clicked\") == '') {\n            pElem.setAttribute(\"clicked\", \"0\");\n        }\n        if (Number(pElem.getAttribute('clicked')) != 1) {\n            result = false;\n        } else {\n            user_points++;\n        }\n        userAnsXML += \"<div id='\" + pElem.getAttribute(\"id\") + \"' userAns='\" + pElem.getAttribute(\"clicked\") + \"'></div>\\n\";\n    } else if (AI.find(pElem, '[class*=\"dnd_\"],.dndradio,.dndcheckbox,.dropable,.record,.hotspot_test,[type=\"step\"],[type=\"tab\"]', 'all').length > 0) {\n        let disabledstring = \"\";\n        let childrens = pElem.children;\n        for (let index = 0; index < childrens.length; index++) {\n            let current_element = childrens[index];\n            if (typeof(pElem.getAttribute('type')) != 'undefined' && ['step', 'tab'].includes(pElem.getAttribute('type'))) {\n                userAnsXML = DND.checkChildAnswer(dndid, current_element, userAnsXML);\n            }\n            if (current_element.getAttribute(\"data-correctans\") == null) current_element.setAttribute(\"data-correctans\", \"\");\n            if (current_element.getAttribute(\"data-userans\") == null) current_element.setAttribute(\"data-userans\", \"\");\n            if (current_element.getAttribute(\"data-defaultans\") == null) current_element.setAttribute(\"data-defaultans\", \"\");\n            if (current_element.disabled) disabledstring = \" udisabled='1'\";\n\n            if (current_element.nodeName == \"SELECT\") {\n                let uAnsSel = \"\";\n                let compare_index = 0;\n                let totalcorrect = AI.find(current_element, \"[data-correctans='1']\", 'all').length;\n                let options = AI.find(current_element, 'option', 'all');\n                for (let sub_index = 0; sub_index < options.length; sub_index++) {\n                    if (options[sub_index].selected) {\n                        compare_index++;\n                        if (Number(options[sub_index].getAttribute(\"data-correctans\")) != 1) {\n                            result = false;\n                        } else {\n                            user_points++;\n                        }\n                        uAnsSel = uAnsSel + (sub_index + 1) + \",\";\n                    }\n                }\n                if (compare_index != totalcorrect) result = false;\n                userAnsXML += '<div id=\"' + current_element.parentElement.getAttribute(\"id\") + '\" userAns=\"' + uAnsSel + '\" ' + disabledstring + '></div>\\n';\n            } else if (current_element.nodeName == 'INPUT') {\n                if (current_element.getAttribute('type') == 'radio' || current_element.getAttribute('type') == 'checkbox') {\n                    if ((Number(current_element.getAttribute(\"data-correctans\")) == 1 && !current_element.checked) || ((Number(current_element.getAttribute(\"data-correctans\")) != 1 && current_element.checked))) {\n                        result = false;\n                    } else {\n                        user_points++;\n                    }\n\n                    if (current_element.checked) {\n                        userAnsXML += \"<div id='\" + current_element.parentElement.getAttribute(\"id\") + \"' userAns='1' \" + disabledstring + \"></div>\\n\";\n                    } else {\n                        userAnsXML += \"<div id='\" + current_element.parentElement.getAttribute(\"id\") + \"' userAns='0' \" + disabledstring + \"></div>\\n\";\n                    }\n                } else if (current_element.getAttribute('type') == 'text' || current_element.getAttribute('type') == 'password') {\n                    let correctansarray = [];\n                    let givenanswer;\n                    if (Number(current_element.getAttribute(\"data-ismultipleanswer\")) == 1) {\n                        correctansarray = current_element.getAttribute(\"data-correctans\").split(\",\");\n                    }\n                    correctansarray.push(current_element.getAttribute(\"data-correctans\"));\n\n                    if (Number(current_element.getAttribute('data-nocase')) == 1) {\n                        correctansarray = correctansarray.map(function(values) {\n                            return values.toLowerCase();\n                        });\n                        givenanswer = current_element.value.toLowerCase();\n                    } else {\n                        givenanswer = current_element.value;\n                    }\n\n                    if (correctansarray.indexOf(givenanswer) < 0) {\n                        result = false;\n                    } else {\n                        user_points++;\n                    }\n                    userAnsXML += \"<div id='\" + current_element.parentElement.getAttribute(\"id\") + \"' userAns='\" + current_element.value + \"' \" + disabledstring + \"></div>\\n\";\n                }\n            } else if (current_element.nodeName == 'BUTTON') {\n                if (typeof(current_element.getAttribute(\"data-userans\")) !== \"undefined\") {\n                    userAnsXML += \"<div id='\" + current_element.parentElement.getAttribute(\"id\") + \"' userAns='\" + current_element.getAttribute(\"data-userans\") + \"' \" + disabledstring + \"></div>\\n\";\n                }\n            } else if (current_element.nodeName == 'TEXTAREA') {\n                let parser = ((current_element.getAttribute('data-parser')) ? current_element.getAttribute('data-parser').trim() : \"\");\n                if (parser != '') {\n                    let correct_val = current_element.getAttribute(\"data-correctans\").sqlparser(true);\n                    let text_val = current_element.value.replace(/\"/g, \"'\");\n                    text_val = text_val.sqlparser();\n                    if (DND.compareArray(correct_val['sql'], text_val['sql']) == 0) {\n                        if (correct_val['mustbeone'].length > 0) {\n                            for (let sub_index = 0; sub_index < correct_val['mustbeone'].length; sub_index++) {\n                                if (DND.compareArray(correct_val['mustbeone'][sub_index], text_val['sql']).length >= correct_val['mustbeone'][sub_index].length) {\n                                    result = false;\n                                }\n                            }\n                        }\n                    } else {\n                        result = false;\n                    }\n                } else {\n                    let correctansarray = [];\n                    let givenanswer;\n                    if (Number(current_element.getAttribute(\"data-ismultipleanswer\")) == 1) {\n                        correctansarray = current_element.getAttribute(\"data-correctans\").split(\",\");\n                    }\n                    correctansarray.push(current_element.getAttribute(\"data-correctans\"));\n                    if (Number(current_element.getAttribute('data-nocase')) == 1) {\n                        correctansarray = correctansarray.map(function(values) {\n                            return values.toLowerCase();\n                        });\n                        givenanswer = current_element.value.toLowerCase();\n                    } else {\n                        givenanswer = current_element.value;\n                    }\n                    if (correctansarray.indexOf(givenanswer) < 0) {\n                        result = false;\n                    } else {\n                        user_points++;\n                    }\n                }\n                userAnsXML += \"<div id='\" + current_element.parentElement.getAttribute(\"id\") + \"' userAns='\" + current_element.value + \"' \" + disabledstring + \"></div>\\n\";\n            }\n        }\n    }\n\n    if (result == false) {\n        is_all_correct = false;\n    }\n    return userAnsXML;\n}\n\n// function for areaToggle\nDND.areaToggle = function(obj) {\n    if (obj.classList.contains('off')) {\n        AI.setAttr(AI.select(obj), {\n            \"sel\": \"1\",\n            \"class\": \"on\"\n        });\n    } else {\n        AI.setAttr(AI.select(obj), {\n            \"sel\": \"0\",\n            \"class\": \"off\"\n        });\n    }\n}\n\n// function for checking the sql text\nDND.testText = function(element) {\n    let is_correct = -1,\n        parser = ((element.getAttribute('data-parser')) ? element.getAttribute('data-parser').trim() : \"\"),\n        correct_val = element.getAttribute(\"data-correctans\"),\n        text_val = element.value.replace(/\"/g, \"'\").trim();\n    let correctansarray = [];\n    let givenanswer;\n    if (parser != \"\") {\n        correct_val = correct_val.sqlparser(true);\n        text_val = text_val.sqlparser();\n        if (DND.compareArray(correct_val['sql'], text_val['sql']) == 0) {\n            is_correct = 1;\n        }\n    } else {\n        if (Number(element.getAttribute(\"data-ismultipleanswer\")) == 1) {\n            correctansarray = element.getAttribute(\"data-correctans\").split(\",\");\n        }\n        correctansarray.push(element.getAttribute(\"data-correctans\"));\n\n        if (Number(element.getAttribute('data-nocase')) == 1) {\n            correctansarray = correctansarray.map(function(v) {\n                return v.toLowerCase();\n            });\n            givenanswer = element.value.toLowerCase();\n        } else {\n            givenanswer = element.value;\n        }\n        if (correctansarray.indexOf(givenanswer) > -1) {\n            is_correct = 1;\n        }\n    }\n    return is_correct;\n}\n\n// function for comparing the array and return if the parent one is not in child one\nDND.compareArray = function(tree, branch) {\n    let matchedBranch = [];\n    for (let i = 0; i < tree.length; i++) {\n        for (let j = 0; j < branch.length; j++) {\n            if (branch[j] == tree[i]) {\n                matchedBranch.push(branch[j]);\n                continue;\n            }\n        }\n    }\n    let result = (tree.length - matchedBranch.length);\n    return result < 0 ? 0 : result;\n}\n\n// function call whenever the the review mode is changes\nDND.modeOn = function(modeType) {\n    AI.selectAll('.test', 'addClass', 'h');\n    AI.selectAll('.review', 'addClass', 'h');\n\n    if (modeType) {\n        AI.selectAll('.review', 'removeClass', 'h');\n\n        if (typeof(hotkeys) == 'function') {\n            hotkeys.unbind('alt+down,down,up,left,right,enter,delete', 'dragndrop');\n        }\n\n        DND.unBindLab();\n        DND.showansdrag(elemId, 'u', 1);\n        AI.setCss('#sm_controller', {\n            display: 'block',\n        });\n        AI.selectAll('#sm_controller button', 'removeClass', 'active');\n        AI.addClass('#sm_controller .your-ans', 'active');\n    } else {\n        AI.selectAll('.test', 'removeClass', 'h');\n        DND.bindKeyUp(elemId);\n        AI.setCss('#sm_controller', {\n            display: 'none',\n        });\n        DND.bindLab();\n        DND.showansdrag(elemId, 'u');\n    }\n}\n\n// function for unbinding the events\nDND.unBindLab = function() {\n    let element = AI.select(elemId);\n    let select_elements = AI.find(element, 'select,input,textarea', 'all');\n\n    for (let index = 0; index < select_elements.length; index++) {\n        if (select_elements[index].nodeName == 'INPUT') {\n            let input_type = select_elements[index].getAttribute('type');\n            if (input_type == 'text' || input_type == 'password') {\n                select_elements[index].setAttribute('data-userans', select_elements[index].value);\n            } else if (input_type == 'radio' || input_type == 'checkbox') {\n                select_elements[index].setAttribute('data-userans', (select_elements[index].checked) ? 1 : 0);\n            }\n        } else if (select_elements[index].nodeName == 'SELECT') {\n            let options = AI.find(select_elements[index], 'option', 'all');\n            for (let opt_index = 0; opt_index < options.length; opt_index++) {\n                options[opt_index].setAttribute('data-userans', (options[opt_index].selected) ? 1 : 0);\n            }\n        } else if (select_elements[index].nodeName == 'TEXTAREA') {\n            select_elements[index].setAttribute('data-userans', select_elements[index].value);\n        }\n        select_elements[index].style.pointerEvents = 'none';\n    }\n    AI.find(elemId, '.dragable, .dropable, .hotspot_test, .tmpTarget, .record,  [data-droped*=dndID]', {\n        action: 'addClass',\n        actionData: 'lab_disable'\n    });\n\n    AI.find(element, '.hs_item', {\n        action: 'addClass',\n        actionData: 'ajax_hs_item'\n    });\n\n}\n\n// function for binding the events\nDND.bindLab = function() {\n    let element = AI.select(elemId);\n    let select_items = AI.find(element, 'select,input,textarea', 'all');\n\n    AI.find(element, '.hs_item', {\n        action: 'removeClass',\n        actionData: 'ajax_hs_item'\n    });\n\n    AI.find(elemId, '.dragable, .dropable, .hotspot_test, .tmpTarget, .record,  [data-droped*=dndID]', {\n        action: 'removeClass',\n        actionData: 'lab_disable'\n    });\n\n    if (select_items) {\n        for (let index = 0; index < select_items.length; index++) {\n            select_items[index].style.pointerEvents = 'all';\n        }\n    }\n\n    DND.readyThis(elemId);\n}\n\n// function for textbox alingment setting\nDND.textBoxAlignment = function(element) {\n    element.style.textAlign = (!isNaN(element.value)) ? 'center' : 'left';\n}\n\n// funciton for cleartext\nDND.clearText = function(id) {\n    try {\n        let element = AI.select(elemId);\n        let find_element = AI.find(element, '.dnd' + id, 'all');\n\n        if (find_element) {\n            for (let index = 0; index < find_element.length; index++) {\n                find_element[index].value = '';\n            }\n        }\n    } catch (err) {\n        console.warn(\"ID does not exist for clearing text \", err);\n    }\n}\n\n\n// function calling on the window load\ndocument.addEventListener(\"DOMContentLoaded\", function() {\n    let dnd_textbox = AI.selectAll('.dnd_textbox');\n    for (let index = 0; index < dnd_textbox.length; index++) {\n        DND.textBoxAlignment(dnd_textbox[index]);\n    }\n    AI.listen('body', 'change', '.dnd_textbox', function(_this) {\n        DND.textBoxAlignment(_this);\n    })\n});\n\nexport default DND;\n","<!--\n *  File Name   : TextboxPreview.svelte\n *  Description : Responsible for TextboxPreview\n *  Author      : Ayush Srivastava\n *  Package     : Drag and Drop (preview)\n *  Last update : 20-Jan-2021\n *  Last Updated By : Ayush Srivastava\n-->\n<script>\n    import { XMLToJSON } from \"../../../helper/HelperAI.svelte\";\n    import { afterUpdate } from 'svelte';\n\n    export let modules;\n    export let containerID = '';\n    export let uxml = '';\n    let textbox_data = [];\n    let textbox = modules;\n\n    $: if (modules) {\n        if (Array.isArray(modules) == false) {\n            textbox = []\n            textbox[0] = modules;\n        } else {\n            textbox = modules;\n        }\n\n        textbox_data = [];\n        textbox.map(function (data) {\n            if (uxml != '') {\n                let uaXML = XMLToJSON(uxml);\n                if (uaXML && uaXML.smans) {\n                    if (uaXML.smans.div) {\n                        let uans = uaXML.smans.div;\n                        if (Array.isArray(uans) == false) {\n                            uans = []\n                            uans[0] = uaXML.smans.div;\n                        }\n                        for (let j in uans) {\n                            if(uans[j]._id == \"dnd\"+data._id) {\n                                data._userans = uans[j]._userAns;\n                            }\n                        }\n                    }\n                }\n            }\n            textbox_data = [...textbox_data, data];\n        });\n    } else {\n        textbox_data = [];\n    }\n\n    afterUpdate( ()=> {\n        if (textbox_data.length > 0 && containerID != '') {\n            textbox.map(function (data) {\n                let eventArr = [\"onclick\",\"ondblclick\",\"oncontextmenu\",\"ondragstart\",\"ondrag\",\"ondragend\",\"ondrop\",\"onmouseover\",\"onmouseup\",\"onmousedown\",\"onchange\",\"onfocus\",\"onblur\",\"onkeyup\",\"onkeypress\",\"onkeydown\"];\n                let container = document.querySelector('#'+ containerID);\n                eventArr.forEach(function(value, index) {\n                    if (!!container) {\n                        let new_container = container.querySelectorAll(\".dnd\" + data._id);\n                        if (!!new_container) {\n                            new_container.forEach(function(element) {\n                                element.removeAttribute(eventArr[index])\n                            });\n                        }\n                    }\n                });\n\n                Object.keys(data).forEach(function(key){\n                    let evt = key.replace(\"_\",\"\").trim();\n                    if (eventArr.includes(evt) && !!container) {\n                        let new_container = container.querySelectorAll(\".dnd\" + data._id);\n                        if (!!new_container) {\n                            new_container.forEach(function(element) {\n                                element.setAttribute(evt, data[key]);\n                            });\n                        }\n                    }\n                });\n            });\n        }\n    })\n</script>\n\n<div>\n    {#if textbox_data && textbox_data.length > 0}\n        {#each textbox_data as data, index}\n                <div\n                    key=\"{index}\"\n                    id=\"{\"dnd\" + data._id}\"\n                    class=\"drag-resize dndTest\"\n                    style=\"\n                        position: absolute;\n                        top: {data._top}px;\n                        left: {data._left}px;\n                        height:{data._height}px;\n                        width: {data._width}px;\n                    \"\n                >\n                    <input\n                        type={data._type}\n                        class=\"{\"dnd\" + data._id + \" dnd_textbox \" + data._custom_class}\"\n                        name=\"\"\n                        data-correctans = {(data._correctans) ? data._correctans : ''}\n                        data-userans = \"{(data._userans) ? data._userans : \"\"}\"\n                        data-udisplay = \"\"\n                        data-udisabled = \"\"\n                        data-defaultans = \"{(data._defaultans) ? data._defaultans : \"\"}\"\n                        placeholder = \"{(data._placeholder) ? data._placeholder : \"\"}\"\n                        data-nocase = \"{(data._nocase) ? data._nocase : \"\"}\"\n                        data-ismultipleanswer = \"{(data._ismultipleanswer) ? data._ismultipleanswer : \"\"}\"\n                    />\n            </div>\n        {/each}\n    {/if}\n</div>\n\n\t\t","<!--\n *  File Name   : DragPreview.svelte\n *  Description : Responsible for DragPreview\n *  Author      : Ayush Srivastava\n *  Package     : Drag and Drop (preview)\n *  Last update : 20-Jan-2021\n *  Last Updated By : Ayush Srivastava\n-->\n<script>\n    export let modules;\n    let drag = modules;\n    let drag_value = [];\n\n    $: if ( modules ) {\n        init()\n    } else {\n        drag_value = [];\n    }\n\n    // for initializing the drag\n    function init() {\n        if (Array.isArray(modules) == false) {\n            drag = []\n            drag[0] = modules;\n        } else {\n            drag = modules\n        }\n        drag_value = [];\n        drag.map(function (data) {\n            drag_value = [\n                ...drag_value, {\n                    id : \"dnd\" + data._id,\n                    caption: data._value,\n                    bgcolor: validColor(data._bgcolor,data._invisible),\n                    multi_drag: data._multi_drag,\n                    dragimage: (data._image) ? data._image.split(',')[1] : \"\",\n                    dropimage: (data._image) ? data._image.split(',')[2] : \"\",\n                    bgimage: (data._image) ? data._image.split(',')[0] : \"\",\n                    top: data._top+\"px\",\n                    left: data._left+\"px\",\n                    height: data._height+\"px\",\n                    width: data._width+\"px\",\n                    border: validBorderColor(data._border_color),\n                    backgroundColor: validColor(data._bgcolor,data._invisible),\n                    backgroundImage:((data._image) ? \"url('\"+ bgImage(data._image) +\"')\" : \"none\"),\n                    value: data._value\n                }\n            ]\n        });\n    }\n\n\tfunction validColor(_bgcolor, _invisible) {\n\t\tif (_invisible == \"1\") {\n\t\t\treturn \"\";\n\t\t} else if(_bgcolor) {\n\t\t\treturn _bgcolor;\n\t\t} else {\n\t\t\treturn \"#CCFFCC\";\n\t\t}\n\t}\n\n\tfunction validBorderColor(_bordercolor) {\n\t\tif(_bordercolor) {\n\t\t\treturn \"1px solid \"+_bordercolor;\n\t\t} else {\n\t\t\treturn \"\";\n\t\t}\n\t}\n\n\tfunction bgImage(img) {\n\t\tif(img) {\n\t\t\tlet str = img.split(',')[0];\n\t\t\treturn (window.inNative ? \"https://s3.amazonaws.com/jigyaasa_content_static/\" : \"https://s3.amazonaws.com/jigyaasa_content_static/\") + str;\n\t\t} else {\n\t\t\treturn \"\";\n\t\t}\n\t}\n\n\n</script>\n\t\t\n<div>\n    {#if drag_value && drag_value.length > 0}\n        {#each drag_value as data, index}\n            <div \n                key={index}\n                id={data.id}\n                draging=\"1\"\n                name=\"\"\n                class=\"drag-resize dragable ui-draggable dndTest\"\n                data-caption={data.caption}\n                data-bgcolor={data.bgcolor}\n                data-multi_drag={data.multi_drag}\n                data-dragimage={data.dragimage}\n                data-dropimage={data.dropimage}\n                data-bgimage={data.bgimage}\n                data-detail=\"\"\n                tabindex=\"0\"\n                data-path={(window.inNative ? \"https://s3.amazonaws.com/jigyaasa_content_static/\" : \"https://s3.amazonaws.com/jigyaasa_content_static/\")}\n                style=\"\n                    position: absolute;\n                    top: {data.top};\n                    left: {data.left};\n                    height: {data.height};\n                    width: {data.width};\n                    border: {data.border};\n                    background-color: {data.backgroundColor};\n                    background-image: {data.backgroundImage};\n                \"\n                aria-disabled=\"false\"\n            >\n                <p>{#if data.value}{@html data.value}{/if}</p>\t\n            </div>\n        {/each}\n    {/if}\n</div>","<!--\n *  File Name   : DropPreview.svelte\n *  Description : Responsible for DropPreview\n *  Author      : Ayush Srivastava\n *  Package     : Drag and Drop (preview)\n *  Last update : 20-Jan-2021\n *  Last Updated By : Ayush Srivastava\n-->\n<script>\n    import { XMLToJSON } from \"../../../helper/HelperAI.svelte\";\n    import { afterUpdate } from 'svelte';\n    export let modules;\n    export let containerID = '';\n    export let uxml = '';\n    let dropPreview = modules;\n    let drop_data = [];\n    $: if (modules) {\n        if (Array.isArray(modules) == false) {\n            dropPreview = []\n            dropPreview[0] = modules;\n        } else {\n            dropPreview = modules;\n        }\n        drop_data = [];\n        dropPreview.map(function(data) {\n            let ansKey = \"\";\n            if (data._anskey) {\n                let allAnsKey = data._anskey.split(\",\");\n                allAnsKey.forEach(function(value) {\n                    ansKey += \"dnd\" + value + \",\";  \n                });\n                ansKey = ansKey.slice(0, -1);\n            }\n\n            if (uxml != '') {\n                let uaXML = XMLToJSON(uxml);\n                if (uaXML && uaXML.smans) {\n                    if (uaXML.smans.div) {\n                        let uans = uaXML.smans.div;\n                        if (Array.isArray(uans) == false) {\n                            uans = []\n                            uans[0] = uaXML.smans.div;\n                        }\n                        for (let j in uans) {\n                            if (uans[j]._id == \"dnd\"+data._id) {\n                                data._userans = uans[j]._userAns;\n                            }\n                        }\n                    }\n                }\n            }\n\n            drop_data = [\n                ...drop_data, {\n                    id : \"dnd\"+data._id,\n                    anskey: (data._anskey)? ansKey : \"\",\n                    caption: data._value,\n                    userans: setUserAns(data._userans, data._defaultans),\n                    droped: setUserAns(data._userans, data._defaultans),\n                    bgcolor: validColor(data._bgcolor, data._invisible),\n                    top: data._top + \"px\",\n                    left: data._left + \"px\",\n                    height: data._height + \"px\",\n                    width: data._width + \"px\",\n                    border: validBorderColor(data._border),\n                }\n            ];\n        });\n    } else {\n        dropPreview = [];\n        drop_data = [];\n    }\n\n    afterUpdate(() => {\n        if (dropPreview && drop_data.length > 0 && containerID != '') {\n            dropPreview.map(function (data) {\n                let eventArr = [\"onclick\",\"ondblclick\",\"oncontextmenu\",\"ondragstart\",\"ondrag\",\"ondragend\",\"ondrop\",\"onmouseover\",\"onmouseup\",\"onmousedown\",\"onchange\",\"onfocus\",\"onblur\",\"onkeyup\",\"onkeypress\",\"onkeydown\"];\n                let container = document.querySelector('#'+ containerID);\n                eventArr.forEach(function(value, index) {\n                    if (!!container) {\n                        let new_container = container.querySelectorAll(\"#dnd\" + data._id);\n                        if (!!new_container) {\n                            new_container.forEach(function(element) {\n                                element.removeAttribute(eventArr[index])\n                            });\n                        }\n                    }\n                });\n\n                Object.keys(data).forEach(function(key){\n                    let evt = key.replace(\"_\",\"\").trim();\n                    if (eventArr.includes(evt) && !!container) {\n                        let new_container = container.querySelectorAll(\"#dnd\" + data._id);\n                        if (!!new_container) {\n                            new_container.forEach(function(element) {\n                                element.setAttribute(evt, data[key]);\n                            });\n                        }\n                    }\n                });\n            });\n        }\n    });\n\n\tfunction validColor(_bgcolor, _invisible) {\n\t\tif (_invisible == \"1\") {\n\t\t\treturn \"\";\n\t\t} else if (_bgcolor) {\n\t\t\treturn _bgcolor;\n\t\t} else {\n\t\t\treturn \"#FFFFCC\";\n\t\t}\n\t}\n\n\tfunction validBorderColor(_bordercolor) {\n\t\tif (_bordercolor) {\n\t\t\treturn \"1px solid \" + _bordercolor;\n\t\t} else {\n\t\t\treturn \"\";\n\t\t}\n\t}\n\n\tfunction setUserAns(uans, defaultans) {\n\t\tif (uans) {\n\t\t\treturn uans;\n\t\t} else if (defaultans) {\n\t\t\treturn defaultans;\n\t\t} else {\n\t\t\treturn \"\";\n\t\t}\n\t}\n</script>\n\n<div>\n    {#if drop_data && drop_data.length > 0}\n        {#each drop_data as data, index}\n            <div \n                key={index}\n                id={data.id}\n                name=\"\"\n                tabindex=\"0\"\n                data-anskey={data.anskey}\n                data-caption={data.caption}\n                data-userans={data.userans}\n                data-droped={data.droped}\n                data-bgcolor={data.bgcolor}\n                data-path={(window.inNative ? \"https://s3.amazonaws.com/jigyaasa_content_static/\" : \"https://s3.amazonaws.com/jigyaasa_content_static/\")}\n                data-dragimage=\"\"\n                data-dropimage=\"\"\n                data-bgimage=\"\"\n                class=\"drag-resize dropable ui-droppable dndTest\"\n                droping= {data.userans ? '2' : '1'}\n                style=\"\n                    position: absolute;\n                    top: {data.top};\n                    left: {data.left};\n                    height: {data.height};\n                    width: {data.width};\n                    border: {data.border};\n                \"\n            >\n                <p></p>\n            </div>\n        {/each}\n    {/if}\n</div>\n","<!--\n *  File Name   : SelectPreview.svelte\n *  Description : Responsible for SelectPreview\n *  Author      : Ayush Srivastava\n *  Package     : Drag and Drop (preview)\n *  Last update : 20-Jan-2021\n *  Last Updated By : Ayush Srivastava\n-->\n<script>\n    import { afterUpdate } from \"svelte\";\n    import { XMLToJSON } from \"../../../helper/HelperAI.svelte\";\n\n    export let modules;\n    export let containerID = '';\n    export let uxml = '';\n    let user_ans = 0;\n    let select_data = [];\n    let select = modules;\n\n    $: if (modules) {\n        if (Array.isArray(modules) == false) {\n            select = []\n            select[0] = modules;\n        } else {\n            select = modules;\n        }\n        select_data = [];\n        select.map( function (data) {\n            if(uxml != '') {\n                let uaXML = XMLToJSON(uxml);\n                if (uaXML && uaXML.smans) {\n                    if(uaXML.smans.div) {\n                        let uans = uaXML.smans.div;\n                        if(Array.isArray(uans) == false) {\n                            uans = []\n                            uans[0] = uaXML.smans.div;\n                        }\n                        for(let j in uans) {\n                            if(uans[j]._id == \"dnd\"+data._id) {\n                                data._userans = uans[j]._userAns;\n                            }\n                        }\n                    }\n                }\n            }\n\n            let option = [];\n            if (data.__text) {\n                data.__text.split(\"\\n\").map(function(option_data, index) {\n                    if (data._userans == ( index + 1 ) + \",\") {\n                        user_ans = 1;\n                    } else {\n                        user_ans = 0;\n                    }\n                    if (option_data.trim().charAt(0) == \"+\") {\n                        option.push({\n                            key: index,\n                            correctans: 0,\n                            defaultans: 1,\n                            userans: (user_ans) ? user_ans : '',\n                            text: option_data.trim().slice(1),\n                            selected : 1,\n                        })\n                    } else if (option_data.trim().charAt(0) == \"*\") {\n                        option.push({\n                            key: index,\n                            correctans: 1,\n                            defaultans: 0,\n                            userans: (user_ans) ? user_ans : '',\n                            text: option_data.trim().slice(1),\n                        })\n                    } else {\n                        option.push({\n                            key: index,\n                            correctans: 0,\n                            defaultans: 0,\n                            userans: (user_ans) ? user_ans : '',\n                            text: option_data.trim(),\n                        })\n                    }\n                });\n            }\n            select_data = [\n                ...select_data , {\n                    id : \"dnd\" + data._id,\n                    top: data._top + \"px\",\n                    left: data._left + \"px\",\n                    height: data._height + \"px\" ,\n                    width: data._width + \"px\",\n                    userans: (data._userans) ? data._userans : \"\",\n                    select: option\n                }\n            ];\n        });\n    } else {\n        select_data = [];\n    }\n\n    afterUpdate(()=> {\n        if (select_data.length > 0 && containerID != '') {\n            select.map(function (data) {\n                let eventArr = [\"onclick\",\"ondblclick\",\"oncontextmenu\",\"ondragstart\",\"ondrag\",\"ondragend\",\"ondrop\",\"onmouseover\",\"onmouseup\",\"onmousedown\",\"onchange\",\"onfocus\",\"onblur\",\"onkeyup\",\"onkeypress\",\"onkeydown\"];\n                let container = document.querySelector('#'+ containerID);\n                eventArr.forEach(function(value, index) {\n                    if (!!container) {\n                        let new_container = container.querySelectorAll(\".dnd\" + data._id);\n                        if (!!new_container) {\n                            new_container.forEach(function(element) {\n                                element.removeAttribute(eventArr[index])\n                            });\n                        }\n                    }\n                });\n                Object.keys(data).forEach(function(key) {\n                    let evt = key.replace(\"_\",\"\").trim();\n                    if (eventArr.includes(evt) && !!container) {\n                        let new_container = container.querySelectorAll(\".dnd\" + data._id);\n                        if (!!new_container) {\n                            new_container.forEach(function(element) {\n                                element.setAttribute(evt, data[key]);\n                            });\n                        }\n                    }\n                });\n            });\n        }\n    })\n</script>\n\n<div>\n    {#if select_data && select_data.length > 0}\n        {#each select_data as data, index}\n            <div\n                key={index}\n                as=\"-1\"\n                id= {data.id}\n                class=\"drag-resize dndTest\"\n                style=\"\n                    position: absolute;\n                    top: {data.top};\n                    left: {data.left};\n                    height: {data.height};\n                    width: {data.width};\n                \"\n            >\n                <select\n                    class = {data.id + \" dnd_select align_baseline_middle\"}\n                    name=\"\"\n                    size=\"0\"\n                    data-userans={data.userans}\n                    data-udisplay=\"\"\n                    data-udisabled=\"\"\n                    data-correctans=\"\"\n                    data-defaultans=\"\"\n                >\n                    {#if data.select.length}\n                        {#each data.select as option}\n                            {#if option.selected == 1} \n                                <option selected=\"selected\" key={option.key} data-correctans={option.correctans} data-defaultans={option.defaultans} data-userans={option.userans} value={option.key + 1}>{option.text}</option>\n                            {:else}\n                                <option key={option.key} data-correctans={option.correctans} data-defaultans={option.defaultans} data-userans={option.userans} value={option.key + 1}>{option.text}</option>\n                            {/if}\n                        {/each}\n                    {:else}\n                        <option>Please Select</option>\n                    {/if}\n                </select>\n            </div>\n        {/each}\n    {/if}\n</div>","<!--\n *  File Name   : RadioPreview.svelte\n *  Description : Responsible for RadioPreview\n *  Author      : Ayush Srivastava\n *  Package     : Drag and Drop (preview)\n *  Last update : 20-Jan-2021\n *  Last Updated By : Ayush Srivastava\n-->\n<script>\n    import { afterUpdate } from \"svelte\";\n    import { XMLToJSON } from \"../../../helper/HelperAI.svelte\";\n\n    export let modules;\n    export let containerID = '';\n    export let uxml = '';\n    let radio_data = [];\n    let radio = modules;\n\n    $: if (modules) {\n        if (Array.isArray(modules) == false) {\n            radio = []\n            radio[0] = modules;\n        } else {\n            radio = modules;\n        }\n\n        radio_data = [];\n        radio.map( function (data) {\n            if(uxml != '') {\n                let uaXML = XMLToJSON(uxml);\n                if(uaXML && uaXML.smans) {\n                    if(uaXML.smans.div) {\n                        let uans = uaXML.smans.div;\n                        if(Array.isArray(uans) == false) {\n                            uans = []\n                            uans[0] = uaXML.smans.div;\n                        }\n                        for (let j in uans) {\n                            if (uans[j]._id == \"dnd\" + data._id) {\n                                data._userans = uans[j]._userAns;\n                            }\n                        }\n                    }\n                }\n            }\n\n            radio_data = [\n                ...radio_data ,{\n                    id : data._id,\n                    top: data._top + \"px\",\n                    left: data._left + \"px\",\n                    height: data._height + \"px\" ,\n                    width: data._width + \"px\",\n                    userans: (data._userans) ? data._userans : \"\",\n                    correctans: data._correctans,\n                    defaultans: data._defaultans,\n                    checktype: data._checktype,\n                    name: data._name,\n                }\n            ]\n        });\n    } else {\n        radio_data = [];\n    }\n\n    afterUpdate(()=> {\n        if (radio_data.length > 0 && containerID != '') {\n            radio.map( function (data) {\n                let eventArr = [\"onclick\",\"ondblclick\",\"oncontextmenu\",\"ondragstart\",\"ondrag\",\"ondragend\",\"ondrop\",\"onmouseover\",\"onmouseup\",\"onmousedown\",\"onchange\",\"onfocus\",\"onblur\",\"onkeyup\",\"onkeypress\",\"onkeydown\"];\n                let container = document.querySelector('#'+ containerID);\n                eventArr.forEach(function(value, index) {\n                    if (!!container) {\n                        let new_container = container.querySelectorAll(\".dnd\" + data._id);\n                        if (!!new_container) {\n                            new_container.forEach(function(element) {\n                                element.removeAttribute(eventArr[index])\n                            });\n                        }\n                    }\n                });\n                Object.keys(data).forEach(function(key){\n                    let evt = key.replace(\"_\",\"\").trim();\n                    if (eventArr.includes(evt) && !!container) {\n                        let new_container = container.querySelectorAll(\".dnd\" + data._id);\n                        if (!!new_container) {\n                            new_container.forEach(function(element) {\n                                element.setAttribute(evt, data[key]);\n                            });\n                        }\n                    }\n                });\n            });\n        }\n    })\n</script>\n\n<div>\n    {#if radio_data && radio_data.length > 0}\n        {#each radio_data as data, index}\n            <div\n                key={index}\n                as=\"-1\"\n                id= {\"dnd\" + data.id}\n                class=\"only-dragable dndTest\"\n                style=\"\n                    position: absolute;\n                    top: {data.top};\n                    left: {data.left};\n                    height: {data.height};\n                    width: {data.width};\n                \"\n            >\n                {#if data.defaultans == \"1\" && data.userans == ''}\n                    <input \n                        type=\"radio\"\n                        id={\"rad\" + data.id} \n                        class={\"dnd\" + data.id + \" custRad dndradio\"} \n                        data-title={data.id}\n                        data-correctans={data.correctans}\n                        data-defaultans={data.defaultans}\n                        data-userans={1}\n                        checked=\"checked\"\n                        data-udisplay=\"\"\n                        data-udisabled=\"\"\n                        data-checktype={data.checktype}\n                        name={data.name}\n                        value=\"1\"\n                    />\n                {:else}\n                    <input \n                        type=\"radio\"\n                        id={\"rad\" + data.id} \n                        class={\"dnd\" + data.id + \" custRad dndradio\"} \n                        data-title={data.id}\n                        data-correctans={data.correctans}\n                        data-defaultans={data.defaultans}\n                        data-userans={data.userans}\n                        data-udisplay=\"\"\n                        data-udisabled=\"\"\n                        data-checktype={data.checktype}\n                        name={data.name}\n                        value=\"0\"\n                    />\n                {/if}\n                <label\n                    for={\"rad\" + data.id}\n                    class={((data.checktype == \"true\") ? \"tureitemColor\" : \"falseitemColor\") + \" customRad radio_sim \" + ((window.inNative) ? \"native\" : \"\" )}\n                    data-correctans=\"\"\n                    data-userans=\"\"\n                    data-defaultans=\"\"\n                >\n                </label>\n            </div>\n        {/each}\n    {/if}\n</div>","<!--\n *  File Name   : MultilineboxPreview.svelte\n *  Description : Responsible for MultilineboxPreview\n *  Author      : Ayush Srivastava\n *  Package     : Drag and Drop (preview)\n *  Last update : 20-Jan-2021\n *  Last Updated By : Ayush Srivastava\n-->\n<script>\n    import { afterUpdate } from \"svelte\";\n    import { XMLToJSON } from \"../../../helper/HelperAI.svelte\";\n    export let modules;\n    export let containerID = '';\n    export let uxml = '';\n    let multilinebox_data = [];\n    let multilinebox_preview = modules;\n\n    $: if (modules) {\n        if (Array.isArray(modules) == false) {\n            multilinebox_preview = []\n            multilinebox_preview[0] = modules;\n        } else {\n            multilinebox_preview = modules;\n        }\n\n        multilinebox_data = [];\n        multilinebox_preview.map( function (data) {\n            if (uxml != '') {\n                let uaXML = XMLToJSON(uxml);\n                if (uaXML && uaXML.smans) {\n                    if (uaXML.smans.div) {\n                        let uans = uaXML.smans.div;\n                        if (Array.isArray(uans) == false) {\n                            uans = []\n                            uans[0] = uaXML.smans.div;\n                        }\n                        for (let j in uans) {\n                            if(uans[j]._id == \"dnd\"+data._id) {\n                                data._userans = uans[j]._userAns;\n                            }\n                        }\n                    }\n                }\n            }\n\n            multilinebox_data = [\n                ...multilinebox_data , {\n                id : data._id,\n                top: data._top + \"px\",\n                left: data._left + \"px\",\n                height: data._height + \"px\" ,\n                width: data._width + \"px\",\n                correctans: ((data.correctans) ? setCorrect(data.correctans):\"\"),\n                defaultans: ((data.defaultans) ? data.defaultans.__cdata : \"\"),\n                parser: ((data._parser) ? data._parser : \"\"),\n                placeholder: (data._placeholder) ? data._placeholder : \"\",\n                nocase : data._nocase,\n                userans: (data._userans) ? data._userans : '',\n                classes: \"dnd\" + data._id + \" dnd_textarea \" + data._custom_class\n            }];\n        });\n    } else {\n        multilinebox_data = [];\n    }\n\n    function setCorrect(crt){\n\t\tif(crt.__cdata) {\n\t\t\treturn crt.__cdata\n\t\t} else if (typeof (crt) == 'object' && crt[0]) {\n            return (crt[0].__cdata) ? (crt[0].__cdata) : crt[0];\n\t\t} else if (typeof crt == \"string\" && crt.length > 1) {\n\t\t\treturn crt;\n\t\t} else {\n\t\t\treturn \"\";\n\t\t}\n\t}\n\n    // was created in js unused function for now but keeping it fot future reference\n\t// function changeStep(data) {\n\t// \tlet id = data.match(/('.*?')/gm);\n\t// \tid = id[0].replace(/'|\"/gm,'');\n\t// \tsetStep(id);\n\t// }\n\n    afterUpdate(()=> {\n        if (multilinebox_data.length > 0 && containerID != '') {\n            multilinebox_preview.map( function (data) {\n                let eventArr = [\"onclick\",\"ondblclick\",\"oncontextmenu\",\"ondragstart\",\"ondrag\",\"ondragend\",\"ondrop\",\"onmouseover\",\"onmouseup\",\"onmousedown\",\"onchange\",\"onfocus\",\"onblur\",\"onkeyup\",\"onkeypress\",\"onkeydown\"];\n                let container = document.querySelector('#'+ containerID);\n                eventArr.forEach(function(value, index) {\n                    if (!!container) {\n                        let new_container = container.querySelectorAll(\".dnd\" + data._id);\n                        if (!!new_container) {\n                            new_container.forEach(function(element) {\n                                element.removeAttribute(eventArr[index])\n                            });\n                        }\n                    }\n                });\n                Object.keys(data).forEach(function(key){\n                    let evt = key.replace(\"_\",\"\").trim();\n                    if (eventArr.includes(evt) && !!container) {\n                        let new_container = container.querySelectorAll(\".dnd\" + data._id);\n                        if (!!new_container) {\n                            new_container.forEach(function(element) {\n                                element.setAttribute(evt, data[key]);\n                            });\n                        }\n                    }\n                });\n            });\n        }\n    })\n</script>\n\n<div>\n    {#if multilinebox_data && multilinebox_data.length > 0}\n        {#each multilinebox_data as data, index}\n                <div\n                key={index}\n                id={\"dnd\"+data.id}\n                class=\"drag-resize dndTest\"\n                style=\"\n                    position: absolute;\n                    top: {data.top};\n                    left: {data.left};\n                    height: {data.height};\n                    width: {data.width};                \n                \"\n            >\n                <textarea \n                    class={data.classes} \n                    data-title={data.id}\n                    data-correctans={data.correctans}\n                    data-defaultans={((data.defaultans)?data.defaultans.__cdata:\"\")}\n                    data-parser={data.parser}\n                    placeholder={data.placeholder}\n                    data-nocase={data.nocase}\n                    data-userans={data.userans}\n                ></textarea>\n            </div>\n        {/each}\n    {/if}\n</div>","<!--\n *  File Name   : CheckboxPreview.svelte\n *  Description : Responsible for CheckboxPreview\n *  Author      : Ayush Srivastava\n *  Package     : Drag and Drop (preview)\n *  Last update : 20-Jan-2021\n *  Last Updated By : Ayush Srivastava\n-->\n<script>\n    import { XMLToJSON } from \"../../../helper/HelperAI.svelte\";\n    import { afterUpdate } from 'svelte';\n\n    export let modules;\n    export let containerID = '';\n    export let uxml = '';\n    let checkbox_data = [];\n    let checkbox = modules;\n\n    $: if (modules) {\n        if (Array.isArray(modules) == false) {\n            checkbox = []\n            checkbox[0] = modules;\n        } else {\n            checkbox = modules;\n        }\n        \n        checkbox_data = [];\n        checkbox.map(function (data) {\n            if (uxml != '') {\n                let uaXML = XMLToJSON(uxml);\n                if (uaXML && uaXML.smans) {\n                    if (uaXML.smans.div) {\n                        let uans = uaXML.smans.div;\n                        if (Array.isArray(uans) == false) {\n                            uans = []\n                            uans[0] = uaXML.smans.div;\n                        }\n                        for (let j in uans) {\n                            if(uans[j]._id == \"dnd\"+data._id) {\n                                data._userans = uans[j]._userAns;\n                            }\n                        }\n                    }\n                }\n            }\n\n            checkbox_data = [\n                ...checkbox_data, {\n                    top: data._top + \"px\",\n                    left: data._left + \"px\",\n                    height: data._height + \"px\",\n                    width: data._width + \"px\",\n                    id: data._id,\n                    userans: (data._userans) ? data._userans : \"\",\n                    correctans: (data._correctans) ? data._correctans : \"\",\n                    defaultans: (data._defaultans) ? data._defaultans : \"\",\n                }\n            ];\n        });\n    } else {\n        checkbox_data = [];\n    }\n\n    afterUpdate( ()=> {\n        if (checkbox_data && checkbox_data.length > 0 && containerID != '') {\n            checkbox.map(function (data) {\n                let eventArr = [\"onclick\",\"ondblclick\",\"oncontextmenu\",\"ondragstart\",\"ondrag\",\"ondragend\",\"ondrop\",\"onmouseover\",\"onmouseup\",\"onmousedown\",\"onchange\",\"onfocus\",\"onblur\",\"onkeyup\",\"onkeypress\",\"onkeydown\"];\n                let container = document.querySelector('#'+ containerID);\n                eventArr.forEach(function(value, index) {\n                    if (!!container) {\n                        let new_container = container.querySelectorAll(\".dnd\" + data._id);\n                        if (!!new_container) {\n                            new_container.forEach(function(element) {\n                                element.removeAttribute(eventArr[index])\n                            });\n                        }\n                    }\n                });\n\n                Object.keys(data).forEach(function(key){\n                    let evt = key.replace(\"_\",\"\").trim();\n                    if (eventArr.includes(evt) && !!container) {\n                        let new_container = container.querySelectorAll(\".dnd\" + data._id);\n                        if (!!new_container) {\n                            new_container.forEach(function(element) {\n                                element.setAttribute(evt, data[key]);\n                            });\n                        }\n                    }\n                });\n            });\n        }\n    })\n</script>\n\n<div>\n    {#if checkbox_data.length > 0}\n        {#each checkbox_data as data, index}\n            <div\n                key={index}\n                id={\"dnd\"+data.id}\n                class=\"only-dragable dndTest\"\n                style=\"\n                    position: absolute;\n                    top: {data.top};\n                    left: {data.left};\n                    height: {data.height};\n                    width: {data.width};\n                \"\n            >\n                {#if data.defaultans == \"1\" && data.userans == ''} \n                    <input \n                        type=\"checkbox\"\n                        class={\"dnd\" + data.id + \" dndcheckbox\"} \n                        data-correctans={data.correctans}\n                        data-defaultans={data.defaultans}\n                        data-userans=\"1\"\n                        data-udisplay=\"\"\n                        data-udisabled=\"\"\n                        name=\"\"\n                        value=\"\"\n                        checked = {true}\n                    />\n                {:else}\n                    <input \n                        type=\"checkbox\"\n                        class={\"dnd\" + data.id + \" dndcheckbox\"} \n                        data-correctans={data.correctans}\n                        data-defaultans={data.defaultans}\n                        data-userans={data.userans}\n                        data-udisplay=\"\"\n                        data-udisabled=\"\"\n                        name=\"\"\n                        value=\"\"\n                    />\n                {/if}\n            </div>\n        {/each}\n    {/if}\n</div>\n\n\t\t","<!--\n *  File Name   : TabheadPreview.svelte\n *  Description : Responsible for TabheadPreview\n *  Author      : Ayush Srivastava\n *  Package     : Drag and Drop (preview)\n *  Last update : 20-Jan-2021\n *  Last Updated By : Ayush Srivastava\n-->\n<script>\n    import { afterUpdate } from 'svelte';\n\n    export let modules;\n    export let containerID = '';\n    let tabhead_data = [];\n    let tabhead = modules;\n    $: if (modules) {\n        if (Array.isArray(modules) == false) {\n            tabhead = []\n            tabhead[0] = modules;\n        } else {\n            tabhead = modules;\n        }\n        tabhead_data = [];\n        \n\n\n        tabhead.map(function (data) {\n            let styling = changeStyletoString(Object.assign({\n                position: 'absolute',\n                top: data._top + \"px\",\n                left: data._left + \"px\",\n                height: data._height + \"px\" ,\n                width: data._width + \"px\",\n            }, addInlineStyle(data._style)));\n\n            tabhead_data = [\n                ...tabhead_data, {\n                    top: data._top + \"px\",\n                    left: data._left + \"px\",\n                    height: data._height + \"px\",\n                    width: data._width + \"px\",\n                    styles: styling,\n                    id: data._id,\n                    classes: \"drag-resize dndtabhead dndTest \" + data._class\n                }\n            ];\n        });\n    } else {\n        tabhead_data = [];\n    }\n\n    afterUpdate( ()=> {\n        if (tabhead_data.length > 0 && containerID != '') {\n            tabhead.map(function (data) {\n                let eventArr = [\"onclick\",\"ondblclick\",\"oncontextmenu\",\"ondragstart\",\"ondrag\",\"ondragend\",\"ondrop\",\"onmouseover\",\"onmouseup\",\"onmousedown\",\"onchange\",\"onfocus\",\"onblur\",\"onkeyup\",\"onkeypress\",\"onkeydown\"];\n                let container = document.querySelector('#'+ containerID);\n                eventArr.forEach(function(value, index) {\n                    if (!!container) {\n                        let new_container = container.querySelectorAll(\"#dnd\" + data._id);\n                        if (!!new_container) {\n                            new_container.forEach(function(element) {\n                                element.removeAttribute(eventArr[index])\n                            });\n                        }\n                    }\n                });\n\n                Object.keys(data).forEach(function(key){\n                    let evt = key.replace(\"_\",\"\").trim();\n                    if (eventArr.includes(evt) && !!container) {\n                        let new_container = container.querySelectorAll(\"#dnd\" + data._id);\n                        if (!!new_container) {\n                            new_container.forEach(function(element) {\n                                element.setAttribute(evt, data[key]);\n                            });\n                        }\n                    }\n                });\n            });\n        }\n    })\n\n    // function for getting the style sheet from the object in string format\n    function changeStyletoString(data) {\n        let style = '';\n        for (let key in data) { \n            style += key.replace(/_/g, '-') + \":\" + data[key] + \";\";\n        }\n        return style;\n    }\n\n    // function for adding inline style from the object\n    function addInlineStyle(stylesheet) {\n\t\tif (typeof stylesheet != \"undefined\") {\n\t\t\tlet style = {};\n\t\t\tlet inlineStyle = stylesheet.split(\";\");\n\t\t\tinlineStyle.map(function(value) {\n\t\t\t\ttry {\n\t\t\t\t\tlet new_property  = value.split(\":\");\n\t\t\t\t\tstyle[new_property[0]] = new_property[1];\n\t\t\t\t} catch(err) {\n\t\t\t\t\tconsole.warn(err);\n\t\t\t\t}\n\t\t\t});\n\t\t\treturn (style);\n\t\t}\n\t}\n</script>\n\n<div>\n    {#if tabhead_data && tabhead_data.length > 0}\n        {#each tabhead_data as data, index}\n            <div\n                key={index}\n                id={\"dnd\"+data.id}\n\t\t\t\tdata-type=\"tabhead\"\n                class={data.classes}\n                style={data.styles}\n                name=\"\"\n                data-userans=\"\"\n                data-udisplay=\"\"\n                data-udisabled=\"\"\n            >\n            </div>\n        {/each}\n    {/if}\n</div>\n\n\t\t","<!--\n *  File Name   : LabelPreview.svelte\n *  Description : Responsible for LabelPreview\n *  Author      : Ayush Srivastava\n *  Package     : Drag and Drop (preview)\n *  Last update : 20-Jan-2021\n *  Last Updated By : Ayush Srivastava\n-->\n<script>\n    import { afterUpdate } from \"svelte\";\n    import { AH } from \"../../../helper/HelperAI.svelte\";\n    export let modules;\n    export let containerID = '';\n    let label_preview_data = [];\n    let labelPreview = modules;\n    \n    $: if (modules) {\n        if (Array.isArray(modules) == false) {\n            labelPreview = []\n            labelPreview[0] = modules;\n        } else {\n            labelPreview = modules;\n        }\n        label_preview_data = [];\n        labelPreview.map( function (data) {\n            let styling = changeStyletoString(Object.assign({\n                position: 'absolute',\n                top: data._top + \"px\",\n                left: data._left + \"px\",\n                height: data._height + \"px\" ,\n                width: data._width + \"px\",\n                border: data._border_size + \"px solid \" + data._border_color,\n                background_color : data._background_color,\n            }, addInlineStyle(data._style)));\n\n            let para_styling = changeStyletoString(addParaStyle(data));\n\n            label_preview_data = [\n                ...label_preview_data, {\n                id : data._id,\n                style : styling,\n                classes: \"dndlabel dndTest \"+((data._label_class) ? data._label_class : \"\"),\n                paraStyle: para_styling,\n                parahtml: setInnerHtml( data._richtext ? data.__cdata : AH.ignoreEnity(data._title) ),\n            }];\n        });\n    } else {\n        label_preview_data = [];\n    }\n\n    // function for getting the style sheet from the object in string format\n    function changeStyletoString(data) {\n        let style = '';\n        for (let key in data) { \n            style += key.replace(/_/g, '-') + \":\" + data[key] + \";\";\n        }\n        return style;\n    }\n\n    // for adding inline paragraph style\n    function addParaStyle(data) {\n\t\tif (typeof data._label_class != \"undefined\") {\n\t\t\treturn addInlineStyle(data._style);\n\t\t}\n    }\n\n    // function for setting inner html\n    function setInnerHtml(htmlEnt) {\n        return (htmlEnt ? htmlEnt.replace(/&#(\\d+);/g, function(match, dec) {\n            return String.fromCharCode(dec);\n        }) : \"\" );\n    }\n\n    // function for adding inline style from the object\n    function addInlineStyle(stylesheet) {\n\t\tif (typeof stylesheet != \"undefined\") {\n\t\t\tlet style = {};\n\t\t\tlet inlineStyle = stylesheet.split(\",\");\n\t\t\tinlineStyle.map(function(value) {\n\t\t\t\ttry {\n\t\t\t\t\tlet new_property  = value.split(\":\");\n\t\t\t\t\tstyle[new_property[0]] = new_property[1];\n\t\t\t\t} catch(err) {\n\t\t\t\t\tconsole.warn(err);\n\t\t\t\t}\n\t\t\t});\n\t\t\treturn (style);\n\t\t}\n\t}\n\n    afterUpdate(()=> {\n        if (label_preview_data.length > 0 && containerID != '') {\n            labelPreview.map( function (data) {\n                let eventArr = [\"onclick\",\"ondblclick\",\"oncontextmenu\",\"ondragstart\",\"ondrag\",\"ondragend\",\"ondrop\",\"onmouseover\",\"onmouseup\",\"onmousedown\",\"onchange\",\"onfocus\",\"onblur\",\"onkeyup\",\"onkeypress\",\"onkeydown\"];\n                let container = document.querySelector('#'+ containerID);\n                eventArr.forEach(function(value, index) {\n                    if (!!container) {\n                        let new_container = container.querySelectorAll(\"#dnd\" + data._id);\n                        if (!!new_container) {\n                            new_container.forEach(function(element) {\n                                element.removeAttribute(eventArr[index])\n                            });\n                        }\n                    }\n                });\n                Object.keys(data).forEach(function(key){\n                    let evt = key.replace(\"_\",\"\").trim();\n                    if (eventArr.includes(evt) && !!container) {\n                        let new_container = container.querySelectorAll(\"#dnd\" + data._id);\n                        if (!!new_container) {\n                            new_container.forEach(function(element) {\n                                element.setAttribute(evt, data[key]);\n                            });\n                        }\n                    }\n                });\n            });\n        }\n    })\n</script>\n\n<div>\n    {#if label_preview_data && label_preview_data.length}\n        {#each label_preview_data as data, index}\n            <!-- svelte-ignore a11y-positive-tabindex -->\n            <div\n                key={index}\n                id={\"dnd\"+data.id}\n                class={data.classes}\n                tabindex=\"1\"\n                style={data.style}\n            >\n                <p style={data.paraStyle}>{data.parahtml}</p>\n            </div>\n        {/each}\n    {/if}\n</div>","<!--\n *  File Name   : HotspotPreview.svelte\n *  Description : Responsible for HotspotPreview\n *  Author      : Ayush Srivastava\n *  Package     : Drag and Drop (preview)\n *  Last update : 20-Jan-2021\n *  Last Updated By : Ayush Srivastava\n-->\n<script>\n    import { XMLToJSON } from \"../../../helper/HelperAI.svelte\";\n    export let modules;\n    export let uxml;\n    export let module_type;\n    let hotspot_data = [];\n    let hotspot = modules;\n    let module_height = 0;\n    let div_height = 'auto';\n    $: if (modules) {\n        if (Array.isArray(modules) == false) {\n            hotspot = []\n            hotspot[0] = modules;\n        } else {\n            hotspot = modules;\n        }\n        hotspot_data = [];\n\n\t\tif (module_type == '15') {\n\t\t\ttry {\n\t\t\t\thotspot.map((data) => {\n\t\t\t\t\tmodule_height = data._height;\n\t\t\t\t\tif (module_height < data._height) {\n\t\t\t\t\t\tmodule_height = data._height\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t} catch(e) {\n\t\t\t\tmodule_height = 350;\n\t\t\t}\n\t\t}\n        \n        div_height = (module_height == 0) ? 'auto' : (module_height + 100) + 'px';\n        hotspot.map( function (data, index) {\n            let inner_component = [];\n            let innerText = JSON.parse(((data.__text) ? data.__text : data.__cdata));\n            for (let key in innerText) {\n                inner_component.push({\n                    top: innerText[key][0] + \"px\",\n                    left: innerText[key][1] + \"px\",\n                    width: innerText[key][2] + \"px\",\n                    height: innerText[key][3] + \"px\",\n                })\n            }\t\n            if (uxml) {\n                let uaXML = XMLToJSON(uxml);\n                if(uaXML && uaXML.smans) {\n                    if(uaXML.smans.div) {\n                        let uans = uaXML.smans.div;\n                        if(Array.isArray(uans) == false) {\n                            uans = []\n                            uans[0] = uaXML.smans.div;\n                        }\n                        for(let j in uans) {\n                            if(uans[j]._id == \"dnd\" + data._id) {\n                                data._userans = uans[j]._userAns;\n                            }\n                        }\n                    }\n                }\n            }\n            hotspot_data =[\n                ...hotspot_data, {\n                id: data._id,\n                top: data._top+\"px\",\n                left: data._left+\"px\",\n                height: data._height+\"px\",\n                width: data._width+\"px\",\n                backgroundImage: \"url('\" + bgImage(data._bgimg) + \"')\",\n                userans: (data._userans) ? data._userans : '',\n                bgimg: data._bgimg,\n                child: inner_component\n            }]\n        });\n    } else {\n        hotspot_data = [];\n    }\n\n    // function for getting the background image\n\tfunction bgImage(img) {\n\t\tif (img) {\n\t\t\treturn (window.inNative ? \"https://s3.amazonaws.com/jigyaasa_content_static/\" : \"https://s3.amazonaws.com/jigyaasa_content_static/\") + img;\n\t\t} else {\n\t\t\treturn \"\";\n\t\t}\n\t}\n\n</script>\n\n<div>\n    <div class=\"hotspotContainer\" style=\"{'height:' + div_height}\">\n        {#if hotspot_data && hotspot_data.length > 0} \n            {#each hotspot_data as data, index}\n                <div \n                    key={index}\n                    id={\"dnd\" + data.id}\n                    class=\"drag-resize hotspot_test dndTest\"\n                    style=\"\n                        position: absolute;\n                        top: {data.top};\n                        left: {data.left};\n                        height: {data.height};\n                        width: {data.width};\n                        border: {data.border};\n                        background-image: {data.backgroundImage}\n                    \"\n                    data-userans={data.userans}\n                >\n                    {#if data.bgimg}\n                        <div>\n                            <img style=\"display: none\" alt=\"hotspot\" src={( (window.inNative) ? \"https://s3.amazonaws.com/jigyaasa_content_static/\" : \"https://s3.amazonaws.com/jigyaasa_content_static/\") + data.bgimg + \"?\" + Date.now() } />\n                        </div>\n                    {/if}\n\n                    {#if data.child.length > 0}\n                        {#each data.child as child_data, child_index}\n                            <div\n                                key={child_index}\n                                id={data.id + \"_\" + (child_index + 1)}\n                                data-correctans=\"0\"\n                                class=\"drag-resize hs_item ui-droppable\"\n                                style = \"\n                                    position: absolute;\n                                    top: {child_data.top};\n                                    left: {child_data.left};\n                                    height: {child_data.height};\n                                    width: {child_data.width};\n                                \"\n                            >\n                            </div>\n                        {/each}\n                    {/if}\n                </div>\n            {/each}\n        {/if}\n    </div>\n</div>","<!--\n *  File Name   : MenulistPreview.svelte\n *  Description : Responsible for MenulistPreview\n *  Author      : Ayush Srivastava\n *  Package     : Drag and Drop (preview)\n *  Last update : 20-Jan-2021\n *  Last Updated By : Ayush Srivastava\n-->\n<script>\n    export let modules;\n    let menulist_data = [];\n    let menulist_preview = modules;\n    let menuEvent = [];\n    let correctSelect = \"\";\n    $: if (modules) {\n        if (Array.isArray(modules) == false) {\n            menulist_preview = []\n            menulist_preview[0] = modules;\n        } else {\n            menulist_preview = modules;\n        }\n        menulist_data = [];\n        menulist_preview.map( function (data) {\n            let row, col, matrix;\n            let count = 0;\n            let menulist_item = [];\n            menuEvent = [];\n\n            if (data.__text) {\n                getClick(data.__text);\n            }\n\n            matrix = ((data._matrix) ? (data._matrix).split(\"x\") : []);\n            row = matrix[0];\n            col = matrix[1];\n\n            for (let row_loop = 1; row_loop <= row; row_loop++) {\n                for (let col_loop = 1; col_loop <= col; col_loop++) {\n                    menulist_item.push({\n                        id: data._id + \"_\" + row_loop + \"_\" + col_loop,\n                        classes: ((data._correctans && menuEvent[count]) ? \"menu off menulist dndTest record\" : \"menu off menulist dndTest\" ),\n                        correctans: ((menuEvent[count])? \"1\"  : \"0\" ),\n                        top: getTop(row_loop, row, data) + 'px',\n                        left: getLeft(col_loop, col, data) + 'px',\n                        height: getHeight(row, data) + 'px',\n                        width: getWidth(col, data) + 'px',\n                        click_event: (menuEvent[count]) ? menuEvent[count] : \"\",\n                    })\n                    count++;\n                }\n            }\n\n            menulist_data = [\n                ...menulist_data, {\n                    top:data._top+\"px\",\n                    left:data._left+\"px\",\n                    height:data._height+\"px\",\n                    width:data._width+\"px\",\n                    menulist_item: menulist_item\n                }\n            ]\n        });\n    } else {\n        menulist_data = [];\n    }\n\n\tfunction getTop(rowCount, row, list) {\n\t\tlet top = (((parseFloat(list._height) / parseFloat(row)) - 0) * (parseFloat(rowCount) - 1)) + ((parseFloat(rowCount) - 1) * 0) + (0 / 2);\n\t\treturn top;\n\t}\n\n\tfunction getLeft(colCount, col, list) {\n\t\tlet left = (((parseFloat(list._width) / parseFloat(col)) - 0) * (parseFloat(colCount) - 1)) + ((parseFloat(colCount) - 1) * 0) + (0 / 2);\n\t\treturn left;\n\t}\n\n\tfunction getHeight(row, list) {\n\t\tlet height = (( parseFloat(list._height) / parseFloat(row) ) - 0 );\n\t\treturn height;\n\t}\n\n\tfunction getWidth(col ,list) {\n\t\tlet width = (( parseFloat(list._width) / parseFloat(col) ) - 0 );\n\t\treturn width;\n\t}\n\n\tfunction getClick(text) {\n\t\tlet data = text.split(\"|\");\n\t\tfor (let i = 0; i < data.length ; i++) {\n\t\t\tlet clck = data[i].match(/\\(.*?\\)/gi);\n\t\t\tif(clck) {\n\t\t\t\tmenuEvent[i] = clck[0].replace('(','').replace(')','').replace(/\"/g,'').replace(/'/g,'');\n\t\t\t} else {\n\t\t\t\tmenuEvent[i] = \"\";\n\t\t\t}\n\t\t}\n\t}\n\n    // @ayush : I don't find the function used for now will look it later on it\n\tfunction getCorrect(r,c,row,col,data) {\n\t\tcorrectSelect = \",\"+((data._correctans)?data._correctans.replace(\" \",\"\"):\"\")+\",\";\n\t\tlet cans = \"menu off dndTest menulist\";\n\t\tif((row > 1) && (col <= 1)) {\n\t\t\tlet srch1 = \",\"+r+\",\";\n\t\t\tif(correctSelect.indexOf(srch1) !== false) {\n\t\t\t\tcans = \"menu off menulist dndTest record\";\n\t\t\t}\n\t\t} else if ((row <= 1) && (col > 1)) {\n\t\t\tlet srch2 = \",\"+c+\",\";\n\t\t\tif (correctSelect.indexOf(srch2) !== false) {\n\t\t\t\tcans = \"menu off menulist dndTest record\";\n\t\t\t}\n\t\t} else if ((row > 1) && (col > 1)) {\n\t\t\tlet srch3 = r+\"x\"+c+\",\";\n\t\t\tif (correctSelect.indexOf(srch3) !== false) {\n\t\t\t\tcans = \"menu off menulist dndTest record\";\n\t\t\t}\n\t\t} else {\n\t\t\tlet srch4 = \",\"+r+\",\";\n\t\t\tif (correctSelect.indexOf(srch4) !== false) {\n\t\t\t\tcans = \"menu off menulist dndTest record\";\n\t\t\t}\n\t\t}\n\t\treturn cans;\n\t}\n</script>\n\n<div>\n    {#if menulist_data && menulist_data.length > 0}\n        {#each menulist_data as data, index}\n            <div\n                key={index}\n                class=\"drag-resize\"\n                style=\"\n                    position: absolute;\n                    top:{data.top};\n                    left:{data.left};\n                    height:{data.height};\n                    width:{data.width};\n                \"\n                data-correctans=\"\"\n                data-userans=\"\"\n                data-defaultans=\"\"\n            >\n                {#if data.menulist_item.length > 0}\n                    {#each data.menulist_item as menu_data, subindex}\n                        <span\n                            key={\"menu_\" + subindex}\n                            id={menu_data.id}\n                            class={menu_data.classes}\n                            data-correctans={menu_data.correctans}\n                            data-defaultans=\"\"\n                            data-userans=\"\"\n                            on:click=\"{()=> window.setStep(menu_data.click_event)}\"\n                            style=\"\n                                position: absolute;\n                                top:{menu_data.top};\n                                left:{menu_data.left};\n                                height:{menu_data.height};\n                                width:{menu_data.width};\n                            \"\n                        >\n                            <!--@TO DO : NEED TO ADD ONCLICK EVENT FOR SETSTEP --->\n                        </span>\n                    {/each}\n                {/if}\n            </div>\n        {/each}\n    {/if}\n</div>","<!--\n *  File Name   : ButtonPreview.svelte\n *  Description : Responsible for ButtonPreview\n *  Author      : Ayush Srivastava\n *  Package     : Drag and Drop (preview)\n *  Last update : 20-Jan-2021\n *  Last Updated By : Ayush Srivastava\n-->\n<script>\n    import { afterUpdate } from 'svelte';\n\n    export let modules;\n    export let containerID = '';\n    let button_preview_data = [];\n    let button_preview = modules;\n\n    $: if (modules) {\n        if (Array.isArray(modules) == false) {\n            button_preview = []\n            button_preview[0] = modules;\n        } else {\n            button_preview = modules;\n        }\n\n        button_preview_data = [];\n        button_preview.map(function (data) {\n            button_preview_data = [\n                ...button_preview_data, {\n                    top: data._top + \"px\",\n                    left: data._left + \"px\",\n                    height: data._height + \"px\",\n                    width: data._width + \"px\",\n                    id: data._id,\n                    classes: \"drag-resize dndTest \"+data._class,\n                    value: data._value\n                }\n            ];\n        });\n    } else {\n        button_preview_data = [];\n    }\n\n    afterUpdate( ()=> {\n        if (button_preview_data.length > 0 && containerID != '') {\n            button_preview.map(function (data) {\n                let eventArr = [\"onclick\",\"ondblclick\",\"oncontextmenu\",\"ondragstart\",\"ondrag\",\"ondragend\",\"ondrop\",\"onmouseover\",\"onmouseup\",\"onmousedown\",\"onchange\",\"onfocus\",\"onblur\",\"onkeyup\",\"onkeypress\",\"onkeydown\"];\n                let container = document.querySelector('#'+ containerID);\n                eventArr.forEach(function(value, index) {\n                    if (!!container) {\n                        let new_container = container.querySelectorAll(\".dnd\" + data._id);\n                        if (!!new_container) {\n                            new_container.forEach(function(element) {\n                                element.removeAttribute(eventArr[index])\n                            });\n                        }\n                    }\n                });\n\n                Object.keys(data).forEach(function(key){\n                    let evt = key.replace(\"_\",\"\").trim();\n                    if (eventArr.includes(evt) && !!container) {\n                        let new_container = container.querySelectorAll(\".dnd\" + data._id);\n                        if (!!new_container) {\n                            new_container.forEach(function(element) {\n                                element.setAttribute(evt, data[key]);\n                            });\n                        }\n                    }\n                });\n            });\n        }\n    });\n</script>\n\n<div>\n    {#if button_preview_data && button_preview_data.length > 0}\n        {#each button_preview_data as data, index}\n            <div\n                key={index}\n                id={\"dnd\"+data.id}\n                class={data.classes}\n                style=\"\n                    position: absolute;\n                    top: {data.top};\n                    left: {data.left};\n                    height: {data.height};\n                    width: {data.width};\n                \"\n                data-correctans=\"\"\n                data-defaultans=\"\"\n                data-userans=\"\"\n                tabindex=\"0\"\n            >\n                <button \n                    type=\"button\"\n                    class={\"dnd\" + data.id + \" dnd_button\"} \n                    name=\"\"\n                    tabindex=\"-1\"\n                    value={data.value ? data.value : ''}\n                    data-correctans=\"\"\n                    data-defaultans=\"\"\n                    data-userans=\"\"\n                >\n                    {data.value ? data.value : ''}\n                </button>\n            </div>\n        {/each}\n    {/if}\n</div>\n\n\t\t","<!--\n *  File Name   : TabpillsPreview.svelte\n *  Description : Responsible for TabpillsPreview\n *  Author      : Ayush Srivastava\n *  Package     : Drag and Drop (preview)\n *  Last update : 20-Jan-2021\n *  Last Updated By : Ayush Srivastava\n-->\n<script>\n    import DragPreview from './DragPreview.svelte';\n    import DropPreview from './DropPreview.svelte';\n    import RadioPreview from './RadioPreview.svelte';\n    import SelectPreview from './SelectPreview.svelte';\n    import TextboxPreview from './TextboxPreview.svelte';\n    import CheckboxPreview from './CheckboxPreview.svelte';\n    import TabheadPreview from './TabheadPreview.svelte';\n    import HotspotPreview from './HotspotPreview.svelte';\n    import MenulistPreview from './MenulistPreview.svelte';\n\n    export let modules;\n    export let uxml = '';\n    export let checkImages;\n    let tab_pills_preview = modules;\n\n    $: if (modules) {\n        if (Array.isArray(modules) == false) {\n            tab_pills_preview = []\n            tab_pills_preview[0] = modules;\n        } else {\n            tab_pills_preview = modules;\n        }\n    } else {\n        tab_pills_preview = [];\n    }\n</script>\n\t\t\n<div>\n    {#if tab_pills_preview && tab_pills_preview.length > 0}\n        <ul class=\"nav nav-pills margin-bottom dndTest\" data-correctans=\"\" data-userans=\"\" data-defaultans=\"\" role=\"tablist\">\n            {#each tab_pills_preview as data, index}\n                <li key={\"tab_pills_list_\" + index} class=\"nav-item\">\n                    <a class={\"nav-link\" + ((data._display == \"1\") ? \" active\" :\"\")} href={\"#dnd\"+data._id} data-bs-toggle=\"pill\" data-bs-target={\"#dnd\"+data._id} >{data._value}</a>\n                </li>\n            {/each}\n        </ul>\n        <div class=\"tab-content dndTest\" type=\"tab\" style=\"position:relative\">\n            {#each tab_pills_preview as data, index}\n                <div\n                    key={\"tab_pills_preview_\" + index}\n                    id={\"dnd\" + data._id} \n                    type=\"tab\"\n                    role=\"tabpanel\"\n                    class={\"tab-pane \" + ((data._display == \"1\") ? \"active\": \"\")}\n                    data-correctans=\"\"\n                    data-userans=\"\"\n                    data-defaultans=\"\"\n                >\n                    {#if data._bgimg}\n                        <img on:load={() => {checkImages(2)}} src={(window.inNative ? \"https://s3.amazonaws.com/jigyaasa_content_static/\" : \"https://s3.amazonaws.com/jigyaasa_content_static/\") + data._bgimg} alt={data._alt} />\n                    {/if}\n                    <DragPreview modules={((data.drag) ? data.drag : [])}  />\n                    <DropPreview modules={((data.drop) ? data.drop : [])}  uxml={uxml} />\n                    <RadioPreview modules={((data.radio) ? data.radio : [])}  uxml={uxml} />\n                    <SelectPreview modules={((data.select) ? data.select : [])}  uxml={uxml} />\n                    <TextboxPreview modules={((data.textbox) ? data.textbox : [])}  uxml={uxml} />\n                    <CheckboxPreview modules={((data.checkbox) ? data.checkbox : [])}  uxml={uxml} />\n                    <TabheadPreview modules={((data.tabhead) ? data.tabhead : [])}  />\n                    <HotspotPreview modules={((data.hotspot) ? data.hotspot : [])}  uxml={uxml}/>\n                    <MenulistPreview modules={((data.menulist) ? data.menulist : [])}  />\n                </div>\n            {/each}\n        </div>\n    {/if}\n</div>","<!--\n *  File Name   : TabPreview.svelte\n *  Description : Responsible for TabPreview\n *  Author      : Ayush Srivastava\n *  Package     : Drag and Drop (preview)\n *  Last update : 20-Jan-2021\n *  Last Updated By : Ayush Srivastava\n-->\n<script>\n    import DragPreview from './DragPreview.svelte';\n    import DropPreview from './DropPreview.svelte';\n    import RadioPreview from './RadioPreview.svelte';\n    import SelectPreview from './SelectPreview.svelte';\n    import TextboxPreview from './TextboxPreview.svelte';\n    import CheckboxPreview from './CheckboxPreview.svelte';\n    import TabheadPreview from './TabheadPreview.svelte';\n    import HotspotPreview from './HotspotPreview.svelte';\n    import MenulistPreview from './MenulistPreview.svelte';\n    import TabPillsPreview from './TabPillsPreview.svelte';\n\n    export let modules;\n    export let containerID;\n    export let uxml = '';\n    export let checkImages;\n    let tab_preview = modules;\n\n    $ : if (modules) {\n        if (Array.isArray(modules) == false) {\n            tab_preview = []\n            tab_preview[0] = modules;\n        } else {\n            tab_preview = modules;\n        }\n    } else {\n        tab_preview = [];\n    }\n</script>\n\t\t\n<div>\n    {#if tab_preview && tab_preview.length > 0}\n        <ul class=\"nav nav-tabs margin-bottom dndTest mt-3\" data-correctans=\"\" data-userans=\"\" data-defaultans=\"\">\n            {#each tab_preview as data, index}\n                <li key={\"tab_list_\" + index} class=\"nav-item\">\n                    <a href={\"#dnd\"+data._id} data-bs-target={\"#dnd\" + data._id} data-bs-toggle=\"tab\" class={((data._display == \"1\")?\" active nav-link\":\" nav-link\")}>{data._value}</a>\n                </li>\n            {/each}\n        </ul>\n        <div class=\"tab-content dndTest\" type=\"tab\" style=\"position:relative\">\n            {#each tab_preview as data, index}\n                <div\n                    key={\"tab_preview_\" + index}\n                    id={\"dnd\" + data._id} \n                    role=\"tabpanel\"\n                    type=\"tab\"\n                    class={\"tab-pane \" + ((data._display == \"1\") ? \"active\": \"\")}\n                    data-correctans=\"\"\n                    data-userans=\"\"\n                    data-defaultans=\"\"\n                >\n                    {#if data._bgimg}\n                        <img on:load={() => {checkImages(2)}} src={(window.inNative ? \"https://s3.amazonaws.com/jigyaasa_content_static/\" : \"https://s3.amazonaws.com/jigyaasa_content_static/\") + data._bgimg} alt={data._alt} />\n                    {/if}\n                    <DragPreview modules={((data.drag) ? data.drag : [])} containerID={containerID} />\n                    <DropPreview modules={((data.drop) ? data.drop : [])} containerID={containerID} uxml={uxml} />\n                    <RadioPreview modules={((data.radio) ? data.radio : [])} containerID={containerID} uxml={uxml} />\n                    <SelectPreview modules={((data.select) ? data.select : [])} containerID={containerID} uxml={uxml} />\n                    <TextboxPreview modules={((data.textbox) ? data.textbox : [])} containerID={containerID} uxml={uxml} />\n                    <CheckboxPreview modules={((data.checkbox) ? data.checkbox : [])} containerID={containerID} uxml={uxml} />\n                    <TabheadPreview modules={((data.tabhead) ? data.tabhead : [])} containerID={containerID} />\n                    <HotspotPreview modules={((data.hotspot) ? data.hotspot : [])} containerID={containerID} uxml={uxml}/>\n                    <MenulistPreview modules={((data.menulist) ? data.menulist : [])} containerID={containerID} />\n                    <TabPillsPreview modules={((data.tab) ? data.tab : [])} {checkImages} uxml={uxml}/>\n                </div>\n            {/each}\n        </div>\n    {/if}\n</div>","<!--\n *  File Name   : StepPreview.svelte\n *  Description : Responsible for StepPreview\n *  Author      : Ayush Srivastava\n *  Package     : Drag and Drop (preview)\n *  Last update : 20-Jan-2021\n *  Last Updated By : Ayush Srivastava\n-->\n<script>\n    import DragPreview from './DragPreview.svelte';\n    import DropPreview from './DropPreview.svelte';\n    import RadioPreview from './RadioPreview.svelte';\n    import SelectPreview from './SelectPreview.svelte';\n    import TextboxPreview from './TextboxPreview.svelte';\n    import CheckboxPreview from './CheckboxPreview.svelte';\n    import TabheadPreview from './TabheadPreview.svelte';\n    import HotspotPreview from './HotspotPreview.svelte';\n    import MenulistPreview from './MenulistPreview.svelte';\n    import MultilineboxPreview from './MultilineboxPreview.svelte';\n    import TabPreview from './TabPreview.svelte';\n    import ButtonPreview from './ButtonPreview.svelte';\n    import LabelPreview from './LabelPreview.svelte';\n    \n    export let modules;\n    export let containerID;\n    export let uxml = '';\n    export let checkImages;\n    let step = modules;\n    $: if (modules) {\n        if (Array.isArray(modules) == false) {\n            step = []\n            step[0] = modules;\n        } else {\n            step = modules;\n        }\n    } else {\n        step = [];\n    }\n</script>\n\t\t\n<div>\n    {#if step && step.length > 0}\n        {#each step as data, index}\n            <div\n                key={index}\n                id={\"dnd\" + data._id}\n                type=\"step\"\n                class=\"step dndTest\"\n                style=\"position: relative\"\n                data-ddisplay=\"\"\n                data-udisplay=\"\"\n                data-cdisplay=\"\"\n            >\n                {#if data._bgimg}\n\t\t\t\t\t<img on:load={() => {checkImages(2)}} on:error={(e)=>{e.target.onerror = null; e.target.src=\"https://s3.amazonaws.com/jigyaasa_content_static/\" + data._bgimg}} src={window.inNative ? \"____s3.amazonaws.com__jigyaasa_content_static__\" + data._bgimg :\"https://s3.amazonaws.com/jigyaasa_content_static/\" + data._bgimg} alt={data._alt}/>\n                {/if}\n                <DragPreview modules={((data.drag) ? data.drag : [])} containerID={containerID} />\n                <DropPreview modules={((data.drop) ? data.drop : [])} containerID={containerID} uxml={uxml} />\n                <RadioPreview modules={((data.radio) ? data.radio : [])} containerID={containerID} uxml={uxml} />\n                <SelectPreview modules={((data.select) ? data.select : [])} containerID={containerID} uxml={uxml} />\n                <TextboxPreview modules={((data.textbox) ? data.textbox : [])} containerID={containerID} uxml={uxml} />\n                <CheckboxPreview modules={((data.checkbox) ? data.checkbox : [])} containerID={containerID} uxml={uxml} />\n                <TabheadPreview modules={((data.tabhead) ? data.tabhead : [])} containerID={containerID} />\n                <HotspotPreview modules={((data.hotspot) ? data.hotspot : [])} containerID={containerID} uxml={uxml}/>\n                <MenulistPreview modules={((data.menulist) ? data.menulist : [])} containerID={containerID} />\n                <MultilineboxPreview modules={((data.multilinebox) ? data.multilinebox : [])} containerID={containerID}  uxml={uxml}/>\n                <TabPreview {checkImages} modules={((data.tab) ? data.tab : [])} containerID={containerID} />\n                <ButtonPreview modules={((data.button) ? data.button : [])} containerID={containerID} />\n                <LabelPreview modules={((data.label) ? data.label : [])} containerID={containerID} />\n            </div>\n        {/each}\n    {/if}\n</div>","<!--\n *  File Name   : DragNDropPreview.svelte\n *  Description : Responsible for Preview Side functionality\n *  Author      : Ayush Srivastava\n *  Package     : Drag and Drop (Preview)\n *  Last update : 20-Jan-2021\n *  Last Updated By : Ayush Srivastava\n-->\n<script>\n\t// Importing all the required components\n\timport { onMount, beforeUpdate, afterUpdate } from 'svelte';\n\timport ItemHelper from '../helper/ItemHelper.svelte';\n\timport { AH, onUserAnsChange, XMLToJSON } from \"../helper/HelperAI.svelte\";\n\timport { writable } from \"svelte/store\";\n\timport DND from './libs/preview/dndString';\n\timport TextboxPreview from './libs/preview/TextboxPreview.svelte';\n\timport DragPreview from './libs/preview/DragPreview.svelte';\n\timport DropPreview from './libs/preview/DropPreview.svelte';\n\timport SelectPreview from './libs/preview/SelectPreview.svelte';\n\timport RadioPreview from './libs/preview/RadioPreview.svelte';\n\timport MultilineboxPreview from './libs/preview/MultilineboxPreview.svelte';\n\timport CheckboxPreview from './libs/preview/CheckboxPreview.svelte';\n\timport TabheadPreview from './libs/preview/TabheadPreview.svelte';\n\timport LabelPreview from './libs/preview/LabelPreview.svelte';\n\timport HotspotPreview from './libs/preview/HotspotPreview.svelte';\n\timport MenulistPreview from './libs/preview/MenulistPreview.svelte';\n\timport ButtonPreview from './libs/preview/ButtonPreview.svelte';\n\timport StepPreview from './libs/preview/StepPreview.svelte';\n\timport TabPreview from './libs/preview/TabPreview.svelte';\n\timport l from '../src/libs/Lang';\n\timport './css/dragndrop.min.css';\n\n\n\t// exporting the variables\n\texport let xml;\n\texport let uxml;\n\texport let isReview;\n\texport let showAns;\n\texport let editorState;\n\n\t// initializing the variable\n\tlet QXML = \"\";\n\tlet image_loaded = 0;\n\tlet bgImg = \"\";\n\tlet imgHeight = \"\";\n\tlet imgWidth = \"\";\n\tlet step = [];\n\tlet alt = \"\";\n\tlet totalcorrectans = 0;\n\tlet borderclass = \"\";\n\tlet borderclassname = 'img-bordered';\n\tlet container_id = 'dndmainPreview';\n\tlet moduleType = 1;\n\tlet state = {};\n\n\t// writable for preview\n\tlet preview_store = writable({\n\t\txml: '',\n\t\tcheck: \"checked\",\n\t\ttotalcorrectans: \"\",\n\t\treview : false,\n\t\tdata: [],\n\t})\n\n\t// subscribing to the store\n\tconst unsubscribe = preview_store.subscribe(value => {\n\t\tstate = value;\n\t});\n\n\t// this is called for the first time use for binding the events\n\tonMount( function() {\n\t\tif (window.inNative) {\n\t\t\tif (typeof window.getHeight == \"function\") {\t\n\t\t\t\twindow.getHeight && window.getHeight();\n\t\t\t}\n\t\t}\n\n\t\tif (xml) {\n\t\t\tAH.setCss( document.getElementById('dndsteps'), {\n\t\t\t\tdisplay: 'none'\n\t\t\t});\n\t\t}\n\n\t\tAH.listen(document, 'click', '.record', function(current_element) {\n\t\t\tif (!current_element.classList.contains('lab_disable'))\n            current_element.setAttribute(\"clicked\", 1);\n        });\n\n\t\tAH.listen('body', 'click', '#reviewUserAns', function() {\n\t\t\t// for your ans\n\t\t\tAH.selectAll('#sm_controller button', 'removeClass', 'active');\n\t\t\tAH.addClass('#sm_controller .your-ans', 'active');\n\t\t\tyourAnswer();\n\t\t});\n\n\t\tAH.listen('body', 'click', '#reviewCorrectAns', function() {\n\t\t\t// for correct ans\n\t\t\tAH.selectAll('#sm_controller button', 'removeClass', 'active');\n\t\t\tAH.addClass('#sm_controller .correct-ans', 'active');\n\t\t\tcorrectAnswer();\n\t\t});\n\n\t\tAH.listen(document, 'click', '#'+ container_id, function() {\n\t\t\tdisplayAns();\n\t\t});\n\n\t\tAH.listen(document, 'keyup', '#'+ container_id, function() {\n\t\t\tdisplayAns();\n\t\t});\n\n\t\tAH.listen(document, 'change', '#'+ container_id, function() {\n\t\t\tdisplayAns();\n\t\t});\n\n\t\tAH.listen(document, 'mouseup', '#'+ container_id, function() {\n\t\t\tdisplayAns();\n\t\t});\n\t\t\n\t\t// prevent to open context menu\n\t\tAH.bind('body', 'contextmenu', function(event) {\n\t\t\tevent.preventDefault()\n\t\t});\n\t\t\n\t})\n\n\t// call everytime when updating will happen\n\tafterUpdate(async() => {\n\t\t// if there is change in xml\n\t\tif (state.xml != xml) {\n\t\t\tloadModule(xml);\n\t\t}\n\t\t// run only in case of editor no need to run it in case of preview\n\t\t// if (state.review != isReview && editorState ) { // Its creating issue in student area\n\t\tif (state.review != isReview ) {\n\t\t\tpreview_store.update( (item) => {\n\t\t\t\titem.review = isReview;\n\t\t\t\treturn item;\n\t\t\t});\n\t\t\tif (isReview) {\n\t\t\t\tdisplayAns();\n\t\t\t\tDND.modeOn(1);\n\t\t\t\tDND.showansdrag(\"#\" + container_id, 'u', 1);\n\t\t\t\tAH.selectAll('#sm_controller button', 'removeClass', 'active');\n\t\t\t\tAH.addClass('#sm_controller .your-ans', 'active');\n\t\t\t} else {\n\t\t\t\tDND.modeOn(0);\n\t\t\t}\n\t\t\t\n\t\t}\n\t});\n\n\t\n\n\t// for checking the answer and creating the user ans\n\tfunction displayAns() {\n\t\tlet result = DND.checkAns(\"#\"+ container_id);\n\t\tif (typeof(is_sm) != \"undefined\") AH.showmsg(result.ans ? \"Correct\" : \"Incorrect\", 3000);\n\t\tif (editorState) {\n\t\t\tshowAns(result.ans ? \"Correct\" : \"Incorrect\");\n\t\t}\n\t\tonUserAnsChange(result);\n\t}\n\n\t// call whenever there is change in xml and changes the module accordingly\n\tfunction loadModule(loadXml) {\n\t\tlet newXml = XMLToJSON(loadXml);\n\t\tparseXMLPreview(newXml);\n\t\ttotalcorrectans = setTotalCorrectAns(newXml);\n\t\tpreview_store.update( (item) => {\n\t\t\titem.xml = loadXml;\n\t\t\titem.totalcorrectans = totalcorrectans;\n\t\t\titem.data = loadNestedModule(newXml);\n\t\t\treturn item;\n\t\t});\n\n\t\tcheckImages();\n\t\trefreshModule();\n\t}\n\n\t// whenever the module will refresh means there is change in xml it will called \n\tfunction refreshModule() {\n\t\tlet dnd_timeout = setTimeout(function() {\n\t\t\tDND.readyThis(\"#\"+ container_id);\n\t\t\tDND.showansdrag(\"#\" +container_id, 'u');\n\t\t\tif (isReview) {\n\t\t\t\t// if review mode is on\n\t\t\t\tdisplayAns(); // display the answe\n\t\t\t\tDND.modeOn(1); // for showing correct answer and your answer tab\n\t\t\t\tDND.showansdrag(\"#\" + container_id, 'u', 1);\n\t\t\t\tAH.selectAll('#sm_controller button', 'removeClass', 'active');\n\t\t\t\tAH.addClass('#sm_controller .your-ans', 'active');\n\t\t\t} else {\n\t\t\t\ttry {\n\t\t\t\t\tDND.modeOn(0);\n\t\t\t\t\tif (typeof(showAns) == 'undefined') {\n\t\t\t\t\t\tdisplayAns();\n\t\t\t\t\t}\n\t\t\t\t} catch (err) {\n\t\t\t\t\tconsole.warn({err: err});\n\t\t\t\t}\n\t\t\t}\n\t\t\tclearTimeout(dnd_timeout);\n\t\t}, 500);\n\t}\n\n\t// parse the xml for preview\n\tfunction parseXMLPreview(MYXML) {\n\t\ttry {\n\t\t\t// getting he required data\n\t\t\tQXML = MYXML;\n\t\t\tbgImg = MYXML.smxml._bgimg;\n\t\t\tmoduleType = MYXML.smxml._type || 1;\n\t\t\talt = (MYXML.smxml._alt) ? MYXML.smxml._alt : \"\";\n\t\t\timgHeight = MYXML.smxml._height;\n\t\t\timgWidth = MYXML.smxml._width;\n\t\t\tborderclass = (MYXML.smxml._borderrequired == 1) ? borderclassname : '';\n\t\t\tstep = MYXML.smxml.step;\n\t\t\tif (Array.isArray(step) == false && step) {\n\t\t\t\tstep = [];\n\t\t\t\tstep[0] = QXML.smxml.step;\n\t\t\t}\n\t\t} catch (error) {\n            console.warn({\n\t\t\t\terror,\n\t\t\t\tfun: 'parseXMLPreview',\n\t\t\t\tfile: 'DragNDropPreview.svelte'\n\t\t\t});\n\t\t}\n\t}\n\n\t// setting the container height and width on the basis of image height and width\n\tfunction checkImages(is_image_load) {\t\t\n\t\tlet container = document.querySelectorAll(\"#\" + container_id + \" img\");\n\t\tif (container.length > 0) {\n\t\t\tcontainer.forEach(function (value) {\n\t\t\t\tif (value.complete) {\n\t\t\t\t\tlet originalHeight = value.clientHeight > value.naturalHeight ? value.clientHeight : value.naturalHeight;\n\t\t\t\t\tlet originalWidth = value.clientWidth > value.naturalWidth ? value.clientWidth : value.naturalWidth;\n\t\t\t\t\tif (Number(originalWidth) != 0 || Number(originalHeight) != 0 || (typeof from_myproject != \"undefined\" && from_myproject ==  1)) {\n\t\t\t\t\t\tAH.setCss(\"#\" + container_id, {\n\t\t\t\t\t\t\theight: ((imgHeight && imgHeight >= originalHeight) ? imgHeight : originalHeight) + \"px\",\n\t\t\t\t\t\t\twidth: ((imgWidth && imgWidth >= originalWidth) ? imgWidth : originalWidth) + \"px\"\n\t\t\t\t\t\t})\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t})\n\t\t}\n\t\tif (is_image_load == 1 || is_image_load == 2) {\n\t\t\timage_loaded = 1;\n\t\t\tif (window.inNative) {\n\t\t\t\twindow.postMessage(`height___${ AH.select(\"#\" + container_id+\">img\").naturalHeight }`)\n\t\t\t}\n\t\t\trefreshModule();\n\t\t}\n\t}\n\n\t// for getting the total no of correct answers\n\tfunction setTotalCorrectAns(qXml) {\n\t\tvar item = qXml ? qXml.smxml : null;\n\t\tvar count = 0;\n\t\t// if there is xml\n\t\tif(item) {\n\t\t\t// iterating throgh the xml and store the elements in item \n\t\t\tfor (let i in item) {\n\t\t\t\tif (Array.isArray(item[i]) == false) {\n\t\t\t\t\tlet arr = [];\n\t\t\t\t\tarr.push(item[i]);\n\t\t\t\t\titem[i] = arr;\n\t\t\t\t}\n\t\t\t}\n\t\t\t/** Counting the total length of the element **/\n\t\t\tif (item['drop']) {\n\t\t\t\tcount = count+item['drop'].length;\n\t\t\t}\n\t\t\tif (item['select']) {\n\t\t\t\tcount = count+item['select'].length;\n\t\t\t}\n\t\t\tif (item['textbox']) {\n\t\t\t\tcount = count+item['textbox'].length;\n\t\t\t}\n\t\t\tif (item['checkbox']) {\n\t\t\t\tcount = count+item['checkbox'].length;\n\t\t\t}\n\t\t\tif (item['radio']) {\n\t\t\t\titem['radio'].map(function(data) {\n\t\t\t\t\tif(parseInt(data._correctans) == 1) {\n\t\t\t\t\t\tcount = count+1;\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t\tif (item['hotspot']) {\n\t\t\t\titem['hotspot'].map(function(data) {\n\t\t\t\t\tlet innerText = JSON.parse(((data.__text)?data.__text:data.__cdata));\n\t\t\t\t\tcount = count+Object.keys(innerText).length;\n\t\t\t\t})\n\t\t\t}\n\n\t\t\tif (item['jscript']) {\n\t\t\t\ttry {\n\t\t\t\t\teval.call(window, item['jscript'][0]);\n\t\t\t\t} catch (e) {\n\t\t\t\t\tconsole.warn(e);\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn count;\n\t\t}\n\t}\n\n\t// convert object to lower case\n\tfunction objToLower(obj) {\n\t\tlet newX = {};\n\t\tfor ( let index in obj ) {\n\t\t\tnewX[index.toLowerCase()] = obj[index];\n\t\t}\n\t\treturn newX;\n\t}\n\n\t// return the data of the nested module according to the xml\n\tfunction loadNestedModule(qXml) {\n\t\tvar smxml = qXml ? qXml.smxml : null;\n\t\tvar customDrag = [], customDrop = [];\n\t\tif (smxml) {\n\t\t\tif (smxml.div) {\n\t\t\t\tsmxml.div.map(function(data,i){\n\t\t\t\t\tdata = objToLower(data);\n\t\t\t\t\tif (data._anskey == \"\" || data._anskey == undefined) {\n\t\t\t\t\t\t/*added this condition because key was diffrent with id*/\n\t\t\t\t\t\tif (data._key.indexOf(\"key\") <= -1) {\n\t\t\t\t\t\t\tdata._id = \"ID\"+data._key;\n\t\t\t\t\t\t\tdata._key = \"key\"+data._key;\n\t\t\t\t\t\t}\n\t\t\t\t\t\t/********/\n\t\t\t\t\t\tcustomDrag.push(data);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tlet id = data._id.split(\"ID\");\n\t\t\t\t\t\t/*added this condition because key was diffrent with id*/\n\t\t\t\t\t\tif (data._key.indexOf(\"key\") <= -1) {\n\t\t\t\t\t\t\tdata._id = \"ID\"+data._key;\n\t\t\t\t\t\t\tdata._key = \"key\"+data._key;\n\t\t\t\t\t\t\tdata._anskey = \"ID\"+data._anskey;\n\t\t\t\t\t\t\t/********/\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tlet key = data._key.split(\"key\");\n\t\t\t\t\t\t\tif (id[1] == key[1]) {\n\t\t\t\t\t\t\t\tlet k = data._anskey.split(\"key\");\n\t\t\t\t\t\t\t\tlet k2 = k[1];\n\t\t\t\t\t\t\t\tif (k2) data._anskey = \"ID\"+k2;\n\t\t\t\t\t\t\t} else if (parseInt(id[1]) != parseInt(key[1])) {\n\t\t\t\t\t\t\t\tif (data._anskey.indexOf(\"ID\") <= -1) {\n\t\t\t\t\t\t\t\t\tdata._anskey = \"ID\"+key[1];\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tcustomDrop.push(data);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\n\t\t\treturn [smxml, customDrag, customDrop];\n\t\t}\n\t}\n\n\t// for the correct answer\n\tfunction correctAnswer() {\n\t\tDND.showansdrag('#'+container_id, 'c',1);\n\t}\n\n\t// for showing the user ans\n\tfunction yourAnswer() {\n\t\tDND.showansdrag('#'+container_id, 'u',1);\n\t}\n\n\t// call on the setreview function\n\tfunction setReview() {\n\t\tdisplayAns();\n\t\tisReview = true;\n\t\tDND.modeOn(1);\n\t}\n\n\t// unset review function\n\tfunction unsetReview() {\n\t\tisReview = false;\n\t\tDND.modeOn(0);\n\t}\n\n\t// for changing the load stte\n\tfunction changeLoadState() {\n        AH.select('#pre_sample_image').remove();\n        image_loaded = 1;\n\t}\n</script>\n\n<div>\n\t<ItemHelper \n\t\ton:setReview = {setReview}\n\t\ton:unsetReview = {unsetReview}\n\t/>\n\t\n\t<div id=\"dndsteps\" class=\"h\" >\n\t\t<input id=\"base\" type=\"radio\" on:click={() => DND.setStep('base')} defaultValue=\"1\" defaultChecked name=\"rbs\" class=\"baseradio dndradio\" /> \n\t\t{l.base_steps}\n\t\t{#if step && step.length}\n\t\t\t{#each step as data, index}\n\t\t\t\t<span key={index}>\n\t\t\t\t\t<input \n\t\t\t\t\t\tid={\"step_dnd\" + data._id} \n\t\t\t\t\t\ttype=\"radio\" \n\t\t\t\t\t\ton:click={() => DND.setStep(\"dnd\" + data._id)} \n\t\t\t\t\t\tdefaultValue=\"1\" \n\t\t\t\t\t\tname=\"rbs\" \n\t\t\t\t\t\tclass=\"baseradio dndradio\" \n\t\t\t\t\t/>\n\t\t\t\t\t{\"dnd\" + data._id}\n\t\t\t\t</span>\n\t\t\t{/each}\n\t\t{/if}\t\n\t</div>\n\n\t<center>\n\t\t<div class=\"btn-group mb-xl clearfix review h mb-3\" id=\"sm_controller\">\n\t\t\t<button \n\t\t\t\ttype=\"button\" \n\t\t\t\tclass=\"btn btn-light correct-ans\" \n\t\t\t\tid=\"reviewCorrectAns\" \n\t\t\t>{l.correct_answer}</button>\n\t\t\t<button \n\t\t\t\ttype=\"button\" \n\t\t\t\tclass=\"btn active your-ans btn-light\" \n\t\t\t\tid=\"reviewUserAns\" \n\t\t\t\tstyle=\"margin-left:-4px;\"\n\t\t\t>\n\t\t\t\t{l.your_answer}\n\t\t\t</button>\n\t\t</div>\n                    \n\t\t<div\n\t\t\tid={container_id}\n\t\t\tzoom=\"\"\n\t\t\ttotalcorrectans = {totalcorrectans}\n\t\t\tclass=\"container_div\"\n\t\t>\n\t\t\t{#if bgImg}\n\t\t\t\t<img on:error={(e)=>{e.target.onerror = null; e.target.src=\"https://s3.amazonaws.com/jigyaasa_content_static/\" + bgImg}} height={imgHeight+\"px\"} width={imgWidth+\"px\"} src={window.inNative ? \"____s3.amazonaws.com__jigyaasa_content_static__\"+bgImg.replace(/\\//g,'__') : \"https://s3.amazonaws.com/jigyaasa_content_static/\"+bgImg} class={borderclass} alt={alt ? alt : l.sample_img} on:load={() => {checkImages(1)}}/>\n\t\t\t{:else}\n                <img id=\"pre_sample_image\" src=\"https://s3.amazonaws.com/jigyaasa_content_static/bg_000PLn.png\" alt=\"{l.sample_img}\" on:load={changeLoadState}/>\n            {/if}\n\n\t\t\t{#if state.data && image_loaded}\n\t\t\t\t<DragPreview modules={state.data[0].drag} containerID={container_id} />\n\t\t\t\t<DragPreview modules={state.data[1]} containerID={container_id} />\n\t\t\t\t<DropPreview modules={state.data[0].drop} containerID={container_id} uxml={uxml}/>\n\t\t\t\t<DropPreview modules={state.data[2]} containerID={container_id} uxml={uxml}/>\n\t\t\t\t<SelectPreview modules={state.data[0].select} containerID={container_id}  uxml={uxml}/>\n\t\t\t\t<TextboxPreview modules={state.data[0].textbox} containerID={container_id} uxml={uxml}/>\n\t\t\t\t<RadioPreview modules={state.data[0].radio} containerID={container_id} uxml={uxml}/>\n\t\t\t\t<MultilineboxPreview modules={state.data[0].multilinebox} containerID={container_id} uxml={uxml} />\n\t\t\t\t<CheckboxPreview modules={state.data[0].checkbox} containerID={container_id} uxml={uxml} />\n\t\t\t\t<TabheadPreview modules={state.data[0].tabhead} containerID={container_id} />\n\t\t\t\t<LabelPreview modules={state.data[0].label} containerID={container_id} />\n\t\t\t\t<HotspotPreview modules={state.data[0].hotspot} module_type={moduleType} containerID={container_id} uxml={uxml} />\n\t\t\t\t<MenulistPreview modules={state.data[0].menulist} containerID={container_id} />\n\t\t\t\t<ButtonPreview modules={state.data[0].button} containerID={container_id} />\n\t\t\t\t<StepPreview modules={state.data[0].step} containerID={container_id} {checkImages} uxml={uxml}/>\n\t\t\t\t<TabPreview modules={state.data[0].tab} containerID={container_id} {checkImages} uxml={uxml}/>\n\t\t\t\t{#if state.data[0].hotspot}\n\t\t\t\t\t<img class=\"targetImg\" tabindex=\"0\" alt=\"target_img\" src={window.itemFolder +\"images/target.png\"} style=\"display: none\" />\n\t\t\t\t{/if}\n\t\t\t{/if}\n\t\t</div>\n\t</center>\n</div>\n\n<style>\n\t#dndsteps {\n\t\ttext-align: center;\n\t\tborder: 1px solid #999999;\n\t\tbackground-color: #DDDDDD;\n\t\twidth: 100%;\n\t}\n\t:global(#sm_controller) {\n        margin-top: 20px;\n        display: none;\n    }\n\t:global(.correct_incorrect_icon) {\n\t\tz-index: 9 !important;\n\t}\n\t:global(input.dnd_textbox) {\n\t\ttext-align: center;\n\t\tborder-radius: 4px;\n\t\tbackground-color: #fff;\n\t\tborder: 1px solid #ccc;\n\t\tborder-radius: 4px;\n\t}\n</style>"],"names":["jsSwal","swal","elemId","result","stepsPreview","dragstore","user_points","DND","is_all_correct","ctx","length","_type","_id","_custom_class","_correctans","_userans","_defaultans","_placeholder","_nocase","_ismultipleanswer","_top","_left","_height","_width","modules","containerID","uxml","textbox_data","textbox","afterUpdate","map","data","eventArr","container","document","querySelector","forEach","value","index","new_container","querySelectorAll","element","removeAttribute","Object","keys","key","evt","replace","trim","includes","setAttribute","Array","isArray","uaXML","XMLToJSON","smans","div","uans","j","_userAns","prevent_dialog","window","storage","store","obj","val","this","state","arguments","remove","browser","msie","version","navigator","userAgent","match","RegExp","$1","sqlparser","sql","type","ret","matches","i","opt","substr","indexOf","split","push","toLowerCase","String","prototype","toString","setStep","tabname","dndid","tabname_element","tabname_closest","closest","getAttribute","new_element","AI","find","setCss","display","dnd_element","select","dnd_find_element","selectAll","element_list","parentElement","wrapInner","parent","wrapper","attribute","attributevalue","createElement","appendChild","firstChild","error","console","warn","activate","spinner","className","loading","body","getElementsByClassName","readyThis","dndid_element","elements_list","class","input","id","min","max","append","insertBefore","listen","zoom_element","event","classList","contains","targetimg_element","target","top","Math","round","pageY","offset","offsetHeight","pageYOffset","left","pageX","pageXOffset","clone_element","clone","add","position","insertAfter","last_id","tgElem","current_id","next_elem_id","next_elem_store","rmTg","tmp_target","hustr","hId","offsetTop","offsetLeft","offsetWidth","checkAns","drop_image","bgimage","insert","droppable","source","dataset","droped","draggable","Draggable","onDrag","clientY","scrollTo","scrollY","innerHeight","clientX","onDragStart","img","style","backgroundImage","width","height","Image","src","copied_node","cloneNode","zIndex","onDrop","copied","backgroundColor","setProperty","opacity","drop_id","innerText","setTimeout","isRevert","showmsg","alt","content","onchange","checked","close","label","text","timer","buttons","onRemove","cursor","onOver","hoverImg","e","onOut","search","ajax","url","baseUrl","lab_detail","longUrl","then","response","innerHTML","getBS","show","nodeName","toggleImg","enable","tabMove","ks_element","focus_index","focus","checkContainment","extra_top","extra_left","parseInt","bindKeyUp","dndid_elements","count","copied_id","ee","action","actionData","elements","byTop","filter","second_filter","call","elm","sort","prop","prop2","a","b","filter_a","filter_b","filter_c","filter_d","focusFirst","elem","first_child","children","focusLast","last_child","checkFocus","list","is_focus","focus_el","focus_id","moveTargetImg","hotspot_test","tmp_index","setHotspotans","activateKs","ks","hotspot_this","child","sub_index","clonenode","hotSpotKeyboard","ks_length","ks_fill","navigateDown","copyDraggable","copy_drag","pasteDraggable","dropthis","ui_drag","setAttr","userans","data-droped","data-userans","data-path","data-dropimage","data-dragimage","draging","droping","hotkeys","unbind","handler","preventDefault","focus_element","ks_last_element","removethis","dropedNode","check_ans_timer","clearTimeout","removeDraggable","setScope","current","keyCode","last_element","first_element","which","shiftKey","blur","listenAll","calcArea","coords","maxX","minX","Infinity","maxY","minY","x","y","getCorrect","pElem","is_correct","cans","showansdrag","ansType","review","tab_pane_div","cur_element","drag_resize","drag_index","drag_element","overflow","dnd_test","test_index","showchildansdrag","dropables","droppedElem","rect","getBoundingClientRect","scrollTop","scrollLeft","JSON","parse","hs_item","user_ans_index","selected","targetimg","hcpos","ans_attr","already_filled_ans","matched_ans","user_pointsBgDropUrl","anskey","selector","anskey_element","user_ans","ansKey","droppable_element","step_display","sel","Nmuber","Number","childrens","total_correct","compare_index","options","default_value","testText","anstest","correct_incorrect_mark","disabled","markUserAnswerChoiceMatrix","markUserAnswer","insertAdjacentHTML","droped_value_indicator_html","inNative","userAnsXML","checkChildAnswer","getHeight","calculatePoint","postMessage","stringify","userAnswers","inNativeIsCorrect","uXml","ans","answer_points","result_array","dnd_element_dropable","compareArray","disabledstring","current_element","uAnsSel","totalcorrect","givenanswer","correctansarray","values","correct_val","text_val","areaToggle","parser","v","tree","branch","matchedBranch","modeOn","modeType","unBindLab","addClass","bindLab","select_elements","input_type","opt_index","pointerEvents","select_items","textBoxAlignment","textAlign","isNaN","clearText","find_element","err","addEventListener","dnd_textbox","_this","caption","bgcolor","multi_drag","dragimage","dropimage","border","validColor","_bgcolor","_invisible","bgImage","str","drag","drag_value","_bordercolor","_value","_multi_drag","_image","_border_color","setUserAns","defaultans","dropPreview","drop_data","_anskey","slice","_border","correctans","select_data","option","__text","option_data","charAt","checktype","name","radio_data","radio","_checktype","_name","classes","__cdata","placeholder","nocase","multilinebox_data","multilinebox_preview","crt","_parser","checkbox_data","checkbox","styles","tabhead_data","tabhead","styling","changeStyletoString","assign","stylesheet","new_property","addInlineStyle","_style","_class","parahtml","paraStyle","label_preview_data","labelPreview","_border_size","background_color","_background_color","para_styling","_label_class","addParaStyle","htmlEnt","_richtext","AH","ignoreEnity","_title","dec","fromCharCode","bgimg","Date","now","module_type","hotspot_data","hotspot","module_height","div_height","inner_component","_bgimg","menulist_item","getTop","rowCount","row","parseFloat","getLeft","colCount","col","getWidth","menulist_data","menulist_preview","menuEvent","matrix","clck","getClick","_matrix","row_loop","col_loop","click_event","menu_data","button_preview_data","button_preview","_display","_alt","drop","menulist","checkImages","tab_pills_preview","tab","tab_preview","multilinebox","button","step","onerror","l","sample_img","container_id","itemFolder","base_steps","correct_answer","your_answer","xml","isReview","showAns","editorState","QXML","image_loaded","bgImg","imgHeight","imgWidth","totalcorrectans","borderclass","moduleType","preview_store","writable","check","subscribe","displayAns","is_sm","onUserAnsChange","refreshModule","dnd_timeout","is_image_load","complete","originalHeight","clientHeight","naturalHeight","originalWidth","clientWidth","naturalWidth","from_myproject","onMount","getElementById","bind","loadXml","newXml","MYXML","smxml","_borderrequired","fun","file","parseXMLPreview","qXml","item","arr","eval","setTotalCorrectAns","update","customDrag","customDrop","newX","objToLower","undefined","_key","k2","loadNestedModule","loadModule"],"mappings":"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"}