{"version":3,"file":"mcqHelper-2d4e62df.js","sources":["../../../clsSMMultipleChoice/mcqHelper.svelte"],"sourcesContent":["<script context=\"module\">\n    const alphabet = 'A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W,X,Y,Z'.split(',');\n    export const itemHelper = {\n        doNotformatXml: function(type, xml) {\n            return (+type == 0) ? '' : xml;\n        },\n        donNotSendXMl: true,\n        checkDataOnSave: function(data, content_subtype, state, updateModule) {\n            // let ansstr = \"\";\n            // let arr = [];\n            // Object.values(state.ajaxData.answers).map((item, index) => {\n            //     let option = (item.is_correct == \"1\") ? \"*\" : '-';\n            //     ansstr += '[[Option' + option + alphabet[index] + ': ' + seqTag(item.answer) + \"\\n\";\n            //     arr = removeBogus(ansstr);\n            // });\n            data['correct_answers'] = state.ajaxData.correct_answers;\n            data['total_answers'] = state.ajaxData.total_answers;\n            data['answers'] = state.ajaxData.answers;\n            return data;\n        },\n        actionOnUpdate: function(state) {\n            if (state.content_type == \"q\" && state.item == 0 && state.content_icon == 0) {\n                jQuery('#xmlBtn').addClass(\"h\");\n            } else {\n                jQuery('#xmlBtn').removeClass(\"h\");\n            }\n        },\n        checkBeforeSave: function(state, updateModule) {\n            let checkOptionSelection = JSON.stringify(state.ajaxData.answers).match(/\"is_correct\":\"[1-9]\"/);\n            if (checkOptionSelection == null) {\n                updateModule('message',\"You must select a option\");\n                updateModule('saveDialog',false);\n                updateModule('snackback',true);\n                return true;\n            }\n            return false;\n        },\n        helpVideo: '//player.vimeo.com/external/290348936.hd.mp4?s=a13a32bc22efff0e3b2813f64ee52ab6413166ea',\n\n    };\n\n    function removeBogus(data) {\n        if (data) {\n            data = data.replace(/<span data-mce-bogus[^>]*>/g, '');\n            data = data.replace(/<span anscounter[^>]*>(.*?)<\\/span>/g, (p1, p2) => {\n                return p2;\n            });\n        }\n\n        return data;\n    }\n</script>"],"names":["itemHelper","doNotformatXml","type","xml","donNotSendXMl","checkDataOnSave","data","content_subtype","state","updateModule","ajaxData","correct_answers","total_answers","answers","[object Object]","content_type","item","content_icon","jQuery","addClass","removeClass","checkBeforeSave","JSON","stringify","match","helpVideo"],"mappings":"2DAEiBA,GACTC,eAAc,CAAWC,EAAMC,IACV,IAARD,EAAa,GAAKC,EAE/BC,eAAe,EACfC,gBAAe,CAAWC,EAAMC,EAAiBC,EAAOC,KAQpDH,EAAsB,gBAAIE,EAAME,SAASC,gBACzCL,EAAoB,cAAIE,EAAME,SAASE,cACvCN,EAAc,QAAIE,EAAME,SAASG,QAC1BP,GAEXQ,eAAyBN,GACK,KAAtBA,EAAMO,cAAqC,GAAdP,EAAMQ,MAAmC,GAAtBR,EAAMS,aACtDC,OAAO,WAAWC,SAAS,KAE3BD,OAAO,WAAWE,YAAY,MAGtCC,gBAAe,CAAWb,EAAOC,IAED,MADDa,KAAKC,UAAUf,EAAME,SAASG,SAASW,MAAM,0BAEpEf,EAAa,UAAU,4BACvBA,EAAa,cAAa,GAC1BA,EAAa,aAAY,IAClB,GAIfgB,UAAW"}