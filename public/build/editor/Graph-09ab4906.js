import{G as JUI,$ as Lang,S as SvelteComponent,i as init,s as safe_not_equal,e as element,u as text,h as insert,j as append,x as set_data,o as detach,b as space,f as attr,g as set_style,r as noop,l as listen,c as create_component,m as mount_component,t as transition_in,a as transition_out,d as destroy_component,E as beforeUpdate,A as AH,p as onMount,a0 as swal,a1 as afterUpdate,X as XMLToJSON,w as writable}from"./main-a30cdebc.js";const JS=new JUI;let isPointDraw=!0,GRAPH_AUTH={};function create_if_block(e){let t,a,l=e[0].association+"";return{c(){t=element("option"),a=text(l),t.disabled="disabled",t.__value="association",t.value=t.__value},m(e,l){insert(e,t,l),append(t,a)},p(e,t){1&t&&l!==(l=e[0].association+"")&&set_data(a,l)},d(e){e&&detach(t)}}}function create_fragment(e){let t,a,l,n,s,o,i,r,p,d,c,u,m,f,h,_,b,g,v,x,A,y,H,S,J,P,k,w,G,R,T,U,L,q,X,C,E,M,I,Y,D,j,O,$,F,z,N,B,V,W,Z,K,Q,ee,te,ae,le,ne,se,oe,ie,re,pe,de,ce,ue,me,fe,he,_e,be,ge,ve,xe,Ae,ye,He,Se,Je,Pe,ke,we,Ge,Re,Te,Ue,Le,qe,Xe,Ce,Ee,Me,Ie,Ye,De,je,Oe,$e,Fe,ze,Ne,Be,Ve,We,Ze,Ke,Qe,et,tt,at,lt,nt,st,ot,it,rt,pt,dt,ct,ut,mt,ft,ht,_t,bt,gt,vt,xt,At,yt,Ht,St,Jt,Pt,kt,wt,Gt,Rt,Tt,Ut,Lt,qt,Xt,Ct,Et,Mt,It,Yt,Dt,jt,Ot,$t,Ft,zt,Nt,Bt,Vt,Wt,Zt,Kt,Qt,ea,ta,aa,la,na,sa,oa,ia,ra,pa,da,ca,ua,ma,fa,ha,_a,ba,ga,va,xa,Aa,ya,Ha,Sa,Ja,Pa,ka,wa,Ga,Ra,Ta,Ua,La,qa,Xa,Ca,Ea,Ma,Ia,Ya,Da,ja,Oa,$a,Fa,za,Na,Ba,Va,Wa,Za,Ka,Qa,el,tl,al,ll,nl,sl,ol,il,rl,pl,dl,cl,ul,ml,fl,hl,_l,bl,gl,vl,xl,Al,yl,Hl,Sl,Jl,Pl,kl,wl,Gl,Rl,Tl,Ul,Ll,ql,Xl,Cl,El,Ml,Il,Yl,Dl,jl,Ol,$l,Fl,zl,Nl,Bl,Vl=e[0].plot_graph+"",Wl=e[0].width_label+"",Zl=e[0].height_label+"",Kl=e[0].type+"",Ql=e[0].point_graph+"",en=e[0].line_graph+"",tn=e[0].circle_graph+"",an=e[0].ray_graph+"",ln=e[0].segment_graph+"",nn=e[0].vector_graph+"",sn=e[0].parabola_graph+"",on=e[0].sine_graph+"",rn=e[0].cos_graph+"",pn=e[0].polygon_graph+"",dn=e[0].xaxis_label+"",cn=e[0].yaxis_label+"",un=e[0].xaxis_interval+"",mn=e[0].yaxis_interval+"",fn=e[0].inequality_num+"",hn=e[0].equation_type+"",_n=e[0].standard_form+"",bn=e[0].equation_type+"",gn=e[0].circle_form+"",vn=e[0].equation_type+"",xn=e[0].parabola_form+"",An=e[0].equation_type+"",yn=e[0].sin_form+"",Hn=e[0].equation_type+"",Sn=e[0].cos_form+"",Jn=e[0].polygon_type+"",Pn=e[0].matchlist_normal+"",kn=e[0].only_x+"",wn=e[0].only_y+"",Gn=e[0].both_xy+"",Rn=e[0].equation+"",Tn=e[0].fill_warning+"",Un=e[0].width_label1+"",Ln=e[0].height_label1+"",qn=e[0].type+"",Xn=e[0].number_line_association+"",Cn=e[0].numberline_plot+"",En=e[0].axis_label+"",Mn=e[0].reset+"",In=e[0].ok_btn+"",Yn=e[0].cancel+"",Dn=e[1]&&create_if_block(e);return{c(){t=element("div"),a=element("div"),l=element("div"),n=element("div"),s=element("div"),o=element("h4"),i=text(Vl),r=space(),p=element("button"),p.textContent="×",d=space(),c=element("div"),u=element("div"),m=element("div"),f=element("div"),h=element("div"),_=element("label"),b=element("div"),g=text(Wl),v=element("div"),x=space(),A=element("input"),H=space(),S=element("div"),J=element("div"),P=element("label"),k=element("div"),w=text(Zl),G=element("div"),R=space(),T=element("input"),L=space(),q=element("div"),X=element("div"),C=element("label"),E=element("div"),M=text(Kl),I=element("div"),Y=space(),D=element("select"),j=element("option"),O=text(Ql),$=element("option"),F=text(en),z=element("option"),N=text(tn),B=element("option"),V=text(an),W=element("option"),Z=text(ln),K=element("option"),Q=text(nn),ee=element("option"),te=text(sn),ae=element("option"),le=text(on),ne=element("option"),se=text(rn),oe=element("option"),ie=text(pn),Dn&&Dn.c(),re=space(),pe=element("input"),ce=space(),ue=element("div"),me=element("div"),fe=element("label"),he=element("div"),_e=text(dn),be=element("div"),ge=space(),ve=element("input"),Ae=space(),ye=element("div"),He=element("div"),Se=element("label"),Je=element("div"),Pe=text(cn),ke=element("div"),we=space(),Ge=element("input"),Te=space(),Ue=element("input"),qe=space(),Xe=element("div"),Ce=element("div"),Ee=element("label"),Me=element("div"),Ie=text(un),Ye=element("div"),De=space(),je=element("input"),$e=space(),Fe=element("div"),ze=element("div"),Ne=element("label"),Be=element("div"),Ve=text(mn),We=element("div"),Ze=space(),Ke=element("input"),et=space(),tt=element("div"),at=element("div"),lt=element("label"),nt=text(fn),st=space(),ot=element("div"),it=element("div"),rt=element("input"),pt=space(),dt=element("select"),ct=element("option"),ct.textContent="=",ut=element("option"),ut.textContent="<",mt=element("option"),mt.textContent=">",ft=element("option"),ft.textContent="≤",ht=element("option"),ht.textContent="≥",_t=space(),bt=element("input"),gt=space(),vt=element("select"),xt=element("option"),xt.textContent="=",At=element("option"),At.textContent="<",yt=element("option"),yt.textContent=">",Ht=element("option"),Ht.textContent="≤",St=element("option"),St.textContent="≥",Jt=space(),Pt=element("input"),kt=space(),wt=element("span"),wt.textContent="×",Gt=space(),Rt=element("label"),Rt.innerHTML='<i class="icomoon-plus"></i>',Tt=space(),Ut=element("div"),Lt=element("label"),qt=text(hn),Xt=space(),Ct=element("select"),Et=element("option"),Mt=text(_n),It=space(),Yt=element("div"),Dt=element("label"),jt=text(bn),Ot=space(),$t=element("select"),Ft=element("option"),zt=text(gn),Nt=space(),Bt=element("div"),Vt=element("label"),Wt=text(vn),Zt=space(),Kt=element("select"),Qt=element("option"),ea=text(xn),ta=space(),aa=element("div"),la=element("label"),na=text(An),sa=space(),oa=element("select"),ia=element("option"),ra=text(yn),pa=space(),da=element("div"),ca=element("label"),ua=text(Hn),ma=space(),fa=element("select"),ha=element("option"),_a=text(Sn),ba=space(),ga=element("div"),va=element("label"),xa=text(Jn),Aa=space(),ya=element("select"),Ha=element("option"),Sa=text(Pn),Ja=element("option"),Pa=text(kn),ka=element("option"),wa=text(wn),Ga=element("option"),Ra=text(Gn),Ta=space(),Ua=element("input"),qa=space(),Xa=element("div"),Ca=element("label"),Ea=element("div"),Ma=text(Rn),Ia=element("div"),Ya=space(),Da=element("input"),Oa=space(),$a=element("div"),Fa=text(Tn),za=space(),Na=element("div"),Ba=element("div"),Va=element("div"),Wa=element("div"),Za=element("label"),Ka=element("div"),Qa=text(Un),el=element("div"),tl=space(),al=element("input"),nl=space(),sl=element("div"),ol=element("div"),il=element("label"),rl=element("div"),pl=text(Ln),dl=element("div"),cl=space(),ul=element("input"),fl=space(),hl=element("div"),_l=element("div"),bl=element("label"),gl=element("div"),vl=text(qn),xl=element("div"),Al=space(),yl=element("select"),Hl=element("option"),Sl=text(Xn),Jl=element("option"),Pl=text(Cn),kl=space(),wl=element("div"),Gl=element("div"),Rl=element("label"),Tl=element("div"),Ul=text(En),Ll=element("div"),ql=space(),Xl=element("input"),El=space(),Ml=element("div"),Ml.innerHTML='<textarea id="code" class="w-100" name="jscript" style="height: 300px"></textarea>',Il=space(),Yl=element("div"),Dl=element("button"),jl=text(Mn),Ol=space(),$l=element("button"),Fl=text(In),zl=space(),Nl=element("button"),Bl=text(Yn),attr(o,"class","modal-title"),attr(p,"type","button"),attr(p,"class","close"),attr(p,"data-bs-dismiss","modal"),attr(s,"class","modal-header"),attr(b,"class","mendatory_label float-left"),attr(v,"class","mendatory_field"),attr(_,"class","control-label font-weight-normal mb-0 d-inline-flex"),attr(_,"for","graph-width"),attr(A,"type","text"),attr(A,"class","integer validate form-control"),attr(A,"id","graph-width"),attr(A,"name","width"),attr(A,"placeholder",y=e[0].graph_width),attr(A,"defaultvalue","500"),attr(h,"class","form-group text-left"),attr(f,"class","col-sm-3 px-1"),attr(k,"class","mendatory_label float-left"),attr(G,"class","mendatory_field"),attr(P,"class","control-label font-weight-normal mb-0 d-inline-flex"),attr(P,"for","graph-height"),attr(T,"type","text"),attr(T,"class","integer validate form-control"),attr(T,"id","graph-height"),attr(T,"name","height"),attr(T,"placeholder",U=e[0].graph_height),attr(T,"defaultvalue","500"),attr(J,"class","form-group text-left"),attr(S,"class","col-sm-3 px-1"),attr(E,"class","mendatory_label float-left"),attr(I,"class","mendatory_field"),attr(C,"class","control-label font-weight-normal mb-0 d-inline-flex"),attr(C,"for","graph-type"),j.__value="point",j.value=j.__value,$.__value="line",$.value=$.__value,z.__value="circle",z.value=z.__value,B.__value="ray",B.value=B.__value,W.__value="segment",W.value=W.__value,K.__value="vector",K.value=K.__value,ee.__value="parabola",ee.value=ee.__value,ae.__value="sine",ae.value=ae.__value,ne.__value="cosine",ne.value=ne.__value,oe.__value="polygon",oe.value=oe.__value,attr(D,"class","form-select select"),attr(D,"id","graph-type"),attr(D,"name","type"),attr(X,"class","form-group text-left"),attr(q,"class","col-sm-6 px-1"),attr(pe,"type","hidden"),attr(pe,"class","form-control"),attr(pe,"id","graph-id"),attr(pe,"name","id"),attr(pe,"placeholder",de=e[0].title),pe.value="ID0",attr(he,"class","mendatory_label float-left"),attr(be,"class","mendatory_field"),attr(fe,"class","control-label font-weight-normal mb-0 d-inline-flex"),attr(fe,"for","xaxis"),attr(ve,"type","text"),attr(ve,"class","form-control validate integer"),attr(ve,"id","xaxis"),attr(ve,"name","xaxis"),attr(ve,"placeholder",xe=e[0].xaxis_value),attr(ve,"min","2"),attr(ve,"defaultvalue","10"),attr(me,"class","form-group text-left"),attr(ue,"class","col-sm-3 px-1"),attr(Je,"class","mendatory_label float-left"),attr(ke,"class","mendatory_field"),attr(Se,"class","control-label font-weight-normal mb-0 d-inline-flex"),attr(Se,"for","yaxis"),attr(Ge,"type","text"),attr(Ge,"class","form-control validate integer"),attr(Ge,"id","yaxis"),attr(Ge,"name","yaxis"),attr(Ge,"placeholder",Re=e[0].yaxis_value),attr(Ge,"min","2"),attr(Ge,"defaultvalue","10"),attr(He,"class","form-group text-left"),attr(ye,"class","col-sm-3 px-1"),attr(Ue,"type","hidden"),attr(Ue,"id","graph-anskey"),attr(Ue,"name","anskey"),attr(Ue,"placeholder",Le=e[0].anskey),attr(Me,"class","mendatory_label float-left"),attr(Ye,"class","mendatory_field"),attr(Ee,"class","control-label font-weight-normal mb-0 d-inline-flex"),attr(Ee,"for","xtickdistance"),attr(je,"type","text"),attr(je,"class","form-control validate integer"),attr(je,"id","xtickdistance"),attr(je,"name","xtickdistance"),attr(je,"placeholder",Oe=e[0].xaxis_interval),attr(je,"min","1"),attr(je,"defaultvalue","1"),attr(Ce,"class","form-group text-left"),attr(Xe,"class","col-sm-3 px-1"),attr(Be,"class","mendatory_label float-left"),attr(We,"class","mendatory_field"),attr(Ne,"class","control-label font-weight-normal mb-0 d-inline-flex"),attr(Ne,"for","ytickdistance"),attr(Ke,"type","text"),attr(Ke,"class","form-control validate integer"),attr(Ke,"id","ytickdistance"),attr(Ke,"name","ytickdistance"),attr(Ke,"placeholder",Qe=e[0].yaxis_interval),attr(Ke,"min","1"),attr(Ke,"defaultvalue","1"),attr(ze,"class","form-group text-left"),attr(Fe,"class","col-sm-3 px-1"),attr(lt,"class","control-label font-weight-normal mb-0"),attr(rt,"type","text"),attr(rt,"class","text-center"),attr(rt,"defaultvalue",""),set_style(rt,"width","40px"),set_style(rt,"height","25px"),ct.__value="0",ct.value=ct.__value,ut.__value="1",ut.value=ut.__value,mt.__value="2",mt.value=mt.__value,ft.__value="3",ft.value=ft.__value,ht.__value="4",ht.value=ht.__value,attr(dt,"class","form-select"),set_style(dt,"height","25px"),attr(bt,"type","text"),attr(bt,"defaultvalue","x"),attr(bt,"class","text-center"),set_style(bt,"width","40px"),set_style(bt,"height","25px"),bt.readOnly="readonly",xt.__value="0",xt.value=xt.__value,At.__value="1",At.value=At.__value,yt.__value="2",yt.value=yt.__value,Ht.__value="3",Ht.value=Ht.__value,St.__value="4",St.value=St.__value,attr(vt,"class","form-select"),set_style(vt,"height","25px"),attr(Pt,"type","text"),attr(Pt,"defaultvalue",""),attr(Pt,"class","text-center"),set_style(Pt,"width","40px"),set_style(Pt,"height","25px"),attr(wt,"class","remove-eq h position-absolute right5"),attr(it,"class","position-relative p-1"),attr(ot,"class","plotEq"),attr(Rt,"id","add-equation"),attr(Rt,"class","add-equation btn btn-primary btn-xs pull-right mr-sm"),attr(Rt,"title","Add item"),attr(at,"class","numberlinePlot form-group text-left h"),attr(at,"id","numberlinePlot"),set_style(at,"border","1px solid #ccc"),attr(tt,"class","col-sm-12 px-1"),attr(Lt,"class","control-label font-weight-normal mb-0"),attr(Lt,"for","line-eq"),Et.__value="y=m*x+c",Et.value=Et.__value,attr(Ct,"class","form-select"),attr(Ct,"id","line-eq"),attr(Ct,"name","line-eq"),Ct.disabled="disabled",attr(Ut,"class","form-group equation_select col-sm-6 px-1 text-left h"),attr(Ut,"id","line"),attr(Dt,"class","control-label font-weight-normal mb-0"),attr(Dt,"for","circle-eq"),Ft.__value="(x-x1)^2 + (y-y1)^2 = r^2",Ft.value=Ft.__value,attr($t,"class","form-select"),attr($t,"id","circle-eq"),attr($t,"name","circle-eq"),$t.disabled="disabled",attr(Yt,"class","form-group equation_select col-sm-7 px-1 text-left h"),attr(Yt,"id","circle"),attr(Vt,"class","control-label font-weight-normal mb-0"),attr(Vt,"for","parabola-eq"),Qt.__value="y=a*(x-h)^2+k",Qt.value=Qt.__value,attr(Kt,"class","form-select"),attr(Kt,"id","parabola-eq"),attr(Kt,"name","parabola-eq"),Kt.disabled="disabled",attr(Bt,"class","form-group equation_select col-sm-6 px-1 text-left h"),attr(Bt,"id","parabola"),attr(la,"class","control-label font-weight-normal mb-0"),attr(la,"for","sine-eq"),ia.__value="y=A*sin(B*x+C)+D",ia.value=ia.__value,attr(oa,"class","form-select"),attr(oa,"id","sine-eq"),attr(oa,"name","sine-eq"),oa.disabled="disabled",attr(aa,"class","form-group equation_select col-sm-6 px-1 text-left h"),attr(aa,"id","sine"),attr(ca,"class","control-label font-weight-normal mb-0"),attr(ca,"for","cosine-eq"),ha.__value="y=A*cos(B*x+C)+D",ha.value=ha.__value,attr(fa,"class","form-select"),attr(fa,"id","cosine-eq"),attr(fa,"name","cosine-eq"),fa.disabled="disabled",attr(da,"class","form-group equation_select col-sm-6 px-1 text-left h"),attr(da,"id","cosine"),attr(va,"class","control-label font-weight-normal mb-0"),attr(va,"for","polygon_type"),Ha.__value="0",Ha.value=Ha.__value,Ja.__value="1",Ja.value=Ja.__value,ka.__value="2",ka.value=ka.__value,Ga.__value="3",Ga.value=Ga.__value,attr(ya,"class","form-select"),attr(ya,"id","polygon_type"),attr(ya,"name","polygon_type"),attr(Ua,"type","hidden"),attr(Ua,"id","reflection"),attr(Ua,"name","reflection"),attr(Ua,"placeholder",La=e[0].reflection),attr(ga,"class","form-group equation_select col-sm-6 px-1 text-left h"),attr(ga,"id","polygon"),attr(Ea,"class","mendatory_label float-left"),attr(Ia,"class","mendatory_field"),attr(Ca,"class","control-label font-weight-normal mb-0 d-inline-flex"),attr(Ca,"for","graph-equation"),attr(Da,"type","text"),attr(Da,"class","equation form-control"),attr(Da,"id","graph-equation"),attr(Da,"name","equation"),attr(Da,"placeholder",ja=e[0].equation),attr($a,"class","text-danger err-msg d-none"),attr(Xa,"class","form-group col-sm-6 px-1 text-left h eq d-none"),attr(m,"class","row mx-0"),attr(u,"class","graphitem plotgraph h"),attr(Ka,"class","mendatory_label float-left"),attr(el,"class","mendatory_field"),attr(Za,"class","control-label font-weight-normal mb-0 d-inline-flex"),attr(Za,"for","numberline-width"),attr(al,"type","text"),attr(al,"class","integer form-control"),attr(al,"id","numberline-width"),attr(al,"name","width"),attr(al,"placeholder",ll=e[0].graph_width),attr(al,"defaultvalue","420"),attr(Wa,"class","form-group text-left"),attr(Va,"class","col-sm-6 px-1"),attr(rl,"class","mendatory_label float-left"),attr(dl,"class","mendatory_field"),attr(il,"class","control-label font-weight-normal mb-0 d-inline-flex"),attr(il,"for","numberline-height"),attr(ul,"type","text"),attr(ul,"class","integer form-control"),attr(ul,"id","numberline-height"),attr(ul,"name","height"),attr(ul,"placeholder",ml=e[0].graph_height),attr(ul,"defaultvalue","250"),attr(ol,"class","form-group text-left"),attr(sl,"class","col-sm-6 px-1"),attr(gl,"class","mendatory_label float-left"),attr(xl,"class","mendatory_field"),attr(bl,"class","control-label font-weight-normal mb-0 d-inline-flex"),attr(bl,"for","numberline-type"),Hl.__value="numberline association",Hl.value=Hl.__value,Jl.__value="numberline plot",Jl.value=Jl.__value,attr(yl,"class","form-select select"),attr(yl,"id","numberline-type"),attr(yl,"name","type"),attr(_l,"class","form-group text-left"),attr(hl,"class","col-sm-6 px-1"),attr(Tl,"class","mendatory_label float-left"),attr(Ll,"class","mendatory_field"),attr(Rl,"class","control-label font-weight-normal mb-0 d-inline-flex"),attr(Rl,"for","axis"),attr(Xl,"type","text"),attr(Xl,"class","form-control"),attr(Xl,"id","axis"),attr(Xl,"name","axis"),attr(Xl,"placeholder",Cl=e[0].axis_label),attr(Xl,"defaultvalue","5"),attr(Gl,"class","form-group text-left"),attr(wl,"class","col-sm-6 px-1"),attr(Ba,"class","row mx-0"),attr(Na,"class","numberline h"),attr(Ml,"class","jscript h p-1"),attr(c,"class","modal-body overflow-y"),attr(Dl,"type","button"),attr(Dl,"class","btn btn-secondary resetElement"),attr($l,"type","button"),attr($l,"class","btn btn-secondary addElement"),attr(Nl,"type","button"),attr(Nl,"class","btn btn-light"),attr(Nl,"data-bs-dismiss","modal"),attr(Yl,"class","modal-footer"),attr(n,"class","modal-content"),attr(l,"class","modal-dialog modal-dialog-centered"),attr(a,"id","authoring-modal"),attr(a,"class","modal fade"),attr(a,"tabindex","-1")},m(e,y){insert(e,t,y),append(t,a),append(a,l),append(l,n),append(n,s),append(s,o),append(o,i),append(s,r),append(s,p),append(n,d),append(n,c),append(c,u),append(u,m),append(m,f),append(f,h),append(h,_),append(_,b),append(b,g),append(_,v),append(h,x),append(h,A),append(m,H),append(m,S),append(S,J),append(J,P),append(P,k),append(k,w),append(P,G),append(J,R),append(J,T),append(m,L),append(m,q),append(q,X),append(X,C),append(C,E),append(E,M),append(C,I),append(X,Y),append(X,D),append(D,j),append(j,O),append(D,$),append($,F),append(D,z),append(z,N),append(D,B),append(B,V),append(D,W),append(W,Z),append(D,K),append(K,Q),append(D,ee),append(ee,te),append(D,ae),append(ae,le),append(D,ne),append(ne,se),append(D,oe),append(oe,ie),Dn&&Dn.m(D,null),append(m,re),append(m,pe),append(m,ce),append(m,ue),append(ue,me),append(me,fe),append(fe,he),append(he,_e),append(fe,be),append(me,ge),append(me,ve),append(m,Ae),append(m,ye),append(ye,He),append(He,Se),append(Se,Je),append(Je,Pe),append(Se,ke),append(He,we),append(He,Ge),append(m,Te),append(m,Ue),append(m,qe),append(m,Xe),append(Xe,Ce),append(Ce,Ee),append(Ee,Me),append(Me,Ie),append(Ee,Ye),append(Ce,De),append(Ce,je),append(m,$e),append(m,Fe),append(Fe,ze),append(ze,Ne),append(Ne,Be),append(Be,Ve),append(Ne,We),append(ze,Ze),append(ze,Ke),append(m,et),append(m,tt),append(tt,at),append(at,lt),append(lt,nt),append(at,st),append(at,ot),append(ot,it),append(it,rt),append(it,pt),append(it,dt),append(dt,ct),append(dt,ut),append(dt,mt),append(dt,ft),append(dt,ht),append(it,_t),append(it,bt),append(it,gt),append(it,vt),append(vt,xt),append(vt,At),append(vt,yt),append(vt,Ht),append(vt,St),append(it,Jt),append(it,Pt),append(it,kt),append(it,wt),append(at,Gt),append(at,Rt),append(m,Tt),append(m,Ut),append(Ut,Lt),append(Lt,qt),append(Ut,Xt),append(Ut,Ct),append(Ct,Et),append(Et,Mt),append(m,It),append(m,Yt),append(Yt,Dt),append(Dt,jt),append(Yt,Ot),append(Yt,$t),append($t,Ft),append(Ft,zt),append(m,Nt),append(m,Bt),append(Bt,Vt),append(Vt,Wt),append(Bt,Zt),append(Bt,Kt),append(Kt,Qt),append(Qt,ea),append(m,ta),append(m,aa),append(aa,la),append(la,na),append(aa,sa),append(aa,oa),append(oa,ia),append(ia,ra),append(m,pa),append(m,da),append(da,ca),append(ca,ua),append(da,ma),append(da,fa),append(fa,ha),append(ha,_a),append(m,ba),append(m,ga),append(ga,va),append(va,xa),append(ga,Aa),append(ga,ya),append(ya,Ha),append(Ha,Sa),append(ya,Ja),append(Ja,Pa),append(ya,ka),append(ka,wa),append(ya,Ga),append(Ga,Ra),append(ga,Ta),append(ga,Ua),append(m,qa),append(m,Xa),append(Xa,Ca),append(Ca,Ea),append(Ea,Ma),append(Ca,Ia),append(Xa,Ya),append(Xa,Da),append(Xa,Oa),append(Xa,$a),append($a,Fa),append(c,za),append(c,Na),append(Na,Ba),append(Ba,Va),append(Va,Wa),append(Wa,Za),append(Za,Ka),append(Ka,Qa),append(Za,el),append(Wa,tl),append(Wa,al),append(Ba,nl),append(Ba,sl),append(sl,ol),append(ol,il),append(il,rl),append(rl,pl),append(il,dl),append(ol,cl),append(ol,ul),append(Ba,fl),append(Ba,hl),append(hl,_l),append(_l,bl),append(bl,gl),append(gl,vl),append(bl,xl),append(_l,Al),append(_l,yl),append(yl,Hl),append(Hl,Sl),append(yl,Jl),append(Jl,Pl),append(Ba,kl),append(Ba,wl),append(wl,Gl),append(Gl,Rl),append(Rl,Tl),append(Tl,Ul),append(Rl,Ll),append(Gl,ql),append(Gl,Xl),append(c,El),append(c,Ml),append(n,Il),append(n,Yl),append(Yl,Dl),append(Dl,jl),append(Yl,Ol),append(Yl,$l),append($l,Fl),append(Yl,zl),append(Yl,Nl),append(Nl,Bl)},p(e,[t]){1&t&&Vl!==(Vl=e[0].plot_graph+"")&&set_data(i,Vl),1&t&&Wl!==(Wl=e[0].width_label+"")&&set_data(g,Wl),1&t&&y!==(y=e[0].graph_width)&&attr(A,"placeholder",y),1&t&&Zl!==(Zl=e[0].height_label+"")&&set_data(w,Zl),1&t&&U!==(U=e[0].graph_height)&&attr(T,"placeholder",U),1&t&&Kl!==(Kl=e[0].type+"")&&set_data(M,Kl),1&t&&Ql!==(Ql=e[0].point_graph+"")&&set_data(O,Ql),1&t&&en!==(en=e[0].line_graph+"")&&set_data(F,en),1&t&&tn!==(tn=e[0].circle_graph+"")&&set_data(N,tn),1&t&&an!==(an=e[0].ray_graph+"")&&set_data(V,an),1&t&&ln!==(ln=e[0].segment_graph+"")&&set_data(Z,ln),1&t&&nn!==(nn=e[0].vector_graph+"")&&set_data(Q,nn),1&t&&sn!==(sn=e[0].parabola_graph+"")&&set_data(te,sn),1&t&&on!==(on=e[0].sine_graph+"")&&set_data(le,on),1&t&&rn!==(rn=e[0].cos_graph+"")&&set_data(se,rn),1&t&&pn!==(pn=e[0].polygon_graph+"")&&set_data(ie,pn),e[1]?Dn?Dn.p(e,t):(Dn=create_if_block(e),Dn.c(),Dn.m(D,null)):Dn&&(Dn.d(1),Dn=null),1&t&&de!==(de=e[0].title)&&attr(pe,"placeholder",de),1&t&&dn!==(dn=e[0].xaxis_label+"")&&set_data(_e,dn),1&t&&xe!==(xe=e[0].xaxis_value)&&attr(ve,"placeholder",xe),1&t&&cn!==(cn=e[0].yaxis_label+"")&&set_data(Pe,cn),1&t&&Re!==(Re=e[0].yaxis_value)&&attr(Ge,"placeholder",Re),1&t&&Le!==(Le=e[0].anskey)&&attr(Ue,"placeholder",Le),1&t&&un!==(un=e[0].xaxis_interval+"")&&set_data(Ie,un),1&t&&Oe!==(Oe=e[0].xaxis_interval)&&attr(je,"placeholder",Oe),1&t&&mn!==(mn=e[0].yaxis_interval+"")&&set_data(Ve,mn),1&t&&Qe!==(Qe=e[0].yaxis_interval)&&attr(Ke,"placeholder",Qe),1&t&&fn!==(fn=e[0].inequality_num+"")&&set_data(nt,fn),1&t&&hn!==(hn=e[0].equation_type+"")&&set_data(qt,hn),1&t&&_n!==(_n=e[0].standard_form+"")&&set_data(Mt,_n),1&t&&bn!==(bn=e[0].equation_type+"")&&set_data(jt,bn),1&t&&gn!==(gn=e[0].circle_form+"")&&set_data(zt,gn),1&t&&vn!==(vn=e[0].equation_type+"")&&set_data(Wt,vn),1&t&&xn!==(xn=e[0].parabola_form+"")&&set_data(ea,xn),1&t&&An!==(An=e[0].equation_type+"")&&set_data(na,An),1&t&&yn!==(yn=e[0].sin_form+"")&&set_data(ra,yn),1&t&&Hn!==(Hn=e[0].equation_type+"")&&set_data(ua,Hn),1&t&&Sn!==(Sn=e[0].cos_form+"")&&set_data(_a,Sn),1&t&&Jn!==(Jn=e[0].polygon_type+"")&&set_data(xa,Jn),1&t&&Pn!==(Pn=e[0].matchlist_normal+"")&&set_data(Sa,Pn),1&t&&kn!==(kn=e[0].only_x+"")&&set_data(Pa,kn),1&t&&wn!==(wn=e[0].only_y+"")&&set_data(wa,wn),1&t&&Gn!==(Gn=e[0].both_xy+"")&&set_data(Ra,Gn),1&t&&La!==(La=e[0].reflection)&&attr(Ua,"placeholder",La),1&t&&Rn!==(Rn=e[0].equation+"")&&set_data(Ma,Rn),1&t&&ja!==(ja=e[0].equation)&&attr(Da,"placeholder",ja),1&t&&Tn!==(Tn=e[0].fill_warning+"")&&set_data(Fa,Tn),1&t&&Un!==(Un=e[0].width_label1+"")&&set_data(Qa,Un),1&t&&ll!==(ll=e[0].graph_width)&&attr(al,"placeholder",ll),1&t&&Ln!==(Ln=e[0].height_label1+"")&&set_data(pl,Ln),1&t&&ml!==(ml=e[0].graph_height)&&attr(ul,"placeholder",ml),1&t&&qn!==(qn=e[0].type+"")&&set_data(vl,qn),1&t&&Xn!==(Xn=e[0].number_line_association+"")&&set_data(Sl,Xn),1&t&&Cn!==(Cn=e[0].numberline_plot+"")&&set_data(Pl,Cn),1&t&&En!==(En=e[0].axis_label+"")&&set_data(Ul,En),1&t&&Cl!==(Cl=e[0].axis_label)&&attr(Xl,"placeholder",Cl),1&t&&Mn!==(Mn=e[0].reset+"")&&set_data(jl,Mn),1&t&&In!==(In=e[0].ok_btn+"")&&set_data(Fl,In),1&t&&Yn!==(Yn=e[0].cancel+"")&&set_data(Bl,Yn)},i:noop,o:noop,d(e){e&&detach(t),Dn&&Dn.d()}}}function instance(e,t,a){let{l:l}=t,{is_association:n}=t;return e.$$set=e=>{"l"in e&&a(0,l=e.l),"is_association"in e&&a(1,n=e.is_association)},[l,n]}GRAPH_AUTH.isValid=!0,GRAPH_AUTH.stopUpdate=!1,GRAPH_AUTH.visible_class="",GRAPH_AUTH.storage={store:function(e,t,a){if(!e)return this.state;if(!t)return e in this.state?this.state[e]:{};if(arguments.length<3){if(!(e in this.state))return;return this.state[e][t]}e in this.state||(this.state[e]={}),this.state[e][t]=a},remove:function(e){this.state[e]&&delete this.state[e]},state:{}},GRAPH_AUTH.initGraph=function(){let e;if(JS.select("#special_module_xml").value.indexOf("smxml")>-1){JS.select("#special_module_xml").value&&""!=JS.select("#special_module_xml").value.trim()&&GRAPH_AUTH.bind_data(JS.parseHtml(JS.select("#special_module_xml").value));let t=JS.selectAll("#mthmain [type]");for(let a=0;a<t.length;a++)if(e=GRAPH_AUTH.setInAssoc(GRAPH_AUTH.storage.store("#"+t[a].id,"attributes")),GRAPH_AUTH.plotgraph(e.id,e.type,e.xaxis,e.yaxis,e.xtickdistance,e.ytickdistance,e.equation),void 0!==e.anskey&&""!=e.anskey)for(let t in JXG.boards)if(0==JXG.boards[t].container.includes("Preview")){let a=JXG.boards[t],l=e.anskey.split("|"),n=1;for(let t=0;t<l.length;t++){let s=l[t],o=s.split(",");if(JS.select("#"+e.id).classList.contains("circle"))GRAPH_AUTH.drawCircle(e.id,a,s);else if(JS.select("#"+e.id).classList.contains("association")){let t=a.create("glider",[o[0],o[1],a.axis],{name:"",snapSizeX:e.xtickdistance/10,snapSizeY:.4});GRAPH_AUTH.updateAndDraw(e.id,t)}else if(JS.select("#"+e.id).classList.contains("plot")){if(-1==s.indexOf(",")){let t=a.create("point",[s,n],{name:""});GRAPH_AUTH.updateAndDraw(e.id,t)}else{let t=a.create("point",[parseInt(o[0]),n],{name:""});t.Xjc=parseInt(o[1]),GRAPH_AUTH.updateAndDraw(e.id,t,o[2])}n++}else{let t=a.create("point",[parseInt(o[0]),parseInt(o[1])],{name:""});JS.select("#"+e.id).classList.contains("polygon")?GRAPH_AUTH.updateAndDraw(e.id,t,l):GRAPH_AUTH.updateAndDraw(e.id,t)}}}}},GRAPH_AUTH.resetData=function(e){if(JS.find("#authoring-modal",".graphitem .h",{action:"css",actionData:{display:"none"}}),"sine"==e.value||"cosine"==e.value)JS.select("#xaxis").value="720",JS.select("#yaxis").value="3",JS.select("#graph-width").value="700",JS.select("#graph-height").value="450",JS.select("#xtickdistance").value="90",JS.select("#ytickdistance").value="1",JS.select("#ytickdistance").readOnly=!1,JS.select("#yaxis").readOnly=!1,JS.find("#authoring-modal",".graphitem .eq",{action:"css",actionData:{display:"block"}}),JS.find("#authoring-modal",'[id = "'+e.value+'"]',{action:"css",actionData:{display:"block"}});else if("association"==e.value||"plot"==e.value)JS.select("#graph-height").value="300",JS.select("#graph-width").value="450",JS.select("#xaxis").value="3",JS.select("#yaxis").value="3",JS.select("#yaxis").readOnly=!0,JS.select("#xtickdistance").value="1",JS.select("#ytickdistance").value="1",JS.select("#ytickdistance").readOnly=!0,"plot"==e.value&&(JS.select("#graph-width").value="450",JS.select("#graph-height").value="250");else{JS.select("#xaxis").value="10",JS.select("#yaxis").value="10",JS.select("#yaxis").readOnly=!1,JS.select("#graph-height").value="450",JS.select("#graph-width").value="450",JS.select("#xtickdistance").value="1",JS.select("#ytickdistance").value="1",JS.select("#ytickdistance").readOnly=!1,"polygon"==e.value&&(JS.select("#polygon_type").value="0"),["line","sine","cosine","parabola","circle"].indexOf(e.value)>-1&&JS.find("#authoring-modal","#"+e.value,{action:"css",actionData:{display:"block"}})}JS.find("#authoring-modal",'[id = "'+e.value+'"]',{action:"css",actionData:{display:"block"}}),JS.find("#authoring-modal","#graph-equation",{action:"value",actionData:""}),GRAPH_AUTH.resetModal()},GRAPH_AUTH.bind_data=function(e){let t='[type="'+e.getAttribute("type")+'"]',a=[];"SMXML"==e.nodeName&&(t="#mthmain");for(let t=0;t<e.attributes.length;t++)a[t]={name:e.attributes[t].name,value:e.attributes[t].value};if(void 0!==t&&GRAPH_AUTH.storage.store("#"+JS.select(t).id,"attributes",a),e.children.length>0)for(let t=0;t<e.children.length;t++)GRAPH_AUTH.bind_data(e.children[t])},GRAPH_AUTH.elemModal=function(e,t,a){switch(GRAPH_AUTH.resetModal(),JS.selectAll("#authoring-modal .modal-body>.h","addClass","h"),JS.listen("body","click",".addElement",(function(){let t=JS.selectAll("#authoring-modal ."+GRAPH_AUTH.visible_class+" input");for(let e=0;e<t.length;e++){let a=t[e];""==a.value&&(a.classList.contains("num")||a.classList.contains("integer"))&&(GRAPH_AUTH.isValid=!1,JS.selectAll(".error","remove"),JS.setCss(a,{border:"1px solid red",background:"#FFCECE"}),JS.insert(a.parentElement,'<span class="error text-danger">Please fill out this field</span>',"beforeend")),("graph-width"==a.getAttribute("id")||"graph-height"==a.getAttribute("id"))&&parseInt(a.value)<200&&(GRAPH_AUTH.isValid=!1,JS.selectAll(".error","remove"),JS.setCss(a,{border:"1px solid red",background:"#FFCECE"}),JS.insert(a.parentElement,'<span class="error text-danger">Value must be greater than or equal to 200.</span>',"beforeend"),a.focus()),("xaxis"==a.getAttribute("id")||"yaxis"==a.getAttribute("id"))&&parseInt(a.value)<2&&(GRAPH_AUTH.isValid=!1,JS.selectAll(".error","remove"),JS.setCss(a,{border:"1px solid red",background:"#FFCECE"}),JS.insert(a.parentElement,'<span class="error text-danger">Value must be greater than or equal to 2.</span>',"beforeend"),a.focus()),("xtickdistance"==a.getAttribute("id")||"ytickdistance"==a.getAttribute("id"))&&parseInt(a.value)<1&&(GRAPH_AUTH.isValid=!1,JS.selectAll(".error","remove"),JS.setCss(a,{border:"1px solid red",background:"#FFCECE"}),JS.insert(a.parentElement,'<span class="error text-danger">Value must be greater than or equal to 1.</span>',"beforeend"),a.focus())}1==GRAPH_AUTH.isValid&&(JS.getBS("#authoring-modal","Modal").hide(),GRAPH_AUTH.updateElem(e,a))})),JS.listen("body","click",".resetElement",(function(){GRAPH_AUTH.resetData(JS.select("#authoring-modal #graph-type")),GRAPH_AUTH.updateElem(e,a)})),e){case"plotgraph":JS.select("#authoring-modal .title").innerText="Plot Graph",JS.setCss("#authoring-modal .graphitem",{display:"block"});break;case"numberline":JS.select("#authoring-modal .title").innerText="Number Line",JS.setCss("#authoring-modal .numberline",{display:"block"})}JS.getBS("#authoring-modal","Modal").show(),GRAPH_AUTH.visible_class=e,JS.select("#authoring-modal #graph-type").value=JS.select('[id="'+a+'"]').getAttribute("type"),JS.selectAll(".equation_select","css",{display:"none"}),JS.find("#authoring-modal",'[id = "'+JS.select("#authoring-modal #graph-type").value+'"]',{action:"css",actionData:{display:"block"}}),a&&GRAPH_AUTH.setData(GRAPH_AUTH.storage.store("#"+a,"attributes"))},GRAPH_AUTH.resetModal=function(){JS.selectAll(".err-msg","addClass","d-none"),JS.selectAll("input, .equation","removeAttr","style"),JS.selectAll(".error","remove")},GRAPH_AUTH.setData=function(e){for(let t=0;t<e.length;t+=1){JS.select("#authoring-modal ."+GRAPH_AUTH.visible_class+' [name="'+e[t].name+'"]').value=e[t].value}JS.select("#authoring-modal #graph-anskey").value="",JS.select("#authoring-modal #reflection").value=""},GRAPH_AUTH.serialize=function(e){let t=[];for(let a=0;a<e.length;a++)"radio"==e[a].getAttribute("type")||"checkbox"==e[a].getAttribute("type")?e[a].checked&&(t[t.length]={name:e[a].name,value:1}):e[a].name&&!e[a].disabled&&(t[t.length]={name:e[a].name,value:e[a].value});return t},GRAPH_AUTH.updateElem=function(e,t){let a,l,n,s,o,i,r,p,d,c=JS.find(JS.select("#authoring-modal ."+GRAPH_AUTH.visible_class),"select, textarea, input","all"),u=GRAPH_AUTH.serialize(c),m=[],f="mthmain";for(let e=0;e<u.length;e++){let t=u[e];"width"==t.name&&(a=t.value),"height"==t.name&&(l=t.value),"type"==t.name&&(d=t.value),"xaxis"==t.name&&(s=t.value),"yaxis"==t.name&&(o=t.value),"xtickdistance"==t.name&&(i=t.value),"ytickdistance"==t.name&&(r=t.value),"equation"==t.name&&(p=t.value),m[t.name]=t.name}"plotgraph"==e&&t&&(f='[id="'+t+'"]',n="plot"!=d?l-40:l-75,GRAPH_AUTH.storage.store("#"+t,"attributes",u),JS.setAttr(f,{type:d,class:d,xaxis:s,yaxis:o,xtickdistance:i,ytickdistance:r}),GRAPH_AUTH.storage.store("#mthmain","attributes",u),JS.setCss("#mthmain",{width:a+"px",height:l+"px"}),JS.selectAll('#mthmain [id^="ID"]',"css",{width:a+"px",height:n+"px"}),GRAPH_AUTH.plotgraph(t,d,s,o,i,r,p)),GRAPH_AUTH.updateXML(f,u)},GRAPH_AUTH.updateXML=function(e,t){if(JS.select("#special_module_xml").value&&""!=JS.select("#special_module_xml").value.trim()&&!GRAPH_AUTH.stopUpdate){let a,l=JS.parseHtml(JS.select("#special_module_xml").value);if(a="mthmain"==e?l:JS.find(l,e),a.nodeName)for(let e=0;e<t.length;e+=1)a.setAttribute(t[e].name,t[e].value);JS.select("#special_module_xml").value=GRAPH_AUTH.formatXml(l.xml?l.xml:(new XMLSerializer).serializeToString(l))}},GRAPH_AUTH.plotgraph=function(e,t,a,l,n,s,o){JXG.Options.point.snapToGrid=!0,JXG.Options.point.snapSizeX=n,JXG.Options.point.snapSizeY=s,JXG.Options.point.showInfobox=!0;let i,r,p,d=-a,c=-l;for(let e in JXG.boards)0==JXG.boards[e].container.includes("Preview")&&JXG.JSXGraph.freeBoard(JXG.boards[e]);if(JS.selectAll(".footer_toolbox, .sliderbar","css",{display:"none"}),JS.select("#deleteElm").classList.remove("h"),JS.select("#"+e).classList.contains("association"))i=JXG.JSXGraph.initBoard(e,{boundingbox:[d,3.4,a,-5.4],axis:!1,grid:!1,zoom:{factorX:1.25,factorY:1.25,wheel:!0,needshift:!0,eps:.1},showCopyright:!1,shownavigation:!1}),r=i.create("line",[[0,.4],[1,.4]],{firstArrow:!0,lastArrow:!0,strokecolor:"#3E3E3E",fillcolor:"#3E3E3E",fixed:!0}),i.axis=r,i.create("ticks",[r,n],{minorTicks:9,majorHeight:15,minorHeight:5,drawLabels:!0,label:{offset:[2,-10]},drawZero:!0}),p=i.create("polygon",[[-(a+n),-2.4],[-(a+n),-5.4],[a+n,-5.4],[a+n,-2.4]],{fillcolor:"#ccc",highlightfillcolor:"#ccc",withLines:!1});else if(JS.select("#"+e).classList.contains("plot"))i=JXG.JSXGraph.initBoard(e,{boundingbox:[d,l,a,-1],axis:!1,grid:!1,zoom:{factorX:1.25,factorY:1.25,wheel:!0,needshift:!0,eps:.1},showCopyright:!1,shownavigation:!1}),r=i.create("line",[[0,0],[1,0]],{firstArrow:!0,lastArrow:!0,strokecolor:"#3E3E3E",fillcolor:"#3E3E3E",fixed:!0}),i.create("ticks",[r,n],{minorTicks:0,majorHeight:15,minorHeight:5,drawLabels:!0,label:{offset:[-6,-16]},drawZero:!0}),i.xmax=a,JS.selectAll(".footer_toolbox","css",{display:"block"}),JS.select("#deleteElm").classList.add("h");else{i=JXG.JSXGraph.initBoard(e,{boundingbox:[d,l,a,c],axis:!1,grid:!1,zoom:{factorX:1.25,factorY:1.25,wheel:!0,needshift:!0,eps:.1},showCopyright:!1,shownavigation:!1});let t=i.create("axis",[[-Math.abs(n/2),0],[Math.abs(n/2),0]]);t.removeAllTicks(),i.create("ticks",[t,n],{strokeColor:"#ccc",majorHeight:-1,drawLabels:!0,label:{offset:[2,-10]},minorTicks:3,drawZero:!0});let o=i.create("axis",[[0,-Math.abs(s/2)],[0,Math.abs(s/2)]]);o.removeAllTicks(),i.create("ticks",[o,s],{strokeColor:"#ccc",majorHeight:-1,drawLabels:!0,label:{offset:[4,-6]},minorTicks:3,drawZero:!1})}i.prevPoint=null,i.points=[],i.xtick=n,i.ytick=s,i.xaxis=a,i.yaxis=l;let u=1,m=function(t){let a,s,o=!0;for(s in a=function(e){let t=i.getCoordsTopLeftCorner(e),a=JXG.getPosition(e,0),l=a[0]-t[0],n=a[1]-t[1];return new JXG.Coords(JXG.COORDS_BY_SCREEN,[l,n],i)}(t),i.objects)if(JXG.isPoint(i.objects[s])&&i.objects[s].hasPoint(a.scrCoords[1],a.scrCoords[2])){o=!1,isPointDraw=!1;break}if(o){let t,s;JS.select("#"+e).classList.contains("association")?t=i.create("glider",[a.usrCoords[1],a.usrCoords[2],i.axis],{name:"",snapSizeX:n/10,snapSizeY:.4}):JS.select("#"+e).classList.contains("plot")?(t=i.create("point",[a.usrCoords[1],u],{name:"",showInfobox:!1}),t.Xjc=t.X()+Math.abs(i.xtick),s=JS.select(".footer_toolbox li.btn_active").getAttribute("data-value"),u++,u==l&&i.off("down")):t=i.create("point",[a.usrCoords[1],a.usrCoords[2]],{name:""}),GRAPH_AUTH.updateAndDraw(e,t,s),GRAPH_AUTH.updateAttrs(e,t),GRAPH_AUTH.updateXML("#"+e,GRAPH_AUTH.storage.store("#"+e,"attributes"))}};JS.select("#"+e).classList.contains("association")?i.axis.off("down").on("down",m):(i.off("down").on("down",m),(JS.select("#"+e).classList.contains("line")||JS.select("#"+e).classList.contains("parabola"))&&(JS.selectAll(".sliderbar","css",{display:"block",width:parseInt(JS.select("#"+e).style.width)+2+"px"}),JS.find(".sliderbar","label").nodeName&&(JS.find(".sliderbar","label").innerHTML=o)));let f=JS.find("#mthmain",".selected-option");f.nodeName&&(f.innerHTML=t,f.style.textTransform="capitalize")},GRAPH_AUTH.updateAndDraw=function(e,t,a){let l=GRAPH_AUTH.setInAssoc(GRAPH_AUTH.storage.store("#"+e,"attributes"));if(JS.select("#"+e).classList.contains("plot")){if(t.setAttribute({fillcolor:"#52A8EC",strokecolor:"#52A8EC"}),JS.select('[data-value="'+a+'"]').nodeName&&JS.select('[data-value="'+a+'"]').getAttribute("rel")&&0==JS.select('[data-value="'+a+'"]').getAttribute("rel").indexOf("segment"))switch(t.board.prevPoint=t.board.create("point",[t.Xjc,t.Y()],{name:"",fillcolor:"#52A8EC",strokecolor:"#52A8EC",fixed:!0}),t.for=t.board.create("line",[t.board.prevPoint,t],{straightFirst:!1,straightLast:!1,firstArrow:!1,lastArrow:!1,strokeWidth:"2",fillcolor:"#52A8EC",strokecolor:"#52A8EC"}),t.for.name=a,a){case"SLH":t.setAttribute({fillcolor:"#fff",strokecolor:"#52A8EC"});break;case"SRH":t.board.prevPoint.setAttribute({fillcolor:"#fff",strokecolor:"#52A8EC"});break;case"SBH":t.setAttribute({fillcolor:"#fff",strokecolor:"#52A8EC"}),t.board.prevPoint.setAttribute({fillcolor:"#fff",strokecolor:"#52A8EC"})}else if(JS.select('[data-value="'+a+'"]').nodeName&&JS.select('[data-value="'+a+'"]').getAttribute("rel")&&0==JS.select('[data-value="'+a+'"]').getAttribute("rel").indexOf("ray")){switch(a){case"RL":t.board.prevPoint=t.board.create("point",[-Math.abs(t.board.xmax),t.Y()],{visible:!1});break;case"RR":t.board.prevPoint=t.board.create("point",[Math.abs(t.board.xmax),t.Y()],{visible:!1});break;case"RRH":t.setAttribute({fillcolor:"#fff",strokecolor:"#52A8EC"}),t.board.prevPoint=t.board.create("point",[-Math.abs(t.board.xmax),t.Y()],{visible:!1});break;case"RLH":t.setAttribute({fillcolor:"#fff"}),t.board.prevPoint=t.board.create("point",[Math.abs(t.board.xmax),t.Y()],{visible:!1})}t.for=t.board.create("line",[t.board.prevPoint,t],{straightFirst:!0,straightLast:!1,firstArrow:!0,lastArrow:!1,strokeWidth:"2",fillcolor:"#52A8EC",strokecolor:"#52A8EC"}),t.for.name=a}t.board.on("move",(function(){null!=t.Yjc&&t.moveTo([t.X(),t.Yjc])})),t.on("over",(function(){this.visProp.fixed||(t.board.containerObj.style.cursor="e-resize")})),t.on("out",(function(){this.visProp.fixed||(t.board.containerObj.style.cursor="default")}))}else if(t.board.points.push(t),null==t.board.prevPoint)t.board.prevPoint=t;else{if(JS.select("#"+e).classList.contains("line"))t.for=t.board.create("line",[t,t.board.prevPoint],{straightFirst:!0,straightLast:!0,firstArrow:!0,lastArrow:!0,strokeWidth:2}),GRAPH_AUTH.getEquation(e,t.board.prevPoint.X(),t.board.prevPoint.Y(),t.X(),t.Y());else if(JS.select("#"+e).classList.contains("circle"))t.for=t.board.create("circle",[t.board.prevPoint,t],{straightFirst:!0,straightLast:!0,firstArrow:!0,lastArrow:!0,strokeWidth:2}),t.for.center.for=t.for;else if(JS.select("#"+e).classList.contains("segment"))t.for=t.board.create("line",[t,t.board.prevPoint],{straightFirst:!1,straightLast:!1,firstArrow:!1,lastArrow:!1,strokeWidth:2});else if(JS.select("#"+e).classList.contains("vector"))t.for=t.board.create("line",[t,t.board.prevPoint],{straightFirst:!1,straightLast:!1,firstArrow:!0,lastArrow:!1,strokeWidth:2});else if(JS.select("#"+e).classList.contains("ray"))t.for=t.board.create("line",[t,t.board.prevPoint],{straightFirst:!0,straightLast:!1,firstArrow:!0,lastArrow:!1,strokeWidth:2});else if(JS.select("#"+e).classList.contains("parabola")){t.board.prevPoint.setAttribute({fixed:!0}),t.setAttribute({fixed:!0});let a=GRAPH_AUTH.getEquation(e,t.board.prevPoint.X(),t.board.prevPoint.Y(),t.X(),t.Y()),l=t.board.jc.snippet(a,!0,"x",!0);t.for=t.board.create("functiongraph",[l]),t.for.point1=t.board.prevPoint,t.for.point2=t}else if(JS.select("#"+e).classList.contains("polygon"))void 0===a?(t.for=t.board.create("polygon",[t.board.prevPoint,t]),t.board.prevPoint=t):a.length==t.board.points.length&&(t.for=t.board.create("polygon",t.board.points,{boadres:{strokecolor:"darkgray",strokewidth:2}}),t.for.parents.for=t.for,t.board.prevPoint=null,t.board.points=[]);else if(JS.select("#"+e).classList.contains("sine")){let a=t.board.prevPoint,n=t;t.for=t.board.create("curve",[function(e){return e},function(t){let s,o=a.coords.usrCoords,i=n.coords.usrCoords,r=o[1],p=o[2],d=i[1],c=i[2]-p,u=1/(4*(d-r));return s=Math.round(p-c*Math.sin(Math.PI*r/180)),s.toString().indexOf("-")>-1?l.equation="y="+c+"*sin(x)"+s:l.equation="y="+c+"*sin(x)+"+s,GRAPH_AUTH.storage.store("#"+e,"attributes",GRAPH_AUTH.setInIndex(l)),c*Math.sin(2*Math.PI*u*(t-r))+p}]),t.for.point1=t.board.prevPoint,t.for.point2=t}else if(JS.select("#"+e).classList.contains("cosine")){let a=t.board.prevPoint,n=t;t.for=t.board.create("curve",[function(e){return e},function(t){let s,o=a.coords.usrCoords,i=n.coords.usrCoords,r=o[1],p=o[2],d=i[1],c=i[2]-p,u=1/(4*(r-d));return s=Math.round(p-c*Math.cos(Math.PI*r/180)),s.toString().indexOf("-")>-1?l.equation="y="+c+"*cos(x)"+s:l.equation="y="+c+"*cos(x)+"+s,GRAPH_AUTH.storage.store("#"+e,"attributes",GRAPH_AUTH.setInIndex(l)),c*Math.cos(2*Math.PI*u*(t-d))+p}]),t.for.point1=t.board.prevPoint,t.for.point2=t}JS.select("#"+e).classList.contains("polygon")||(t.board.prevPoint=null)}t.on("down",(function(){JS.select("#"+e).classList.contains("plot")?(this.Yjc=this.Y(),void 0===this.for?this.startPosition=this.X()+","+this.name:this.startPosition=this.for.point2.X()+","+this.for.point1.X()+","+this.for.name):JS.select("#"+e).classList.contains("association")?this.startPosition=this.X().toFixed(1)+","+this.Y().toFixed(1)+","+this.X().toFixed(1):(this.startPosition=this.X()+","+this.Y(),JS.select("#"+e).classList.contains("polygon")&&t.board.points.length>0&&this.X()+","+this.Y()==t.board.points[0].X()+","+t.board.points[0].Y()&&(t.for=t.board.create("polygon",t.board.points,{boadres:{strokecolor:"darkgray",strokewidth:2}}),t.for.parents.for=t.for,t.board.prevPoint=null,t.board.points=[])),void 0!==this.for&&"circle"==this.for.elType&&(this.startPosition=Math.round(this.for.Radius()))})),t.on("up",(function(){if(JS.select("#deleteElm").children[0].classList.contains("active")){if(JS.select("#"+e).classList.contains("point"))t.board.removeObject(this),this.position=this.startPosition;else if(JS.select("#"+e).classList.contains("association"))t.board.removeObject(this),this.position=this.startPosition;else if(JS.select("#"+e).classList.contains("circle"))t.board.removeObject(this),t.board.removeObject(this.for.center),t.board.removeObject(this.for.point2),this.position=this.for.center.X()+","+this.for.center.Y()+"/"+Math.round(this.for.Radius());else if(JS.select("#"+e).classList.contains("polygon")&&void 0!==this.for){let e=[];if(void 0===this.for.parents.for)return JS&&JS.showmsg(Lang.last_point,3e3),!1;for(let a=0;a<t.for.vertices.length;a++)t.board.removeObject(this.for.parents.for.vertices[a]),e.push(this.for.parents.for.vertices[a].X()+","+this.for.parents.for.vertices[a].Y());t.board.removeObject(this.for.parents.for),e.pop(e[e.length-1]),this.position=e.join("|")}else void 0!==this.for?(t.board.removeObject(this.for),t.board.removeObject(this.for.point1),t.board.removeObject(this.for.point2),this.position=this.for.point1.X()+","+this.for.point1.Y()+"|"+this.for.point2.X()+","+this.for.point2.Y()):JS.select("#"+e).classList.contains("parabola")&&JS&&JS.showmsg(Lang.curve_start_point,3e3);JS.select("#"+e).classList.contains("parabola")?void 0!==this.for?(GRAPH_AUTH.updateDeleteAttrsAuth(e,this.position),GRAPH_AUTH.updateXML("#"+e,GRAPH_AUTH.storage.store("#"+e,"attributes")),JS.select("#deleteElm").children[0].classList.remove("active")):console.warn({msg:Lang.warning_this_for}):(GRAPH_AUTH.updateDeleteAttrsAuth(e,this.position),GRAPH_AUTH.updateXML("#"+e,GRAPH_AUTH.storage.store("#"+e,"attributes")))}else isPointDraw&&(GRAPH_AUTH.updateAttrs(e,this,!0),GRAPH_AUTH.updateXML("#"+e,GRAPH_AUTH.storage.store("#"+e,"attributes")))})),t.on("over",(function(){!this.visProp.fixed&&JS.select("#deleteElm").children[0].classList.contains("active")&&(JS.select("#"+e).classList.contains("point")?this.setAttribute({name:"Delete",showInfobox:!1,fillcolor:"#000",strokecolor:"#000"}):JS.select("#"+e).classList.contains("circle")&&void 0!==this.for?(this.for.center.setAttribute({name:"Delete",showInfobox:!1,fillcolor:"#000",strokecolor:"#000"}),this.for.point2.setAttribute({name:"Delete",showInfobox:!1,fillcolor:"#000",strokecolor:"#000"})):JS.select("#"+e).classList.contains("polygon")&&void 0!==this.for?void 0!==this.for.parents.for&&this.setAttribute({name:"Delete",showInfobox:!1,fillcolor:"#000",strokecolor:"#000"}):JS.select("#"+e).classList.contains("sine")||JS.select("#"+e).classList.contains("cosine")?void 0!==this.for&&this.for.point2.setAttribute({name:"Delete",showInfobox:!1,fillcolor:"#000",strokecolor:"#000"}):JS.select("#"+e).classList.contains("association")?this.setAttribute({name:"Delete",showInfobox:!1,fillcolor:"#000",strokecolor:"#000"}):void 0!==this.for&&this.for.point1.setAttribute({name:"Delete",showInfobox:!1,fillcolor:"#000",strokecolor:"#000"}))})),t.on("out",(function(){!this.visProp.fixed&&JS.select("#deleteElm").children[0].classList.contains("active")&&(JS.select("#"+e).classList.contains("point")?this.setAttribute({name:"",showInfobox:!0,fillcolor:"#ff0000",strokecolor:"#ff0000"}):JS.select("#"+e).classList.contains("circle")&&void 0!==this.for?(this.for.center.setAttribute({name:"",showInfobox:!0,fillcolor:"#ff0000",strokecolor:"#ff0000"}),this.for.point2.setAttribute({name:"",showInfobox:!0,fillcolor:"#ff0000",strokecolor:"#ff0000"})):JS.select("#"+e).classList.contains("polygon")&&void 0!==this.for?void 0!==this.for.parents.for&&this.setAttribute({name:"",showInfobox:!0,fillcolor:"#ff0000",strokecolor:"#ff0000"}):JS.select("#"+e).classList.contains("sine")||JS.select("#"+e).classList.contains("cosine")?void 0!==this.for&&this.for.point2.setAttribute({name:"",showInfobox:!1,fillcolor:"#ff0000",strokecolor:"#ff0000"}):JS.select("#"+e).classList.contains("association")?this.setAttribute({name:"",showInfobox:!0,fillcolor:"#ff0000",strokecolor:"#ff0000"}):void 0!==this.for&&this.for.point1.setAttribute({name:"",showInfobox:!0,fillcolor:"#ff0000",strokecolor:"#ff0000"}))}))},GRAPH_AUTH.updateDeleteAttrsAuth=function(e,t){let a=GRAPH_AUTH.setInAssoc(GRAPH_AUTH.storage.store("#"+e,"attributes")),l=a.anskey.split("|"),n=[];switch(JS.select("#"+e).getAttribute("type")){case"point":case"circle":for(let e=0;e<l.length;e++)l[e]!=t&&n.push(l[e]);break;case"line":case"segment":case"ray":case"vector":case"sine":case"cosine":case"association":if(null!=t){let e=t.split("|");n=l.filter((function(e){return!this.has(e)}),new Set(e))}}a.anskey=n.join("|"),a.reflection="",a.equation="",GRAPH_AUTH.storage.store("#"+e,"attributes",GRAPH_AUTH.setInIndex(a))},GRAPH_AUTH.updateAttrs=function(e,t,a){let l=GRAPH_AUTH.setInAssoc(GRAPH_AUTH.storage.store("#"+e,"attributes"));if(void 0===l.anskey&&(l.anskey=""),void 0!==t.for&&"circle"==t.for.elType){let e=t.for.center,a=e.X()+","+e.Y();void 0!==t.startPosition&&(a+="/"+t.startPosition),l.anskey=l.anskey.replace(a,e.X()+","+e.Y()+"/"+Math.round(t.for.Radius())),t.for.Radius()&&(l.equation="(x-"+e.X()+")^2+(y-"+e.Y()+")^2="+Math.round(t.for.Radius())+"^2",l.equation=l.equation.replace(/--/gm,"+"))}else a&&(null!=l.reflection&&""!=l.reflection||(l.reflection=l.reflection.replace(t.startPosition,""),t.startPosition=t.startPosition.split(","),"1"==l.polygon_type?l.anskey=l.anskey.replace(t.startPosition[0]+","+-1*t.startPosition[1],""):"2"==l.polygon_type?l.anskey=l.anskey.replace(-1*t.startPosition[0]+","+t.startPosition[1],""):"3"==l.polygon_type&&(l.anskey=l.anskey.replace(-1*t.startPosition[0]+","+-1*t.startPosition[1],""))));if(void 0===t.for||"circle"!=t.for.elType)if("polygon"!=l.type){if(l.anskey=l.anskey.split("|").filter((e=>e)),JS.select("#"+e).classList.contains("association")?l.anskey.push(t.X().toFixed(1)+","+t.Y().toFixed(1)+","+t.X().toFixed(1)):JS.select("#"+e).classList.contains("plot")?void 0===t.for?l.anskey.push(t.X()+","+t.name):l.anskey.push(t.for.point2.X()+","+t.for.point1.X()+","+t.for.name):l.anskey.push(t.X()+","+t.Y()),l.anskey=l.anskey.join("|"),JS.select("#"+e).classList.contains("line")||JS.select("#"+e).classList.contains("parabola")){let t=null,a=l.anskey.split("|");for(let n=0;n<a.length;n++){let s=a[n].split(",");null==t?t=s:l.equation=GRAPH_AUTH.getEquation(e,t[0],t[1],s[0],s[1])}}}else"0"!=l.polygon_type&&(l.reflection=l.reflection.split("|").filter((e=>e)),l.reflection.push(t.X()+","+t.Y()),l.reflection=l.reflection.join("|"),0==t.board.points.length&&(l.reflection=l.reflection.split("|").join("|"))),l.anskey=l.anskey.split("|").filter((e=>e)),"0"==l.polygon_type?l.anskey.push(t.X()+","+t.Y()):"1"==l.polygon_type?l.anskey.push(t.X()+","+-1*t.Y()):"2"==l.polygon_type?l.anskey.push(-1*t.X()+","+t.Y()):"3"==l.polygon_type&&l.anskey.push(-1*t.X()+","+-1*t.Y()),l.anskey=l.anskey.join("|"),0==t.board.points.length&&(l.anskey=l.anskey.split("|").join("|"));JS.find(".sliderbar","label").nodeName&&(JS.find(".sliderbar","label").innerHTML=l.equation),GRAPH_AUTH.storage.store("#"+e,"attributes",GRAPH_AUTH.setInIndex(l))},GRAPH_AUTH.setInAssoc=function(e){let t={};if(e)for(let a=0;a<e.length;a++)t[e[a].name]=e[a].value;return t},GRAPH_AUTH.setInIndex=function(e){let t=[];if(e)for(let a in e)t.push({name:a,value:e[a]});return t},GRAPH_AUTH.getEquation=function(mid,prevX,prevY,pointX,pointY){let equation,a,attrs=GRAPH_AUTH.setInAssoc(GRAPH_AUTH.storage.store("#"+mid,"attributes")),eq=attrs.equation.split("="),eqn;switch(JS.select("#"+mid).getAttribute("type")){case"parabola":-1==eq[0].indexOf("y^2")&&(a=Math.round(10*eval((pointY-prevY)/Math.pow(pointX-prevX,2)))/10,equation="y=a*(x-h)^2+k",eqn=equation.replace("a",a).replace("h",prevX).replace("k",prevY).replace("--","+").replace("+-","-"));break;case"line":{equation="(y-y1)=m*(x-x1)";let m=Math.round(10*eval((pointY-prevY)/(pointX-prevX)))/10;eqn=equation.replace("m",m).replace("y1",prevY).replace("x1",prevX),eqn=eqn.replace(/\-\-/g,"+").replace(/\+\+/g,"+").replace(/\-\+/g,"-").replace(/\+\-/g,"-");break}}return eqn},GRAPH_AUTH.drawCircle=function(e,t,a){let l,n=a.split("/");for(let a=0;a<n.length;a++){let s=n[0].split(",");if(-1!=n[a].indexOf(","))l=t.create("point",[parseInt(s[0]),parseInt(s[1])],{name:""});else{let e=parseInt(s[0])-parseInt(n[1]);l=t.create("point",[parseInt(e),parseInt(s[1])],{name:""})}GRAPH_AUTH.updateAndDraw(e,l)}},GRAPH_AUTH.formatXml=function(e){let t="",a=(e=(e=e.replace(/\t/g,"")).replace(/(>)(<)(\/*)/g,"$1\n$2$3").replace(/ *(.*) +\n/g,"$1\n").replace(/(<.+>)(.+\n)/g,"$1\n$2")).split("\n"),l=0,n="other",s={"single->single":0,"single->closing":-1,"single->opening":0,"single->other":0,"closing->single":0,"closing->closing":-1,"closing->opening":0,"closing->other":0,"opening->single":1,"opening->closing":0,"opening->opening":1,"opening->other":1,"other->single":0,"other->closing":-1,"other->opening":0,"other->other":0};for(let e=0;e<a.length;e++){let o=a[e];if(""!=o){let e=Boolean(o.match(/<.+\/>/)),a=Boolean(o.match(/<\/.+>/)),i=Boolean(o.match(/<[^!].*>/)),r=e?"single":a?"closing":i?"opening":"other",p=n+"->"+r;n=r;let d="";l+=s[p];for(let e=0;e<l;e++)d+="\t";"opening->closing"==p?t=t.substr(0,t.length-1)+o+"\n":t+=d+o+"\n"}}return t};class MathModal extends SvelteComponent{constructor(e){super(),init(this,e,instance,create_fragment,safe_not_equal,{l:0,is_association:1})}}function create_if_block$1(e){let t,a,l;return{c(){t=element("button"),t.textContent=""+Lang.solve,attr(t,"class","btn btn-light float-left m-sm"),attr(t,"type","button")},m(n,s){insert(n,t,s),a||(l=listen(t,"click",e[3]),a=!0)},p:noop,d(e){e&&detach(t),a=!1,l()}}}function create_fragment$1(e){let t,a,l,n,s,o,i,r,p,d,c,u,m,f,h,_,b,g,v,x,A,y,H,S,J,P,k,w,G,R,T,U,L,q,X,C,E,M,I=e[2]._type+"",Y=e[0].is_algo&&e[0].variable_button&&create_if_block$1(e);return L=new MathModal({props:{l:Lang,is_association:"association"==e[2]._type?1:0}}),{c(){t=element("div"),a=element("center"),Y&&Y.c(),l=space(),n=element("div"),s=element("div"),o=element("ul"),i=element("li"),r=text(I),p=space(),d=element("div"),c=element("div"),u=element("i"),f=space(),h=element("div"),_=element("div"),b=element("i"),v=space(),x=element("div"),R=space(),T=element("ul"),T.innerHTML='<li class="btn_active btn-point" rel="point" data-value="P"></li> \n                <li rel="segment" class="btn-segment" data-value="S"></li> \n                <li rel="segment_left_point_hollow" class="btn-SLH" data-value="SLH"></li> \n                <li rel="segment_right_point_hollow" class="btn-SRH" data-value="SRH"></li> \n                <li rel="segment_both_point_hollow" class="btn-SBH" data-value="SBH"></li> \n                <li rel="ray_left_direction" class="btn-RL" data-value="RL"></li> \n                <li rel="ray_right_direction" class="btn-RR" data-value="RR"></li> \n                <li rel="ray_left_direction_right_hollow" class="btn-RRH" data-value="RRH"></li> \n                <li rel="ray_right_direction_left_hollow" class="btn-RLH" data-value="RLH"></li>',U=space(),create_component(L.$$.fragment),q=space(),X=element("input"),i.value="plotgraph",attr(i,"class","selected-option text-uppercase"),attr(o,"class","controls"),attr(u,"data-bs-toggle","tooltip"),attr(u,"title",m=Lang.delete),attr(u,"class","icomoon-new-24px-delete-1"),attr(c,"class","btn btn-light p-1"),attr(c,"tabindex","0"),attr(d,"class","btn-group delete-tools zindex0 pe-0 h"),attr(d,"id","deleteElm"),attr(b,"title",g=Lang.edit_graph),attr(b,"data-bs-toggle","tooltip"),attr(b,"class","icomoon-24px-edit-1"),attr(_,"class","btn btn-light p-1"),attr(_,"tabindex","0"),attr(h,"class","btn-group edit-tools zindex0 ps-0"),attr(h,"data-t","plotgraph"),attr(h,"id","plotgraph"),attr(s,"id","option-toolbar"),attr(s,"class","text-dark"),attr(x,"id",A=e[2]._id),attr(x,"type",y=e[2]._type),attr(x,"class",H="drag-resize dropable "+e[2]._type),attr(x,"data-xtickdistance",S=e[2]._xtickdistance),attr(x,"data-ytickdistance",J=e[2]._ytickdistance),attr(x,"data-xaxis",P=e[2]._xaxis),attr(x,"data-yaxis",k=e[2]._yaxis),attr(x,"data-snapsize",w=e[2]._snapsize),attr(x,"data-equation",G=e[2]._equation),set_style(x,"height",e[2]._height-40+"px"),set_style(x,"width",e[2]._width+"px"),set_style(x,"border","1px solid #ccc"),attr(T,"class","footer_toolbox h"),attr(n,"id","mthmain"),set_style(n,"height",e[2]._height+"px"),set_style(n,"width",e[2]._width+"px"),set_style(n,"clear","both"),attr(n,"class","position-relative bg-white"),attr(X,"type","hidden"),attr(X,"id","special_module_xml")},m(m,g){insert(m,t,g),append(t,a),Y&&Y.m(a,null),append(a,l),append(a,n),append(n,s),append(s,o),append(o,i),append(i,r),append(s,p),append(s,d),append(d,c),append(c,u),append(s,f),append(s,h),append(h,_),append(_,b),append(n,v),append(n,x),append(n,R),append(n,T),append(a,U),mount_component(L,a,null),append(t,q),append(t,X),C=!0,E||(M=listen(_,"click",e[6]),E=!0)},p(e,[t]){e[0].is_algo&&e[0].variable_button?Y?Y.p(e,t):(Y=create_if_block$1(e),Y.c(),Y.m(a,l)):Y&&(Y.d(1),Y=null),(!C||4&t)&&I!==(I=e[2]._type+"")&&set_data(r,I),(!C||4&t&&A!==(A=e[2]._id))&&attr(x,"id",A),(!C||4&t&&y!==(y=e[2]._type))&&attr(x,"type",y),(!C||4&t&&H!==(H="drag-resize dropable "+e[2]._type))&&attr(x,"class",H),(!C||4&t&&S!==(S=e[2]._xtickdistance))&&attr(x,"data-xtickdistance",S),(!C||4&t&&J!==(J=e[2]._ytickdistance))&&attr(x,"data-ytickdistance",J),(!C||4&t&&P!==(P=e[2]._xaxis))&&attr(x,"data-xaxis",P),(!C||4&t&&k!==(k=e[2]._yaxis))&&attr(x,"data-yaxis",k),(!C||4&t&&w!==(w=e[2]._snapsize))&&attr(x,"data-snapsize",w),(!C||4&t&&G!==(G=e[2]._equation))&&attr(x,"data-equation",G),(!C||4&t)&&set_style(x,"height",e[2]._height-40+"px"),(!C||4&t)&&set_style(x,"width",e[2]._width+"px"),(!C||4&t)&&set_style(n,"height",e[2]._height+"px"),(!C||4&t)&&set_style(n,"width",e[2]._width+"px");const s={};4&t&&(s.is_association="association"==e[2]._type?1:0),L.$set(s)},i(e){C||(transition_in(L.$$.fragment,e),C=!0)},o(e){transition_out(L.$$.fragment,e),C=!1},d(e){e&&detach(t),Y&&Y.d(),destroy_component(L),E=!1,M()}}}function isNumeric(e){return!isNaN(parseFloat(e))&&isFinite(e)}function changeValue(e){let t=e.value.replace(/[^0-9]/g,"");e.value!==t&&(e.value=t)}function instance$1(e,t,a){let{xml:l}=t,{editorState:n}=t,{getChildXml:s}=t,o={},i="",r=!1,p=writable({xml:""});p.subscribe((e=>{a(7,o=e)}));function d(){if(n.stopAuthoringUpdate)return!1;let e=AH.select("#special_module_xml").value;o.xml!=e&&s(e)}function c(e){e=XMLToJSON(e),a(2,i=e.smxml.plot),"association"==i._type&&swal(Lang.deprecated)}beforeUpdate((async()=>{AH.selectAll('#mthmain [tabindex="0"].active',"removeClass","active"),o.xml==l||n.stopAuthoringUpdate||(AH.select("#special_module_xml").value=l,c(l))})),onMount((async()=>{AH.listen("body","keyup",".equation",(function(){AH.select('input[id$="equation"]').nodeName&&""==AH.select('input[id$="equation"]').value?(AH.selectAll(".err-msg","removeClass","d-none"),AH.selectAll(".equation","css",{border:"1px solid red"})):(AH.selectAll(".err-msg","addClass","d-none"),AH.selectAll(".equation","css",{border:"1px solid #CED4DA"}))})),AH.listen("body","change","#graph-type",(function(){GRAPH_AUTH.resetModal()})),AH.listen("body","mousemove","#mthmain, .addElement, .resetElement",(function(){d()})),AH.listen("body","mouseup","#mthmain, .addElement, .resetElement",(function(){d()})),AH.listen("body","click","#mthmain, .addElement, .resetElement",(function(){d()})),AH.listen("body","click","#xmlDone",(function(){a(0,n.variable_button=!1,n),!n.variable_button&&n.stopAuthoringUpdate||GRAPH_AUTH.initGraph()})),AH.listen("body","keypress",'#mthmain [tabindex="0"]',(function(e,t){13!=t.keyCode&&13!=t.which||"delete_btn"==t.target.id||"updateRow"==t.target.id||e.click()})),AH.listen("body","hidden.bs.modal","#authoring-modal",(function(){a(1,GRAPH_AUTH.visible_class="",GRAPH_AUTH)})),AH.listen("body","change","input.integer",(function(e){changeValue(e)})),AH.listen("body","keyup","input.integer",(function(e){changeValue(e)})),AH.listen("body","input","input.integer",(function(e){changeValue(e)})),AH.listen("body","click","#deleteElm",(function(e){let t=e.children[0],a=GRAPH_AUTH.setInAssoc(GRAPH_AUTH.storage.store("#ID0","attributes"));t.classList.toggle("active"),AH.select("#"+a.id).classList.contains("point")||AH.select("#"+a.id).classList.contains("circle")||AH.select("#"+a.id).classList.contains("association")?t.classList.contains("active")&&(swal(Lang.delete_msg),t.style.color="black"):t.classList.contains("active")&&(t.style.color="black",swal(Lang.last_delete_msg))})),AH.listen("body","keypress","#authoring-modal input",(function(e,t){if(13==t.which)return!1})),AH.listen("body","keyup","#authoring-modal .validate",(function(e,t){t.preventDefault(),t.stopPropagation(),13==t.keyCode&&AH.select("#authoring-modal .addElement").click(),a(1,GRAPH_AUTH.isValid=!1,GRAPH_AUTH),AH.selectAll(".error","remove"),AH.setCss(e,{border:"1px solid red",background:"#FFCECE"}),""==e.value?AH.insert(e.parentElement,'<span class="error text-danger">'+Lang.fill_field+"</span>","beforeend"):e.classList.contains("num")&&e.value<=0?AH.insert(e.parentElement,'<span class="error text-danger">'+Lang.value_gt_zero+"</span>","beforeend"):!isNumeric(e.value)&&e.classList.contains("num")?AH.insert(e.parentElement,'<span class="error text-danger">'+Lang.enter_number+"</span>","beforeend"):(a(1,GRAPH_AUTH.isValid=!0,GRAPH_AUTH),AH.setCss(e,{border:"1px solid #ced4da",background:"none"}))})),AH.listen("body","change","#authoring-modal .select",(function(e){GRAPH_AUTH.resetData(e)})),AH.listen("body","click",".add-equation",(function(){AH.insert(".numberlinePlot",AH.select(".plotEq").innerHTML,"beforeend"),AH.find(".numberlinePlot",".remove-eq",{action:"css",actionData:{display:"block"}})})),AH.listen("body","click",".remove-eq",(function(e){e.parentElement.remove()})),AH.listen("body","click",".footer_toolbox li",(function(e){e.classList.add("btn_active"),AH.selectAll(AH.siblings(e),"removeClass","btn_active")}))})),afterUpdate((async()=>{r||("undefined"!=typeof JXG?GRAPH_AUTH.initGraph():AH.addScript("",baseUrlTheme+"clsSMGraph/lib/jsxgraph.min.js",{callback(){GRAPH_AUTH.initGraph()}}),r=!0),o.xml!=l&&AH.select("#special_module_xml").value&&"undefined"!=typeof JXG&&!n.stopAuthoringUpdate&&p.update((e=>(e.xml=l,e)))}));return e.$$set=e=>{"xml"in e&&a(4,l=e.xml),"editorState"in e&&a(0,n=e.editorState),"getChildXml"in e&&a(5,s=e.getChildXml)},e.$$.update=()=>{131&e.$$.dirty&&!n.variable_button&&n.stopAuthoringUpdate&&(a(0,n.stopAuthoringUpdate=!1,n),a(0,n.stopPreviewUpdate=!1,n),a(1,GRAPH_AUTH.stopUpdate=!1,GRAPH_AUTH),AH.select("#special_module_xml").nodeName&&(AH.select("#special_module_xml").value=o.xml?o.xml:"",GRAPH_AUTH.initGraph()))},[n,GRAPH_AUTH,i,function(){AH.activate(2);let e=o.xml,t={};t.special_module_xml=e,t.algo_qxml=AH.select("#algo_qxml").nodeName?AH.select("#algo_qxml").value:"",AH.ajax({url:baseUrl+"editor/index.php",data:{ajax:"1",action:"parse_algo",content_text:JSON.stringify(t)},type:"POST",onEnd(){AH.activate(0)}}).then((function(e){let t=JSON.parse(e);AH.select("#special_module_xml").value=t.special_module_xml,c(t.special_module_xml),GRAPH_AUTH.initGraph(),a(0,n.stopPreviewUpdate=!0,n),a(0,n.stopAuthoringUpdate=!0,n),a(1,GRAPH_AUTH.stopUpdate=!0,GRAPH_AUTH)}))},l,s,e=>GRAPH_AUTH.elemModal("plotgraph",e.currentTarget,i._id)]}class Graph extends SvelteComponent{constructor(e){super(),init(this,e,instance$1,create_fragment$1,safe_not_equal,{xml:4,editorState:0,getChildXml:5})}}export default Graph;
//# sourceMappingURL=Graph-09ab4906.js.map
