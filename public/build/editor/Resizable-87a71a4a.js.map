{"version":3,"file":"Resizable-87a71a4a.js","sources":["../../../clsSMDragNDrop/libs/plugins/Resizable.js"],"sourcesContent":["\r\n\r\n\"use strict\";\r\nwindow.isResizable = (window.isResizable) ? window.isResizable : false;\r\nexport default class Resizable {\r\n    constructor (container, elements) {\r\n        this.container = container;\r\n        this.targetResize = null;\r\n        this.elmsResizable = document.querySelectorAll(elements);\r\n        this.started = false;\r\n        this.init();\r\n    }\r\n\r\n    init() {\r\n\r\n        [] .forEach.call (this.elmsResizable, (el) => {\r\n            if (el.querySelector('.resizer') == null  || (el.id == 'dndmain' && document.querySelector('#dndmain > .resizer') == null)) { \r\n                let resizer = document.createElement('div');\r\n                resizer.className ='resizer icomoon-resize';\r\n                el.appendChild (resizer);\r\n            }\r\n        });\r\n\r\n        if (!window.isResizable) {\r\n            window.isResizable = true;\r\n            AI.listen('body', 'mouseleave', this.container, () => {\r\n                this.targetResize = null;\r\n            })\r\n            AI.listen('body', 'mousedown', '.resizer', (current) => {\r\n                this.targetResize = current.parentNode;\r\n                this.started = true;\r\n                this.onStart && this.onStart(current);\r\n            });\r\n            AI.listenAll('body', 'mousemove', (event) => {\r\n                if (this.targetResize == null || !this.started) {return;}\r\n                let position = this.getPosition(event, this.targetResize);\r\n                this.targetResize.style.width = position.x +'px';\r\n                this.targetResize.style.height = position.y +'px';\r\n            });\r\n\r\n            AI.listenAll('body', 'mouseup', (event) => {\r\n                if (this.started) {\r\n                    this.started = false;\r\n                    this.onStop && this.onStop(event, this.targetResize);\r\n                    this.targetResize = null;\r\n                }\r\n            })\r\n\r\n        }\r\n        \r\n    }   \r\n    \r\n    getPosition (e, node) {\r\n        let element_boundry = node.getBoundingClientRect();\r\n        let containment_boundry = document.querySelector(this.container).getBoundingClientRect()\r\n        let left = e.clientX, top = e.clientY;\r\n        if (top > containment_boundry.bottom) {\r\n            top = containment_boundry.bottom;\r\n        }\r\n        \r\n        if (left > containment_boundry.right) {\r\n            left = containment_boundry.right;\r\n        }\r\n\r\n        let x = left - element_boundry.left\r\n        let y = top - element_boundry.top;\r\n\r\n        if (this.setLimit) {\r\n            return this.setLimit(x,y)\r\n        }\r\n        return {x:x, y:y};\r\n    }\r\n\r\n}"],"names":[],"mappings":"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"}