import{E as e,B as t,S as a,i as l,s as o,e as s,u as i,h as n,j as r,x as c,o as d,b as p,f as u,g as f,r as h,l as m,c as b,m as g,t as v,a as _,d as x,C as y,A as k,p as w,a4 as A,X as L,w as q}from"./main-ddd9bfcc.js";const C=new e;let X=!0,E={};function P(e){let t,a,l=e[0].association+"";return{c(){t=s("option"),a=i(l),t.disabled="disabled",t.__value="association",t.value=t.__value},m(e,l){n(e,t,l),r(t,a)},p(e,t){1&t&&l!==(l=e[0].association+"")&&c(a,l)},d(e){e&&d(t)}}}function I(e){let t,a,l,o,m,b,g,v,_,x,y,k,w,A,L,q,C,X,E,I,M,j,D,S,Y,O,G,H,R,J,F,T,z,$,B,N,U,V,W,Z,K,Q,ee,te,ae,le,oe,se,ie,ne,re,ce,de,pe,ue,fe,he,me,be,ge,ve,_e,xe,ye,ke,we,Ae,Le,qe,Ce,Xe,Ee,Pe,Ie,Me,je,De,Se,Ye,Oe,Ge,He,Re,Je,Fe,Te,ze,$e,Be,Ne,Ue,Ve,We,Ze,Ke,Qe,et,tt,at,lt,ot,st,it,nt,rt,ct,dt,pt,ut,ft,ht,mt,bt,gt,vt,_t,xt,yt,kt,wt,At,Lt,qt,Ct,Xt,Et,Pt,It,Mt,jt,Dt,St,Yt,Ot,Gt,Ht,Rt,Jt,Ft,Tt,zt,$t,Bt,Nt,Ut,Vt,Wt,Zt,Kt,Qt,ea,ta,aa,la,oa,sa,ia,na,ra,ca,da,pa,ua,fa,ha,ma,ba,ga,va,_a,xa,ya,ka,wa,Aa,La,qa,Ca,Xa,Ea,Pa,Ia,Ma,ja,Da,Sa,Ya,Oa,Ga,Ha,Ra,Ja,Fa,Ta,za,$a,Ba,Na,Ua,Va,Wa,Za,Ka,Qa,el,tl,al,ll,ol,sl,il,nl,rl,cl,dl,pl,ul,fl,hl,ml,bl,gl,vl,_l,xl,yl,kl,wl,Al,Ll,ql,Cl,Xl,El,Pl,Il,Ml,jl,Dl,Sl,Yl,Ol,Gl,Hl,Rl,Jl,Fl,Tl,zl,$l,Bl,Nl,Ul,Vl,Wl,Zl,Kl,Ql,eo,to,ao,lo,oo,so,io=e[0].plot_graph+"",no=e[0].width_label+"",ro=e[0].height_label+"",co=e[0].type+"",po=e[0].point_graph+"",uo=e[0].line_graph+"",fo=e[0].circle_graph+"",ho=e[0].ray_graph+"",mo=e[0].segment_graph+"",bo=e[0].vector_graph+"",go=e[0].parabola_graph+"",vo=e[0].sine_graph+"",_o=e[0].cos_graph+"",xo=e[0].polygon_graph+"",yo=e[0].xaxis_label+"",ko=e[0].yaxis_label+"",wo=e[0].xaxis_interval+"",Ao=e[0].yaxis_interval+"",Lo=e[0].inequality_num+"",qo=e[0].equation_type+"",Co=e[0].standard_form+"",Xo=e[0].equation_type+"",Eo=e[0].circle_form+"",Po=e[0].equation_type+"",Io=e[0].parabola_form+"",Mo=e[0].equation_type+"",jo=e[0].sin_form+"",Do=e[0].equation_type+"",So=e[0].cos_form+"",Yo=e[0].polygon_type+"",Oo=e[0].matchlist_normal+"",Go=e[0].only_x+"",Ho=e[0].only_y+"",Ro=e[0].both_xy+"",Jo=e[0].equation+"",Fo=e[0].fill_warning+"",To=e[0].width_label1+"",zo=e[0].height_label1+"",$o=e[0].type+"",Bo=e[0].number_line_association+"",No=e[0].numberline_plot+"",Uo=e[0].axis_label+"",Vo=e[0].reset+"",Wo=e[0].ok_btn+"",Zo=e[0].cancel+"",Ko=e[1]&&P(e);return{c(){t=s("div"),a=s("div"),l=s("div"),o=s("div"),m=s("div"),b=s("h4"),g=i(io),v=p(),_=s("button"),_.textContent="×",x=p(),y=s("div"),k=s("div"),w=s("div"),A=s("div"),L=s("div"),q=s("label"),C=s("div"),X=i(no),E=s("div"),I=p(),M=s("input"),D=p(),S=s("div"),Y=s("div"),O=s("label"),G=s("div"),H=i(ro),R=s("div"),J=p(),F=s("input"),z=p(),$=s("div"),B=s("div"),N=s("label"),U=s("div"),V=i(co),W=s("div"),Z=p(),K=s("select"),Q=s("option"),ee=i(po),te=s("option"),ae=i(uo),le=s("option"),oe=i(fo),se=s("option"),ie=i(ho),ne=s("option"),re=i(mo),ce=s("option"),de=i(bo),pe=s("option"),ue=i(go),fe=s("option"),he=i(vo),me=s("option"),be=i(_o),ge=s("option"),ve=i(xo),Ko&&Ko.c(),_e=p(),xe=s("input"),ke=p(),we=s("div"),Ae=s("div"),Le=s("label"),qe=s("div"),Ce=i(yo),Xe=s("div"),Ee=p(),Pe=s("input"),Me=p(),je=s("div"),De=s("div"),Se=s("label"),Ye=s("div"),Oe=i(ko),Ge=s("div"),He=p(),Re=s("input"),Fe=p(),Te=s("input"),$e=p(),Be=s("div"),Ne=s("div"),Ue=s("label"),Ve=s("div"),We=i(wo),Ze=s("div"),Ke=p(),Qe=s("input"),tt=p(),at=s("div"),lt=s("div"),ot=s("label"),st=s("div"),it=i(Ao),nt=s("div"),rt=p(),ct=s("input"),pt=p(),ut=s("div"),ft=s("div"),ht=s("label"),mt=i(Lo),bt=p(),gt=s("div"),vt=s("div"),_t=s("input"),xt=p(),yt=s("select"),kt=s("option"),kt.textContent="=",wt=s("option"),wt.textContent="<",At=s("option"),At.textContent=">",Lt=s("option"),Lt.textContent="≤",qt=s("option"),qt.textContent="≥",Ct=p(),Xt=s("input"),Et=p(),Pt=s("select"),It=s("option"),It.textContent="=",Mt=s("option"),Mt.textContent="<",jt=s("option"),jt.textContent=">",Dt=s("option"),Dt.textContent="≤",St=s("option"),St.textContent="≥",Yt=p(),Ot=s("input"),Gt=p(),Ht=s("span"),Ht.textContent="×",Rt=p(),Jt=s("label"),Jt.innerHTML='<i class="icomoon-plus"></i>',Ft=p(),Tt=s("div"),zt=s("label"),$t=i(qo),Bt=p(),Nt=s("select"),Ut=s("option"),Vt=i(Co),Wt=p(),Zt=s("div"),Kt=s("label"),Qt=i(Xo),ea=p(),ta=s("select"),aa=s("option"),la=i(Eo),oa=p(),sa=s("div"),ia=s("label"),na=i(Po),ra=p(),ca=s("select"),da=s("option"),pa=i(Io),ua=p(),fa=s("div"),ha=s("label"),ma=i(Mo),ba=p(),ga=s("select"),va=s("option"),_a=i(jo),xa=p(),ya=s("div"),ka=s("label"),wa=i(Do),Aa=p(),La=s("select"),qa=s("option"),Ca=i(So),Xa=p(),Ea=s("div"),Pa=s("label"),Ia=i(Yo),Ma=p(),ja=s("select"),Da=s("option"),Sa=i(Oo),Ya=s("option"),Oa=i(Go),Ga=s("option"),Ha=i(Ho),Ra=s("option"),Ja=i(Ro),Fa=p(),Ta=s("input"),$a=p(),Ba=s("div"),Na=s("label"),Ua=s("div"),Va=i(Jo),Wa=s("div"),Za=p(),Ka=s("input"),el=p(),tl=s("div"),al=i(Fo),ll=p(),ol=s("div"),sl=s("div"),il=s("div"),nl=s("div"),rl=s("label"),cl=s("div"),dl=i(To),pl=s("div"),ul=p(),fl=s("input"),ml=p(),bl=s("div"),gl=s("div"),vl=s("label"),_l=s("div"),xl=i(zo),yl=s("div"),kl=p(),wl=s("input"),Ll=p(),ql=s("div"),Cl=s("div"),Xl=s("label"),El=s("div"),Pl=i($o),Il=s("div"),Ml=p(),jl=s("select"),Dl=s("option"),Sl=i(Bo),Yl=s("option"),Ol=i(No),Gl=p(),Hl=s("div"),Rl=s("div"),Jl=s("label"),Fl=s("div"),Tl=i(Uo),zl=s("div"),$l=p(),Bl=s("input"),Ul=p(),Vl=s("div"),Vl.innerHTML='<textarea id="code" class="w-100" name="jscript" style="height: 300px"></textarea>',Wl=p(),Zl=s("div"),Kl=s("button"),Ql=i(Vo),eo=p(),to=s("button"),ao=i(Wo),lo=p(),oo=s("button"),so=i(Zo),u(b,"class","modal-title"),u(_,"type","button"),u(_,"class","close"),u(_,"data-bs-dismiss","modal"),u(m,"class","modal-header"),u(C,"class","mendatory_label float-left"),u(E,"class","mendatory_field"),u(q,"class","control-label font-weight-normal mb-0 d-inline-flex"),u(q,"for","graph-width"),u(M,"type","text"),u(M,"class","integer validate form-control"),u(M,"id","graph-width"),u(M,"name","width"),u(M,"placeholder",j=e[0].graph_width),u(M,"defaultvalue","500"),u(L,"class","form-group text-left"),u(A,"class","col-sm-3 px-1"),u(G,"class","mendatory_label float-left"),u(R,"class","mendatory_field"),u(O,"class","control-label font-weight-normal mb-0 d-inline-flex"),u(O,"for","graph-height"),u(F,"type","text"),u(F,"class","integer validate form-control"),u(F,"id","graph-height"),u(F,"name","height"),u(F,"placeholder",T=e[0].graph_height),u(F,"defaultvalue","500"),u(Y,"class","form-group text-left"),u(S,"class","col-sm-3 px-1"),u(U,"class","mendatory_label float-left"),u(W,"class","mendatory_field"),u(N,"class","control-label font-weight-normal mb-0 d-inline-flex"),u(N,"for","graph-type"),Q.__value="point",Q.value=Q.__value,te.__value="line",te.value=te.__value,le.__value="circle",le.value=le.__value,se.__value="ray",se.value=se.__value,ne.__value="segment",ne.value=ne.__value,ce.__value="vector",ce.value=ce.__value,pe.__value="parabola",pe.value=pe.__value,fe.__value="sine",fe.value=fe.__value,me.__value="cosine",me.value=me.__value,ge.__value="polygon",ge.value=ge.__value,u(K,"class","form-select select"),u(K,"id","graph-type"),u(K,"name","type"),u(B,"class","form-group text-left"),u($,"class","col-sm-6 px-1"),u(xe,"type","hidden"),u(xe,"class","form-control"),u(xe,"id","graph-id"),u(xe,"name","id"),u(xe,"placeholder",ye=e[0].title),xe.value="ID0",u(qe,"class","mendatory_label float-left"),u(Xe,"class","mendatory_field"),u(Le,"class","control-label font-weight-normal mb-0 d-inline-flex"),u(Le,"for","xaxis"),u(Pe,"type","text"),u(Pe,"class","form-control validate integer"),u(Pe,"id","xaxis"),u(Pe,"name","xaxis"),u(Pe,"placeholder",Ie=e[0].xaxis_value),u(Pe,"min","2"),u(Pe,"defaultvalue","10"),u(Ae,"class","form-group text-left"),u(we,"class","col-sm-3 px-1"),u(Ye,"class","mendatory_label float-left"),u(Ge,"class","mendatory_field"),u(Se,"class","control-label font-weight-normal mb-0 d-inline-flex"),u(Se,"for","yaxis"),u(Re,"type","text"),u(Re,"class","form-control validate integer"),u(Re,"id","yaxis"),u(Re,"name","yaxis"),u(Re,"placeholder",Je=e[0].yaxis_value),u(Re,"min","2"),u(Re,"defaultvalue","10"),u(De,"class","form-group text-left"),u(je,"class","col-sm-3 px-1"),u(Te,"type","hidden"),u(Te,"id","graph-anskey"),u(Te,"name","anskey"),u(Te,"placeholder",ze=e[0].anskey),u(Ve,"class","mendatory_label float-left"),u(Ze,"class","mendatory_field"),u(Ue,"class","control-label font-weight-normal mb-0 d-inline-flex"),u(Ue,"for","xtickdistance"),u(Qe,"type","text"),u(Qe,"class","form-control validate integer"),u(Qe,"id","xtickdistance"),u(Qe,"name","xtickdistance"),u(Qe,"placeholder",et=e[0].xaxis_interval),u(Qe,"min","1"),u(Qe,"defaultvalue","1"),u(Ne,"class","form-group text-left"),u(Be,"class","col-sm-3 px-1"),u(st,"class","mendatory_label float-left"),u(nt,"class","mendatory_field"),u(ot,"class","control-label font-weight-normal mb-0 d-inline-flex"),u(ot,"for","ytickdistance"),u(ct,"type","text"),u(ct,"class","form-control validate integer"),u(ct,"id","ytickdistance"),u(ct,"name","ytickdistance"),u(ct,"placeholder",dt=e[0].yaxis_interval),u(ct,"min","1"),u(ct,"defaultvalue","1"),u(lt,"class","form-group text-left"),u(at,"class","col-sm-3 px-1"),u(ht,"class","control-label font-weight-normal mb-0"),u(_t,"type","text"),u(_t,"class","text-center"),u(_t,"defaultvalue",""),f(_t,"width","40px"),f(_t,"height","25px"),kt.__value="0",kt.value=kt.__value,wt.__value="1",wt.value=wt.__value,At.__value="2",At.value=At.__value,Lt.__value="3",Lt.value=Lt.__value,qt.__value="4",qt.value=qt.__value,u(yt,"class","form-select"),f(yt,"height","25px"),u(Xt,"type","text"),u(Xt,"defaultvalue","x"),u(Xt,"class","text-center"),f(Xt,"width","40px"),f(Xt,"height","25px"),Xt.readOnly="readonly",It.__value="0",It.value=It.__value,Mt.__value="1",Mt.value=Mt.__value,jt.__value="2",jt.value=jt.__value,Dt.__value="3",Dt.value=Dt.__value,St.__value="4",St.value=St.__value,u(Pt,"class","form-select"),f(Pt,"height","25px"),u(Ot,"type","text"),u(Ot,"defaultvalue",""),u(Ot,"class","text-center"),f(Ot,"width","40px"),f(Ot,"height","25px"),u(Ht,"class","remove-eq h position-absolute right5"),u(vt,"class","position-relative p-1"),u(gt,"class","plotEq"),u(Jt,"id","add-equation"),u(Jt,"class","add-equation btn btn-primary btn-xs pull-right mr-sm"),u(Jt,"title","Add item"),u(ft,"class","numberlinePlot form-group text-left h"),u(ft,"id","numberlinePlot"),f(ft,"border","1px solid #ccc"),u(ut,"class","col-sm-12 px-1"),u(zt,"class","control-label font-weight-normal mb-0"),u(zt,"for","line-eq"),Ut.__value="y=m*x+c",Ut.value=Ut.__value,u(Nt,"class","form-select"),u(Nt,"id","line-eq"),u(Nt,"name","line-eq"),Nt.disabled="disabled",u(Tt,"class","form-group equation_select col-sm-6 px-1 text-left h"),u(Tt,"id","line"),u(Kt,"class","control-label font-weight-normal mb-0"),u(Kt,"for","circle-eq"),aa.__value="(x-x1)^2 + (y-y1)^2 = r^2",aa.value=aa.__value,u(ta,"class","form-select"),u(ta,"id","circle-eq"),u(ta,"name","circle-eq"),ta.disabled="disabled",u(Zt,"class","form-group equation_select col-sm-7 px-1 text-left h"),u(Zt,"id","circle"),u(ia,"class","control-label font-weight-normal mb-0"),u(ia,"for","parabola-eq"),da.__value="y=a*(x-h)^2+k",da.value=da.__value,u(ca,"class","form-select"),u(ca,"id","parabola-eq"),u(ca,"name","parabola-eq"),ca.disabled="disabled",u(sa,"class","form-group equation_select col-sm-6 px-1 text-left h"),u(sa,"id","parabola"),u(ha,"class","control-label font-weight-normal mb-0"),u(ha,"for","sine-eq"),va.__value="y=A*sin(B*x+C)+D",va.value=va.__value,u(ga,"class","form-select"),u(ga,"id","sine-eq"),u(ga,"name","sine-eq"),ga.disabled="disabled",u(fa,"class","form-group equation_select col-sm-6 px-1 text-left h"),u(fa,"id","sine"),u(ka,"class","control-label font-weight-normal mb-0"),u(ka,"for","cosine-eq"),qa.__value="y=A*cos(B*x+C)+D",qa.value=qa.__value,u(La,"class","form-select"),u(La,"id","cosine-eq"),u(La,"name","cosine-eq"),La.disabled="disabled",u(ya,"class","form-group equation_select col-sm-6 px-1 text-left h"),u(ya,"id","cosine"),u(Pa,"class","control-label font-weight-normal mb-0"),u(Pa,"for","polygon_type"),Da.__value="0",Da.value=Da.__value,Ya.__value="1",Ya.value=Ya.__value,Ga.__value="2",Ga.value=Ga.__value,Ra.__value="3",Ra.value=Ra.__value,u(ja,"class","form-select"),u(ja,"id","polygon_type"),u(ja,"name","polygon_type"),u(Ta,"type","hidden"),u(Ta,"id","reflection"),u(Ta,"name","reflection"),u(Ta,"placeholder",za=e[0].reflection),u(Ea,"class","form-group equation_select col-sm-6 px-1 text-left h"),u(Ea,"id","polygon"),u(Ua,"class","mendatory_label float-left"),u(Wa,"class","mendatory_field"),u(Na,"class","control-label font-weight-normal mb-0 d-inline-flex"),u(Na,"for","graph-equation"),u(Ka,"type","text"),u(Ka,"class","equation form-control"),u(Ka,"id","graph-equation"),u(Ka,"name","equation"),u(Ka,"placeholder",Qa=e[0].equation),u(tl,"class","text-danger err-msg d-none"),u(Ba,"class","form-group col-sm-6 px-1 text-left h eq d-none"),u(w,"class","row mx-0"),u(k,"class","graphitem plotgraph h"),u(cl,"class","mendatory_label float-left"),u(pl,"class","mendatory_field"),u(rl,"class","control-label font-weight-normal mb-0 d-inline-flex"),u(rl,"for","numberline-width"),u(fl,"type","text"),u(fl,"class","integer form-control"),u(fl,"id","numberline-width"),u(fl,"name","width"),u(fl,"placeholder",hl=e[0].graph_width),u(fl,"defaultvalue","420"),u(nl,"class","form-group text-left"),u(il,"class","col-sm-6 px-1"),u(_l,"class","mendatory_label float-left"),u(yl,"class","mendatory_field"),u(vl,"class","control-label font-weight-normal mb-0 d-inline-flex"),u(vl,"for","numberline-height"),u(wl,"type","text"),u(wl,"class","integer form-control"),u(wl,"id","numberline-height"),u(wl,"name","height"),u(wl,"placeholder",Al=e[0].graph_height),u(wl,"defaultvalue","250"),u(gl,"class","form-group text-left"),u(bl,"class","col-sm-6 px-1"),u(El,"class","mendatory_label float-left"),u(Il,"class","mendatory_field"),u(Xl,"class","control-label font-weight-normal mb-0 d-inline-flex"),u(Xl,"for","numberline-type"),Dl.__value="numberline association",Dl.value=Dl.__value,Yl.__value="numberline plot",Yl.value=Yl.__value,u(jl,"class","form-select select"),u(jl,"id","numberline-type"),u(jl,"name","type"),u(Cl,"class","form-group text-left"),u(ql,"class","col-sm-6 px-1"),u(Fl,"class","mendatory_label float-left"),u(zl,"class","mendatory_field"),u(Jl,"class","control-label font-weight-normal mb-0 d-inline-flex"),u(Jl,"for","axis"),u(Bl,"type","text"),u(Bl,"class","form-control"),u(Bl,"id","axis"),u(Bl,"name","axis"),u(Bl,"placeholder",Nl=e[0].axis_label),u(Bl,"defaultvalue","5"),u(Rl,"class","form-group text-left"),u(Hl,"class","col-sm-6 px-1"),u(sl,"class","row mx-0"),u(ol,"class","numberline h"),u(Vl,"class","jscript h p-1"),u(y,"class","modal-body overflow-y"),u(Kl,"type","button"),u(Kl,"class","btn btn-secondary resetElement"),u(to,"type","button"),u(to,"class","btn btn-secondary addElement"),u(oo,"type","button"),u(oo,"class","btn btn-light"),u(oo,"data-bs-dismiss","modal"),u(Zl,"class","modal-footer"),u(o,"class","modal-content"),u(l,"class","modal-dialog modal-dialog-centered"),u(a,"id","authoring-modal"),u(a,"class","modal fade"),u(a,"tabindex","-1")},m(e,s){n(e,t,s),r(t,a),r(a,l),r(l,o),r(o,m),r(m,b),r(b,g),r(m,v),r(m,_),r(o,x),r(o,y),r(y,k),r(k,w),r(w,A),r(A,L),r(L,q),r(q,C),r(C,X),r(q,E),r(L,I),r(L,M),r(w,D),r(w,S),r(S,Y),r(Y,O),r(O,G),r(G,H),r(O,R),r(Y,J),r(Y,F),r(w,z),r(w,$),r($,B),r(B,N),r(N,U),r(U,V),r(N,W),r(B,Z),r(B,K),r(K,Q),r(Q,ee),r(K,te),r(te,ae),r(K,le),r(le,oe),r(K,se),r(se,ie),r(K,ne),r(ne,re),r(K,ce),r(ce,de),r(K,pe),r(pe,ue),r(K,fe),r(fe,he),r(K,me),r(me,be),r(K,ge),r(ge,ve),Ko&&Ko.m(K,null),r(w,_e),r(w,xe),r(w,ke),r(w,we),r(we,Ae),r(Ae,Le),r(Le,qe),r(qe,Ce),r(Le,Xe),r(Ae,Ee),r(Ae,Pe),r(w,Me),r(w,je),r(je,De),r(De,Se),r(Se,Ye),r(Ye,Oe),r(Se,Ge),r(De,He),r(De,Re),r(w,Fe),r(w,Te),r(w,$e),r(w,Be),r(Be,Ne),r(Ne,Ue),r(Ue,Ve),r(Ve,We),r(Ue,Ze),r(Ne,Ke),r(Ne,Qe),r(w,tt),r(w,at),r(at,lt),r(lt,ot),r(ot,st),r(st,it),r(ot,nt),r(lt,rt),r(lt,ct),r(w,pt),r(w,ut),r(ut,ft),r(ft,ht),r(ht,mt),r(ft,bt),r(ft,gt),r(gt,vt),r(vt,_t),r(vt,xt),r(vt,yt),r(yt,kt),r(yt,wt),r(yt,At),r(yt,Lt),r(yt,qt),r(vt,Ct),r(vt,Xt),r(vt,Et),r(vt,Pt),r(Pt,It),r(Pt,Mt),r(Pt,jt),r(Pt,Dt),r(Pt,St),r(vt,Yt),r(vt,Ot),r(vt,Gt),r(vt,Ht),r(ft,Rt),r(ft,Jt),r(w,Ft),r(w,Tt),r(Tt,zt),r(zt,$t),r(Tt,Bt),r(Tt,Nt),r(Nt,Ut),r(Ut,Vt),r(w,Wt),r(w,Zt),r(Zt,Kt),r(Kt,Qt),r(Zt,ea),r(Zt,ta),r(ta,aa),r(aa,la),r(w,oa),r(w,sa),r(sa,ia),r(ia,na),r(sa,ra),r(sa,ca),r(ca,da),r(da,pa),r(w,ua),r(w,fa),r(fa,ha),r(ha,ma),r(fa,ba),r(fa,ga),r(ga,va),r(va,_a),r(w,xa),r(w,ya),r(ya,ka),r(ka,wa),r(ya,Aa),r(ya,La),r(La,qa),r(qa,Ca),r(w,Xa),r(w,Ea),r(Ea,Pa),r(Pa,Ia),r(Ea,Ma),r(Ea,ja),r(ja,Da),r(Da,Sa),r(ja,Ya),r(Ya,Oa),r(ja,Ga),r(Ga,Ha),r(ja,Ra),r(Ra,Ja),r(Ea,Fa),r(Ea,Ta),r(w,$a),r(w,Ba),r(Ba,Na),r(Na,Ua),r(Ua,Va),r(Na,Wa),r(Ba,Za),r(Ba,Ka),r(Ba,el),r(Ba,tl),r(tl,al),r(y,ll),r(y,ol),r(ol,sl),r(sl,il),r(il,nl),r(nl,rl),r(rl,cl),r(cl,dl),r(rl,pl),r(nl,ul),r(nl,fl),r(sl,ml),r(sl,bl),r(bl,gl),r(gl,vl),r(vl,_l),r(_l,xl),r(vl,yl),r(gl,kl),r(gl,wl),r(sl,Ll),r(sl,ql),r(ql,Cl),r(Cl,Xl),r(Xl,El),r(El,Pl),r(Xl,Il),r(Cl,Ml),r(Cl,jl),r(jl,Dl),r(Dl,Sl),r(jl,Yl),r(Yl,Ol),r(sl,Gl),r(sl,Hl),r(Hl,Rl),r(Rl,Jl),r(Jl,Fl),r(Fl,Tl),r(Jl,zl),r(Rl,$l),r(Rl,Bl),r(y,Ul),r(y,Vl),r(o,Wl),r(o,Zl),r(Zl,Kl),r(Kl,Ql),r(Zl,eo),r(Zl,to),r(to,ao),r(Zl,lo),r(Zl,oo),r(oo,so)},p(e,[t]){1&t&&io!==(io=e[0].plot_graph+"")&&c(g,io),1&t&&no!==(no=e[0].width_label+"")&&c(X,no),1&t&&j!==(j=e[0].graph_width)&&u(M,"placeholder",j),1&t&&ro!==(ro=e[0].height_label+"")&&c(H,ro),1&t&&T!==(T=e[0].graph_height)&&u(F,"placeholder",T),1&t&&co!==(co=e[0].type+"")&&c(V,co),1&t&&po!==(po=e[0].point_graph+"")&&c(ee,po),1&t&&uo!==(uo=e[0].line_graph+"")&&c(ae,uo),1&t&&fo!==(fo=e[0].circle_graph+"")&&c(oe,fo),1&t&&ho!==(ho=e[0].ray_graph+"")&&c(ie,ho),1&t&&mo!==(mo=e[0].segment_graph+"")&&c(re,mo),1&t&&bo!==(bo=e[0].vector_graph+"")&&c(de,bo),1&t&&go!==(go=e[0].parabola_graph+"")&&c(ue,go),1&t&&vo!==(vo=e[0].sine_graph+"")&&c(he,vo),1&t&&_o!==(_o=e[0].cos_graph+"")&&c(be,_o),1&t&&xo!==(xo=e[0].polygon_graph+"")&&c(ve,xo),e[1]?Ko?Ko.p(e,t):(Ko=P(e),Ko.c(),Ko.m(K,null)):Ko&&(Ko.d(1),Ko=null),1&t&&ye!==(ye=e[0].title)&&u(xe,"placeholder",ye),1&t&&yo!==(yo=e[0].xaxis_label+"")&&c(Ce,yo),1&t&&Ie!==(Ie=e[0].xaxis_value)&&u(Pe,"placeholder",Ie),1&t&&ko!==(ko=e[0].yaxis_label+"")&&c(Oe,ko),1&t&&Je!==(Je=e[0].yaxis_value)&&u(Re,"placeholder",Je),1&t&&ze!==(ze=e[0].anskey)&&u(Te,"placeholder",ze),1&t&&wo!==(wo=e[0].xaxis_interval+"")&&c(We,wo),1&t&&et!==(et=e[0].xaxis_interval)&&u(Qe,"placeholder",et),1&t&&Ao!==(Ao=e[0].yaxis_interval+"")&&c(it,Ao),1&t&&dt!==(dt=e[0].yaxis_interval)&&u(ct,"placeholder",dt),1&t&&Lo!==(Lo=e[0].inequality_num+"")&&c(mt,Lo),1&t&&qo!==(qo=e[0].equation_type+"")&&c($t,qo),1&t&&Co!==(Co=e[0].standard_form+"")&&c(Vt,Co),1&t&&Xo!==(Xo=e[0].equation_type+"")&&c(Qt,Xo),1&t&&Eo!==(Eo=e[0].circle_form+"")&&c(la,Eo),1&t&&Po!==(Po=e[0].equation_type+"")&&c(na,Po),1&t&&Io!==(Io=e[0].parabola_form+"")&&c(pa,Io),1&t&&Mo!==(Mo=e[0].equation_type+"")&&c(ma,Mo),1&t&&jo!==(jo=e[0].sin_form+"")&&c(_a,jo),1&t&&Do!==(Do=e[0].equation_type+"")&&c(wa,Do),1&t&&So!==(So=e[0].cos_form+"")&&c(Ca,So),1&t&&Yo!==(Yo=e[0].polygon_type+"")&&c(Ia,Yo),1&t&&Oo!==(Oo=e[0].matchlist_normal+"")&&c(Sa,Oo),1&t&&Go!==(Go=e[0].only_x+"")&&c(Oa,Go),1&t&&Ho!==(Ho=e[0].only_y+"")&&c(Ha,Ho),1&t&&Ro!==(Ro=e[0].both_xy+"")&&c(Ja,Ro),1&t&&za!==(za=e[0].reflection)&&u(Ta,"placeholder",za),1&t&&Jo!==(Jo=e[0].equation+"")&&c(Va,Jo),1&t&&Qa!==(Qa=e[0].equation)&&u(Ka,"placeholder",Qa),1&t&&Fo!==(Fo=e[0].fill_warning+"")&&c(al,Fo),1&t&&To!==(To=e[0].width_label1+"")&&c(dl,To),1&t&&hl!==(hl=e[0].graph_width)&&u(fl,"placeholder",hl),1&t&&zo!==(zo=e[0].height_label1+"")&&c(xl,zo),1&t&&Al!==(Al=e[0].graph_height)&&u(wl,"placeholder",Al),1&t&&$o!==($o=e[0].type+"")&&c(Pl,$o),1&t&&Bo!==(Bo=e[0].number_line_association+"")&&c(Sl,Bo),1&t&&No!==(No=e[0].numberline_plot+"")&&c(Ol,No),1&t&&Uo!==(Uo=e[0].axis_label+"")&&c(Tl,Uo),1&t&&Nl!==(Nl=e[0].axis_label)&&u(Bl,"placeholder",Nl),1&t&&Vo!==(Vo=e[0].reset+"")&&c(Ql,Vo),1&t&&Wo!==(Wo=e[0].ok_btn+"")&&c(ao,Wo),1&t&&Zo!==(Zo=e[0].cancel+"")&&c(so,Zo)},i:h,o:h,d(e){e&&d(t),Ko&&Ko.d()}}}function M(e,t,a){let{l:l}=t,{is_association:o}=t;return e.$$set=e=>{"l"in e&&a(0,l=e.l),"is_association"in e&&a(1,o=e.is_association)},[l,o]}E.isValid=!0,E.stopUpdate=!1,E.visible_class="",E.storage={store:function(e,t,a){if(!e)return this.state;if(!t)return e in this.state?this.state[e]:{};if(arguments.length<3){if(!(e in this.state))return;return this.state[e][t]}e in this.state||(this.state[e]={}),this.state[e][t]=a},remove:function(e){this.state[e]&&delete this.state[e]},state:{}},E.initGraph=function(){let e;if(C.select("#special_module_xml").value.indexOf("smxml")>-1){C.select("#special_module_xml").value&&""!=C.select("#special_module_xml").value.trim()&&E.bind_data(C.parseHtml(C.select("#special_module_xml").value));let t=C.selectAll("#mthmain [type]");for(let a=0;a<t.length;a++)if(e=E.setInAssoc(E.storage.store("#"+t[a].id,"attributes")),E.plotgraph(e.id,e.type,e.xaxis,e.yaxis,e.xtickdistance,e.ytickdistance,e.equation),void 0!==e.anskey&&""!=e.anskey)for(let t in JXG.boards)if(0==JXG.boards[t].container.includes("Preview")){let a=JXG.boards[t],l=e.anskey.split("|"),o=1;for(let t=0;t<l.length;t++){let s=l[t],i=s.split(",");if(C.select("#"+e.id).classList.contains("circle"))E.drawCircle(e.id,a,s);else if(C.select("#"+e.id).classList.contains("association")){let t=a.create("glider",[i[0],i[1],a.axis],{name:"",snapSizeX:e.xtickdistance/10,snapSizeY:.4});E.updateAndDraw(e.id,t)}else if(C.select("#"+e.id).classList.contains("plot")){if(-1==s.indexOf(",")){let t=a.create("point",[s,o],{name:""});E.updateAndDraw(e.id,t)}else{let t=a.create("point",[parseInt(i[0]),o],{name:""});t.Xjc=parseInt(i[1]),E.updateAndDraw(e.id,t,i[2])}o++}else{let t=a.create("point",[parseInt(i[0]),parseInt(i[1])],{name:""});C.select("#"+e.id).classList.contains("polygon")?E.updateAndDraw(e.id,t,l):E.updateAndDraw(e.id,t)}}}}},E.resetData=function(e){if(C.find("#authoring-modal",".graphitem .h",{action:"css",actionData:{display:"none"}}),"sine"==e.value||"cosine"==e.value)C.select("#xaxis").value="720",C.select("#yaxis").value="3",C.select("#graph-width").value="700",C.select("#graph-height").value="450",C.select("#xtickdistance").value="90",C.select("#ytickdistance").value="1",C.select("#ytickdistance").readOnly=!1,C.select("#yaxis").readOnly=!1,C.find("#authoring-modal",".graphitem .eq",{action:"css",actionData:{display:"block"}}),C.find("#authoring-modal",'[id = "'+e.value+'"]',{action:"css",actionData:{display:"block"}});else if("association"==e.value||"plot"==e.value)C.select("#graph-height").value="300",C.select("#graph-width").value="450",C.select("#xaxis").value="3",C.select("#yaxis").value="3",C.select("#yaxis").readOnly=!0,C.select("#xtickdistance").value="1",C.select("#ytickdistance").value="1",C.select("#ytickdistance").readOnly=!0,"plot"==e.value&&(C.select("#graph-width").value="450",C.select("#graph-height").value="250");else{C.select("#xaxis").value="10",C.select("#yaxis").value="10",C.select("#yaxis").readOnly=!1,C.select("#graph-height").value="450",C.select("#graph-width").value="450",C.select("#xtickdistance").value="1",C.select("#ytickdistance").value="1",C.select("#ytickdistance").readOnly=!1,"polygon"==e.value&&(C.select("#polygon_type").value="0"),["line","sine","cosine","parabola","circle"].indexOf(e.value)>-1&&C.find("#authoring-modal","#"+e.value,{action:"css",actionData:{display:"block"}})}C.find("#authoring-modal",'[id = "'+e.value+'"]',{action:"css",actionData:{display:"block"}}),C.find("#authoring-modal","#graph-equation",{action:"value",actionData:""}),E.resetModal()},E.bind_data=function(e){let t='[type="'+e.getAttribute("type")+'"]',a=[];"SMXML"==e.nodeName&&(t="#mthmain");for(let t=0;t<e.attributes.length;t++)a[t]={name:e.attributes[t].name,value:e.attributes[t].value};if(void 0!==t&&E.storage.store("#"+C.select(t).id,"attributes",a),e.children.length>0)for(let t=0;t<e.children.length;t++)E.bind_data(e.children[t])},E.elemModal=function(e,t,a){switch(E.resetModal(),C.selectAll("#authoring-modal .modal-body>.h","addClass","h"),C.listen("body","click",".addElement",(function(){let t=C.selectAll("#authoring-modal ."+E.visible_class+" input");for(let e=0;e<t.length;e++){let a=t[e];""==a.value&&(a.classList.contains("num")||a.classList.contains("integer"))&&(E.isValid=!1,C.selectAll(".error","remove"),C.setCss(a,{border:"1px solid red",background:"#FFCECE"}),C.insert(a.parentElement,'<span class="error text-danger">Please fill out this field</span>',"beforeend")),("graph-width"==a.getAttribute("id")||"graph-height"==a.getAttribute("id"))&&parseInt(a.value)<200&&(E.isValid=!1,C.selectAll(".error","remove"),C.setCss(a,{border:"1px solid red",background:"#FFCECE"}),C.insert(a.parentElement,'<span class="error text-danger">Value must be greater than or equal to 200.</span>',"beforeend"),a.focus()),("xaxis"==a.getAttribute("id")||"yaxis"==a.getAttribute("id"))&&parseInt(a.value)<2&&(E.isValid=!1,C.selectAll(".error","remove"),C.setCss(a,{border:"1px solid red",background:"#FFCECE"}),C.insert(a.parentElement,'<span class="error text-danger">Value must be greater than or equal to 2.</span>',"beforeend"),a.focus()),("xtickdistance"==a.getAttribute("id")||"ytickdistance"==a.getAttribute("id"))&&parseInt(a.value)<1&&(E.isValid=!1,C.selectAll(".error","remove"),C.setCss(a,{border:"1px solid red",background:"#FFCECE"}),C.insert(a.parentElement,'<span class="error text-danger">Value must be greater than or equal to 1.</span>',"beforeend"),a.focus())}1==E.isValid&&(C.getBS("#authoring-modal","Modal").hide(),E.updateElem(e,a))})),C.listen("body","click",".resetElement",(function(){E.resetData(C.select("#authoring-modal #graph-type")),E.updateElem(e,a)})),e){case"plotgraph":C.select("#authoring-modal .title").innerText="Plot Graph",C.setCss("#authoring-modal .graphitem",{display:"block"});break;case"numberline":C.select("#authoring-modal .title").innerText="Number Line",C.setCss("#authoring-modal .numberline",{display:"block"})}C.getBS("#authoring-modal","Modal").show(),E.visible_class=e,C.select("#authoring-modal #graph-type").value=C.select('[id="'+a+'"]').getAttribute("type"),C.selectAll(".equation_select","css",{display:"none"}),C.find("#authoring-modal",'[id = "'+C.select("#authoring-modal #graph-type").value+'"]',{action:"css",actionData:{display:"block"}}),a&&E.setData(E.storage.store("#"+a,"attributes"))},E.resetModal=function(){C.selectAll(".err-msg","addClass","d-none"),C.selectAll("input, .equation","removeAttr","style"),C.selectAll(".error","remove")},E.setData=function(e){for(let t=0;t<e.length;t+=1){C.select("#authoring-modal ."+E.visible_class+' [name="'+e[t].name+'"]').value=e[t].value}C.select("#authoring-modal #graph-anskey").value="",C.select("#authoring-modal #reflection").value=""},E.serialize=function(e){let t=[];for(let a=0;a<e.length;a++)"radio"==e[a].getAttribute("type")||"checkbox"==e[a].getAttribute("type")?e[a].checked&&(t[t.length]={name:e[a].name,value:1}):e[a].name&&!e[a].disabled&&(t[t.length]={name:e[a].name,value:e[a].value});return t},E.updateElem=function(e,t){let a,l,o,s,i,n,r,c,d,p=C.find(C.select("#authoring-modal ."+E.visible_class),"select, textarea, input","all"),u=E.serialize(p),f=[],h="mthmain";for(let e=0;e<u.length;e++){let t=u[e];"width"==t.name&&(a=t.value),"height"==t.name&&(l=t.value),"type"==t.name&&(d=t.value),"xaxis"==t.name&&(s=t.value),"yaxis"==t.name&&(i=t.value),"xtickdistance"==t.name&&(n=t.value),"ytickdistance"==t.name&&(r=t.value),"equation"==t.name&&(c=t.value),f[t.name]=t.name}"plotgraph"==e&&t&&(h='[id="'+t+'"]',o="plot"!=d?l-40:l-75,E.storage.store("#"+t,"attributes",u),C.setAttr(h,{type:d,class:d,xaxis:s,yaxis:i,xtickdistance:n,ytickdistance:r}),E.storage.store("#mthmain","attributes",u),C.setCss("#mthmain",{width:a+"px",height:l+"px"}),C.selectAll('#mthmain [id^="ID"]',"css",{width:a+"px",height:o+"px"}),E.plotgraph(t,d,s,i,n,r,c)),E.updateXML(h,u)},E.updateXML=function(e,t){if(C.select("#special_module_xml").value&&""!=C.select("#special_module_xml").value.trim()&&!E.stopUpdate){let a,l=C.parseHtml(C.select("#special_module_xml").value);if(a="mthmain"==e?l:C.find(l,e),a.nodeName)for(let e=0;e<t.length;e+=1)a.setAttribute(t[e].name,t[e].value);C.select("#special_module_xml").value=E.formatXml(l.xml?l.xml:(new XMLSerializer).serializeToString(l))}},E.plotgraph=function(e,t,a,l,o,s,i){JXG.Options.point.snapToGrid=!0,JXG.Options.point.snapSizeX=o,JXG.Options.point.snapSizeY=s,JXG.Options.point.showInfobox=!0;let n,r,c,d=-a,p=-l;for(let e in JXG.boards)0==JXG.boards[e].container.includes("Preview")&&JXG.JSXGraph.freeBoard(JXG.boards[e]);if(C.selectAll(".footer_toolbox, .sliderbar","css",{display:"none"}),C.select("#deleteElm").classList.remove("h"),C.select("#"+e).classList.contains("association"))n=JXG.JSXGraph.initBoard(e,{boundingbox:[d,3.4,a,-5.4],axis:!1,grid:!1,zoom:{factorX:1.25,factorY:1.25,wheel:!0,needshift:!0,eps:.1},showCopyright:!1,shownavigation:!1}),r=n.create("line",[[0,.4],[1,.4]],{firstArrow:!0,lastArrow:!0,strokecolor:"#3E3E3E",fillcolor:"#3E3E3E",fixed:!0}),n.axis=r,n.create("ticks",[r,o],{minorTicks:9,majorHeight:15,minorHeight:5,drawLabels:!0,label:{offset:[2,-10]},drawZero:!0}),c=n.create("polygon",[[-(a+o),-2.4],[-(a+o),-5.4],[a+o,-5.4],[a+o,-2.4]],{fillcolor:"#ccc",highlightfillcolor:"#ccc",withLines:!1});else if(C.select("#"+e).classList.contains("plot"))n=JXG.JSXGraph.initBoard(e,{boundingbox:[d,l,a,-1],axis:!1,grid:!1,zoom:{factorX:1.25,factorY:1.25,wheel:!0,needshift:!0,eps:.1},showCopyright:!1,shownavigation:!1}),r=n.create("line",[[0,0],[1,0]],{firstArrow:!0,lastArrow:!0,strokecolor:"#3E3E3E",fillcolor:"#3E3E3E",fixed:!0}),n.create("ticks",[r,o],{minorTicks:0,majorHeight:15,minorHeight:5,drawLabels:!0,label:{offset:[-6,-16]},drawZero:!0}),n.xmax=a,C.selectAll(".footer_toolbox","css",{display:"block"}),C.select("#deleteElm").classList.add("h");else{n=JXG.JSXGraph.initBoard(e,{boundingbox:[d,l,a,p],axis:!1,grid:!1,zoom:{factorX:1.25,factorY:1.25,wheel:!0,needshift:!0,eps:.1},showCopyright:!1,shownavigation:!1});let t=n.create("axis",[[-Math.abs(o/2),0],[Math.abs(o/2),0]]);t.removeAllTicks(),n.create("ticks",[t,o],{strokeColor:"#ccc",majorHeight:-1,drawLabels:!0,label:{offset:[2,-10]},minorTicks:3,drawZero:!0});let i=n.create("axis",[[0,-Math.abs(s/2)],[0,Math.abs(s/2)]]);i.removeAllTicks(),n.create("ticks",[i,s],{strokeColor:"#ccc",majorHeight:-1,drawLabels:!0,label:{offset:[4,-6]},minorTicks:3,drawZero:!1})}n.prevPoint=null,n.points=[],n.xtick=o,n.ytick=s,n.xaxis=a,n.yaxis=l;let u=1,f=function(t){let a,s,i=!0;for(s in a=function(e){let t=n.getCoordsTopLeftCorner(e),a=JXG.getPosition(e,0),l=a[0]-t[0],o=a[1]-t[1];return new JXG.Coords(JXG.COORDS_BY_SCREEN,[l,o],n)}(t),n.objects)if(JXG.isPoint(n.objects[s])&&n.objects[s].hasPoint(a.scrCoords[1],a.scrCoords[2])){i=!1,X=!1;break}if(i){let t,s;C.select("#"+e).classList.contains("association")?t=n.create("glider",[a.usrCoords[1],a.usrCoords[2],n.axis],{name:"",snapSizeX:o/10,snapSizeY:.4}):C.select("#"+e).classList.contains("plot")?(t=n.create("point",[a.usrCoords[1],u],{name:"",showInfobox:!1}),t.Xjc=t.X()+Math.abs(n.xtick),s=C.select(".footer_toolbox li.btn_active").getAttribute("data-value"),u++,u==l&&n.off("down")):t=n.create("point",[a.usrCoords[1],a.usrCoords[2]],{name:""}),E.updateAndDraw(e,t,s),E.updateAttrs(e,t),E.updateXML("#"+e,E.storage.store("#"+e,"attributes"))}};C.select("#"+e).classList.contains("association")?n.axis.off("down").on("down",f):(n.off("down").on("down",f),(C.select("#"+e).classList.contains("line")||C.select("#"+e).classList.contains("parabola"))&&(C.selectAll(".sliderbar","css",{display:"block",width:parseInt(C.select("#"+e).style.width)+2+"px"}),C.find(".sliderbar","label").nodeName&&(C.find(".sliderbar","label").innerHTML=i)));let h=C.find("#mthmain",".selected-option");h.nodeName&&(h.innerHTML=t,h.style.textTransform="capitalize")},E.updateAndDraw=function(e,a,l){let o=E.setInAssoc(E.storage.store("#"+e,"attributes"));if(C.select("#"+e).classList.contains("plot")){if(a.setAttribute({fillcolor:"#52A8EC",strokecolor:"#52A8EC"}),C.select('[data-value="'+l+'"]').nodeName&&C.select('[data-value="'+l+'"]').getAttribute("rel")&&0==C.select('[data-value="'+l+'"]').getAttribute("rel").indexOf("segment"))switch(a.board.prevPoint=a.board.create("point",[a.Xjc,a.Y()],{name:"",fillcolor:"#52A8EC",strokecolor:"#52A8EC",fixed:!0}),a.for=a.board.create("line",[a.board.prevPoint,a],{straightFirst:!1,straightLast:!1,firstArrow:!1,lastArrow:!1,strokeWidth:"2",fillcolor:"#52A8EC",strokecolor:"#52A8EC"}),a.for.name=l,l){case"SLH":a.setAttribute({fillcolor:"#fff",strokecolor:"#52A8EC"});break;case"SRH":a.board.prevPoint.setAttribute({fillcolor:"#fff",strokecolor:"#52A8EC"});break;case"SBH":a.setAttribute({fillcolor:"#fff",strokecolor:"#52A8EC"}),a.board.prevPoint.setAttribute({fillcolor:"#fff",strokecolor:"#52A8EC"})}else if(C.select('[data-value="'+l+'"]').nodeName&&C.select('[data-value="'+l+'"]').getAttribute("rel")&&0==C.select('[data-value="'+l+'"]').getAttribute("rel").indexOf("ray")){switch(l){case"RL":a.board.prevPoint=a.board.create("point",[-Math.abs(a.board.xmax),a.Y()],{visible:!1});break;case"RR":a.board.prevPoint=a.board.create("point",[Math.abs(a.board.xmax),a.Y()],{visible:!1});break;case"RRH":a.setAttribute({fillcolor:"#fff",strokecolor:"#52A8EC"}),a.board.prevPoint=a.board.create("point",[-Math.abs(a.board.xmax),a.Y()],{visible:!1});break;case"RLH":a.setAttribute({fillcolor:"#fff"}),a.board.prevPoint=a.board.create("point",[Math.abs(a.board.xmax),a.Y()],{visible:!1})}a.for=a.board.create("line",[a.board.prevPoint,a],{straightFirst:!0,straightLast:!1,firstArrow:!0,lastArrow:!1,strokeWidth:"2",fillcolor:"#52A8EC",strokecolor:"#52A8EC"}),a.for.name=l}a.board.on("move",(function(){null!=a.Yjc&&a.moveTo([a.X(),a.Yjc])})),a.on("over",(function(){this.visProp.fixed||(a.board.containerObj.style.cursor="e-resize")})),a.on("out",(function(){this.visProp.fixed||(a.board.containerObj.style.cursor="default")}))}else if(a.board.points.push(a),null==a.board.prevPoint)a.board.prevPoint=a;else{if(C.select("#"+e).classList.contains("line"))a.for=a.board.create("line",[a,a.board.prevPoint],{straightFirst:!0,straightLast:!0,firstArrow:!0,lastArrow:!0,strokeWidth:2}),E.getEquation(e,a.board.prevPoint.X(),a.board.prevPoint.Y(),a.X(),a.Y());else if(C.select("#"+e).classList.contains("circle"))a.for=a.board.create("circle",[a.board.prevPoint,a],{straightFirst:!0,straightLast:!0,firstArrow:!0,lastArrow:!0,strokeWidth:2}),a.for.center.for=a.for;else if(C.select("#"+e).classList.contains("segment"))a.for=a.board.create("line",[a,a.board.prevPoint],{straightFirst:!1,straightLast:!1,firstArrow:!1,lastArrow:!1,strokeWidth:2});else if(C.select("#"+e).classList.contains("vector"))a.for=a.board.create("line",[a,a.board.prevPoint],{straightFirst:!1,straightLast:!1,firstArrow:!0,lastArrow:!1,strokeWidth:2});else if(C.select("#"+e).classList.contains("ray"))a.for=a.board.create("line",[a,a.board.prevPoint],{straightFirst:!0,straightLast:!1,firstArrow:!0,lastArrow:!1,strokeWidth:2});else if(C.select("#"+e).classList.contains("parabola")){a.board.prevPoint.setAttribute({fixed:!0}),a.setAttribute({fixed:!0});let t=E.getEquation(e,a.board.prevPoint.X(),a.board.prevPoint.Y(),a.X(),a.Y()),l=a.board.jc.snippet(t,!0,"x",!0);a.for=a.board.create("functiongraph",[l]),a.for.point1=a.board.prevPoint,a.for.point2=a}else if(C.select("#"+e).classList.contains("polygon"))void 0===l?(a.for=a.board.create("polygon",[a.board.prevPoint,a]),a.board.prevPoint=a):l.length==a.board.points.length&&(a.for=a.board.create("polygon",a.board.points,{boadres:{strokecolor:"darkgray",strokewidth:2}}),a.for.parents.for=a.for,a.board.prevPoint=null,a.board.points=[]);else if(C.select("#"+e).classList.contains("sine")){let t=a.board.prevPoint,l=a;a.for=a.board.create("curve",[function(e){return e},function(a){let s,i=t.coords.usrCoords,n=l.coords.usrCoords,r=i[1],c=i[2],d=n[1],p=n[2]-c,u=1/(4*(d-r));return s=Math.round(c-p*Math.sin(Math.PI*r/180)),s.toString().indexOf("-")>-1?o.equation="y="+p+"*sin(x)"+s:o.equation="y="+p+"*sin(x)+"+s,E.storage.store("#"+e,"attributes",E.setInIndex(o)),p*Math.sin(2*Math.PI*u*(a-r))+c}]),a.for.point1=a.board.prevPoint,a.for.point2=a}else if(C.select("#"+e).classList.contains("cosine")){let t=a.board.prevPoint,l=a;a.for=a.board.create("curve",[function(e){return e},function(a){let s,i=t.coords.usrCoords,n=l.coords.usrCoords,r=i[1],c=i[2],d=n[1],p=n[2]-c,u=1/(4*(r-d));return s=Math.round(c-p*Math.cos(Math.PI*r/180)),s.toString().indexOf("-")>-1?o.equation="y="+p+"*cos(x)"+s:o.equation="y="+p+"*cos(x)+"+s,E.storage.store("#"+e,"attributes",E.setInIndex(o)),p*Math.cos(2*Math.PI*u*(a-d))+c}]),a.for.point1=a.board.prevPoint,a.for.point2=a}C.select("#"+e).classList.contains("polygon")||(a.board.prevPoint=null)}a.on("down",(function(){C.select("#"+e).classList.contains("plot")?(this.Yjc=this.Y(),void 0===this.for?this.startPosition=this.X()+","+this.name:this.startPosition=this.for.point2.X()+","+this.for.point1.X()+","+this.for.name):C.select("#"+e).classList.contains("association")?this.startPosition=this.X().toFixed(1)+","+this.Y().toFixed(1)+","+this.X().toFixed(1):(this.startPosition=this.X()+","+this.Y(),C.select("#"+e).classList.contains("polygon")&&a.board.points.length>0&&this.X()+","+this.Y()==a.board.points[0].X()+","+a.board.points[0].Y()&&(a.for=a.board.create("polygon",a.board.points,{boadres:{strokecolor:"darkgray",strokewidth:2}}),a.for.parents.for=a.for,a.board.prevPoint=null,a.board.points=[])),void 0!==this.for&&"circle"==this.for.elType&&(this.startPosition=Math.round(this.for.Radius()))})),a.on("up",(function(){if(C.select("#deleteElm").children[0].classList.contains("active")){if(C.select("#"+e).classList.contains("point"))a.board.removeObject(this),this.position=this.startPosition;else if(C.select("#"+e).classList.contains("association"))a.board.removeObject(this),this.position=this.startPosition;else if(C.select("#"+e).classList.contains("circle"))a.board.removeObject(this),a.board.removeObject(this.for.center),a.board.removeObject(this.for.point2),this.position=this.for.center.X()+","+this.for.center.Y()+"/"+Math.round(this.for.Radius());else if(C.select("#"+e).classList.contains("polygon")&&void 0!==this.for){let e=[];if(void 0===this.for.parents.for)return C&&C.showmsg(t.last_point,3e3),!1;for(let t=0;t<a.for.vertices.length;t++)a.board.removeObject(this.for.parents.for.vertices[t]),e.push(this.for.parents.for.vertices[t].X()+","+this.for.parents.for.vertices[t].Y());a.board.removeObject(this.for.parents.for),e.pop(e[e.length-1]),this.position=e.join("|")}else void 0!==this.for?(a.board.removeObject(this.for),a.board.removeObject(this.for.point1),a.board.removeObject(this.for.point2),this.position=this.for.point1.X()+","+this.for.point1.Y()+"|"+this.for.point2.X()+","+this.for.point2.Y()):C.select("#"+e).classList.contains("parabola")&&C&&C.showmsg(t.curve_start_point,3e3);C.select("#"+e).classList.contains("parabola")?void 0!==this.for?(E.updateDeleteAttrsAuth(e,this.position),E.updateXML("#"+e,E.storage.store("#"+e,"attributes")),C.select("#deleteElm").children[0].classList.remove("active")):console.warn({msg:t.warning_this_for}):(E.updateDeleteAttrsAuth(e,this.position),E.updateXML("#"+e,E.storage.store("#"+e,"attributes")))}else X&&(E.updateAttrs(e,this,!0),E.updateXML("#"+e,E.storage.store("#"+e,"attributes")))})),a.on("over",(function(){!this.visProp.fixed&&C.select("#deleteElm").children[0].classList.contains("active")&&(C.select("#"+e).classList.contains("point")?this.setAttribute({name:"Delete",showInfobox:!1,fillcolor:"#000",strokecolor:"#000"}):C.select("#"+e).classList.contains("circle")&&void 0!==this.for?(this.for.center.setAttribute({name:"Delete",showInfobox:!1,fillcolor:"#000",strokecolor:"#000"}),this.for.point2.setAttribute({name:"Delete",showInfobox:!1,fillcolor:"#000",strokecolor:"#000"})):C.select("#"+e).classList.contains("polygon")&&void 0!==this.for?void 0!==this.for.parents.for&&this.setAttribute({name:"Delete",showInfobox:!1,fillcolor:"#000",strokecolor:"#000"}):C.select("#"+e).classList.contains("sine")||C.select("#"+e).classList.contains("cosine")?void 0!==this.for&&this.for.point2.setAttribute({name:"Delete",showInfobox:!1,fillcolor:"#000",strokecolor:"#000"}):C.select("#"+e).classList.contains("association")?this.setAttribute({name:"Delete",showInfobox:!1,fillcolor:"#000",strokecolor:"#000"}):void 0!==this.for&&this.for.point1.setAttribute({name:"Delete",showInfobox:!1,fillcolor:"#000",strokecolor:"#000"}))})),a.on("out",(function(){!this.visProp.fixed&&C.select("#deleteElm").children[0].classList.contains("active")&&(C.select("#"+e).classList.contains("point")?this.setAttribute({name:"",showInfobox:!0,fillcolor:"#ff0000",strokecolor:"#ff0000"}):C.select("#"+e).classList.contains("circle")&&void 0!==this.for?(this.for.center.setAttribute({name:"",showInfobox:!0,fillcolor:"#ff0000",strokecolor:"#ff0000"}),this.for.point2.setAttribute({name:"",showInfobox:!0,fillcolor:"#ff0000",strokecolor:"#ff0000"})):C.select("#"+e).classList.contains("polygon")&&void 0!==this.for?void 0!==this.for.parents.for&&this.setAttribute({name:"",showInfobox:!0,fillcolor:"#ff0000",strokecolor:"#ff0000"}):C.select("#"+e).classList.contains("sine")||C.select("#"+e).classList.contains("cosine")?void 0!==this.for&&this.for.point2.setAttribute({name:"",showInfobox:!1,fillcolor:"#ff0000",strokecolor:"#ff0000"}):C.select("#"+e).classList.contains("association")?this.setAttribute({name:"",showInfobox:!0,fillcolor:"#ff0000",strokecolor:"#ff0000"}):void 0!==this.for&&this.for.point1.setAttribute({name:"",showInfobox:!0,fillcolor:"#ff0000",strokecolor:"#ff0000"}))}))},E.updateDeleteAttrsAuth=function(e,t){let a=E.setInAssoc(E.storage.store("#"+e,"attributes")),l=a.anskey.split("|"),o=[];switch(C.select("#"+e).getAttribute("type")){case"point":case"circle":for(let e=0;e<l.length;e++)l[e]!=t&&o.push(l[e]);break;case"line":case"segment":case"ray":case"vector":case"sine":case"cosine":case"association":if(null!=t){let e=t.split("|");o=l.filter((function(e){return!this.has(e)}),new Set(e))}}a.anskey=o.join("|"),a.reflection="",a.equation="",E.storage.store("#"+e,"attributes",E.setInIndex(a))},E.updateAttrs=function(e,t,a){let l=E.setInAssoc(E.storage.store("#"+e,"attributes"));if(void 0===l.anskey&&(l.anskey=""),void 0!==t.for&&"circle"==t.for.elType){let e=t.for.center,a=e.X()+","+e.Y();void 0!==t.startPosition&&(a+="/"+t.startPosition),l.anskey=l.anskey.replace(a,e.X()+","+e.Y()+"/"+Math.round(t.for.Radius())),t.for.Radius()&&(l.equation="(x-"+e.X()+")^2+(y-"+e.Y()+")^2="+Math.round(t.for.Radius())+"^2",l.equation=l.equation.replace(/--/gm,"+"))}else a&&(null!=l.reflection&&""!=l.reflection||(l.reflection=l.reflection.replace(t.startPosition,""),t.startPosition=t.startPosition.split(","),"1"==l.polygon_type?l.anskey=l.anskey.replace(t.startPosition[0]+","+-1*t.startPosition[1],""):"2"==l.polygon_type?l.anskey=l.anskey.replace(-1*t.startPosition[0]+","+t.startPosition[1],""):"3"==l.polygon_type&&(l.anskey=l.anskey.replace(-1*t.startPosition[0]+","+-1*t.startPosition[1],""))));if(void 0===t.for||"circle"!=t.for.elType)if("polygon"!=l.type){if(l.anskey=l.anskey.split("|").filter((e=>e)),C.select("#"+e).classList.contains("association")?l.anskey.push(t.X().toFixed(1)+","+t.Y().toFixed(1)+","+t.X().toFixed(1)):C.select("#"+e).classList.contains("plot")?void 0===t.for?l.anskey.push(t.X()+","+t.name):l.anskey.push(t.for.point2.X()+","+t.for.point1.X()+","+t.for.name):l.anskey.push(t.X()+","+t.Y()),l.anskey=l.anskey.join("|"),C.select("#"+e).classList.contains("line")||C.select("#"+e).classList.contains("parabola")){let t=null,a=l.anskey.split("|");for(let o=0;o<a.length;o++){let s=a[o].split(",");null==t?t=s:l.equation=E.getEquation(e,t[0],t[1],s[0],s[1])}}}else"0"!=l.polygon_type&&(l.reflection=l.reflection.split("|").filter((e=>e)),l.reflection.push(t.X()+","+t.Y()),l.reflection=l.reflection.join("|"),0==t.board.points.length&&(l.reflection=l.reflection.split("|").join("|"))),l.anskey=l.anskey.split("|").filter((e=>e)),"0"==l.polygon_type?l.anskey.push(t.X()+","+t.Y()):"1"==l.polygon_type?l.anskey.push(t.X()+","+-1*t.Y()):"2"==l.polygon_type?l.anskey.push(-1*t.X()+","+t.Y()):"3"==l.polygon_type&&l.anskey.push(-1*t.X()+","+-1*t.Y()),l.anskey=l.anskey.join("|"),0==t.board.points.length&&(l.anskey=l.anskey.split("|").join("|"));C.find(".sliderbar","label").nodeName&&(C.find(".sliderbar","label").innerHTML=l.equation),E.storage.store("#"+e,"attributes",E.setInIndex(l))},E.setInAssoc=function(e){let t={};if(e)for(let a=0;a<e.length;a++)t[e[a].name]=e[a].value;return t},E.setInIndex=function(e){let t=[];if(e)for(let a in e)t.push({name:a,value:e[a]});return t},E.getEquation=function(e,t,a,l,o){let s,i,n,r=E.setInAssoc(E.storage.store("#"+e,"attributes")).equation.split("=");switch(C.select("#"+e).getAttribute("type")){case"parabola":-1==r[0].indexOf("y^2")&&(i=Math.round(10*(0,eval)((o-a)/Math.pow(l-t,2)))/10,s="y=a*(x-h)^2+k",n=s.replace("a",i).replace("h",t).replace("k",a).replace("--","+").replace("+-","-"));break;case"line":{s="(y-y1)=m*(x-x1)";let e=Math.round(10*(0,eval)((o-a)/(l-t)))/10;n=s.replace("m",e).replace("y1",a).replace("x1",t),n=n.replace(/\-\-/g,"+").replace(/\+\+/g,"+").replace(/\-\+/g,"-").replace(/\+\-/g,"-");break}}return n},E.drawCircle=function(e,t,a){let l,o=a.split("/");for(let a=0;a<o.length;a++){let s=o[0].split(",");if(-1!=o[a].indexOf(","))l=t.create("point",[parseInt(s[0]),parseInt(s[1])],{name:""});else{let e=parseInt(s[0])-parseInt(o[1]);l=t.create("point",[parseInt(e),parseInt(s[1])],{name:""})}E.updateAndDraw(e,l)}},E.formatXml=function(e){let t="",a=(e=(e=e.replace(/\t/g,"")).replace(/(>)(<)(\/*)/g,"$1\n$2$3").replace(/ *(.*) +\n/g,"$1\n").replace(/(<.+>)(.+\n)/g,"$1\n$2")).split("\n"),l=0,o="other",s={"single->single":0,"single->closing":-1,"single->opening":0,"single->other":0,"closing->single":0,"closing->closing":-1,"closing->opening":0,"closing->other":0,"opening->single":1,"opening->closing":0,"opening->opening":1,"opening->other":1,"other->single":0,"other->closing":-1,"other->opening":0,"other->other":0};for(let e=0;e<a.length;e++){let i=a[e];if(""!=i){let e=Boolean(i.match(/<.+\/>/)),a=Boolean(i.match(/<\/.+>/)),n=Boolean(i.match(/<[^!].*>/)),r=e?"single":a?"closing":n?"opening":"other",c=o+"->"+r;o=r;let d="";l+=s[c];for(let e=0;e<l;e++)d+="\t";"opening->closing"==c?t=t.substr(0,t.length-1)+i+"\n":t+=d+i+"\n"}}return t};class j extends a{constructor(e){super(),l(this,e,M,I,o,{l:0,is_association:1})}}function D(e){let a,l,o;return{c(){a=s("button"),a.textContent=""+t.solve,u(a,"class","btn btn-light float-left m-sm"),u(a,"type","button")},m(t,s){n(t,a,s),l||(o=m(a,"click",e[3]),l=!0)},p:h,d(e){e&&d(a),l=!1,o()}}}function S(e){let a,l,o,h,y,k,w,A,L,q,C,X,E,P,I,M,S,Y,O,G,H,R,J,F,T,z,$,B,N,U,V,W,Z,K,Q,ee,te,ae,le=e[2]._type+"",oe=e[0].is_algo&&e[0].variable_button&&D(e);return Z=new j({props:{l:t,is_association:"association"==e[2]._type?1:0}}),{c(){a=s("div"),l=s("center"),oe&&oe.c(),o=p(),h=s("div"),y=s("div"),k=s("ul"),w=s("li"),A=i(le),L=p(),q=s("div"),C=s("div"),X=s("i"),P=p(),I=s("div"),M=s("div"),S=s("i"),O=p(),G=s("div"),U=p(),V=s("ul"),V.innerHTML='<li class="btn_active btn-point" rel="point" data-value="P"></li> \n                <li rel="segment" class="btn-segment" data-value="S"></li> \n                <li rel="segment_left_point_hollow" class="btn-SLH" data-value="SLH"></li> \n                <li rel="segment_right_point_hollow" class="btn-SRH" data-value="SRH"></li> \n                <li rel="segment_both_point_hollow" class="btn-SBH" data-value="SBH"></li> \n                <li rel="ray_left_direction" class="btn-RL" data-value="RL"></li> \n                <li rel="ray_right_direction" class="btn-RR" data-value="RR"></li> \n                <li rel="ray_left_direction_right_hollow" class="btn-RRH" data-value="RRH"></li> \n                <li rel="ray_right_direction_left_hollow" class="btn-RLH" data-value="RLH"></li>',W=p(),b(Z.$$.fragment),K=p(),Q=s("input"),w.value="plotgraph",u(w,"class","selected-option text-uppercase"),u(k,"class","controls"),u(X,"data-bs-toggle","tooltip"),u(X,"title",E=t.delete),u(X,"class","icomoon-new-24px-delete-1"),u(C,"class","btn btn-light p-1"),u(C,"tabindex","0"),u(q,"class","btn-group delete-tools zindex0 pe-0 h"),u(q,"id","deleteElm"),u(S,"title",Y=t.edit_graph),u(S,"data-bs-toggle","tooltip"),u(S,"class","icomoon-24px-edit-1"),u(M,"class","btn btn-light p-1"),u(M,"tabindex","0"),u(I,"class","btn-group edit-tools zindex0 ps-0"),u(I,"data-t","plotgraph"),u(I,"id","plotgraph"),u(y,"id","option-toolbar"),u(y,"class","text-dark"),u(G,"id",H=e[2]._id),u(G,"type",R=e[2]._type),u(G,"class",J="drag-resize dropable "+e[2]._type),u(G,"data-xtickdistance",F=e[2]._xtickdistance),u(G,"data-ytickdistance",T=e[2]._ytickdistance),u(G,"data-xaxis",z=e[2]._xaxis),u(G,"data-yaxis",$=e[2]._yaxis),u(G,"data-snapsize",B=e[2]._snapsize),u(G,"data-equation",N=e[2]._equation),f(G,"height",e[2]._height-40+"px"),f(G,"width",e[2]._width+"px"),f(G,"border","1px solid #ccc"),u(V,"class","footer_toolbox h"),u(h,"id","mthmain"),f(h,"height",e[2]._height+"px"),f(h,"width",e[2]._width+"px"),f(h,"clear","both"),u(h,"class","position-relative bg-white"),u(Q,"type","hidden"),u(Q,"id","special_module_xml")},m(t,s){n(t,a,s),r(a,l),oe&&oe.m(l,null),r(l,o),r(l,h),r(h,y),r(y,k),r(k,w),r(w,A),r(y,L),r(y,q),r(q,C),r(C,X),r(y,P),r(y,I),r(I,M),r(M,S),r(h,O),r(h,G),r(h,U),r(h,V),r(l,W),g(Z,l,null),r(a,K),r(a,Q),ee=!0,te||(ae=m(M,"click",e[7]),te=!0)},p(e,[t]){e[0].is_algo&&e[0].variable_button?oe?oe.p(e,t):(oe=D(e),oe.c(),oe.m(l,o)):oe&&(oe.d(1),oe=null),(!ee||4&t)&&le!==(le=e[2]._type+"")&&c(A,le),(!ee||4&t&&H!==(H=e[2]._id))&&u(G,"id",H),(!ee||4&t&&R!==(R=e[2]._type))&&u(G,"type",R),(!ee||4&t&&J!==(J="drag-resize dropable "+e[2]._type))&&u(G,"class",J),(!ee||4&t&&F!==(F=e[2]._xtickdistance))&&u(G,"data-xtickdistance",F),(!ee||4&t&&T!==(T=e[2]._ytickdistance))&&u(G,"data-ytickdistance",T),(!ee||4&t&&z!==(z=e[2]._xaxis))&&u(G,"data-xaxis",z),(!ee||4&t&&$!==($=e[2]._yaxis))&&u(G,"data-yaxis",$),(!ee||4&t&&B!==(B=e[2]._snapsize))&&u(G,"data-snapsize",B),(!ee||4&t&&N!==(N=e[2]._equation))&&u(G,"data-equation",N),(!ee||4&t)&&f(G,"height",e[2]._height-40+"px"),(!ee||4&t)&&f(G,"width",e[2]._width+"px"),(!ee||4&t)&&f(h,"height",e[2]._height+"px"),(!ee||4&t)&&f(h,"width",e[2]._width+"px");const a={};4&t&&(a.is_association="association"==e[2]._type?1:0),Z.$set(a)},i(e){ee||(v(Z.$$.fragment,e),ee=!0)},o(e){_(Z.$$.fragment,e),ee=!1},d(e){e&&d(a),oe&&oe.d(),x(Z),te=!1,ae()}}}function Y(e){let t=e.value.replace(/[^0-9]/g,"");e.value!==t&&(e.value=t)}function O(e,a,l){let{xml:o}=a,{editorState:s}=a,{getChildXml:i}=a,n={},r="",c=!1,d=q({xml:""});d.subscribe((e=>{l(6,n=e)}));function p(){if(s.stopAuthoringUpdate)return!1;let e=k.select("#special_module_xml").value;n.xml!=e&&i(e)}function u(e){e=L(e),l(2,r=e.smxml.plot),"association"==r._type&&k.alert(t.deprecated)}y((async()=>{k.selectAll('#mthmain [tabindex="0"].active',"removeClass","active"),n.xml==o||s.stopAuthoringUpdate||(k.select("#special_module_xml").value=o,u(o))})),w((async()=>{k.listen("body","keyup",".equation",(function(){k.select('input[id$="equation"]').nodeName&&""==k.select('input[id$="equation"]').value?(k.selectAll(".err-msg","removeClass","d-none"),k.selectAll(".equation","css",{border:"1px solid red"})):(k.selectAll(".err-msg","addClass","d-none"),k.selectAll(".equation","css",{border:"1px solid #CED4DA"}))})),k.listen("body","change","#graph-type",(function(){E.resetModal()})),k.listen("body","mousemove","#mthmain, .addElement, .resetElement",(function(){p()})),k.listen("body","mouseup","#mthmain, .addElement, .resetElement",(function(){p()})),k.listen("body","click","#mthmain, .addElement, .resetElement",(function(){p()})),k.listen("body","click","#xmlDone",(function(){l(0,s.variable_button=!1,s),!s.variable_button&&s.stopAuthoringUpdate||E.initGraph()})),k.listen("body","keypress",'#mthmain [tabindex="0"]',(function(e,t){13!=t.keyCode&&13!=t.which||"delete_btn"==t.target.id||"updateRow"==t.target.id||e.click()})),k.listen("body","hidden.bs.modal","#authoring-modal",(function(){l(1,E.visible_class="",E)})),k.listen("body","change","input.integer",(function(e){Y(e)})),k.listen("body","keyup","input.integer",(function(e){Y(e)})),k.listen("body","input","input.integer",(function(e){Y(e)})),k.listen("body","click","#deleteElm",(function(e){let a=e.children[0],l=E.setInAssoc(E.storage.store("#ID0","attributes"));a.classList.toggle("active"),k.select("#"+l.id).classList.contains("point")||k.select("#"+l.id).classList.contains("circle")||k.select("#"+l.id).classList.contains("association")?a.classList.contains("active")&&(k.alert(t.delete_msg),a.style.color="black"):a.classList.contains("active")&&(a.style.color="black",k.alert(t.last_delete_msg))})),k.listen("body","keypress","#authoring-modal input",(function(e,t){if(13==t.which)return!1})),k.listen("body","keyup","#authoring-modal .validate",(function(e,a){var o;a.preventDefault(),a.stopPropagation(),13==a.keyCode&&k.select("#authoring-modal .addElement").click(),l(1,E.isValid=!1,E),k.selectAll(".error","remove"),k.setCss(e,{border:"1px solid red",background:"#FFCECE"}),""==e.value?k.insert(e.parentElement,'<span class="error text-danger">'+t.fill_field+"</span>","beforeend"):e.classList.contains("num")&&e.value<=0?k.insert(e.parentElement,'<span class="error text-danger">'+t.value_gt_zero+"</span>","beforeend"):(o=e.value,!isNaN(parseFloat(o))&&isFinite(o)||!e.classList.contains("num")?(l(1,E.isValid=!0,E),k.setCss(e,{border:"1px solid #ced4da",background:"none"})):k.insert(e.parentElement,'<span class="error text-danger">'+t.enter_number+"</span>","beforeend"))})),k.listen("body","change","#authoring-modal .select",(function(e){E.resetData(e)})),k.listen("body","click",".add-equation",(function(){k.insert(".numberlinePlot",k.select(".plotEq").innerHTML,"beforeend"),k.find(".numberlinePlot",".remove-eq",{action:"css",actionData:{display:"block"}})})),k.listen("body","click",".remove-eq",(function(e){e.parentElement.remove()})),k.listen("body","click",".footer_toolbox li",(function(e){e.classList.add("btn_active"),k.selectAll(k.siblings(e),"removeClass","btn_active")}))})),A((async()=>{c||("undefined"!=typeof JXG?E.initGraph():k.addScript("",itemUrl+"clsSMGraph/lib/jsxgraph.min.js",{callback(){E.initGraph()}}),c=!0),n.xml!=o&&k.select("#special_module_xml").value&&"undefined"!=typeof JXG&&!s.stopAuthoringUpdate&&d.update((e=>(e.xml=o,e)))}));return e.$$set=e=>{"xml"in e&&l(4,o=e.xml),"editorState"in e&&l(0,s=e.editorState),"getChildXml"in e&&l(5,i=e.getChildXml)},e.$$.update=()=>{67&e.$$.dirty&&!s.variable_button&&s.stopAuthoringUpdate&&(l(0,s.stopAuthoringUpdate=!1,s),l(0,s.stopPreviewUpdate=!1,s),l(1,E.stopUpdate=!1,E),k.select("#special_module_xml").nodeName&&(k.select("#special_module_xml").value=n.xml?n.xml:"",E.initGraph()))},[s,E,r,function(){k.activate(2);let e=n.xml,t={};t.special_module_xml=e,t.algo_qxml=k.select("#algo_qxml").nodeName?k.select("#algo_qxml").value:"",k.ajax({url:baseUrl+"editor/index.php",data:{ajax:"1",action:"parse_algo",content_text:JSON.stringify(t)},type:"POST",onEnd(){k.activate(0)}}).then((function(e){let t=JSON.parse(e);k.select("#special_module_xml").value=t.special_module_xml,u(t.special_module_xml),E.initGraph(),l(0,s.stopPreviewUpdate=!0,s),l(0,s.stopAuthoringUpdate=!0,s),l(1,E.stopUpdate=!0,E)}))},o,i,n,e=>E.elemModal("plotgraph",e.currentTarget,r._id)]}export default class extends a{constructor(e){super(),l(this,e,O,S,o,{xml:4,editorState:0,getChildXml:5})}}
//# sourceMappingURL=Graph-23c22c0c.js.map
