import{S as e,i as t,s,C as r,e as l,b as n,u as i,ac as a,f as o,M as c,h as d,j as p,l as u,x as m,r as b,o as v,p as w,A as g,a2 as h,a3 as _,X as y,W as f,w as x}from"./main-3584d45b.js";import{s as C}from"./style-inject.es-1f59c1d0.js";function k(e){let t,s,w,g,h,_,y,f,x,C,k,A,P,N,M,D,L,T,I,R,F,K,B,E,z,O,H,J,X,W,G,j,Y,Z,q,U,$,Q,V,ee,te,se,re,le,ne,ie,ae,oe,ce,de,pe,ue,me,be,ve,we,ge,he,_e,ye,fe,xe,Ce,ke,Se,Ae,Pe,Ne,Me,De,Le,Te,Ie,Re,Fe,Ke,Be,Ee,ze,Oe,He,Je,Xe,We,Ge,je,Ye,Ze,qe,Ue,$e,Qe,Ve,et,tt,st,rt,lt,nt,it,at,ot,ct,dt,pt,ut,mt,bt,vt,wt,gt,ht,_t,yt,ft,xt,Ct,kt,St,At,Pt,Nt,Mt,Dt,Lt,Tt,It,Rt,Ft,Kt,Bt,Et,zt,Ot,Ht,Jt,Xt,Wt,Gt,jt,Yt,Zt,qt,Ut,$t,Qt,Vt,es,ts,ss,rs,ls,ns,is,as,os,cs,ds,ps,us,ms,bs,vs,ws,gs,hs,_s,ys,fs,xs,Cs,ks,Ss,As,Ps,Ns,Ms,Ds,Ls,Ts,Is,Rs,Fs,Ks,Bs,Es,zs,Os,Hs,Js,Xs,Ws,Gs,js,Ys,Zs,qs,Us,$s,Qs,Vs,er,tr,sr,rr,lr,nr,ir,ar,or,cr,dr,pr,ur,mr,br,vr,wr,gr,hr,_r,yr,fr,xr,Cr,kr,Sr,Ar,Pr,Nr,Mr,Dr,Lr,Tr,Ir,Rr,Fr,Kr,Br,Er,zr=r.mark_pnt+"",Or=r.shortcuts+"",Hr=e[2].alt+"",Jr=r.compass_center+"",Xr=r.shift_arrow_use+"",Wr=r.compass_radius+(.02649*e[0]).toFixed(2)+"",Gr=r.shift_arrow_radius+"",jr=r.compass_angle+e[1]+r.degree+"",Yr=r.shift_arrow_angle+"",Zr=r.compass_draw+"",qr=r.shift_arrow_draw+"";return{c(){t=l("main"),s=l("div"),w=l("div"),g=l("div"),h=l("div"),_=l("h4"),_.textContent=""+r.shortcuts,y=n(),f=l("button"),f.textContent="Ã—",x=n(),C=l("div"),k=l("table"),A=l("tbody"),P=l("tr"),N=l("td"),N.textContent=""+r.keys,M=l("td"),D=l("div"),L=l("span"),L.textContent=""+r.des_txt,T=n(),I=l("tr"),R=l("td"),R.textContent=""+r.ctrl_z,F=l("td"),K=l("div"),B=l("span"),B.textContent=""+r.undo,E=n(),z=l("tr"),O=l("td"),O.textContent=""+r.ctrl_x,H=l("td"),J=l("div"),X=l("span"),X.textContent=""+r.cut,W=n(),G=l("tr"),j=l("td"),j.textContent=""+r.ctrl_y,Y=l("td"),Z=l("div"),q=l("span"),q.textContent=""+r.redo,U=n(),$=l("tr"),Q=l("td"),Q.textContent=""+r.enter,V=l("td"),ee=l("div"),te=l("span"),te.textContent=""+r.enable_tool,se=n(),re=l("tr"),le=l("td"),le.textContent=""+r.shift_enter,ne=l("td"),ie=l("div"),ae=l("span"),ae.textContent=""+r.start_stop_tool,oe=n(),ce=l("tr"),de=l("td"),de.textContent=""+r.shift_arrow,pe=l("td"),ue=l("div"),me=l("span"),me.textContent=""+r.compass_tools,be=n(),ve=l("tr"),we=l("td"),we.textContent=""+r.locking,ge=l("td"),he=l("div"),_e=l("span"),_e.textContent=""+r.locking_txt,ye=n(),fe=l("tr"),xe=l("td"),xe.textContent=""+r.draw_key,Ce=l("td"),ke=l("div"),Se=l("span"),Se.textContent=""+r.draw_txt,Ae=n(),Pe=l("tr"),Ne=l("td"),Ne.textContent=""+r.tab,Me=l("td"),De=l("div"),Le=l("span"),Le.textContent=""+r.focus_next,Te=n(),Ie=l("tr"),Re=l("td"),Re.textContent=""+r.shift_tab,Fe=l("td"),Ke=l("div"),Be=l("span"),Be.textContent=""+r.focus_prev,Ee=n(),ze=l("tr"),Oe=l("td"),Oe.textContent=""+r.esc,He=l("td"),Je=l("div"),Xe=l("span"),Xe.textContent=""+r.exit_txt,We=n(),Ge=l("div"),je=l("button"),je.textContent=""+r.close,Ye=n(),Ze=l("div"),qe=l("button"),Ue=n(),$e=l("button"),Qe=n(),Ve=l("center"),et=l("div"),tt=l("div"),st=l("div"),rt=l("button"),lt=l("i"),at=n(),ot=l("button"),ct=i("/"),ut=n(),mt=l("button"),bt=l("i"),ht=n(),_t=l("div"),yt=l("button"),ft=l("i"),kt=n(),St=l("button"),At=l("i"),Mt=n(),Dt=l("button"),Lt=l("i"),Rt=n(),Ft=l("button"),Kt=l("i"),Ot=n(),Ht=l("div"),Jt=l("button"),Xt=i(zr),Yt=n(),Zt=l("div"),qt=l("button"),Ut=l("i"),es=n(),ts=l("div"),ss=l("button"),rs=i(Or),os=n(),cs=l("div"),ds=l("div"),ps=l("img"),ms=n(),bs=l("div"),bs.innerHTML='<span class="icomoon-plus s2 move_icon position-absolute h" id="moveDrawIcon"></span>',vs=n(),ws=a("svg"),gs=a("title"),hs=i(Hr),_s=a("g"),ys=a("g"),fs=a("g"),xs=a("g"),Cs=a("g"),ks=a("svg"),Ss=a("svg"),As=a("g"),Ps=a("circle"),Ns=a("g"),Ms=a("line"),Ds=a("g"),Ls=a("circle"),Ts=a("title"),Is=i(Jr),Rs=a("desc"),Fs=i(Xr),Ks=a("defs"),Bs=a("pattern"),Es=a("svg"),zs=a("path"),Os=a("path"),Hs=a("path"),Js=a("path"),Xs=a("circle"),Ws=a("g"),Gs=a("circle"),js=a("title"),Ys=i(Wr),Zs=a("desc"),qs=i(Gr),Us=a("defs"),$s=a("pattern"),Qs=a("svg"),Vs=a("g"),er=a("g"),tr=a("rect"),sr=a("g"),rr=a("rect"),lr=a("g"),nr=a("g"),ir=a("path"),ar=a("g"),or=a("path"),cr=a("g"),dr=a("circle"),pr=a("title"),ur=i(jr),mr=a("desc"),br=i(Yr),vr=a("defs"),wr=a("pattern"),gr=a("svg"),hr=a("path"),_r=a("g"),yr=a("circle"),xr=a("circle"),Cr=a("title"),kr=i(Zr),Sr=a("desc"),Ar=i(qr),Pr=a("g"),Nr=a("circle"),Mr=a("defs"),Dr=a("pattern"),Lr=a("svg"),Tr=a("g"),Ir=a("g"),Rr=a("g"),Fr=a("g"),Kr=a("path"),o(_,"class","modal-title"),o(f,"type","button"),o(f,"class","close"),o(f,"data-bs-dismiss","modal"),o(h,"class","modal-header"),o(N,"class","py-1 font-weight-bold w-50 pr-0"),o(L,"class","pl-3 font-weight-bold"),o(D,"class","d-flex"),o(M,"class","py-1"),o(P,"tabindex","0"),o(P,"role","shortcut"),o(R,"class","py-1 font-weight-bold w-50 pr-0"),o(B,"class","pl-3"),o(K,"class","d-flex"),o(F,"class","py-1"),o(I,"tabindex","0"),o(I,"role","shortcut"),o(O,"class","py-1 font-weight-bold w-50 pr-0"),o(X,"class","pl-3"),o(J,"class","d-flex"),o(H,"class","py-1"),o(z,"tabindex","0"),o(z,"role","shortcut"),o(j,"class","py-1 font-weight-bold w-50 pr-0"),o(q,"class","pl-3"),o(Z,"class","d-flex"),o(Y,"class","py-1"),o(G,"tabindex","0"),o(G,"role","shortcut"),o(Q,"class","py-1 font-weight-bold w-50 pr-0"),o(te,"class","pl-3"),o(ee,"class","d-flex"),o(V,"class","py-1"),o($,"tabindex","0"),o($,"role","shortcut"),o(le,"class","py-1 font-weight-bold w-50 pr-0"),o(ae,"class","pl-3"),o(ie,"class","d-flex"),o(ne,"class","py-1"),o(re,"tabindex","0"),o(re,"role","shortcut"),o(de,"class","py-1 font-weight-bold w-50 pr-0"),o(me,"class","pl-3"),o(ue,"class","d-flex"),o(pe,"class","py-1"),o(ce,"tabindex","0"),o(ce,"role","shortcut"),o(we,"class","py-1 font-weight-bold w-50 pr-0"),o(_e,"class","pl-3"),o(he,"class","d-flex"),o(ge,"class","py-1"),o(ve,"tabindex","0"),o(ve,"role","shortcut"),o(xe,"class","py-1 font-weight-bold w-50 pr-0"),o(Se,"class","pl-3"),o(ke,"class","d-flex"),o(Ce,"class","py-1"),o(fe,"tabindex","0"),o(fe,"role","shortcut"),o(Ne,"class","py-1 font-weight-bold w-50 pr-0"),o(Le,"class","pl-3"),o(De,"class","d-flex"),o(Me,"class","py-1"),o(Pe,"tabindex","0"),o(Pe,"role","shortcut"),o(Re,"class","py-1 font-weight-bold w-50 pr-0"),o(Be,"class","pl-3"),o(Ke,"class","d-flex"),o(Fe,"class","py-1"),o(Ie,"tabindex","0"),o(Ie,"role","shortcut"),o(Oe,"class","py-1 font-weight-bold w-50 pr-0"),o(Xe,"class","pl-3"),o(Je,"class","d-flex"),o(He,"class","py-1"),o(ze,"tabindex","0"),o(ze,"role","shortcut"),o(A,"tabindex","0"),o(A,"role","shortcut"),o(k,"role","shortcut"),o(k,"class","shortcutTable m-0 p-2 border-0 common-shortcut-table table-striped font15"),o(C,"class","modal-body overflow-y"),o(je,"type","button"),o(je,"class","btn btn-light"),o(je,"data-bs-dismiss","modal"),o(Ge,"class","modal-footer"),o(g,"class","modal-content"),o(w,"class","modal-dialog modal-dialog-centered"),o(s,"id","drawing_shortcut_modal"),o(s,"class","modal fade"),o(s,"tabindex","-1"),o(qe,"type","button"),o(qe,"class","h h-imp"),o(qe,"id","set-review"),o($e,"type","button"),o($e,"class","h h-imp"),o($e,"id","unset-review"),o(lt,"class","icomoon-pencil"),o(rt,"type","button"),o(rt,"data-title","scribble"),o(rt,"tabindex","0"),o(rt,"aria-label",nt=r.scribble_tool),o(rt,"title",it=r.scribble),o(rt,"name","preview_scribble"),o(rt,"id","preview_scribble"),o(rt,"class","geometryToolPreview tooltip_btn btn btn-light preview_toolbar preview_btn"),o(ot,"type","button"),o(ot,"data-title","line"),o(ot,"tabindex","0"),o(ot,"aria-label",dt=r.line_tool),o(ot,"title",pt=r.line),o(ot,"name","preview_line"),o(ot,"id","preview_line"),o(ot,"class","geometryToolPreview btn btn-light tooltip_btn preview_toolbar preview_btn"),o(bt,"class","icomoon-compass1"),o(mt,"type","button"),o(mt,"data-title","compass"),o(mt,"tabindex","0"),o(mt,"aria-label",vt=r.compass_tool),o(mt,"title",wt=r.compass),o(mt,"name","preview_compass"),o(mt,"id","preview_compass"),o(mt,"class","geometryToolPreview tooltip_btn btn btn-light preview_toolbar preview_btn"),o(st,"class","btn-group mr-2"),o(st,"role","group"),o(st,"tabindex","0"),o(st,"aria-label",gt=r.draw_tools),o(ft,"class","icomoon-delete-sm"),o(yt,"type","button"),o(yt,"data-title","eraser"),o(yt,"tabindex","0"),o(yt,"aria-label",xt=r.delete_tool),o(yt,"title",Ct=r.delete_tool),o(yt,"name","eraser"),o(yt,"id","preview_eraser"),o(yt,"class","btn btn-light tooltip_btn preview_toolbar preview_btn"),o(At,"class","icomoon-close-2"),o(St,"type","button"),o(St,"title",Pt=r.clear_screen),o(St,"tabindex","0"),o(St,"aria-label",Nt=r.clear_screen),o(St,"name","clearScreen"),o(St,"id","preview_clearScreen"),St.disabled="disabled",o(St,"class","btn btn-light tooltip_btn"),o(Lt,"class","icomoon-redo-2"),o(Dt,"type","button"),o(Dt,"title",Tt=r.redo),o(Dt,"name","redo"),o(Dt,"tabindex","0"),o(Dt,"aria-label",It=r.redo),o(Dt,"id","preview_redo"),Dt.disabled="disabled",o(Dt,"class","btn btn-light tooltip_btn"),o(Kt,"class","icomoon-undo-2"),o(Ft,"type","button"),o(Ft,"title",Bt=r.undo),o(Ft,"name","undo"),o(Ft,"tabindex","0"),o(Ft,"aria-label",Et=r.undo),o(Ft,"id","preview_undo"),Ft.disabled="disabled",o(Ft,"class","btn btn-light tooltip_btn"),o(_t,"class","btn-group mr-2"),o(_t,"role","group"),o(_t,"tabindex","0"),o(_t,"aria-label",zt=r.removing_tools),o(Jt,"type","button"),o(Jt,"title",Wt=r.mark_finish_point),o(Jt,"name","mark_points"),o(Jt,"tabindex","0"),o(Jt,"aria-label",Gt=r.mark_ans_point),o(Jt,"id","mark_points"),o(Jt,"class","btn tooltip_btn btn-light"),o(Ht,"class","btn-group mr-2 marking_group"),o(Ht,"role","group"),o(Ht,"aria-label",jt=r.marking_tools),o(Ut,"class","icomoon-new-24px-reset-1"),o(qt,"type","button"),o(qt,"title",$t=r.reset),o(qt,"name","preview_reset_btn"),o(qt,"tabindex","0"),o(qt,"aria-label",Qt=r.reset_btn),o(qt,"id","preview_reset_btn"),o(qt,"class","btn tooltip_btn btn-light"),o(Zt,"class","btn-group mr-2 reset_group"),o(Zt,"role","group"),o(Zt,"aria-label",Vt=r.reset),o(ss,"type","button"),o(ss,"title",ls=r.shortcuts),o(ss,"name","shortcut_modal_btn"),o(ss,"aria-label",ns=r.shortcuts),o(ss,"tabindex","0"),o(ss,"id","shortcut_modal_btn"),o(ss,"class","tooltip_btn btn btn-primary"),o(ts,"class","btn-group mr-2"),o(ts,"role","group"),o(ts,"aria-label",is=r.shortcuts),o(tt,"class","btn-toolbar preview_drawing_toolbar"),o(tt,"role","toolbar"),o(tt,"aria-label",as=r.drawing_tools),o(et,"class","mt-2 mb-3 previewBtnGrp"),o(ps,"class","border"),o(ps,"alt",""),c(ps.src,us=S+e[2].bgImg)||o(ps,"src",us),o(ps,"id","svgImgPreview"),o(gs,"id","previewSvgTitle"),o(_s,"class","backgroundFocusPathPreview"),o(ys,"class","previewDrawingPaths"),o(fs,"class","correct_answer_container"),o(xs,"class","backgroundFocusPointPreview"),o(Cs,"class","previewMarkingPaths"),o(Ps,"class","drawingCompassRoute compass_route"),o(Ps,"cx","267.984375"),o(Ps,"cy","173"),o(Ps,"r","80"),o(Ps,"fill-opacity","0"),o(Ps,"stroke","#C9C9C9"),o(Ps,"stroke-dasharray","2,10"),o(Ps,"stroke-width","2"),o(Ms,"class","compassRotationBar compass_radius"),o(Ms,"x1","267.984375"),o(Ms,"y1","173"),o(Ms,"x2","267.984375"),o(Ms,"y2","253"),o(Ms,"stroke","#C9C9C9"),o(Ms,"stroke-width","2"),o(Ls,"tabindex","0"),o(Ls,"class","drawingCompassCenter compass_center"),o(Ls,"cx","267.984375"),o(Ls,"cy","173"),o(Ls,"r","17"),o(Ls,"aria-labelledby","compassCenterTitle compassCenterDesc"),o(Ls,"focusable","true"),o(Ls,"fill","url(#previewDrawingCenter)"),o(Ls,"stroke","#C9C9C9"),o(Ts,"id","compassCenterTitle"),o(Rs,"id","compassCenterDesc"),o(zs,"fill","#808080"),o(zs,"class","st0"),o(zs,"d","M3.22,15.1L1,12l2.22-3.1C3.22,10.97,3.22,13.03,3.22,15.1z"),o(Os,"fill","#808080"),o(Os,"class","st0"),o(Os,"d","M8.9,3.22L12,1l3.1,2.22C13.03,3.22,10.97,3.22,8.9,3.22z"),o(Hs,"fill","#808080"),o(Hs,"class","st0"),o(Hs,"d","M15.1,20.78L12,23l-3.1-2.22C10.97,20.78,13.03,20.78,15.1,20.78z"),o(Js,"fill","#808080"),o(Js,"class","st0"),o(Js,"d","M20.78,8.9L23,12l-2.22,3.1C20.78,13.03,20.78,10.97,20.78,8.9z"),o(Xs,"cx","12"),o(Xs,"cy","12"),o(Xs,"r","2"),o(Xs,"fill","#333333"),o(Es,"x","0px"),o(Es,"y","0px"),o(Es,"viewBox","1 -3 21 35"),o(Es,"width","33"),o(Es,"height","41"),o(Bs,"id","previewDrawingCenter"),o(Bs,"width","20"),o(Bs,"height","20"),o(Bs,"fill","red"),o(Gs,"class","compass_radius_icon mid_circle"),o(Gs,"cx","267.984375"),o(Gs,"cy","213"),o(Gs,"r","17"),o(Gs,"fill","url(#previewDrawingRadius)"),o(Gs,"transform","rotate(90,160,168)"),o(Gs,"aria-labelledby","compassRadiusTitle compassRadiusDesc"),o(Gs,"tabindex","0"),o(Gs,"focusable","true"),o(Gs,"stroke","#C9C9C9"),o(js,"id","compassRadiusTitle"),o(Zs,"id","compassRadiusDesc"),o(tr,"x","8.53"),o(tr,"y","1.11"),o(tr,"width","1.5"),o(tr,"height","21.79"),o(rr,"x","13.97"),o(rr,"y","1.11"),o(rr,"width","1.5"),o(rr,"height","21.79"),o(ir,"d","M5.87,16.87L1,12l4.87-4.87C5.87,10.38,5.87,13.62,5.87,16.87z"),o(or,"d","M18.13,16.87L23,12l-4.87-4.87C18.13,10.38,18.13,13.62,18.13,16.87z"),o(Qs,"x","0px"),o(Qs,"y","0px"),o(Qs,"viewBox","1 -5 21 34"),o(Qs,"width","33"),o(Qs,"height","33"),o($s,"id","previewDrawingRadius"),o($s,"width","20"),o($s,"height","20"),o(dr,"class","compass_rotation midSmallCircle"),o(dr,"cx","267.984375"),o(dr,"cy","233"),o(dr,"r","8"),o(dr,"fill","url(#previewMidSmallCircle_icon)"),o(dr,"area-label","Compass Angle Use Shift and arrow keys to increase or decrease the radius"),o(dr,"aria-labelledby","compassRotationTitle compassRotationDesc"),o(dr,"tabindex","0"),o(dr,"focusable","true"),o(dr,"transform","rotate(90,160,193)"),o(pr,"id","compassRotationTitle"),o(mr,"id","compassRotationDesc"),o(hr,"fill","#000"),o(hr,"opacity","0.8"),o(hr,"d","M7,14 C3.13400675,14 0,10.8659932 0,7 C0,3.13400675 3.13400675,0 7, 0 C10.8659932,0 14,3.13400675 14,7 C14,10.8659932 10.8659932,14 7, 14 Z M4.66666667,8.16666667 L7,11.6666667 L9.33333333,8.16666667 L4.66666667,8.16666667 Z M4.66666667,5.83333333 L9.33333333,5.83333333 L7,2.33333333 L4.66666667,5.83333333 Z"),o(gr,"width","16px"),o(gr,"height","16px"),o(gr,"viewBox","0 0 14 14"),o(gr,"version","1.1"),o(wr,"id","previewMidSmallCircle_icon"),o(wr,"width","20"),o(wr,"height","20"),o(yr,"class","drawing-compass-pointer lastCircle"),o(yr,"cx","267.984375"),o(yr,"cy","253"),o(yr,"r","3"),o(yr,"fill",fr=e[2].lineColor),o(xr,"class","drawing-compass-pointer-border lastCircle lastbigcircle"),o(xr,"aria-labelledby","compassAngleTitle compassAngleDesc"),o(xr,"cx","267.984375"),o(xr,"cy","253"),o(xr,"r","17"),o(xr,"tabindex","0"),o(xr,"focusable","true"),o(xr,"fill-opacity","0"),o(xr,"stroke","#C9C9C9"),o(Cr,"id","compassAngleTitle"),o(Sr,"id","compassAngleDesc"),o(Nr,"class","lastCircleMid"),o(Nr,"fill","url(#previewLastCircleMid_icon)"),o(Nr,"transform","rotate(90,160,243)"),o(Nr,"cx","267.984375"),o(Nr,"cy","293"),o(Nr,"r","12"),o(Nr,"opacity","0"),o(Kr,"d","M3.76491276,22.4309727 C5.88207272,19.902578 7.10843487, 16.447736 7.10843487,12.7446281 C7.10843487,9.90533039 6.38974128, 7.20188959 5.07542401,4.93464319 L1.71316547,5.67221801 L4.9100909, 0.48305188 L10.1719173,3.81663137 L7.11351005,4.48755064 C8.4088902, 6.93966677 9.10843487,9.78181395 9.10843487,12.7446281 C9.10843487, 16.6677555 7.87827881,20.3638018 5.71250857,23.1972812 L8.63385425, 24.3467251 L2.93165771,26.8255625 L0.595287046,21.1838396 L3.76491276, 22.4309727 Z"),o(Kr,"class",""),o(Fr,"transform","translate(313.742737, 140.576561) rotate(-2.000000) translate(-313.742737, -140.576561) translate(308.242737, 127.076561)"),o(Rr,"transform","translate(207.000000, 318.000000)"),o(Ir,"transform","translate(-516.000000, -445.000000)"),o(Ir,"fill","#333333"),o(Ir,"fillrule","nonzero"),o(Tr,"stroke","none"),o(Tr,"strokewidth","1"),o(Tr,"fill","none"),o(Tr,"fillrule","evenodd"),o(Tr,"opacity","0.5"),o(Lr,"width","24"),o(Lr,"height","23"),o(Lr,"viewBox","0 0 11 27"),o(Lr,"version","1.1"),o(Lr,"enablebackground","new 0 0 8 24"),o(Dr,"id","previewLastCircleMid_icon"),o(Dr,"width","20"),o(Dr,"height","20"),o(ks,"class","drawingCompassSvg h"),o(ks,"focusable","false"),o(ws,"width","100%"),o(ws,"height","100%"),o(ws,"id","previewSvg"),o(ws,"class","previewKeySvg"),o(ws,"tabindex","0"),o(ws,"aria-labelledby","previewSvgTitle"),o(ds,"id","centerImg"),o(ds,"class","centerImg centerImgPreview my-auto relative ml-0"),o(Ve,"class","preview_drawing_container"),o(Ze,"class","drawing_module_container"),o(t,"id","drawingPreviewMain")},m(r,l){d(r,t,l),p(t,s),p(s,w),p(w,g),p(g,h),p(h,_),p(h,y),p(h,f),p(g,x),p(g,C),p(C,k),p(k,A),p(A,P),p(P,N),p(P,M),p(M,D),p(D,L),p(A,T),p(A,I),p(I,R),p(I,F),p(F,K),p(K,B),p(A,E),p(A,z),p(z,O),p(z,H),p(H,J),p(J,X),p(A,W),p(A,G),p(G,j),p(G,Y),p(Y,Z),p(Z,q),p(A,U),p(A,$),p($,Q),p($,V),p(V,ee),p(ee,te),p(A,se),p(A,re),p(re,le),p(re,ne),p(ne,ie),p(ie,ae),p(A,oe),p(A,ce),p(ce,de),p(ce,pe),p(pe,ue),p(ue,me),p(A,be),p(A,ve),p(ve,we),p(ve,ge),p(ge,he),p(he,_e),p(A,ye),p(A,fe),p(fe,xe),p(fe,Ce),p(Ce,ke),p(ke,Se),p(A,Ae),p(A,Pe),p(Pe,Ne),p(Pe,Me),p(Me,De),p(De,Le),p(A,Te),p(A,Ie),p(Ie,Re),p(Ie,Fe),p(Fe,Ke),p(Ke,Be),p(A,Ee),p(A,ze),p(ze,Oe),p(ze,He),p(He,Je),p(Je,Xe),p(g,We),p(g,Ge),p(Ge,je),p(t,Ye),p(t,Ze),p(Ze,qe),p(Ze,Ue),p(Ze,$e),p(Ze,Qe),p(Ze,Ve),p(Ve,et),p(et,tt),p(tt,st),p(st,rt),p(rt,lt),p(st,at),p(st,ot),p(ot,ct),p(st,ut),p(st,mt),p(mt,bt),p(tt,ht),p(tt,_t),p(_t,yt),p(yt,ft),p(_t,kt),p(_t,St),p(St,At),p(_t,Mt),p(_t,Dt),p(Dt,Lt),p(_t,Rt),p(_t,Ft),p(Ft,Kt),p(tt,Ot),p(tt,Ht),p(Ht,Jt),p(Jt,Xt),p(tt,Yt),p(tt,Zt),p(Zt,qt),p(qt,Ut),p(tt,es),p(tt,ts),p(ts,ss),p(ss,rs),p(Ve,os),p(Ve,cs),p(cs,ds),p(ds,ps),p(ds,ms),p(ds,bs),p(ds,vs),p(ds,ws),p(ws,gs),p(gs,hs),p(ws,_s),p(ws,ys),p(ws,fs),p(ws,xs),p(ws,Cs),p(ws,ks),p(ks,Ss),p(Ss,As),p(As,Ps),p(As,Ns),p(Ns,Ms),p(As,Ds),p(Ds,Ls),p(Ds,Ts),p(Ts,Is),p(Ds,Rs),p(Rs,Fs),p(Ds,Ks),p(Ks,Bs),p(Bs,Es),p(Es,zs),p(Es,Os),p(Es,Hs),p(Es,Js),p(Es,Xs),p(As,Ws),p(Ws,Gs),p(Ws,js),p(js,Ys),p(Ws,Zs),p(Zs,qs),p(Ws,Us),p(Us,$s),p($s,Qs),p(Qs,Vs),p(Vs,er),p(er,tr),p(Vs,sr),p(sr,rr),p(Qs,lr),p(lr,nr),p(nr,ir),p(lr,ar),p(ar,or),p(As,cr),p(cr,dr),p(cr,pr),p(pr,ur),p(cr,mr),p(mr,br),p(cr,vr),p(vr,wr),p(wr,gr),p(gr,hr),p(As,_r),p(_r,yr),p(_r,xr),p(_r,Cr),p(Cr,kr),p(_r,Sr),p(Sr,Ar),p(As,Pr),p(Pr,Nr),p(Pr,Mr),p(Mr,Dr),p(Dr,Lr),p(Lr,Tr),p(Tr,Ir),p(Ir,Rr),p(Rr,Fr),p(Fr,Kr),Br||(Er=u(ss,"click",e[3]),Br=!0)},p(e,t){4&t[0]&&!c(ps.src,us=S+e[2].bgImg)&&o(ps,"src",us),4&t[0]&&Hr!==(Hr=e[2].alt+"")&&m(hs,Hr),1&t[0]&&Wr!==(Wr=r.compass_radius+(.02649*e[0]).toFixed(2)+"")&&m(Ys,Wr),2&t[0]&&jr!==(jr=r.compass_angle+e[1]+r.degree+"")&&m(ur,jr),4&t[0]&&fr!==(fr=e[2].lineColor)&&o(yr,"fill",fr)},i:b,o:b,d(e){e&&v(t),Br=!1,Er()}}}C('body, html{     \r\n    -webkit-touch-callout: none;\r\n    -webkit-user-select: none;\r\n    -khtml-user-select: none;\r\n    -moz-user-select: none;\r\n    -ms-user-select: none;\r\n    user-select: none;  \r\n}\r\n\r\n[tabindex="0"]:focus {\r\n    box-shadow: 0 0 0 .09rem #89ace4!important;\r\n    outline: 0;\r\n}\r\n\r\n.compass_route {\r\n    stroke: #979797;\r\n    fill: transparent;\r\n    stroke-width: 2;\r\n    stroke-linecap: round;\r\n    stroke-dasharray: 0,9;\r\n}\r\n\r\n.compass_radius {\r\n    stroke: #979797;\r\n    stroke-width: 2;\r\n}\r\n\r\n.compass_center {\r\n    cursor: move;\r\n    stroke: #979797;\r\n    stroke-width: 2;\r\n}\r\n\r\n.compass_radius_icon {\r\n    stroke: #979797;\r\n    stroke-width: 2;\r\n}\r\n\r\n.compass_center:hover,\r\n.compass_center:focus,\r\n.compass_radius:focus,\r\n.compass_radius:hover,\r\n.compass_radius_icon:focus,\r\n.compass_radius_icon:hover {\r\n    stroke: #666666;\r\n}\r\n\r\n.compass_rotation:hover,\r\n.compass_radius_icon:hover,\r\n.compass_center:hover,\r\n.compass_rotation:focus,\r\n.compass_radius_icon:focus,\r\n.compass_center:focus {\r\n    opacity: 1;\r\n}\r\n\r\n.compass_rotation,\r\n.compassRotationBar,\r\n.compass_radius_icon {\r\n    cursor: pointer;\r\n    opacity: 0.6;\r\n}\r\n\r\n.centerImg svg {\r\n    position: absolute;\r\n    top: 0; \r\n    left: 0;\r\n    cursor: crosshair;\r\n}\r\n\r\n.eraserHover:hover,\r\n.eraserHover:focus {\r\n    opacity: 0.5;\r\n}\r\n\r\n.drawing-compass-pointer-border {\r\n    opacity: 0.6;\r\n    stroke-width: 2;\r\n    stroke: #979797;\r\n    fill: #f8f8ff;\r\n}\r\n\r\n#svgImgPreview,\r\n#svgImg {\r\n    max-width: none;\r\n}\r\n\r\n.lastCircle_hover {\r\n    stroke: #000;\r\n    fill: #aaa;\r\n    cursor: grab;\r\n}\r\n\r\n.resize {\r\n    z-index: 20!important;\r\n    cursor: move;\r\n    background-color: rgba(240,240,240,.6)!important;\r\n    box-shadow: 0 0 1px #000 inset;\r\n    position:absolute;\r\n    top: 35px;\r\n    left: 57px;\r\n    height: 66px;\r\n    width: 66px;\r\n    -webkit-border-radius: 100%;\r\n    -moz-border-radius: 100%;\r\n    border-radius: 100%;\r\n}\r\n#moveDrawIcon {\r\n    top: 50px;\r\n    left: 50px;\r\n    z-index: 500;\r\n    margin-top: -7px;\r\n    margin-left: -7px;\r\n}\r\n.drawing_module_container .btn-light {\r\n    background-color: #ebebeb !important;\r\n}\r\n.previewDrawingPaths path:focus {\r\n    opacity: 0.5;\r\n    outline: none;\r\n}\r\n\r\n.drawing_module_container .btn-light:not(:disabled):not(.disabled):active:focus,\r\n.drawing_module_container .btn-light:not(:disabled):not(.disabled).active:focus {\r\n    box-shadow: 0 0 0 0.2rem #aaa9!important;\r\n}\r\n\r\n.currentFocusPoint {\r\n    stroke: #027f02!important;\r\n}\r\n\r\n.centerImg svg:focus {\r\n    -webkit-box-shadow: inset 1px 1px 12px #ccc !important;\r\n    -moz-box-shadow: inset 1px 1px 12px #ccc !important;\r\n    box-shadow: inset 1px 1px 12px #ccc !important;\r\n    outline: 0;\r\n}\r\n\r\npath.answer_mark:focus {\r\n    opacity: 0.5;\r\n}\r\n\r\n.resizer {\r\n    width: 15px;\r\n    height: 15px;\r\n    position: absolute;\r\n    right: 0;\r\n    bottom: 0;\r\n    cursor: se-resize\r\n}\r\n\r\n#drawing-modal .modal-body,\r\n#drawing_shortcut_modal .modal-body {\r\n    max-height: 350px;\r\n}\r\n\r\n.shortcutTable [tabindex="0"]:focus {\r\n    outline: -webkit-focus-ring-color auto 1px;\r\n}\r\n\r\n#drawingPreviewMain .h {\r\n    display: none !important;\r\n}\r\n\r\n.drawing_bgimg {\r\n    margin-right: 32px;\r\n    pointer-events: none;\r\n    opacity: 0.4;\r\n}\r\n\r\n#upload_media {\r\n    margin-top: 28px;\r\n}\r\n\r\n.setting_btn {\r\n    right: 1px;\r\n    top: 1px;\r\n    z-index: 1;\r\n}\r\n\r\n.drawing_module_container button:disabled {\r\n    pointer-events: auto !important;\r\n}\r\n\r\n#centerImg {\r\n    position: relative;\r\n}\r\n.mr-2 {\r\n    margin-right: 0.5em !important;\r\n}\r\n#previewSvg { \r\n    width: 600px;\r\n    height: 520px;\r\n    position: absolute;\r\n}');let S="https://s3.amazonaws.com/jigyaasa_content_static/",A="http://www.w3.org/2000/svg";function P(e){let t=[];for(let s=0;s<e.length;s++)t.push({mode:"mode",order:2,type:"scribble_0",index:0,d:"path"}),t[s].mode=e[s].mode,t[s].order=e[s].order,t[s].type=e[s].type,t[s].index=e[s].index,t[s].d=e[s].d;return t}function N(e,t,s,r,l,n,i){let a=((s-=l)-(e-=l))*(s-e)+((r-=n)-(t-=n))*(r-t),o=2*(e*(s-e)+t*(r-t)),c=o*o-4*a*(e*e+t*t-i*i);if(c<=0)return!1;let d=(-o+Math.sqrt(c))/(2*a),p=(-o-Math.sqrt(c))/(2*a);return 0<d&&d<1||0<p&&p<1}function M(e,t,s){let l,n,i,a,o,c,d,p,u,m,b,v,C,k,M,{xml:D}=t,{uxml:L}=t,{isReview:T}=t,{showAns:I}=t,{editorState:R}=t,F=!1,K=!0,B=!1,E=0,z=0,O="scribble",H="#00BCD4",J=[],X=0,W=0,G=[],j=[],Y=[],Z=1,q=0,U=0,$=100,Q=!1,V=90,ee=0,te={x:null,y:null},se={x:null,y:null},re=0,le=50,ne=50,ie="",ae="",oe=!1,ce=1,de=[],pe=[],ue='<smans type="41"></smans>',me=[],be=[],ve=!1,we=[],ge=!1,he=x({correctAnswer:!1,xml:"",uxml:"",openImg:!1,openDrag:!1,bgImg:"useraccount_000ANv.png",cdata:"",focusDATA:"",userXML:"",lineColor:"#00BCD4",selectedTools:["_scribble","_line","_compass"],remediationMode:"off",imgWidth:"600",alt:"Triangle image",markPointColor:"#00ff00"}),_e={};he.subscribe((e=>{s(2,_e=e)}));function ye(e){if(U&&Ge(),e.shiftKey){if(!K)return;K=!1,B=!0,g.selectAll("#previewSvg .lastCircle","addClass","lastCircle_hover")}("compass"==O&&"mousedown"==e.type||e.shiftKey)&&(Be(),g.selectAll("#previewSvg .lastCircle","css",{cursor:"grabbing"}),(K||"mousedown"==e.type)&&(F=!0,re=1),Oe(),l=document.createElementNS(A,"path"),Xe(H,5),l.setAttributeNS(null,"data-type",O+"_"+X),l.setAttributeNS(null,"data-order",X),l.setAttributeNS(null,"d","M"+v+" "+C),l.setAttributeNS(null,"tabindex","0"),a=v,o=C,J.push({mode:"add",order:X,type:O+"_"+X,index:X,d:"M"+v+" "+C}))}function fe(){g.listenAll(".focusPoints","focus",(function(e){g.selectAll(".focusPoints","removeClass","currentFocusPoint"),e.target.classList.add("currentFocusPoint")})),g.listenAll(".focusPoints","blur",(function(){g.selectAll(".focusPoints","removeClass","currentFocusPoint")}))}function xe(e){null!=e.screenX&&(z&&E&&Ge(),13==e.keyCode||32==e.keyCode||0===e.screenX?(e.preventDefault(),Ne(),ce?(g.select("#moveDrawIcon","addClass","h"),g.select("#previewSvg","css",{cursor:"crosshair"})):(g.select("#moveDrawIcon","removeClass","h"),g.select("#previewSvg","css",{cursor:"auto"}))):"click"==e.type&&0!==e.screenX&&Ne())}function Ce(e,t){U&&Ge(),"click"!=t.type&&13!=t.keyCode&&32!=t.keyCode||(O=e.getAttribute("data-title"),g.select("#previewSvg","css",{cursor:"crosshair"}),g.select("#moveDrawIcon","addClass","h"),z=0,E=0,"eraser"==O?g.selectAll(".previewDrawingPaths path","addClass","eraserHover"):g.selectAll(".previewDrawingPaths path","removeClass","eraserHover"),g.selectAll(".drawingCompassSvg","addClass","h"),"compass"==O&&g.selectAll(".drawingCompassSvg","removeClass","h"),Be()),13!=t.keyCode&&32!=t.keyCode||"eraser"==O||"compass"==O||(g.select("#moveDrawIcon","removeClass","h"),g.select("#previewSvg","css",{cursor:"auto"})),z&&E&&Ge()}function ke(e){switch(O){case"line":case"scribble":F&&(Je(e),q&&(a==n&&o==i&&"line"==O||"scribble"==O&&J[X].d.split("L").length-1<3)&&J.pop(),a==n&&o==i&&"line"==O||"scribble"==O&&J[X].d.split("L").length-1<3?J.pop():(l.setAttributeNS(null,"d",J[X].d+" L"+n+" "+i),J[X].d=J[X].d+" L"+n+" "+i,g.select(".previewDrawingPaths").prepend(l),X++,W++,G=[],g.select("#preview_clearScreen").disabled=!1,g.select("#preview_undo").disabled=!1,g.select("#preview_redo").disabled=!0)),F=!1;break;case"compass":ee=0,re=0,Q&&(Je(e),c=n,d=i,s(0,$=g.select(".drawingCompassRoute").getAttribute("r")),He(c,d,$,V),Q=!1),F&&(J[X].d.split("L").length-1<4?J.pop():(l.setAttributeNS(null,"d",J[X].d+" L"+v+" "+C),J[X].d=J[X].d+" L"+v+" "+C,g.select(".previewDrawingPaths").prepend(l),X++,W++,G=[],g.select("#preview_clearScreen").disabled=!1,g.select("#preview_undo").disabled=!1,g.select("#preview_redo").disabled=!0),F=!1),g.selectAll("#previewSvg .lastCircle","css",{cursor:"grab"})}Te(P(J))}function Se(){s(4,T=!0),(z&&E||q)&&Ge(),!K&&B&&Ke(),Fe(!0),O=_e.selectedTools[0].substr(-(_e.selectedTools[0].length-1)),g.selectAll(".preview_btn,#mark_points","removeClass","active"),g.select("#preview"+_e.selectedTools[0],"addClass","active"),"compass"==O?g.selectAll(".drawingCompassSvg","removeClass","h"):g.selectAll(".drawingCompassSvg","addClass","h"),s(2,_e.remediationMode="on",_e),g.selectAll(".previewBtnGrp","addClass","h"),O="none",g.selectAll(".preview_drawing_container","css",{pointerEvents:"none"}),g.select("#previewSvg","removeClass","previewKeySvg"),g.selectAll(".previewMarkingPaths .answer_mark","remove"),Ie(),Me(JSON.parse(we)),g.selectAll("path.answer_mark","attr",{tabindex:"0","aria-labelledby":"answerLine"}),_e.correctAnswer?(g.insert(".previewMarkingPaths",'<title id="answerLine">'+r.ans_correct+"</title>","beforeend"),g.selectAll(".answer_mark","css",{stroke:"#0F9D58"})):(g.insert(".previewMarkingPaths",'<title id="answerLine">'+r.ans_incorrect+"</title>","beforeend"),g.selectAll(".answer_mark","css",{stroke:"#FF0000"}),g.selectAll(".answer_circle","css",{stroke:"#0F9D58"}))}function Ae(){s(4,T=!1),g.selectAll(".preview_drawing_container","css",{pointerEvents:""}),g.selectAll(".previewBtnGrp","removeClass","h"),g.select("#previewSvg","addClass","previewKeySvg"),O=_e.selectedTools[0].substr(-(_e.selectedTools[0].length-1)),g.selectAll(".preview_btn,#mark_points","removeClass","active"),g.select("#preview"+_e.selectedTools[0],"addClass","active"),"compass"==O?(g.selectAll(".drawingCompassSvg","removeClass","h"),g.select("#previewSvg","css",{cursor:"crosshair"}),g.select("#moveDrawIcon","addClass","h")):g.selectAll(".drawingCompassSvg","addClass","h"),g.selectAll(".preview_btn,#mark_points","removeClass","active"),g.selectAll("#preview"+_e.selectedTools[0],"addClass","active"),g.selectAll(".correct_answer_container .answer_mark","remove"),g.select("#mark_points").innerText="Mark Points",g.select("#mark_points").disabled=!1,ce=1,s(2,_e.remediationMode="off",_e),g.selectAll(".previewMarkingPaths title","remove"),g.selectAll(".answer_mark","css",{stroke:_e.markPointColor}),g.selectAll(".answer_mark","removeAttr","tabindex")}function Pe(){try{ie=y(D),null==ie.smxml._markPointColor&&(ie.smxml._markPointColor="#00ff00"),null==ie.smxml._color&&(ie.smxml._color="rgb(0, 188, 212)"),he.update((e=>(e.bgImg=ie.smxml._bgimg,e.alt=ie.smxml._imgAlt,e.imgWidth=ie.smxml._width,e.lineColor=ie.smxml._color,e.focusDATA=ie.smxml.backgroundPoint.__cdata,e.markPointColor=ie.smxml._markPointColor,e.selectedTools=ie.smxml.div._selectedDrawingType.split(","),e))),Y=[],Z=1;let e=_e.focusDATA;e="["+e.replace(/!/g,",")+"]",e=JSON.parse(e),g.selectAll(".backgroundFocusPointPreview circle,.backgroundFocusPathPreview path, .backgroundFocusPointPreview title","remove");for(let t=0;t<e.length;t++)Y.push(e[t][t]);for(let t=0;t<e.length;t++){for(let s=0;s<e[t][t].length;s++)Y[t][s].x=e[t][t][s].x,Y[t][s].y=e[t][t][s].y,l=document.createElementNS(A,"circle"),Xe("#808080",5),l.setAttributeNS(null,"aria-labelledby","focusPoint_"+Z+"_title focusPoint_"+Z+"_desc"),l.setAttributeNS(null,"tabindex","0"),l.setAttributeNS(null,"class","focusPoints"),l.setAttributeNS(null,"data-focusOrder",Z),l.setAttributeNS(null,"cx",Y[t][s].x),l.setAttributeNS(null,"cy",Y[t][s].y),l.setAttributeNS(null,"r","2px"),g.select(".backgroundFocusPointPreview").append(l),g.insert(".backgroundFocusPointPreview",'<title id="focusPoint_'+Z+'_title">You are on the '+Z+' Point </title><desc id="focusPoint_'+Z+'_desc">Press shift + tab to move towards the previous point or tab to move towards the next points</desc>',"beforeend"),Z++;Re(Y[t],1)}H=_e.lineColor,J=[],K=!0,B=!1,E=0,z=0,X=0,W=0,G=[],j=[],ce=1,de=[],O=_e.selectedTools[0].substr(-(_e.selectedTools[0].length-1)),R&&g.selectAll(".previewMarkingPaths .answer_mark,.previewDrawingPaths path","remove"),"compass"==O?(g.selectAll(".drawingCompassSvg","removeClass","h"),g.select("#previewSvg","css",{cursor:"crosshair"}),g.select("#moveDrawIcon","addClass","h")):g.selectAll(".drawingCompassSvg","addClass","h"),g.select("#mark_points").disabled=!1,g.select("#mark_points").innerText="Mark Points",g.select("#preview_undo").disabled=!0,g.select("#preview_redo").disabled=!0,g.select("#preview_clearScreen").disabled=!0,g.selectAll(".geometryToolPreview","addClass","h");for(let e=0;e<_e.selectedTools.length;e++)g.select("#preview"+_e.selectedTools[e],"removeClass","h");g.selectAll(".preview_btn,#mark_points","removeClass","active"),g.select("#preview"+_e.selectedTools[0],"addClass","active"),g.selectAll(".preview_drawing_toolbar, .centerImgPreview","attr",{style:"width:"+(Number(_e.imgWidth)+2)+"px"}),g.select(".centerImg #svgImgPreview","attr",{src:S+""+_e.bgImg,alt:_e.alt,width:_e.imgWidth}),g.enableBsAll(".tooltip_btn","Tooltip",{container:"body"})}catch(e){console.warn({error:e,func:"parseXMLForGettingData @271"})}}function Ne(){g.selectAll(".drawingCompassSvg","addClass","h"),g.selectAll("#previewSvg path","removeClass","eraserHover"),ce?(g.selectAll(".preview_btn","removeClass","active"),g.select("#mark_points").innerText="Finish Marking",g.select("#mark_points","addClass","active"),ce=0,g.selectAll(".previewMarkingPaths .answer_mark","remove"),me=[],de=[],R||g.selectAll(".correct_answer_container .answer_mark","remove"),O="markPoints"):(g.select("#mark_points").innerText="Mark Points",g.select("#mark_points","removeClass","active"),de.length>=1&&(Re(de),"on"==_e.remediationMode&&Fe()),O=_e.selectedTools[0].substr(-(_e.selectedTools[0].length-1)),g.select("#moveDrawIcon","addClass","h"),g.select("#previewSvg","css",{cursor:"crosshair"}),g.select("#preview"+_e.selectedTools[0],"addClass","active"),"compass"==O?g.selectAll(".drawingCompassSvg","removeClass","h"):g.selectAll(".drawingCompassSvg","addClass","h"),ce=1)}function Me(e){for(let t=0;t<e.length;t++)l=document.createElementNS(A,"circle"),Xe(_e.markPointColor,5),l.setAttributeNS(null,"class","answer_mark"),l.setAttributeNS(null,"cx",e[t].x),l.setAttributeNS(null,"cy",e[t].y),l.setAttributeNS(null,"r","2px"),g.select(".previewMarkingPaths").prepend(l);Re(e)}function De(e){return null==(e=y(e)).smans.userDrawPath&&(e.smans.userDrawPath=""),be=JSON.parse(e.smans.userDrawPath),ve="true"==e.smans.ansCorrect.toLowerCase(),ve}function Le(e,t){if(null!=g.select(e).getAttribute("data-order")){G=[];let s="",r=t.indexOf(t[g.select(e).getAttribute("data-order")]),l="["+JSON.stringify(t[r])+"]";s=P(JSON.parse(l)),s[0].mode="remove",t.push(s[0]),Te(P(t)),X++,W++,g.select(e,"remove"),g.select("#preview_redo").disabled=!0,g.select("#preview_undo").disabled=!1,0==g.selectAll(".previewDrawingPaths path").length&&(g.select("#preview_clearScreen").disabled=!0)}}function Te(e){pe=[];let t=0;for(let s=0;s<e.length;s++)for(t=s+1;t<e.length;)e[s].type==e[t].type&&"add"==e[s].mode&&"remove"==e[t].mode&&(e[s].mode=null,e[t].mode=null),t++;for(let t=0;t<e.length;t++)e=e.filter((function(e){return null!=e.mode}));pe.push(e),Ie()}function Ie(){we=[],we=0==de.length?JSON.stringify(me):JSON.stringify(de),ue='<smans type="41"><markpoints>'+we+"</markpoints><userDrawPath>"+JSON.stringify(pe[0])+"</userDrawPath><ansCorrect>"+oe+"</ansCorrect></smans>",window.ISSPECIALMODULEUSERXMLCHANGE=1,s(2,_e.uxml=ue,_e);var e=De(ue);f({uXml:ue,ans:e})}function Re(e,t){if(0==e.length)return;l=document.createElementNS(A,"path");let s="M "+e[0].x+" "+e[0].y,r="";for(let t=1;t<e.length;t++)r+=" L "+e[t].x+" "+e[t].y;l.setAttributeNS(null,"d",s+""+r),t?(Xe("rgb(128, 128, 128)",5),g.select(".backgroundFocusPathPreview").prepend(l)):(Xe(_e.markPointColor,5),l.setAttributeNS(null,"class","answer_mark"),g.select(".previewMarkingPaths").prepend(l))}function Fe(e){ie=y(_e.xml),ae=ie.smxml.div.__cdata,ae="["+ae.replace(/!/g,",")+"]",ae=JSON.parse(ae);let t=[];t=de,R||L&&0==de.length&&(t=me),Ee(t,e),ze(oe,t,e),e&&(g.select("#mark_points").innerText="Mark Points",g.select("#mark_points").disabled=!1,ce=1)}function Ke(){g.selectAll("#previewSvg .lastCircle","removeClass","lastCircle_hover"),g.selectAll("#previewSvg .lastCircle","css",{cursor:"grab"}),K=!0,-1==J[X].d.indexOf("L")?J.pop():(l.setAttributeNS(null,"d",J[X].d+" L"+v+" "+C),J[X].d=J[X].d+" L"+v+" "+C,g.select(".previewDrawingPaths").prepend(l),X++,W++,G=[],g.select("#preview_undo").disabled=!1,g.select("#preview_clearScreen").disabled=!1,g.select("#preview_redo").disabled=!0),Te(P(J))}function Be(){g.selectAll(".previewMarkingPaths .answer_mark","remove"),R||g.selectAll(".correct_answer_container .answer_mark","remove"),de=[],g.select("#mark_points").innerText="Mark Points",g.select("#mark_points").disabled=!1,ce=1}function Ee(e,t){let s=[];if(t)for(let e=0;e<ae.length;e++)l=document.createElementNS(A,"circle"),Xe("#0F9D58","2"),l.setAttributeNS(null,"class","answer_mark answer_circle"),l.setAttributeNS(null,"cx",ae[e].x),l.setAttributeNS(null,"cy",ae[e].y),l.setAttributeNS(null,"r",ae[e].r),g.select(".correct_answer_container").prepend(l);if(0==ae.length||0==e.length)return void(oe=!1);let r=1==e.length?e.length:e.length-1;for(let t=0;t<ae.length;t++)for(let l=0;l<r;l++){if(1==r&&1==e.length&&N(e[l].x,e[l].y,0,0,ae[t].x,ae[t].y,ae[t].r)){s.push("Match");break}if(r>=1&&e.length>1&&N(e[l].x,e[l].y,e[l+1].x,e[l+1].y,ae[t].x,ae[t].y,ae[t].r)){s.push("Match");break}}oe=s.length==ae.length,s=[]}function ze(e,t,l){e?(s(2,_e.correctAnswer=!0,_e),l&&(ae.length&&t.length&&Re(t),g.selectAll(".answer_mark","css",{stroke:"#0F9D58"}),R&&I(r.correct))):(s(2,_e.correctAnswer=!1,_e),l&&(ae.length&&t.length&&Re(t),g.selectAll(".answer_mark","css",{stroke:"#ff0000"}),g.selectAll(".answer_circle","css",{stroke:"#0F9D58"}),R&&I(r.incorrect))),f({uXml:ue,ans:_e.correctAnswer})}function Oe(){te.x=Number(g.select(".compassRotationBar").getAttribute("x1")),te.y=Number(g.select(".compassRotationBar").getAttribute("y1")),se.x=Number(g.select(".compassRotationBar").getAttribute("x2")),se.y=Number(g.select(".compassRotationBar").getAttribute("y2")),s(0,$=Number(g.select(".drawingCompassRoute").getAttribute("r"))),s(1,V=180*Math.atan2(se.y-te.y,se.x-te.x)/Math.PI)}function He(e,t,s,r){p=e+s/2*Math.cos(r*(Math.PI/180)),u=t+s/2*Math.sin(r*(Math.PI/180)),m=e+3*s/4*Math.cos(r*(Math.PI/180)),b=t+3*s/4*Math.sin(r*(Math.PI/180)),v=e+s*Math.cos(r*(Math.PI/180)),C=t+s*Math.sin(r*(Math.PI/180)),k=e+5*s/4*Math.cos(r*(Math.PI/180)),M=t+5*s/4*Math.sin(r*(Math.PI/180)),g.selectAll(".drawingCompassRoute,.drawingCompassCenter","attr",{cx:e,cy:t}),g.selectAll(".drawingCompassRoute","attr",{r:s}),g.selectAll(".compassRotationBar","attr",{x1:e,y1:t,x2:v,y2:C}),g.selectAll("#previewSvg .lastCircleMid","attr",{cx:k,cy:M,transform:"rotate("+r+","+k+","+M+")"}),g.selectAll("#previewSvg .lastCircle","attr",{cx:v,cy:C}),g.selectAll("#previewSvg .midSmallCircle","attr",{cx:m,cy:b,transform:"rotate("+r+","+m+","+b+")"}),g.selectAll("#previewSvg .mid_circle","attr",{cx:p,cy:u,transform:"rotate("+r+","+p+","+u+")"});let l=r;l<0&&(l=360+l),g.select("#compassRotationTitle").innerText="Compass Angle, Your Current Angle is "+l.toFixed(0)+" degree",g.select("#compassRadiusTitle").innerText="Compass Radius, Your Current Radius is "+(.02649*s).toFixed(1)+"cm"}function Je(e){let t=document.getElementById("previewSvg").getBoundingClientRect();n=e.clientX-t.left,i=e.clientY-t.top}function Xe(e,t){l.style.stroke=e,l.style.strokeWidth=t,l.style.fill="none"}function We(e,t){if(!g.select(".drawingCompassSvg").classList.contains("h")&&"compass"==O){let r=g.select("#svgImgPreview").clientWidth,n=g.select("#svgImgPreview").clientHeight;if(Oe(),t.shiftKey&&(38==t.keyCode||37==t.keyCode||39==t.keyCode||40==t.keyCode)){if("radius"==e)switch(t.keyCode){case 38:s(0,$++,$);break;case 37:s(0,$--,$);break;case 39:s(0,$++,$);break;case 40:s(0,$--,$)}if("move"==e)switch(t.keyCode){case 38:te.y--;break;case 37:te.x--;break;case 39:te.x++;break;case 40:te.y++}if("rotate"==e||"draw"==e)switch(t.keyCode){case 38:s(1,V++,V);break;case 39:s(1,V--,V);break;case 37:s(1,V++,V);break;case 40:s(1,V--,V)}if("draw"==e&&(g.select("#previewSvg .lastCircle").classList.contains("lastCircle_hover")||g.select("#previewSvg .lastbigcircle").classList.contains("lastCircle_hover"))&&(l.setAttributeNS(null,"d",J[X].d+" L"+v+" "+C),J[X].d=J[X].d+" L"+v+" "+C,g.select(".previewDrawingPaths").prepend(l)),te.x<10||$<80||$>360||te.x>r||te.y<10||te.y>n)return;He(te.x,te.y,$,V)}}}function Ge(){a==ne&&o==le&&"line"==O||"scribble"==O&&-1==J[X].d.indexOf("L")?J.pop():(isNaN(ne)&&isNaN(le)||(l.setAttributeNS(null,"d",J[X].d+" L"+ne+" "+le),J[X].d=J[X].d+" L"+ne+" "+le,g.select(".previewDrawingPaths").prepend(l)),X++,W++,G=[],g.select("#preview_undo").disabled=!1,g.select("#preview_clearScreen").disabled=!1,g.select("#preview_redo").disabled=!0),U=0,z=0,E=0,q=0,Te(P(J))}return w((async()=>{s(2,_e.uxml=L,_e),ge=-1!=navigator.userAgent.indexOf("Mac"),He(160,118,100,90),g.listen("body","click","#set-review",(function(){Se()})),g.listen("body","click","#unset-review",(function(){Ae()})),g.listen("body","click","#preview_reset_btn",(function(){h({text:r.reset_module,icon:"warning",buttons:!0}).then((e=>{e&&(Pe(),fe())}))})),g.bind("body","keydown",(function(e){if(!R&&(32==e.keyCode||37==e.keyCode||38==e.keyCode||39==e.keyCode||40==e.keyCode))return!1})),g.listen("body","keyup",".previewKeySvg .previewDrawingPaths path",(function(e,t){(46==t.keyCode||8==t.keyCode&&ge)&&Le(e,J)})),g.listen("body","keyup",".previewKeySvg",(function(e,t){90==t.keyCode&&t.ctrlKey&&!g.select("#preview_undo").disabled&&(z&&E&&Ge(),g.select("#preview_undo").click()),89==t.keyCode&&t.ctrlKey&&!g.select("#preview_redo").disabled&&(z&&E&&Ge(),g.select("#preview_redo").click()),88==t.keyCode&&t.ctrlKey&&g.select("#preview_clearScreen").click(),13!=t.keyCode&&32!=t.keyCode||"compass"==O||"eraser"==O||(g.select("#moveDrawIcon","removeClass","h"),g.select(".previewKeySvg","css",{cursor:"auto"})),!t.shiftKey||13!=t.keyCode&&32!=t.keyCode||0==g.select("#moveDrawIcon").offsetHeight||("markPoints"==O?(l=document.createElementNS(A,"circle"),Xe(_e.markPointColor,5),l.setAttributeNS(null,"class","answer_mark"),l.setAttributeNS(null,"cx",ne),l.setAttributeNS(null,"cy",le),l.setAttributeNS(null,"r","2px"),de.push({x:ne,y:le}),g.select(".previewMarkingPaths").prepend(l),Fe(!1),Ie()):E?Ge():(z=1,Be(),l=document.createElementNS(A,"path"),Xe(H,5),l.setAttributeNS(null,"data-type",O+"_"+X),l.setAttributeNS(null,"data-order",X),l.setAttributeNS(null,"d","M"+ne+" "+le),l.setAttributeNS(null,"tabindex","0"),a=ne,o=le,J.push({mode:"add",order:X,type:O+"_"+X,index:X,d:"M"+ne+" "+le}),E=1))})),g.listen("body","keydown",".previewKeySvg",(function(e,t){if(g.select("#moveDrawIcon").offsetHeight){let e=g.select("#svgImgPreview").clientWidth,s=g.select("#svgImgPreview").clientHeight;if(t.shiftKey&&(38==t.keyCode||37==t.keyCode||39==t.keyCode||40==t.keyCode)&&!q){switch(t.keyCode){case 38:le--;break;case 40:le++;break;case 39:ne++;break;case 37:ne--}if(le<0||ne>e||ne<0||le>s)return;g.select("#moveDrawIcon","css",{top:le+"px",left:ne+"px"}),z&&(l.setAttributeNS(null,"d",J[X].d+" L"+ne+" "+le),"line"!=O&&(J[X].d=J[X].d+" L"+ne+" "+le),g.select(".previewDrawingPaths").prepend(l),E=1)}if(t.shiftKey&&76==t.keyCode&&(q?(q=0,Ge()):(q=1,z=1,Be(),ne=Number(g.select(".currentFocusPoint").getAttribute("cx")),le=Number(g.select(".currentFocusPoint").getAttribute("cy")),l=document.createElementNS(A,"path"),Xe(H,5),l.setAttributeNS(null,"data-type",O+"_"+X),l.setAttributeNS(null,"data-order",X),l.setAttributeNS(null,"d","M"+ne+" "+le),l.setAttributeNS(null,"tabindex","0"),a=ne,o=le,J.push({mode:"add",order:X,type:O+"_"+X,index:X,d:"M"+ne+" "+le}))),9==t.keyCode&&q&&("line"==O||"scribble"==O)){let e=setTimeout((function(){g.select(".currentFocusPoint").nodeName&&(ne=Number(g.select(".currentFocusPoint").getAttribute("cx")),le=Number(g.select(".currentFocusPoint").getAttribute("cy")),isNaN(ne)&&isNaN(le)||("scribble"!=O&&"line"!=O||(U=1),l.setAttributeNS(null,"d",J[X].d+" L"+ne+" "+le),g.select(".previewDrawingPaths").prepend(l),clearTimeout(e)))}),10)}if(68==t.keyCode&&q&&U){let e=setTimeout((function(){isNaN(ne)&&isNaN(le)||(J[X].d=J[X].d+" L"+ne+" "+le,g.select(".previewDrawingPaths").prepend(l),clearTimeout(e),U=0)}),10)}}})),g.listen("body","keydown",".previewKeySvg .drawingCompassCenter",(function(e,t){We("move",t)})),g.listen("body","keydown",".previewKeySvg .mid_circle",(function(e,t){We("radius",t)})),g.listen("body","keydown",".previewKeySvg .midSmallCircle",(function(e,t){We("rotate",t)})),g.listen("body","keydown",".previewKeySvg .lastCircle",(function(e,t){We("draw",t)})),g.listen("body","keydown",".focusPoints",(function(e,t){if(t.shiftKey&&13==t.keyCode)return!1;13!=t.keyCode&&32!=t.keyCode||"markPoints"==O||"eraser"==O||(ne=Number(g.select(".currentFocusPoint").getAttribute("cx")),le=Number(g.select(".currentFocusPoint").getAttribute("cy")),"compass"!=O?g.select("#moveDrawIcon","css",{top:le+"px",left:ne+"px"}):He(ne,le,$,V))})),g.listen("body","keyup",".previewKeySvg .lastCircle",(function(e,t){!K&&B&&16==t.keyCode&&Ke()})),g.bind(".previewKeySvg .lastCircle","blur",(function(){!K&&B&&Ke()})),g.listen("body","mousedown","#previewSvg .midSmallCircle",(function(){"compass"==O&&(re=1,Oe())})),g.listen("body","mousedown","#previewSvg .drawingCompassCenter",(function(){"compass"==O&&(Je(event),c=n,d=i,s(0,$=g.select(".drawingCompassRoute").getAttribute("r")),He(c,d,$,V),Q=!0)})),g.listen("body","mousedown","#previewSvg .mid_circle",(function(){"compass"==O&&(ee=1)})),g.listen("body","mousedown","#previewSvg .lastCircle",(function(e,t){ye(t)})),g.listen("body","keydown","#previewSvg .lastCircle",(function(e,t){ye(t)})),g.listen("body","mousedown","#previewSvg",(function(e,t){switch(g.select("#previewSvg","css",{cursor:"crosshair"}),g.select("#moveDrawIcon","addClass","h"),(z&&E||q)&&Ge(),O){case"line":case"scribble":Be(),F=!0,Je(t),l=document.createElementNS(A,"path"),Xe(H,5),l.setAttributeNS(null,"data-type",O+"_"+X),l.setAttributeNS(null,"data-order",X),l.setAttributeNS(null,"d","M"+n+" "+i),l.setAttributeNS(null,"tabindex","0"),a=n,o=i,J.push({mode:"add",order:X,type:O+"_"+X,index:X,d:"M"+n+" "+i});break;case"eraser":Le(".currentSvg",J);break;case"markPoints":ce||(Je(t),l=document.createElementNS(A,"circle"),Xe(_e.markPointColor,5),l.setAttributeNS(null,"class","answer_mark"),l.setAttributeNS(null,"cx",n),l.setAttributeNS(null,"cy",i),l.setAttributeNS(null,"r","2px"),de.push({x:n,y:i}),g.select(".previewMarkingPaths").prepend(l),Fe(!1),Ie())}})),g.listen("body","mousemove","#previewSvg",(function(e,t){switch(O){case"line":F&&(Je(t),l.setAttributeNS(null,"d",J[X].d+" L"+n+" "+i),a==n&&o==i||g.select(".previewDrawingPaths").prepend(l));break;case"scribble":F&&(Je(t),l.setAttributeNS(null,"d",J[X].d+" L"+n+" "+i),J[X].d=J[X].d+" L"+n+" "+i,J[X].d.split("L").length-1<3||g.select(".previewDrawingPaths").prepend(l));break;case"compass":Je(t),Q&&(c=n,d=i,s(0,$=g.select(".drawingCompassRoute").getAttribute("r")),He(c,d,$,V)),ee&&(Oe(),s(0,$=2*Math.sqrt(Math.pow(n-te.x,2)+Math.pow(i-te.y,2))),$<80&&s(0,$=80),$>360&&s(0,$=360),He(te.x,te.y,$,V)),re&&(Oe(),s(1,V=180*Math.atan2(i-te.y,n-te.x)/Math.PI),V<0&&s(1,V=360+V),He(te.x,te.y,$,V)),F&&(g.select("#previewSvg .lastCircle").classList.contains("lastCircle_hover")||g.select("#previewSvg .lastbigcircle").classList.contains("lastCircle_hover")?(l.setAttributeNS(null,"d",J[X].d+" L"+v+" "+C),J[X].d=J[X].d+" L"+v+" "+C,J[X].d.split("L").length-1<4||g.select(".previewDrawingPaths").prepend(l)):ke(t))}})),g.listen("body","mouseup","#previewSvg",(function(e,t){ke(t)})),g.bind("#previewSvg","mouseleave",(function(e){ke(e)})),g.listen("body","click",".preview_toolbar",(function(e,t){Ce(e,t)})),g.listen("body","keyup",".preview_toolbar",(function(e,t){Ce(e,t)})),g.listen("body","mouseover",".previewDrawingPaths path",(function(e){"eraser"==O&&(g.selectAll(".previewDrawingPaths path","removeClass","currentSvg"),e.classList.add("currentSvg"))})),g.listen("body","mouseout",".previewDrawingPaths path",(function(e){"eraser"==O&&e.classList.remove("currentSvg")})),g.listen("body","mousemove","#previewSvg .lastCircle",(function(e){e.classList.add("lastCircle_hover"),g.selectAll("#previewSvg .lastCircleMid","attr",{opacity:1})})),g.listen("body","mouseout","#previewSvg .lastCircle",(function(e){e.classList.remove("lastCircle_hover"),g.selectAll("#previewSvg .lastCircleMid","attr",{opacity:0})})),g.listenAll("#previewSvg .lastCircle","focus",(function(e){e.target.classList.add("lastCircle_hover"),g.selectAll("#previewSvg .lastCircleMid","attr",{opacity:1})})),g.listenAll("#previewSvg .lastCircle","blur",(function(e){e.target.classList.remove("lastCircle_hover"),g.selectAll("#previewSvg .lastCircleMid","attr",{opacity:0})})),g.listen("body","click",".preview_btn",(function(e){g.selectAll(".preview_btn, #mark_points","removeClass","active"),e.classList.add("active")})),g.listen("body","click","#preview_clearScreen",(function(){g.selectAll(".previewDrawingPaths path","remove"),W=0,X=0,J=[],Te(P(J)),g.select("#preview_undo").disabled=!0,g.select("#preview_redo").disabled=!0,g.select("#preview_clearScreen").disabled=!0})),g.listen("body","click","#preview_undo",(function(e){1==W&&(e.disabled=!0),g.select("#preview_redo").disabled=!1,"add"==J[J.length-1].mode?g.selectAll('#previewSvg [data-order="'+(J.length-1)+'"]',"remove"):"remove"==J[J.length-1].mode&&(l=document.createElementNS(A,"path"),Xe(H,5),l.setAttributeNS(null,"data-type",J[J.length-1].type),l.setAttributeNS(null,"data-order",J[J.length-1].order),l.setAttributeNS(null,"d",J[J.length-1].d),l.setAttributeNS(null,"tabindex","0"),"eraser"==O&&l.setAttributeNS(null,"class","eraserHover"),g.select(".previewDrawingPaths").prepend(l)),G.push(J.pop()),Te(P(J)),X--,W--,g.select("#preview_clearScreen").disabled=0==g.selectAll(".previewDrawingPaths path").length,0==J.length&&(e.disabled=!0)})),g.listen("body","click","#preview_redo",(function(e){X++,G.length>0&&j.push(G.pop()),"add"==j[j.length-1].mode?(l=document.createElementNS(A,"path"),Xe(H,5),l.setAttributeNS(null,"data-type",j[j.length-1].type),l.setAttributeNS(null,"data-order",j[j.length-1].order),l.setAttributeNS(null,"d",j[j.length-1].d),l.setAttributeNS(null,"tabindex","0"),"eraser"==O&&l.setAttributeNS(null,"class","eraserHover"),g.select(".previewDrawingPaths").prepend(l)):"remove"==j[j.length-1].mode&&g.selectAll('#previewSvg [data-order="'+j[j.length-1].order+'"]',"remove"),W++,J.push(j.pop()),Te(P(J)),g.select("#preview_clearScreen").disabled=0==g.selectAll(".previewDrawingPaths path").length,0==G.length&&(e.disabled=!0),g.select("#preview_undo").disabled=!1})),g.listen("body","click","#mark_points",(function(e,t){xe(t)})),g.listen("body","keyup","#mark_points",(function(e,t){xe(t)}))})),_((async()=>{var e,t;_e.xml!=D&&(Pe(),s(2,_e.xml=D,_e),fe(),void 0===R&&(g.selectAll(".reset_group","remove"),L&&(-1==L.search('<smans type="41">')||0==L.search('<smans type="41"></smans>')||-1!=L.search("undefined")?s(2,_e.uxml="",_e):(T?(g.selectAll(".previewBtnGrp","addClass","h"),O="none",g.selectAll(".preview_drawing_container","css",{pointerEvents:"none"}),g.select("#previewSvg","removeClass","previewKeySvg")):(g.selectAll(".preview_drawing_container","css",{pointerEvents:""}),g.selectAll(".previewBtnGrp","removeClass","h"),g.select("#previewSvg","addClass","previewKeySvg"),O=_e.selectedTools[0].substr(-(_e.selectedTools[0].length-1)),g.selectAll(".preview_btn,#mark_points","removeClass","active"),g.select("#preview"+_e.selectedTools[0],"addClass","active")),e=_e.uxml,t=T,ve=De(e),e=y(e),me=JSON.parse(e.smans.markpoints),ie=y(D),ae=ie.smxml.div.__cdata,ae="["+ae.replace(/!/g,",")+"]",ae=JSON.parse(ae),Me(me),function(){be.length&&(g.select("#preview_undo").disabled=!1,g.select("#preview_undo").disabled=!1);for(let e=0;e<be.length;e++)be[e].type=be[e].type.substr(0,be[e].type.indexOf("_"))+"_"+e,be[e].order=e,l=document.createElementNS(A,"path"),Xe(H,5),l.setAttributeNS(null,"data-type",be[e].type),l.setAttributeNS(null,"data-order",be[e].order),l.setAttributeNS(null,"d",be[e].d),l.setAttributeNS(null,"tabindex","0"),g.select(".previewDrawingPaths").prepend(l);X=be.length,J=P(be)}(),Ee(me,t),ze(ve,me,t))))),_e.review!=T&&R&&(he.update((e=>(e.review=T,e))),T?Se():Ae())})),e.$$set=e=>{"xml"in e&&s(5,D=e.xml),"uxml"in e&&s(6,L=e.uxml),"isReview"in e&&s(4,T=e.isReview),"showAns"in e&&s(7,I=e.showAns),"editorState"in e&&s(8,R=e.editorState)},[$,V,_e,function(){g.getBS("#drawing_shortcut_modal","Modal").show()},T,D,L,I,R]}export default class extends e{constructor(e){super(),t(this,e,M,k,s,{xml:5,uxml:6,isReview:4,showAns:7,editorState:8},null,[-1,-1,-1])}}
//# sourceMappingURL=DrawingPreview-e3ad04ad.js.map
