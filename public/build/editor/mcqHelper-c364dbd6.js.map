{"version":3,"file":"mcqHelper-c364dbd6.js","sources":["../../../clsSMMultipleChoice/mcqHelper.svelte"],"sourcesContent":["<script context=\"module\">\n    const alphabet = 'A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W,X,Y,Z'.split(',');\n    export const itemHelper = {\n        doNotformatXml: function(type, xml) {\n            return (+type == 0) ? '' : xml;\n        },\n        donNotSendXMl: true,\n        checkDataOnSave: function(data, content_subtype, state, updateModule) {\n            // let ansstr = \"\";\n            // let arr = [];\n            // Object.values(state.ajaxData.answers).map((item, index) => {\n            //     let option = (item.is_correct == \"1\") ? \"*\" : '-';\n            //     ansstr += '[[Option' + option + alphabet[index] + ': ' + seqTag(item.answer) + \"\\n\";\n            //     arr = removeBogus(ansstr);\n            // });\n            data['correct_answers'] = state.ajaxData.correct_answers;\n            data['total_answers'] = state.ajaxData.total_answers;\n            data['answers'] = state.ajaxData.answers;\n            return data;\n        },\n        actionOnUpdate: function(state) {\n            if (state.content_type == \"q\" && state.item == 0 && state.content_icon == 0) {\n                jQuery('#xmlBtn').addClass(\"h\");\n            } else {\n                jQuery('#xmlBtn').removeClass(\"h\");\n            }\n        },\n        checkBeforeSave: function(state, updateModule) {\n            let checkOptionSelection = JSON.stringify(state.ajaxData.answers).match(/\"is_correct\":\"[1-9]\"/);\n            if (checkOptionSelection == null) {\n                updateModule('message',\"You must select a option\");\n                updateModule('saveDialog',false);\n                updateModule('snackback',true);\n                return true;\n            }\n            return false;\n        },\n        helpVideo: '//player.vimeo.com/external/290348936.hd.mp4?s=a13a32bc22efff0e3b2813f64ee52ab6413166ea',\n\n    };\n\n    function removeBogus(data) {\n        if (data) {\n            data = data.replace(/<span data-mce-bogus[^>]*>/g, '');\n            data = data.replace(/<span anscounter[^>]*>(.*?)<\\/span>/g, (p1, p2) => {\n                return p2;\n            });\n        }\n\n        return data;\n    }\n</script>"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;MACU,QAAQ,IAAG,qDAAqD,EAAC,KAAK,CAAC,GAAG;;MACnE,UAAU;CACnB,cAAc,CAAW,IAAI,EAAE,GAAG;UACrB,IAAI,IAAI,CAAC,GAAI,EAAE,GAAG,GAAG;;CAElC,aAAa,EAAE,IAAI;CACnB,eAAe,CAAW,IAAI,EAAE,eAAe,EAAE,KAAK,EAAE,YAAY;;;;;;;;EAQhE,IAAI,CAAC,iBAAiB,IAAI,KAAK,CAAC,QAAQ,CAAC,eAAe;;EACxD,IAAI,CAAC,eAAe,IAAI,KAAK,CAAC,QAAQ,CAAC,aAAa;EACpD,IAAI,CAAC,SAAS,IAAI,KAAK,CAAC,QAAQ,CAAC,OAAO;SACjC,IAAI;;CAEf,cAAc,CAAW,KAAK;MACtB,KAAK,CAAC,YAAY,IAAI,GAAG,IAAI,KAAK,CAAC,IAAI,IAAI,CAAC,IAAI,KAAK,CAAC,YAAY,IAAI,CAAC;GACvE,MAAM,CAAC,SAAS,EAAE,QAAQ,CAAC,GAAG;;GAE9B,MAAM,CAAC,SAAS,EAAE,WAAW,CAAC,GAAG;;;CAGzC,eAAe,CAAW,KAAK,EAAE,YAAY;MACrC,oBAAoB,GAAG,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC,QAAQ,CAAC,OAAO,EAAE,KAAK,CAAC,sBAAsB;;MAC1F,oBAAoB,IAAI,IAAI;GAC5B,YAAY,CAAC,SAAS,EAAC,0BAA0B;GACjD,YAAY,CAAC,YAAY,EAAC,KAAK;GAC/B,YAAY,CAAC,WAAW,EAAC,IAAI;UACtB,IAAI;;;SAER,KAAK;;CAEhB,SAAS,EAAE,yFAAyF;;;SAI/F,WAAW,CAAC,IAAI;KACjB,IAAI;EACJ,IAAI,GAAG,IAAI,CAAC,OAAO,CAAC,6BAA6B,EAAE,EAAE;;EACrD,IAAI,GAAG,IAAI,CAAC,OAAO,CAAC,sCAAsC,GAAG,EAAE,EAAE,EAAE;UACxD,EAAE;;;;QAIV,IAAI;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;"}