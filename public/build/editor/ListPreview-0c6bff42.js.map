{"version":3,"file":"ListPreview-0c6bff42.js","sources":["../../../clsSMList/ListPreview.svelte"],"sourcesContent":["<script>\r\n    import l from '../src/libs/editorLib/language.js';\r\n    import {writable} from 'svelte/store';\r\n    import { onMount,beforeUpdate,afterUpdate } from \"svelte\";\r\n    import {XMLToJSON} from \"../helper/HelperAI.svelte\";\r\n    \r\n\r\n    export let xml;\r\n    let state = {};\r\n\r\n    let stateData = writable({\r\n        data_cdata_prev         :''\r\n    })\r\n\r\n    var table_data = null;\r\n\r\n    const unsubscribe = stateData.subscribe((items)=>{\r\n        state = items;\r\n    })\r\n\r\n    beforeUpdate(()=>{\r\n        if (xml != state.xml) {\r\n            loadModule(xml);\r\n        }\r\n    })\r\n\r\n    // loads the module\r\n    function loadModule(xml) {\r\n        // contains the json data of xml\r\n        var newXML = XMLToJSON(xml);\r\n        // parses the xml data and updates the xml\r\n        parseXMLPreview(newXML);\r\n    }\r\n\r\n    // parses the xml data and updates the xml\r\n    function parseXMLPreview(MYXML) {\r\n        try {\r\n                // contains the each row data in json format\r\n            state.data_cdata_prev = JSON.parse(MYXML.smxml.__cdata).list;\r\n        } catch(error) {\r\n            console.log({'error': error});\r\n        }\r\n    }\r\n</script>\r\n<div>\r\n    <div id=\"preview_container\" class=\"container w-100 px-3 py-3\">\r\n        <div class=\"container\">\r\n            <div class=\"row\">\r\n                <div class=\"col-12\">\r\n                    {#if state.data_cdata_prev}\r\n                        <table class=\"table w-100\" id=\"prev_csv_data_table\">\r\n                            <tr>\r\n                                <th class=\"text-center align-middle\"><b class=\"font17\">#</b></th>\r\n                                <th class=\"align-middle text-center\"><b class=\"font17\">{state.data_cdata_prev[0].c1}</b></th>\r\n                                <th class=\"align-middle text-center\"><b class=\"font17\">{state.data_cdata_prev[0].c2}</b></th>\r\n                                <th class=\"align-middle text-center\"><b class=\"font17\">{l.current_item}</b></th>\r\n                                <th class=\"align-middle text-center\"><b class=\"font17\">{l.used_in_items}</b></th>\r\n                            </tr>\r\n                            \r\n                                {#each state.data_cdata_prev as object_data, index}\r\n                                        {#if index > 0}\r\n                                            <tr>\r\n                                                <td class=\"text-center align-middle\">{((index < 10)? '0' + index: index)}</td>\r\n                                                <td class=\"align-middle word-wrap-break text-center\">{object_data.c1}</td>\r\n                                                <td class=\"align-middle word-wrap-break text-center\">{object_data.c2}</td>\r\n                                                <td class=\"align-middle text-center\">{object_data.cg}</td>\r\n                                                <td class=\"align-middle word-wrap-break text-center\">{object_data.ag.join(',')}</td>\r\n                                            </tr>\r\n                                        {/if}\r\n                                {/each}\r\n                        </table>\r\n                    {/if}\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>"],"names":["ctx","data_cdata_prev","c1","c2","length","l","current_item","used_in_items","cg","ag","join","xml","state","writable","subscribe","items","beforeUpdate","MYXML","JSON","parse","smxml","__cdata","list","error","console","log","parseXMLPreview","XMLToJSON","loadModule"],"mappings":"oRAqDwFA,KAAMC,gBAAgB,GAAGC,QACzBF,KAAMC,gBAAgB,GAAGE,QAK1EH,KAAMC,qCAAXG,yNAJsDC,EAAEC,uDACFD,EAAEE,8lBAHFP,KAAMC,gBAAgB,GAAGC,2BACzBF,KAAMC,gBAAgB,GAAGE,gCAK1EH,KAAMC,wBAAXG,6HAAAA,qDACWJ,KAAQ,sDAEmCA,KAAQ,GAAK,IAAMA,KAAOA,WACZA,KAAYE,QACZF,KAAYG,QAC5BH,KAAYQ,QACIR,KAAYS,GAAGC,KAAK,shBAHpBV,KAAYE,2BACZF,KAAYG,2BAC5BH,KAAYQ,2BACIR,KAAYS,GAAGC,KAAK,oGAN7EV,KAAQ,oEAX5BA,KAAMC,gTAAND,KAAMC,oIA1ChBU,KACPC,KAEYC,GACZZ,gBAAyB,KAKCa,WAAWC,QACrCH,EAAQG,aAGZC,QACQL,GAAOC,EAAMD,cAMDA,aAQKM,WAGjBL,EAAMX,gBAAkBiB,KAAKC,MAAMF,EAAMG,MAAMC,SAASC,cACpDC,GACJC,QAAQC,KAAcF,MAAAA,KAT1BG,CAFaC,EAAUhB,IAPnBiB,CAAWjB"}