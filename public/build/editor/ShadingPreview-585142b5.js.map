{"version":3,"file":"ShadingPreview-585142b5.js","sources":["../../../clsSMShadedGrid/ShadingPreview.svelte"],"sourcesContent":["<!--\r\n *  File Name   : ShadingPreview.svelte\r\n *  Description : Container for Shading Authoring Module\r\n *  Author      : Rashmi Kumari\r\n *  Package     : svelte_items\r\n *  Last update : 05-Feb-2021\r\n *  Last Updated By : Rashmi Kumari\r\n-->\r\n<script>\r\n    import { onMount, afterUpdate } from \"svelte\";\r\n    import { XMLToJSON, AH, onUserAnsChange} from '../helper/HelperAI.svelte';\r\n    import l from '../src/libs/editorLib/language';\r\n    import ItemHelper from '../helper/ItemHelper.svelte';\r\n    import \"./css/ShadingStyle.min.css\";\r\n    export let xml;\r\n    export let uxml;\r\n    export let isReview;\r\n    export let showAns;\r\n    export let editorState;\r\n\r\n    let showSelectedAns = \"\";\r\n    let ans = [];\r\n    let ansCheck, userTab = true;\r\n    let ansNotPerformed;\r\n    let incorrectCls = \"\";\r\n    let countRes = \"\";\r\n    let sizeMultipleIndex = 40;\r\n    let class_val = 1;\r\n    let cellIndex, showAnsIndex, locked_cell_values, shaded_cell_values, preview_table, total_row_count;\r\n    let state = {\r\n        rowCount: 1,\r\n        colCount: 4,\r\n        gridWidth: 80,\r\n        gridHeight: 80,\r\n        correctAns: [],\r\n        correctCount: \"\",\r\n        userAns: [],\r\n        shadedCell: [],\r\n        cellLocked: false,\r\n        hiddenCell: [],\r\n        smController: \"h\",\r\n        itemLayout: [],\r\n        iconVisible: \"h\",\r\n        pointerEvents: \"auto\",\r\n        checkLockCell: \"\",\r\n        lockedCellValue: \"\",\r\n        //pointerEvents: \"\"\r\n    }\r\n\r\n    onMount(() => {\r\n        state.xml = xml;\r\n        resetValue();\r\n        if (!uxml) {\r\n            state.userAns = [];\r\n        }\r\n        loadModule(xml);\r\n        //for future use\r\n\t\t//let timer = setTimeout(function() {\r\n\t\t\t//AH.select(\"#special_module_user_xml\").innerText = \"<smans userAns='\" + state.userAns.join() + \"'></smans>\";\r\n            //new_uxml = \"<smans userAns='\" + state.userAns.join() + \"'></smans>\";\r\n\t\t\t//clearTimeout(timer);\r\n\t\t//}, 500);\r\n    });\r\n    \r\n    $: {\r\n        if (isReview) {\r\n            setReview(); \r\n            \r\n        } else {\r\n            unsetReview();\r\n        }\r\n        if (xml!=state.xml) {\r\n\t\t\tstate.xml = xml;\r\n\t\t\tloadModule(xml);\r\n\t\t}\r\n        total_row_count = [], preview_table = [];\r\n\t\tcellIndex;\r\n\t\tshowAnsIndex;\r\n\t\tlocked_cell_values = (state.lockedCellValue != undefined && state.lockedCellValue != '') ? state.lockedCellValue.split(',') : '';\r\n        shaded_cell_values = (state.shadedCell != '') ? state.shadedCell.split(',') : '';\r\n        //to create grid\r\n        for (let i = 0; i < state.rowCount; i++) {\r\n            total_row_count = [\r\n                ...total_row_count, {\r\n                    id : 'gridRow_' + i\r\n                }\r\n            ];\r\n            for (let j = 0; j < state.colCount; j++) {\r\n                cellIndex = (i + \"_\" + j);\r\n\t\t\t\tif (ans != \"\") {\r\n\t\t\t\t\tshowAnsIndex = ans.indexOf(cellIndex);\r\n\t\t\t\t\tshowSelectedAns = (showAnsIndex != -1) ? \"gridSelected\" : \"\";\r\n\t\t\t\t} else {\r\n\t\t\t\t\tshowSelectedAns = \"\";\r\n                }\r\n                preview_table = [\r\n                    ...preview_table, {\r\n                        id: 'p' + cellIndex,\r\n                        tabindex: (state.pointerEvents == \"auto\") ? \"0\" : \"\",\r\n                        arialabel: \"Grids row \"+ (i+1) + \" and column \" + (j+1) + \" is selected\",\r\n                        pevdata: cellIndex,\r\n                        class: showSelectedAns,\r\n                        width: parseInt(state.gridWidth) + 'px',\r\n                        height: parseInt(state.gridHeight) + 'px',\r\n                        classDetails: getClassDetail(cellIndex,locked_cell_values,shaded_cell_values),\r\n                        correctAnswerColor: setCorrectAnswerColor(cellIndex),\r\n                        spanclass: (getCorrect(cellIndex)) ? \"icomoon-24px-correct\" : \"icomoon-24px-close\",\r\n                        spanarialabel: (getCorrect(cellIndex)) ? (getNotPerformed(cellIndex) ? \"marked as unattempted\" : \"marked as correct\") : \"marked as incorrect\",\r\n                        spanstyle: (!state.userAns.includes(cellIndex) ? (getNotPerformed(cellIndex) ? \"#222\" : \"\") : ((getCorrect(cellIndex)) ? \"#136d13\" : \"#c30f0f\")),\r\n                        spandisplay: ((state.iconVisible == \"\" && state.userAns.includes(cellIndex)) || (state.iconVisible == \"\" && !state.userAns.includes(cellIndex) && getNotPerformed(cellIndex))) ? \"block\" : \"none\",\r\n                        rowno: i,\r\n                        corrspanclass: (getCorrect(cellIndex)) ? \"icomoon-24px-correct\" : \"\",\r\n                        corrspanstyle: (getCorrect(cellIndex)) ? \"#136d13\" : \"\",\r\n                    }\r\n                ]\r\n            }\r\n        }\r\n    }\r\n\r\n    // Set correct answer color\r\n    function setCorrectAnswerColor(id) {\r\n\t\t// Return grid Color green for correct answer, red for incorrect answer and grey for not performed\r\n\t\tansCheck =  (state.iconVisible == \"\" && state.userAns.includes(id)) ? ((getCorrect(id)) ? \" gridCorrect\" : \" gridIncorrect\") : \"\"; \r\n\t\tansNotPerformed = (state.iconVisible == \"\" && !state.userAns.includes(id)) ? ((getNotPerformed(id)) ? \" gridNotPerformed\" : \"\") : \"\"; \r\n\t\tansCheck = ansCheck + ansNotPerformed;\r\n\t\t return ansCheck;\r\n    }\r\n    \r\n    //to show shaded grid according to uxml\r\n    function parseUserAns(uans) {\r\n        let userAnswer = XMLToJSON(uans);\r\n\t\tstate.userAns = userAnswer.smans._userAns.split(\",\");\r\n        if (userAnswer.smans._userAns) {\r\n\t\t\tlet user_ans_cell = '#p' + userAnswer.smans._userAns.split(',').join(',#p');\r\n            AH.selectAll('.shadingPreview .shadingTable td', 'removeClass', \"gridSelected\");\r\n            AH.selectAll('.shadingPreview .shadingTable td').forEach(function(table_td) {\r\n                table_td.dataset.grid = \"no\";\r\n            });\r\n            AH.selectAll(user_ans_cell, 'addClass', \"gridSelected\");\r\n            AH.selectAll(user_ans_cell).forEach(function(table_td) {\r\n                table_td.dataset.grid = \"selected\";\r\n            });\r\n\t\t}\r\n    }\r\n\r\n    // loads the module according to the value of question xml and user xml\r\n    function loadModule(loadXml) {\r\n        loadXml = XMLToJSON(loadXml);\r\n        parseXMLPreview(loadXml);\r\n    }\r\n\r\n    // updates the xml after parsing the xml and shows answer\r\n    function parseXMLPreview(MYXML) {\r\n\t\ttry {\r\n                state.rowCount = MYXML.smxml._rowCount;\r\n                state.colCount = MYXML.smxml._colCount;\r\n                state.gridWidth = parseInt(MYXML.smxml._cellWidth) * sizeMultipleIndex;\r\n                state.gridHeight = parseInt(MYXML.smxml._cellHeight) * sizeMultipleIndex;\r\n                state.correctAns = MYXML.smxml._correctAns.split(\",\");\r\n                state.correctCount = MYXML.smxml._correctCount;\r\n                state.cellLocked = MYXML.smxml._lockedCell;\r\n                state.hiddenCell = MYXML.smxml._hiddenCell;\r\n                state.shadedCell = MYXML.smxml._shadedCell;\r\n                state.lockedCellValue = MYXML.smxml._lockedCellValue;\r\n                setDefaultValues();\r\n                \r\n                if (uxml) {\r\n                    parseUserAns(uxml);\r\n                }\r\n\t\t} catch(error) {\r\n                console.warn({'error':error.message,'function name':'parseXMLPreview','File name':'ShadingPreview.js'});\r\n        }\r\n\t}\r\n\r\n    //reset the shaded grid and correct grid\r\n    function resetValue() {\r\n        state.correctAns = [];\r\n        state.correctCount = [];\r\n        state.shadedCell = [];\r\n    }\r\n\r\n    //to check if the shaded grid is correct or not\r\n    function getCorrect(id) {\r\n\t\t//Return true if this id is correct answer\r\n\t\tif (state.correctAns != 0) {\r\n\t\t\tif (state.correctAns.includes(id)) {\r\n\t\t\t\treturn true;\r\n\t\t\t} else {\r\n\t\t\t\treturn false;\r\n\t\t\t}\t\r\n\t\t} else {\r\n\t\t\tif (state.userAns.length == state.correctCount) {\r\n\t\t\t\tincorrectCls = \"#136d13\";\r\n\t\t\t\treturn true;\r\n\t\t\t} else {\r\n\t\t\t\tincorrectCls = \"#c30f0f\";\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t}\r\n    }\r\n\r\n    //to check if the correct ans grid is checked or not\r\n    function getNotPerformed(id) {\r\n\t\tlet result;\r\n\t\tif (state.correctAns != 0) {\r\n\t\t\tresult = ( state.correctAns.includes(id) && !state.userAns.includes(id)) ? true : false;\r\n\t\t}\r\n\t\treturn result;\r\n    }\r\n\r\n    // Set lock to author shaded cells\r\n    function getClassDetail(cellIndex, locked_cell_values, shaded_cell_values) {\r\n\t\tlet classDetail = '';\r\n\t\tif (locked_cell_values.indexOf(cellIndex) != -1) {\r\n\t\t\tclassDetail +=\"lockedGrid \";\r\n\t\t}\r\n\t\tif (shaded_cell_values.indexOf(cellIndex) != -1 && class_val == 1) {\r\n\t\t\tclassDetail +=\"gridSelected\";\r\n\t\t}\r\n\t\treturn classDetail;\r\n    }\r\n\r\n    //set default values after loading \r\n    function setDefaultValues() {\r\n\t\tlet shadedCell = (state.shadedCell != '') ? '#p' + state.shadedCell.split(',').join(',#p') : '';\r\n\t\tAH.selectAll('.shadingPreview .shadingTable td', 'removeClass', ['gridSelected', 'lockedGrid']);\r\n        AH.selectAll('.shadingPreview .shadingTable td').forEach(function(table_td) {\r\n            table_td.dataset.grid = \"no\";\r\n        });\r\n        if (shadedCell != '') {\r\n            AH.selectAll(shadedCell, 'addClass', 'gridSelected');\r\n            AH.selectAll(shadedCell).forEach(function(table_td) {\r\n                table_td.dataset.grid = \"selected\";\r\n            });\r\n        }\r\n        let lockedCell = (state.lockedCellValue != undefined && state.lockedCellValue != '') ? '#p' + state.lockedCellValue.split(',').join(',#p') : '';\r\n        if (lockedCell != '') {\r\n            AH.selectAll(lockedCell, 'addClass', 'lockedGrid');\r\n            AH.selectAll(lockedCell).forEach(function(table_td) {\r\n                table_td.dataset.grid = \"selected\";\r\n            });\r\n        }\r\n    }\r\n\r\n    //function to execute when the grid is clicked\r\n    function gridClickPreview(e) {\r\n\t\tlet targetId = e.target.id;\r\n        class_val--;\r\n\t\tif ((!AH.select(\".shadingPreview [id='\"+targetId+\"']\").classList.contains(\"lockedGrid\"))) {\r\n\t\t\tif (!AH.select(\".shadingPreview [id='\"+targetId+\"']\").classList.contains(\"gridSelected\")) {\r\n                AH.select(\".shadingPreview [id='\"+targetId+\"']\").setAttribute(\"data-grid\", \"selected\");\r\n                AH.selectAll(\".shadingPreview [id='\"+targetId+\"']\", 'addClass', \"gridSelected\");\r\n\t\t\t} else {\r\n                AH.select(\".shadingPreview [id='\"+targetId+\"']\").setAttribute(\"data-grid\", \"no\");\r\n                AH.selectAll(\".shadingPreview [id='\"+targetId+\"']\", 'removeClass', \"gridSelected\");\r\n\t\t\t}\r\n\t\t}\r\n\r\n        //state.userAns = userAns;\r\n        let u_answer = checkAns();\r\n        if(!editorState) {\r\n            onUserAnsChange({uXml: state.userxml, ans: u_answer});\r\n        }\r\n    }\r\n\r\n    //to show correct and user answer \r\n    function showAnswer(val , iconState) {\r\n        //show correct incorrect icon with respect to iconState\r\n        if (iconState == \"showIcon\") {\r\n            state.iconVisible = \"\";\r\n        } else {\r\n            state.iconVisible = \"h\";\r\n\t\t}\r\n\t\t\r\n        //show correct answer and user answer\r\n        if (val == \"cans\") {\r\n\t\t\tans = state.correctAns;\r\n        } else if(val == \"yans\") {\r\n\t\t\tans = state.userAns;\r\n\t\t}\r\n    }\r\n\r\n    //to check answer\r\n    function checkAns() {\r\n\t\tconst correctLength = state.correctAns.length;\r\n\t\tlet resultLength = 0;\r\n\t\tlet resultCountLen = 0;\r\n        let ans_val = \"\", ans_status = '';\r\n        state.userAns = [];\r\n\t\tAH.selectAll('.shadingPreview .shadingTable .gridSelected').forEach(function(value) {\r\n\t\t\tstate.userAns.push(value.getAttribute(\"pevdata-id\"))\r\n\t\t});\r\n        AH.select(\"#special_module_user_xml\").innerText = \"<smans userAns='\"+state.userAns.join()+\"'></smans>\";\r\n\t\tstate.userxml = \"<smans userAns='\"+state.userAns.join()+\"'></smans>\";\r\n\r\n\t\tif (state.correctAns != \"\") {\r\n\t\t\tstate.correctAns.map(function(data, i) {\r\n\t\t\t\tstate.userAns.map(function(data2, j) {\r\n\t\t\t\t\tif (data == data2) {\r\n\t\t\t\t\t\tresultLength = resultLength + 1;\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t\t\t\r\n\t\t\t//Check if total no. of user answer is equal to correct answer\r\n\t\t\tif (correctLength == resultLength && resultLength == state.userAns.length) {\r\n\t\t\t\tans_val = l.correct;\r\n\t\t\t} else {\r\n\t\t\t\tans_val = l.incorrect;\r\n\t\t\t}\r\n\t\t\tif (typeof calculatePoint != \"undefined\") {\r\n\t\t\t\tcalculatePoint(state.correctAns.length, resultLength);\r\n\t\t\t}\r\n            if (ans_val == 'Incorrect') {\r\n                ans_status = false;\r\n            } else {\r\n                ans_status = true;\r\n            }\r\n            if(editorState)  {\r\n\t\t\t    showAns(ans_val);\r\n            }\r\n\t\t}\r\n\r\n        if (state.correctCount != \"\" && state.correctAns == \"\") {\r\n\t\t\tif (state.userAns.length == state.correctCount) {\r\n\t\t\t\tcountRes = l.correct;\r\n\t\t\t\tresultCountLen = state.correctCount;\r\n\t\t\t} else {\r\n\t\t\t\tcountRes = l.incorrect;\r\n\t\t\t}\r\n\t\t\tif (typeof calculatePoint != \"undefined\") {\r\n\t\t\t\tcalculatePoint(state.correctCount, resultCountLen);\r\n\t\t\t}\r\n\t\t\tif(editorState)  {\r\n\t\t\t    showAns(countRes);\r\n            }\r\n\t\t}\r\n        \r\n        if(!editorState) {\r\n            onUserAnsChange({uXml: state.userxml, ans: ans_status});\r\n        }\r\n        \r\n        return ans_status;\r\n    }\r\n\r\n    //if review mode is OFF\r\n    function unsetReview() {\r\n        showAnswer(\"yans\", \"hideIcon\");\r\n        isReview = false;\r\n        (state.correctCount != \"\" && state.correctAns == \"\") ? AH.selectAll('#correctCountStatus', 'addClass', 'h') : \"\";\r\n    }\r\n\r\n    //if review mode is ON\r\n    function setReview() {\r\n        showAnswer(\"yans\", \"showIcon\");\r\n        isReview = true;\r\n        checkAns();\r\n        (state.correctCount != \"\" && state.correctAns == \"\" ) ? AH.selectAll('#correctCountStatus', 'removeClass', 'h') : \"\";\r\n    }\r\n\r\n    //ada\r\n    function adaKeyupGridClick(e) {\r\n        if (e.keyCode == 13) {\r\n            gridClickPreview(e);\r\n        }\r\n    }\r\n\r\n    //to switch correct ans and your ans tab\r\n    function handleReviewMode(mode) {\r\n        if (mode == 'c') {\r\n            userTab = false;\r\n        } else if (mode == 'u') {\r\n            userTab = true;\r\n        }\r\n    }\r\n\r\n</script>\r\n<div class=\"shadingPreview\">\r\n    <ItemHelper \r\n        on:setReview = {setReview}\r\n        on:unsetReview = {unsetReview}\r\n        reviewMode={false}\r\n        handleReviewClick = {handleReviewMode}\r\n    />\r\n    <table id=\"table\" class=\"table-bordered shadingTable\" style=\"pointer-events: {isReview ? 'none' : ''};\">\r\n        <tbody>\r\n            {#if total_row_count && total_row_count.length > 0}\r\n                {#each total_row_count as val, i}\r\n                    <tr>\r\n                        {#if preview_table && preview_table.length > 0}\r\n                            {#each preview_table as data}\r\n                                {#if i == data.rowno}\r\n                                    <td \r\n                                        id={data.id} \r\n                                        tabindex={data.tabindex} \r\n                                        aria-label={data.arialabel} \r\n                                        data-grid=\"no\" \r\n                                        pevdata-id={data.pevdata}\r\n                                        class={`${(isReview && userTab == false) ? '' : data.class} ${data.classDetails} ${(isReview && userTab == false) ? (data.spanclass == 'icomoon-24px-correct' ? 'gridCorrect' : '') : data.correctAnswerColor} gridColor pointer border-dark text-center`}\r\n                                        on:click={gridClickPreview} \r\n                                        on:keyup=\"{adaKeyupGridClick}\"\r\n                                        style=\"width: {data.width}; height: {data.height}; pointerEvents: pointerEvents\"\r\n                                    >\r\n                                        {#if isReview}\r\n                                            {#if userTab == true}\r\n                                                <span class={state.iconVisible} style=\"display: {data.spandisplay}\">\r\n                                                    <span class=\"{data.spanclass}\" aria-label=\"{data.spanarialabel}\" style=\"color: {data.spanstyle}\"></span>\r\n                                                </span>\r\n                                            {:else}\r\n                                                <span>\r\n                                                    <span class=\"{data.corrspanclass}\" aria-label=\"{data.spanarialabel}\" style=\"color: {data.corrspanstyle}\"></span>\r\n                                                </span>\r\n                                            {/if}\r\n                                        {/if}\r\n                                    </td>\r\n                                {/if}\r\n                            {/each}\r\n                        {/if}\r\n                    </tr>\r\n                {/each}\r\n            {/if}\r\n        </tbody>\r\n    </table>\r\n    <div class=\"h mt-5 text-center\" id=\"correctCountStatus\" style=\"color: {incorrectCls}\">\r\n        {l.you_were_req_to_select} {state.correctCount} {l.grid_mark_ans_correct}\r\n    </div>\r\n</div>"],"names":[],"mappings":"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"}