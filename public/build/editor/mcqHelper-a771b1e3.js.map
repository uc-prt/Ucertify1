{"version":3,"file":"mcqHelper-a771b1e3.js","sources":["../../../clsSMMultipleChoice/mcqHelper.svelte"],"sourcesContent":["<script context=\"module\">\r\n    const alphabet = 'A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W,X,Y,Z'.split(',');\r\n    export const itemHelper = {\r\n        doNotformatXml: function(type, xml) {\r\n            return (+type == 0) ? '' : xml;\r\n        },\r\n        donNotSendXMl: true,\r\n        checkDataOnSave: function(data, content_subtype, state, updateModule) {\r\n            // let ansstr = \"\";\r\n            // let arr = [];\r\n            // Object.values(state.ajaxData.answers).map((item, index) => {\r\n            //     let option = (item.is_correct == \"1\") ? \"*\" : '-';\r\n            //     ansstr += '[[Option' + option + alphabet[index] + ': ' + seqTag(item.answer) + \"\\n\";\r\n            //     arr = removeBogus(ansstr);\r\n            // });\r\n            data['correct_answers'] = state.ajaxData.correct_answers;\r\n            data['total_answers'] = state.ajaxData.total_answers;\r\n            data['answers'] = state.ajaxData.answers;\r\n            return data;\r\n        },\r\n        actionOnUpdate: function(state) {\r\n            if (state.content_type == \"q\" && state.item == 0 && state.content_icon == 0) {\r\n                jQuery('#xmlBtn').addClass(\"h\");\r\n            } else {\r\n                jQuery('#xmlBtn').removeClass(\"h\");\r\n            }\r\n        },\r\n        checkBeforeSave: function(state, updateModule) {\r\n            let checkOptionSelection = JSON.stringify(state.ajaxData.answers).match(/\"is_correct\":\"[1-9]\"/);\r\n            if (checkOptionSelection == null) {\r\n                updateModule('message',\"You must select a option\");\r\n                updateModule('saveDialog',false);\r\n                updateModule('snackback',true);\r\n                return true;\r\n            }\r\n            return false;\r\n        },\r\n        helpVideo: '//player.vimeo.com/external/290348936.hd.mp4?s=a13a32bc22efff0e3b2813f64ee52ab6413166ea',\r\n\r\n    };\r\n\r\n    function removeBogus(data) {\r\n        if (data) {\r\n            data = data.replace(/<span data-mce-bogus[^>]*>/g, '');\r\n            data = data.replace(/<span anscounter[^>]*>(.*?)<\\/span>/g, (p1, p2) => {\r\n                return p2;\r\n            });\r\n        }\r\n\r\n        return data;\r\n    }\r\n</script>"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;MACU,QAAQ,IAAG,qDAAqD,EAAC,KAAK,CAAC,GAAG;;MACnE,UAAU;CACnB,cAAc,CAAW,IAAI,EAAE,GAAG;UACrB,IAAI,IAAI,CAAC,GAAI,EAAE,GAAG,GAAG;;CAElC,aAAa,EAAE,IAAI;CACnB,eAAe,CAAW,IAAI,EAAE,eAAe,EAAE,KAAK,EAAE,YAAY;;;;;;;;EAQhE,IAAI,CAAC,iBAAiB,IAAI,KAAK,CAAC,QAAQ,CAAC,eAAe;;EACxD,IAAI,CAAC,eAAe,IAAI,KAAK,CAAC,QAAQ,CAAC,aAAa;EACpD,IAAI,CAAC,SAAS,IAAI,KAAK,CAAC,QAAQ,CAAC,OAAO;SACjC,IAAI;;CAEf,cAAc,CAAW,KAAK;MACtB,KAAK,CAAC,YAAY,IAAI,GAAG,IAAI,KAAK,CAAC,IAAI,IAAI,CAAC,IAAI,KAAK,CAAC,YAAY,IAAI,CAAC;GACvE,MAAM,CAAC,SAAS,EAAE,QAAQ,CAAC,GAAG;;GAE9B,MAAM,CAAC,SAAS,EAAE,WAAW,CAAC,GAAG;;;CAGzC,eAAe,CAAW,KAAK,EAAE,YAAY;MACrC,oBAAoB,GAAG,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC,QAAQ,CAAC,OAAO,EAAE,KAAK,CAAC,sBAAsB;;MAC1F,oBAAoB,IAAI,IAAI;GAC5B,YAAY,CAAC,SAAS,EAAC,0BAA0B;GACjD,YAAY,CAAC,YAAY,EAAC,KAAK;GAC/B,YAAY,CAAC,WAAW,EAAC,IAAI;UACtB,IAAI;;;SAER,KAAK;;CAEhB,SAAS,EAAE,yFAAyF;;;SAI/F,WAAW,CAAC,IAAI;KACjB,IAAI;EACJ,IAAI,GAAG,IAAI,CAAC,OAAO,CAAC,6BAA6B,EAAE,EAAE;;EACrD,IAAI,GAAG,IAAI,CAAC,OAAO,CAAC,sCAAsC,GAAG,EAAE,EAAE,EAAE;UACxD,EAAE;;;;QAIV,IAAI;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;"}