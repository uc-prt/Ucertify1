import{G as t,O as e}from"./main-b1387daf.js";import{h as s}from"./hotkeys.esm-4c49bce2.js";const i=new t,r={sinfo:!0,multimatch:0,ajax_eId:"#matchmain",is_valid_drop:!1};let a,n=[];r.removeUserAns=function(){i.find("#matchmain","#lines, .matchlist-delete",{action:"remove"}),i.selectAll("#matchmain div[data-userans]").forEach((t=>{t.setAttribute("data-userans","")}))},r.update_XMLValue=function(){r.xmlDom=i.select("#special_module_xml").value,r.multimatch=i.select("#matchType").value,i.select("#multimatch").checked&&(r.multimatch=1);let t=i.findChild(r.xmlDom,"matchlist");i.setAttr(t,{listheading1:i.select("#list1").value,listheading2:i.select("#list2").value,multimatch:r.multimatch}),t.innerHTML="<![CDATA[\n"+i.select("#matchList").value+"\n]]>",i.select("#special_module_xml","value",formatXml(r.xmlDom.xml?r.xmlDom.xml:(new XMLSerializer).serializeToString(r.xmlDom[0])))},r.remove_lines=function(t){i.select(t+" #remMatchLine","remove"),i.listen("body","click",".matchlist-delete",(e=>{let s={path:e.getAttribute("d"),base:e.getAttribute("base").split("_")};s.userans=i.find("#matchmain",`[id="${s.base[0]}"]`).getAttribute("data-userans").split(","),0!=s.userans.includes(s.base[1])&&s.userans.splice(s.userans.indexOf(s.base[1]),1),s.userans=s.userans.join(","),","==s.userans.substr(0,1)&&(s.userans=s.userans.substr(1,s.userans.length)),i.select(`[id="${s.base[0]}"]`,"attr",{"data-userans":s.userans}),s.path=s.path.substr(1,s.path.length).split("C"),s.l1=s.path[0].trim().replace(/ /g,",").split(","),s.l2=s.path[1].trim().replace(/ /g,",").split(","),s.index=parseInt(s.l1[s.l1.length-1])+"_"+(parseInt(s.l1[s.l1.length-2])-20)+","+parseInt(s.l2[s.l2.length-1])+"_"+(parseInt(s.l2[s.l2.length-2])+10)+","+e.getAttribute("base"),n.splice(n.indexOf(s.index),1),i.remove(`[base='${e.getAttribute("base")}']`),r.checkAns(n),setTimeout((function(){r.checkAns(t)}),200)}))},i.listen("body","click",".donotshowdialo",(t=>{r.storeDoNotShow(user_guid,1==t.checked?"store":"remove")})),r.storeDoNotShow=function(t,e){let s=JSON.parse(localStorage.getItem("dontshowdialog"));"store"==e?(null==s&&(s={}),s[t]=1,localStorage.setItem("dontshowdialog",JSON.stringify(s))):"remove"==e&&null!=s&&(delete s[t],localStorage.setItem("dontshowdialog",JSON.stringify(s)))},r.chkDoNotShow=function(t){const e=JSON.parse(localStorage.getItem("dontshowdialog"));return null!=e&&t in e},r.showUserAns=function(t){let s=0;n=[],r.multimatch=i.select(t).getAttribute("multimatch"),r.showAns(t),r.dragOptionMatchlist={zIndex:100,cursorAt:{top:-10,left:-10},cursor:"default"},window.mlid=t,a=new e({onDragStart:t=>{r.is_valid_drop=!1;let e=t.target;s=parseInt(e.offsetTop+e.clientHeight/2)+"_"+parseInt(e.offsetLeft+e.offsetWidth)},onDrop:(e,a)=>{document.querySelectorAll(".list2").length>0?function(e,a){r.is_valid_drop=!0;let l,o=e.target,c="black";i.select("#main-page").length>0&&"bla"==i.select("#main-page").getAttribute("mode")&&(c="white"),o.style.position="relative",l=s+","+parseInt(o.offsetTop+o.clientHeight/2)+"_"+parseInt(o.offsetLeft)+","+a.getAttribute("id")+"_"+o.getAttribute("id"),0==n.includes(l)&&n.push(l);let d,u=a.getAttribute?.("data-userans")?a.getAttribute("data-userans").split(","):[];0==u.includes(o.getAttribute("id"))&&u.push(o.getAttribute("id")),u=u.join(","),","==u.substr(0,1)&&(u=u.substr(1,u.length)),a.setAttribute("data-userans",u);let f='<svg id="lines">';var p;n.forEach((function(t,e){e=t.split(","),t=e[1].split("_"),p=e[2],e=e[0].split("_"),d='<div class="matchlist-delete center-block" d="M'+parseInt(e[1])+","+e[0]+"C"+(parseInt(e[1])+88)+" ,"+e[0]+","+(parseInt(e[1])+88)+","+t[0]+","+(parseInt(t[1])-10)+","+t[0]+'" base="'+p+'" style="left:'+parseInt(e[1])+"px;top:"+(parseInt(e[0])-9)+'px">&times</div>',f+='<path fill="none" d="M'+(parseInt(e[1])+20)+","+(parseInt(e[0])-4)+"C"+(parseInt(e[1])+88)+" ,"+(parseInt(e[0])-4)+","+(parseInt(e[1])+88)+","+(parseInt(t[0])-4)+","+(parseInt(t[1])-10)+","+(parseInt(t[0])-3)+'"  base="'+p+'" stroke-width = "2" stroke="'+c+'"></path>',f+='<g transform="translate('+(parseInt(t[1])-11)+","+(parseInt(t[0])-9)+') rotate(0) scale(4) translate(0,0) scale(.3)" base="'+p+'"><g fill="'+c+'" stroke="none" ><path d="M 0 0 L 10 5 L 0 10 z" /></g></g>'})),f+="</svg>",i.insert(t,d,"afterbegin"),i.insert(t,f,"afterbegin"),r.remove_lines(t)}(e,a):document.querySelectorAll(".list3").length>0&&function(e,s){r.is_valid_drop=!0;const i=e.target;i.style.position="relative";var a=s.getAttribute("data-droped")?s.getAttriburte("data-droped"):s.getAttribute("id");i.setAttribute("data-droped",a),i.innerHTML=s.innerHTML,i.setAttribute("data-userans",a);let n=window.getComputedStyle(s);i.style.backgroundColor=n.getPropertyValue("background-color");var l=[];0==(l=s.getAttribute("data-userans").split(",")).includes(i.getAttribute("id"))&&l.push(a),","==(l=l.join(",")).substr(0,1)&&(l=l.substr(1,l.length)),s.setAttribute("data-userans",l),r.checkAns(t)}(e,a)},isValidDrag:t=>{console.log("isValidDrag"+t)}})},r.bindKeyup=function(t){t=t||r.ajax_eId,i.find(".row-fluid",".selmatch",{action:"removeClass",actionData:"selmatch"});let e=0,a="";function l(){i.find(t,".copiedclr","all").forEach((t=>{t.classList.remove("copiedclr")})),a="",e=0}function o(e){i.find(t,"."+e,"all").forEach((t=>{t.classList.add("ks")}))}function c(){!function(){const t=i.selectAll("#matchmain .ks").length;i.find(mlidVar,".ks:nth("+e+")").focus(),e==t-1?e=0:e++}()}function d(e){var s=!1;let r=i.find(t,"."+e,"all"),a=i.select(":focus");if(a.nodeName){let t=a.getAttribute("id");for(let e=0;e<r.length;e++)if(t==r[e].getAttribute("id")){s=!0;break}}return s}function u(t,e=1){if(t.id){let s=i.selectAll(".ks"),r=-1;for(let i=0;i<s.length;i++)if(t.id==s[i].id){r=e?i==s.length-1?0:i+1:0==i?s.length-1:i-1;break}-1!=r&&s[r].focus()}}"2"!=i.select(t).getAttribute("multimatch")?(o("list1"),o("list2")):(o("list3"),o("list4")),document.addEventListener("click",(()=>{d("list1")||d("list2")||d("list3")||d("list4")||l()})),document.querySelector(t).addEventListener("keydown",(()=>{"function"==typeof s&&s.setScope("matchlist")})),r.cleanTitle=function(){i.find(r.ajax_eId,".list1","all").forEach((t=>{t.removeAttribute("aria-label")}))},r.getTitle=function(t,e,s,i,r){return t&&(0==s&&(e+=r?r+" and Attached to ":"Attached to "),s>0&&(e+=" and "),i?(e+=t.textContent,e+="1"==t.getAttribute("as")?" is marked as correct":" is marked as incorrect"):e+=t.textContent),e},"function"==typeof s&&(s.unbind("down,up,left,right,alt+down,enter,delete,esc","matchlist"),s("down,up,left,right,alt+down,enter,delete,esc","matchlist",(function(e,s){switch(s.key){case"down":case"right":if(d("ks")){let t=i.select(".ks:focus"),s=i.selectAll(".ks")[i.selectAll(".ks").length-1];t.id==s.id?i.selectAll(".ks")[0].focus():u(t,1),e.preventDefault()}break;case"up":case"left":if(d("ks")){let t=i.select(".ks:focus"),s=i.selectAll(".ks")[0];t.id==s.id?i.selectAll(".ks")[i.selectAll(".ks").length].focus():u(focus_element,0),e.preventDefault()}break;case"alt+down":c();break;case"enter":e.preventDefault(),d("list3")?function(){var e=i.find(t,".ks:focus");if(""!=a){var s=i.select(t+" #"+a);s.classList.remove("copiedclr"),e.style.position="relative";var n=s.getAttribute("data-droped")?s.getAttribute("data-droped"):s.getAttribute("id");e.setAttribute("data-droped",n),e.innerHTML=s.innerHTML,e.setAttribute("data-userans",n);let o=window.getComputedStyle(s);e.style.backgroundColor=o.getPropertyValue("background-color");var l=[];0==(l=s.getAttribute("data-userans").split(",")).includes(e.getAttribute("id"))&&l.push(n),","==(l=l.join(",")).substr(0,1)&&(l=l.substr(1,l.length)),s.setAttribute("data-userans",l),r.checkAns(t),s.classList.remove("copiedclr"),a=""}}():d("list2")?function(){let e=i.find(t,".ks:focus");if(""!=a){let s=i.find(t,'[id="'+a+'"]'),l=0;l=parseInt(s.offsetTop+s.clientHeight/2)+"_"+parseInt(s.offsetLeft+s.offsetWidth);let o=i.clone(s);o.classList.add("clone"),i.setCss(o,{position:"absolute",top:s.offsetTop,left:s.offsetLeft,width:s.offsetWidth+20,height:s.clientHeight+15});let c="black";i.selectAll("#main-page").length>0&&"bla"==i.selectAll("#main-page").getAttribute("mode")&&(c="white"),e.style.position="relative";let d=l+","+parseInt(e.offsetTop+e.clientHeight/2)+"_"+parseInt(e.offsetLeft)+","+s.getAttribute("id")+"_"+e.getAttribute("id");0==n.includes(d)&&n.push(d);let u,f=[];if(f=s.getAttribute("data-userans").split(","),0==f.includes(e.getAttribute("id"))&&f.push(e.getAttribute("id")),f=f.join(","),","==f.substr(0,1)&&(f=f.substr(1,f.length)),s.setAttribute("data-userans",f),f.length>0){let t=f.split(","),e="";t.map(((t,s)=>{e=r.getTitle(i.select("#"+t),e,s)})),s.setAttribute("aria-label",e)}let p,h='<svg id="lines">';n.forEach(((t,e)=>{e=t.split(","),t=e[1].split("_"),p=e[2],e=e[0].split("_"),u='<div class="matchlist-delete center-block" d="M'+(parseInt(e[1])+20)+","+e[0]+"C"+(parseInt(e[1])+88)+" ,"+e[0]+","+(parseInt(e[1])+88)+","+t[0]+","+(parseInt(t[1])-10)+","+t[0]+'" base="'+p+'" style="left:'+parseInt(e[1])+"px;top:"+(parseInt(e[0])-9)+'px">&times</div>',h+='<path fill="none" d="M'+(parseInt(e[1])+20)+","+(parseInt(e[0])-5)+"C"+(parseInt(e[1])+88)+" ,"+e[0]+","+(parseInt(e[1])+88)+","+t[0]+","+(parseInt(t[1])-10)+","+t[0]+'"  base="'+p+'" stroke-width = "2" stroke="'+c+'"></path>',h+='<path fill="none" d="M'+(parseInt(e[1])+20)+","+(parseInt(e[0])-5)+"C"+(parseInt(e[1])+88)+" ,"+e[0]+","+(parseInt(e[1])+88)+","+t[0]+","+(parseInt(t[1])-10)+","+t[0]+'" marker-end="url(#triangle)" class="line" base="'+p+'" stroke-width = "50"></path>',h+='<g transform="translate('+(parseInt(t[1])-11)+","+(parseInt(t[0])-6)+') rotate(0) scale(4) translate(0,0) scale(.3)" base="'+p+'"><g fill="'+c+'" stroke="none" ><path d="M 0 0 L 10 5 L 0 10 z" /></g></g>'})),h+="</svg>",i.insert(t,u,"afterbegin"),i.insert(t,h,"afterbegin"),r.remove_lines(t),s.removeAttribute("style"),s.style.position="relative",i.remove(".clone"),s.classList.contains("ui-droppable"),r.checkAns(t),s.classList.remove("copiedclr"),a=""}}():(d("list1")||d("list4"))&&function(){let e=i.selectAll(t+" .ks:focus");i.find(t,".list1","all").forEach((t=>{t.classList.remove("copiedclr")})),i.find(t,".list4","all").forEach((t=>{t.classList.remove("copiedclr")})),a=e[0].id,i.select(e[0],"addClass","copiedclr")}();break;case"delete":e.preventDefault(),d("list3")?function(){let e=0;var s=i.find(t,".ks:focus");e=parseInt(s.offsetTop+s.clientHeight/2)+"_"+parseInt(s.offsetLeft+s.offsetWidth),i.setCss(s,{position:"absolute",top:s.offsetTop,left:s.offsetLeft,width:s.offsetWidth+20,height:s.clientHeight+15}),s.removeAttribute("style"),s.style.position="relative",s.classList.contains("ui-droppable")&&(s.classList.remove("dropped"),s.innerHTML="Place Here",s.setAttribute("data-userans",""))}():d("list1")&&function(){var e=i.find(t,".ks:focus");if(e.classList.contains("ui-draggable")&&""!=e.getAttribute("data-userans")){var s=e.getAttribute("id")+"_"+e.getAttribute("data-userans").split(",")[0],a="";i.find(t,".matchlist-delete","all").forEach((t=>{if(t.getAttribute("base")==s)return a=t,!1}));var l=document.querySelector(a).getAttribute("d"),o=document.querySelector(a).getAttribute("base").split("_"),c=i.find(t,'[id="'+rem.base[0]+'"]').getAttribute("data-userans").split(",");0!=c.includes(o[1])&&c.splice(c.indexOf(o[1]),1),","==(c=c.join(",")).substr(0,1)&&(c=c.substr(1,c.length)),document.querySelector("#"+o[0]).setAttribute("data-userans",c),document.querySelector("#"+o[0]).setAttribute("aria-label","");var d=(l=l.substr(1,l.length).split("C"))[0].trim().replace(/ /g,",").split(","),u=l[1].trim().replace(/ /g,",").split(","),f=parseInt(d[d.length-1])+"_"+(parseInt(d[d.length-2])-20)+","+parseInt(u[u.length-1])+"_"+(parseInt(u[u.length-2])+10)+","+i.select(a).getAttribute("base");n.splice(n.indexOf(f),1);var p=document.querySelector(a).getAttribute("base");i.remove("[base='"+p+"']"),r.checkAns(t)}}();case"esc":d("ks")&&(e.preventDefault(),l(),focusLast(),i.selectAll(".ks")[i.selectAll(".ks").length-1].blur())}})),s.setScope("matchlist"))},r.pollFunc=function(t,e,s){var i=(new Date).getTime();s=s||1e3,canPoll=!0,function r(){canPoll=(new Date).getTime()-i<=e,!t()&&canPoll&&setTimeout(r,s)}()},r.showAns=function(t){if(r.multimatch=document.querySelector(t).getAttribute("multimatch"),r.multimatch<2){var e='<svg id="lines">';r.f=0,i.selectAll(t+" .list1").forEach((s=>{if(""!=s.getAttribute("data-userans")){r.f=1;const a=parseInt(s.offsetTop+s.clientHeight/2),l=parseInt(s.offsetLeft+s.offsetWidth),o=top+"_"+l;e+='<marker id="triangle" viewBox="0 0 10 10" refX="0" refY="5" markerUnits="strokeWidth" markerWidth="6" markerHeight="5" orient="auto"><path d="M 0 0 L 10 5 L 0 10 z" /></marker>';const c=s.getAttribute("data-userans").split(",");for(let r=0;r<c.length;r++)if(""!=c[r]){const d=parseInt(i.find(t,"#"+c[r]).offsetTop+i.find(t,"#"+c[r]).clientHeight/2),u=parseInt(i.find(t,"#"+c[r]).offsetLeft),f=d+"_"+u,p='<div class="matchlist-delete center-block" d="M'+(parseInt(l)+20)+","+a+"C"+(parseInt(l)+88)+","+a+","+(parseInt(l)+88)+","+d+","+(parseInt(u)-10)+","+d+'" base="'+s.getAttribute("id")+"_"+i.find(t,"#"+c[r]).getAttribute("id")+'" style="left:'+parseInt(l)+"px;top:"+(a-9)+'px">&times</div>';e+='<path fill="none" d="M'+parseInt(l)+","+(a-5)+"C"+(parseInt(l)+88)+","+(parseInt(a)-4)+","+(parseInt(l)+88)+","+(parseInt(d)-4)+","+(parseInt(u)-10)+","+(parseInt(d)-4)+'" marker-end="url(#triangle)" class="line" base="'+s.getAttribute("id")+"_"+document.querySelector(t+" #"+c[r]).getAttribute("id")+'"></path>';const h=o+","+f+","+s.getAttribute("id")+"_"+i.select(t+" #"+c[r]).getAttribute("id");-1==h.includes(n)&&n.push(h),i.insert(t,p,"afterbegin")}}})),e+="</svg>",1==r.f&&i.insert(t,e,"afterbegin")}else r.showMultimatchAnswer(t,1)},r.checkAns=function(t){let e={},s=!0,a="",n="",l="",o=0,c="",d="",u=".list1",f=".list2";if(2==r.multimatch&&(u=".list3",f=".list4"),"#matchmain"==t){i.selectAll(t+" "+u).forEach((t=>{let e=t.getAttribute("data-correctans").split(",").sort().join(","),r=t.getAttribute("data-userans").split(",").sort().join(",");","==e.substr(0,1)&&(e=e.substr(1,e.length)),","==r.substr(0,1)&&(r=r.substr(1,r.length)),e!=r?s=!1:o++,n+=t.getAttribute("id")+",","undefined"!=typeof calculatePoint&&calculatePoint(i.select("#matchmain").getAttribute("totalcorrectans"),o),c+=t.getAttribute("data-originalseq")+","})),n=n.split(",");let r=n.filter(((t,e,s)=>s.lastIndexOf(t)==e));n=r.join(","),n=n.substr(0,n.length-1),c=c.substr(0,c.length-1),i.find(t,f,"all").forEach((e=>{var s="";i.find(t,u+`[data-userans*="${e.getAttribute("id")}"]`,"all").forEach((t=>{""!=t.getAttribute("data-userans")&&(s+=t.getAttribute("id")+"|")})),""!=(s=s.substr(0,s.length-1))&&(a+=e.getAttribute("id")+"["+s+"],"),l+=e.getAttribute("id")+",",d+=e.getAttribute("data-originalseq")+","})),l=l.substr(0,l.length-1),d=d.substr(0,d.length-1),a=a.substr(0,a.length-1);const p="<smans type='14'>\n\t<matchlist list1seq='"+n+"' list2seq='"+l+"' userans='"+a+"' originalseq1='"+c+"' originalseq2='"+d+"'></matchlist>\n</smans>";return e.u=p,e.ans=s,s?("undefined"!=typeof is_sm&&i.showmsg("Correct"),e):("undefined"!=typeof is_sm&&i.showmsg("Incorrect"),e)}},r.insertAtCaret=function(t,e){if(document.selection){t.focus(),document.selection.createRange().text=e}else if(t.selectionStart||0===t.selectionStart){let s=t.selectionStart,i=t.selectionEnd,r=t.scrollTop;t.value=t.value.substring(0,s)+e+t.value.substring(i,t.value.length),t.selectionStart=s+e.length,t.selectionEnd=s+e.length,t.scrollTop=r}else t.value+=e;t.focus()},r.showMultimatchAnswer=function(t,e){i.find(t," .list3","all").forEach((t=>{i.select(t,"removeClass","dropped"),t.innerHTML="Place here",i.select(t,"css",{backgroundColor:"#fff"})})),i.find(t,".list3","all").forEach((e=>{if(e.getAttribute("data-userans").length>0){const s=e.getAttribute("data-userans").split(",");for(let r=0;r<s.length;r++)if(""!=s[r]){const a=i.find(t,"#"+s[r]).innerHTML;e.innerHTML=a,e.classList.add("dropped")}}}))},r.checkAnswerStatus=function(t,e,s){let i=s||"",r=e.getAttribute("data-correctans").split(",").sort().join(","),a=e.getAttribute("data-userans").split(",").sort().join(",");if(","==r.substr(0,1)&&(r=r.substr(1,r.length)),","==a.substr(0,1)&&(a=a.substr(1,a.length)),""!=i){const e=r.split(","),s=a.split(",");0!=e.includes(i)&&0==s.includes(i)&&(t=-1)}else r!=a&&(t=-1);return t},r.showAllCorrectAns=function(t){i.selectAll(t+" .list3").forEach((e=>{const s=e.getAttribute("data-correctans").split(",");for(let r=0;r<s.length;r++)if(""!=s[r]){const a=i.find(t,"#"+s[r]).innerHTML;e.innerHTML=a,i.select(e,"addClass","dropped")}}))},r.showAllAns=function(t){if(console.table("showAns"),i.remove("#lines"),i.remove(".correct_incorrect_icon"),r.multimatch=document.querySelector(t).getAttribute("multimatch"),r.multimatch<2){var e='<svg id="lines"><marker id="triangle" viewBox="0 0 10 10" refX="0" refY="5" markerUnits="strokeWidth" markerWidth="6" markerHeight="5" orient="auto"><path d="M 0 0 L 10 5 L 0 10 z" /></marker>';e+='<marker id="trngle" viewBox="0 0 10 10" refX="0" refY="5" markerUnits="strokeWidth" markerWidth="6" markerHeight="5" orient="auto"><path d="M 0 0 L 10 5 L 0 10 z" style="fill:#83C883"/></marker>',i.find(t,".list1","all").forEach((s=>{const a=s.offsetTop+s.clientHeight/2;var n=s.offsetLeft+s.offsetWidth,l=s.getAttribute("data-correctans").split(",");for(let s=0;s<l.length;s++)if(""!=l[s]){const r=i.find(t,"#"+l[s]).offsetTop+i.find(t,"#"+l[s]).clientHeight/2-5,o=i.find(t,"#"+l[s]).offsetLeft;e+='<path fill="none" d="M'+parseInt(n)+","+(parseInt(a)-5)+"C"+(parseInt(n)+83)+","+(parseInt(a)-5)+","+(parseInt(n)+83)+","+r+","+(parseInt(o)-10)+","+r+'" marker-end="url(#trngle)" class="correct"></path>'}if(s.getAttribute("data-userans").length>0){const l=s.getAttribute("data-userans").split(",");var o="";for(let c=0;c<l.length;c++)if(""!=l[c]){const d=i.find(t,"#"+l[c]).offsetTop+i.find(t,"#"+l[c]).clientHeight/2+5,u=i.find(t,"#"+l[c]).offsetLeft;e+='<path fill="none" d="M'+parseInt(n)+","+(parseInt(a)+5)+"C"+(parseInt(n)+93)+","+(parseInt(a)+5)+","+(parseInt(n)+93)+","+d+","+(parseInt(u)-10)+","+d+'" marker-end="url(#triangle)" class="line"></path>',o=r.getTitle(i.select("#"+l[c]),o,c,!0,s.textContent)}s.setAttribute("aria-label",o)}})),e+="</svg>",i.insert(t,e,"afterbegin");var s=".list2"}else r.showMultimatchAnswer(t),s=".list3";i.selectAll(t+" "+s).forEach((e=>{const s=e.getAttribute("id");var a=1;2==r.multimatch?a=r.checkAnswerStatus(a,e):i.selectAll(t+' .list1[data-correctans*="'+e.getAttribute("id")+'"]').forEach((t=>{a=r.checkAnswerStatus(a,t,s)}));const n=1==a?'<span class="icomoon-checkmark-circle" style="color:green;">':'<span class="icomoon-cancel-circle" style="color:red;">';e.setAttribute("mrel",e.getAttribute("id")),e.setAttribute("as",a),i.insert(e,'<span class="correct_incorrect_icon" style="position:absolute;width:19px;height:19px;right:-9px;top:-9px;background:white;border-radius:15px 12px 12px;font-size:21px;"> '+n+"</span>","beforeend")}))},r.resetMatch=function(){i.remove("#lines"),i.remove(".correct_incorrect_icon");let t='<svg id="lines"><marker id="triangle" viewBox="0 0 10 10" refX="0" refY="5" markerUnits="strokeWidth" markerWidth="6" markerHeight="5" orient="auto"><path d="M 0 0 L 10 5 L 0 10 z" /></marker>';return t+='<marker id="trngle" viewBox="0 0 10 10" refX="0" refY="5" markerUnits="strokeWidth" markerWidth="6" markerHeight="5" orient="auto"><path d="M 0 0 L 10 5 L 0 10 z" style="fill:#83C883"/></marker>','<svg id="lines"><marker id="triangle" viewBox="0 0 10 10" refX="0" refY="5" markerUnits="strokeWidth" markerWidth="6" markerHeight="5" orient="auto"><path d="M 0 0 L 10 5 L 0 10 z" /></marker><marker id="trngle" viewBox="0 0 10 10" refX="0" refY="5" markerUnits="strokeWidth" markerWidth="6" markerHeight="5" orient="auto"><path d="M 0 0 L 10 5 L 0 10 z" style="fill:#83C883"/></marker>'},r.showCorrect=function(t){let e=r.resetMatch();r.cleanTitle(),i.selectAll(t+" .list1").forEach((s=>{const a=s.offsetTop+s.clientHeight/2;let n=s.offsetLeft+s.offsetWidth,l=s.getAttribute("data-correctans").split(","),o="";for(let c=0;c<l.length;c++)if(""!=l[c]){const d=i.find(t,"#"+l[c]).offsetTop+i.find(t,"#"+l[c]).clientHeight/2-5,u=i.find(t,"#"+l[c]).offsetLeft;e+='<path fill="none" d="M'+parseInt(n)+","+(parseInt(a)-5)+"C"+(parseInt(n)+83)+","+(parseInt(a)-5)+","+(parseInt(n)+83)+","+d+","+(parseInt(u)-10)+","+d+'" marker-end="url(#trngle)" class="correct"></path>',o=r.getTitle(i.select("#"+l[c]),o,c,s.textContent)}s.setAttribute("aria-label",o)})),e+="</svg>",i.insert(t,e,"afterbegin")},r.showYour=function(t){r.cleanTitle();let e=r.resetMatch();i.find(t,".list1","all").forEach((s=>{const a=s.offsetTop+s.clientHeight/2;let n=s.offsetLeft+s.offsetWidth;if(s.getAttribute("data-userans").length>0){const l=s.getAttribute("data-userans").split(",");let o="";for(let c=0;c<l.length;c++)if(""!=l[c]){const d=i.find(t,"#"+l[c]).offsetTop+i.find(t,"#"+l[c]).clientHeight/2+5,u=i.find(t,"#"+l[c]).offsetLeft;e+='<path fill="none" d="M'+parseInt(n)+","+(parseInt(a)+5)+"C"+(parseInt(n)+93)+","+(parseInt(a)+5)+","+(parseInt(n)+93)+","+d+","+(parseInt(u)-10)+","+d+'" marker-end="url(#triangle)" class="line"></path>',o=r.getTitle(i.select("#"+l[c]),o,c,!0,s.textContent)}s.setAttribute("aria-label",o)}})),e+="</svg>",i.insert(t,e,"afterbegin");i.find(t,".list2","all").forEach((e=>{const s=e.getAttribute("id");let a=1;i.find(t,'.list1[data-correctans*="'+e.getAttribute("id")+'"]',"all").forEach((t=>{a=r.checkAnswerStatus(a,t,s)}));const n=1==a?'<span class="icomoon-checkmark-circle" style="color:green;">':'<span class="icomoon-cancel-circle" style="color:red;">';e.setAttribute("mrel",e.getAttribute("id")),e.setAttribute("as",a),i.insert(e,'<span class="correct_incorrect_icon" style="position:absolute;width:19px;height:19px;right:-9px;top:-9px;background:white;border-radius:15px 12px 12px;font-size:21px;"> '+n+"</span>","afterbegin")}))},r.showAll=function(){r.showAllAns(r.ajax_eId)},r.labBinded=!0,r.modeOn=function(t){i.selectAll(".test","addClass","h"),i.find(r.ajax_eId,".review_2, .review_default",{action:"addClass",actionData:"h"}),t?(i.selectAll(".review","removeClass","h"),setTimeout((function(){"function"==typeof s&&s.unbind("down,up,left,right,alt+down,enter,delete,esc","matchlist"),i.selectAll(r.ajax_eId+"  .selmatch","removeClass","selmatch"),r.unBindLab(),r.showAllAns(r.ajax_eId),i.selectAll(r.ajax_eId+" #sm_controller button").forEach((t=>{t.classList.contains("your-ans btn-primary")?r.showAllAns(r.ajax_eId):t.classList.contains("correct-ans btn-primary")&&r.showAllCorrectAns(r.ajax_eId)})),i.find(r.ajax_eId,"#sm_controller_default button","all").forEach((t=>{t.classList.contains("your-ans btn-primary")?r.showYour(r.ajax_eId):t.classList.contains("correct-ans btn-primary")?r.showCorrect(r.ajax_eId):t.classList.contains("both-ans btn-primary")&&r.showAll(r.ajax_eId)}))}),50)):(i.selectAll(".review","addClass","h"),i.selectAll(".test","removeClass","h"),setTimeout((function(){r.bindLab(),r.bindKeyup(r.ajax_eId),r.showUserAns(r.ajax_eId),r.remove_lines(r.ajax_eId),r.cleanTitle()}),50))},r.unBindLab=function(){r.labBinded=!1,i.find(r.ajax_eId,"#lines, .matchlist-delete",{action:"remove"})},r.modifyClass=function(t,e){i.find(r.ajax_eId,"#sm_controller button, #sm_controller_default button","all"),t.classList.add("btn-primary"),t.classList.remove("btn-light")},r.bindLab=function(){r.labBinded=!0,i.find(r.ajax_eId,"#lines,.correct,.lines,.correct_incorrect_icon",{action:"remove"})},r.editor_validtion=function(t){if(1==t||2==t||3==t){const t=document.getElementById("#list1").value,e=document.getElementById("#list2").value,s=document.getElementById("#matchList").value;return""!=t&&""!=e&&""!=s||(i.showmsg("Please Fill The Heading of Lists and Question",1),!1)}};export default r;
//# sourceMappingURL=matchlistJSString-c6249f17.js.map
