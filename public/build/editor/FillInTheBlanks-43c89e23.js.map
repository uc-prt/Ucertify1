{"version":3,"file":"FillInTheBlanks-43c89e23.js","sources":["../../../clsSMFill/FillInTheBlanks.svelte"],"sourcesContent":["<script>\r\n/**\r\n *  File Name   : FillInTheBlanks.svelte\r\n *  Description : Container for all Fill In The Blanks Authoring Module\r\n *\tAuthor      : Pradeep Yadav\r\n *  Version     : 1.0\r\n *  Package     : pe-items\r\n *  Last update : 21 Jan 2021\r\n *  Last updated by : Pradeep Yadav\r\n */\r\n\timport { AH, XMLToJSON } from '../helper/HelperAI.svelte';\r\n\timport { Button, Dialog, Checkbox, Snackbar } from 'svelte-mui/src';\r\n\timport { writable } from 'svelte/store';\r\n\timport { onMount, onDestroy } from 'svelte';\r\n\texport let xml;\r\n\texport let editorState;\r\n\texport let l;\r\n\texport let getChildXml;\r\n\t// variable declararion\r\n\tlet cmTime = {};\r\n\tlet count = 0;\r\n\twindow.spanCounter = 0;\r\n\twindow.currentId = \"\";\r\n\twindow.currentInp = \"\";\r\n\tlet timer = {};\r\n\tlet replaceCharacters = {'&apos;': '#apos#'};\r\n\tlet message = \"\";\r\n\tlet state = {};\r\n\tlet hdd = writable({\r\n\t\tsnackback:false,\r\n\t\tmatchtype:\"\",\r\n\t\tignoretype:\"\",\r\n\t\topen:false,\r\n\t\tsettingmenuopen:false,\r\n\t\tfillInTheBlanksChoice:1,\r\n\t\tmulti:\"\",\r\n\t\tvalueMultiple:[],\r\n\t\tcodetype:false,\r\n\t\tnumeric:false,\r\n\t\tcustomStyle:false,\r\n\t\tcustomStyleData: \"\",\r\n\t\tinput1: \"\",\r\n\t\tfillMultiAttr: {},\r\n\t\tfillDropDown:[\r\n\t\t\t\t{\r\n\t\t\t\t\tvalue:\"\",\r\n\t\t\t\t\tid:\"\",\r\n\t\t\t\t\tchecked:\"\"\t\r\n\t\t\t\t\t\t\r\n\t\t\t\t}\r\n\t\t\t],\r\n\t\tfillDragDrop:[\r\n\t\t\t{\r\n\t\t\t\tvalue:\"\",\r\n\t\t\t\tid:\"\",\r\n\t\t\t\tchecked:\"checked\"\t\r\n\t\t\t\t\t\r\n\t\t\t}\r\n\t\t],\r\n\t\tfillMultiLine:[\r\n\t\t\t{\r\n\t\t\t\tvalue:\"\",\r\n\t\t\t\tid:\"\"\t\r\n\t\t\t\t\t\r\n\t\t\t}\r\n\t\t],\r\n\t\tfillEquation:[\r\n\t\t\t{\r\n\t\t\t\tvalue:\"\",\r\n\t\t\t\tid:\"\"\t\r\n\t\t\t\t\t\r\n\t\t\t}\r\n\t\t],\r\n\t\tanchorEl: null,\r\n\t\tcase_sensetive:false,\r\n\t\tignore_spcl_char:false,\r\n\t\tmultisetting:false,\r\n\t})\r\n\r\n\tconst unsubscribe = hdd.subscribe((items)=> {\r\n\t\tstate = items;\r\n\t})\r\n\r\n\t// this function loaded before the rendering and check that it has xml or not . If it has then calls the reverseXml function.\r\n\tonMount(()=> {\r\n\t\tdidMount();\r\n\t\t// for handling the error\r\n\t\ttry {\r\n\t\t\t// checking if there is any xml in the xml props\r\n\t\t\tif (xml) {\r\n\t\t\t\tAH.select('#authoringLoadComponent').focus();\r\n\t\t\t\t// updates the cdata\r\n\t\t\t\treverseXml();\r\n\t\t\t}\r\n\t\t} catch(e) {\r\n\t\t\tconsole.log({Error: e, File:\"FillInTheBlanks\", Line:\"116\"});\r\n\t\t}\r\n\t\t// used to show the tooltip\r\n\t\t// $(document).ready(function() {\r\n\t\t// \t$('[data-bs-toggle=\"tooltip\"]').tooltip(); \r\n\t\t// });\r\n\t})\r\n\r\n\tonDestroy(()=> {\r\n        tinymce.remove('.tinymce-editor-res');\r\n\t})\r\n\r\n\t// this function is responsible for loading the module\r\n\tfunction loadModule(loadXml) {\r\n\t\t// Here first xml is converted into the JSON with the function XMLToJSON \r\n\t\tlet newXml = XMLToJSON(loadXml);\r\n\t\t// passing the xml in parsing function which parse the xml\r\n\t\tparseXmlAuthoring(newXml);\r\n\t}\r\n\r\n\t// this function is called to parse the xml initially\r\n\tfunction parseXmlAuthoring(MYXML) {\r\n\t\t// taking data from the xml\r\n\t\tlet cdata = MYXML.smxml.text.__cdata;\r\n\r\n\t\t// if MYXML.smxml.text._matchtype is 0 then case_sensetive will be true otherwis false\r\n\t\tlet case_sensetive = (MYXML.smxml.text._matchtype == 0) ? true : false;\r\n\t\t// if MYXML.smxml.text._ignoretype  is 1 then ignore_spcl_char will be true otherwis false\r\n\t\tlet ignore_spcl_char = (MYXML.smxml.text._ignoretype == 1) ? true : false; \r\n\t\t// if there is in xml multiple=multiple then multisetting value will be true\r\n\t\tlet multisetting = (MYXML.smxml.text._multiple == 'multiple') ? true : false; \r\n\r\n\t\t// setting state of the attributes\r\n\t\tstate.matchtype = MYXML.smxml.text._matchtype;\r\n\t\tstate.ignoretype = (MYXML.smxml.text._ignoretype) ? MYXML.smxml.text._ignoretype : \"\";\r\n\t\tstate.multi = (MYXML.smxml.text._multiple) ? MYXML.smxml.text._multiple : \"\";\r\n\t\tstate.case_sensetive = case_sensetive;\r\n\t\tstate.ignore_spcl_char = ignore_spcl_char;\r\n\t\tstate.multisetting = multisetting;\r\n\r\n\t\t// taking correct ans from the cdata and storing it in variable answerKey\r\n\t\tlet answerKey = cdata.match(/%{[\\s\\S]*?}%/gm);\r\n\t\tlet answerType = '';\r\n\r\n\t\t// checking if there is any correct ans set\r\n\t\tif (answerKey) {\r\n\t\t\t// iterating through each answerkey\r\n\t\t\tanswerKey.forEach((v, i)=> {\r\n\t\t\t\tlet originalKey = answerKey[i];\r\n\t\t\t\tlet latexKey = \"\";\r\n\t\t\t\tlet editMath = \"\";\r\n\r\n\t\t\t\t// here fimding the answerType by matching finding the text between | and }%\r\n\t\t\t\tanswerType = answerKey[i].match(/\\|(.*?)}%$/gm);\r\n\t\t\t\t// if there is any answerType exists then save it o0therwise its type will be t\r\n\t\t\t\tanswerType = (answerType) ? answerType[0].replace(/\\||}%/gm,'') : 't';\r\n\t\t\t\tlet innerKey = \"\";\r\n\t\t\t\tlet icon = \"\";\r\n\t\t\t\tlet type = \"\";\r\n\t\t\t\t// in case of textbox\r\n\t\t\t\tif (answerType == \"t\") {\r\n\t\t\t\t\ttype = answerType;\r\n\t\t\t\t\tinnerKey = \"Textbox\";\r\n\t\t\t\t\ticon = \"icomoon-insert-template\";\r\n\t\t\t\t} else if (answerType == \"c\") {\r\n\t\t\t\t\t// in case  of codeType\r\n\t\t\t\t\ttype = answerType;\r\n\t\t\t\t\tinnerKey = \"Textbox\";\r\n\t\t\t\t\ticon = \"icomoon-insert-template\";\r\n\t\t\t\t} else if(answerType == \"n\") {\r\n\t\t\t\t\t// in case of numeric\r\n\t\t\t\t\ttype = \"t\";\r\n\t\t\t\t\tinnerKey = \"Numeric\";\r\n\t\t\t\t\ticon = \"icomoon-insert-template\";\r\n\t\t\t\t} else if(answerType == \"s\") {\r\n\t\t\t\t\t// in case of dropdown\r\n\t\t\t\t\ttype = answerType;\r\n\t\t\t\t\tinnerKey = \"Dropdown\";\r\n\t\t\t\t\ticon = \"icomoon-fill-drop-down\";\r\n\t\t\t\t} else if(answerType == \"d\" || answerType == \"ds\") {\r\n\t\t\t\t\t// in case of drag & drop (d), drag single (ds)\r\n\t\t\t\t\ttype = answerType;\r\n\t\t\t\t\tinnerKey = \"Drag & Drop\";\r\n\t\t\t\t\ticon = \"icomoon-fill-drag-drop\";\r\n\t\t\t\t} else if(answerType== \"e\") {\r\n\t\t\t\t\t// in case of mathmatical expressions\r\n\t\t\t\t\ttype = answerType;\r\n\t\t\t\t\tinnerKey = \"Math\";\r\n\t\t\t\t\t// removing the symbol %{ , |e}% from the answerKey\r\n\t\t\t\t\tlatexKey = originalKey.replace(/\\%\\{|\\|e\\}\\%/g,\"\");\r\n\t\t\t\t\tlatexKey = \"latex=\\\"\"+latexKey+\"\\\"\";\r\n\t\t\t\t\teditMath = \"editMath\";\r\n\t\t\t\t\ticon = \"icomoon-insert-template\";\r\n\t\t\t\t}else if(answerType.indexOf(\"{\" == 0) || answerType.indexOf(\"{\" == 1)) {\r\n\t\t\t\t\t// in case of multiline\r\n\t\t\t\t\ttype = \"m\";\r\n\t\t\t\t\tinnerKey = \"Multiline\";\r\n\t\t\t\t\ticon = \"icomoon-insert-template\";\r\n\t\t\t\t}\r\n\t\t\t\tlet regex = new RegExp(\"(?=[^'])\"+RegExp.quote(originalKey)+\"(?=[^'])\",\"gmi\"); //@updesh  added for more than one same originalKey value\r\n\t\t\t\t// convert &apos; with #apos#\r\n\t\t\t\toriginalKey = replaceCharactersFunc(originalKey, replaceCharacters, \"reverse\");\r\n\t\t\t\tcdata = cdata.replace(regex,\"<span id=\\\"latexSpan\"+(++window.spanCounter)+\"\\\" \"+latexKey+\" type='\"+type+\"' class='alert alert-info editFill \"+editMath+\"' originalKey='\"+originalKey+\"' style='padding: 5px;outline: none;line-height:40px;cursor:move;color:#000' contentEditable='false'><i style='padding-right:4px' class='\"+icon+\"'></i>\"+innerKey+\"</span>\");\r\n\t\t\t});\r\n\t\t}\r\n\t\t// added into the authoring section\r\n\t\tAH.select(\"#fillAuthor\").innerHTML = htmlSpecialChars(cdata);\r\n\t}\r\n\r\n\t// this function responsible for removing special character in the html\r\n\tfunction htmlSpecialChars(data) {\r\n\t\t// find all the opening and closing tag\r\n\t\tlet tags = data.match(/<[^>]*>/gm);\r\n\t\tlet tag = '';\r\n\t\t// if match found\r\n\t\tif (tags) {\r\n\t\t\t// itterating through the length\r\n\t\t\tfor (let i=0;i < tags.length;i++) {\r\n\t\t\t\t//Checking table and converting < , > symbol with &lt; & &gt; respectively\r\n\t\t\t\tif(!tags[i].match(/<thead|<\\/thead|<tbody|<\\/tbody|<th|<\\/th|<td|<\\/td|<tr|<\\/tr|<table|<\\/table|<span|<\\/span|<caption>|<\\/caption>|<br>|<i|<\\/i/gm)) {\r\n\t\t\t\t\ttag = tags[i];\r\n\t\t\t\t\ttags[i] = tags[i].replace(/</g, \"&lt;\").replace(/>/g, \"&gt;\");\r\n\t\t\t\t\tdata = data.replace(tag,tags[i]);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\t// returning the converted data\r\n\t\treturn data;\r\n\t}\r\n\r\n\t// this function is opposite of htmlSpecialChars function i.e., change the html entities back to html symbol\r\n\tfunction reverseHtmlSpecialChars(data) {\r\n\t\t// for matching the text start with &lt; & end with &gt;\r\n\t\tlet tags = data.match(/&lt;([\\s\\S]*?)&gt;/gm);\r\n\t\tlet tag = '';\r\n\t\t// if match found\r\n\t\tif (tags) {\r\n\t\t\tfor(let i=0; i<tags.length; i++) {\r\n\t\t\t\t\ttag = tags[i];\r\n\t\t\t\t\t// replace &lt; & &gt; with < & > \r\n\t\t\t\t\ttags[i] = tags[i].replace(/&lt;/g, \"<\").replace(/&gt;/g, \">\");\r\n\t\t\t\t\tdata = data.replace(tag, tags[i]);\r\n\t\t\t}\r\n\t\t}\r\n\t\t// retrun the converted data\r\n\t\treturn data;\r\n\t}\r\n\r\n\t// this function updates the xml\r\n\tfunction reverseXml() {\r\n\t\t// get the content of the authoring area (.fillAuthor) with tinyMCE Plugin \r\n\t\tlet data = tinyMCE.activeEditor.getContent({format: 'raw'});\r\n\t\t// reverse the html special char\r\n\t\tdata = reverseHtmlSpecialChars(data);\r\n\t\t// replacing the html entity of &quot; & &nbsp;\r\n\t\tdata  = data.replace(/&quot;/g,'\"').replace(/&nbsp;/g,' ');\r\n\t\t// finding the data with span tag\r\n\t\tlet arr = data.match(/<span([\\s\\S]*?)>([\\s\\S]*?)<\\/span>/gi);\r\n\t\t// if match found\r\n\t\tif (arr) {\r\n\t\t\tfor(let i=0;i<arr.length;i++) {\r\n\t\t\t\t// finding the attribute originalkey and its value\r\n\t\t\t\tlet originalkey = arr[i].match(/originalkey=\"%([\\s\\S]*?)%\"/g);\r\n\t\t\t\t// if match found\r\n\t\t\t\tif(originalkey) {\r\n\t\t\t\t\t// extracting the value of the originalkey attribute\r\n\t\t\t\t\toriginalkey = originalkey.toString().replace(/originalkey=/g,'').replace(/\"%|%\"/g,'%');\r\n\t\t\t\t\tdata = data.replace(arr[i],originalkey);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\t// convert #apos# with &apos;\r\n\t\tdata = replaceCharactersFunc(data, replaceCharacters);\r\n\t\t// converting the #pipe into the html entities\r\n\t\t(data) ? data = data.replace(/#pipe/g,\"&#124;\"): null;\r\n\t\t// updating the xml\r\n\t\tlet xml  = '<smxml xmlns=\"http://www.w3.org/1999/xhtml\" type=\"9\" name=\"FillInTheBlank\"><text matchtype=\"'+state.matchtype+'\" ignoretype=\"'+state.ignoretype+'\" multiple=\"'+state.multi+'\" ><!--[CDATA['+data+']]--></text></smxml>';\r\n\t\t// update and store the xml using the function getChildXml\r\n\t\tgetChildXml(xml);\r\n\t}\r\n\r\n\t// this function loaded just after rendering\r\n\tfunction didMount() {\r\n\t\tinitEditor();\r\n\t\t// calls just after rendering , and initiallizes the tinyMCE Plugin and its events\r\n\r\n\t\t// binding event with the fillAuthor\r\n\t\tAH.bind(\"#fillAuthor\", \"keyup\", reverseXml.bind(this) );\r\n\t\tAH.bind(\"#fillAuthor\", \"mouseup\", reverseXml.bind(this) );\r\n\t\tAH.bind(\"#fillAuthor\", \"change\", reverseXml.bind(this) );\r\n\r\n\t\t// binding event on the response box \"click touchstart\"\r\n\t\tAH.listen(document, \"click\", \".editFill\", (_this, event)=> {\r\n\t\t\tlet key = _this.getAttribute(\"originalKey\");\r\n\t\t\t// convert #apos# with &apos;\r\n\t\t\tkey = replaceCharactersFunc(key, replaceCharacters);\r\n\t\t\t// if type is textbox or codetype\r\n\t\t\tif(_this.getAttribute(\"type\") == \"t\" || _this.getAttribute(\"type\") == \"c\") {\r\n\t\t\t\t// for filling the value when dialog is open\r\n\t\t\t\teditTextbox(key);\r\n\t\t\t} else if(_this.getAttribute(\"type\") == \"e\") {\r\n\t\t\t\t// if the type is mathmetical expressions\r\n\t\t\t\teditMathbox(key); // for filling the value when dialog is open\r\n\t\t\t} else if(_this.getAttribute(\"type\") == \"d\" || _this.getAttribute(\"type\") == \"ds\") {\r\n\t\t\t\t// if the type is drag & drop or drag single\r\n\t\t\t\teditDragDrop(key);\r\n\t\t\t} else if(_this.getAttribute(\"type\") == \"s\") {\r\n\t\t\t\t// for the dropdown\r\n\t\t\t\teditSelectbox(key);\r\n\t\t\t} else if(_this.getAttribute(\"type\") == \"m\") {\r\n\t\t\t\t// for the multiline\r\n\t\t\t\teditMultiline(key);\r\n\t\t\t}\r\n\t\t})\r\n\t\t// for setting the current state of the item\r\n\t\tsetFillType(editorState.itemXML);\r\n\t\t// for loading the moduke\r\n\t\tloadModule(xml)\r\n\t\tcmTime = {};\r\n\t\tAH.listen(document, 'touchstart', '#fillAuthor', ()=> {\r\n\t\t\tcmTime.s = new Date().getTime();\r\n\t\t})\r\n\t\tAH.listen(document, 'touchend', '#fillAuthor', ()=> {\r\n\t\t\tcmTime.e  = new Date().getTime() - cmTime.s;\r\n\t\t\tif (cmTime.e/1000>1) {\r\n\t\t\t\thandleOpen();\t\r\n\t\t\t\tcmTime = {};\r\n\t\t\t}\r\n        });\r\n        AH.listen(document, 'keydown', '.drop_down_delete, .drag_drop_delete, .mathematical_delete, .latexEditButton', (_this, event)=> {\r\n\t\t\tif ((event.keyCode == 13 || event.which == 13)) {\r\n\t\t\t\t// click the element which currently get the focus and enter key is down\r\n\t\t\t\t_this.click();\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\t// This function responsible for setting the state for the fillInTheBlanksChoice\r\n\tfunction setFillType(type) {\r\n\t\tswitch(type) {\r\n\t\t\tcase \"editor_item_1.xml\" :\r\n\t\t\t\t// for mathemetcial expression\r\n\t\t\t\tstate.fillInTheBlanksChoice = 6;\r\n\t\t\t\tbreak;\r\n\t\t\tcase \"editor_item_5.xml\" :\r\n\t\t\t\t// for textbox\r\n\t\t\t\tstate.fillInTheBlanksChoice = 1;\r\n\t\t\t\tbreak;\r\n\t\t\tcase \"editor_item_7.xml\" :\r\n\t\t\t\t// for drag & drop , drag single\r\n\t\t\t\tstate.fillInTheBlanksChoice = 3;\r\n\t\t\t\tbreak;\r\n\t\t\tcase \"editor_item_6.xml\" :\r\n\t\t\t\t// for dropdown\r\n\t\t\t\tstate.fillInTheBlanksChoice = 2;\r\n\t\t\t\tbreak;\r\n\t\t\tcase \"editor_item_3.xml\" :\r\n\t\t\t\t// for multiline\r\n\t\t\t\tstate.fillInTheBlanksChoice = 5;\r\n\t\t\t\tbreak;\r\n\t\t}\r\n\t}\r\n\r\n\t// calls just after rendering , and initiallizes the tinyMCE Plugin and its events\r\n\tfunction initEditor() {\r\n\t\tAH.listen(document, \"click\", \".editMath\", (_this, e)=> {\r\n\t\t\t//console.log(($(this).attr('id')));\r\n\t\t\twindow.currentId = _this.getAttribute('id');\r\n    \t});\r\n\t\ttinyMCE.PluginManager.add('res', function(editor, url) {\r\n\t\t\teditor.addMenuItem('resp', {\r\n\t\t\t\ttext:l.add_response,\r\n\t\t\t\tid:'addToken',\r\n\t\t\t\tonclick: ()=> {\r\n\t\t\t\t\thandleOpen();\r\n\t\t\t\t},\r\n\t\t\t\tcontext: 'insert',\r\n\t\t\t\tprependToContext: true\r\n\t\t\t});\r\n\t\t});\r\n\t\ttinymce.PluginManager.load('equationeditor', themeUrl+'pe-items/tinymce/plugins/equationeditor/plugin.min.js');\r\n\t\ttinymce.init({\r\n\t\t\tselector: '.tinymce-editor-res',\r\n\t\t\tinline: true,\r\n\t\t\ttheme: 'modern',\r\n\t\t\tskin:'skin02',\r\n\t\t\tmin_width:100,\r\n\t\t\tresize:true,\r\n\t\t\tmenubar:false,\r\n\t\t\ttoolbar: true,\r\n\t\t\telementpath: false,\r\n\t\t\tstatusbar: false,\r\n\t\t\tforce_br_newlines : true,\r\n\t\t\tremove_trailing_brs: true,\r\n\t\t\tforced_root_block : false,\r\n\t\t\textended_valid_elements:'span[onClick|contentEditable]',\r\n\t\t\tvalid_elements : \"*[*]\",\r\n\t\t\tfixed_toolbar_container:'#toolbar_container',\r\n\t\t\textended_valid_elements : 'uc:syntax,uc:ref',\r\n\t\t\tcustom_elements : 'uc:syntax,~uc:ref',\r\n\t\t\tsetup : function(editor) { \r\n\t\t\t\teditor.addButton('tabl', {\r\n\t\t\t\t\ttext: 'Table',\r\n\t\t\t\t\tonclick: function() {\r\n\t\t\t\t\t\tcreateTableHtml();\t\r\n\t\t\t\t\t\tAH.listen('.modal_items_fill','click', '.item_int_fill', (_this, event)=> {\r\n\t\t\t\t\t\t\tcreateTables(_this, editor, tinyMCE);\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t\teditor.addButton('custom-alignleft', {\r\n\t\t\t\t\ticon:\"alignleft\",\r\n\t\t\t\t\tonclick:function() {\r\n\t\t\t\t\t\tif( tinyMCE.activeEditor.selection.getSel().anchorNode.parentElement.innerHTML == tinyMCE.activeEditor.selection.getNode().innerHTML) {\r\n\t\t\t\t\t\t\tif(tinyMCE.activeEditor.selection.getNode().classList.contains(\"ebook_item_text\")) {\r\n\t\t\t\t\t\t\t\tAH.showmsg(l.align_content_message);\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\teditor.execCommand('mceToggleFormat', false, 'alignleft');\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tAH.showmsg(l.align_content_message);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t\teditor.addButton('custom-aligncenter', {\r\n\t\t\t\t\ticon:\"aligncenter\",\r\n\t\t\t\t\tonclick:function() {\r\n\t\t\t\t\t\tif ( tinyMCE.activeEditor.selection.getSel().anchorNode.parentElement.innerHTML == tinyMCE.activeEditor.selection.getNode().innerHTML) {\r\n\t\t\t\t\t\t\tif (tinyMCE.activeEditor.selection.getNode().classList.contains(\"ebook_item_text\")) {\r\n\t\t\t\t\t\t\t\tAH.showmsg(l.align_content_message);\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\teditor.execCommand('mceToggleFormat', false, 'aligncenter');\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tAH.showmsg(l.align_content_message);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t\teditor.addButton('custom-alignright', {\r\n\t\t\t\t\ticon:\"alignright\",\r\n\t\t\t\t\tonclick:function() {\r\n\t\t\t\t\t\tif ( tinyMCE.activeEditor.selection.getSel().anchorNode.parentElement.innerHTML == tinyMCE.activeEditor.selection.getNode().innerHTML) {\r\n\t\t\t\t\t\t\tif (tinyMCE.activeEditor.selection.getNode().classList.contains(\"ebook_item_text\")) {\r\n\t\t\t\t\t\t\t\tAH.showmsg(l.align_content_message);\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\teditor.execCommand('mceToggleFormat', false, 'alignright');\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tAH.showmsg(l.align_content_message);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t\teditor.on('change', function(e) {\r\n\t\t\t\t\te.target.focus(); // shifting focus first to node.\r\n\t\t\t\t\ttimer['tinyChange'] && clearTimeout(timer['tinyChange']);\r\n\t\t\t\t\ttimer['tinyChange'] = setTimeout(function() {\r\n\t\t\t\t\t\tif (e.target.id == tinyMCE.activeEditor.id) {\r\n\t\t\t\t\t\t\treverseXml();\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tconsole.warn({\r\n\t\t\t\t\t\t\t\tError : \"Please click first on table\", \r\n\t\t\t\t\t\t\t\ttarget: e.target.id,\r\n\t\t\t\t\t\t\t\tactive: tinyMCE.activeEditor.id\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\tAH.showmsg(\"Please click the table first then manipulate.\");\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t},500);\r\n\t\t\t\t});\r\n\t\t\t\teditor.on('mouseup', function() {\r\n\t\t\t\t\ttinymce.activeEditor.execCommand('mceDirectionLTR');\r\n\t\t\t\t\twindow.selecteddata = tinymce.activeEditor.selection.getContent();\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\tplugins: [\r\n\t\t\t\t\"lists link image charmap print preview anchor\",\r\n\t\t\t\t\"searchreplace code fullscreen\",\r\n\t\t\t\t\"insertdatetime media table contextmenu paste res equationeditor \"\r\n\t\t\t],\r\n\t\t\tcontent_css: themeUrl+'pe-items/tinymce/plugins/equationeditor/mathquill.css',\r\n\t\t\ttoolbar: [\r\n\t\t\t\t' bold italic underline | equationeditor | tabl | custom-alignleft custom-aligncenter custom-alignright '\r\n\t\t\t],\r\n\t\t\tcontextmenu:\"resp\",\r\n\t\t\tpaste_as_text: true\r\n\t\t});\r\n\t}\r\n\r\n\tfunction createTableHtml() {\r\n\t\tAH.selectAll('.modal_items_fill', 'html', ' ');\r\n\t\tlet o = interactive_item[0].table; \r\n\t\tObject.keys(o).forEach((key)=> {\r\n\t\t\tlet item = o[key];\r\n\t\t\tif (item.hide != true) {\r\n\t\t\t\tAH.insert('.modal_items_fill', `<div id=\"${item.label}\" data-html=\"${item.html}\" data-type=\"${key}\" class=\"${key} item_int_fill thumbnail btn col-sm-5\" style=\"max-width:100%;height:130px;background-image:url(${item.default_image});background-size:contain;background-position:center;background-repeat:no-repeat;overflow:hidden;\"><div class=\"item_labelClass\">${item.label}</div></div>`, 'beforeend');\r\n\t\t\t}\r\n\t\t});\r\n\t\tAH.getBS(\"#items_list_fill\", 'Modal').show();\r\n\t}\r\n\r\n\tfunction createTables(_this, editor, tinyMCE) {\r\n\t\tlet table_html = _this.attr('data-html');\r\n\t\tlet tab_html = \"\"; \r\n\t\ttab_html = table_html.replace(\"<div class='ebook_item_text'>\", \" \").replace(\"</div>\",\" \");\r\n\t\teditor.focus();\r\n\t\ttinyMCE.activeEditor.execCommand(\"mceInsertContent\", false, tab_html);\r\n\t\tAH.getBS(\"#items_list_fill\",'Modal').hide();\r\n\t}\r\n\r\n\t// function is responsible for adding the event NOT IN USE @pradeep_sir Please verify\r\n\tfunction addEvent (node,eventName,func) {\r\n\t\tif (\"undefined\" == typeof node || null == node) {              \r\n\t\t} else {\r\n\t\t\tif (!node.ownerDocument.addEventListener && node.ownerDocument.attachEvent) {   \r\n\t\t\t\tnode.attachEvent('on' + eventName, func);\r\n\t\t\t} else node.addEventListener(eventName,func,false);\r\n\t\t}\r\n\t}\r\n\r\n\t// this function change the value of the attribute matchtype, ignoretype and multiple in xml\r\n\tfunction storeAttr() {\r\n\t\tstate.matchtype = \"1\";\r\n\t\tstate.ignoretype = \"0\";\r\n\t\tstate.multi = \"\";\r\n\t\tfor (let i=0;i < state.valueMultiple.length; i++) {\r\n\t\t\tif (state.valueMultiple[i] == \"1\") {\r\n\t\t\t\tstate.matchtype = \"0\";\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\t\tfor (let i=0;i < state.valueMultiple.length; i++) {\r\n\t\t\tif (state.valueMultiple[i] == \"2\") {\r\n\t\t\t\tstate.ignoretype = \"1\";\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\t\tfor (let i=0;i<state.valueMultiple.length;i++) {\r\n\t\t\tif (state.valueMultiple[i] == \"3\") {\r\n\t\t\t\tstate.multi = \"multiple\";\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\t\tAH.select(\"#fillAuthor\").focus();\r\n\t\t// updating the cdata \r\n\t\treverseXml(); \r\n\t}\r\n\r\n\t/*\r\n\t** These function responsible for adding the options\r\n\t*/\r\n\tfunction addDropDownOption() {\r\n\t\tlet tempArr = state.fillDropDown;\r\n\t\ttempArr.push({\r\n\t\t\tvalue:\"\",\r\n\t\t\tid:\"\",\r\n\t\t\tchecked:\"\"\r\n\t\t});\r\n\t\tstate.fillDropDown = tempArr;\r\n\t}\r\n\r\n\tfunction addDragDropOption() {\r\n\t\tlet tempArr = state.fillDragDrop;\r\n\t\ttempArr.push({\r\n\t\t\tvalue:\"\",\r\n\t\t\tid:\"\",\r\n\t\t\tchecked:\"checked\"\r\n\t\t});\r\n\t\tstate.fillDragDrop = tempArr;\r\n\t}\r\n\r\n\tfunction addMultiLineOption() {\r\n\t\tlet tempArr = state.fillMultiLine;\r\n\t\ttempArr.push({\r\n\t\t\tvalue:\"\",\r\n\t\t\tid:\"\"\r\n\t\t});\r\n\t\tstate.fillMultiLine = tempArr;\r\n\t}\r\n\r\n\tfunction addMathEquation() {\t\r\n\t\tcount++;\r\n\t\tlet tempArr = state.fillEquation;\r\n\t\ttempArr.push({\r\n\t\t\tvalue:\"\",\r\n\t\t\tid:\"\"\r\n\t\t});\r\n\r\n\t\tstate.fillEquation = tempArr;\r\n\t}\r\n\t/*---------End of the function-------------*/\r\n\r\n\t// for updating the dialog\r\n\tfunction updateDialog (getValue) {\r\n\t\tstate.fillInTheBlanksChoice = getValue;\t\r\n\t}\r\n\r\n\tfunction handleOpen () {\r\n\t\t/*Open Response Dialog Box*/\r\n\t\tstate.open = true;\r\n\t\tstate.codetype = false;\r\n\t\tstate.numeric = false;\r\n\t}\r\n\r\n\t// for handling cancel button\r\n\tfunction handleClose () {\r\n\t\t/*Unset editFlag for textbox*/\r\n\t\tif (state.fillInTheBlanksChoice == 1) {\r\n\t\t\r\n\t\t}\r\n\t\t/*END*/\r\n\r\n\t\t/*Restore default dropdown option*/\r\n\t\tif (state.fillInTheBlanksChoice == 2) {\r\n\t\t\tstate.fillDropDown = [];\r\n\t\t\tstate.fillDropDown.push({\r\n\t\t\t\tvalue:\"\",\r\n\t\t\t\tid:\"\",\r\n\t\t\t\tchecked:\"\"\r\n\t\t\t});\r\n\t\t}\r\n\t\t/*END*/\r\n\r\n\t\t/*Restore Default Drag Drop Option*/\r\n\t\tif (state.fillInTheBlanksChoice == 3) {\r\n\t\t\tstate.fillDragDrop = [];\r\n\t\t\tstate.fillDragDrop.push({\r\n\t\t\t\tvalue:\"\",\r\n\t\t\t\tid:\"\",\r\n\t\t\t\tchecked:\"checked\"\r\n\t\t\t});\r\n\t\t}\r\n\t\t/*END*/\r\n\r\n\t\t/*Restore Default MultiLine Option*/\r\n\t\tif (state.fillInTheBlanksChoice == 5) {\r\n\t\t\tstate.fillMultiLine = [];\r\n\t\t\tstate.fillMultiLine.push({\r\n\t\t\t\tvalue:\"\",\r\n\t\t\t\tid:\"\"\r\n\t\t\t});\r\n\t\t}\r\n\t\t/*END*/\r\n\r\n\t\t/*Restore Default MathEquation Option*/\r\n\t\tif (state.fillInTheBlanksChoice == 6) {\r\n\t\t\twindow.currentId = null;\r\n\t\t\tstate.fillEquation = [];\r\n\t\t\tstate.fillEquation.push({\r\n\t\t\t\tvalue:\"\",\r\n\t\t\t\tid:\"\"\r\n\t\t\t});\r\n\t\t}\r\n\t\t/*END*/\r\n\r\n        state.open = false; /*Open Response Dialog*/\r\n\t}\r\n\r\n\t/*\r\n\t** These function reponsible for entering details when the response box is clicked\r\n\t*/\r\n\tfunction editTextbox(key) {\r\n\t\t// removing the symbol '%{' & '}%' in the key \r\n\t\tkey = key.replace(/%{|}%/g,\"\");\r\n\t\tkey = key.split(\"|\");\r\n\t\t// store the split key 0 index which contains the ans of that textbox\r\n\t\tlet ans = key[0].trim();\r\n\t\t// extracting ans_type\r\n\t\tlet ans_type = ((key[1])?key[1].trim():\"\");\r\n\r\n\t\t// setting state \r\n\t\tstate.codetype = ((ans_type == \"c\") ? true : false);\r\n\t\tstate.numeric = ((ans_type == \"n\") ? true : false );\r\n\t\tstate.customStyle = ((ans.indexOf(\"#style#\") != -1) ? true : false);\r\n\t\tstate.fillInTheBlanksChoice = 1;\r\n\t\tstate.open = true;\r\n\r\n\t\t// if there is #style# found that means if there is styling given then \r\n\t\tif (ans.indexOf(\"#style#\") != -1) {\r\n\t\t\tlet customStyle  = ans.split(\"#style#\");\r\n\t\t\t// for filling the style value in the style textbox\r\n\t\t\t//AH.select(\"#responseDialog #customStyleText\").value = customStyle[1];\r\n\t\t\tstate.customStyleData = customStyle[1];\r\n\t\t\t// for filling the correct ans\r\n\t\t\t//AH.select(\"#input1\").value = customStyle[0];\r\n\t\t\tstate.input1 = customStyle[0];\r\n\t\t} else {\r\n\t\t\t// if styling not given then ans will contain the correct ans\r\n\t\t\t//AH.select(\"#input1\").value = ans;\r\n\t\t\tstate.input1 = ans;\r\n\t\t}\r\n\t\t\r\n\t}\r\n\r\n\tfunction editMathbox(key) {\r\n\t\tstate.fillEquation = [];\r\n\t\t// removing the %{,}% symbol from the key\r\n\t\tkey = key.replace(/%{|}%/g,\"\");\r\n\t\t// splitting the key on pipe symbol\r\n\t\tkey = key.split(\"|\");\r\n\t\t// contain the ans\r\n\t\tlet ans = key[0].trim();\r\n\t\tlet anskey = ans.split(\"##\")\r\n\t\t// getting ans_type\r\n\t\tlet ans_type = ((key[1])?key[1].trim():\"\");\r\n\t\t// open thr dialog\r\n\t\tstate.customStyle = (ans.indexOf(\"#style#\") != -1) ? true : false;\r\n\t\tstate.fillInTheBlanksChoice = 6;\r\n\t\tstate.open = true;\r\n\t\tlet tempEqArr = state.fillEquation;\r\n\t\tlet latexEdit = {};\r\n\r\n\t\tif (ans.indexOf(\"#style#\") != -1) {\r\n\t\t\tlet customStyle  = ans.split(\"#style#\")\r\n\t\t\tAH.select(\"#responseDialog #customStyleText\").value = customStyle[1];\r\n\t\t\tAH.select(\"#input\"+i).value = customStyle[0];\r\n\t\t} else {\r\n\t\t\tfor (let i = 0; i <= anskey.length-1; i++) {\r\n\t\t\t\t//$(\"#input\"+i).attr('value',anskey[i])\r\n\t\t\t\tlatexEdit[i] = anskey[i];\r\n\t\t\t\t//document.querySelector(\"#latexEdit\"+i) && document.querySelector(\"#latexEdit\"+i).setAttribute('latex', anskey[i]);\r\n\t\t\t\ttempEqArr.push({\r\n\t\t\t\t\tvalue: anskey[i],\r\n\t\t\t\t\tid: \"\"\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t\tstate.fillEquation = tempEqArr;\r\n\t\t\tstate.latexEditData = latexEdit;\r\n\t\t}\t\t\r\n\t}\r\n\r\n\tfunction editSelectbox(key) {\r\n\t\t// removing the %{,}% symbol from the key\r\n\t\tkey = key.replace(/%{|}%/g,\"\");\r\n\t\t// splitting the key on pipe symbol\r\n\t\tkey = key.split(\"|\");\r\n\t\t// contain the ans\r\n\t\tlet ans = key[0].trim();\r\n\t\t\r\n\t\tstate.fillDropDown = [];\r\n\t\tlet tempDropDown = [];\r\n\t\t// split with ,\r\n\t\tlet allValue = ans.split(\",\").map(item => item.trim());\r\n\t\tallValue.forEach((v,i)=> {\r\n\t\t\tlet opt = allValue[i];\r\n\t\t\tlet check = \"\";\r\n\t\t\t// if found * then check that radio btn\r\n\t\t\tif (opt.indexOf('*') == 0) {\r\n\t\t\t\tcheck = \"checked\";\r\n\t\t\t\topt = opt.slice(1);\r\n\t\t\t\tAH.select(\"#responseDialog #correct\"+i).checked = true;\r\n\t\t\t}\r\n\t\t\ttempDropDown.push({\r\n\t\t\t\tvalue: opt,\r\n\t\t\t\tid:\"\",\r\n\t\t\t\tchecked: check\r\n\t\t\t});\r\n\t\t\tcheck = \"\";\r\n\t\t});\r\n\t\tstate.fillDropDown = tempDropDown;\r\n\t\tstate.fillInTheBlanksChoice = 2;\r\n\t\tstate.open = true;\r\n\t\t//this.setState({open:true});\r\n\t}\r\n\r\n\tfunction editDragDrop(key) {\r\n\t\t// first convert |d with #endpipe and the | with #pipe and then #endpipe with |d again\r\n\t\tkey = key.replace(/\\|d/g, \"#endPipe\").replace(/\\|/g, \"#pipe\").replace(/#endPipe/g,\"|d\");\r\n\t\t// removing the %{,}% symbol from the key\r\n\t\tkey = key.replace(/%{|}%/g,\"\");\r\n\t\t// split with |\r\n\t\tkey = key.split(\"|\");\r\n\t\tlet ans = key[0].trim();\r\n\t\t// checking for the drag single\r\n\t\tlet dragSingle = ((key[1].trim() == \"ds\")? true : false );\r\n\t\tstate.fillDragDrop = [];\r\n\t\tlet dragDrop = [];\r\n\t\t// spliting the ans with ,\r\n\t\tlet allValue = ans.split(\",\");\r\n\t\tallValue.forEach((v, i)=> {\r\n\t\t\tlet opt = allValue[i];\r\n\t\t\tlet check = \"checked\";\r\n\t\t\t// if finding ~i or i~ then unchecked the checkbox\r\n\t\t\tif (opt.match(/i~|~i/g)) {\r\n\t\t\t\tcheck = \"\";\r\n\t\t\t\t// removing ~i or i~ from the option\r\n\t\t\t\topt = opt.replace(/i~|~i/g,\"\");\r\n\t\t\t}\r\n\t\t\tdragDrop.push({\r\n\t\t\t\tvalue:opt,\r\n\t\t\t\tid:\"\",\r\n\t\t\t\tchecked:check\r\n\t\t\t});\r\n\t\t\tcheck = \"checked\";\r\n\t\t});\r\n\t\tstate.fillDragDrop = dragDrop;\r\n\t\tstate.fillInTheBlanksChoice = 3;\r\n\t\tstate.open = true;\r\n\t\tAH.find(\"#responseDialog\", \"#drag_single\").checked = dragSingle;\r\n\t}\r\n\r\n\tfunction editMultiline(key) {\r\n\t\t// removing the %{,}% symbol from the key\r\n\t\tkey = key.replace(/%{|}%/g,\"\");\r\n\t\t// spliting the key with |\r\n\t\tkey = key.split(\"|\");\r\n\t\tlet ans = key[0].trim();\r\n\t\tlet attrs = key[1].trim();\r\n\r\n\t\t// parsing the attrs into the json\r\n\t\tattrs = JSON.parse(attrs);\r\n\t\r\n\t\tstate.fillMultiLine = [];\r\n\t\tlet tempMulti = [];\r\n\t\ttempMulti.push({\r\n\t\t\tvalue:ans,\r\n\t\t\tid:\"\"\r\n\t\t});\r\n\t\tstate.fillMultiLine = tempMulti;\r\n\t\tstate.fillMultiAttr = attrs;\r\n\t\tstate.fillInTheBlanksChoice = 5;\r\n\t\tstate.open = true;\r\n\r\n\t\t// putting the values of defaultAns , row and col\r\n\t\tif (attrs.defaultAns) AH.select(\"#responseDialog #defaultMultiAns\").value = attrs.defaultAns;\r\n\t\tAH.select(\"#responseDialog #rows\").value = attrs.rows;\r\n\t\tAH.select(\"#responseDialog #cols\").value = attrs.cols;\r\n\t}\r\n\t/*----------------------end of the functions----------------------------------------*/\r\n\r\n\t// responsible for validation\r\n\tfunction showError(err) {\r\n\t\t//AH.select(\"#responseDialog\").effect(\"shake\");\r\n\t\tmessage = err;\r\n\t\tstate.snackback = true;\r\n\t}\r\n\r\n\t// if type = reverse then convert &apos; with #apos# else #apos# with &apos;\r\n\tfunction replaceCharactersFunc(str, replaceCharacters, type) {\r\n\t\tfor (var i in replaceCharacters) {\r\n\t\t\tif (type == 'reverse') {\r\n\t\t\t\t// convert &apos; with #apos#\r\n\t\t\t\tstr = str.replace(new RegExp(i, 'g'), replaceCharacters[i]);\r\n\t\t\t} else { \r\n\t\t\t\t// convert #apos# with &apos;\r\n\t\t\t\tstr = str.replace(new RegExp(replaceCharacters[i], 'g'), i);\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn str;\r\n\t}\r\n\r\n\t// function calls when the done button is clicked\r\n\tfunction storeAns() {\r\n\t\tlet validate = 0;\r\n\t\tswitch(state.fillInTheBlanksChoice){\r\n\t\t\tcase 1 : {\r\n\t\t\t\t// if type is textbox\r\n\t\t\t\t//if(state.fillInTheBlanksChoice == 1) {\r\n\r\n\t\t\t\t\t// contain the ans\r\n\t\t\t\t\tlet ans = AH.select(\"#input1\").value;\r\n\t\t\t\t\t// contain the setting values\r\n\t\t\t\t\tlet codetype = AH.select(\"#responseDialog #codetype\").checked;\r\n\t\t\t\t\tlet numeric = AH.select(\"#responseDialog #numeric\").checked;\r\n\t\t\t\t\tlet customStyle = AH.select(\"#responseDialog #customStyle\").checked;\r\n\r\n\t\t\t\t\t// if customStyle is true add the style in the answer\r\n\t\t\t\t\tif (customStyle == true) {\r\n\t\t\t\t\t\tans += \"#style#\" + AH.select(\"#responseDialog #customStyleText\").value;\r\n\t\t\t\t\t}\r\n\t\t\t\t\t// for codetype or numeric add |c or |n in answer\r\n\t\t\t\t\tif (codetype == true) {\r\n\t\t\t\t\t\tans += \" |c\";\r\n\t\t\t\t\t} else if (numeric == true) {\r\n\t\t\t\t\t\tans += \" |n\";\r\n\t\t\t\t\t}\r\n\t\t\t\t\t// contain the answer\t\t\t\t\t\r\n\t\t\t\t\tvar given_ans = ans.includes('|') ? ans.split('|')[0].trim() : ans;\r\n\r\n\t\t\t\t\t// function for validation\r\n\t\t\t\t\tif (ans == \"\") {\r\n\t\t\t\t\t\tvalidate = 1;\r\n\t\t\t\t\t\tshowError(\"All fields are required\");\r\n\t\t\t\t\t} else if (!given_ans) {\r\n\t\t\t\t\t\tvalidate = 1;\r\n\t\t\t\t\t\tshowError(\"Please write data for match\");\r\n\t\t\t\t\t\tAH.select(\"#input1\").focus();\r\n\t\t\t\t\t} else if (codetype == true && numeric == true) {\r\n\t\t\t\t\t\tvalidate = 1;\r\n\t\t\t\t\t\tshowError(\"You cannot use codetype and numeric at the same time\");\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\t// convert &apos; with #apos#\r\n\t\t\t\t\t\tlet ansnew = replaceCharactersFunc(ans, replaceCharacters, \"reverse\");\r\n\r\n\t\t\t\t\t\t// add the textbox in the authoring area\r\n\t\t\t\t\t\ttinyMCE.activeEditor.insertContent(\"<span type='t' class='alert alert-info editFill' originalKey='%{\"+ansnew.trim()+\"}%' style='padding: 5px;outline: none;line-height:40px;cursor:move;color:#000' contentEditable='false'><i style='padding-right:4px' class='icomoon-insert-template align-middle'></i>\"+((numeric == true)?\"Numeric\":\"Textbox\")+\"</span>\");\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\tbreak;\r\n\t\t\tcase 2: {\r\n\t\t\t\t// for dropdown\r\n\t\t\t\t//if(this.state.fillInTheBlanksChoice == 2) {\r\n\t\t\t\t\tlet a = AH.find(\"#responseDialog\", \"[id^=dropDown]\", 'all');\r\n\t\t\t\t\tlet str = \"\";\r\n\t\t\t\t\tlet anyCorrect = \"no\";\r\n\t\t\t\t\tlet isValue = \"yes\";\r\n\t\t\t\t\t// traversing throgh the dropdown\r\n\t\t\t\t\ta.forEach((_this)=> {\r\n\t\t\t\t\t\t// finding correct ans\r\n\t\t\t\t\t\tlet correctAttr = _this.getAttribute('data-correct');\r\n\t\t\t\t\t\t// cheeck wether the check box is checked or not\r\n\t\t\t\t\t\tlet isCorrect = AH.select(`#responseDialog #${correctAttr}`).checked;\r\n\t\t\t\t\t\tlet ans = _this.value;\r\n\t\t\t\t\t\tif (ans.trim() == \"\") {\r\n\t\t\t\t\t\t\tisValue = \"no\";\r\n\t\t\t\t\t\t} \r\n\t\t\t\t\t\tif (isCorrect == true) {\r\n\t\t\t\t\t\t\t// if checked then add *\r\n\t\t\t\t\t\t\tanyCorrect = \"yes\";\r\n\t\t\t\t\t\t\tstr += `*${ans},`;\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t// otherwsise add the option with ,\r\n\t\t\t\t\t\t\tstr += ans + \",\"\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t\t// remove last comma\r\n\t\t\t\t\tstr = str.slice(0,-1);\r\n\r\n\t\t\t\t\t// validation here\r\n\t\t\t\t\tif (anyCorrect == \"no\") {\r\n\t\t\t\t\t\tvalidate = 1;\r\n\t\t\t\t\t\tshowError(\"Please select atleast one correct answer\");\r\n\t\t\t\t\t} else if(isValue == \"no\") {\r\n\t\t\t\t\t\tvalidate = 1;\r\n\t\t\t\t\t\tshowError(\"All fields are required\");\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\t// convert &apos; with #apos#\r\n\t\t\t\t\t\tlet strnew = replaceCharactersFunc(str, replaceCharacters, \"reverse\");\r\n\t\t\t\t\t\ttinyMCE.activeEditor.insertContent(\"<span type='s' class='alert alert-info editFill' originalKey='%{\"+strnew+\"|s}%' style='padding: 5px;outline: none;line-height:40px;cursor:move;color:#000' contentEditable='false'><i style='padding-right:4px' class='icomoon-fill-drop-down align-middle'></i>Dropdown</span>\");\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\tbreak;\r\n\t\t\tcase 3: {\r\n\t\t\t\t// for drag & drop, drag single\r\n\t\t\t\t//if(this.state.fillInTheBlanksChoice == 3) {\r\n\t\t\t\t\t// finding all the dragDrop options\r\n\t\t\t\t\tlet d = AH.find(\"#responseDialog\", \"[id^=dragDrop]\", 'all');\r\n\t\t\t\t\tlet str = \"\";\r\n\t\t\t\t\t// check dragSingle is checked or not\r\n\t\t\t\t\tlet dragSingle = AH.select(\"#responseDialog #drag_single\").checked;\r\n\t\t\t\t\t// if dragSingle is checked then assign the dragType ds else d\r\n\t\t\t\t\tlet dragType = ((dragSingle == true) ? \"ds\" : \"d\");\r\n\t\t\t\t\tlet isValue = \"yes\";\r\n\t\t\t\t\tlet isChecked = false;\r\n\t\t\t\t\t// traversing each dragdrop option\r\n\t\t\t\t\td.forEach((_this)=> {\r\n\t\t\t\t\t\t// finding the correct attr\r\n\t\t\t\t\t\tlet correctAttr = _this.getAttribute('data-correct');\r\n\t\t\t\t\t\t// check for the option is correct or not\r\n\t\t\t\t\t\tlet isCorrect = AH.select(`#responseDialog #${correctAttr}`).checked;\r\n\t\t\t\t\t\tlet ans = _this.value;\r\n\t\t\t\t\t\tif(ans.trim() == \"\") isValue = \"no\";\r\n\t\t\t\t\t\tif(isCorrect == true) {\r\n\t\t\t\t\t\t\t// if correct the n add it with ,\r\n\t\t\t\t\t\t\tstr += ans + \",\";\r\n\t\t\t\t\t\t\tisChecked = true;\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t// if incorrect then add ~i \r\n\t\t\t\t\t\t\tstr += ans + \"~i,\";\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t\t// removing last ,\r\n\t\t\t\t\tstr = str.slice(0,-1);\r\n\r\n\t\t\t\t\t// validation\r\n\t\t\t\t\tif(!isChecked) {\r\n\t\t\t\t\t\tvalidate = 1;\r\n\t\t\t\t\t\tshowError(\"Please select atleast one correct answer\");\r\n\t\t\t\t\t} else if(isValue == \"no\") {\r\n\t\t\t\t\t\tvalidate = 1;\r\n\t\t\t\t\t\tshowError(\"All fields are required\");\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\t// convert &apos; with #apos#\r\n\t\t\t\t\t\tlet strnew = replaceCharactersFunc(str, replaceCharacters, \"reverse\");\r\n\t\t\t\t\t\tstrnew = strnew.replace(/&#124;/g,\"#pipe\").replace(/\\|/g,\"#pipe\");\r\n\t\t\t\t\t\t//add content\r\n\t\t\t\t\t\ttinyMCE.activeEditor.insertContent(\"<span type='\"+dragType+\"' class='alert alert-info editFill' originalKey='%{\"+strnew+\"|\"+dragType+\"}%' style='padding: 5px;outline: none;line-height:40px;cursor:move;color:#000' contentEditable='false'><i style='padding-right:4px' class='icomoon-fill-drag-drop align-middle'></i>Drag & Drop</span>\");\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\tbreak;\r\n\t\t\tcase 5: {\r\n\t\t\t\t// if the type is multiline\r\n\t\t\t\t//if(this.state.fillInTheBlanksChoice == 5) {\r\n\r\n\t\t\t\t\t// getting all the feild values\r\n\t\t\t\t\tlet m = AH.select(\"#responseDialog #multiLineCorrect\").value; // correct answer\r\n\t\t\t\t\tlet defaultAns = AH.select(\"#responseDialog #defaultMultiAns\").value; // default ans\r\n\t\t\t\t\tlet rows = AH.select(\"#responseDialog #rows\").value; // rows\r\n\t\t\t\t\tlet cols = AH.select(\"#responseDialog #cols\").value; // cols\r\n\t\t\t\t\tlet opt= `{\"defaultAns\": \"${defaultAns}\",\"rows\":\"${rows}\",\"cols\":\"${cols}\"}`; // adding values in json format\r\n\r\n\t\t\t\t\t// for validation\r\n\t\t\t\t\tif(m == \"\" || rows == \"\" || cols == \"\") {\r\n\t\t\t\t\t\tvalidate = 1;\r\n\t\t\t\t\t\tshowError(\"All fields are required\");\r\n\t\t\t\t\t} else if(isNaN(rows)) {\r\n\t\t\t\t\t\tvalidate = 1;\r\n\t\t\t\t\t\tshowError(\"Please fill numeric data only.\");\r\n\t\t\t\t\t\tAH.select(\"#responseDialog #rows\").focus();\r\n\t\t\t\t\t} else if (isNaN(cols)) {\r\n\t\t\t\t\t\tvalidate = 1;\r\n\t\t\t\t\t\tshowError(\"Please fill numeric data only.\");\r\n\t\t\t\t\t\tAH.select(\"#responseDialog #cols\").focus();\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\t// convert &apos; with #apos#\r\n\t\t\t\t\t\tlet optnew = replaceCharactersFunc(opt, replaceCharacters, \"reverse\");\r\n\t\t\t\t\t\ttinyMCE.activeEditor.insertContent(\"<span type='m' class='alert alert-info editFill' originalKey='%{\"+m+\"|\"+optnew+\"}%' style='padding: 5px;outline: none;line-height:40px;cursor:move;color:#000' contentEditable='false'><i style='padding-right:4px' class='icomoon-insert-template align-middle'></i>Multiline</span>\");\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\tbreak;\r\n\t\t\tcase 6: {\r\n\t\t\t\t// for mathemetical expression\r\n\t\t\t\t//if(this.state.fillInTheBlanksChoice == 6) {\r\n\t\t\t\t\tlet MathArray = [];\r\n\t\t\t\t\tfor(let i=0; i<=count; i++) {\r\n\t\t\t\t\t\tif(document.querySelector(\"#input\"+i)) {\r\n\t\t\t\t\t\t\t// if any value is blank then change the value of validate to 1\r\n\t\t\t\t\t\t\tif (!AH.select(\"#input\"+i).value) {\r\n\t\t\t\t\t\t\t\tvalidate = 1;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tMathArray.push(AH.select(\"#input\"+i).value);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tlet e = MathArray.join(\"##\",count);\r\n\r\n\t\t\t\t\t// for validation\r\n\t\t\t\t\tif (validate == 0) {\r\n\t\t\t\t\t\tif (window.currentId) {\r\n\t\t\t\t\t\t\tAH.select('#' + window.currentId, 'attr', {latex: e});\r\n\t\t\t\t\t\t\tAH.select('#' + window.currentId, 'attr', {originalKey: `%{${e}|e}%`});\r\n\t\t\t\t\t\t\twindow.currentId = null;\r\n\t\t\t\t\t\t\twindow.currentInp = null;\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\ttinyMCE.activeEditor.insertContent(\"<span id=\\\"latexSpan\"+window.spanCounter+\"\\\" type='e' class='alert alert-info editFill editMath' latex='\"+e+\"' originalKey='%{\"+e+\"|e}%' style='padding: 5px;outline: none;line-height:40px;cursor:move;color:#000' contentEditable='false'><i style='padding-right:4px' class='icomoon-insert-template'></i>Math</span>\");\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tshowError(\"All fields are required\");\r\n\t\t\t\t\t}\r\n\t\t\t\t\t// tinyMCE.activeEditor.insertContent(\"<span id=\\\"latexSpan\"+window.spanCounter+\"\\\" type='e' class='alert alert-info editFill editMath' latex='\"+e+\"' originalKey='%{\"+e+\"|e}%' style='padding: 5px;outline: none;line-height:40px;cursor:move;color:#000' contentEditable='false'><i style='padding-right:4px' class='icomoon-insert-template'></i>Math</span>\");\t\r\n\t\t\t\t}\r\n\t\t\tbreak;\r\n\r\n\t\t}\r\n\r\n\t\t// for updating the cdata\r\n\t\tif (validate == 0) {\r\n\t\t\treverseXml();\r\n\t\t\t// close the dialog\r\n\t\t\thandleClose();\r\n\t\t}\r\n\t\t\r\n\t}\r\n\r\n\t// for removing the drag and drop options\r\n\tfunction removeDragDrop(id) {\r\n\t\tlet len = Object.values(state.fillDragDrop).length;\r\n\t\tif (len != 1) {\r\n\t\t\tstate.fillDragDrop.length\r\n\t\t\tdelete state.fillDragDrop[id];\r\n\t\t\t//this.forceUpdate();\r\n\t\t}\t\r\n\t}\r\n\r\n\t// for removing the drop down options\r\n\tfunction removeDropDown(id) {\r\n\t\tAH.hideBsAll('.drop_down_delete', 'Tooltip');\r\n\t\tlet tempFDD = state.fillDropDown;\r\n\t\tlet len = Object.values(state.fillDropDown).length;\r\n\t\tif (len != 1) {\r\n\t\t\ttempFDD.splice(id, 1);\r\n\t\t}\t\r\n\t\tstate.fillDropDown = tempFDD;\r\n\t}\r\n\r\n\t// for removing the math equation options\r\n\tfunction removeMathEquation(id) {\r\n\t\tlet len = Object.values(state.fillEquation).length;\r\n\t\tif (len != 1) {\r\n\t\t\tlet val = state.fillEquation[id].value;\r\n\t\t\tdelete state.fillEquation[id];\r\n\t\t\tdelete document.querySelector(\"#input\"+id).parentNode.parentNode;\r\n\t\t\t//this.state.fillEquation= this.state.fillEquation.filter(value => Object.keys(value).length !== 0);\r\n\t\t\t//count = count-1;\r\n\t\t\t//console.log($(\"#\"+window.currentId).attr(\"latex\"));\r\n\t\t\r\n\t\t\t// this.state.fillEquation.length\r\n\t\t\t//this.forceUpdate();\r\n\t\t}\t\r\n\t}\r\n\r\n\t// for adding user response in fib mathametical expression\r\n\tfunction addEditable(i) {\r\n\t\tlet txt = AH.select(\"#input\"+i);\r\n    \tlet caretPos   = txt.selectionStart;\r\n\t\tlet textAreaTxt = txt.value;\r\n\t\tvar txtToAdd  = \"user Response\";\r\n    \ttxt.value = textAreaTxt.substring(0, caretPos) + txtToAdd + textAreaTxt.substring(caretPos);\r\n\t}\r\n\t\r\n\t// open the latex dialog\r\n    function latexEdit(i) {\r\n    \t//$('.editMath').addClass('latexEdit');\r\n    \t//$('.editMath').trigger('click');\r\n\t\t//$('.latexEdit').trigger('click');\r\n\t\tif (!window.currentId) {\r\n\t\t\tAH.showmsg(\"Equation did not crateated yet.\")\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tstate.open = true;//false\r\n\t}\r\n\r\n\t// changes the fillInTheBlanksChoice state when changing dropdown\r\n\tfunction updatedropdown(event) {\r\n\t\tstate.fillInTheBlanksChoice = event.target.value;\r\n\t};\r\n\r\n\t// open the setting dialog\r\n\tfunction openSetting() {\r\n\t\tstate.settingmenuopen = !state.settingmenuopen;\r\n\t}\t\r\n\r\n\t// responsible for handling the reponses on checkbox in setting dialog\r\n\tfunction handleSetting(value, event) {\r\n\t\tif (value == 1) {\r\n\t\t\tstate.case_sensetive = event.target.checked;\r\n\t\t}\r\n\t\tif (value == 2) {\r\n\t\t\tstate.ignore_spcl_char = event.target.checked;\r\n\t\t}\r\n\t\tif (value == 3) {\r\n\t\t\tstate.multisetting = event.target.checked;\r\n\t\t}\r\n\r\n\t\tlet setting_arr = [];\r\n        \r\n\t\tif (state.case_sensetive == true) {\r\n\t\t\tsetting_arr.push(\"1\");\r\n\t\t}\r\n\t\tif (state.ignore_spcl_char == true) {\r\n\t\t\tsetting_arr.push(\"2\");\r\n\t\t}\r\n\t\tif (state.multisetting == true) {\r\n\t\t\tsetting_arr.push(\"3\");\r\n\t\t}\r\n\t\tstate.valueMultiple = setting_arr;\r\n\t\tstoreAttr(); \r\n        //self.forceUpdate();\t\t\r\n\t}\r\n</script>\r\n<div>\r\n\t<div class=\"py-2 px-2 text-right\" style=\"background-color:#d9e7fd\">\r\n\t\t<span \r\n\t\t\ton:click={openSetting} \r\n\t\t\tclass=\"icomoon-new-24px-gear-1 s3 text-dark pointer\" \r\n\t\t\tdata-bs-toggle=\"tooltip\" \r\n\t\t\ttitle=\"Setting\"\r\n\t\t></span>\r\n\t\t<div class=\"modal left_second table_fill fade\" id=\"items_list_fill\" role=\"dialog\" style=\"z-index: 9998!important\">\r\n\t\t\t<div class=\"modal-dialog\">\r\n\t\t\t\t<div class=\"modal-content\">\r\n\t\t\t\t\t<div class=\"modal-body modal_items_fill\">  \r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t</div>\r\n\t<div \r\n\t\tclass=\"tinymce-editor-res fillAuthor\"\r\n\t\tid=\"fillAuthor\" \r\n\t\tstyle=\"height:300px;border:solid 2px #d9e7fd;padding:8px;overflow:auto;outline:none\" \r\n\t\tcontentEditable={true}\r\n\t>\r\n\t</div>\r\n\t<Dialog width=\"600\" bind:visible={state.open}>\r\n\t\t<div slot=\"title\" style=\"text-align: left;\">\r\n\t\t\t<div class=\"d-flex flex-column\">\r\n\t\t\t\t<div class=\"mr-lg float-left pl-2 m-l-xxs\" style=\"paddingTop: 5px; padding-left: 5px; font-size: 25px\">{l.fill_header}</div>\r\n\t\t\t\t<div class=\"left10 position-relative\">\r\n\t\t\t\t\t<div class=\"btn-group mt-2 ml-0\">\r\n\t\t\t\t\t\t<button type=\"button\" class=\"btn btn-light px-2 {(state.fillInTheBlanksChoice == 1 ? 'active' : '')}\" value={1} on:click={updateDialog.bind(this, 1)} >Text</button>\r\n\t\t\t\t\t\t<button type=\"button\" class=\"btn btn-light px-2 {(state.fillInTheBlanksChoice == 2 ? 'active' : '')}\" value={2} on:click={updateDialog.bind(this, 2)} >Drop downs</button>\r\n\t\t\t\t\t\t<button type=\"button\" class=\"btn btn-light px-2 {(state.fillInTheBlanksChoice == 3 ? 'active' : '')}\" value={3} on:click={updateDialog.bind(this, 3)} >Drag & drop</button>\r\n\t\t\t\t\t\t<button type=\"button\" class=\"btn btn-light px-2 {(state.fillInTheBlanksChoice == 5 ? 'active' : '')}\" value={5} on:click={updateDialog.bind(this, 5)} >Multiline</button>\r\n\t\t\t\t\t\t<button type=\"button\" class=\"btn btn-light px-2 {(state.fillInTheBlanksChoice == 6 ? 'active' : '')}\" value={6} on:click={updateDialog.bind(this, 6)} >Mathematical equations</button>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t\t<div id=\"responseDialog\" style=\"height:320px;\">\r\n\t\t\t{#if state.fillInTheBlanksChoice == 1}\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<div class=\"d-flex justify-content-start ml-1 height36\">\r\n\t\t\t\t\t\t<Checkbox \t\r\n\t\t\t\t\t\t\tchecked={state.codetype}\r\n\t\t\t\t\t\t\tid=\"codetype\"\r\n\t\t\t\t\t\t\tcolor=\"primary\"\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<span>Code Type</span>\r\n\t\t\t\t\t\t</Checkbox>\r\n\t\t\t\t\t\t<Checkbox \t\r\n\t\t\t\t\t\t\tchecked={state.numeric}\r\n\t\t\t\t\t\t\tid=\"numeric\"\r\n\t\t\t\t\t\t\ton:click={()=> {state.numeric = !state.numeric }}\r\n\t\t\t\t\t\t\tcolor=\"primary\"\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<span>Numeric</span>\r\n\t\t\t\t\t\t</Checkbox>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<input\t\t\t\r\n\t\t\t\t\t\tid=\"input1\"\r\n\t\t\t\t\t\tstyle=\"margin:5px; width: 99%\"\r\n\t\t\t\t\t\ttype={state.numeric ? \"number\" : \"text\"}\r\n\t\t\t\t\t\tplaceholder={((AH.select(\"#input1\").innerHTML != \"\") ? l.fill_text_placeholder:\"\")}\r\n\t\t\t\t\t\tclass=\"form-control\"\r\n\t\t\t\t\t\tvalue=\"{state.input1}\"\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<div class=\"d-flex justify-content-start ml-1 height36\">\r\n\t\t\t\t\t\t<Checkbox \t\r\n\t\t\t\t\t\t\tchecked={state.customStyle}\r\n\t\t\t\t\t\t\tid=\"customStyle\"\r\n\t\t\t\t\t\t\ton:click={()=> {state.customStyle = !state.customStyle}}\r\n\t\t\t\t\t\t\tcolor=\"primary\"\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<span>Enable Style</span>\r\n\t\t\t\t\t\t</Checkbox>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<input\r\n\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\tmultiline\r\n\t\t\t\t\t\tid=\"customStyleText\"\r\n\t\t\t\t\t\tdisabled={!state.customStyle}\r\n\t\t\t\t\t\trowsMax={4}\r\n\t\t\t\t\t\tstyle=\"width: 99%, margin: 5px\"\r\n\t\t\t\t\t\tclass=\"form-control ml-1\"\r\n\t\t\t\t\t\tplaceholder=\"Custom Style\"\r\n\t\t\t\t\t\tvalue=\"{state.customStyleData}\"\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<div class=\"text-danger font-weight-bold\">* Note:</div>\r\n\t\t\t\t\t<div class=\"text-danger\" style=\"text-indent:15px\">{l.fill_text_help1}</div>\r\n\t\t\t\t\t<div class=\"text-danger\" style=\"text-indent:15px\">{l.fill_text_help2}</div>\r\n\t\t\t\t</div>\r\n\t\t\t{/if}\r\n\t\t\t{#if state.fillInTheBlanksChoice == 2}\r\n\t\t\t\t<div>\r\n\t\t\t\t\t{#each state.fillDropDown as data, i}\r\n\t\t\t\t\t\t<div key={i} class=\"d-flex ml-1\">\r\n\t\t\t\t\t\t\t<div \r\n\t\t\t\t\t\t\t\tstyle=\"\r\n\t\t\t\t\t\t\t\t\tfloat: left;\r\n\t\t\t\t\t\t\t\t\tposition: relative;\r\n\t\t\t\t\t\t\t\t\ttop: 10px;\r\n\t\t\t\t\t\t\t\t\tpadding: 4px 8px 2px 0;\r\n\t\t\t\t\t\t\t\t\tborder-radius: 4px;\r\n\t\t\t\t\t\t\t\t\"\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\ttype=\"radio\" \r\n\t\t\t\t\t\t\t\t\tid={\"correct\"+i}\r\n\t\t\t\t\t\t\t\t\tname=\"dropdownCorrectAns\"\r\n\t\t\t\t\t\t\t\t\tchecked={data.checked} \r\n\t\t\t\t\t\t\t\t\tvalue={data.value} \r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\t\tid={\"dropDown\"+i}\r\n\t\t\t\t\t\t\t\tstyle=\"margin: 5px; left:8px\"\r\n\t\t\t\t\t\t\t\tvalue={data.value}\r\n\t\t\t\t\t\t\t\tplaceholder={l.fill_dropdown_placeholder}\r\n\t\t\t\t\t\t\t\tdata-correct={\"correct\" + i}\r\n\t\t\t\t\t\t\t\tclass=\"width10 form-control\"\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t<span \r\n\t\t\t\t\t\t\t\ton:click={removeDropDown.bind(this,i)}  \r\n\t\t\t\t\t\t\t\tclass=\"icomoon-24px-delete-1 text-dark pointer position-relative s3 mt-2 pt-2 drop_down_delete\"\r\n\t\t\t\t\t\t\t\tstyle=\"height:32px;bottom:1px;\"\r\n\t\t\t\t\t\t\t\tdata-bs-toggle=\"tooltip\" \r\n\t\t\t\t\t\t\t\ttitle=\"Delete\"\r\n\t\t\t\t\t\t\t\ttabIndex=\"0\"\r\n\t\t\t\t\t\t\t></span>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t{/each}\r\n\t\t\t\t\t<div class=\"float-left mt-3 ml-1\">\r\n\t\t\t\t\t\t<Button \r\n\t\t\t\t\t\t\tvariant=\"fab\" \r\n\t\t\t\t\t\t\tcolor=\"primary\"\r\n\t\t\t\t\t\t\taria-label=\"Add\"\r\n\t\t\t\t\t\t\ton:click={addDropDownOption}\r\n\t\t\t\t\t\t\tclass=\"btn btn-outline-primary rounded position-relative bottom0 bg-white shadow-sm float-right\"\r\n\t\t\t\t\t\t\tstyle=\"width: 120px; height: 30px; border: 1px solid #4285f4; color: #4285f4;text-transform: none;\"\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\tAdd option\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<br />\r\n\t\t\t\t\t<div class=\"text-danger mt-5 font-weight-bold ml-1\">* Note:</div>\r\n\t\t\t\t\t<div class=\"text-danger ml-1\" style=\"text-indent: 15px\">{l.fill_dropdown_help1}</div>\r\n\t\t\t\t\t<div class=\"text-danger ml-1\" style=\"text-indent: 15px\">{l.fill_dropdown_help2}</div>\r\n\t\t\t\t\t<div class=\"text-danger ml-1\" style=\"text-indent: 15px\">{l.fill_dropdown_help3}</div>\r\n\t\t\t\t</div>\r\n\t\t\t{/if}\r\n\t\t\t{#if state.fillInTheBlanksChoice == 3}\r\n\t\t\t\t<div class=\"ml-1\">\r\n\t\t\t\t\t<div style=\"clear: both\" class=\"mb-3\">\r\n\t\t\t\t\t\t<div class=\"position-relative float-left rounded\" style=\"top: 8px; padding: 4px 8px 2px 0\">\r\n\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\ttype=\"checkbox\" \r\n\t\t\t\t\t\t\t\tname=\"dragDropCorrectAns\"\r\n\t\t\t\t\t\t\t\tid=\"drag_single\" \r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<label for=\"drag_single\" class=\"font-weight-normal mb-0 form-check-label relative w-75\" style=\"top: 11px; left:5px\">{l.drag_single}</label>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t{#each state.fillDragDrop as data, i}\r\n\t\t\t\t\t\t<div key={i} class=\"d-flex clear-both\">\r\n\t\t\t\t\t\t\t<div class=\"position-relative float-left rounded\" style=\"top: 10px;padding: 4px 8px 2px 0\">\r\n\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\ttype=\"checkbox\" \r\n\t\t\t\t\t\t\t\t\tchecked={data.checked}\r\n\t\t\t\t\t\t\t\t\tname=\"dragDropCorrectAns\"\r\n\t\t\t\t\t\t\t\t\tid={\"correctDrag\"+i}\r\n\t\t\t\t\t\t\t\t\tvalue={data.value} \r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\t\tid={\"dragDrop\"+i}\r\n\t\t\t\t\t\t\t\tvalue={data.value}\r\n\t\t\t\t\t\t\t\tstyle=\"margin:5px;left: 8px\"\r\n\t\t\t\t\t\t\t\tplaceholder={l.fill_dropdown_placeholder}\r\n\t\t\t\t\t\t\t\tclass=\"width10 form-control\"\r\n\t\t\t\t\t\t\t\tdata-correct={\"correctDrag\" + i}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t<span \r\n\t\t\t\t\t\t\t\ton:click={removeDragDrop.bind(this,i)}  \r\n\t\t\t\t\t\t\t\tclass=\"icomoon-24px-delete-1 text-dark pointer position-relative s3 mt-2 pt-2 drag_drop_delete height32 bottom1\"\r\n\t\t\t\t\t\t\t\tdata-bs-toggle=\"tooltip\"\r\n\t\t\t\t\t\t\t\tdata-bs-placement=\"top\" \r\n\t\t\t\t\t\t\t\ttitle=\"Delete\"\r\n\t\t\t\t\t\t\t\ttabIndex=\"0\"\r\n\t\t\t\t\t\t\t></span>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t{/each}\r\n\t\t\t\t\t<div class=\"float-left mt-3\">\r\n\t\t\t\t\t\t<Button \r\n\t\t\t\t\t\t\tvariant=\"fab\" \r\n\t\t\t\t\t\t\tcolor=\"primary\"\r\n\t\t\t\t\t\t\tmini\r\n\t\t\t\t\t\t\taria-label=\"Add\"\r\n\t\t\t\t\t\t\ton:click={addDragDropOption.bind(this)}\r\n\t\t\t\t\t\t\tclass=\"btn btn-outline-primary rounded position-relative bg-white shadow-sm float-right bottom0\"\r\n\t\t\t\t\t\t\tstyle=\"width: 120px;border: 1px solid #4285f4; color: #4285f4;text-transform: none; height:30px;\"\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\tAdd option\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div class=\"text-danger mt-5 pt-3 font-weight-bold\">* Note:</div>\r\n\t\t\t\t\t<div class=\"text-danger\" style=\"text-indent: 15px\">{l.fill_dragdrop_help1}</div>\r\n\t\t\t\t\t<div class=\"text-danger\" style=\"text-indent: 15px\">{l.fill_dragdrop_help2}</div>\r\n\t\t\t\t\t<div class=\"text-danger\" style=\"text-indent: 15px\">{l.fill_dragdrop_help3}</div>\r\n\t\t\t\t\t<div class=\"text-danger\" style=\"text-indent: 15px\">{l.fill_dragdrop_help4}</div>\r\n\t\t\t\t</div>\r\n\t\t\t{/if}\r\n\t\t\t{#if state.fillInTheBlanksChoice == 4}\r\n\t\t\t\t<div><h2>Under Development</h2></div>\r\n\t\t\t{/if}\r\n\t\t\t{#if state.fillInTheBlanksChoice == 5}\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<div class=\"d-flex\">\r\n\t\t\t\t\t\t<div style=\"margin-right: 11px; width: 69%\">\r\n\t\t\t\t\t\t\t<label class=\"mb-0 ml-2\" for=\"defaultMultiAns\">Default Answer</label>\r\n\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\t\tid=\"defaultMultiAns\"\r\n\t\t\t\t\t\t\t\tstyle=\"margin:5px;width:100%\"\r\n\t\t\t\t\t\t\t\tplaceholder={((AH.select(\"#defaultMultiAns\").innerHTML != \"\") ? l.default_answer : \"Default Answer\")}\r\n\t\t\t\t\t\t\t\tclass=\"form-control\"\r\n\t\t\t\t\t\t\t\tvalue={state.fillMultiAttr.defaultAns}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t<label class=\"mb-0 ml-2\" for=\"rows\">Row</label>\r\n\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\tid=\"rows\"\r\n\t\t\t\t\t\t\t\ttype=\"number\"\r\n\t\t\t\t\t\t\t\tmin=\"1\"\r\n\t\t\t\t\t\t\t\tstyle=\"margin:5px; width: 100px\"\t\t\t\t\t      \r\n\t\t\t\t\t\t\t\tplaceholder={((AH.select(\"#rows\").innerHTML != \"\") ? l.rows : \"Rows\")}\r\n\t\t\t\t\t\t\t\tclass=\"form-control\"\r\n\t\t\t\t\t\t\t\tvalue={state.fillMultiAttr.rows}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div class=\"mr-sm2\">\r\n\t\t\t\t\t\t\t<label class=\"mb-0 ml-2\" for=\"cols\">Column</label>\r\n\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\tid=\"cols\"\r\n\t\t\t\t\t\t\t\ttype=\"number\"\r\n\t\t\t\t\t\t\t\tmin=\"1\"\r\n\t\t\t\t\t\t\t\tstyle=\"margin: 5px; width: 100px\"\r\n\t\t\t\t\t\t\t\tplaceholder={((AH.select(\"#cols\").innerHTML != \"\") ? l.cols : \"Cols\")}\r\n\t\t\t\t\t\t\t\tclass=\"form-control\"\r\n\t\t\t\t\t\t\t\tvalue={state.fillMultiAttr.cols}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t{#each state.fillMultiLine as data,i}\r\n\t\t\t\t\t\t<div key={i}>\r\n\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\t\tid=\"multiLineCorrect\"\r\n\t\t\t\t\t\t\t\tmultiline\r\n\t\t\t\t\t\t\t\tstyle=\"margin: 5px; width: 98%\"\r\n\t\t\t\t\t\t\t\tvalue={data.value}\r\n\t\t\t\t\t\t\t\tplaceholder={l.fill_text_placeholder}\r\n\t\t\t\t\t\t\t\tclass=\"form-control\"\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t{/each}\r\n\t\t\t\t</div>\r\n\t\t\t{/if}\r\n\t\t\t{#if state.fillInTheBlanksChoice == 6}\r\n\t\t\t\t<div>\r\n\t\t\t\t\t{#each state.fillEquation as data, i}\r\n\t\t\t\t\t\t<div key={i} class=\"row ml-0 mb-2\">\r\n\t\t\t\t\t\t\t<div class=\"col-sm-7\">\r\n\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\t\t\tid={\"input\"+i}\r\n\t\t\t\t\t\t\t\t\tclass=\"form-control latexInp position-relative top3 width-xl1 ml-1\"\r\n\t\t\t\t\t\t\t\t\tvalue={data.value}\r\n\t\t\t\t\t\t\t\t\tplaceholder={l.fill_text_placeholder}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div class=\"col-sm-3 pt-1\">\r\n\t\t\t\t\t\t\t\t<Button \r\n\t\t\t\t\t\t\t\t\tcolor=\"primary\"\r\n\t\t\t\t\t\t\t\t\tstyle=\"border:1px solid #4285f4; color:#4285f4;text-transform: none; height: 30px;\" \r\n\t\t\t\t\t\t\t\t\ton:click={addEditable.bind(this,i)}\r\n\t\t\t\t\t\t\t\t\tclass=\"btn btn-outline-primary bg-white shadow-sm\"\r\n\t\t\t\t\t\t\t\t>+ response</Button>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div class=\"col-sm-1 pt-2\">\r\n\t\t\t\t\t\t\t\t<div class=\"latexEditButton d-inline-block\" tabIndex=\"0\" style=\"height:28px;\">\r\n\t\t\t\t\t\t\t\t\t<span \r\n\t\t\t\t\t\t\t\t\t\tid= {\"latexEdit\"+i}\r\n\t\t\t\t\t\t\t\t\t\tvariant=\"contained\" \r\n\t\t\t\t\t\t\t\t\t\ton:click={latexEdit.bind(this,i)}\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\tclass=\"icomoon-24px-edit-1 text-dark pointer position-relative s3 bottom1\"\r\n\t\t\t\t\t\t\t\t\t\tdata-bs-toggle=\"tooltip\" \r\n\t\t\t\t\t\t\t\t\t\tdata-bs-placement=\"top\" \r\n\t\t\t\t\t\t\t\t\t\ttitle=\"Edit\"\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div class=\"col-sm-1 pt-2\">\r\n\t\t\t\t\t\t\t\t<span \r\n\t\t\t\t\t\t\t\t\ton:click={removeMathEquation.bind(this,i)}  \r\n\t\t\t\t\t\t\t\t\tclass=\"icomoon-24px-delete-1 text-dark pointer position-relative s3 mathematical_delete\"\r\n\t\t\t\t\t\t\t\t\tstyle=\"height:28px;bottom: 1px;\"\r\n\t\t\t\t\t\t\t\t\tdata-bs-toggle=\"tooltip\" \r\n\t\t\t\t\t\t\t\t\tdata-bs-placement=\"top\" \r\n\t\t\t\t\t\t\t\t\ttitle=\"Delete\"\r\n\t\t\t\t\t\t\t\t\ttabIndex=\"0\"\r\n\t\t\t\t\t\t\t\t></span>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t{/each}\r\n\t\t\t\t\t<div class=\"float-left mt-2 ml-1\">\r\n\t\t\t\t\t\t<Button \r\n\t\t\t\t\t\t\tvariant=\"fab\" \r\n\t\t\t\t\t\t\tcolor=\"primary\"\r\n\t\t\t\t\t\t\taria-label=\"Add\"\r\n\t\t\t\t\t\t\ton:click={addMathEquation}\r\n\t\t\t\t\t\t\tclass=\"rounded btn btn-outline-primary top5 position-relative bg-white shadow-sm float-right\"\r\n\t\t\t\t\t\t\tstyle=\"width: 120px; height:30px; border: 1px solid #4285f4; color: #4285f4;\"\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t+ Option\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div class=\"text-danger mt-5 pt-4 font-weight-bold ml-1\">* Note:</div>\r\n\t\t\t\t\t<div class=\"text-danger\" style=\"text-indent: 20px\">{l.fill_math_help1}</div>\r\n\t\t\t\t\t<div class=\"text-danger\" style=\"text-indent: 20px\">{l.fill_math_help2}</div>\r\n\t\t\t\t\t<div class=\"text-danger\" style=\"text-indent: 20px\">{l.fill_math_help3}</div>\r\n\t\t\t\t</div>\r\n\t\t\t{/if}\r\n\t\t</div>\r\n\t\t<div slot=\"footer\" class=\"svelteFooter\">\r\n\t\t\t<Button\r\n\t\t\t\ton:click={handleClose}\r\n\t\t\t\tunelevated={true}\r\n            \toutlined={true}\r\n\t\t\t\tclass=\"text-capitalize\"\r\n\t\t\t> {l.cancel} </Button>\r\n\t\t\t<Button\r\n\t\t\t\ton:click={storeAns}\r\n\t\t\t\tunelevated={true}\r\n            \toutlined={true}\r\n\t\t\t\tclass=\"text-capitalize\"\r\n\t\t\t\tcolor=\"primary\"\r\n\t\t\t> {l.done} </Button>\r\n\t\t</div>\r\n\t</Dialog>\r\n\r\n\t<Dialog width=\"600\" bind:visible={state.settingmenuopen}>\r\n\t\t<div slot=\"title\" style=\"text-align: left;\">\r\n\t\t\t<span class=\"text-capitalize\">Settings</span>\r\n\t\t</div>\r\n\t\t<div>\r\n\t\t\t<Checkbox \r\n\t\t\t\tchecked = {state.case_sensetive}\r\n\t\t\t\ton:click={handleSetting.bind(this, \"1\")}\r\n\t\t\t\tcolor=\"primary\"\r\n\t\t\t>\r\n\t\t\t\t<span>{l.case_sensetive}</span>\r\n\t\t\t</Checkbox>\r\n\r\n\t\t\t<Checkbox \r\n\t\t\t\tchecked = {state.ignore_spcl_char}\r\n\t\t\t\ton:click={handleSetting.bind(this, \"2\")}\r\n\t\t\t\tcolor=\"primary\"\r\n\t\t\t>\r\n\t\t\t\t<span>{l.ignore_spcl_char}</span>\r\n\t\t\t</Checkbox>\r\n\r\n\t\t\t<Checkbox \r\n\t\t\t\tchecked = {state.multisetting}\r\n\t\t\t\ton:click={handleSetting.bind(this, \"3\")}\r\n\t\t\t\tcolor=\"primary\"\r\n\t\t\t>\r\n\t\t\t\t<span>{l.multi}</span>\r\n\t\t\t</Checkbox>\r\n\t\t\t<span class=\"text-danger\">\r\n\t\t\t\t<b>Note:</b> All the above options are applicable to Fill in the Blanks (with text) and Fill in the Blanks (with multiline).\r\n\t\t\t</span>\r\n\t\t</div>\r\n\t\t<div slot=\"footer\" class=\"svelteFooter\">\r\n\t\t\t<Button\r\n\t\t\t\ton:click={openSetting}\r\n\t\t\t\tcolor=\"primary\"\r\n\t\t\t\tunelevated={true}\r\n            \toutlined={true}\r\n\t\t\t>OK</Button>\r\n\t\t</div>\r\n\t</Dialog>\r\n\r\n\t<Snackbar bind:visible={state.snackback} bg=\"#f44336\" bottom={true} timeout={4000} style=\"position:fixed; bottom:50px\">\r\n\t\t{#if message}\r\n\t\t\t{message}\r\n\t\t{:else} \r\n\t\t\tSome Error occured during this process.\r\n\t\t{/if}\r\n\t\t<span slot=\"action\">\r\n\t\t\t<Button color=\"#ff0\" on:click={() => (state.snackback = false)}>Close</Button>\r\n\t\t</span>\r\n\t</Snackbar>\r\n</div>"],"names":["ctx","fill_header","fillInTheBlanksChoice","bind","this","fill_text_help1","fill_text_help2","codetype","numeric","customStyle","AH","select","innerHTML","fill_text_placeholder","input1","customStyleData","fill_dropdown_help1","fill_dropdown_help2","fill_dropdown_help3","fillDropDown","length","checked","value","fill_dropdown_placeholder","drag_single","fill_dragdrop_help1","fill_dragdrop_help2","fill_dragdrop_help3","fill_dragdrop_help4","fillDragDrop","fillMultiLine","default_answer","fillMultiAttr","defaultAns","rows","cols","fill_math_help1","fill_math_help2","fill_math_help3","fillEquation","cancel","done","case_sensetive","ignore_spcl_char","multi","multisetting","open","settingmenuopen","snackback","replaceCharactersFunc","str","replaceCharacters","type","i","replace","RegExp","xml","editorState","l","getChildXml","cmTime","count","window","spanCounter","currentId","currentInp","timer","&apos;","message","state","writable","matchtype","ignoretype","valueMultiple","id","anchorEl","subscribe","items","reverseXml","data","tinyMCE","activeEditor","getContent","format","tags","match","tag","reverseHtmlSpecialChars","arr","originalkey","toString","handleOpen","handleClose","push","showError","err","onMount","listen","document","_this","e","getAttribute","PluginManager","add","editor","url","addMenuItem","text","add_response","onclick","context","prependToContext","tinymce","load","themeUrl","init","selector","inline","theme","skin","min_width","resize","menubar","toolbar","elementpath","statusbar","force_br_newlines","remove_trailing_brs","forced_root_block","extended_valid_elements","valid_elements","fixed_toolbar_container","custom_elements","[object Object]","addButton","selectAll","o","interactive_item","table","Object","keys","forEach","key","item","hide","insert","label","html","default_image","getBS","show","createTableHtml","event","table_html","attr","tab_html","focus","execCommand","createTables","icon","selection","getSel","anchorNode","parentElement","getNode","classList","contains","showmsg","align_content_message","on","target","clearTimeout","setTimeout","console","warn","Error","active","selecteddata","plugins","content_css","contextmenu","paste_as_text","ans","split","trim","ans_type","indexOf","editTextbox","anskey","tempEqArr","latexEdit","latexEditData","editMathbox","dragSingle","dragDrop","allValue","v","opt","check","find","editDragDrop","tempDropDown","map","slice","editSelectbox","attrs","JSON","parse","tempMulti","editMultiline","setFillType","itemXML","loadXml","MYXML","cdata","smxml","__cdata","_matchtype","_ignoretype","_multiple","answerKey","answerType","originalKey","latexKey","editMath","innerKey","regex","quote","htmlSpecialChars","parseXmlAuthoring","XMLToJSON","s","Date","getTime","keyCode","which","click","didMount","log","File","Line","onDestroy","remove","tempArr","getValue","validate","given_ans","includes","ansnew","insertContent","a","anyCorrect","isValue","correctAttr","isCorrect","strnew","d","dragType","isChecked","m","isNaN","optnew","MathArray","querySelector","join","latex","values","hideBsAll","tempFDD","splice","parentNode","txt","caretPos","selectionStart","textAreaTxt","substring","setting_arr","storeAttr"],"mappings":"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"}