{"version":3,"file":"Resizable-7dd18adf.js","sources":["../../../clsSMDragNDrop/libs/plugins/Resizable.js"],"sourcesContent":["\n\n\"use strict\";\nwindow.isResizable = (window.isResizable) ? window.isResizable : false;\nexport default class Resizable {\n    constructor (container, elements) {\n        this.container = container;\n        this.targetResize = null;\n        this.elmsResizable = document.querySelectorAll(elements);\n        this.started = false;\n        this.init();\n    }\n\n    init() {\n\n        [] .forEach.call (this.elmsResizable, (el) => {\n            if (el.querySelector('.resizer') == null  || (el.id == 'dndmain' && document.querySelector('#dndmain > .resizer') == null)) { \n                let resizer = document.createElement('div');\n                resizer.className ='resizer icomoon-resize';\n                el.appendChild (resizer);\n            }\n        });\n\n        if (!window.isResizable) {\n            window.isResizable = true;\n            AI.listen('body', 'mouseleave', this.container, () => {\n                this.targetResize = null;\n            })\n            AI.listen('body', 'mousedown', '.resizer', (current) => {\n                this.targetResize = current.parentNode;\n                this.started = true;\n                this.onStart && this.onStart(current);\n            });\n            AI.listenAll('body', 'mousemove', (event) => {\n                if (this.targetResize == null || !this.started) {return;}\n                let position = this.getPosition(event, this.targetResize);\n                this.targetResize.style.width = position.x +'px';\n                this.targetResize.style.height = position.y +'px';\n            });\n\n            AI.listenAll('body', 'mouseup', (event) => {\n                if (this.started) {\n                    this.started = false;\n                    this.onStop && this.onStop(event, this.targetResize);\n                    this.targetResize = null;\n                }\n            })\n\n        }\n        \n    }   \n    \n    getPosition (e, node) {\n        let element_boundry = node.getBoundingClientRect();\n        let containment_boundry = document.querySelector(this.container).getBoundingClientRect()\n        let left = e.clientX, top = e.clientY;\n        if (top > containment_boundry.bottom) {\n            top = containment_boundry.bottom;\n        }\n        \n        if (left > containment_boundry.right) {\n            left = containment_boundry.right;\n        }\n\n        let x = left - element_boundry.left\n        let y = top - element_boundry.top;\n\n        if (this.setLimit) {\n            return this.setLimit(x,y)\n        }\n        return {x:x, y:y};\n    }\n\n}"],"names":["window","isResizable","Resizable","[object Object]","container","elements","this","targetResize","elmsResizable","document","querySelectorAll","started","init","forEach","call","el","querySelector","id","resizer","createElement","className","appendChild","AI","listen","current","parentNode","onStart","listenAll","event","position","getPosition","style","width","x","height","y","onStop","e","node","element_boundry","getBoundingClientRect","containment_boundry","left","clientX","top","clientY","bottom","right","setLimit"],"mappings":"AAGAA,OAAOC,cAAeD,OAAkB,aAAIA,OAAOC,YACpC,MAAMC,EACjBC,YAAaC,EAAWC,GACpBC,KAAKF,UAAYA,EACjBE,KAAKC,aAAe,KACpBD,KAAKE,cAAgBC,SAASC,iBAAiBL,GAC/CC,KAAKK,SAAU,EACfL,KAAKM,OAGTT,OAEI,GAAIU,QAAQC,KAAMR,KAAKE,eAAgBO,IACnC,GAAoC,MAAhCA,EAAGC,cAAc,aAAkC,WAATD,EAAGE,IAAoE,MAAjDR,SAASO,cAAc,uBAAiC,CACxH,IAAIE,EAAUT,SAASU,cAAc,OACrCD,EAAQE,UAAW,yBACnBL,EAAGM,YAAaH,OAInBlB,OAAOC,cACRD,OAAOC,aAAc,EACrBqB,GAAGC,OAAO,OAAQ,aAAcjB,KAAKF,WAAW,KAC5CE,KAAKC,aAAe,QAExBe,GAAGC,OAAO,OAAQ,YAAa,YAAaC,IACxClB,KAAKC,aAAeiB,EAAQC,WAC5BnB,KAAKK,SAAU,EACfL,KAAKoB,SAAWpB,KAAKoB,QAAQF,MAEjCF,GAAGK,UAAU,OAAQ,aAAcC,IAC/B,GAAyB,MAArBtB,KAAKC,eAAyBD,KAAKK,QAAU,OACjD,IAAIkB,EAAWvB,KAAKwB,YAAYF,EAAOtB,KAAKC,cAC5CD,KAAKC,aAAawB,MAAMC,MAAQH,EAASI,EAAG,KAC5C3B,KAAKC,aAAawB,MAAMG,OAASL,EAASM,EAAG,QAGjDb,GAAGK,UAAU,OAAQ,WAAYC,IACzBtB,KAAKK,UACLL,KAAKK,SAAU,EACfL,KAAK8B,QAAU9B,KAAK8B,OAAOR,EAAOtB,KAAKC,cACvCD,KAAKC,aAAe,UAQpCJ,YAAakC,EAAGC,GACZ,IAAIC,EAAkBD,EAAKE,wBACvBC,EAAsBhC,SAASO,cAAcV,KAAKF,WAAWoC,wBAC7DE,EAAOL,EAAEM,QAASC,EAAMP,EAAEQ,QAC1BD,EAAMH,EAAoBK,SAC1BF,EAAMH,EAAoBK,QAG1BJ,EAAOD,EAAoBM,QAC3BL,EAAOD,EAAoBM,OAG/B,IAAId,EAAIS,EAAOH,EAAgBG,KAC3BP,EAAIS,EAAML,EAAgBK,IAE9B,OAAItC,KAAK0C,SACE1C,KAAK0C,SAASf,EAAEE,GAEpB,CAACF,EAAEA,EAAGE,EAAEA"}