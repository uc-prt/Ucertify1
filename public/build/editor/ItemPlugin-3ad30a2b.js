import{S as e,i as t,s as n,D as l,e as o,j as s,a0 as c,u as r,b as a,B as d,f as p,h as m,l as u,k as g,a as f,n as x,t as h,o as b,y as _,P as v,F as $,G as k,H as y,c as w,m as A,M as C,d as q,z as I,p as S,X as T,A as E,C as z,r as B,w as M,W as U,g as X,R as D}from"./main-e0d43b45.js";const{document:F}=l;function N(e,t,n){const i=e.slice();return i[40]=t[n],i[42]=n,i}function H(e){let t;return{c(){t=r("Go Next")},m(e,n){m(e,t,n)},p:B,d(e){e&&b(t)}}}function L(e){let t;return{c(){t=r("Fix Answer")},m(e,n){m(e,t,n)},p:B,d(e){e&&b(t)}}}function K(e){let t,n;return t=new c({props:{"data-seq":e[42],class:"inner_inputs option_checkbox",type:"checkbox",value:"mode",name:"mode_checkbox_",id:"mode_checkbox_"+e[42],checked:!1}}),t.$on("click",(function(...t){return e[23](e[42],...t)})),{c(){w(t.$$.fragment)},m(e,i){A(t,e,i),n=!0},p(t,n){e=t},i(e){n||(h(t.$$.fragment,e),n=!0)},o(e){f(t.$$.fragment,e),n=!1},d(e){q(t,e)}}}function j(e){let t,n;return t=new c({props:{"data-seq":e[42],class:"inner_inputs option_checkbox",type:"checkbox",value:"mode",name:"mode_checkbox_",id:"mode_checkbox_"+e[42],checked:!0}}),t.$on("click",(function(...t){return e[22](e[42],...t)})),{c(){w(t.$$.fragment)},m(e,i){A(t,e,i),n=!0},p(t,n){e=t},i(e){n||(h(t.$$.fragment,e),n=!0)},o(e){f(t.$$.fragment,e),n=!1},d(e){q(t,e)}}}function O(e){let t,n;return t=new c({props:{"data-seq":e[42],checked:!1,class:"inner_inputs option_checkbox",type:"checkbox",value:"sticky",name:"sticky_checkbox_",id:"sticky_checkbox_"+e[42]}}),t.$on("click",e[4].bind(this,e[42],"fillAuthor_"+e[42])),{c(){w(t.$$.fragment)},m(e,i){A(t,e,i),n=!0},p:B,i(e){n||(h(t.$$.fragment,e),n=!0)},o(e){f(t.$$.fragment,e),n=!1},d(e){q(t,e)}}}function R(e){let t,n;return t=new c({props:{"data-seq":e[42],checked:!0,class:"inner_inputs option_checkbox",type:"checkbox",value:"sticky",name:"sticky_checkbox_",id:"sticky_checkbox_"+e[42]}}),t.$on("click",e[4].bind(this,e[42],"fillAuthor_"+e[42])),{c(){w(t.$$.fragment)},m(e,i){A(t,e,i),n=!0},p:B,i(e){n||(h(t.$$.fragment,e),n=!0)},o(e){f(t.$$.fragment,e),n=!1},d(e){q(t,e)}}}function P(e){let t,n,i,l,c,v,$,k,y,w,A,C,q,I,S,T,E,z,B,M,U,X,D,F,N,H,L,P,G,J,W,Y,Q,V,Z,ee,te,ne,ie,le,oe,se,ce,re,ae,de,pe,me,ue,ge,fe,xe,he,be,_e=e[42]+1+"",ve=e[40].__cdata+"";function $e(...t){return e[20](e[42],...t)}function ke(...t){return e[21](e[42],...t)}const ye=[j,K],we=[];function Ae(e,t){return"1"==e[40]._mode?0:1}Y=Ae(e),Q=we[Y]=ye[Y](e);let Ce=0==e[42]&&function(e){let t,n,i,l,c,r,u,_;const v=[R,O],$=[];function k(e,t){return"1"==e[40]._sticky?0:1}return i=k(e),l=$[i]=v[i](e),{c(){t=o("div"),n=o("span"),l.c(),c=a(),r=o("label"),r.textContent=""+d.sticky,p(n,"class","check_box d-inline-block svelte-182g3rw"),p(r,"class","font-weight-normal me-1 position-relative top2 right35 svelte-182g3rw"),p(r,"for",u="sticky_checkbox_"+e[42]),p(t,"class","stick_checkbox d-inline-block")},m(e,l){m(e,t,l),s(t,n),$[i].m(n,null),s(t,c),s(t,r),_=!0},p(e,t){let o=i;i=k(e),i===o?$[i].p(e,t):(g(),f($[o],1,1,(()=>{$[o]=null})),x(),l=$[i],l?l.p(e,t):(l=$[i]=v[i](e),l.c()),h(l,1),l.m(n,null))},i(e){_||(h(l),_=!0)},o(e){f(l),_=!1},d(e){e&&b(t),$[i].d()}}}(e);function qe(...t){return e[24](e[42],...t)}function Ie(...t){return e[25](e[42],...t)}return{c(){t=o("fieldset"),n=o("legend"),i=r(_e),c=a(),v=o("div"),$=o("div"),q=a(),I=o("div"),S=o("div"),T=o("span"),T.textContent=""+d.plain_text,z=a(),B=o("span"),M=o("span"),U=o("input"),F=a(),N=o("label"),N.textContent=""+d.interactive,P=a(),G=o("div"),J=o("div"),W=o("span"),Q.c(),V=a(),Z=o("label"),Z.textContent=""+d.no_validation,te=a(),Ce&&Ce.c(),ne=a(),ie=o("div"),le=o("div"),oe=o("button"),oe.textContent=""+d.delete,ce=a(),re=o("div"),ae=o("button"),ae.textContent=""+d.save,ue=a(),p(n,"class","font18 mb ms-2 pl-1 svelte-182g3rw"),p(n,"style",l="width:1em;float:none;"),p($,"data-seq",k=e[42]),p($,"class","tinymce-editor-res steps_edit p-1 border fillAuthor"),p($,"id",y="fillAuthor_"+e[42]),p($,"style",w="padding:0 8px;overflow:auto;outline:none"),p($,"contenteditable",A=!0),p($,"data-text","Enter text here"),p(v,"class","d-inline-block table_width ms-2 pl-1 pb-2 mb-1"),p(v,"style",C="width:97%;"),p(T,"class","pointer d-inline-block plain_text svelte-182g3rw"),p(T,"data-toggle","tooltip"),p(T,"title","Don't use any interactive item!"),p(T,"for",E="viewonly_radio_"+e[42]),p(U,"type","checkbox"),p(U,"class","form-check-input"),p(U,"id",X="switchElement"+e[42]),U.checked=D="1"!=e[40].toggle,p(U,"color","primary"),p(N,"for",H="switchElement"+e[42]),p(M,"class","form-check form-switch"),p(B,"class","stat-percent ms-4"),p(B,"style",L="display:inline-block;position:relative;"),p(S,"class","test d-inline-block"),p(W,"class","check_box d-inline-block svelte-182g3rw"),p(Z,"class","font-weight-normal me-1 position-relative top2 right35 svelte-182g3rw"),p(Z,"for",ee="mode_checkbox_"+e[42]),p(J,"class","modes_checkbox d-inline-block ms-2"),p(G,"class","d-inline-block plain_text ms-3"),p(oe,"type","button"),p(oe,"class","btn btn-light font12"),p(le,"class","d-inline-block mr"),p(le,"style",se="display:inline-block;"),p(ae,"id",de="save_step_"+e[42]),p(ae,"type","button"),p(ae,"class","btn btn-primary font12 save_button_steps"),p(re,"class","d-inline-block"),p(re,"style",pe="text-align:right;margin-top:6px;"),p(ie,"style",me="display:inline-block;float:right;"),p(ie,"class","buttons edit_steps"),p(I,"class","view_checkbox d-inline-block light-cyan-bg px-2 p-1 full-width fwidth svelte-182g3rw"),p(t,"key",ge=e[42]),p(t,"style",fe="border:1px solid grey"),p(t,"class","new_steps seq_inbox fw shadow-sm mb-2")},m(e,l){m(e,t,l),s(t,n),s(n,i),s(t,c),s(t,v),s(v,$),$.innerHTML=ve,s(t,q),s(t,I),s(I,S),s(S,T),s(S,z),s(S,B),s(B,M),s(M,U),s(M,F),s(M,N),s(I,P),s(I,G),s(G,J),s(J,W),we[Y].m(W,null),s(J,V),s(J,Z),s(G,te),Ce&&Ce.m(G,null),s(I,ne),s(I,ie),s(ie,le),s(le,oe),s(ie,ce),s(ie,re),s(re,ae),s(t,ue),xe=!0,he||(be=[u($,"keyup",$e),u(U,"change",ke),u(le,"click",qe),u(ae,"click",Ie)],he=!0)},p(t,n){e=t,(!xe||2&n[0])&&ve!==(ve=e[40].__cdata+"")&&($.innerHTML=ve),(!xe||2&n[0]&&D!==(D="1"!=e[40].toggle))&&(U.checked=D);let i=Y;Y=Ae(e),Y===i?we[Y].p(e,n):(g(),f(we[i],1,1,(()=>{we[i]=null})),x(),Q=we[Y],Q?Q.p(e,n):(Q=we[Y]=ye[Y](e),Q.c()),h(Q,1),Q.m(W,null)),0==e[42]&&Ce.p(e,n)},i(e){xe||(h(Q),h(Ce),xe=!0)},o(e){f(Q),f(Ce),xe=!1},d(e){e&&b(t),we[Y].d(),Ce&&Ce.d(),he=!1,_(be)}}}function G(e){let t,n;return{c(){t=o("span"),t.textContent="+ Â ",n=r(" Add Step"),p(t,"class","font18 svelte-182g3rw")},m(e,i){m(e,t,i),m(e,n,i)},d(e){e&&b(t),e&&b(n)}}}function J(e){let t,n,i,l,c,r,g,x,_,$,k,y,C,I,S,T,E,z,B,M,U;return g=new v({props:{variant:"contained",color:"primary",style:"border:1px solid #4285f4;color:#4285f4;text-transform:none;",class:"btn btn-outline-primary height30 bg-white shadow-sm mt-1 top1 ml-1",$$slots:{default:[Y]},$$scope:{ctx:e}}}),g.$on("click",ie),$=new v({props:{id:"latexEdit",variant:"contained",color:"primary",style:"margin:5px;display:none;",$$slots:{default:[Q]},$$scope:{ctx:e}}}),$.$on("click",e[12]),{c(){t=o("div"),n=o("div"),i=o("input"),r=a(),w(g.$$.fragment),x=a(),_=o("div"),w($.$$.fragment),k=a(),y=o("div"),y.textContent=""+d.star_note,C=a(),I=o("div"),I.textContent=""+d.fill_math_help1,T=a(),E=o("div"),E.textContent=""+d.fill_math_help2,p(i,"type","text"),p(i,"id","input"),p(i,"class","latexInp form-control"),p(i,"style",l="margin:5px;width:71%;"),p(i,"auto:focus",c=!0),p(_,"class","latexEditButton d-inline-block"),p(n,"class","d-flex"),p(y,"class","text-danger font-weight-bold ml-2 mt-3"),p(I,"class","text-danger ml-1"),p(I,"style",S="text-indent: 15px;"),p(E,"class","text-danger ml-1"),p(E,"style",z="text-indent: 15px;")},m(l,o){m(l,t,o),s(t,n),s(n,i),D(i,e[0].math_input_box),s(n,r),A(g,n,null),s(n,x),s(n,_),A($,_,null),s(t,k),s(t,y),s(t,C),s(t,I),s(t,T),s(t,E),B=!0,M||(U=u(i,"input",e[27]),M=!0)},p(e,t){1&t[0]&&i.value!==e[0].math_input_box&&D(i,e[0].math_input_box);const n={};4096&t[1]&&(n.$$scope={dirty:t,ctx:e}),g.$set(n);const l={};4096&t[1]&&(l.$$scope={dirty:t,ctx:e}),$.$set(l)},i(e){B||(h(g.$$.fragment,e),h($.$$.fragment,e),B=!0)},o(e){f(g.$$.fragment,e),f($.$$.fragment,e),B=!1},d(e){e&&b(t),q(g),q($),M=!1,U()}}}function W(e){let t,n,i,l,r,g,x,_,v,$,k,y,C,I,S,T,z,B,M,U;return l=new c({props:{id:"numeric",checked:e[0].numeric,$$slots:{default:[V]},$$scope:{ctx:e}}}),{c(){t=o("div"),n=o("div"),i=o("div"),w(l.$$.fragment),r=a(),g=o("input"),$=a(),k=o("div"),k.textContent=""+d.star_note,y=a(),C=o("div"),C.textContent=""+d.fill_text_help1,S=a(),T=o("div"),T.textContent=""+d.do_not_include_space,p(i,"class","width100 svelte-182g3rw"),p(g,"type","text"),p(g,"id","input1"),p(g,"class","form-control mr-4 ml-3"),p(g,"style",x="margin:5px"),p(g,"auto:focus",_=!0),p(g,"placeholder",v=""!=E.select("#input1").innerHTML?d.fill_text_placeholder:""),p(n,"class","d-flex mr-2"),p(k,"class","text-danger font-weight-bold ml-2 mt-3"),p(C,"class","text-danger ml-2"),p(C,"style",I="text-indent:15px"),p(T,"class","text-danger ml-2"),p(T,"style",z="text-indent:15px")},m(o,c){m(o,t,c),s(t,n),s(n,i),A(l,i,null),s(n,r),s(n,g),D(g,e[0].input_ans),s(t,$),s(t,k),s(t,y),s(t,C),s(t,S),s(t,T),B=!0,M||(U=u(g,"input",e[26]),M=!0)},p(e,t){const n={};1&t[0]&&(n.checked=e[0].numeric),4096&t[1]&&(n.$$scope={dirty:t,ctx:e}),l.$set(n),1&t[0]&&g.value!==e[0].input_ans&&D(g,e[0].input_ans)},i(e){B||(h(l.$$.fragment,e),B=!0)},o(e){f(l.$$.fragment,e),B=!1},d(e){e&&b(t),q(l),M=!1,U()}}}function Y(e){let t,n=d.add_response+"";return{c(){t=r(n)},m(e,n){m(e,t,n)},p:B,d(e){e&&b(t)}}}function Q(e){let t,n=d.edit_txt+"";return{c(){t=r(n)},m(e,n){m(e,t,n)},p:B,d(e){e&&b(t)}}}function V(e){let t;return{c(){t=r("Numeric")},m(e,n){m(e,t,n)},p:B,d(e){e&&b(t)}}}function Z(e){let t,n=d.cancel+"";return{c(){t=r(n)},m(e,n){m(e,t,n)},p:B,d(e){e&&b(t)}}}function ee(e){let t;return{c(){t=r("Done")},m(e,n){m(e,t,n)},d(e){e&&b(t)}}}function te(e){let t,n,i,l,c,$,k,y,C,I,S,T,E,z,B,M,D,F,N,H,L,K,j,O,R,P,G,Y=d.text+"",Q=d.math_eq+"";const V=[W,J],te=[];function ne(e,t){return 1==e[0].fillInTheBlanksChoice?0:1}return F=ne(e),N=te[F]=V[F](e),K=new v({props:{variant:"contained",class:"colorStyle",style:"text-transform:capitalize;",$$slots:{default:[Z]},$$scope:{ctx:e}}}),K.$on("click",e[10]),O=new v({props:{variant:"contained",class:"bg-primary text-white",style:"text-transform:capitalize;",$$slots:{default:[ee]},$$scope:{ctx:e}}}),O.$on("click",e[13]),{c(){t=o("h4"),n=o("div"),i=o("div"),i.textContent=""+d.fill_header,l=a(),c=o("div"),$=o("div"),k=o("button"),y=r(Y),S=a(),T=o("button"),E=r(Q),M=a(),D=o("div"),N.c(),H=a(),L=o("div"),w(K.$$.fragment),j=a(),w(O.$$.fragment),p(n,"class","d-flex justify-content-between"),p(k,"type","button"),p(k,"class",C=U("btn btn-light col-md-3"+(1==e[0].fillInTheBlanksChoice?" active":""))+" svelte-182g3rw"),k.value=I=1,p(T,"type","button"),p(T,"class",z=U("btn btn-light col-md-5"+(2==e[0].fillInTheBlanksChoice?" active":""))+" svelte-182g3rw"),T.value=B=2,p($,"class","btn-group mt-2 col-md-12 pl-1"),p(c,"class","left10 position-relative"),p(t,"class","mt-0 font21"),p(D,"id","responseDialog"),X(D,"height","150px"),X(D,"overflow-y","auto"),X(D,"padding-right","20px"),p(L,"class","svelteFooter")},m(o,r){m(o,t,r),s(t,n),s(n,i),s(t,l),s(t,c),s(c,$),s($,k),s(k,y),s($,S),s($,T),s(T,E),m(o,M,r),m(o,D,r),te[F].m(D,null),m(o,H,r),m(o,L,r),A(K,L,null),s(L,j),A(O,L,null),R=!0,P||(G=[u(k,"click",e[11].bind(this,1)),u(T,"click",e[11].bind(this,2))],P=!0)},p(e,t){(!R||1&t[0]&&C!==(C=U("btn btn-light col-md-3"+(1==e[0].fillInTheBlanksChoice?" active":""))+" svelte-182g3rw"))&&p(k,"class",C),(!R||1&t[0]&&z!==(z=U("btn btn-light col-md-5"+(2==e[0].fillInTheBlanksChoice?" active":""))+" svelte-182g3rw"))&&p(T,"class",z);let n=F;F=ne(e),F===n?te[F].p(e,t):(g(),f(te[n],1,1,(()=>{te[n]=null})),x(),N=te[F],N?N.p(e,t):(N=te[F]=V[F](e),N.c()),h(N,1),N.m(D,null));const i={};4096&t[1]&&(i.$$scope={dirty:t,ctx:e}),K.$set(i);const l={};4096&t[1]&&(l.$$scope={dirty:t,ctx:e}),O.$set(l)},i(e){R||(h(N),h(K.$$.fragment,e),h(O.$$.fragment,e),R=!0)},o(e){f(N),f(K.$$.fragment,e),f(O.$$.fragment,e),R=!1},d(e){e&&b(t),e&&b(M),e&&b(D),te[F].d(),e&&b(H),e&&b(L),q(K),q(O),P=!1,_(G)}}}function ne(e){let t,n,i,l,r,u,_,S,T,E,z,B,M,U,X,D,F,K,j,O,R,J;T=new c({props:{id:"go_next",checked:1==e[0].gonext,$$slots:{default:[H]},$$scope:{ctx:e}}}),T.$on("click",e[18]),B=new c({props:{id:"fixedans_checkbox",checked:1==e[0].fixed,$$slots:{default:[L]},$$scope:{ctx:e}}}),B.$on("click",e[19]);let W=e[1],Y=[];for(let t=0;t<W.length;t+=1)Y[t]=P(N(e,W,t));const Q=e=>f(Y[e],1,1,(()=>{Y[e]=null}));function V(t){e[28](t)}K=new v({props:{variant:"fab",color:"primary",mini:!0,"aria-label":"Add",class:"btn btn-outline-primary rounded position-relative bottom0 bg-white shadow-sm height30",style:"float:left;width:120px;height:30px;border:1px solid #4285f4;color:#4285f4;text-transform:none;",$$slots:{default:[G]},$$scope:{ctx:e}}}),K.$on("click",e[9].bind(this,"steps"));let Z={class:"remove_right_margin",width:"560",overlayClass:"materialOverlay",disableEnforceFocus:!0,style:"background-color:#fff; border-radius: 5px;",$$slots:{default:[te]},$$scope:{ctx:e}};return void 0!==e[0].open&&(Z.visible=e[0].open),O=new $({props:Z}),k.push((()=>y(O,"visible",V))),O.$on("close",e[10].bind(this)),{c(){t=o("main"),n=o("div"),i=o("div"),l=o("div"),l.textContent=""+d.create_steps,u=a(),_=o("div"),S=o("div"),w(T.$$.fragment),E=a(),z=o("div"),w(B.$$.fragment),U=a(),X=o("div");for(let e=0;e<Y.length;e+=1)Y[e].c();D=a(),F=o("div"),w(K.$$.fragment),j=a(),w(O.$$.fragment),p(l,"class","d-inline-block pt-1 float-start cr_step"),p(l,"style",r="font-size:20px;position:relative;"),p(S,"class","modes_checkbox d-inline-block top-checkbox_gonext position-relative top2 svelte-182g3rw"),p(z,"class","modes_checkbox d-inline-block m-l top-checkbox_fix position-relative top2 svelte-182g3rw"),p(_,"style",M={}),p(i,"class","border-bottom d-flex justify-content-between px-2 pt-1"),p(X,"class","outer_steps mt-3 mx-3 clear-both"),p(F,"class","row mx-3 mt-3 pb-3"),p(n,"class","mt-imp border")},m(e,o){m(e,t,o),s(t,n),s(n,i),s(i,l),s(i,u),s(i,_),s(_,S),A(T,S,null),s(_,E),s(_,z),A(B,z,null),s(n,U),s(n,X);for(let e=0;e<Y.length;e+=1)Y[e].m(X,null);s(n,D),s(n,F),A(K,F,null),s(n,j),A(O,n,null),J=!0},p(e,t){const n={};1&t[0]&&(n.checked=1==e[0].gonext),4096&t[1]&&(n.$$scope={dirty:t,ctx:e}),T.$set(n);const i={};if(1&t[0]&&(i.checked=1==e[0].fixed),4096&t[1]&&(i.$$scope={dirty:t,ctx:e}),B.$set(i),498&t[0]){let n;for(W=e[1],n=0;n<W.length;n+=1){const i=N(e,W,n);Y[n]?(Y[n].p(i,t),h(Y[n],1)):(Y[n]=P(i),Y[n].c(),h(Y[n],1),Y[n].m(X,null))}for(g(),n=W.length;n<Y.length;n+=1)Q(n);x()}const l={};4096&t[1]&&(l.$$scope={dirty:t,ctx:e}),K.$set(l);const o={};1&t[0]|4096&t[1]&&(o.$$scope={dirty:t,ctx:e}),!R&&1&t[0]&&(R=!0,o.visible=e[0].open,C((()=>R=!1))),O.$set(o)},i(e){if(!J){h(T.$$.fragment,e),h(B.$$.fragment,e);for(let e=0;e<W.length;e+=1)h(Y[e]);h(K.$$.fragment,e),h(O.$$.fragment,e),J=!0}},o(e){f(T.$$.fragment,e),f(B.$$.fragment,e),Y=Y.filter(Boolean);for(let e=0;e<Y.length;e+=1)f(Y[e]);f(K.$$.fragment,e),f(O.$$.fragment,e),J=!1},d(e){e&&b(t),q(T),q(B),I(Y,e),q(K),q(O)}}}function ie(){let e=document.querySelector("#input"),t=e.selectionStart,n=e.value;e.value=n.substring(0,t)+"user Response"+n.substring(t)}function le(e,t,n){window.spanCounter=0;let l={},o={};var s=[];let{showAns:c}=t,{stopAuthoringUpdate:r}=t,{xml:a}=t,{getChildXml:d}=t;M({xml:"",fillInTheBlanksChoice:1,opened:!1,deleteIndex:"",remediationToggle:!1,snackback:!1,input_ans:"",math_input_box:"",spanCounter:0,currentId:"",currentInp:""}).subscribe((e=>{n(0,l=e)}));function p(e){let t=(e=(e=e.replace(/%{|}%/g,"")).split("|"))[0].trim(),i=e[1]?e[1].trim():"";if(n(0,l.numeric="n"==i,l),n(0,l.fillInTheBlanksChoice=1,l),n(0,l.open=!0,l),-1!=t.indexOf("#style#")){let e=t.split("#style#");E.select("#responseDialog #customStyleText").value=e[1],n(0,l.input_ans=e[0],l)}else n(0,l.input_ans=t,l);n(0,l.math_input_box="",l)}function m(e){let t=(e=(e=e.replace(/%{|}%/g,"")).split("|"))[0].trim();e[1]&&e[1].trim();if(n(0,l.customStyle=-1!=t.indexOf("#style#"),l),n(0,l.fillInTheBlanksChoice=2,l),n(0,l.open=!0,l),-1!=t.indexOf("#style#")){let e=t.split("#style#");E.select("#responseDialog").value=e[1],E.select("#customStyleText").value=e[1],E.select("#input"+i).value=e[0]}else n(0,l.math_input_box=t,l);n(0,l.input_ans="",l)}function u(e){e=function(e){let t=[],n=e;return null==n.length&&""!=n?t.push(n):t=n,t.map((function(e,n){let i=e.__cdata,l=i.match(/<{[\s\S]*?}>/gm);l&&l.map((function(e){let t=e.match(/<\{(.*?)\}>/g);t=t.toString().replace(/<\{|\}>/g,""),t="var:"+t,t=t.trim(),i=i.replace(e,t)})),t[n].__cdata=i})),t}(e),n(1,s=e),function(e){e.map((function(e,t){1==e._viewonly?n(1,s[t].toggle=1,s):n(1,s[t].toggle=0,s)}))}(s),function(e){n(0,l.fixed=o.smxml._fixed,l),n(0,l.gonext=o.smxml._gonext,l),e.map((function(e,t){let i=e.__cdata,o=i.match(/%{[\s\S]*?}%/gm),c="";o&&o.forEach((function(e,t){let s=o[t],r="",a="";c=o[t].match(/\|(.*?)}%$/gm),c=c?c[0].replace(/\||}%/gm,""):"t";let d="",p="",m="";"t"==c?(m=c,d="Textbox",p="icomoon-insert-template"):"n"==c?(m="t",d="Numeric",p="icomoon-insert-template"):"e"==c&&(m=c,d="Math",r=s.replace(/\%\{|\|e\}\%/g,""),r='latex="'+r+'"',a="editMath",p="icomoon-insert-template");var u=new RegExp(RegExp.quote(s));i=i.replace(u,'<span id="latexSpan'+n(0,l.spanCounter=n(0,++l.spanCounter,l),l)+'" '+r+" type='"+m+"' class='alert alert-info editFill "+a+"' originalkey='"+s+"' style='padding: 5px;outline: none;line-height:40px;cursor:move;color:#000' contentEditable='false'><i style='padding-right:4px' class='"+p+"'></i>"+d+"</span>")})),n(1,s[t].__cdata=i,s)}))}(e)}function g(e){document.querySelector("#"+e).checked?(n(0,l.gonext=!0,l),o.smxml._gonext="1"):(n(0,l.gonext=!1,l),o.smxml._gonext="0"),$()}function f(e){document.querySelector("#"+e).checked?(n(0,l.fixed=!0,l),o.smxml._fixed="1"):(n(0,l.fixed=!1,l),o.smxml._fixed="0"),$()}function x(e,t,n){let i=n.target.name,l=document.querySelector("#"+i+e),s="_"+n.target.value,c=e;l.checked?o.smxml.step[c][s]="1":o.smxml.step[c][s]="0";document.querySelector("#"+t).innerHTML;$()}function h(e){E.select("#save_step_"+e,"removeAttr","disabled")}function b(e,t,i){1==s[e].toggle?(n(1,s[e].toggle=0,s),o.smxml.step[e]._viewonly="0",o.smxml.step[e]._attempt="1"):(s[e].toggle,o.smxml.step[e]._viewonly="1",o.smxml.step[e]._attempt="0");document.querySelector("#"+t).innerHTML;$()}function _(e,t){let i;if("steps"==t){if(i=s,i.length>2){i.splice(e,1)}else E.alert("You have atleast 2 steps.");n(1,s=i),$()}else"algo"==t&&(n(0,l.opened=!0,l),n(0,l.deleteIndex=e,l))}function v(e,t){let i=document.querySelector("#"+t).innerHTML;i=i.replace(/&amp;/g,"&"),n(1,s[e].__cdata=i,s),E.select("#save_step_"+e,"attr",{disabled:"disabled"}),$()}function $(){let e,t='<smxml type="37" fixed="'+o.smxml._fixed+'" gonext="'+o.smxml._gonext+'">';s.map((function(n,i){let l=i+1,o=n._viewonly,s=n._mode,c=n._attempt,r=n._sticky,a=n.__cdata;a=function(e){let t=e.match(/&lt;(.*?)&gt;/gm),n="";if(t)for(var i=0;i<t.length;i++)n=t[i],t[i]=t[i].replace(/&lt;/g,"<").replace(/&gt;/g,">"),e=e.replace(n,t[i]);return e}(a),a=function(e){let t,n=e.match(/var:var\d+\s+\s+/g);return n&&n.map((function(n,i){t=n.trim(),e=e.replace(n,t)})),e}(a),a=a.replace(/&quot;/g,'"').replace(/&nbsp;/g," "),a=a.replace(/'/g,'"').replace(/\n/g,"");let d=a.match(/<span(.*?)>(.*?)<\/span>/gi);if(d)for(i=0;i<d.length;i++){let e=d[i].match(/originalkey="%(.*?)%"/g);e&&(e=e.toString().replace(/originalkey=/g,"").replace(/"%|%"/g,"%"),a=a.replace(d[i],e))}e=a,t=t+"<step seq='"+l+"'"+(null!=c?" attempt ='"+c+"'":" ")+(null!=o?" viewonly ='"+o+"'":" ")+(null!=s?" mode ='"+s+"'":" ")+(null!=r?" sticky ='"+r+"'":" ")+">\x3c!--[CDATA["+e+"]]--\x3e</step>"})),t+="</smxml>",d(t)}function k(){E.listen(document,"click",".editMath",(function(e,t){n(0,l.currentId=e.getAttribute("id"),l)})),E.listen(document,"click",".materialOverlay",(function(e){n(0,l.currentId=null,l),n(0,l.currentInp=null,l)})),tinyMCE.PluginManager.add("res",(function(e,t){e.addMenuItem("resp",{text:"Add response",id:"addToken",onclick(){n(0,l.open=!0,l),n(0,l.codetype=!1,l),n(0,l.numeric=!1,l)},context:"insert",prependToContext:!0})})),tinymce.PluginManager.load("equationeditor",themeUrl+"svelte_items/tinymce/plugins/equationeditor/plugin.min.js"),tinymce.init({selector:".tinymce-editor-res",inline:!0,theme:"modern",skin:"skin02",min_width:100,resize:!0,menubar:!1,toolbar:!0,elementpath:!1,statusbar:!1,force_br_newlines:!0,remove_trailing_brs:!0,forced_root_block:!1,extended_valid_elements:"span[onClick|contentEditable]",valid_elements:"*[*]",fixed_toolbar_container:"#toolbar_container",extended_valid_elements:"uc:syntax,uc:ref",custom_elements:"uc:syntax,~uc:ref",plugins:["lists link image charmap print preview anchor","searchreplace code fullscreen","insertdatetime media table contextmenu paste res equationeditor "],content_css:themeUrl+"svelte_items/src/libs/mathquill.css",toolbar:[" bold italic underline | equationeditor"],contextmenu:"resp",paste_as_text:!0})}function y(){2==l.fillInTheBlanksChoice&&n(0,l.currentInp=null,l),n(0,l.open=!1,l)}S((()=>{a&&(o=T(a),u(o.smxml.step),E.select("#sticky_checkbox_0").click(),E.select("#sticky_checkbox_0").click()),setTimeout((function(){E.selectAll(".save_button_steps","attr",{disabled:"disabled"}),k()}),500),E.listen(document,"change","#input1",(function(e,t){console.log("change")})),E.listen(document,"mouseup",".steps_edit",(function(e,t){let i=parseInt(t.target.getAttribute("data-seq"));if(!Number.isNaN(i)){let e=t.target.innerHTML;e=e.replace(/&amp;/g,"&"),n(1,s[i].__cdata=e,s),E.select("#save_step_"+i,"removeAttr","disabled"),$()}})),E.listen(document,"click",".editFill",(function(e,t){"t"==e.getAttribute("type")?p(e.getAttribute("originalKey")):"e"==e.getAttribute("type")&&m(e.getAttribute("originalKey"))})),E.listen(document,"click",".steps_edit .editFill",(function(e,t){let n=parseInt(e.parentElement.getAttribute("data-seq"));E.select("#save_step_"+n,"removeAttr","disabled")})),E.listen(document,"touchstart",".editFill",(function(e,t){"t"==e.getAttribute("type")?p(e.getAttribute("originalKey")):"e"==e.getAttribute("type")&&m(e.getAttribute("originalKey"))}))})),z((()=>{if(a!=l.xml){if(n(0,l.xml=a,l),!0===r)return;o=T(l.xml),u(o.smxml.step)}}));return e.$$set=e=>{"showAns"in e&&n(14,c=e.showAns),"stopAuthoringUpdate"in e&&n(15,r=e.stopAuthoringUpdate),"xml"in e&&n(16,a=e.xml),"getChildXml"in e&&n(17,d=e.getChildXml)},[l,s,g,f,x,h,b,_,v,function(e){let t={};t._seq=s.length+1,t._viewonly="1",t._attempt="0",t._mode="0",t.__cdata="New Step",s.push(t),$(),n(0,l.snackback=!0,l),c(l.snackback?"New Step Added":"");var i=setTimeout((function(){k(),clearTimeout(i)}),500)},y,function(e){n(0,l.fillInTheBlanksChoice=e,l)},function(){n(0,l.open=!0,l)},function(){var e=0;if(1==l.fillInTheBlanksChoice){let t=document.querySelector("#input1").value,n=document.querySelector("#responseDialog #numeric").checked;1==n&&(t+=" |n"),""==t.trim()?(e=1)("All fields are required"):tinyMCE.activeEditor.insertContent("<span type='t' class='alert alert-info editFill' originalKey='%{"+t.trim()+"}%' style='padding: 5px;outline: none;line-height:40px;cursor:move;color:#000' contentEditable='false'><i style='padding-right:4px' class='icomoon-insert-template'></i>"+(1==n?"Numeric":"Textbox")+"</span>")}if(2==l.fillInTheBlanksChoice){let t=document.querySelector("#input").value;0==e?(document.querySelector("#"+l.currentId).setAttribute("latex",t),document.querySelector("#"+l.currentId).setAttribute("originalKey","%{"+t+"|e}%"),n(0,l.currentId=null,l),n(0,l.currentInp=null,l)):e("All fields are required")}0==e&&y()},c,r,a,d,e=>{g("go_next")},e=>{f("fixedans_checkbox")},(e,t)=>{h(e)},(e,t)=>{b(e,"fillAuthor_"+e)},(e,t)=>{x(e,"fillAuthor_"+e,t)},(e,t)=>{x(e,"fillAuthor_"+e,t)},(e,t)=>{_(e,"steps")},(e,t)=>{v(e,"fillAuthor_"+e)},function(){l.input_ans=this.value,n(0,l)},function(){l.math_input_box=this.value,n(0,l)},function(t){e.$$.not_equal(l.open,t)&&(l.open=t,n(0,l))}]}class oe extends e{constructor(e){var i;super(),F.getElementById("svelte-182g3rw-style")||((i=o("style")).id="svelte-182g3rw-style",i.textContent='.font18.svelte-182g3rw{font-size:16px}.fwidth.svelte-182g3rw{width:100%}.light-cyan-bg.svelte-182g3rw{background-color:#d4e4ff;color:#333}.top2.svelte-182g3rw{top:2px}.right5.svelte-182g3rw{right:5px}.right35.svelte-182g3rw{right:35px}.step_checkbox.svelte-182g3rw{width:22%;border:1px solid black;margin-left:10px;position:relative;bottom:1px;cursor:pointer;padding:3px 2px 0}.fixed_ans.svelte-182g3rw{top:10px;position:relative;float:right;border:1px solid #e0e0e0;background-color:#f5f5f5;border-radius:4px;padding:5px;font-size:15px;font-weight:700}.check_box.svelte-182g3rw{right:24px;position:relative;width:40px}.inner_inputs.svelte-182g3rw{margin:0 12px!important}.pointer.svelte-182g3rw{cursor:pointer !important}.width100.svelte-182g3rw{width:100px}[id^="fillmain"]{overflow:hidden;text-align:left}[id^="fillmain"] pre{background:none;border:none;font-size:14px!important}[id^="fillmain"] .string{min-height:50px;margin-top:10px;margin-right:10px}[id^="fillmain"] .footerstr{position:relative;margin-top:10px;background-color:#ccc;padding:15px;min-height:60px}[id^="fillmain"] .footerstr .arrow-up{position:absolute;top:-10px;right:50%;width:0;height:0;border-left:10px solid transparent;border-right:10px solid transparent;border-bottom:10px solid #ccc}[id^="fillmain"] .fill-row{padding:6px}[id^="fillmain"] .fillelement, [id^="fillmain"] .drag-resize{height:30px;display:inline-block;position:relative;min-height:30px;margin:1px}#fillmain .drag-resize{height:30px;display:inline-block;position:relative;min-height:30px;margin:1px}#fillmain input[type="text"]{height:99%!important;resize:none;font-size:12px;color:#000;max-width:800px}#fillmain select{height:99%!important;resize:none;font-size:12px;color:#000;max-width:800px}[id^="fillmain"] .drag-resize{vertical-align:middle;border:1px solid #31B731;text-align:center;padding:3px;font-size:14px}[id^="fillmain"] .drag-resize.ui-draggable{cursor:move}[id^="fillmain"] .drop-hover{border:1px dashed red!important;box-shadow:0 0 0 2px yellow inset;outline:1px solid blue}[id^="fillmain"] .fillcheck ul{width:220px}[id^="fillmain"] .fillcheck li.selected{background-color:#E5E5E5}.fillcheck .selected .icomoon-checkmark-3:before{float:left;color:blue;padding:3px;position:relative;right:14px}.fillcheck .icomoon-close-2:before{float:left;color:blue;position:relative;right:14px;font-size:20px}.MathJax_Display{display:inline!important}[id^="fillmain"] .select{font-size:15px}[id^="fillmain"] .textarea{vertical-align:middle;border-radius:3px;background:#ffe;border:1px solid #ccc;-webkit-box-shadow:inset 0 1px 1px rgba(0,0,0,0.075);box-shadow:inset 0 1px 1px rgba(0,0,0,0.075)}.ui-draggable-disabled{cursor:no-drop!important;opacity:0.5!important}.colorStyle{background-color:#dee2e6!important}',s(F.head,i)),t(this,e,le,ne,n,{showAns:14,stopAuthoringUpdate:15,xml:16,getChildXml:17},[-1,-1])}}function se(e){let t,n;return t=new oe({props:{xml:e[0],getChildXml:e[2],stopAuthoringUpdate:e[3],uxml:e[4],showAns:e[5]}}),{c(){w(t.$$.fragment)},m(e,i){A(t,e,i),n=!0},p(e,n){const i={};1&n&&(i.xml=e[0]),4&n&&(i.getChildXml=e[2]),8&n&&(i.stopAuthoringUpdate=e[3]),16&n&&(i.uxml=e[4]),32&n&&(i.showAns=e[5]),t.$set(i)},i(e){n||(h(t.$$.fragment,e),n=!0)},o(e){f(t.$$.fragment,e),n=!1},d(e){q(t,e)}}}function ce(e){let t,n,i=2==parseInt(e[1].content_icon),l=i&&se(e);return{c(){t=o("main"),l&&l.c()},m(e,i){m(e,t,i),l&&l.m(t,null),n=!0},p(e,[n]){2&n&&(i=2==parseInt(e[1].content_icon)),i?l?(l.p(e,n),2&n&&h(l,1)):(l=se(e),l.c(),h(l,1),l.m(t,null)):l&&(g(),f(l,1,1,(()=>{l=null})),x())},i(e){n||(h(l),n=!0)},o(e){f(l),n=!1},d(e){e&&b(t),l&&l.d()}}}function re(e,t,n){let{xml:i}=t,{editorState:l}=t,{getChildXml:o}=t,{stopAuthoringUpdate:s}=t,{uxml:c}=t,{showAns:r}=t;return e.$$set=e=>{"xml"in e&&n(0,i=e.xml),"editorState"in e&&n(1,l=e.editorState),"getChildXml"in e&&n(2,o=e.getChildXml),"stopAuthoringUpdate"in e&&n(3,s=e.stopAuthoringUpdate),"uxml"in e&&n(4,c=e.uxml),"showAns"in e&&n(5,r=e.showAns)},[i,l,o,s,c,r]}export default class extends e{constructor(e){super(),t(this,e,re,ce,n,{xml:0,editorState:1,getChildXml:2,stopAuthoringUpdate:3,uxml:4,showAns:5})}}
//# sourceMappingURL=ItemPlugin-3ad30a2b.js.map
