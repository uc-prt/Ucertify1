{"version":3,"file":"ShadingPreview-8a4cb4ac.js","sources":["../../../clsSMShadedGrid/ShadingPreview.svelte"],"sourcesContent":["<!--\n *  File Name   : ShadingPreview.svelte\n *  Description : Container for Shading Authoring Module\n *  Author      : Rashmi Kumari\n *  Package     : pe-items\n *  Last update : 05-Feb-2021\n *  Last Updated By : Rashmi Kumari\n-->\n<script>\n    import { onMount, afterUpdate } from \"svelte\";\n    import { XMLToJSON, AH, onUserAnsChange} from '../helper/HelperAI.svelte';\n    import l from '../src/libs/editorLib/language';\n    import ItemHelper from '../helper/ItemHelper.svelte';\n    import \"./css/ShadingStyle.min.css\";\n    export let xml;\n    export let uxml;\n    export let isReview;\n    export let showAns;\n    export let editorState;\n\n    let showSelectedAns = \"\";\n    let ans = [];\n    let ansCheck, userTab = true;\n    let ansNotPerformed;\n    let incorrectCls = \"\";\n    let countRes = \"\";\n    let sizeMultipleIndex = 40;\n    let class_val = 1;\n    let cellIndex, showAnsIndex, locked_cell_values, shaded_cell_values, preview_table, total_row_count;\n    let state = {\n        rowCount: 1,\n        colCount: 4,\n        gridWidth: 80,\n        gridHeight: 80,\n        correctAns: [],\n        correctCount: \"\",\n        userAns: [],\n        shadedCell: [],\n        cellLocked: false,\n        hiddenCell: [],\n        smController: \"h\",\n        itemLayout: [],\n        iconVisible: \"h\",\n        pointerEvents: \"auto\",\n        checkLockCell: \"\",\n        lockedCellValue: \"\",\n        //pointerEvents: \"\"\n    }\n\n    onMount(() => {\n        state.xml = xml;\n        resetValue();\n        if (!uxml) {\n            state.userAns = [];\n        }\n        loadModule(xml);\n        //for future use\n\t\t//let timer = setTimeout(function() {\n\t\t\t//AH.select(\"#special_module_user_xml\").innerText = \"<smans userAns='\" + state.userAns.join() + \"'></smans>\";\n            //new_uxml = \"<smans userAns='\" + state.userAns.join() + \"'></smans>\";\n\t\t\t//clearTimeout(timer);\n\t\t//}, 500);\n    });\n    \n    $: {\n        if (isReview) {\n            setReview(); \n            \n        } else {\n            unsetReview();\n        }\n        if (xml!=state.xml) {\n\t\t\tstate.xml = xml;\n\t\t\tloadModule(xml);\n\t\t}\n        total_row_count = [], preview_table = [];\n\t\tcellIndex;\n\t\tshowAnsIndex;\n\t\tlocked_cell_values = (state.lockedCellValue != undefined && state.lockedCellValue != '') ? state.lockedCellValue.split(',') : '';\n        shaded_cell_values = (state.shadedCell != '') ? state.shadedCell.split(',') : '';\n        //to create grid\n        for (let i = 0; i < state.rowCount; i++) {\n            total_row_count = [\n                ...total_row_count, {\n                    id : 'gridRow_' + i\n                }\n            ];\n            for (let j = 0; j < state.colCount; j++) {\n                cellIndex = (i + \"_\" + j);\n\t\t\t\tif (ans != \"\") {\n\t\t\t\t\tshowAnsIndex = ans.indexOf(cellIndex);\n\t\t\t\t\tshowSelectedAns = (showAnsIndex != -1) ? \"gridSelected\" : \"\";\n\t\t\t\t} else {\n\t\t\t\t\tshowSelectedAns = \"\";\n                }\n                preview_table = [\n                    ...preview_table, {\n                        id: 'p' + cellIndex,\n                        tabindex: (state.pointerEvents == \"auto\") ? \"0\" : \"\",\n                        arialabel: \"Grids row \"+ (i+1) + \" and column \" + (j+1) + \" is selected\",\n                        pevdata: cellIndex,\n                        class: showSelectedAns,\n                        width: parseInt(state.gridWidth) + 'px',\n                        height: parseInt(state.gridHeight) + 'px',\n                        classDetails: getClassDetail(cellIndex,locked_cell_values,shaded_cell_values),\n                        correctAnswerColor: setCorrectAnswerColor(cellIndex),\n                        spanclass: (getCorrect(cellIndex)) ? \"icomoon-24px-correct\" : \"icomoon-24px-close\",\n                        spanarialabel: (getCorrect(cellIndex)) ? (getNotPerformed(cellIndex) ? \"marked as unattempted\" : \"marked as correct\") : \"marked as incorrect\",\n                        spanstyle: (!state.userAns.includes(cellIndex) ? (getNotPerformed(cellIndex) ? \"#222\" : \"\") : ((getCorrect(cellIndex)) ? \"#136d13\" : \"#c30f0f\")),\n                        spandisplay: ((state.iconVisible == \"\" && state.userAns.includes(cellIndex)) || (state.iconVisible == \"\" && !state.userAns.includes(cellIndex) && getNotPerformed(cellIndex))) ? \"block\" : \"none\",\n                        rowno: i,\n                        corrspanclass: (getCorrect(cellIndex)) ? \"icomoon-24px-correct\" : \"\",\n                        corrspanstyle: (getCorrect(cellIndex)) ? \"#136d13\" : \"\",\n                    }\n                ]\n            }\n        }\n    }\n\n    // Set correct answer color\n    function setCorrectAnswerColor(id) {\n\t\t// Return grid Color green for correct answer, red for incorrect answer and grey for not performed\n\t\tansCheck =  (state.iconVisible == \"\" && state.userAns.includes(id)) ? ((getCorrect(id)) ? \" gridCorrect\" : \" gridIncorrect\") : \"\"; \n\t\tansNotPerformed = (state.iconVisible == \"\" && !state.userAns.includes(id)) ? ((getNotPerformed(id)) ? \" gridNotPerformed\" : \"\") : \"\"; \n\t\tansCheck = ansCheck + ansNotPerformed;\n\t\t return ansCheck;\n    }\n    \n    //to show shaded grid according to uxml\n    function parseUserAns(uans) {\n        let userAnswer = XMLToJSON(uans);\n\t\tstate.userAns = userAnswer.smans._userAns.split(\",\");\n        if (userAnswer.smans._userAns) {\n\t\t\tlet user_ans_cell = '#p' + userAnswer.smans._userAns.split(',').join(',#p');\n            AH.selectAll('.shadingPreview .shadingTable td', 'removeClass', \"gridSelected\");\n            AH.selectAll('.shadingPreview .shadingTable td').forEach(function(table_td) {\n                table_td.dataset.grid = \"no\";\n            });\n            AH.selectAll(user_ans_cell, 'addClass', \"gridSelected\");\n            AH.selectAll(user_ans_cell).forEach(function(table_td) {\n                table_td.dataset.grid = \"selected\";\n            });\n\t\t}\n    }\n\n    // loads the module according to the value of question xml and user xml\n    function loadModule(loadXml) {\n        loadXml = XMLToJSON(loadXml);\n        parseXMLPreview(loadXml);\n    }\n\n    // updates the xml after parsing the xml and shows answer\n    function parseXMLPreview(MYXML) {\n\t\ttry {\n                state.rowCount = MYXML.smxml._rowCount;\n                state.colCount = MYXML.smxml._colCount;\n                state.gridWidth = parseInt(MYXML.smxml._cellWidth) * sizeMultipleIndex;\n                state.gridHeight = parseInt(MYXML.smxml._cellHeight) * sizeMultipleIndex;\n                state.correctAns = MYXML.smxml._correctAns.split(\",\");\n                state.correctCount = MYXML.smxml._correctCount;\n                state.cellLocked = MYXML.smxml._lockedCell;\n                state.hiddenCell = MYXML.smxml._hiddenCell;\n                state.shadedCell = MYXML.smxml._shadedCell;\n                state.lockedCellValue = MYXML.smxml._lockedCellValue;\n                setDefaultValues();\n                \n                if (uxml) {\n                    parseUserAns(uxml);\n                }\n\t\t} catch(error) {\n                console.warn({'error':error.message,'function name':'parseXMLPreview','File name':'ShadingPreview.js'});\n        }\n\t}\n\n    //reset the shaded grid and correct grid\n    function resetValue() {\n        state.correctAns = [];\n        state.correctCount = [];\n        state.shadedCell = [];\n    }\n\n    //to check if the shaded grid is correct or not\n    function getCorrect(id) {\n\t\t//Return true if this id is correct answer\n\t\tif (state.correctAns != 0) {\n\t\t\tif (state.correctAns.includes(id)) {\n\t\t\t\treturn true;\n\t\t\t} else {\n\t\t\t\treturn false;\n\t\t\t}\t\n\t\t} else {\n\t\t\tif (state.userAns.length == state.correctCount) {\n\t\t\t\tincorrectCls = \"#136d13\";\n\t\t\t\treturn true;\n\t\t\t} else {\n\t\t\t\tincorrectCls = \"#c30f0f\";\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n    }\n\n    //to check if the correct ans grid is checked or not\n    function getNotPerformed(id) {\n\t\tlet result;\n\t\tif (state.correctAns != 0) {\n\t\t\tresult = ( state.correctAns.includes(id) && !state.userAns.includes(id)) ? true : false;\n\t\t}\n\t\treturn result;\n    }\n\n    // Set lock to author shaded cells\n    function getClassDetail(cellIndex, locked_cell_values, shaded_cell_values) {\n\t\tlet classDetail = '';\n\t\tif (locked_cell_values.indexOf(cellIndex) != -1) {\n\t\t\tclassDetail +=\"lockedGrid \";\n\t\t}\n\t\tif (shaded_cell_values.indexOf(cellIndex) != -1 && class_val == 1) {\n\t\t\tclassDetail +=\"gridSelected\";\n\t\t}\n\t\treturn classDetail;\n    }\n\n    //set default values after loading \n    function setDefaultValues() {\n\t\tlet shadedCell = (state.shadedCell != '') ? '#p' + state.shadedCell.split(',').join(',#p') : '';\n\t\tAH.selectAll('.shadingPreview .shadingTable td', 'removeClass', ['gridSelected', 'lockedGrid']);\n        AH.selectAll('.shadingPreview .shadingTable td').forEach(function(table_td) {\n            table_td.dataset.grid = \"no\";\n        });\n        if (shadedCell != '') {\n            AH.selectAll(shadedCell, 'addClass', 'gridSelected');\n            AH.selectAll(shadedCell).forEach(function(table_td) {\n                table_td.dataset.grid = \"selected\";\n            });\n        }\n        let lockedCell = (state.lockedCellValue != undefined && state.lockedCellValue != '') ? '#p' + state.lockedCellValue.split(',').join(',#p') : '';\n        if (lockedCell != '') {\n            AH.selectAll(lockedCell, 'addClass', 'lockedGrid');\n            AH.selectAll(lockedCell).forEach(function(table_td) {\n                table_td.dataset.grid = \"selected\";\n            });\n        }\n    }\n\n    //function to execute when the grid is clicked\n    function gridClickPreview(e) {\n\t\tlet targetId = e.target.id;\n        class_val--;\n\t\tif ((!AH.select(\".shadingPreview [id='\"+targetId+\"']\").classList.contains(\"lockedGrid\"))) {\n\t\t\tif (!AH.select(\".shadingPreview [id='\"+targetId+\"']\").classList.contains(\"gridSelected\")) {\n                AH.select(\".shadingPreview [id='\"+targetId+\"']\").setAttribute(\"data-grid\", \"selected\");\n                AH.selectAll(\".shadingPreview [id='\"+targetId+\"']\", 'addClass', \"gridSelected\");\n\t\t\t} else {\n                AH.select(\".shadingPreview [id='\"+targetId+\"']\").setAttribute(\"data-grid\", \"no\");\n                AH.selectAll(\".shadingPreview [id='\"+targetId+\"']\", 'removeClass', \"gridSelected\");\n\t\t\t}\n\t\t}\n\n        //state.userAns = userAns;\n        let u_answer = checkAns();\n        if(!editorState) {\n            onUserAnsChange({uXml: state.userxml, ans: u_answer});\n        }\n    }\n\n    //to show correct and user answer \n    function showAnswer(val , iconState) {\n        //show correct incorrect icon with respect to iconState\n        if (iconState == \"showIcon\") {\n            state.iconVisible = \"\";\n        } else {\n            state.iconVisible = \"h\";\n\t\t}\n\t\t\n        //show correct answer and user answer\n        if (val == \"cans\") {\n\t\t\tans = state.correctAns;\n        } else if(val == \"yans\") {\n\t\t\tans = state.userAns;\n\t\t}\n    }\n\n    //to check answer\n    function checkAns() {\n\t\tconst correctLength = state.correctAns.length;\n\t\tlet resultLength = 0;\n\t\tlet resultCountLen = 0;\n        let ans_val = \"\", ans_status = '';\n        state.userAns = [];\n\t\tAH.selectAll('.shadingPreview .shadingTable .gridSelected').forEach(function(value) {\n\t\t\tstate.userAns.push(value.getAttribute(\"pevdata-id\"))\n\t\t});\n        AH.select(\"#special_module_user_xml\").innerText = \"<smans userAns='\"+state.userAns.join()+\"'></smans>\";\n\t\tstate.userxml = \"<smans userAns='\"+state.userAns.join()+\"'></smans>\";\n\n\t\tif (state.correctAns != \"\") {\n\t\t\tstate.correctAns.map(function(data, i) {\n\t\t\t\tstate.userAns.map(function(data2, j) {\n\t\t\t\t\tif (data == data2) {\n\t\t\t\t\t\tresultLength = resultLength + 1;\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t});\n\t\t\t\n\t\t\t//Check if total no. of user answer is equal to correct answer\n\t\t\tif (correctLength == resultLength && resultLength == state.userAns.length) {\n\t\t\t\tans_val = l.correct;\n\t\t\t} else {\n\t\t\t\tans_val = l.incorrect;\n\t\t\t}\n\t\t\tif (typeof calculatePoint != \"undefined\") {\n\t\t\t\tcalculatePoint(state.correctAns.length, resultLength);\n\t\t\t}\n            if (ans_val == 'Incorrect') {\n                ans_status = false;\n            } else {\n                ans_status = true;\n            }\n            if(editorState)  {\n\t\t\t    showAns(ans_val);\n            }\n\t\t}\n\n        if (state.correctCount != \"\" && state.correctAns == \"\") {\n\t\t\tif (state.userAns.length == state.correctCount) {\n\t\t\t\tcountRes = l.correct;\n\t\t\t\tresultCountLen = state.correctCount;\n\t\t\t} else {\n\t\t\t\tcountRes = l.incorrect;\n\t\t\t}\n\t\t\tif (typeof calculatePoint != \"undefined\") {\n\t\t\t\tcalculatePoint(state.correctCount, resultCountLen);\n\t\t\t}\n\t\t\tif(editorState)  {\n\t\t\t    showAns(countRes);\n            }\n\t\t}\n        \n        if(!editorState) {\n            onUserAnsChange({uXml: state.userxml, ans: ans_status});\n        }\n        \n        return ans_status;\n    }\n\n    //if review mode is OFF\n    function unsetReview() {\n        showAnswer(\"yans\", \"hideIcon\");\n        isReview = false;\n        (state.correctCount != \"\" && state.correctAns == \"\") ? AH.selectAll('#correctCountStatus', 'addClass', 'h') : \"\";\n    }\n\n    //if review mode is ON\n    function setReview() {\n        showAnswer(\"yans\", \"showIcon\");\n        isReview = true;\n        checkAns();\n        (state.correctCount != \"\" && state.correctAns == \"\" ) ? AH.selectAll('#correctCountStatus', 'removeClass', 'h') : \"\";\n    }\n\n    //ada\n    function adaKeyupGridClick(e) {\n        if (e.keyCode == 13) {\n            gridClickPreview(e);\n        }\n    }\n\n    //to switch correct ans and your ans tab\n    function handleReviewMode(mode) {\n        if (mode == 'c') {\n            userTab = false;\n        } else if (mode == 'u') {\n            userTab = true;\n        }\n    }\n\n</script>\n<!-- <link onload=\"this.rel='stylesheet'\" rel=\"preload\" as=\"style\" href={editor.baseUrlTheme + \"clsSMShadedGrid/css/ShadingStyle.min.css\"} /> -->\n<div class=\"shadingPreview\">\n    <ItemHelper \n        on:setReview = {setReview}\n        on:unsetReview = {unsetReview}\n        reviewMode={isReview}\n        handleReviewClick = {handleReviewMode}\n    />\n    <table id=\"table\" class=\"table-bordered shadingTable\" style=\"pointer-events: {isReview ? 'none' : ''};\">\n        <tbody>\n            {#if total_row_count && total_row_count.length > 0}\n                {#each total_row_count as val, i}\n                    <tr>\n                        {#if preview_table && preview_table.length > 0}\n                            {#each preview_table as data}\n                                {#if i == data.rowno}\n                                    <td \n                                        id={data.id} \n                                        tabindex={data.tabindex} \n                                        aria-label={data.arialabel} \n                                        data-grid=\"no\" \n                                        pevdata-id={data.pevdata}\n                                        class={`${(isReview && userTab == false) ? '' : data.class} ${data.classDetails} ${(isReview && userTab == false) ? (data.spanclass == 'icomoon-24px-correct' ? 'gridCorrect' : '') : data.correctAnswerColor} gridColor pointer border-dark text-center`}\n                                        on:click={gridClickPreview} \n                                        on:keyup=\"{adaKeyupGridClick}\"\n                                        style=\"width: {data.width}; height: {data.height}; pointerEvents: pointerEvents\"\n                                    >\n                                        {#if isReview}\n                                            {#if userTab == true}\n                                                <span class={state.iconVisible} style=\"display: {data.spandisplay}\">\n                                                    <span class=\"{data.spanclass}\" aria-label=\"{data.spanarialabel}\" style=\"color: {data.spanstyle}\"></span>\n                                                </span>\n                                            {:else}\n                                                <span>\n                                                    <span class=\"{data.corrspanclass}\" aria-label=\"{data.spanarialabel}\" style=\"color: {data.corrspanstyle}\"></span>\n                                                </span>\n                                            {/if}\n                                        {/if}\n                                    </td>\n                                {/if}\n                            {/each}\n                        {/if}\n                    </tr>\n                {/each}\n            {/if}\n        </tbody>\n    </table>\n    <div class=\"h mt-5 text-center\" id=\"correctCountStatus\" style=\"color: {incorrectCls}\">\n        {l.you_were_req_to_select} {state.correctCount} {l.grid_mark_ans_correct}\n    </div>\n</div>"],"names":["ctx","length","id","tabindex","arialabel","pevdata","class","classDetails","spanclass","correctAnswerColor","width","height","corrspanclass","spanarialabel","corrspanstyle","spanstyle","iconVisible","spandisplay","rowno","l","you_were_req_to_select","correctCount","grid_mark_ans_correct","ansCheck","ansNotPerformed","cellIndex","showAnsIndex","locked_cell_values","shaded_cell_values","preview_table","total_row_count","xml","uxml","isReview","showAns","editorState","showSelectedAns","ans","userTab","incorrectCls","countRes","class_val","state","rowCount","colCount","gridWidth","gridHeight","correctAns","userAns","shadedCell","cellLocked","hiddenCell","smController","itemLayout","pointerEvents","checkLockCell","lockedCellValue","loadModule","loadXml","MYXML","smxml","_rowCount","_colCount","parseInt","_cellWidth","_cellHeight","_correctAns","split","_correctCount","_lockedCell","_hiddenCell","_shadedCell","_lockedCellValue","join","AH","selectAll","forEach","table_td","dataset","grid","lockedCell","undefined","setDefaultValues","uans","userAnswer","XMLToJSON","smans","_userAns","user_ans_cell","parseUserAns","error","console","warn","message","function name","File name","parseXMLPreview","getCorrect","includes","getNotPerformed","result","getClassDetail","classDetail","indexOf","gridClickPreview","e","targetId","target","select","classList","contains","setAttribute","u_answer","checkAns","onUserAnsChange","uXml","userxml","showAnswer","val","iconState","correctLength","resultLength","resultCountLen","ans_val","ans_status","value","push","getAttribute","innerText","map","data","i","data2","j","correct","incorrect","calculatePoint","unsetReview","setReview","onMount","keyCode","mode"],"mappings":"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"}