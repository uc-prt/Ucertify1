{"version":3,"file":"HotspotPreview-0de74691.js","sources":["../../../clsSMHotspot/hotspotScript.js","../../../clsSMHotspot/hotspotDrawingScript.js","../../../clsSMHotspot/libs/util.svelte","../../../clsSMHotspot/HotspotPreview.svelte"],"sourcesContent":["import JUI from 'javscript_helper/JUI.js';\nconst JS = new JUI();\nexport default class hotspotScript {\n    constructor() {\n        this.userAnsXML=\"<SMANS></SMANS>\";\n        this.xaxis=[];\n        this.yaxis=[];\n        this.count=0;\n        this.drawstr = \"\"; \n        this.elemId = '#hptmain0';\n        this.labBinded = true;\n        this.result = false;\n        this.temp = 0;\n    }\n    // for initiallization the module\n    readyThis(hid, review, type, correctans) {\n        hid = '#'+hid;\n        if (!review) {\n            this.labBinded = true;\n            const textClickListen = function(event){\n                if (this.labBinded) {\n                    let _this  = event.target, getVal = '';\n                    if (_this.classList.contains('selected')) {\t\n                        _this.getAttribute('data-userans', 0);\n                        _this.classList.remove('selected');\n                    } else {\n                        _this.getAttribute('data-userans',1);\n                        _this.classList.add('selected');\n                    }\n                    JS.find(hid, '[type] .textClick.selected', 'all').forEach(function(v,i) {\n                        if (i==0)\n                            getVal = v.textContent;\n                        else\n                            getVal = getVal + '|' + v.textContent;\n                    });\n                    JS.find(hid, '[type]', {action: 'attr', actionData: {\"data-userans\": getVal} });\n                }\n            }; \n            const textSeelctListen = function(e) {\n                if (this.labBinded) {\n                    let getVal='';\n                    if (e.target?.nodeName == \"SPAN\") {\n                        JS.select(e.target, 'removeClass',['selecttext', 'selected']);\n                        this.removespan(e.target,hid,0);\n                    } else {\n                        this.highlightText(hid);\t\t\t\t\n                    }\n                    JS.find(hid, '[type] .selecttext.selected', 'all').forEach(function(v,i) {\n                        if (i == 0) getVal = v.textContent;\n                        else getVal = getVal + '|' + v.textContent;\n                    });\n                    let found = JS.find(hid, '[type]');\n                    JS.select(found, 'attr', {\"data-userhtml\": found.innerHTML, \"data-userans\": getVal});\n                } \n            }\n            JS.listen(hid, 'touchstart', '.textClick', textClickListen.bind(this));\n            JS.listen(hid, 'touchend', '.textClick', textClickListen.bind(this));\n            JS.listen(hid, 'click', '.textClick', textClickListen.bind(this));\n            JS.listen(hid, 'touchstart', '[type=\"textselect\"]', textSeelctListen.bind(this));\t\n            JS.listen(hid, 'touchend', '[type=\"textselect\"]', textSeelctListen.bind(this));\n            JS.listen(hid, 'click', '[type=\"textselect\"]', textSeelctListen.bind(this));\n        }\n\n    }\n\n    // for checking answer in case of textclick and textselect and also create the user ans on the basis of it and return true if answer is correct\n    check_Ans(hid) {\n        let userAnswers = \"\";\n        let inNativeIsCorrect = false;\n        let sendDataToNative = {\n            inNativeIsCorrect: inNativeIsCorrect,\n            userAnswers: userAnswers,\n        }; \n        this.userAnsXML = \"<smans type='4'>\\\\n\";\n        this.result = true;\n        this.temp = 0;\n        JS.select(hid).children.forEacheach((_elm)=>{\n            this.userAnsXML = this.checkChildAnswer(hid, _elm, this.userAnsXML);\n        });\n        this.userAnsXML += \"</smans>\";\n        window.ISSPECIALMODULEUSERXMLCHANGE = 1;\n       // JS.select(\"#special_module_user_xml\").value = (userAnsXML);\n        sendDataToNative.userAnswers = JS.select(\"#special_module_user_xml\").value;\n        if(typeof calculatePoint != \"undefined\")\n        {\n            calculatePoint(JS.select(hid).getAttribute('totalcorrectans'), temp);\n        }\n        if (window.inNative) {\n            window.getHeight?.();\n            sendDataToNative.inNativeIsCorrect = this.result;\n            window.postMessage(JSON.stringify(sendDataToNative), '*')\n        }\n        return {uxml: userAnsXML, status: result};\n    }\n\n    // checking child answer and return useransxml\n    checkChildAnswer(hid, pElem, userAnsXML) {\n        let _this = pElem.getAttribute('type');\n        switch(_this) {\n            case \"textclick\"  :\n            case \"textselect\" : {\n                var ansKey  = pElem.getAttribute('data-correctans').split('|').sort().join('|');\n                var userKey = pElem.getAttribute('data-userans').split('|').sort();\n                userKey \t= userKey.filter(function(e){ return e });\n                userKey     = userKey.join('|');\n                if (ansKey != userKey) {\n                    this.result = false;\n                }\n                if (typeof calculatePoint != \"undefined\") {\n                    pElem.children.forEach((_elm)=> {\n                        if (_elm.classList.contains('selected') && _elm.getAttribute(\"data-userans\") == _elm.getAttribute(\"data-correctans\")) {\n                            this.temp++;\n                        }\n                    });\n                }\n                if (_this =='textselect') {\n                    this.userAnsXML += `<div id=\"${pElem.getAttribute('id')}\" data-userHtml=\"${escape(pElem.getAttribute('data-userhtml'))}\" data-userAns=\"${escape(pElem.getAttribute('data-userans'))}\"></div>\\\\n`;\n                } else {\n                    this.userAnsXML += `<div id=\"${pElem.getAttribute('id')}\" data-userAns=\"${escape(pElem.getAttribute('data-userans'))}\"></div>\\\\n`;\n                }\n                break;\n            }\n        }\n        return this.userAnsXML;\n    }\n\n    // for showing the answer\n    showansdrag(hid, ansType, review) {\n        if (typeof review === \"undefined\") review = 0;\n        JS.select(hid).children?.forEach?.((_elm)=> {\n            this.showchilddragans(hid, _elm, ansType, review);\n        });\n    }\n\n    // for showing the answer of child element\n    showchilddragans(hid, pElem, ansType, review) {\n        let hidNode = JS.select(pElem);\n        let typ = hidNode.getAttribute('type');\n        switch (typ) {\n            case \"textclick\": {\n                if (ansType == 'c') {\t\n                    if (JS.find(hidNode, '.show_correct,.show_incorrect', 'all').length > 0) {\n                        JS.find(hidNode, '.show_correct,.show_incorrect', {action: 'removeClass', actionData: ['show_correct', 'show_incorrect'] });\n                        JS.find(hidNode, '.correct_incorrect_icon', {action: 'remove'})\n                        JS.find(hidNode, '.correct_incorrect_icon', {action: 'removeAttr', actionData: 'style'});\n                    }\n                    let ansKey = pElem.getAttribute('data-correctans').split('|');\n                    var type   = pElem.getAttribute('type');\n                    ansKey.forEach((value)=> {\t\t\t\n                        this.selectText(hid, value, ansType, 'selected');\n                    });\n                } else if (ansType == 'u') {\t\n                    let type = pElem.getAttribute('type');\n                    try {\n                        var userans = decodeURIComponent(pElem.getAttribute('data-userans'));\n                    } catch(err) {\n                        var userans = decodeURIComponent(unescape(pElem.getAttribute('data-userans')));\n                    }\n                    userans = userans.split('|');\n                    userans = userans.filter(function(e){return e});\n                    \n                    if ((typeof review != \"undefined\" && review == 1)) {\n                        JS.find(hid, '.selected', {action: 'removeClass', actionData: 'selected'});\n                        var ansKey  = pElem.getAttribute('data-correctans').split('|');\n                        userans.forEach((value)=> {\n                            let classname='show_incorrect';\n                            if (JS.findInArray(value, ansKey)) {\n                                classname = 'show_correct';\t\t\t\t\t\n                                this.selectText(hid, value, ansType, classname);\t\t\t\t\n                            } else {\n                                this.selectText(hid, value, ansType, classname);\n                            }\n                        });\n                    } else {\n                        userans.forEach((value)=> {\t\t\t\n                            this.selectText(hid,value,'c','selected');\n                            JS.select (hid+\" p span\").remove();\n                            JS.select(\".textClick\", 'removeClass',['show_incorrect', 'show_correct']);\n                        });\t\t\n                    }\n                }\n            }\n            break;\n            case \"textselect\"  : {\n                if (ansType == 'c') {\n                    if (JS.find(hidNode, '.show_correct,.show_incorrect').length > 0) {\n                        JS.find(hidNode, '.show_correct,.show_incorrect', {action: 'removeClass', actionData: ['show_correct', 'show_incorrect']});\n                        JS.find(hidNode, '.correct_incorrect_icon', {action: 'removeAttr', actionData: 'style'});\n                    }\n                    var ansKey = pElem.getAttribute('data-correctans').split('|');\n                    var type = pElem.getAttribute('type');\n                    JS.select(pElem, 'html', pElem.getAttribute('data-correcthtml').replace(/<span>/g,\"</span>\") );\n                } else if (ansType == 'u') {\t\n                    var type = pElem.getAttribute('type');\n                    try {\n                        var userans = decodeURIComponent(pElem.getAttribute('data-userans'));\n                    } catch(err) {\n                        var userans = decodeURIComponent(unescape(pElem.getAttribute('data-userans')));\n                    }\n                    userans = userans.split('|');\n                    userans = userans.filter(function(e){return e});\n                    if (pElem.getAttribute('data-userhtml') != \"\" || pElem.getAttribute('data-userhtml') == \"undefined\") {\n                        var _htmlContent = pElem.getAttribute('data-userhtml');\n                        try {\n                            _htmlContent = decodeURIComponent(_htmlContent );\n                            var decodedHtmlContent = decodeURIComponent(_htmlContent );\n                        } catch(err) {\n                            console.log(err); \n                        } \n                        JS.select(pElem, 'html', decodedHtmlContent);\n\n                    }\n                    if ((typeof review != \"undefined\" && review == 1)) {\n                        let text_indicator_html = '<span class=\"icomoon-new-24px-checkmark-circle-1 font-weight-bold\" style=\"color:green;vertical-align:super;\">';\n                        let text_indicator_html1 = '<span class=\"icomoon-new-24px-cancel-circle-1 font-weight-bold red\" style=\"vertical-align: super;\">';\n                        JS.insert(pElem.querySelector('span[userans=\"1\"]span[correctans=\"1\"]'), '<span class=\"correct_incorrect_icon\" style=\"position:absolute;z-index:100;width:18px;height:18px;bottom:17px;background:white;border-radius:12px;font-size: 18px;\"> '  + text_indicator_html + '</span></span>', 'beforeend');\n                        JS.insert(pElem.querySelector('span[userans=\"1\"]span[correctans=\"0\"]'), '<span class=\"correct_incorrect_icon\" style=\"position:absolute;z-index:100;width:18px;height:18px;bottom:17px;background:white;border-radius:12px;font-size: 18px;\"> '  + text_indicator_html1 + '</span></span>', 'beforeend');\t\n                    }\n                }\n                break;\n            }\n            case \"imagehighlight\": {\n                let el = JS.find(hid, 'canvas');\n                let getAns = JS.select('#special_module_parse').value;\n                let cans = getAns.substring(getAns.indexOf('{'),getAns.lastIndexOf('}')+1);\n                if ( cans != '') cans = JSON.parse(cans); \n                this.drawOnCanvas(el, cans, window.color);\n                if (ansType == 'c') { \n                    let pts = el.getAttribute('correctans');\n                    if ( pts != '') pts = JSON.parse(pts);\n                    this.drawOnCanvas(el, pts, 'green');\n                }\n                break;\n            } \n        } \n    }\n\n    calculateArea(hid, xaxis, yaxis) {\n        let hotareaTop    = Math.min.apply(Math, yaxis),\n            hotareaLeft   = Math.min.apply(Math, xaxis),\n            hotareaWidth  = Math.max.apply(Math, xaxis) - Math.min.apply(Math, xaxis),\n            hotareaHeight = Math.max.apply(Math, yaxis) - Math.min.apply(Math, yaxis);\n        return {\n            top: hotareaTop,\n            left: hotareaLeft,\n            width: hotareaWidth,\n            height: hotareaHeight\n        }\n    }\n\n    // function is responsible for getting the value and create the user ans on the basis of it in case of imagehighlight\n    getCoordinate(hid, xaxis, yaxis, count){\n        if (count == 0){\n            this.drawstr = \"{\\\"\" + (++count) + \"\\\":{\\\"x\\\":[\" + xaxis + \"],\\\"y\\\":[\" + yaxis + \"]}}\";\n        } else {\n            this.drawstr = JS.select('#special_module_parse').value;\n            this.drawstr = drawstr.substring(drawstr.indexOf('{'),drawstr.lastIndexOf('}')+1);\n            this.drawstr = drawstr.slice(0, -1);\n            //for adding the next draw point\n           this.drawstr += \",\\\"\" + (++count) + \"\\\":{\\\"x\\\":[\" + xaxis + \"],\\\"y\\\":[\" + yaxis + \"]}}\";\n        }\n        JS.selectAll(JS.select(hid).children, 'attr', {'userans': this.drawstr });\n        // for user ans\n        this.createUserAnsXMLDraw(this.drawstr);\n        return this.userAnsXML;\n    }\n\n    update_HTMLValue(){\n        let xmlDom \t\t= JS.parseHtml(JS.select(\"#special_module_xml\").value);\n        let bgimg = \"\", path = \"\";\n        if( xmlDom) {\n            for (let _attr of xmlDom.attributes) {\n                switch(na_attr.nameme){\n                    case \"bgimg\":\n                        bgimg = _attr.value;\n                        break;\n                    case \"path\":\n                        path  = _attr.value;\n                        break;\n                    default:\n                }\n            }\n        }\n        let element = JS.children(xmlDom, 'div');\n        let top1 \t= element.getAttribute(\"top\");\n        let left \t= element.getAttribute(\"left\");\n        let width \t= element.getAttribute(\"width\");\n        let height \t= element.getAttribute(\"height\");\n        JS.select('#area', 'css', {height: height, top: top1, width: width, left: left});\n        if (bgimg && path) JS.select('#im', 'attr', {src: path + \"/\" + bgimg});\n    }\n\n    // runs in cas of spot an image and create the user ans xml\n    movetarget(tObj, hObj, e) {\n        let scoreFlag;\n        //let targettop,targetleft;\n        tObj.style.display = '';\n        if ((!window.event) && (e.layerX)) {\n            tObj.style.top = e.layerY - (tObj.height /2) + \"px\";\n            tObj.style.left = e.layerX - (tObj.width /2) + \"px\" ;\n        } else {\n            tObj.style.top = e.offsetY - (tObj.height /2) + \"px\" ;\n            tObj.style.left = e.offsetX - (tObj.width /2) + \"px\" ;\n        }\n        // checking answer\n        scoreFlag = this.checkmodule(tObj, hObj);\n\n        // creating user ans xml\n        this.createUserAnsXML(tObj.style.top, tObj.style.left);\n        let obj = document.getElementById(\"special_module_user_xml\");\n        obj.value = this.userAnsXML;\n        obj = document.getElementById(\"answer\");\n        if (scoreFlag>0) {\n            obj.checked=true;\n        } else {\n            obj.checked=false;\n        }\n        if (typeof calculatePoint != \"undefined\") {\n            this.temp = (scoreFlag == 1) ? true : false;\n            calculatePoint(1, scoreFlag);\n        }\n    }\n\n    // user ans xml in case of imagehighlight\n    createUserAnsXMLDraw(userAns) {\n        this.userAnsXML = '<SMANS type=\"4\"><div userans=\"'+userAns+'\"></div></SMANS>';\n    }\n\n    createUserAnsXML(targetTop,targetLeft) {\n        this.userAnsXML = '<SMANS type=\"4\"><div targetTop=\"'+parseInt(targetTop)+'\" targetLeft=\"'+parseInt(targetLeft)+'\" /></SMANS>';\n    }\n\n    // functions runs in case of the spot an image  module it check the user point is in between the correct answer or not and return 1 if userans is correct\n    checkmodule(tObj,hObj) {\n        let yourScore=0;\n        if (((parseInt(tObj.style.top) + (tObj.height /2) ) >= (parseInt(hObj.style.top))) && ((parseInt(tObj.style.top)  + (tObj.height /2) ) <= (parseInt(hObj.style.top) + parseInt(hObj.style.height)))) {\n            if (((parseInt(tObj.style.left) + (tObj.width /2)) >= (parseInt(hObj.style.left))) && ((parseInt(tObj.style.left) + (tObj.width /2) ) <= (parseInt(hObj.style.left) + parseInt(hObj.style.width)))) {\n                yourScore=1;\n            }\n        }\n        return yourScore;\n    }\n\n    // for drawing n the canvas on the basis of the coordinates\n    drawOnCanvas(el,cord,color) {   // checking for if elemnt is exist or not \n        if (el) {\n            // getting the element reference\n            let c = (el.toString().indexOf('d') != 0) ? document.getElementById(el.getAttribute('id')) : document.getElementById(el);\n            // initilaising the getContext Method if c is not null\n            let ctx = (c != null) ? c.getContext(\"2d\") : '';\n\n            // getting length of the keys available in the object\n            let len = Object.keys(cord).length;\n\n            // drawing on the canvas\n            if (cord!='' && ctx!='') {\n                //let cal = [];\n                for (let i = 1; i <= len ; i++) {\n                    for (let j = 0; j <= cord[i]['x'].length; j++) {\n                        ctx.beginPath();              \n                        ctx.lineWidth   = \"4\";\n                        ctx.strokeStyle = color;\n                        ctx.moveTo(cord[i]['x'][j], cord[i]['y'][j]);\n                        ctx.lineTo(cord[i]['x'][j+1], cord[i]['y'][j+1]);\n                        ctx.stroke();\n                    }\n                }\n            }\n        }\n    }\n\n    // for comparing answer in case of draw highlight\n    compareDrawing(uans,cans,hid) {\n        let scoreFlag=0;\n        let uval  = this.getAreaVal(uans),\n            cval  = this.getAreaVal(cans),\n            cflag = 0, temp  = 0,\n            clen  = Object.keys(cval).length,\n            ulen  = Object.keys(uval).length;\n        for (let i = 1; i <= clen; i++) {\n           // msg = 'INCorrect Drawn';\n            for(let j = 1; j <= ulen; j++) {\n                if(uval[j]['height'] <= cval[i]['height'] && uval[j]['width'] <= cval[i]['width'] ) {\n                    if(uval[j]['top'] >= cval[i]['top'] && (cval[i]['left'] + cval[i]['width']) - (uval[j]['left'] + uval[j]['width']) >=0) {\n                        if(uval[j]['left'] >= cval[i]['left'] && (cval[i]['top'] + cval[i]['height']) - (uval[j]['top'] + uval[j]['height']) >=0) {\n                            cflag++;\n                            break;\n                        }\n                    }\n                }\n            }\n            if (typeof calculatePoint != \"undefined\") {\n                if (i == cflag) temp++;\n                calculatePoint(JS.select(hid).getAttribute('totalcorrectans'), temp);\n            }\n        }\n        if (clen == cflag && clen==ulen) {\n            //msg ='Correct Drawn';\n            scoreFlag =1;\t\n        } \n        return scoreFlag;\n    }\n\n    // for getting area val\n    getAreaVal(coordinate) {\n        let len = Object.keys(coordinate).length;\n        if (coordinate!='') {\n            let cordval = [];\n            for (let i = 1; i <= len ; i++) {\n                cordval[i]= this.calculateArea('',coordinate[i]['x'],coordinate[i]['y']);\n            }\n            return cordval;\n        }\n    }\n\n    // for the selection of text\n    selectText(hid, value, ansType, classname) {\n        JS.selectAll(hid+' p').forEach((_elm)=> {\n            if (_elm.textContent.trim() == value) {\n                _elm.classList.add(classname);\n                if(ansType=='u') {\n                    let text_indicator_html;\n                    if (classname=='show_correct'){\n                        text_indicator_html = '<span class=\"icomoon-new-24px-checkmark-circle-1 font-weight-bold\" style=\"color:green;vertical-align:7px\">';\t\t\t\t\t\n                    } else {\n                        text_indicator_html = '<span class=\"icomoon-new-24px-cancel-circle-1 font-weight-bold red\" style=\"vertical-align:7px\">';\t\t\t\t\t\n                    }\n                    JS.insert(_elm, '<span class=\"correct_incorrect_icon\" style=\"position:absolute;z-index:100;width:18px;height:18px;bottom:16px;background:white;border-radius:12px;font-size: 18px;\"> '  + text_indicator_html + '</span></span>');\n                }\n            }\t\t\n        });\n    }\n\n    // for highlighting the text\n    highlightText(hid) {\n        if (this.getSelected().getRangeAt(0).endOffset != 0) {\n            this.snapSelectionToWord();\n            let selectionRange = this.getSelected().getRangeAt(0),\n                start = selectionRange.startOffset,\n                ans   = JS.find(hid, '[type]').getAttribute('data-correctans').split('|');\n                var selection = selectionRange.toString();\n                selection = selection.trim();\n            if (selection) {\n                let cans   = JS.findInArray(selection,ans) ? 1 : 0 ;\n                this.pasteHtmlAtCaret(\"<span class='selecttext selected' correctans=\"+cans+\" userans='1'>\"+selection+\"</span> \");   \n            }\n        }\n    }\n\n    // for getting selection text\n    snapSelectionToWord() {\n        let sel;\n        // Check for existence of window.getSelection() and that it has a\n        // modify() method. IE 9 has both selection APIs but no modify() method.\n        if (window.getSelection && (sel == window.getSelection()).modify) {\n            sel = window.getSelection();\n            if (sel != '' && !sel.isCollapsed) {\n                // Detect if selection is backwards\n                var range = document.createRange();\n                range.setStart(sel.anchorNode, sel.anchorOffset);\n                range.setEnd(sel.focusNode, sel.focusOffset);\n                var backwards = range.collapsed;\n                range.detach();\n\n                // modify() works on the focus of the selection\n                var endNode = sel.focusNode, endOffset = sel.focusOffset;\n                sel.collapse(sel.anchorNode, sel.anchorOffset);\n                if (backwards) {\n                    if(JS.findInArray(sel.anchorNode.textContent.charAt(sel.anchorOffset-1),[\",\",\".\",\"!\",\"?\",\";\",\")\",\"}\"])) { \n                        sel.modify(\"move\", \"backward\", \"character\");\n                        sel.modify(\"move\", \"forward\", \"word\");\n                    }\n                    sel.extend(endNode, endOffset);\n                    sel.modify(\"extend\", \"forward\", \"character\");\n                    sel.modify(\"extend\", \"backward\", \"word\");\n                } else {\n                    sel.modify(\"move\", \"forward\", \"character\");\n                    sel.modify(\"move\", \"backward\", \"word\");\n                    sel.extend(endNode, endOffset);\n                    if(JS.findInArray(sel.anchorNode.textContent.charAt(endOffset-1),[\",\",\".\",\"!\",\"?\",\";\",\")\",\"}\"])) { \n                        sel.modify(\"extend\", \"backward\", \"character\");\n                        sel.modify(\"extend\", \"forward\", \"word\");\n                    }\n                } \n            }\n        } else if ( (sel == document.selection) && sel.type != \"Control\") {\n            let textRange = sel.createRange();\n            if (textRange.text) {\n                textRange.expand(\"word\");\n                // Move the end back to not include the word's trailing space(s), if neccessary\n                while (/\\s$/.test(textRange.text)) {\n                    textRange.moveEnd(\"character\", -1);\n                }\n                textRange.select();\n            } \n        }\n    }\n\n    // for pasting the html at caret position\n    pasteHtmlAtCaret(html) {\n        let sel, range;\n        if (window.getSelection) {\n            // IE9 and non-IE\n            sel = window.getSelection();\n            if (sel.getRangeAt && sel.rangeCount) {\n                range = sel.getRangeAt(0);\n                range.deleteContents();\n                // Range.createContextualFragment() would be useful here but is\n                // only relatively recently standardized and is not supported in\n                // some browsers (IE9, for one)\n                var el = document.createElement(\"div\");\n                el.innerHTML = html;\n                var frag = document.createDocumentFragment(), node, lastNode;\n                while ( (node = el.firstChild) ) {\n                    lastNode = frag.appendChild(node);\n                }\n                range.insertNode(frag);\n\n                // Preserve the selection\n                if (lastNode) {\n                    range = range.cloneRange();\n                    range.setStartAfter(lastNode);\n                    range.collapse(true);\n                    sel.removeAllRanges();\n                    sel.addRange(range);\n                } \n            }\n        } else if (document.selection && document.selection.type != \"Control\") {\n            // IE < 9\n            document.selection.createRange().pasteHTML(html);\n        }\n    }\n\n    // for getting seletion\n    getSelected() {\n        if (window.getSelection) {\n            return window.getSelection();\n        } else if(document.getSelection) {\n            return document.getSelection();\n        } else {\n            var selection = document.selection && document.selection.createRange();\n            if (selection.text) { return selection.text; }\n            return false;\n        }\n    }\n\n    // for removing span element\n    removespan(span, hid, review) {\n        let span_contents = span.innerHTML;\n        let regex = new RegExp('<\\\\/?span[^>]*>', 'g');\n        span_contents = span_contents.replace(regex, \"\");\n        span.parentNode.replaceChild(document.createTextNode(span_contents), span);\n        if (!review) JS.find(hid, '[type]', {action: 'html', actionData: JS.find(hid, '[type]').innerHTML });\n    }\n\n    /* ajax based code */\n    modeOnHot(modeType) {\n        if (typeof(modeType) == \"undefined\") {\n            //modeType = isReview;\n        }\n        JS.selectAll('.test, .review', 'addClass', 'h');\n        if (modeType) {\n            JS.selectAll('.review', 'removeClass', 'h');\n            this.unBindLab();\n            this.showansdrag(this.elemId, 'u', 1);\n        } else {\n            JS.selectAll('.test', 'removeClass', 'h');\n            JS.selectAll('.review', 'addClass', 'h');\n            this.bindLab();\n            this.showansdrag(this.elemId, 'u', 0);\n        }\n    }\n\n    // for unbinding lab\n    unBindLab() {\n        this.labBinded = false;\n        JS.find(this.elemId, '.hotArea0.hotArea', {action: 'css', actionData: {display: 'block'} });\n        JS.find(this.elemId, '.hotSpotImg', {action: 'css', actionData: {pointerEvents: 'none'} });\n    }\n\n    // for binding the lab\n    bindLab() {\n        this.labBinded = true;\n        JS.find(this.elemId, '.hotArea0.hotArea', 'css', {display: 'none'});\n        JS.find(this.elemId, '.hotSpotImg', 'css', {pointerEvents: 'auto'});\n    }\n\n    /* ajax based code */\n}","import JUI from 'javscript_helper/JUI.js';\nfunction Point(a, b) {\n    if (true === isNaN(Number(a))) {\n        this.x = 0;\n    } else {\n        this.x = a;\n    }\n    if (true === isNaN(Number(b))) {\n        this.y = 0;\n    } else {\n        this.y = b;\n    }\n    return {\n        \"X\": this.x,\n        \"Y\": this.y\n    };\n}\nconst JS = new JUI();\nexport default class DooScribPlugin {\n\tconstructor(options) {\n\t\tthis.prevPoint = undefined;\n\t\tthis.defaultOptions = {\n\t\t\ttarget: \"\",\n\t\t\tpenSize:1,\n\t\t\twidth: options.width,\n\t\t\theight: options.height,\n\t\t\tcssClass: '',\n\t\t\tonClick: (e)=> {},\n\t\t\tonMove: (e)=> {},\n\t\t\tonPaint: (e)=> {},\n\t\t\tonRelease: (e)=> {}\n\t\t};\n\t\tthis.penWidth = 2;\n\t\tthis.drawing = false;\n\t\tthis.cap = 'round';\n\t\tthis.ID = 'dooScribCanvas' + Math.floor((Math.random()*100) + 1);\n\t\tthis.drawingSurface = \"\";\n\t\tif (options) this.Settings = {...this.defaultOptions, ...options};\n\t\tconsole.log(this.Settings);\n\t\tif (true === isNaN(this.Settings.height)) {\n\t\t\tthis.Settings.height = 100;\n\t\t}\n\t\tif (true === isNaN(this.Settings.width)){\n\t\t\tthis.Settings.width = 100;\n\t\t}\n\n\t\tthis.init();\n\t}\n\n\tinit() {\n\t\tlet _this = this.Settings.target;\n\t\tif (_this) {\n\t\t\tif (_this.getAttribute('id') == \"hptmain0\")  JS.empty(_this);\n\t\t\tJS.insert(_this, `<canvas id='${this.ID}' tabindex='0' class='relative ${this.Settings.cssClass}' type='${this.Settings.type}' correctans='${this.Settings.correctans}' userans=''  height='${this.Settings.height}' width='${this.Settings.width}'></canvas>`, 'beforeend');\n\t\t    this.penSize(this.Settings.penSize);\n\t\t    this.drawingSurface = document.getElementById(this.ID).getContext('2d');\n\t\t    this.drawingSurface.lineWidth = this.penSize();\n\t\t    this.drawingSurface.lineCap = this.cap;\n\t\t    if (false === this.hasTouch()) {\n\t\t        document.getElementById(this.ID).addEventListener('mousedown', this.clickDown.bind(this), true);\n\t\t        document.getElementById(this.ID).addEventListener('mousemove', this.moved.bind(this), true);\n\t\t        document.getElementById(this.ID).addEventListener('mouseup', this.clickUp.bind(this), true);\n\t\t    }\n\t\t    else {\n\t\t        document.getElementById(this.ID).addEventListener('touchstart', this.clickDown.bind(this), true);\n\t\t        document.getElementById(this.ID).addEventListener('touchmove', this.moved.bind(this), true);\n\t\t        document.getElementById(this.ID).addEventListener('touchend', this.clickUp.bind(this), true);\n\t\t    }\n\t\t} else {\n\t\t\tconsole.error(\"Target not defined\");\n\t\t}\n\t}\n\n\tnormalizeTouch(e) {\n\t\tif (true === this.hasTouch()) {\n\t\t\tlet st = window.scrollY;\n\t\t\tif (['touchstart', 'touchmove'].indexOf(e.type) > -1) {\n\t\t\t\te.clientX = e.targetTouches[0].pageX;\n\t\t\t\te.clientY = e.targetTouches[0].pageY - st;\n\t\t\t}\n\t\t\tif (['touchend'].indexOf(e.type) > -1) {\n\t\t\t\te.clientX = e.changedTouches[0].pageX;\n\t\t\t\te.clientY = e.changedTouches[0].pageY - st;\n\t\t\t   }\n\t\t}\n\t\treturn e;\n\t}\n\n\tclickDown(e) {\n\t\tif (true === this.isDrawing()) {\n\t\t\treturn;\n\t\t}\n\t\tif (!e) {\n\t\t\te = window.event;\n\t\t}\n\t\tif (true === this.hasTouch()) {\n\t\t\te.preventDefault();\n\t\t\te = this.normalizeTouch(e);\n\t\t}\n\t\tlet offset = JS.offset(this.Settings.target);\n\t\tlet st = window.scrollY;\n\t\tlet pt = new Point(e.clientX - offset.left, e.clientY - (offset.top-st));\n\t\tthis.prevPoint = pt;\n\t\tthis.drawing = true;\n\t\tthis.Settings.onClick(pt);\n\t\treturn false;\n\t}\n\t\n\tmoved(e) {\n\t\tif (!e) {\n\t\t\te = window.event;\n\t\t}\n\t\tif (true === this.hasTouch()) {\n\t\t\te.preventDefault();\n\t\t\te = this.normalizeTouch(e);\n\t\t}\n\t\tvar offset = JS.offset(this.Settings.target);\n\t\tvar st = window.scrollY;\n\t\tvar pt = new Point(e.clientX - offset.left, e.clientY - (offset.top-st));\n\t\tif (true === this.isDrawing()) {\n\t\t\tthis.drawLine(this.prevPoint.X, this.prevPoint.Y, pt.X, pt.Y);\n\t\t\tthis.prevPoint = pt;\n\t\t\tthis.Settings.onPaint(pt);\n\t\t}\n\t\telse {\n\t\t\tthis.Settings.onMove(pt);\n\t\t}\n\t\treturn false;\n\t}\n\t\n\tclickUp(e) {\n\t\tif (false === this.isDrawing()) {\n\t\t\treturn;\n\t\t}\n\t\tif (true === this.hasTouch()) {\n\t\t\te.preventDefault();\n\t\t\te = this.normalizeTouch(e);\n\t\t}\n\t\tlet offset = JS.offset(this.Settings.target);\n\t\tlet st = window.scrollY;\n\t\tlet pt = new Point(e.clientX - offset.left, e.clientY - (offset.top-st));\n\t\tthis.Settings.onRelease(pt);\t\t    \n\t\tthis.drawing = false;\n\n\t\treturn false;\t\t\t\n\t}\n\n\thasTouch() {\n\t\treturn 'ontouchstart' in window;\n\t}\n\n\tpenSize (e) {\n\t\tif (undefined !== e){\n\t\t\tif (false === isNaN(Number(e))) {\n\t\t\t\tthis.penWidth = e;\n\t\t\t}\n\t\t}\n\t\treturn this.penWidth;\n\t}\n\n\tisDrawing () {\n\t\tif (this.Settings.editable)\n\t\t\treturn this.drawing;\n\t}\n\n\tlineCap(e) {\n\t\tif (undefined !== e) {\n\t\t\tswitch(e){\n\t\t\t\tcase 'butt':\n\t\t\t\tcase 'round':\n\t\t\t\tcase 'square':\n\t\t\t\t\tthis.cap = e;\n\t\t\t\t\tbreak; \n\t\t\t}\n\t\t}\n\t\treturn this.cap;\n\t}\n\n\t//window.color = \"#000000\";\n\tlineColor(e) {\n\t\tif(undefined !== e) {\n\t\t\tlet a = JS.parseHtml(\"<div id='stub' style='backgroundColor:white'></div>\");\n\t\t\ta.style.backgroundColor = e;\n\t\t\tlet b = a.style.backgroundColor\n\t\t\tif ((undefined !== b) && ('' !== b)) {\n\t\t\t\twindow.color = e;\n\t\t\t}\n\t\t}\n\t\treturn window.color;\n\t}\n\n\tcontext() {\n\t\treturn this.drawingSurface;\n\t}\n\n\tclearSurface() {\n\t\tlet width = JS.find(document, 'canvas').getAttribute('width').replace('px','');\n\t\tlet height = JS.find(document, 'canvas').getAttribute('height').replace('px','');\n\t\tthis.drawingSurface.clearRect(0, 0,width,height);\n\t}\n\t\n\tdrawLine(fromX, fromY, toX, toY) {\n\t\tif ((undefined !== fromX) && (undefined !== fromY) && (undefined !== toX) && (undefined !== toY)) {\n\t\t\tif((false === isNaN(Number(fromX))) && (false === isNaN(Number(fromY))) && (false === isNaN(Number(toX))) && (false === isNaN(Number(toY)))) {\n\t\t\t\tthis.drawingSurface.lineCap = this.cap;\t    \n\t\t\t\tthis.drawingSurface.strokeStyle = window.color;\t\t\n\t\t\t\tthis.drawingSurface.lineWidth = this.penWidth;\n\t\t\t\tthis.drawingSurface.beginPath();\t\t\t\t    \n\t\t\t\tthis.drawingSurface.moveTo(fromX, fromY);\t\t\t\t\t\n\t\t\t\tthis.drawingSurface.lineTo(toX, toY);\n\t\t\t\tthis.drawingSurface.stroke();\n\t\t\t}\n\t\t}\n\t}\n}","<script context=\"module\">\n    function checkmodule(targetData) {\n        let yourScore = 0;\n        let ansDivHeight = targetData.ans_top + targetData.ans_h;\n        let ansDivWidth = targetData.ans_left + targetData.ans_w;\n        if (targetData.top > targetData.ans_top && targetData.top < ansDivHeight && targetData.left > targetData.ans_left && targetData.left < ansDivWidth) {\n            yourScore = 1;\n        }\n        return yourScore;\n    }\n\n    function createUserAnsXML(targetTop,targetLeft) {\n        return '<SMANS type=\"4\"><div targetTop=\"'+parseInt(targetTop)+'\" targetLeft=\"'+parseInt(targetLeft)+'\" /></SMANS>';\n    }\n    export function movetarget(e, ans_h, ans_w, ans_left, ans_top) {\n        // let tObj = document.getElementById('target')[0];\n        // let hObj = document.getElementById('hotArea')[0];\n        let scoreFlag;\n        let targetData = {x: e.layerX, y: e.layerY, top: 0, left : 0, uXml: \"\", ans: false, ans_h, ans_w, ans_left, ans_top};\n        if (e.layerX && e.layerY) {\n            targetData.top = e.layerY - 13;\n            targetData.left = e.layerX - 13;\n        } else {\n            targetData.top = e.offsetY - 13;\n            targetData.left = e.offsetX - 13;\n        }\n        // checking answer\n        scoreFlag = checkmodule(targetData);\n\n        // creating user ans xml\n        targetData.uXml = createUserAnsXML(targetData.top, targetData.left);\n        if (typeof calculatePoint != \"undefined\") {\n            temp = (scoreFlag == 1) ? 1 : 0;\n            calculatePoint(1, temp);\n        }\n\n        if (scoreFlag > 0) {\n            targetData.ans = true;\n        } else {\n            targetData.ans = false;\n        }\n\n        return targetData;\n    }\n</script>","<script>\n\timport { onMount, beforeUpdate } from 'svelte';\n\timport hotspotScript from './hotspotScript.js';\n\timport DooScribPlugin from './hotspotDrawingScript.js';\n\timport { XMLToJSON, onUserAnsChange, AH } from '../helper/HelperAI.svelte';\n\timport ItemHelper from '../helper/ItemHelper.svelte';\n\timport {movetarget} from './libs/util.svelte';\n\timport { writable } from 'svelte/store';\n\texport let xml;\n\texport let uxml;\n\texport let ansStatus;\n\texport let isReview;\n\texport let showAns;\n\texport let editorState;\n\n\tconst HotJS = new hotspotScript();\n\tlet parseXml = \"\";\n\tlet bgImgPath = '//s3.amazonaws.com/jigyaasa_content_static/';\n\tlet alt = \"\";\n\tlet moduleArr = {\n\t\ttextclick: \"1\",\n\t\ttextselect: \"2\",\n\t\timagehighlight: \"3\",\n\t\thotspot: \"4\",\n\t};\n\tlet state = {};\n\tlet hdd = writable({\n\t\timgwidth: \"auto\",\n\t\timgheight: \"auto\",\n\t})\n\tlet itemBorder = 0;\n\tlet itemBorderColor = \"gray\";\n\tlet isUxmlTarget = false;\n\tlet itemAreaTop = '';\n\tlet itemAreaHeight = '';\n\tlet itemAreaWidth = '';\n\tlet itemAreaLeft = '';\n\tlet targetLeft \t\t= 100;\n\tlet targetTop \t\t= 100;\n\tlet targetView      = \"none\";\n\tlet ans_x \t\t\t= 0;\n\tlet ans_y \t\t\t= 0;\n\tlet ans_h \t\t\t= 0;\n\tlet ans_w \t\t\t= 0;\n\tlet type\t\t\t= \"\";\n\tlet img_url \t\t= \"\";\n\tlet manual_grade \t= 0;\n\tlet onError\t\t\t= null; \n\tlet item_type       = \"\";\n\tlet xmlHeight       = 0;\n\tlet xmlWidth        = 0;\n\tlet userCorrect     = \"\";\n\tlet correctans\t\t= \"\";\n\tlet totalCorrectAns;\n\tlet scrollEnabled   = false;\n\tlet linecolor = \"black\";\n\tlet drawstr\t= \"\";\n\tlet count = 0;\n\tlet xaxis = [];\n\tlet yaxis = [];\n\n\tconst unsubscribe = ((items)=>{\n\t\tstate = items;\n\t})\n\n\t$: {\n\t\tif (isReview) {\n\t\t\t//targetView = \"block\";\n\t\t\tsetReview();\n\t\t} else {\n\t\t\t//targetView = \"none\";\n\t\t\tunsetReview();\n\t\t}\n\t}\n\n\t$:\tif (xml) {\n\t\t// Here replacing the not standard cdata into the valid cdata format\n\t\tlet myXml = xml.replace(\"<!--[CDATA[\", \"<![CDATA[\").replace(\"]]-->\", \"]]>\");\n\t\t\t\n\t\t// checking xml for if cdata is found or not \n\t\tif (myXml.match(/<\\!\\[CDATA\\[{|<\\!--\\[CDATA\\[{/gm)) {\n\t\t\t// saving value b/w the {, } symbol\n\t\t\tcorrectans =  myXml.toString().match(/{(.*)}/gmi);\n\t\t\ttotalCorrectAns = correctans.toString().match(/},\"\\d+\"/gm);\n\t\t\ttotalCorrectAns = (totalCorrectAns) ? totalCorrectAns.pop() : null;\n\t\t\ttotalCorrectAns = (totalCorrectAns) ? totalCorrectAns.replace(/\"|}|,/gm,\"\") : 1;\n\t\t\tmyXml = myXml.replace(correctans, \"\");\n\t\t\tcorrectans = correctans[0];\n\t\t}\n\t\tparseXml = XMLToJSON(xml);\n\t\txmlParser();\n\t\tpreRender();\n\t}\n\n\tonMount(async () => {\n\t\tparseXml = XMLToJSON(xml);\n\t\txmlParser();\n\t\tpreRender();\n\t});\n\n\tfunction xmlParser() {\n\t\titem_type = parseXml['smxml']['div']['_type'];\n\t\txmlHeight = parseXml['smxml']['_height'];\n\t\txmlWidth = parseXml['smxml']['_width'];\n\t\tif (item_type == undefined || item_type == \"\") {\n\t\t\titem_type = parseXml['smxml']['_name'].toLowerCase();\n\t\t}\n\t\timg_url = parseXml['smxml']['_bgimg'];\n\n\t\tswitch (moduleArr[item_type]) {\n\t\t\t// in case of text click \n\t\t\tcase \"1\": \n\t\t\t\t\t//getting the width and height\n\t\t\t\t\tdivHeight = parseXml.smxml._height+'px';\n\t\t\t\t\tdivWidth = parseXml.smxml._width+'px';\n\t\t\t\t\t// for parsing the xml\n\t\t\t\t\t//parseTextClick(parseXml.smxml.div.__cdata);\n\t\t\t\t\tAH.select(AH.parent('#textID0'), 'show', 'block');\n\t\t\t\t\tAH.selectAll('#drawPreview,table[id=\"hptmain2\"]', 'hide');\n\t\t\t\t\tbreak;\n\t\t\tcase \"2\": \n\t\t\t\t\t// in case of text select module\n\t\t\t\t\tif (!isNaN(parseXml.smxml._height)) {\n\t\t\t\t\t\tparseXml.smxml._height = parseXml.smxml._height+'px';\t\n\t\t\t\t\t}\n\t\t\t\t\tdivHeight = parseXml.smxml._height;\n\t\t\t\t\tdivWidth = parseXml.smxml._width+'px';\n\t\t\t\t\t// for parsing the xml\n\t\t\t\t\t//parseTextSelect(parseXml.smxml.div.__cdata);\n\t\t\t\t\tAH.select(AH.parent('#textID0'), 'show', 'block');\n\t\t\t\t\tAH.selectAll('#drawPreview,table[id=\"hptmain2\"]', 'hide');\n\t\t\t\t\tbreak;\n\t\t\tcase \"3\": {\n\t\t\t\t\t// In case of image highlight \n\t\t\t\t\t//bgImg = parseXml.smxml._bgimg;\n\t\t\t\t\t//var image = document.getElementById('hiddenImage');\n\t\t\t\t\tlet image = new Image();\n\t\t\t\t\timage.addEventListener('load', function(event) {\n\t\t\t\t\t\tstate.imgheight = (parseXml.smxml._height > this.height) ? parseXml.smxml._height+'px' : this.height+'px';\n\t\t\t\t\t\tstate.imgwidth = (parseXml.smxml._width > this.width) ? parseXml.smxml._width + 'px' : this.width + 'px';\n\t\t\t\t\t\tAH.find('#hptdraw0', 'canvas', {action: 'attr', actionData: {height:  state.imgheight, width: state.imgwidth} });\n\t\t\t\t\t\tAH.empty('#textID0');\n\t\t\t\t\t\tunsetReview();\n\t\t\t\t\t}, false);\n\t\t\t\t\timage.setAttribute('src', bgImgPath + parseXml.smxml._bgimg);\n\t\t\t\t\t// used for set the background image of the Draw highlighted module\n\t\t\t\t\t//imgUrl = \"url('https:\" + bgImgPath + parseXml.smxml._bgimg + \"')\";\n\t\t\t\t\t//this.flagUpdate = false;\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase \"4\": {\n\t\t\t\t\t// in case of hotspot (spot an image)\n\t\t\t\t\t// setting backgroundImage , alt, width, height, left , top ,border, bordercolor on the basis of xml\n\t\t\t\t\timg_url = parseXml.smxml._bgimg;\n\t\t\t\t\talt = parseXml.smxml._alt;\n\t\t\t\t\tans_y = parseFloat(parseXml['smxml']['div']['_top']);\n\t\t\t\t\tans_x = parseFloat(parseXml['smxml']['div']['_left'])+13;\n\t\t\t\t\tans_h = parseFloat(parseXml['smxml']['div']['_height']);\n\t\t\t\t\tans_w = parseFloat(parseXml['smxml']['div']['_width']);\n\t\t\t\t\talt = parseXml['smxml']['div']['_alt'];\n\t\t\t\t\ttype = parseXml['smxml']['div']['type'];\n\t\t\t\t\titemBorder  = parseXml.smxml.div._border;\n\t\t\t\t\titemBorderColor  = parseXml.smxml.div._bordercolor;\n\t\t\t\t\titemAreaWidth = parseXml.smxml.div._width+'px';\n\t\t\t\t\titemAreaHeight = parseXml.smxml.div._height+'px';\n\t\t\t\t\titemAreaLeft = parseXml.smxml.div._left+'px';\n\t\t\t\t\titemAreaTop = parseXml.smxml.div._top+'px';\n\t\t\t\t\t\n\t\t\t\t\tlet image = new Image();\n\t\t\t\t\timage.onload = function() {\n\t\t\t\t\t\tlet bgImgHeight = this.height+'px';\n\t\t\t\t\t\tlet bgImgWidth =  this.width+'px';\n\t\t\t\t\t\tstate.imgheight =  (parseXml.smxml.div._imgheight)  ? parseXml.smxml.div._imgheight+'px' : \"auto !important\";\n\t\t\t\t\t\tstate.imgwidth = (parseXml.smxml.div._imgwidth) ? parseXml.smxml.div._imgwidth+'px' :  \"auto !important\";\n\t\t\t\t\t\tAH.select('#hptmain0', 'css', {height: bgImgHeight, width: bgImgWidth});\n\t\t\t\t\t};\n\t\t\t\t\timage.src = bgImgPath + parseXml.smxml._bgimg;\n\t\t\t\t}\n\t\t\t\tbreak; \n\t\t}\n\t\t\n\t}\n\n\tfunction preRender() {\n\t\tif (isReview) {\n\t\t\ttargetView = \"block\";\n\t\t}\n\t\tvar image = new Image();\n\t\timage.onload = function() {\n\t\t\tif (moduleArr[item_type] == \"3\") {\n\t\t\t\tstate.imgheight = (parseXml.smxml._height > this.height) ? parseXml.smxml._height+'px' : this.height+'px';\n\t\t\t\tstate.imgwidth = (parseXml.smxml._width > this.width) ? parseXml.smxml._width + 'px' : this.width + 'px';\n\t\t\t} else {\n\t\t\t\tstate.imgheight =  (parseXml.smxml.div._imgheight)  ? parseXml.smxml.div._imgheight+'px' : \"auto !important\";\n\t\t\t\tstate.imgwidth = (parseXml.smxml.div._imgwidth) ? parseXml.smxml.div._imgwidth+'px' :  \"auto !important\";\n\t\t\t}\n\t\t};\n\t\timage.src = bgImgPath + img_url;\n\t\tif (uxml) {\n\t\t\tuserCorrect = uxml;\n\t\t\tlet parseUxml = XMLToJSON(uxml);\n\t\t\tif (parseUxml.SMANS && parseUxml.SMANS.div) {\n\t\t\t\tisUxmlTarget = true;\n\t\t\t\tans_x = parseUxml.SMANS.div._targetLeft;\n\t\t\t\tans_y = parseUxml.SMANS.div._targetTop;\n\t\t\t}\n\t\t}\n\t}\n\n\tfunction checkAnswer (event) {\n\t\tlet result = movetarget(event, ans_h, ans_w, parseInt(itemAreaLeft), parseInt(itemAreaTop));\n\t\tisUxmlTarget = true;\n\t\tans_x = result.left;\n\t\tans_y = result.top;\n\t\tansStatus = result.ans;\n\t\tif (editorState) showAns(ansStatus ? \"Correct\" : \"Incorrect\");\n\t\tonUserAnsChange(result);\n\t}\n[]\n\tfunction onModalTouch(event) {\n\t\tconsole.log(event);\n\t}\n\n\t// used in native for toggle\n\tfunction toggleSelectArea() {\n\t\tscrollEnabled = scrollEnabled ? false : true;\n\t}\n\n\t// when remediation mode is on\n\tfunction setReview() {\n\t\ttargetView = \"block\";\n\t\t//isDotCreate = false;\n\t\t// if the module is imagehighlight then it draw the correct answer on the module using the function drawOnCanvas\n\t\tif (moduleArr[item_type] == \"3\") {\n\t\t\tlet el = AH.find('#previewArea', 'canvas');\n\t\t\tlet pts = el.getAttribute('correctans'); \n\t\t\tif ( pts!='') pts = JSON.parse(pts);\n\t\t\tHotJS.drawOnCanvas(el, pts, 'green');\n\t\t}\n\t\t// called the function unbind lab which basically show the draggable element in preview area if found which is found in case of spot an image\n\t\tHotJS.modeOnHot(1);\n\t\t// check the answer wether the answer is correct or not\n\t\t//checkAnswer();\n\t\tAH.select(\"#hptmain0\", 'css', {pointerEvents: \"none\"});\n\t}\n\n\t// when remediation mode is off\n\tfunction unsetReview() {\n\t\ttargetView = \"none\";\n\t\t// if the module is imagehighlight then it hide the correct answer ans show user ans on the module using the function drawOnCanvas\n\t\tif (moduleArr[item_type] == \"3\") {\n\t\t\tAH.find('#previewArea', 'canvas', {action: 'remove'});\n\t\t\timageDraw('#previewArea', 0);\n\t\t\tvar timer = setTimeout(function() {\n\t\t\t\tlet el = AH.find('#previewArea', 'canvas');\n\t\t\t\t// getting the value of the user ans\n\t\t\t\tlet getAns = AH.select('#special_module_parse').value,\n\t\t\t\t// getting the user answer coordinates\n\t\t\t\tcans   = getAns.substring(getAns.indexOf('{'),getAns.lastIndexOf('}')+1);\n\n\t\t\t\t// parsing it into the JSON element\n\t\t\t\tif ( cans!='') cans = JSON.parse(cans);\n\t\t\t\t// passed the points in the canvas\n\t\t\t\tHotJS.drawOnCanvas(el, cans, linecolor);\n\t\t\t\tclearTimeout(timer);\n\t\t\t},500);\n\t\t}\n\t\t// called the function bind lab which basically hide the draggable element in preview area if found which is found in case of spot an image\n\t\tHotJS.modeOnHot();\n\t\tAH.select(\"#hptmain0\", 'css', {pointerEvents: \"auto\"});\n\t}\n\n\t// for image draw\n\tfunction imageDraw(hid,review) {\n\t\tlet imgObj =  AH.find(hid, '#hptmain0');\n\t\thid = imgObj;\n\t\t// let imgWidth  = imgObj.clientWidth;\n\t\t// let imgHeight = imgObj.clientHeight;\n\t\tlet surface = new DooScribPlugin({\n            target: imgObj,\n            width: +( state.imgwidth.replace('px', '') ),\n            height: +( state.imgheight.replace('px', '') ),\n            correctans: correctans,\n            cssClass: 'drawSurface',\n            penSize: 4,\n            type: 'imagehighlight',\n            editable: (!review) ? true: false,\n            onMove: function () { },\n            onClick: function () { },\n            onPaint: function (e) {\n                // storeing the X and Y values\n                xaxis.push(e.X);\n                yaxis.push(e.Y);\n            },\n            onRelease: function (e) {\n\t\t\t\tonReleaseFunc(e, hid, review);\n            }\n        });\n\t\tlinecolor = String(xml.match(/linecolor=\\\"([^\\\"]+)\\\"/gm));\n\t\tlinecolor = linecolor.substring(\"11\", (linecolor.length - 1));\n\t\t//var res = AH.siblings(hid).find((_elm)=> _elm.matches('div') ).getAttribute('id');\n\t\tif (!review) {\n\t\t\tAH.listen('#previewArea', 'click', '#reset', ()=> {\n\t\t\t\tsurface.clearSurface();\n\t\t\t\tdrawstr = ''; count = 0;\n\t\t\t\tuserCorrect =  \"\";\n\t\t\t\tAH.selectAll(AH.select(hid).children, 'attr', {userans: ''});\n\t\t\t});\n\t\t}\n\t\twindow.surface = surface;\n\t}\n\n\t// calls in key up / onrelase of mouse\n\tfunction onReleaseFunc(e, hid, review){\n\t\tlet userAnswers = '';\n\t\tlet inNativeIsCorrect = false;\n\n\t\t// check for the review mode is on or off\n\t\tif (!review) {\t// if review mode is off\n\t\t\tdrawstr = '';\n\t\t\t// getting the  value of the point \n\t\t\tvar coor = document.querySelector('#special_module_parse').value;\n\t\t\tcoor = coor.substring(coor.indexOf('{'),coor.lastIndexOf('}')+1);\n\n\t\t\t// getting the coordinates using the getCoordinate function\n\t\t\tif (coor!='') {\t\n\t\t\t\tcoor = \tObject.keys(JSON.parse(coor)).length;\n\t\t\t\tdrawstr = HotJS.getCoordinate(hid, xaxis, yaxis, coor);\n\t\t\t} else {\n\t\t\t\tdrawstr = HotJS.getCoordinate(hid, xaxis, yaxis, count);\n\t\t\t}\n\t\t\t// for getting window height in case of native\n\t\t\tif (window.inNative) {\n\t\t\t\twindow.getHeight && window.getHeight();\n\t\t\t}\t\n\n\t\t\t// for autograding\n\t\t\twindow.ISSPECIALMODULEUSERXMLCHANGE = 1;\n\t\t\t// puuting the value in the textarea for saving the user ans\n\t\t\tAH.select(\"#special_module_user_xml\", 'val', drawstr);\n\t\t\tuserCorrect = drawstr;\n\t\t\txaxis=[]; yaxis=[];\n\t\t\t// for getting the correctans\n\t\t\tlet pts  = AH.find(hid, 'canvas').getAttribute('correctans');\n\t\t\t// for getting the user ans\n\t\t\tlet cans = AH.find(hid, 'canvas').getAttribute('userans');\n\n\t\t\t// parsing both the json if they are not empty\n\t\t\tif ( cans!='') cans = JSON.parse(cans);\n\t\t\tif ( pts!='') pts = JSON.parse(pts);\n\n\t\t\t// comparing them with the function , it will return 1 if the answer is correct\n\t\t\tlet flag = HotJS.compareDrawing(cans,pts,hid);\n\t\t\tlet message = \"Incorrect\";\n\t\t\t// for setting the answer correct if flag > 0\n\t\t\tif (flag > 0) {\n\t\t\t\tinNativeIsCorrect = true;\n\t\t\t\tmessage = \"Correct\";\n\t\t\t\tstate.answerType3 = true;\n\t\t\t\tif (editorState) showAns(\"Correct\");\n\t\t\t} else {\n\t\t\t\tinNativeIsCorrect = false;\n\t\t\t\tmessage = \"Incorrect\";\n\t\t\t\tstate.answerType3 = false;\n\t\t\t\t\n\t\t\t}\n\t\t\tif (editorState) showAns(message);\n\t\t\tuserAnswers = AH.select('#special_module_user_xml').value;\n\t\t\t// @uc-abk: When user drawed canvas within the correct area : flag will 1\n\t\t\t(flag > 0) ? (AH.select(\"#answer\").checked =  true) : (AH.select(\"#answer\").checked = false);\n\t\t\tif (window.inNative) window.postMessage(JSON.stringify({ inNativeIsCorrect, userAnswers }), \"*\");\n\t\t}\n\t}\n\n\tfunction loadModule(_type) {\n\t\tswitch(_type) {\n\t\t\t// if the type is text click or text select\n\t\t\tcase \"1\":\n\t\t\tcase \"2\": {\n\t\t\t\t\tlet data_userans = \"\";\n\t\t\t\t\tlet data_userhtml = \"\";\n\t\t\t\t\tif (uxml) {\n\t\t\t\t\t\tlet _uxml = XMLToJSON(uxml);\n\t\t\t\t\t\twindow.test = uxml;\n\t\t\t\t\t\t// extract the userans and userhtml\n\t\t\t\t\t\tif (_uxml?.smans?.div) {\n\t\t\t\t\t\t\tdata_userans = _uxml.smans.div['_data-userAns'];\n\t\t\t\t\t\t\tdata_userhtml = _uxml.smans.div['_data-userHtml'];\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\t// return the div\n\t\t\t\t\treturn (`\n\t\t\t\t\t\t<div is id=\"hptmain0\" totalCorrectAns=${totalCorrectAns}>\n\t\t\t\t\t\t\t<div \n\t\t\t\t\t\t\t\tid=\"textID0\" \n\t\t\t\t\t\t\t\ttype=\"${typeName}\" \n\t\t\t\t\t\t\t\tdata-correcthtml=\"${correctHtml}\" \n\t\t\t\t\t\t\t\tdata-correctans=\"${correctAnsStr} \"\n\t\t\t\t\t\t\t\tdata-userans=\"${data_userans}\" \n\t\t\t\t\t\t\t\tdata-userhtml=\"${data_userhtml}\" \n\t\t\t\t\t\t\t\tclass=\"drag-resize hotspotTxt\" \n\t\t\t\t\t\t\t\tstyle=\"max-width:${divWidth}; height:${divHeight}; line-height: 1.4;\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t`);\n\t\t\t\t}\n\t\t\tdefault : return(\"<div>Incorrect question type</div>\");\n\t\t}\n\t}\n\t\n</script>\n\n<main>\n\t<ItemHelper \n\t\ton:setReview = {setReview}\n\t\ton:unsetReview = {unsetReview}\n\t/>\n\t<div id=\"previewArea\" class=\"relative\">\n\t\t<!-- if the type is text click or text select -->\n\t\t{#if moduleArr[item_type] == \"4\"}\n\t\t\t<table id=\"hptmain0\" class='smbase smhotspot border-0 h-auto w-auto'>\n\t\t\t\t<tbody>\n\t\t\t\t\t<tr>\n\t\t\t\t\t\t<td class=\"border\">\n\t\t\t\t\t\t\t<div id=\"SM0\" class=\"relative\">\n\t\t\t\t\t\t\t\t<div \n\t\t\t\t\t\t\t\t\tid='SM0' \n\t\t\t\t\t\t\t\t\tclass=\"SM position-relative m-0 p-0\" \n\t\t\t\t\t\t\t\t\tstyle=\"{`\n\t\t\t\t\t\t\t\t\t\tposition: relative;\n\t\t\t\t\t\t\t\t\t\tmargin: 0px;\n\t\t\t\t\t\t\t\t\t\tpadding: 0px;\n\t\t\t\t\t\t\t\t\t\twidth: 100%;\n\t\t\t\t\t\t\t\t\t\theight: 100%;\n\t\t\t\t\t\t\t\t\t\tborder: ${(itemBorder) ? itemBorder + 'px solid' : ''};\n\t\t\t\t\t\t\t\t\t\tborderColor: ${itemBorderColor};\n\t\t\t\t\t\t\t\t\t`}\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<img \n\t\t\t\t\t\t\t\t\t\tid=\"im0\" \n\t\t\t\t\t\t\t\t\t\ttabindex=\"0\" \n\t\t\t\t\t\t\t\t\t\tstyle=\"max-width:none; width: {state.imgwidth}; height: {state.imgheight};\" \n\t\t\t\t\t\t\t\t\t\tclass=\"hotSpotImg\" \n\t\t\t\t\t\t\t\t\t\tsrc={bgImgPath+img_url} \n\t\t\t\t\t\t\t\t\t\talt={alt} \n\t\t\t\t\t\t\t\t\t\ton:click={checkAnswer}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t<div \n\t\t\t\t\t\t\t\t\t\tid='hotArea' \n\t\t\t\t\t\t\t\t\t\tclass=\"hotArea hotArea hotAreaPreview\" \n\t\t\t\t\t\t\t\t\t\tstyle=\"{`\n\t\t\t\t\t\t\t\t\t\t\tdisplay: ${targetView};\n\t\t\t\t\t\t\t\t\t\t\tleft:${itemAreaLeft};\n\t\t\t\t\t\t\t\t\t\t\ttop:${itemAreaTop};\n\t\t\t\t\t\t\t\t\t\t\theight:${itemAreaHeight};\n\t\t\t\t\t\t\t\t\t\t\twidth:${itemAreaWidth};\n\t\t\t\t\t\t\t\t\t\t`}\"\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t&nbsp;\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<span\n\t\t\t\t\t\t\t\t\t\tid='target' \n\t\t\t\t\t\t\t\t\t\tclass=\"target targetImg icomoon-plus-circle-2\"\n\t\t\t\t\t\t\t\t\t\tclass:showBlock=\"{isUxmlTarget}\"\n\t\t\t\t\t\t\t\t\t\tstyle = \"{`\n\t\t\t\t\t\t\t\t\t\t\tleft:${ans_x}px;\n\t\t\t\t\t\t\t\t\t\t\ttop:${ans_y}px;\n\t\t\t\t\t\t\t\t\t\t`}\"\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</td>\n\t\t\t\t\t</tr>\n\t\t\t\t</tbody>\n\t\t\t</table>\t\n\t\t{:else if moduleArr[item_type] == \"3\"}\n\t\t\t<center key=\"imageHeight_3\">\n\t\t\t\t<div \n\t\t\t\t\tstyle=\"\n\t\t\t\t\t\theight: 32px; \n\t\t\t\t\t\twidth: {window.inNative ? window.innerWidth : state.imgwidth}; \n\t\t\t\t\t\tbackground: #d9e7fd; \n\t\t\t\t\t\tborder-top: 2px solid #96bbf6;\n\t\t\t\t\t\"\n\t\t\t\t>\n\t\t\t\t\t<div \n\t\t\t\t\t\tid=\"reset\" \n\t\t\t\t\t\tstyle=\"height: 27px; width: 90px;\"\n\t\t\t\t\t\tclass=\"reset btn btn-outline-primary btn-sm mt-sm2 mr-sm2 float-end\">\n\t\t\t\t\t\t<span class=\"icomoon-new-24px-reset-1 s3\" style=\"vertical-align: text-top\"></span> \n\t\t\t\t\t\t<span class=\"position-relative bottom1\">Reset</span>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div \n\t\t\t\t\tid=\"hptmain0\"\n\t\t\t\t\ttotalCorrectAns={totalCorrectAns}\n\t\t\t\t\tdd={state.imgwidth}\n\t\t\t\t\tstyle=\"\n\t\t\t\t\t\twidth: {state.imgwidth || '250px'}; \n\t\t\t\t\t\theight: {state.imgheight || '600px'}; \n\t\t\t\t\t\tbackground-image: url('{bgImgPath+img_url}'); \n\t\t\t\t\t\tbackground-repeat: no-repeat; \n\t\t\t\t\t\tposition: relative; \n\t\t\t\t\t\tborder: 2px solid #d9e7fd;\n\t\t\t\t\t\"\n\t\t\t\t></div>\n\t\t\t\t{#if scrollEnabled}\n\t\t\t\t\t<div \n\t\t\t\t\t\tclass=\"position-fixed index0\" \n\t\t\t\t\t\tstyle=\"right: 0; top: 0; left: 0; bottom: 0; background: rgba(0,0,0,0.4)\"\n\t\t\t\t\t></div>\n\t\t\t\t{/if}\n\t\t\t</center>\n\t\t{:else}\n\t\t\t{@html loadModule(moduleArr[item_type])}\n\t\t{/if}\n\t</div>\n\t<input \n\t\ttype=\"hidden\" \n\t\tid=\"special_module_parse\" \n\t\tname=\"special_module_parse\" \n\t\tuserans=\"\" \n\t\tvalue={userCorrect} \n\t/>\n</main>\n\n<style>\n\tmain {\n\t\ttext-align: center !important;\n\t\tpadding: 1em;\n\t\tmax-width: 240px;\n\t\tmargin: 0 auto;\n\t\tfont-size: 26px;\n\t}\n\n\t.targetImg {\n\t\tdisplay : none;\n\t\tposition: absolute;\n\t\tz-index: 10;\n\t\twidth: 26px;\n\t\theight:26px;\n\t\tborder-radius: 50%;\n\t\tbackground: #fff;\n\t\tcolor: #1c3ad4;\n\t}\t\n\n\t.showBlock {\n\t\tdisplay : block;\n\t}\n\n\t@media (min-width: 640px) {\n\t\tmain {\n\t\t\tmax-width: none;\n\t\t}\n\t}\n</style>\n"],"names":["JS","JUI","hotspotScript","[object Object]","this","userAnsXML","xaxis","yaxis","count","drawstr","elemId","labBinded","result","temp","hid","review","type","correctans","textClickListen","event","_this","target","getVal","classList","contains","getAttribute","remove","add","find","forEach","v","i","textContent","action","actionData","data-userans","textSeelctListen","e","nodeName","select","removespan","highlightText","found","data-userhtml","innerHTML","listen","bind","sendDataToNative","inNativeIsCorrect","userAnswers","children","forEacheach","_elm","checkChildAnswer","window","ISSPECIALMODULEUSERXMLCHANGE","value","calculatePoint","inNative","getHeight","postMessage","JSON","stringify","uxml","status","pElem","ansKey","split","sort","join","userKey","filter","escape","ansType","showchilddragans","hidNode","length","selectText","userans","decodeURIComponent","err","unescape","classname","findInArray","replace","_htmlContent","decodedHtmlContent","console","log","text_indicator_html","text_indicator_html1","insert","querySelector","el","getAns","cans","substring","indexOf","lastIndexOf","parse","drawOnCanvas","color","pts","top","Math","min","apply","left","width","max","height","slice","selectAll","createUserAnsXMLDraw","xmlDom","parseHtml","bgimg","path","_attr","attributes","na_attr","nameme","element","top1","src","tObj","hObj","scoreFlag","style","display","layerY","layerX","offsetY","offsetX","checkmodule","createUserAnsXML","obj","document","getElementById","checked","userAns","targetTop","targetLeft","parseInt","yourScore","cord","c","toString","ctx","getContext","len","Object","keys","j","beginPath","lineWidth","strokeStyle","moveTo","lineTo","stroke","uans","uval","getAreaVal","cval","cflag","clen","ulen","coordinate","cordval","calculateArea","trim","getSelected","getRangeAt","endOffset","snapSelectionToWord","selectionRange","ans","startOffset","selection","pasteHtmlAtCaret","sel","getSelection","modify","isCollapsed","range","createRange","setStart","anchorNode","anchorOffset","setEnd","focusNode","focusOffset","backwards","collapsed","detach","endNode","collapse","charAt","extend","textRange","text","expand","test","moveEnd","html","rangeCount","deleteContents","createElement","node","lastNode","frag","createDocumentFragment","firstChild","appendChild","insertNode","cloneRange","setStartAfter","removeAllRanges","addRange","pasteHTML","span","span_contents","regex","RegExp","parentNode","replaceChild","createTextNode","modeType","unBindLab","showansdrag","bindLab","pointerEvents","Point","a","b","isNaN","Number","x","y","X","Y","DooScribPlugin","options","prevPoint","undefined","defaultOptions","penSize","cssClass","onClick","onMove","onPaint","onRelease","penWidth","drawing","cap","ID","floor","random","drawingSurface","Settings","init","empty","lineCap","hasTouch","addEventListener","clickDown","moved","clickUp","error","st","scrollY","clientX","targetTouches","pageX","clientY","pageY","changedTouches","isDrawing","preventDefault","normalizeTouch","offset","pt","drawLine","editable","backgroundColor","clearRect","fromX","fromY","toX","toY","movetarget","ans_h","ans_w","ans_left","ans_top","targetData","uXml","ansDivHeight","ansDivWidth","innerWidth","imgwidth","imgheight","bgImgPath","xml","ansStatus","isReview","showAns","editorState","HotJS","totalCorrectAns","parseXml","alt","moduleArr","textclick","textselect","imagehighlight","hotspot","state","itemBorder","itemBorderColor","isUxmlTarget","itemAreaTop","itemAreaHeight","itemAreaWidth","itemAreaLeft","targetView","ans_x","ans_y","img_url","item_type","xmlHeight","xmlWidth","userCorrect","linecolor","xmlParser","toLowerCase","divHeight","smxml","_height","divWidth","_width","AH","parent","image","Image","unsetReview","setAttribute","_bgimg","_alt","parseFloat","div","_border","_bordercolor","_left","_top","onload","bgImgHeight","bgImgWidth","_imgheight","_imgwidth","preRender","parseUxml","XMLToJSON","SMANS","_targetLeft","_targetTop","setReview","modeOnHot","imgObj","surface","push","coor","getCoordinate","flag","compareDrawing","message","answerType3","onReleaseFunc","String","match","clearSurface","imageDraw","timer","setTimeout","clearTimeout","onMount","myXml","pop","onUserAnsChange","_type","data_userans","data_userhtml","_uxml","smans","typeName","correctHtml","correctAnsStr"],"mappings":"yPACA,MAAMA,EAAK,IAAIC,EACA,MAAMC,EACjBC,cACIC,KAAKC,WAAW,kBAChBD,KAAKE,MAAM,GACXF,KAAKG,MAAM,GACXH,KAAKI,MAAM,EACXJ,KAAKK,QAAU,GACfL,KAAKM,OAAS,YACdN,KAAKO,WAAY,EACjBP,KAAKQ,QAAS,EACdR,KAAKS,KAAO,EAGhBV,UAAUW,EAAKC,EAAQC,EAAMC,GAEzB,GADAH,EAAM,IAAIA,GACLC,EAAQ,CACTX,KAAKO,WAAY,EACjB,MAAMO,EAAkB,SAASC,GAC7B,GAAIf,KAAKO,UAAW,CAChB,IAAIS,EAASD,EAAME,OAAQC,EAAS,GAChCF,EAAMG,UAAUC,SAAS,aACzBJ,EAAMK,aAAa,eAAgB,GACnCL,EAAMG,UAAUG,OAAO,cAEvBN,EAAMK,aAAa,eAAe,GAClCL,EAAMG,UAAUI,IAAI,aAExB3B,EAAG4B,KAAKd,EAAK,6BAA8B,OAAOe,SAAQ,SAASC,EAAEC,GAE7DT,EADG,GAAHS,EACSD,EAAEE,YAEFV,EAAS,IAAMQ,EAAEE,eAElChC,EAAG4B,KAAKd,EAAK,SAAU,CAACmB,OAAQ,OAAQC,WAAY,CAACC,eAAgBb,OAGvEc,EAAmB,SAASC,GAC9B,GAAIjC,KAAKO,UAAW,CAChB,IAAIW,EAAO,GACe,QAAtBe,EAAEhB,QAAQiB,UACVtC,EAAGuC,OAAOF,EAAEhB,OAAQ,cAAc,CAAC,aAAc,aACjDjB,KAAKoC,WAAWH,EAAEhB,OAAOP,EAAI,IAE7BV,KAAKqC,cAAc3B,GAEvBd,EAAG4B,KAAKd,EAAK,8BAA+B,OAAOe,SAAQ,SAASC,EAAEC,GACtDT,EAAH,GAALS,EAAiBD,EAAEE,YACTV,EAAS,IAAMQ,EAAEE,eAEnC,IAAIU,EAAQ1C,EAAG4B,KAAKd,EAAK,UACzBd,EAAGuC,OAAOG,EAAO,OAAQ,CAACC,gBAAiBD,EAAME,UAAWT,eAAgBb,MAGpFtB,EAAG6C,OAAO/B,EAAK,aAAc,aAAcI,EAAgB4B,KAAK1C,OAChEJ,EAAG6C,OAAO/B,EAAK,WAAY,aAAcI,EAAgB4B,KAAK1C,OAC9DJ,EAAG6C,OAAO/B,EAAK,QAAS,aAAcI,EAAgB4B,KAAK1C,OAC3DJ,EAAG6C,OAAO/B,EAAK,aAAc,sBAAuBsB,EAAiBU,KAAK1C,OAC1EJ,EAAG6C,OAAO/B,EAAK,WAAY,sBAAuBsB,EAAiBU,KAAK1C,OACxEJ,EAAG6C,OAAO/B,EAAK,QAAS,sBAAuBsB,EAAiBU,KAAK1C,QAM7ED,UAAUW,GACN,IAEIiC,EAAmB,CACnBC,mBAFoB,EAGpBC,YAJc,IAyBlB,OAnBA7C,KAAKC,WAAa,sBAClBD,KAAKQ,QAAS,EACdR,KAAKS,KAAO,EACZb,EAAGuC,OAAOzB,GAAKoC,SAASC,aAAaC,IACjChD,KAAKC,WAAaD,KAAKiD,iBAAiBvC,EAAKsC,EAAMhD,KAAKC,eAE5DD,KAAKC,YAAc,WACnBiD,OAAOC,6BAA+B,EAEtCR,EAAiBE,YAAcjD,EAAGuC,OAAO,4BAA4BiB,MACzC,oBAAlBC,gBAENA,eAAezD,EAAGuC,OAAOzB,GAAKW,aAAa,mBAAoBZ,MAE/DyC,OAAOI,WACPJ,OAAOK,cACPZ,EAAiBC,kBAAoB5C,KAAKQ,OAC1C0C,OAAOM,YAAYC,KAAKC,UAAUf,GAAmB,MAElD,CAACgB,KAAM1D,WAAY2D,OAAQpD,QAItCT,iBAAiBW,EAAKmD,EAAO5D,GACzB,IAAIe,EAAQ6C,EAAMxC,aAAa,QAC/B,OAAOL,GACH,IAAK,YACL,IAAK,aACD,IAAI8C,EAAUD,EAAMxC,aAAa,mBAAmB0C,MAAM,KAAKC,OAAOC,KAAK,KACvEC,EAAUL,EAAMxC,aAAa,gBAAgB0C,MAAM,KAAKC,OAGxDF,IADJI,GADAA,EAAWA,EAAQC,QAAO,SAASlC,GAAI,OAAOA,MACxBgC,KAAK,QAEvBjE,KAAKQ,QAAS,GAEW,oBAAlB6C,gBACPQ,EAAMf,SAASrB,SAASuB,IAChBA,EAAK7B,UAAUC,SAAS,aAAe4B,EAAK3B,aAAa,iBAAmB2B,EAAK3B,aAAa,oBAC9FrB,KAAKS,UAKbT,KAAKC,YADG,cAARe,EACmB,YAAY6C,EAAMxC,aAAa,yBAAyB+C,OAAOP,EAAMxC,aAAa,oCAAoC+C,OAAOP,EAAMxC,aAAa,8BAEhJ,YAAYwC,EAAMxC,aAAa,wBAAwB+C,OAAOP,EAAMxC,aAAa,8BAKhH,OAAOrB,KAAKC,WAIhBF,YAAYW,EAAK2D,EAAS1D,QACA,IAAXA,IAAwBA,EAAS,GAC5Cf,EAAGuC,OAAOzB,GAAKoC,UAAUrB,WAAWuB,IAChChD,KAAKsE,iBAAiB5D,EAAKsC,EAAMqB,EAAS1D,MAKlDZ,iBAAiBW,EAAKmD,EAAOQ,EAAS1D,GAClC,IAAI4D,EAAU3E,EAAGuC,OAAO0B,GAExB,OADUU,EAAQlD,aAAa,SAE3B,IAAK,YACD,GAAe,KAAXgD,EAAgB,CACZzE,EAAG4B,KAAK+C,EAAS,gCAAiC,OAAOC,OAAS,IAClE5E,EAAG4B,KAAK+C,EAAS,gCAAiC,CAAC1C,OAAQ,cAAeC,WAAY,CAAC,eAAgB,oBACvGlC,EAAG4B,KAAK+C,EAAS,0BAA2B,CAAC1C,OAAQ,WACrDjC,EAAG4B,KAAK+C,EAAS,0BAA2B,CAAC1C,OAAQ,aAAcC,WAAY,WAEnF,IAAIgC,EAASD,EAAMxC,aAAa,mBAAmB0C,MAAM,KAC5CF,EAAMxC,aAAa,QAChCyC,EAAOrC,SAAS2B,IACZpD,KAAKyE,WAAW/D,EAAK0C,EAAOiB,EAAS,oBAEtC,GAAe,KAAXA,EAAgB,CACZR,EAAMxC,aAAa,QAC9B,IACI,IAAIqD,EAAUC,mBAAmBd,EAAMxC,aAAa,iBACtD,MAAMuD,GACAF,EAAUC,mBAAmBE,SAAShB,EAAMxC,aAAa,kBAKjE,GAFAqD,GADAA,EAAUA,EAAQX,MAAM,MACNI,QAAO,SAASlC,GAAG,OAAOA,UAEtB,IAAVtB,GAAmC,GAAVA,EAAc,CAC/Cf,EAAG4B,KAAKd,EAAK,YAAa,CAACmB,OAAQ,cAAeC,WAAY,aAC9D,IAAIgC,EAAUD,EAAMxC,aAAa,mBAAmB0C,MAAM,KAC1DW,EAAQjD,SAAS2B,IACb,IAAI0B,EAAU,iBACVlF,EAAGmF,YAAY3B,EAAOU,IACtBgB,EAAY,eACZ9E,KAAKyE,WAAW/D,EAAK0C,EAAOiB,EAASS,IAErC9E,KAAKyE,WAAW/D,EAAK0C,EAAOiB,EAASS,WAI7CJ,EAAQjD,SAAS2B,IACbpD,KAAKyE,WAAW/D,EAAI0C,EAAM,IAAI,YAC9BxD,EAAGuC,OAAQzB,EAAI,WAAWY,SAC1B1B,EAAGuC,OAAO,aAAc,cAAc,CAAC,iBAAkB,oBAKzE,MACA,IAAK,aACD,GAAe,KAAXkC,EAAgB,CACZzE,EAAG4B,KAAK+C,EAAS,iCAAiCC,OAAS,IAC3D5E,EAAG4B,KAAK+C,EAAS,gCAAiC,CAAC1C,OAAQ,cAAeC,WAAY,CAAC,eAAgB,oBACvGlC,EAAG4B,KAAK+C,EAAS,0BAA2B,CAAC1C,OAAQ,aAAcC,WAAY,WAE/EgC,EAASD,EAAMxC,aAAa,mBAAmB0C,MAAM,KAC9CF,EAAMxC,aAAa,QAC9BzB,EAAGuC,OAAO0B,EAAO,OAAQA,EAAMxC,aAAa,oBAAoB2D,QAAQ,UAAU,iBAC/E,GAAe,KAAXX,EAAgB,CACZR,EAAMxC,aAAa,QAC9B,IACQqD,EAAUC,mBAAmBd,EAAMxC,aAAa,iBACtD,MAAMuD,GACAF,EAAUC,mBAAmBE,SAAShB,EAAMxC,aAAa,kBAIjE,GADAqD,GADAA,EAAUA,EAAQX,MAAM,MACNI,QAAO,SAASlC,GAAG,OAAOA,KACD,IAAvC4B,EAAMxC,aAAa,kBAAiE,aAAvCwC,EAAMxC,aAAa,iBAAiC,CACjG,IAAI4D,EAAepB,EAAMxC,aAAa,iBACtC,IACI4D,EAAeN,mBAAmBM,GAClC,IAAIC,EAAqBP,mBAAmBM,GAC9C,MAAML,GACJO,QAAQC,IAAIR,GAEhBhF,EAAGuC,OAAO0B,EAAO,OAAQqB,GAG7B,QAAsB,IAAVvE,GAAmC,GAAVA,EAAc,CAC/C,IAAI0E,EAAsB,gHACtBC,EAAuB,sGAC3B1F,EAAG2F,OAAO1B,EAAM2B,cAAc,yCAA0C,uKAA0KH,EAAsB,iBAAkB,aAC1RzF,EAAG2F,OAAO1B,EAAM2B,cAAc,yCAA0C,uKAA0KF,EAAuB,iBAAkB,cAGnS,MAEJ,IAAK,iBAAkB,CACnB,IAAIG,EAAK7F,EAAG4B,KAAKd,EAAK,UAClBgF,EAAS9F,EAAGuC,OAAO,yBAAyBiB,MAC5CuC,EAAOD,EAAOE,UAAUF,EAAOG,QAAQ,KAAKH,EAAOI,YAAY,KAAK,GAGxE,GAFa,IAARH,IAAYA,EAAOlC,KAAKsC,MAAMJ,IACnC3F,KAAKgG,aAAaP,EAAIE,EAAMzC,OAAO+C,OACpB,KAAX5B,EAAgB,CAChB,IAAI6B,EAAMT,EAAGpE,aAAa,cACd,IAAP6E,IAAWA,EAAMzC,KAAKsC,MAAMG,IACjClG,KAAKgG,aAAaP,EAAIS,EAAK,SAE/B,QAKZnG,cAAcW,EAAKR,EAAOC,GAKtB,MAAO,CACHgG,IALgBC,KAAKC,IAAIC,MAAMF,KAAMjG,GAMrCoG,KALgBH,KAAKC,IAAIC,MAAMF,KAAMlG,GAMrCsG,MALgBJ,KAAKK,IAAIH,MAAMF,KAAMlG,GAASkG,KAAKC,IAAIC,MAAMF,KAAMlG,GAMnEwG,OALgBN,KAAKK,IAAIH,MAAMF,KAAMjG,GAASiG,KAAKC,IAAIC,MAAMF,KAAMjG,IAU3EJ,cAAcW,EAAKR,EAAOC,EAAOC,GAa7B,OAZa,GAATA,EACAJ,KAAKK,QAAU,QAAWD,EAAS,WAAgBF,EAAQ,UAAcC,EAAQ,OAEjFH,KAAKK,QAAUT,EAAGuC,OAAO,yBAAyBiB,MAClDpD,KAAKK,QAAUA,QAAQuF,UAAUvF,QAAQwF,QAAQ,KAAKxF,QAAQyF,YAAY,KAAK,GAC/E9F,KAAKK,QAAUA,QAAQsG,MAAM,GAAI,GAElC3G,KAAKK,SAAW,QAAWD,EAAS,WAAgBF,EAAQ,UAAcC,EAAQ,OAErFP,EAAGgH,UAAUhH,EAAGuC,OAAOzB,GAAKoC,SAAU,OAAQ,CAAC4B,QAAW1E,KAAKK,UAE/DL,KAAK6G,qBAAqB7G,KAAKK,SACxBL,KAAKC,WAGhBF,mBACI,IAAI+G,EAAWlH,EAAGmH,UAAUnH,EAAGuC,OAAO,uBAAuBiB,OACzD4D,EAAQ,GAAIC,EAAO,GACvB,GAAIH,EACA,IAAK,IAAII,KAASJ,EAAOK,WACrB,OAAOC,QAAQC,QACX,IAAK,QACDL,EAAQE,EAAM9D,MACd,MACJ,IAAK,OACD6D,EAAQC,EAAM9D,MAM9B,IAAIkE,EAAU1H,EAAGkD,SAASgE,EAAQ,OAC9BS,EAAQD,EAAQjG,aAAa,OAC7BkF,EAAQe,EAAQjG,aAAa,QAC7BmF,EAASc,EAAQjG,aAAa,SAC9BqF,EAAUY,EAAQjG,aAAa,UACnCzB,EAAGuC,OAAO,QAAS,MAAO,CAACuE,OAAQA,EAAQP,IAAKoB,EAAMf,MAAOA,EAAOD,KAAMA,IACtES,GAASC,GAAMrH,EAAGuC,OAAO,MAAO,OAAQ,CAACqF,IAAKP,EAAO,IAAMD,IAInEjH,WAAW0H,EAAMC,EAAMzF,GACnB,IAAI0F,EAEJF,EAAKG,MAAMC,QAAU,IACf3E,OAAOnC,OAAWkB,EAAQ,QAC5BwF,EAAKG,MAAMzB,IAAMlE,EAAE6F,OAAUL,EAAKf,OAAQ,EAAK,KAC/Ce,EAAKG,MAAMrB,KAAOtE,EAAE8F,OAAUN,EAAKjB,MAAO,EAAK,OAE/CiB,EAAKG,MAAMzB,IAAMlE,EAAE+F,QAAWP,EAAKf,OAAQ,EAAK,KAChDe,EAAKG,MAAMrB,KAAOtE,EAAEgG,QAAWR,EAAKjB,MAAO,EAAK,MAGpDmB,EAAY3H,KAAKkI,YAAYT,EAAMC,GAGnC1H,KAAKmI,iBAAiBV,EAAKG,MAAMzB,IAAKsB,EAAKG,MAAMrB,MACjD,IAAI6B,EAAMC,SAASC,eAAe,2BAClCF,EAAIhF,MAAQpD,KAAKC,WACjBmI,EAAMC,SAASC,eAAe,UAE1BF,EAAIG,QADJZ,EAAU,EAKe,oBAAlBtE,iBACPrD,KAAKS,KAAqB,GAAbkH,EACbtE,eAAe,EAAGsE,IAK1B5H,qBAAqByI,GACjBxI,KAAKC,WAAa,iCAAiCuI,EAAQ,mBAG/DzI,iBAAiB0I,EAAUC,GACvB1I,KAAKC,WAAa,mCAAmC0I,SAASF,GAAW,iBAAiBE,SAASD,GAAY,eAInH3I,YAAY0H,EAAKC,GACb,IAAIkB,EAAU,EAMd,OALMD,SAASlB,EAAKG,MAAMzB,KAAQsB,EAAKf,OAAQ,GAASiC,SAASjB,EAAKE,MAAMzB,MAAYwC,SAASlB,EAAKG,MAAMzB,KAASsB,EAAKf,OAAQ,GAASiC,SAASjB,EAAKE,MAAMzB,KAAOwC,SAASjB,EAAKE,MAAMlB,SAChLiC,SAASlB,EAAKG,MAAMrB,MAASkB,EAAKjB,MAAO,GAAQmC,SAASjB,EAAKE,MAAMrB,OAAaoC,SAASlB,EAAKG,MAAMrB,MAASkB,EAAKjB,MAAO,GAASmC,SAASjB,EAAKE,MAAMrB,MAAQoC,SAASjB,EAAKE,MAAMpB,SACtLoC,EAAU,GAGXA,EAIX7I,aAAa0F,EAAGoD,EAAK5C,GACjB,GAAIR,EAAI,CAEJ,IAAIqD,EAAmC,GAA9BrD,EAAGsD,WAAWlD,QAAQ,KAAawC,SAASC,eAAe7C,EAAGpE,aAAa,OAASgH,SAASC,eAAe7C,GAEjHuD,EAAY,MAALF,EAAaA,EAAEG,WAAW,MAAQ,GAGzCC,EAAMC,OAAOC,KAAKP,GAAMrE,OAG5B,GAAU,IAANqE,GAAiB,IAALG,EAEZ,IAAK,IAAIrH,EAAI,EAAGA,GAAKuH,EAAMvH,IACvB,IAAK,IAAI0H,EAAI,EAAGA,GAAKR,EAAKlH,GAAM,EAAE6C,OAAQ6E,IACtCL,EAAIM,YACJN,EAAIO,UAAc,IAClBP,EAAIQ,YAAcvD,EAClB+C,EAAIS,OAAOZ,EAAKlH,GAAM,EAAE0H,GAAIR,EAAKlH,GAAM,EAAE0H,IACzCL,EAAIU,OAAOb,EAAKlH,GAAM,EAAE0H,EAAE,GAAIR,EAAKlH,GAAM,EAAE0H,EAAE,IAC7CL,EAAIW,UAQxB5J,eAAe6J,EAAKjE,EAAKjF,GACrB,IAAIiH,EAAU,EACVkC,EAAQ7J,KAAK8J,WAAWF,GACxBG,EAAQ/J,KAAK8J,WAAWnE,GACxBqE,EAAQ,EAAGvJ,EAAQ,EACnBwJ,EAAQd,OAAOC,KAAKW,GAAMvF,OAC1B0F,EAAQf,OAAOC,KAAKS,GAAMrF,OAC9B,IAAK,IAAI7C,EAAI,EAAGA,GAAKsI,EAAMtI,IAAK,CAE5B,IAAI,IAAI0H,EAAI,EAAGA,GAAKa,EAAMb,IACtB,GAAGQ,EAAKR,GAAW,QAAKU,EAAKpI,GAAW,QAAKkI,EAAKR,GAAU,OAAKU,EAAKpI,GAAU,OACzEkI,EAAKR,GAAQ,KAAKU,EAAKpI,GAAQ,KAAMoI,EAAKpI,GAAS,KAAIoI,EAAKpI,GAAU,OAAMkI,EAAKR,GAAS,KAAIQ,EAAKR,GAAU,QAAK,GAC9GQ,EAAKR,GAAS,MAAKU,EAAKpI,GAAS,MAAMoI,EAAKpI,GAAQ,IAAIoI,EAAKpI,GAAW,QAAMkI,EAAKR,GAAQ,IAAIQ,EAAKR,GAAW,SAAK,EAAG,CACtHW,IACA,MAKa,oBAAlB3G,iBACH1B,GAAKqI,GAAOvJ,IAChB4C,eAAezD,EAAGuC,OAAOzB,GAAKW,aAAa,mBAAoBZ,IAOvE,OAJIwJ,GAAQD,GAASC,GAAMC,IAEvBvC,EAAW,GAERA,EAIX5H,WAAWoK,GACP,IAAIjB,EAAMC,OAAOC,KAAKe,GAAY3F,OAClC,GAAgB,IAAZ2F,EAAgB,CAChB,IAAIC,EAAU,GACd,IAAK,IAAIzI,EAAI,EAAGA,GAAKuH,EAAMvH,IACvByI,EAAQzI,GAAI3B,KAAKqK,cAAc,GAAGF,EAAWxI,GAAM,EAAEwI,EAAWxI,GAAM,GAE1E,OAAOyI,GAKfrK,WAAWW,EAAK0C,EAAOiB,EAASS,GAC5BlF,EAAGgH,UAAUlG,EAAI,MAAMe,SAASuB,IAC5B,GAAIA,EAAKpB,YAAY0I,QAAUlH,IAC3BJ,EAAK7B,UAAUI,IAAIuD,GACP,KAATT,GAAc,CACb,IAAIgB,EAEAA,EADW,gBAAXP,EACsB,6GAEA,kGAE1BlF,EAAG2F,OAAOvC,EAAM,uKAA0KqC,EAAsB,sBAOhOtF,cAAcW,GACV,GAAkD,GAA9CV,KAAKuK,cAAcC,WAAW,GAAGC,UAAgB,CACjDzK,KAAK0K,sBACL,IAAIC,EAAiB3K,KAAKuK,cAAcC,WAAW,GAE/CI,GADQD,EAAeE,YACfjL,EAAG4B,KAAKd,EAAK,UAAUW,aAAa,mBAAmB0C,MAAM,MACrE,IAAI+G,EAAYH,EAAe5B,WAEnC,GADI+B,EAAYA,EAAUR,OACX,CACX,IAAI3E,EAAS/F,EAAGmF,YAAY+F,EAAUF,GAAO,EAAI,EACjD5K,KAAK+K,iBAAiB,gDAAgDpF,EAAK,gBAAgBmF,EAAU,cAMjH/K,sBACI,IAAIiL,EAGJ,GAAI9H,OAAO+H,eAAiBD,GAAO9H,OAAO+H,gBAAgBC,QAEtD,GADAF,EAAM9H,OAAO+H,eACF,IAAPD,IAAcA,EAAIG,YAAa,CAE/B,IAAIC,EAAQ/C,SAASgD,cACrBD,EAAME,SAASN,EAAIO,WAAYP,EAAIQ,cACnCJ,EAAMK,OAAOT,EAAIU,UAAWV,EAAIW,aAChC,IAAIC,EAAYR,EAAMS,UACtBT,EAAMU,SAGN,IAAIC,EAAUf,EAAIU,UAAWjB,EAAYO,EAAIW,YAC7CX,EAAIgB,SAAShB,EAAIO,WAAYP,EAAIQ,cAC7BI,GACGhM,EAAGmF,YAAYiG,EAAIO,WAAW3J,YAAYqK,OAAOjB,EAAIQ,aAAa,GAAG,CAAC,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,QAC7FR,EAAIE,OAAO,OAAQ,WAAY,aAC/BF,EAAIE,OAAO,OAAQ,UAAW,SAElCF,EAAIkB,OAAOH,EAAStB,GACpBO,EAAIE,OAAO,SAAU,UAAW,aAChCF,EAAIE,OAAO,SAAU,WAAY,UAEjCF,EAAIE,OAAO,OAAQ,UAAW,aAC9BF,EAAIE,OAAO,OAAQ,WAAY,QAC/BF,EAAIkB,OAAOH,EAAStB,GACjB7K,EAAGmF,YAAYiG,EAAIO,WAAW3J,YAAYqK,OAAOxB,EAAU,GAAG,CAAC,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,QACtFO,EAAIE,OAAO,SAAU,WAAY,aACjCF,EAAIE,OAAO,SAAU,UAAW,gBAIzC,GAAMF,GAAO3C,SAASyC,WAA0B,WAAZE,EAAIpK,KAAmB,CAC9D,IAAIuL,EAAYnB,EAAIK,cACpB,GAAIc,EAAUC,KAAM,CAGhB,IAFAD,EAAUE,OAAO,QAEV,MAAMC,KAAKH,EAAUC,OACxBD,EAAUI,QAAQ,aAAc,GAEpCJ,EAAUhK,WAMtBpC,iBAAiByM,GACb,IAAIxB,EAAKI,EACT,GAAIlI,OAAO+H,cAGP,GADAD,EAAM9H,OAAO+H,eACTD,EAAIR,YAAcQ,EAAIyB,WAAY,CAClCrB,EAAQJ,EAAIR,WAAW,GACvBY,EAAMsB,iBAIN,IAAIjH,EAAK4C,SAASsE,cAAc,OAChClH,EAAGjD,UAAYgK,EAEf,IADA,IAA8CI,EAAMC,EAAhDC,EAAOzE,SAAS0E,yBACXH,EAAOnH,EAAGuH,YACfH,EAAWC,EAAKG,YAAYL,GAEhCxB,EAAM8B,WAAWJ,GAGbD,IACAzB,EAAQA,EAAM+B,aACd/B,EAAMgC,cAAcP,GACpBzB,EAAMY,UAAS,GACfhB,EAAIqC,kBACJrC,EAAIsC,SAASlC,UAGd/C,SAASyC,WAAwC,WAA3BzC,SAASyC,UAAUlK,MAEhDyH,SAASyC,UAAUO,cAAckC,UAAUf,GAKnDzM,cACI,GAAImD,OAAO+H,aACP,OAAO/H,OAAO+H,eACX,GAAG5C,SAAS4C,aACf,OAAO5C,SAAS4C,eAEhB,IAAIH,EAAYzC,SAASyC,WAAazC,SAASyC,UAAUO,cACzD,QAAIP,EAAUsB,MAAetB,EAAUsB,KAM/CrM,WAAWyN,EAAM9M,EAAKC,GAClB,IAAI8M,EAAgBD,EAAKhL,UACrBkL,EAAQ,IAAIC,OAAO,kBAAmB,KAC1CF,EAAgBA,EAAczI,QAAQ0I,EAAO,IAC7CF,EAAKI,WAAWC,aAAaxF,SAASyF,eAAeL,GAAgBD,GAChE7M,GAAQf,EAAG4B,KAAKd,EAAK,SAAU,CAACmB,OAAQ,OAAQC,WAAYlC,EAAG4B,KAAKd,EAAK,UAAU8B,YAI5FzC,UAAUgO,GAINnO,EAAGgH,UAAU,iBAAkB,WAAY,KACvCmH,GACAnO,EAAGgH,UAAU,UAAW,cAAe,KACvC5G,KAAKgO,YACLhO,KAAKiO,YAAYjO,KAAKM,OAAQ,IAAK,KAEnCV,EAAGgH,UAAU,QAAS,cAAe,KACrChH,EAAGgH,UAAU,UAAW,WAAY,KACpC5G,KAAKkO,UACLlO,KAAKiO,YAAYjO,KAAKM,OAAQ,IAAK,IAK3CP,YACIC,KAAKO,WAAY,EACjBX,EAAG4B,KAAKxB,KAAKM,OAAQ,oBAAqB,CAACuB,OAAQ,MAAOC,WAAY,CAAC+F,QAAS,WAChFjI,EAAG4B,KAAKxB,KAAKM,OAAQ,cAAe,CAACuB,OAAQ,MAAOC,WAAY,CAACqM,cAAe,UAIpFpO,UACIC,KAAKO,WAAY,EACjBX,EAAG4B,KAAKxB,KAAKM,OAAQ,oBAAqB,MAAO,CAACuH,QAAS,SAC3DjI,EAAG4B,KAAKxB,KAAKM,OAAQ,cAAe,MAAO,CAAC6N,cAAe,UCvkBnE,SAASC,EAAMC,EAAGC,GAWd,OAVI,IAASC,MAAMC,OAAOH,IACtBrO,KAAKyO,EAAI,EAETzO,KAAKyO,EAAIJ,GAET,IAASE,MAAMC,OAAOF,IACtBtO,KAAK0O,EAAI,EAET1O,KAAK0O,EAAIJ,EAEN,CACHK,EAAK3O,KAAKyO,EACVG,EAAK5O,KAAK0O,GAGlB,MAAM9O,EAAK,IAAIC,EACA,MAAMgP,EACpB9O,YAAY+O,GACX9O,KAAK+O,eAAYC,EACjBhP,KAAKiP,eAAiB,CACrBhO,OAAQ,GACRiO,QAAQ,EACR1I,MAAOsI,EAAQtI,MACfE,OAAQoI,EAAQpI,OAChByI,SAAU,GACVC,QAAUnN,MACVoN,OAASpN,MACTqN,QAAUrN,MACVsN,UAAYtN,OAEbjC,KAAKwP,SAAW,EAChBxP,KAAKyP,SAAU,EACfzP,KAAK0P,IAAM,QACX1P,KAAK2P,GAAK,iBAAmBvJ,KAAKwJ,MAAqB,IAAdxJ,KAAKyJ,SAAgB,GAC9D7P,KAAK8P,eAAiB,GAClBhB,IAAS9O,KAAK+P,SAAW,IAAI/P,KAAKiP,kBAAmBH,IACzD3J,QAAQC,IAAIpF,KAAK+P,WACb,IAASxB,MAAMvO,KAAK+P,SAASrJ,UAChC1G,KAAK+P,SAASrJ,OAAS,MAEpB,IAAS6H,MAAMvO,KAAK+P,SAASvJ,SAChCxG,KAAK+P,SAASvJ,MAAQ,KAGvBxG,KAAKgQ,OAGNjQ,OACC,IAAIiB,EAAQhB,KAAK+P,SAAS9O,OACtBD,GAC6B,YAA5BA,EAAMK,aAAa,OAAsBzB,EAAGqQ,MAAMjP,GACtDpB,EAAG2F,OAAOvE,EAAO,eAAehB,KAAK2P,oCAAoC3P,KAAK+P,SAASZ,mBAAmBnP,KAAK+P,SAASnP,qBAAqBZ,KAAK+P,SAASlP,mCAAmCb,KAAK+P,SAASrJ,kBAAkB1G,KAAK+P,SAASvJ,mBAAoB,aAC7PxG,KAAKkP,QAAQlP,KAAK+P,SAASb,SAC3BlP,KAAK8P,eAAiBzH,SAASC,eAAetI,KAAK2P,IAAI1G,WAAW,MAClEjJ,KAAK8P,eAAevG,UAAYvJ,KAAKkP,UACrClP,KAAK8P,eAAeI,QAAUlQ,KAAK0P,KAC/B,IAAU1P,KAAKmQ,YACf9H,SAASC,eAAetI,KAAK2P,IAAIS,iBAAiB,YAAapQ,KAAKqQ,UAAU3N,KAAK1C,OAAO,GAC1FqI,SAASC,eAAetI,KAAK2P,IAAIS,iBAAiB,YAAapQ,KAAKsQ,MAAM5N,KAAK1C,OAAO,GACtFqI,SAASC,eAAetI,KAAK2P,IAAIS,iBAAiB,UAAWpQ,KAAKuQ,QAAQ7N,KAAK1C,OAAO,KAGtFqI,SAASC,eAAetI,KAAK2P,IAAIS,iBAAiB,aAAcpQ,KAAKqQ,UAAU3N,KAAK1C,OAAO,GAC3FqI,SAASC,eAAetI,KAAK2P,IAAIS,iBAAiB,YAAapQ,KAAKsQ,MAAM5N,KAAK1C,OAAO,GACtFqI,SAASC,eAAetI,KAAK2P,IAAIS,iBAAiB,WAAYpQ,KAAKuQ,QAAQ7N,KAAK1C,OAAO,KAG9FmF,QAAQqL,MAAM,sBAIhBzQ,eAAekC,GACd,IAAI,IAASjC,KAAKmQ,WAAY,CAC7B,IAAIM,EAAKvN,OAAOwN,QACZ,CAAC,aAAc,aAAa7K,QAAQ5D,EAAErB,OAAS,IAClDqB,EAAE0O,QAAU1O,EAAE2O,cAAc,GAAGC,MAC/B5O,EAAE6O,QAAU7O,EAAE2O,cAAc,GAAGG,MAAQN,GAEpC,CAAC,YAAY5K,QAAQ5D,EAAErB,OAAS,IACnCqB,EAAE0O,QAAU1O,EAAE+O,eAAe,GAAGH,MAChC5O,EAAE6O,QAAU7O,EAAE+O,eAAe,GAAGD,MAAQN,GAG1C,OAAOxO,EAGRlC,UAAUkC,GACT,IAAI,IAASjC,KAAKiR,YACjB,OAEIhP,IACJA,EAAIiB,OAAOnC,QAER,IAASf,KAAKmQ,aACjBlO,EAAEiP,iBACFjP,EAAIjC,KAAKmR,eAAelP,IAEzB,IAAImP,EAASxR,EAAGwR,OAAOpR,KAAK+P,SAAS9O,QACjCwP,EAAKvN,OAAOwN,QACZW,EAAK,IAAIjD,EAAMnM,EAAE0O,QAAUS,EAAO7K,KAAMtE,EAAE6O,SAAWM,EAAOjL,IAAIsK,IAIpE,OAHAzQ,KAAK+O,UAAYsC,EACjBrR,KAAKyP,SAAU,EACfzP,KAAK+P,SAASX,QAAQiC,IACf,EAGRtR,MAAMkC,GACAA,IACJA,EAAIiB,OAAOnC,QAER,IAASf,KAAKmQ,aACjBlO,EAAEiP,iBACFjP,EAAIjC,KAAKmR,eAAelP,IAEzB,IAAImP,EAASxR,EAAGwR,OAAOpR,KAAK+P,SAAS9O,QACjCwP,EAAKvN,OAAOwN,QACZW,EAAK,IAAIjD,EAAMnM,EAAE0O,QAAUS,EAAO7K,KAAMtE,EAAE6O,SAAWM,EAAOjL,IAAIsK,IASpE,OARI,IAASzQ,KAAKiR,aACjBjR,KAAKsR,SAAStR,KAAK+O,UAAUJ,EAAG3O,KAAK+O,UAAUH,EAAGyC,EAAG1C,EAAG0C,EAAGzC,GAC3D5O,KAAK+O,UAAYsC,EACjBrR,KAAK+P,SAAST,QAAQ+B,IAGtBrR,KAAK+P,SAASV,OAAOgC,IAEf,EAGRtR,QAAQkC,GACP,IAAI,IAAUjC,KAAKiR,YAClB,QAEG,IAASjR,KAAKmQ,aACjBlO,EAAEiP,iBACFjP,EAAIjC,KAAKmR,eAAelP,IAEzB,IAAImP,EAASxR,EAAGwR,OAAOpR,KAAK+P,SAAS9O,QACjCwP,EAAKvN,OAAOwN,QACZW,EAAK,IAAIjD,EAAMnM,EAAE0O,QAAUS,EAAO7K,KAAMtE,EAAE6O,SAAWM,EAAOjL,IAAIsK,IAIpE,OAHAzQ,KAAK+P,SAASR,UAAU8B,GACxBrR,KAAKyP,SAAU,GAER,EAGR1P,WACC,MAAO,iBAAkBmD,OAG1BnD,QAASkC,GAMR,YALI+M,IAAc/M,IACb,IAAUsM,MAAMC,OAAOvM,MAC1BjC,KAAKwP,SAAWvN,GAGXjC,KAAKwP,SAGbzP,YACC,GAAIC,KAAK+P,SAASwB,SACjB,OAAOvR,KAAKyP,QAGd1P,QAAQkC,GACP,QAAI+M,IAAc/M,EACjB,OAAOA,GACN,IAAK,OACL,IAAK,QACL,IAAK,SACJjC,KAAK0P,IAAMzN,EAId,OAAOjC,KAAK0P,IAIb3P,UAAUkC,GACT,QAAG+M,IAAc/M,EAAG,CACnB,IAAIoM,EAAIzO,EAAGmH,UAAU,uDACrBsH,EAAEzG,MAAM4J,gBAAkBvP,EAC1B,IAAIqM,EAAID,EAAEzG,MAAM4J,qBACXxC,IAAcV,GAAO,KAAOA,IAChCpL,OAAO+C,MAAQhE,GAGjB,OAAOiB,OAAO+C,MAGflG,UACC,OAAOC,KAAK8P,eAGb/P,eACC,IAAIyG,EAAQ5G,EAAG4B,KAAK6G,SAAU,UAAUhH,aAAa,SAAS2D,QAAQ,KAAK,IACvE0B,EAAS9G,EAAG4B,KAAK6G,SAAU,UAAUhH,aAAa,UAAU2D,QAAQ,KAAK,IAC7EhF,KAAK8P,eAAe2B,UAAU,EAAG,EAAEjL,EAAME,GAG1C3G,SAAS2R,EAAOC,EAAOC,EAAKC,QACtB7C,IAAc0C,QAAW1C,IAAc2C,QAAW3C,IAAc4C,QAAS5C,IAAc6C,IACvF,IAAUtD,MAAMC,OAAOkD,MAAa,IAAUnD,MAAMC,OAAOmD,MAAa,IAAUpD,MAAMC,OAAOoD,MAAW,IAAUrD,MAAMC,OAAOqD,MACpI7R,KAAK8P,eAAeI,QAAUlQ,KAAK0P,IACnC1P,KAAK8P,eAAetG,YAActG,OAAO+C,MACzCjG,KAAK8P,eAAevG,UAAYvJ,KAAKwP,SACrCxP,KAAK8P,eAAexG,YACpBtJ,KAAK8P,eAAerG,OAAOiI,EAAOC,GAClC3R,KAAK8P,eAAepG,OAAOkI,EAAKC,GAChC7R,KAAK8P,eAAenG,oBCpMJmI,EAAW7P,EAAG8P,EAAOC,EAAOC,EAAUC,OAG9CvK,EACAwK,GAAc1D,EAAGxM,EAAE8F,OAAQ2G,EAAGzM,EAAE6F,OAAQ3B,IAAK,EAAGI,KAAO,EAAG6L,KAAM,GAAIxH,KAAK,EAAOmH,MAAAA,EAAOC,MAAAA,EAAOC,SAAAA,EAAUC,QAAAA,OAPtFzJ,EAAUC,SAQ5BzG,EAAE8F,QAAU9F,EAAE6F,QACdqK,EAAWhM,IAAMlE,EAAE6F,OAAS,GAC5BqK,EAAW5L,KAAOtE,EAAE8F,OAAS,KAE7BoK,EAAWhM,IAAMlE,EAAE+F,QAAU,GAC7BmK,EAAW5L,KAAOtE,EAAEgG,QAAU,IAGlCN,WA1BiBwK,OACbvJ,EAAY,EACZyJ,EAAeF,EAAWD,QAAUC,EAAWJ,MAC/CO,EAAcH,EAAWF,SAAWE,EAAWH,aAC/CG,EAAWhM,IAAMgM,EAAWD,SAAWC,EAAWhM,IAAMkM,GAAgBF,EAAW5L,KAAO4L,EAAWF,UAAYE,EAAW5L,KAAO+L,IACnI1J,EAAY,GAETA,EAmBKV,CAAYiK,GAGxBA,EAAWC,MAnBW3J,EAmBa0J,EAAWhM,IAnBduC,EAmBmByJ,EAAW5L,KAlBvD,mCAAmCoC,SAASF,GAAW,iBAAiBE,SAASD,GAAY,gBAmBvE,oBAAlBrF,iBACP5C,KAAqB,GAAbkH,EAAkB,EAAI,EAC9BtE,eAAe,EAAG5C,OAIlB0R,EAAWvH,IADXjD,EAAY,EAMTwK,8CC0dLnJ,MAAWA,MAAUA,6FAArBA,MAAWA,MAAUA,+EARtBA,uaA1BK9F,OAAOI,SAAWJ,OAAOqP,WAAavJ,KAAMwJ,uHAepCxJ,kBACbA,KAAMwJ,sBAEDxJ,KAAMwJ,UAAY,sBACjBxJ,KAAMyJ,WAAa,yCACJC,EAAU1J,yOApB1B9F,OAAOI,SAAWJ,OAAOqP,WAAavJ,KAAMwJ,4CAepCxJ,sBACbA,KAAMwJ,2CAEDxJ,KAAMwJ,UAAY,8BACjBxJ,KAAMyJ,WAAa,oDACJC,EAAU1J,aAM/BA,mVAlEgCA,KAAMwJ,uBAAoBxJ,KAAMyJ,gDAE1DC,EAAU1J,+BACVA,0HAOOA,qCACJA,oCACDA,uCACGA,sCACDA,qKAUDA,uCACDA,kDAHWA,oSA7BPA,KAAcA,KAAa,WAAa,yCACpCA,uRAULA,yCAJqBA,KAAMwJ,+BAAoBxJ,KAAMyJ,iCAE1DC,EAAU1J,uCACVA,2DAOOA,qCACJA,oCACDA,uCACGA,sCACDA,iGAUDA,uCACDA,2EAHWA,0OA7BPA,KAAcA,KAAa,WAAa,yCACpCA,kVAhBM,KAAxBA,MAAUA,SAyDmB,KAAxBA,MAAUA,yCA9DJA,2BACEA,8QA4GXA,iNAAAA,uGA3fJ0J,EAAY,wEATLC,WACAhP,gBACAiP,eACAC,cACAC,kBACAC,WAELC,MAAYlT,MAsCdmT,EArCAC,EAAW,GAEXC,EAAM,GACNC,GACHC,UAAW,IACXC,WAAY,IACZC,eAAgB,IAChBC,QAAS,KAENC,KAKAC,EAAa,EACbC,EAAkB,OAClBC,GAAe,EACfC,EAAc,GACdC,EAAiB,GACjBC,EAAgB,GAChBC,EAAe,GAGfC,EAAkB,OAClBC,EAAW,EACXC,EAAW,EACXpC,EAAW,EACXC,EAAW,EACXpR,EAAS,GACTwT,EAAY,GAGZC,EAAkB,GAClBC,EAAkB,EAClBC,EAAkB,EAClBC,EAAkB,GAClB3T,EAAc,GAGd4T,EAAY,QACZpU,EAAU,GACVD,EAAQ,EACRF,KACAC,cAyCKuU,gBACRL,EAAYnB,EAAgB,MAAO,IAAS,OAC5CoB,EAAYpB,EAAgB,MAAW,QACvCqB,EAAWrB,EAAgB,MAAU,OACpBlE,MAAbqF,GAAuC,IAAbA,QAC7BA,EAAYnB,EAAgB,MAAS,MAAEyB,oBAExCP,EAAUlB,EAAgB,MAAU,QAE5BE,EAAUiB,QAEZ,IAEHO,UAAY1B,EAAS2B,MAAMC,QAAQ,KACnCC,SAAW7B,EAAS2B,MAAMG,OAAO,KAGjCC,EAAG9S,OAAO8S,EAAGC,OAAO,YAAa,OAAQ,SACzCD,EAAGrO,UAAU,oCAAqC,kBAE/C,IAEE2H,MAAM2E,EAAS2B,MAAMC,WACzB5B,EAAS2B,MAAMC,QAAU5B,EAAS2B,MAAMC,QAAQ,MAEjDF,UAAY1B,EAAS2B,MAAMC,QAC3BC,SAAW7B,EAAS2B,MAAMG,OAAO,KAGjCC,EAAG9S,OAAO8S,EAAGC,OAAO,YAAa,OAAQ,SACzCD,EAAGrO,UAAU,oCAAqC,kBAE/C,SAICuO,MAAYC,MAChBD,EAAM/E,iBAAiB,iBAAiBrP,OACvC0S,EAAMhB,UAAaS,EAAS2B,MAAMC,QAAU9U,KAAK0G,OAAUwM,EAAS2B,MAAMC,QAAQ,KAAO9U,KAAK0G,OAAO,YACrG+M,EAAMjB,SAAYU,EAAS2B,MAAMG,OAAShV,KAAKwG,MAAS0M,EAAS2B,MAAMG,OAAS,KAAOhV,KAAKwG,MAAQ,QACpGyO,EAAGzT,KAAK,YAAa,UAAWK,OAAQ,OAAQC,YAAa4E,OAAS+M,EAAMhB,UAAWjM,MAAOiN,EAAMjB,YACpGyC,EAAGhF,MAAM,YACToF,OACE,GACHF,EAAMG,aAAa,MAAO5C,EAAYQ,EAAS2B,MAAMU,kBAMlD,UAGHnB,EAAUlB,EAAS2B,MAAMU,YACzBpC,EAAMD,EAAS2B,MAAMW,WACrBrB,EAAQsB,WAAWvC,EAAgB,MAAO,IAAQ,YAClDgB,EAAQuB,WAAWvC,EAAgB,MAAO,IAAS,OAAG,IACtDnB,EAAQ0D,WAAWvC,EAAgB,MAAO,IAAW,SACrDlB,EAAQyD,WAAWvC,EAAgB,MAAO,IAAU,YACpDC,EAAMD,EAAgB,MAAO,IAAQ,MACrCtS,EAAOsS,EAAgB,MAAO,IAAQ,SACtCQ,EAAcR,EAAS2B,MAAMa,IAAIC,aACjChC,EAAmBT,EAAS2B,MAAMa,IAAIE,kBACtC7B,EAAgBb,EAAS2B,MAAMa,IAAIV,OAAO,UAC1ClB,EAAiBZ,EAAS2B,MAAMa,IAAIZ,QAAQ,UAC5Cd,EAAed,EAAS2B,MAAMa,IAAIG,MAAM,UACxChC,EAAcX,EAAS2B,MAAMa,IAAII,KAAK,UAElCX,MAAYC,MAChBD,EAAMY,sBACDC,EAAchW,KAAK0G,OAAO,KAC1BuP,EAAcjW,KAAKwG,MAAM,SAC7BiN,EAAMhB,UAAcS,EAAS2B,MAAMa,IAAIQ,WAAehD,EAAS2B,MAAMa,IAAIQ,WAAW,KAAO,yBAC3FzC,EAAMjB,SAAYU,EAAS2B,MAAMa,IAAIS,UAAajD,EAAS2B,MAAMa,IAAIS,UAAU,KAAQ,qBACvFlB,EAAG9S,OAAO,YAAa,OAAQuE,OAAQsP,EAAaxP,MAAOyP,KAE5Dd,EAAM3N,IAAMkL,EAAYQ,EAAS2B,MAAMU,kBAOlCa,IACJvD,OACHoB,EAAa,aAEVkB,MAAYC,SAChBD,EAAMY,kBACuB,KAAxB3C,EAAUiB,QACbZ,EAAMhB,UAAaS,EAAS2B,MAAMC,QAAU9U,KAAK0G,OAAUwM,EAAS2B,MAAMC,QAAQ,KAAO9U,KAAK0G,OAAO,YACrG+M,EAAMjB,SAAYU,EAAS2B,MAAMG,OAAShV,KAAKwG,MAAS0M,EAAS2B,MAAMG,OAAS,KAAOhV,KAAKwG,MAAQ,cAEpGiN,EAAMhB,UAAcS,EAAS2B,MAAMa,IAAIQ,WAAehD,EAAS2B,MAAMa,IAAIQ,WAAW,KAAO,yBAC3FzC,EAAMjB,SAAYU,EAAS2B,MAAMa,IAAIS,UAAajD,EAAS2B,MAAMa,IAAIS,UAAU,KAAQ,uBAGzFhB,EAAM3N,IAAMkL,EAAY0B,EACpBzQ,QACH6Q,EAAc7Q,OACV0S,EAAYC,EAAU3S,GACtB0S,EAAUE,OAASF,EAAUE,MAAMb,UACtC9B,GAAe,QACfM,EAAQmC,EAAUE,MAAMb,IAAIc,kBAC5BrC,EAAQkC,EAAUE,MAAMb,IAAIe,uBAyBtBC,WACRzC,EAAa,SAGe,KAAxBb,EAAUiB,QACT5O,EAAKwP,EAAGzT,KAAK,eAAgB,UAC7B0E,EAAMT,EAAGpE,aAAa,cAChB,IAAL6E,IAASA,EAAMzC,KAAKsC,MAAMG,IAC/B8M,EAAMhN,aAAaP,EAAIS,EAAK,SAG7B8M,EAAM2D,UAAU,GAGhB1B,EAAG9S,OAAO,YAAa,OAAQgM,cAAe,kBAItCkH,WACRpB,EAAa,QAEe,KAAxBb,EAAUiB,IACbY,EAAGzT,KAAK,eAAgB,UAAWK,OAAQ,oBAsB1BnB,EAAIC,OAClBiW,EAAU3B,EAAGzT,KAAKd,EAAK,aAC3BA,EAAMkW,MAGFC,MAAchI,GACR5N,OAAQ2V,EACRpQ,OAAUiN,EAAMjB,SAASxN,QAAQ,KAAM,IACvC0B,QAAW+M,EAAMhB,UAAUzN,QAAQ,KAAM,IAC7BnE,WAAAA,EACZsO,SAAU,cACVD,QAAS,EACTtO,KAAM,iBACN2Q,UAAY5Q,EACZZ,WACAA,YACAA,QAAmBkC,GAEf/B,EAAM4W,KAAK7U,EAAE0M,GACbxO,EAAM2W,KAAK7U,EAAE2M,IAEjB7O,UAAqBkC,aAmBTA,EAAGvB,EAAKC,OAC1BkC,EAAc,GACdD,GAAoB,MAGnBjC,GACJN,EAAU,OAEN0W,EAAO1O,SAAS7C,cAAc,yBAAyBpC,MAIjD,KAHV2T,EAAOA,EAAKnR,UAAUmR,EAAKlR,QAAQ,KAAKkR,EAAKjR,YAAY,KAAK,KAI7DiR,EAAQ5N,OAAOC,KAAK3F,KAAKsC,MAAMgR,IAAOvS,OACtCnE,EAAU2S,EAAMgE,cAActW,EAAKR,EAAOC,EAAO4W,IAEjD1W,EAAU2S,EAAMgE,cAActW,EAAKR,EAAOC,EAAOC,GAG9C8C,OAAOI,UACVJ,OAAOK,WAAaL,OAAOK,YAI5BL,OAAOC,6BAA+B,EAEtC8R,EAAG9S,OAAO,2BAA4B,MAAO9B,QAC7CmU,EAAcnU,GACdH,KAAUC,SAEN+F,EAAO+O,EAAGzT,KAAKd,EAAK,UAAUW,aAAa,cAE3CsE,EAAOsP,EAAGzT,KAAKd,EAAK,UAAUW,aAAa,WAGpC,IAANsE,IAAUA,EAAOlC,KAAKsC,MAAMJ,IACvB,IAALO,IAASA,EAAMzC,KAAKsC,MAAMG,QAG3B+Q,EAAOjE,EAAMkE,eAAevR,EAAKO,EAAIxF,GACrCyW,EAAU,YAEVF,EAAO,GACVrU,GAAoB,EACpBuU,EAAU,cACV1D,EAAM2D,aAAc,KAChBrE,GAAaD,EAAQ,aAEzBlQ,GAAoB,EACpBuU,EAAU,gBACV1D,EAAM2D,aAAc,MAGjBrE,GAAaD,EAAQqE,GACzBtU,EAAcoS,EAAG9S,OAAO,4BAA4BiB,MAEtC6R,EAAG9S,OAAO,WAAWoG,QAAlC0O,EAAO,EACJ/T,OAAOI,UAAUJ,OAAOM,YAAYC,KAAKC,WAAYd,kBAAAA,EAAmBC,YAAAA,IAAgB,MA3E3FwU,CAAcpV,EAAGvB,EAAKC,MAGxB8T,EAAY6C,OAAO3E,EAAI4E,MAAM,6BAC7B9C,EAAYA,EAAU7O,UAAU,KAAO6O,EAAUjQ,OAAS,GAErD7D,GACJsU,EAAGxS,OAAO,eAAgB,QAAS,eAClCoU,EAAQW,eACRnX,EAAU,GAAID,EAAQ,OACtBoU,EAAe,IACfS,EAAGrO,UAAUqO,EAAG9S,OAAOzB,GAAKoC,SAAU,QAAS4B,QAAS,QAG1DxB,OAAO2T,QAAUA,EAzDhBY,CAAU,eAAgB,OACtBC,EAAQC,2BACPlS,EAAKwP,EAAGzT,KAAK,eAAgB,UAE7BkE,EAASuP,EAAG9S,OAAO,yBAAyBiB,MAEhDuC,EAASD,EAAOE,UAAUF,EAAOG,QAAQ,KAAKH,EAAOI,YAAY,KAAK,GAG3D,IAANH,IAAUA,EAAOlC,KAAKsC,MAAMJ,IAEjCqN,EAAMhN,aAAaP,EAAIE,EAAM8O,GAC7BmD,aAAaF,KACZ,KAGH1E,EAAM2D,YACN1B,EAAG9S,OAAO,YAAa,OAAQgM,cAAe,gBA/K/C0J,aACC3E,EAAWoD,EAAU3D,GACrB+B,IACA0B,uQA/BIvD,EAEH6D,IAGArB,4CAIK1C,OAEFmF,EAAQnF,EAAI3N,QAAQ,iBAAe,aAAaA,QAAQ,WAAS,OAGjE8S,EAAMP,MAAM,0CAEf1W,EAAciX,EAAM/O,WAAWwO,MAAM,mBACrCtE,EAAkBpS,EAAWkI,WAAWwO,MAAM,mBAC9CtE,EAAmBA,EAAmBA,EAAgB8E,MAAQ,WAC9D9E,EAAmBA,EAAmBA,EAAgBjO,QAAQ,UAAU,IAAM,GAC9E8S,EAAQA,EAAM9S,QAAQnE,EAAY,SAClCA,EAAaA,EAAW,KAEzBqS,EAAWoD,EAAU3D,GACrB+B,IACA0B,wCArCqB,aA2JArV,OACjBP,EAASsR,EAAW/Q,EAAOgR,EAAOC,EAAOrJ,SAASqL,GAAerL,SAASkL,QAC9ED,GAAe,QACfM,EAAQ1T,EAAO+F,WACf4N,EAAQ3T,EAAO2F,UACfyM,EAAYpS,EAAOoK,KACfmI,GAAaD,EAAQF,EAAY,UAAY,aACjDoF,EAAgBxX,iBA8JGyX,UACZA,OAED,QACA,SACCC,EAAe,GACfC,EAAgB,MAChBxU,OACCyU,EAAQ9B,EAAU3S,GACtBT,OAAOoJ,KAAO3I,EAEVyU,GAAOC,OAAO3C,MACjBwC,EAAeE,EAAMC,MAAM3C,IAAI,iBAC/ByC,EAAgBC,EAAMC,MAAM3C,IAAI,gFAKOzC,iFAG9BqF,iDACYC,mDACDC,kDACHN,uCACCC,0FAEEpD,oBAAoBH,qHAM3B"}