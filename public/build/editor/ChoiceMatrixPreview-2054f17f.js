import{S as e,i as t,s as l,F as o,e as r,j as m,q as c,h as a,u as s,f as n,Z as i,x as h,o as d,D as _,b as u,g as f,l as g,c as p,m as b,t as x,a as E,d as A,E as F,a5 as v,p as y,X as D,A as k,w,Y as C}from"./main-6cbec38b.js";import{I as B}from"./ItemHelper-f86c9041.js";import{l as N}from"./parseCSV-929be628.js";const{document:S}=o;function $(e,t,l){const o=e.slice();return o[26]=t[l],o[28]=l,o}function R(e,t,l){const o=e.slice();return o[29]=t[l],o[31]=l,o}function j(e,t,l){const o=e.slice();return o[26]=t[l],o[28]=l,o}function J(e){let t,l=e[2].cdata.option,o=[];for(let t=0;t<l.length;t+=1)o[t]=M(j(e,l,t));return{c(){for(let e=0;e<o.length;e+=1)o[e].c();t=c()},m(e,l){for(let t=0;t<o.length;t+=1)o[t].m(e,l);a(e,t,l)},p(e,r){if(20&r[0]){let m;for(l=e[2].cdata.option,m=0;m<l.length;m+=1){const c=j(e,l,m);o[m]?o[m].p(c,r):(o[m]=M(c),o[m].c(),o[m].m(t.parentNode,t))}for(;m<o.length;m+=1)o[m].d(1);o.length=l.length}},d(e){_(o,e),e&&d(t)}}}function M(e){let t,l,o,c,_,u=e[26].text.replace(/\n/gm,"</br>").replace(/#cm/gm,",")+"";return{c(){t=r("th"),l=s(u),n(t,"key",o=e[28]),n(t,"class",c=i(("#5B9BD5"==e[4][e[2].theme]?"theme_color_theme1":"#3B67BC"==e[4][e[2].theme]?"theme_color_theme2":"#F6C3A2"==e[4][e[2].theme]?"theme_color_theme3":"#70AD47"==e[4][e[2].theme]?"theme_color_theme4":"#745998"==e[4][e[2].theme]?"theme_color_theme5":"")+" preview_header adjust_width "+("theme3"!==e[2].theme?e[26].id+"text-center text-white":e[26].id+"text-center"))+" svelte-362b7m"),n(t,"tabindex",_=0)},m(e,o){a(e,t,o),m(t,l)},p(e,o){4&o[0]&&u!==(u=e[26].text.replace(/\n/gm,"</br>").replace(/#cm/gm,",")+"")&&h(l,u),4&o[0]&&c!==(c=i(("#5B9BD5"==e[4][e[2].theme]?"theme_color_theme1":"#3B67BC"==e[4][e[2].theme]?"theme_color_theme2":"#F6C3A2"==e[4][e[2].theme]?"theme_color_theme3":"#70AD47"==e[4][e[2].theme]?"theme_color_theme4":"#745998"==e[4][e[2].theme]?"theme_color_theme5":"")+" preview_header adjust_width "+("theme3"!==e[2].theme?e[26].id+"text-center text-white":e[26].id+"text-center"))+" svelte-362b7m")&&n(t,"class",c)},d(e){e&&d(t)}}}function O(e){let t,l=e[1].cdata.term,o=[];for(let t=0;t<l.length;t+=1)o[t]=z($(e,l,t));return{c(){for(let e=0;e<o.length;e+=1)o[e].c();t=c()},m(e,l){for(let t=0;t<o.length;t+=1)o[t].m(e,l);a(e,t,l)},p(e,r){if(302&r[0]){let m;for(l=e[1].cdata.term,m=0;m<l.length;m+=1){const c=$(e,l,m);o[m]?o[m].p(c,r):(o[m]=z(c),o[m].c(),o[m].m(t.parentNode,t))}for(;m<o.length;m+=1)o[m].d(1);o.length=l.length}},d(e){_(o,e),e&&d(t)}}}function I(e){let t,l,o,c,s,h,_,f,p,b,x,E,A,F,v,y,D,k,w,C,B,N,S,$,R;return{c(){t=r("td"),l=r("i"),c=u(),s=r("i"),_=u(),f=r("input"),y=u(),D=r("label"),n(l,"class","fa fa-check svelte-362b7m"),n(l,"aria-hidden","true"),n(l,"style",o=P(e[3])),n(s,"class","fa fa-close"),n(s,"aria-hidden","true"),n(s,"style",h=P(e[3])),n(f,"type","radio"),n(f,"class","test_radio CMRad"),n(f,"style",p="vertical-align:middle;"),f.value=b=e[29].id,n(f,"name",x="tm"+(e[28]+1)),n(f,"id",E="t"+e[28]+e[31]),n(f,"data-termid",A=e[26].id),n(f,"data-correct",F=e[26].correct),n(f,"data-userans",""),n(f,"data-role","none"),n(f,"tabindex",v=-1),n(D,"tabindex",k=0),n(D,"class",w="label_choice customRadCM "+(e[31]%2==0?"tureitemColorCM":"falseitemColorCM")),n(D,"for",C="t"+e[28]+e[31]),n(t,"key",B=e[31]),n(t,"id",N="tb"+e[28]+e[31]),n(t,"class",S=i((e[28]%2==0?"#DEEAF6"==e[5][e[2].theme]?"theme_color_terms_theme1":"#D4DEF1"==e[5][e[2].theme]?"theme_color_terms_theme2":"#FAE0CF"==e[5][e[2].theme]?"theme_color_terms_theme3":"#E2EFD9"==e[5][e[2].theme]?"theme_color_terms_theme4":"#E1DAE9"==e[5][e[2].theme]?"theme_color_terms_theme5":"#FFF":"#FFF")+" text-center test_area"+(e[29].id==e[26].correct?"dbg-success":"dbg-danger")+" position-relative")+" svelte-362b7m")},m(o,r){a(o,t,r),m(t,l),m(t,c),m(t,s),m(t,_),m(t,f),m(t,y),m(t,D),$||(R=g(f,"click",e[8]),$=!0)},p(e,l){2&l[0]&&b!==(b=e[29].id)&&(f.value=b),2&l[0]&&A!==(A=e[26].id)&&n(f,"data-termid",A),2&l[0]&&F!==(F=e[26].correct)&&n(f,"data-correct",F),6&l[0]&&S!==(S=i((e[28]%2==0?"#DEEAF6"==e[5][e[2].theme]?"theme_color_terms_theme1":"#D4DEF1"==e[5][e[2].theme]?"theme_color_terms_theme2":"#FAE0CF"==e[5][e[2].theme]?"theme_color_terms_theme3":"#E2EFD9"==e[5][e[2].theme]?"theme_color_terms_theme4":"#E1DAE9"==e[5][e[2].theme]?"theme_color_terms_theme5":"#FFF":"#FFF")+" text-center test_area"+(e[29].id==e[26].correct?"dbg-success":"dbg-danger")+" position-relative")+" svelte-362b7m")&&n(t,"class",S)},d(e){e&&d(t),$=!1,R()}}}function z(e){let t,l,o,c,g,p,b,x,E=e[26].text.replace(/\n/gm,"</br>").replace(/#cm/gm,",")+"",A=e[1].cdata.option,F=[];for(let t=0;t<A.length;t+=1)F[t]=I(R(e,A,t));return{c(){t=r("tr"),l=r("td"),o=s(E),p=u();for(let e=0;e<F.length;e+=1)F[e].c();b=u(),n(l,"class",c=i((e[28]%2==0?"#DEEAF6"==e[5][e[2].theme]?"theme_color_terms_theme1":"#D4DEF1"==e[5][e[2].theme]?"theme_color_terms_theme2":"#FAE0CF"==e[5][e[2].theme]?"theme_color_terms_theme3":"#E2EFD9"==e[5][e[2].theme]?"theme_color_terms_theme4":"#E1DAE9"==e[5][e[2].theme]?"theme_color_terms_theme5":"#FFF":"#FFF")+" "+e[26].id+" position-relative")+" svelte-362b7m"),n(l,"tabindex",g=0),f(l,"font-size","14pt"),f(l,"vertical-align","middle"),f(l,"font-family",e[2].font),n(t,"key",x=e[28])},m(e,r){a(e,t,r),m(t,l),m(l,o),m(t,p);for(let e=0;e<F.length;e+=1)F[e].m(t,null);m(t,b)},p(e,r){if(2&r[0]&&E!==(E=e[26].text.replace(/\n/gm,"</br>").replace(/#cm/gm,",")+"")&&h(o,E),6&r[0]&&c!==(c=i((e[28]%2==0?"#DEEAF6"==e[5][e[2].theme]?"theme_color_terms_theme1":"#D4DEF1"==e[5][e[2].theme]?"theme_color_terms_theme2":"#FAE0CF"==e[5][e[2].theme]?"theme_color_terms_theme3":"#E2EFD9"==e[5][e[2].theme]?"theme_color_terms_theme4":"#E1DAE9"==e[5][e[2].theme]?"theme_color_terms_theme5":"#FFF":"#FFF")+" "+e[26].id+" position-relative")+" svelte-362b7m")&&n(l,"class",c),4&r[0]&&f(l,"font-family",e[2].font),302&r[0]){let l;for(A=e[1].cdata.option,l=0;l<A.length;l+=1){const o=R(e,A,l);F[l]?F[l].p(o,r):(F[l]=I(o),F[l].c(),F[l].m(t,b))}for(;l<F.length;l+=1)F[l].d(1);F.length=A.length}},d(e){e&&d(t),_(F,e)}}}function W(e){let t,l,o,c,_,f,g,F,v,y,D,k,w,C,N,S,$,R,j,M=e[2].stem.replace(/\n/gm,"</br>").replace(/#cm/gm,",")+"";o=new B({props:{handleReviewClick:e[9],reviewMode:e[0]}}),o.$on("setReview",e[6]),o.$on("unsetReview",e[7]);let I=e[2].cdata&&J(e),z=e[1].cdata&&O(e);return{c(){t=r("main"),l=r("div"),p(o.$$.fragment),c=u(),_=r("center"),f=r("table"),g=r("thead"),F=r("tr"),v=r("th"),y=s(M),w=u(),I&&I.c(),C=u(),N=r("tbody"),z&&z.c(),n(v,"class",D=i(("#5B9BD5"==e[4][e[2].theme]?"theme_color_theme1":"#3B67BC"==e[4][e[2].theme]?"theme_color_theme2":"#F6C3A2"==e[4][e[2].theme]?"theme_color_theme3":"#70AD47"==e[4][e[2].theme]?"theme_color_theme4":"#745998"==e[4][e[2].theme]?"theme_color_theme5":"")+" preview_header "+("theme3"!==e[2].theme?"text-center text-white":"text-center"))+" svelte-362b7m"),n(v,"tabindex",k=0),n(F,"class","table-head"),n(f,"class",S="table testmode_table "),n(f,"id","test_table"),n(f,"style",$="position:relative; margin-top:20px;width:"+e[2].maxWidth+"px;font-family: Georgia;"),n(l,"id","choicemain"),n(l,"style",R="margin-bottom:20px")},m(e,r){a(e,t,r),m(t,l),b(o,l,null),m(l,c),m(l,_),m(_,f),m(f,g),m(g,F),m(F,v),m(v,y),m(F,w),I&&I.m(F,null),m(f,C),m(f,N),z&&z.m(N,null),j=!0},p(e,t){const l={};1&t[0]&&(l.reviewMode=e[0]),o.$set(l),(!j||4&t[0])&&M!==(M=e[2].stem.replace(/\n/gm,"</br>").replace(/#cm/gm,",")+"")&&h(y,M),(!j||4&t[0]&&D!==(D=i(("#5B9BD5"==e[4][e[2].theme]?"theme_color_theme1":"#3B67BC"==e[4][e[2].theme]?"theme_color_theme2":"#F6C3A2"==e[4][e[2].theme]?"theme_color_theme3":"#70AD47"==e[4][e[2].theme]?"theme_color_theme4":"#745998"==e[4][e[2].theme]?"theme_color_theme5":"")+" preview_header "+("theme3"!==e[2].theme?"text-center text-white":"text-center"))+" svelte-362b7m"))&&n(v,"class",D),e[2].cdata?I?I.p(e,t):(I=J(e),I.c(),I.m(F,null)):I&&(I.d(1),I=null),e[1].cdata?z?z.p(e,t):(z=O(e),z.c(),z.m(N,null)):z&&(z.d(1),z=null),(!j||4&t[0]&&$!==($="position:relative; margin-top:20px;width:"+e[2].maxWidth+"px;font-family: Georgia;"))&&n(f,"style",$)},i(e){j||(x(o.$$.fragment,e),j=!0)},o(e){E(o.$$.fragment,e),j=!1},d(e){e&&d(t),A(o),I&&I.d(),z&&z.d()}}}function q(){let e=document.getElementsByClassName("test_radio");for(let t=0;t<e.length;t++)e[t].getAttribute("id")==e[t].getAttribute("data-userans")?e[t].checked=!0:e[t].checked=!1}function G(){!function(){let e=document.querySelectorAll(" .test_radio");for(let t=0;t<e.length;t++)e[t].getAttribute("value")==e[t].getAttribute("data-correct")?e[t].checked=!0:e[t].checked=!1}(),L()}function L(){let e=document.getElementsByClassName("fa-check"),t=document.getElementsByClassName("fa-close");for(let l=0;l<e.length;l++)e[l].style.display="none",t[l].style.display="none"}function P(e){return 1==e?{paddingLeft:"14px",display:"inline-flex",position:"absolute"}:{paddingLeft:"15px",display:"none",position:"absolute"}}function V(e,t,l){let o,{showAns:r}=t,{editorState:m}=t,{xml:c}=t,{uxml:a}=t,{isReview:s}=t,n={cdata:""},i={},h=0;w({cdata:"",stem:"",xml:"",theme:"",font:"",maxWidth:"",totalcorrectans:""}).subscribe((e=>{l(2,i=e)}));function d(){let e=function(){let e=0,t=0,l=document.getElementsByClassName("test_radio");for(let t=0;t<l.length;t++)if(l[t].getAttribute("value")==l[t].getAttribute("data-correct")){if(1!=l[t].checked)return e=0,l[t].setAttribute("as",0),!1;l[t].setAttribute("as",1),e=1}for(let e=0;e<l.length;e++)l[e].getAttribute("value")==l[e].getAttribute("data-correct")&&1==l[e].checked&&t++,"undefined"!=typeof calculatePoint&&calculatePoint(i.totalcorrectans,t);return e}();e=1==e,a?k.select("#answer").checked=e:m&&r(e?"Correct":"Incorrect"),C({uXml:o,ans:e})}function _(){q(),k.select(".dbg-success input","checked").forEach((e=>{k.siblings(e,".fa-check").forEach((e=>{e.style.display="inline-flex"}))})),k.select(".dbg-danger input","checked").forEach((e=>{k.siblings(e,".fa-close").forEach((e=>{e.style.display="inline-flex"}))})),k.selectAll(".dbg-success input, .dbg-danger input","removeAttr","as"),k.select(".dbg-success input","checked").forEach((e=>{e.setAttribute("as",1)})),k.select(".dbg-success input","checked").forEach((e=>{e.setAttribute("as",0)})),k.select(".dbg-success input","checked").forEach((e=>{k.siblings(e,".label_choice").forEach((e=>{e.setAttribute("title","is marked as correct")}))})),k.select(".dbg-danger input","checked").forEach((e=>{k.siblings(e,".label_choice").forEach((e=>{e.setAttribute("title","is marked as incorrect")}))}))}function u(){l(0,s=!0);let e=k.selectAll(" .test_radio");for(let t=0;t<e.length;t++)e[t].disabled=!0;_()}function f(){l(0,s=!1);let e=document.getElementsByClassName("test_radio");for(let t=0;t<e.length;t++)e[t].disabled=!1;L()}return F((()=>{var e;c!=i.xml&&(l(2,i.xml=c,i),e=a,function(e,t){l(2,i.theme=e.smxml._theme,i),l(2,i.font=e.smxml._font,i),l(2,i.maxWidth=e.smxml._maxwidth?e.smxml._maxwidth:800,i);let o=N.parseCSVFormat(e.smxml.__cdata),r=[];r=JSON.parse(JSON.stringify(o)),l(2,i.cdata=r,i),l(2,i.stem=r.stem,i),l(1,n.cdata=r,n);let m=n.cdata.term.length;if(l(2,i.totalcorrectans=m,i),f(),t)try{t=JSON.parse(t);let e=[];e=JSON.parse(JSON.stringify(t)),setTimeout((function(){e.ans.map((function(e,t){k.selectAll(".test_area #"+e.userAns,"attr",{"data-userans":e.userAns})})),q()}),100)}catch(e){}else{let e=document.getElementsByClassName("test_radio");for(let t=0;t<e.length;t++)e[t].checked=!1,e[t].setAttribute("data-userans","")}}(D(c),e))})),v((()=>{s||L()})),y((()=>{AI.listen("body","keydown",".label_choice",(function(e,t){13===t.which&&e.click()}))})),e.$$set=e=>{"showAns"in e&&l(10,r=e.showAns),"editorState"in e&&l(11,m=e.editorState),"xml"in e&&l(12,c=e.xml),"uxml"in e&&l(13,a=e.uxml),"isReview"in e&&l(0,s=e.isReview)},e.$$.update=()=>{18433&e.$$.dirty[0]&&(s?(u(),m&&0==h&&(l(14,h=1),d())):(l(14,h=0),q(),f()))},[s,n,i,undefined,{theme1:"#5B9BD5",theme2:"#3B67BC",theme3:"#F6C3A2",theme4:"#70AD47",theme5:"#745998"},{theme1:"#DEEAF6",theme2:"#D4DEF1",theme3:"#FAE0CF",theme4:"#E2EFD9",theme5:"#E1DAE9"},function(){u()},function(){q(),f()},function(e){let t=e.target.id,l=e.target.name,r=document.querySelectorAll(" .test_area input[name="+l+"]");for(let e=0;e<r.length;e++)r[e].setAttribute("data-userans","");k.selectAll(" .test_area #"+t,"attr",{"data-userans":t});let m={type:"34",ans:[]},c=document.getElementsByClassName("test_radio");for(let e=0;e<c.length;e++)1==c[e].checked&&m.ans.push({id:c[e].getAttribute("data-termid"),userAns:c[e].getAttribute("id")});o=JSON.stringify(m),d()},function(e,t){"c"==e?G():_()},r,m,c,a,h]}export default class extends e{constructor(e){var o;super(),S.getElementById("svelte-362b7m-style")||((o=r("style")).id="svelte-362b7m-style",o.textContent=".fa-check{color:#46A546;position:relative;left:50px}.fa-close{color:#A80000;left:50px}.fa-close{margin-left:20px;font-size:18px;position:absolute;top:10px}.fa-check{margin-left:20px;font-size:18px;position:absolute;top:10px}.fa-close,.fa-check.svelte-362b7m,.middle_align.svelte-362b7m{vertical-align:middle!important}.middle_align{width:164px;min-width:164px}.topic_input{min-width:257px}.preview_header{font-size:16pt;font-weight:bold;vertical-align:middle}.adjust_width{width:10%;text-align:center}.theme_color_theme1.svelte-362b7m{background-color:#5B9BD5!important}.theme_color_theme2.svelte-362b7m{background-color:#3B67BC!important}.theme_color_theme3.svelte-362b7m{background-color:#F6C3A2!important}.theme_color_theme4.svelte-362b7m{background-color:#70AD47!important}.theme_color_theme5.svelte-362b7m{background-color:#745998!important}.theme_color_terms_theme1.svelte-362b7m{background-color:#DEEAF6}.theme_color_terms_theme2.svelte-362b7m{background-color:#D4DEF1}.theme_color_terms_theme3.svelte-362b7m{background-color:#FAE0CF}.theme_color_terms_theme4.svelte-362b7m{background-color:#E2EFD9}.theme_color_terms_theme5.svelte-362b7m{background-color:#E1DAE9}",m(S.head,o)),t(this,e,V,W,l,{showAns:10,editorState:11,xml:12,uxml:13,isReview:0},[-1,-1])}}
//# sourceMappingURL=ChoiceMatrixPreview-2054f17f.js.map
