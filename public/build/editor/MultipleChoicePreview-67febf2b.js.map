{"version":3,"file":"MultipleChoicePreview-67febf2b.js","sources":["../../../clsSMMultipleChoice/MultipleChoicePreview.svelte"],"sourcesContent":["<script>\n\timport { beforeUpdate, onMount } from \"svelte\";\n\timport { writable } from \"svelte/store\";\n\timport { AH } from \"../helper/HelperAI.svelte\";\n\timport OptionContainer from \"./OptionContainer.svelte\";\n\texport let isReview;\n\texport let editorState;\n\n\tlet letters = \"ABCDEFGHIJKLMNOPQRSTUVWXYZ\".split('');\n\tlet state = {};\n\tlet hdd = writable({\n\t\t\tcorrectAnswers:\"\",\n\t\t\toptionData:\"\",\n\t\t\treviewMode:false\n\t\t});\n\tconst unsubscribe = ((items)=> {\n\t\tstate = items;\n\t});\n\n\tonMount(async()=> {\n\t\tloadOldModule();\n\t});\n\n\tbeforeUpdate(async()=> {\n\t\tloadOldModule();\n\t\tif (isReview != state.reviewMode) {\n\t\t\tstate.reviewMode = isReview;\n        }\n\t})\n\n\tfunction loadOldModule() {\n\t\tstate.correctAnswers = editorState.mcqAjaxData.correct_answers;\n\t\tstate.optionData = editorState.mcqAjaxData.answers;\n\t\tsetTimeout(function() {\n\t\t\tAH.addClass(AH.find(\"#previewSection\", \".prettyprintReplica\", 'all'), [\"prettyprint\", \"linenums\"]);\n\t\t\ttry {\n\t\t\t\t(JSON.stringify(editorState.mcqAjaxData.answers).match(/<uc:syntax/gm)) ? prettyPrint() : '';\n\t\t\t} catch(e) {\n\t\t\t\tconsole.warn(e);\n\t\t\t}\n\t\t\tAH.addClass(AH.find(\"#previewSection\", \".prettyprint\"), \"prettyprintReplica\");\n\t\t\tAH.addClass(AH.find(\"#previewSection\",\".prettyprintReplica\"), [\"prettyprint\", \"linenums\"]);\n\t\t}, 200);\n\t} \n</script>\n\n{#if state.optionData}\n\t<OptionContainer \n\t\tletters={letters} \n\t\tcorrectAnswers={state.correctAnswers} \n\t\treviewMode={state.reviewMode} \n\t\tdata={state.optionData} \n\t\tpreviewMode={true}\n\t/>\n{/if}"],"names":["ctx","correctAnswers","reviewMode","optionData","isReview","editorState","letters","split","state","loadOldModule","mcqAjaxData","correct_answers","answers","setTimeout","AH","addClass","find","JSON","stringify","match","prettyPrint","e","console","warn","onMount","beforeUpdate"],"mappings":"uPAgDWA,oBACOA,KAAMC,0BACVD,KAAME,gBACZF,KAAMG,wBACC,2FAHGH,KAAMC,mCACVD,KAAME,yBACZF,KAAMG,8HALTH,KAAMG,uFAANH,KAAMG,iNAzCCC,kBACAC,KAEPC,+BAAuCC,MAAM,IAC7CC,cAqBKC,QACRD,EAAMP,eAAiBI,EAAYK,YAAYC,uBAC/CH,EAAML,WAAaE,EAAYK,YAAYE,WAC3CC,uBACCC,EAAGC,SAASD,EAAGE,KAAK,kBAAmB,sBAAuB,QAAS,cAAe,iBAEpFC,KAAKC,UAAUb,EAAYK,YAAYE,SAASO,MAAM,iBAAmBC,oBACnEC,GACPC,QAAQC,KAAKF,GAEdP,EAAGC,SAASD,EAAGE,KAAK,kBAAmB,gBAAiB,sBACxDF,EAAGC,SAASD,EAAGE,KAAK,kBAAkB,wBAAyB,cAAe,eAC5E,YAvBJQ,aACCf,OAGDgB,aACChB,IACIL,GAAYI,EAAMN,gBACrBM,EAAMN,WAAaE"}