{"version":3,"file":"DrawingPreview-e7110ab1.js","sources":["../../../clsSMDrawing/DrawingPreview.svelte"],"sourcesContent":["<!--\n *  File Name   : DrawingPreview.svelte\n *  Description : Responsible for Preview Side functionality\n *  Author      : Ayush Srivastava\n *  Package     : clsSMDrawing (Preview)\n *  Last update : 09-April-2021\n *  Last Updated By : Ayush Srivastava\n-->\n<script>\n    import { afterUpdate, onMount } from \"svelte\";\n\timport { AH , onUserAnsChange, XMLToJSON} from '../helper/HelperAI.svelte';\n    import l from '../src/libs/Lang';\n    import swal from 'sweetalert';\n\timport { writable } from \"svelte/store\";\n    // exporting the variables\n    export let xml;\n\texport let uxml;\n\texport let isReview;\n\texport let showAns;\n\texport let editorState;\n\n    let bgImgPath = 'https://s3.amazonaws.com/jigyaasa_content_static/';\n    let xmlns = \"http://www.w3.org/2000/svg\";\n    // denotes that drawing is not sketching\n    let isDrawingPreview = false;\n    // allow to draw the drawing using compass\n    let isDrawCompassPreview = true;\n    // indicates that starting position should be store when perform using keyboard and compass\n    let isStoreStart = false;\n    // indicates that drawing is not started\n    let isDrawStop = 0;\n    // shows that is drawing started by keyboard\n    let startDrawingByKey = 0;\n    // used to creates an element with the specified namespace URI and qualified name\n    let scribble;\n    // denotes mouse co-ordinates\n    let preview_mouseX, preview_mouseY;\n    // scribble drawing tool is enable\n    let previewMode = 'scribble';\n    // strike color of drawing\n    let previewColor = '#00BCD4';\n    // stroke width of the drawing\n    let previewThickness = 5;\n    // contains object that have key type, index, mode, order and d\n    let previewScribblePath = [];\n    // shows number of drawing sketched with the help of drawing tools\n    let previewScribbleCount = 0;\n    // contains current mouse x position\n    let checkCurrentPositionX;\n    // contains current mouse y position\n    let checkCurrentPositionY;\n    // denoes no of undo done\n    let previewUndoCount = 0;\n    // contains undo data\n    let previewUndoList = [];\n    // contains redo data\n    let previewRedoList = [];\n    // contains the focusPoints\n    let accessibilityPointsPreview = [];\n    // number of focus point exist\n    let focusPointCountPreview = 1;\n    // used for not focus on perticular point\n    let lockFocus = 0;\n    // denotes that scribble drawing is not sketching\n    let isScribble = 0;\n    // for compass variable\n    // denotes x co-ordinate of the center\n    let cx;\n    // denotes y co-ordinate of the center\n    let cy;\n    // denotes x co-ordinate of the center of middle circle lies on rotationbar\n    let midCircle_cx;\n    // denotes y co-ordinate of the center of middle circle lies on rotationbar\n    let midCircle_cy;\n    // denotes x co-ordinate of the center of small middle circle lies on rotationbar\n    let midSmallCircle_cx;\n    // denotes y co-ordinate of the center of small middle circle lies on rotationbar\n    let midSmallCircle_cy;\n    // denotes x co-ordinate of the center of last circle lies on rotationbar\n    let lastCircle_cx;\n    // denotes y co-ordinate of the center of last circle lies on rotationbar\n    let lastCircle_cy;\n    // denotes x co-ordinate of the center of rotation indicator that can be seen after last circle on rotationbar\n    let lastSmallCircle_cx;\n    // denotes y co-ordinate of the center of rotation indicator that can be seen after last circle on rotationbar\n    let lastSmallCircle_cy;\n    // defines the compass radius\n    let previewCompassRadius = 100;\n    // denotes that compass is not moved\n    let isPreviewCompassMove = false;\n    // sets the default angle of compass\n    let previewCompassAngle = 90;\n    // denotes that compass radius not increased\n    let isPreviewRadiusIncrease = 0;\n    // denotes initial points co-ordinate\n    let initialPoint = { x: null, y: null };\n    // denotes final points co-ordinate\n    let finalPoint = { x: null, y: null };\n    // denotes no angle displaced\n    let compassAngleDisplacement = { start: null, end: null };\n    // denotes that is radius rotated\n    let isPreviewRadiusRotate = 0;\n    // y co-ordinate of the marked point\n    let cursorTop = 50;\n    // x co-ordinate of the marked point\n    let cursorLeft = 50;\n    // used for answer recording\n    let defaultXML = '';\n    let cdata = '';\n    // denotes that answer is incorrect\n    let isAnswerCorrect = false;\n    // for marking\n    let isMarking = 1;\n    // contains the co-ordinates of marked point\n    let markPoints = [];\n    // denotes array of drawing tools\n    let selectedToolsArray = [\"_scribble\", \"_line\", \"_compass\"];\n    // for user answer\n    let userAnsPath = [];\n    // initial layout of user answer xml\n    let userAnsXML = '<smans type=\"41\"></smans>';\n    // contains the x and y co-ordinate of the points marked by user\n    let userMarkingPoint = [];\n    // contains drawing sketched by user by the help of drawing tools\n    let userDrawPath = [];\n    // denotes that answer is incorrect\n    let userAnsCorrect = false;\n    // contains the co-ordinates of marked point\n    let markPointsData = [];\n    // for browsers\n    let is_mac = false;\n\n    let prev_store = writable({\n        // contains status of the answer\n        correctAnswer: false,\n            // contains the xml of the props\n        xml: '',\n        // not used any where\n        openImg: false,\n        // not used any where\n        openDrag: false,\n        // denotes background image\n        bgImg: 'useraccount_000ANv.png',\n        // not used any where \n        cdata: '',\n        // contains cdata value of backgroundPoint of smxml \n        focusDATA: '',\n        // not used any where \n        userXML: '',\n        // stroke color of the drawing sketch by the help of drawing tools\n        lineColor: '#00BCD4',\n        // contains drawing tools array\n        selectedTools: selectedToolsArray,\n        // denotes remediation mode is off\n        remediationMode: 'off',\n        // width of the background image\n        imgWidth: \"600\",\n        // alt message of background image\n        alt: \"Triangle image\",\n        // sets color of the mark points\n        markPointColor: '#00ff00',\n\t});\n    \n    // subscribing the store in the state variable\n    let state = {};\n    const unsubscribe = prev_store.subscribe(value => {\n\t\tstate = value;\n\t});\n\n    // for adding all the necessary events and the css files\n    onMount(async() => {\n        let config = {\n            preload: true,\n            type: 'stylesheet',\n            as: 'style'\n        }\n        AH.createLink(baseUrlTheme + 'clsSMDrawing/css/drawing.css', config);\n        // checked for mac device\n        is_mac = (navigator.userAgent.indexOf(\"Mac\") != -1)\n        // updates the position of rotationbar and change the center position of the circles that lies on rotationbar\n        updatePreviewCompassCalculation(160, 118, 100, 90);\n\n                \n        AH.listen('body', 'click', '#set-review', function () {\n            setReview()\n        });\n\n        AH.listen('body', 'click', '#unset-review', function () {\n            unsetReview()\n        });\n\n        AH.listen('body', 'click', '#preview_reset_btn', function () {\n            swal({\n                text: l.reset_module,\n                icon: \"warning\",\n                buttons: true,\n            }).then((value) => {\n                if (value) {\n                    // reset all the activity and makes it in initial condition as it looks like just after load\n                    parseXMLForGettingData();\n                    reinitializeFoucsEvent();\n                }\n            });\n        });\n\n        /** Start of key events **/\n        // to stop scrolling of page by space and arrow keys\n        AH.bind('body', 'keydown', function (event) {\n            if (!editorState && (event.keyCode == 32 || event.keyCode == 37 || event.keyCode == 38 || event.keyCode == 39 || event.keyCode == 40)) {\n                return false;\n            }\n        });\n\n        AH.listen('body', 'keyup', '.previewKeySvg .previewDrawingPaths path', function (current, event) {\n            if (event.keyCode == 46 || (event.keyCode == 8 && is_mac)) {\n                // removes drawing on which keyup event triggered and update the user answer xml\n                eraser(current, previewScribblePath);\n            }\n        });\n\n        AH.listen('body', 'keyup', '.previewKeySvg', function (current, event) {\n            if (event.keyCode == 90 && event.ctrlKey && ! AH.select('#preview_undo').disabled) {\n                if (startDrawingByKey && isDrawStop) {\n                    // stop the drawing and store the drawing sketched by the user and sets the user answer xml\n                    stopDraw();\n                }\n                // click the undo button\n                AH.select('#preview_undo').click();\n            }\n            if (event.keyCode == 89 && event.ctrlKey && ! AH.select('#preview_redo').disabled) {\n                if (startDrawingByKey && isDrawStop) {\n                    // stop the drawing and store the drawing sketched by the user and sets the user answer xml\n                    stopDraw();\n                }\n                // click the redo button\n                AH.select('#preview_redo').click();\n            }\n            if (event.keyCode == 88 && event.ctrlKey) {\n                // click the clear screen (x) button\n                AH.select('#preview_clearScreen').click();\n            }\n            if ((event.keyCode == 13 || event.keyCode == 32) && previewMode != 'compass' && previewMode != 'eraser') {\n                // hides the icon (+) used to sketch the drawing using keyboard\n                AH.select('#moveDrawIcon', 'removeClass', 'h');\n                // sets the cursor style to auto\n                AH.select('.previewKeySvg', 'css', {'cursor': 'auto'});\n            }\n            if (event.shiftKey && (event.keyCode == 13 || event.keyCode == 32) && AH.select('#moveDrawIcon').offsetHeight != 0) {\n                if (previewMode == 'markPoints') {\n                    // Creates an element with the specified namespace URI and qualified name.\n                    scribble = document.createElementNS(xmlns, 'circle');\n                    // sets the stroke color and width\n                    setPreviewColor(state.markPointColor, previewThickness);\n                    // adds a new attribute 'class' (with a namespace null)\n                    scribble.setAttributeNS(null, 'class', 'answer_mark');\n                    // adds a new attribute 'cx' (with a namespace null)\n                    scribble.setAttributeNS(null, 'cx', cursorLeft);\n                    // adds a new attribute 'cy' (with a namespace null)\n                    scribble.setAttributeNS(null, 'cy', cursorTop);\n                    // adds a new attribute 'r' (with a namespace null)\n                    scribble.setAttributeNS(null, 'r', '2px');\n                    // pushes the x and y co-ordinate of the mouse into markPoints array\n                    markPoints.push({\n                        x: cursorLeft,\n                        y: cursorTop\n                    });\n                    // prepend the element stored into variable scribble in mark point container in which drawings are stored done by the help of 'Mark Poin' And 'Finish Marking' buttons\n                    AH.select('.previewMarkingPaths').prepend(scribble);\n                    // checks the answer and updates the status and enables 'Mark Points' button and also updates its text as 'Mark Points' \n                    parseXMLForAnswer(false);\n                    // updates user answer xml\n                    createUXML();\n                } else {\n                    if (isDrawStop) {\n                        // stop the drawing and store the drawing sketched by the user and sets the user answer xml\n                        stopDraw();\n                    } else {\n                        startDrawingByKey = 1;\n                        // removes the all mark points and sets the value of the variable 'isMArking' to 1\n                        clearMarking();\n                        // Creates an element with the value of variable xmlns namespace URI and 'path' name\n                        scribble = document.createElementNS(xmlns, 'path');\n                        // sets the stroke color and width\n                        setPreviewColor(previewColor, previewThickness);\n                        // adds a new attribute 'data-type' (with a namespace null)\n                        scribble.setAttributeNS(null, 'data-type', previewMode + '_' + previewScribbleCount);\n                        // adds a new attribute 'data-order' (with a namespace null)\n                        scribble.setAttributeNS(null, 'data-order', previewScribbleCount);\n                        // adds a new attribute 'd' (with a namespace null)\n                        scribble.setAttributeNS(null, 'd', 'M' + cursorLeft + ' ' + cursorTop);\n                        // adds a new attribute 'tabindex' (with a namespace null)\n                        scribble.setAttributeNS(null, 'tabindex', '0');\n                        // contains the cursor left position\n                        checkCurrentPositionX = cursorLeft;\n                        // contains the cursor top position\n                        checkCurrentPositionY = cursorTop;\n                        // pushes object having keys mode, order, type, index and d with their values into  array previewScribblePath\n                        previewScribblePath.push({\n                            // define that perticular sequence element will be removed or added on drawing board\n                            mode: 'add',\n                            // defines what is the sequence of perticular drawing on drawing board means when it is drawn then how many drawing already done and it starts with 0\n                            order: previewScribbleCount,\n                            // defines which drawing tool is used for sketch the drawing with its sequence on drawing board combind with underscore (_)\n                            type: previewMode + '_' + previewScribbleCount,\n                            // not used as its requirement completed by order key\n                            index: previewScribbleCount,\n                            // specify the position from where drawing will start\n                            d: 'M' + cursorLeft + ' ' + cursorTop\n                        });\n                        // indicates that drawing is sketched\n                        isDrawStop = 1;\n                    }\n                }\n            }\n        });\n\n        AH.listen('body', 'keydown', '.previewKeySvg', function (current, event) {\n            if (AH.select('#moveDrawIcon').offsetHeight) {\n                // contains width of the background image\n                let imageWidth = AH.select('#svgImgPreview').clientWidth;\n                // contains width of the background image \n                let imageHeight = AH.select('#svgImgPreview').clientHeight;\n                if (event.shiftKey && (event.keyCode == 38 || event.keyCode == 37 || event.keyCode == 39 || event.keyCode == 40) && !lockFocus) {\n                    switch (event.keyCode) {\n                        case 38:\n                            // decreases the value of variable cursorTop by 1 after down the up arrow key\n                            cursorTop--;\n                            break;\n                        case 40:\n                            // increases the value of variable cursorTop by 1 after down the down arrow key\n                            cursorTop++;\n                            break;\n                        case 39:\n                            // increases the value of variable cursorLeft by 1 after down the right arrow key\n                            cursorLeft++;\n                            break;\n                        case 37:\n                            // decreases the value of variable cursorLeft by 1 after down the left arrow key\n                            cursorLeft--;\n                            break;\n                    }\n                    if (cursorTop < 0 || cursorLeft > imageWidth || cursorLeft < 0 || cursorTop > imageHeight) {\n                        return;\n                    }\n                    // sets the top and left position of the icon (+) used for sketch the drawing\n                    AH.select('#moveDrawIcon', 'css', {\n                        \"top\": cursorTop + 'px',\n                        \"left\": cursorLeft + 'px'\n                    });\n                    if (startDrawingByKey) {\n                        // adds a new attribute 'd' (with a namespace null)\n                        scribble.setAttributeNS(null, 'd', previewScribblePath[previewScribbleCount].d + ' L' + cursorLeft + ' ' + cursorTop);\n                        if (previewMode != 'line') {\n                            // adds value of variables cursorLeft and cursorTop separated by space with prefix 'L' in the previous value of the key 'd' at index specified in the variable previewScribbleCount of array previewScribblePath\n                            previewScribblePath[previewScribbleCount].d = previewScribblePath[previewScribbleCount].d + ' L' + cursorLeft + ' ' + cursorTop;\n                        }\n                        // prepend the element stored into variable scribble in drawing container in which drawings are stored sketched by the help of drawing tools\n                        AH.select('.previewDrawingPaths').prepend(scribble);\n                        // sets the value of the variable isDrawStop by 1 to indicate that sketching of the drawing is stopped\n                        isDrawStop = 1;\n                    }\n                }\n                if (event.shiftKey && event.keyCode == 76) {\n                    if (!lockFocus) {\n                        // fixed the mark point from where drawing will be start when performed via keyboard\n                        lockFocus = 1;\n                        startDrawingByKey = 1;\n                        // removes the all mark points and sets the value of the variable 'isMArking' to 1\n                        clearMarking();\n                        // contains the x co-ordinate of the mark point circle after converting it into number from string\n                        cursorLeft = Number(AH.select('.currentFocusPoint').getAttribute('cx'));\n                        // contains the y co-ordinate of the mark point circle after converting it into number from string\n                        cursorTop = Number(AH.select('.currentFocusPoint').getAttribute('cy'));\n                        // Creates an element with the value of variable xmlns namespace URI and 'path' name\n                        scribble = document.createElementNS(xmlns, 'path');\n                        // sets the stroke color and width\n                        setPreviewColor(previewColor, previewThickness);\n                        // adds a new attribute 'data-type' (with a namespace null)\n                        scribble.setAttributeNS(null, 'data-type', previewMode + '_' + previewScribbleCount);\n                        // adds a new attribute 'data-order' (with a namespace null)\n                        scribble.setAttributeNS(null, 'data-order', previewScribbleCount);\n                        // adds a new attribute 'd' (with a namespace null)\n                        scribble.setAttributeNS(null, 'd', 'M' + cursorLeft + ' ' + cursorTop);\n                        // adds a new attribute 'tabindex' (with a namespace null)\n                        scribble.setAttributeNS(null, 'tabindex', '0');\n                        // assign the value of current x position\n                        checkCurrentPositionX = cursorLeft;\n                        // assign the value of current y position\n                        checkCurrentPositionY = cursorTop;\n                        // pushes object having keys mode, order, type, index and d with their values into  array previewScribblePath\n                        previewScribblePath.push({\n                            mode: 'add',\n                            order: previewScribbleCount,\n                            type: previewMode + '_' + previewScribbleCount,\n                            index: previewScribbleCount,\n                            d: 'M' + cursorLeft + ' ' + cursorTop\n                        });\n                    } else {\n                        // unlock the focus point\n                        lockFocus = 0;\n                        // stop the drawing and store the drawing sketched by the user and sets the user answer xml\n                        stopDraw();\n                    }\n                }\n                if (event.keyCode == 9 && lockFocus && (previewMode == 'line' || previewMode == 'scribble')) {\n                    let drawLine = setTimeout(function () {\n                        if (!AH.select('.currentFocusPoint').nodeName) {\n                            return;\n                        }\n                        // contains the x co-ordinate of the mark point circle after converting it into number from string\n                        cursorLeft = Number(AH.select('.currentFocusPoint').getAttribute('cx'));\n                        // contains the y co-ordinate of the mark point circle after converting it into number from string\n                        cursorTop = Number(AH.select('.currentFocusPoint').getAttribute('cy'));\n                        if (isNaN(cursorLeft) && isNaN(cursorTop)) {\n                            return;\n                        }\n                        if (previewMode == 'scribble' || previewMode == 'line') {\n                            // indicates that scribble drawing is sketching\n                            isScribble = 1;\n                        }\n                        // adds a new attribute 'd' (with a namespace null)\n                        scribble.setAttributeNS(null, 'd', previewScribblePath[previewScribbleCount].d + ' L' + cursorLeft + ' ' + cursorTop);\n                        // prepend the element stored into variable scribble in drawing container in which drawings are stored sketched by the help of drawing tools\n                        AH.select('.previewDrawingPaths').prepend(scribble);\n                        clearTimeout(drawLine);\n                    }, 10)\n                }\n                if (event.keyCode == 68 && lockFocus && isScribble) {\n                    let draw_scribble = setTimeout(function () {\n                        if (isNaN(cursorLeft) && isNaN(cursorTop)) {\n                            return;\n                        }\n                        // adds value of variables cursorLeft and cursorTop separated by space with prefix 'L' in the previous value of the key 'd' at index specified in the variable previewScribbleCount of array previewScribblePath\n                        previewScribblePath[previewScribbleCount].d = previewScribblePath[previewScribbleCount].d + ' L' + cursorLeft + ' ' + cursorTop;\n                        // prepend the element stored into variable scribble in drawing container in which drawings are stored sketched by the help of drawing tools\n                        AH.select('.previewDrawingPaths').prepend(scribble);\n                        clearTimeout(draw_scribble);\n                        // indicates that scribble drawing is not sketching\n                        isScribble = 0;\n                    }, 10)\n                }\n\n            }\n        });\n        \n        AH.listen('body', 'keydown', '.previewKeySvg .drawingCompassCenter', function (current, event) {\n            // change the center position of the compass element\n            compassKeyEvent('move', event);\n        });\n\n        AH.listen('body', 'keydown', '.previewKeySvg .mid_circle', function (current, event) {\n            // change the radius of the compass element\n            compassKeyEvent('radius', event);\n        });\n\n        AH.listen('body', 'keydown', '.previewKeySvg .midSmallCircle', function (current, event) {\n            // change the angle of the compass element when focus is on small middle circle\n            compassKeyEvent('rotate', event);\n        });\n\n        AH.listen('body', 'keydown', '.previewKeySvg .lastCircle', function (current, event) {\n            // change the angle of the compass element when focus is on last circle\n            compassKeyEvent('draw', event);\n        });\n        \n        AH.listen('body', 'keydown', '.focusPoints', function (current, event) {\n            if (event.shiftKey && event.keyCode == 13) {\n                return false;\n            }\n            if ((event.keyCode == 13 || event.keyCode == 32) && previewMode != 'markPoints' && previewMode != 'eraser') {\n                // contains the x co-ordinate of the mark point circle after converting it into number from string\n                cursorLeft = Number(AH.select('.currentFocusPoint').getAttribute('cx'));\n                // contains the y co-ordinate of the mark point circle after converting it into number from string\n                cursorTop = Number(AH.select('.currentFocusPoint').getAttribute('cy'));\n                if (previewMode != 'compass') {\n                    // sets the position of the icon (+) used to sketch the drawing by the help of keyboard\n                    AH.select('#moveDrawIcon', 'css', {\n                        \"top\": cursorTop + 'px',\n                        \"left\": cursorLeft + 'px'\n                    });\n                } else {\n                    // updates the position of rotationbar and change the center position of the circles that lies on rotationbar\n                    updatePreviewCompassCalculation(cursorLeft, cursorTop, previewCompassRadius, previewCompassAngle);\n                }\n            }\n        });\n\n        AH.listen('body', 'keyup', '.previewKeySvg .lastCircle', function (current, event) {\n            if (!isDrawCompassPreview && isStoreStart && event.keyCode == 16) {\n                // stores the drawing sketched by user using keyboard and sets the user answer xml\n                storeCompassPathByKey();\n            }\n        });\n\n        /** End of key events **/\n        \n        AH.bind('.previewKeySvg .lastCircle', 'blur', function() {\n            if (!isDrawCompassPreview && isStoreStart) {\n                // stores the drawing sketched by user using keyboard and sets the user answer xml\n                storeCompassPathByKey();\n            }\n        });\n\n        AH.listen('body', 'mousedown', '#previewSvg .midSmallCircle', function () {\n            if (previewMode == \"compass\") {\n                // indicates that radius rotated\n                isPreviewRadiusRotate = 1;\n                // updates the value of compass radius and angle\n                checkPreviewRadiusAndAngle();\n                // contains the value of start angle\n                compassAngleDisplacement.start = previewCompassAngle;\n            }\n        });\n\n        AH.listen('body', 'mousedown', '#previewSvg .drawingCompassCenter', function () {\n            if (previewMode == \"compass\") {\n                // sets the x and y co-ordinate of the mouse position\n                setPreviewMouseCoordinates(event)\n                // contains x co-ordinate of the mouse\n                cx = preview_mouseX;\n                // contains y co-ordinate of the mouse\n                cy = preview_mouseY;\n                // contains radius of the compass\n                previewCompassRadius = AH.select('.drawingCompassRoute').getAttribute('r');\n                // updates the position of rotationbar and change the center position of the circles that lies on rotationbar\n                updatePreviewCompassCalculation(cx, cy, previewCompassRadius, previewCompassAngle);\n                // indicates that compass is moved\n                isPreviewCompassMove = true;\n            }\n        });\n\n        AH.listen('body', 'mousedown', '#previewSvg .mid_circle', function () {\n            if (previewMode == \"compass\") {\n                // allows to change the value of radius of the compass\n                isPreviewRadiusIncrease = 1;\n            }\n        });\n\n        AH.listen('body', 'mousedown', '#previewSvg .lastCircle', function (current, event) {\n            compassLastcircleEvent(event);\n        });\n\n        AH.listen('body', 'keydown', '#previewSvg .lastCircle', function (current, event) {\n            compassLastcircleEvent(event);\n        });\n\n        // Mouse down event\n        AH.listen('body', 'mousedown', '#previewSvg', function (current, event) {\n            // sets the cursor style as crosshair (+)\n            AH.select('#previewSvg', 'css' , {'cursor': 'crosshair'});\n            // hides the icon used to sketch the drawing by the help of keyboard\n            AH.select('#moveDrawIcon', 'addClass' , 'h');\n            if (startDrawingByKey && isDrawStop || lockFocus) {\n                // stop the drawing and store the drawing sketched by the user and sets the user answer xml\n                stopDraw();\n            }\n            switch (previewMode) {\n                case 'line':\n                case 'scribble':\n                    // removes the all mark points and sets the value of the variable 'isMArking' to 1\n                    clearMarking();\n                    // denotes that drawing is on going\n                    isDrawingPreview = true;\n                    // sets the x and y co-ordinate of the mouse position\n                    setPreviewMouseCoordinates(event);\n                    // Creates an element with the value of variable xmlns namespace URI and 'path' name\n                    scribble = document.createElementNS(xmlns, 'path');\n                    // sets the stroke color and width\n                    setPreviewColor(previewColor, previewThickness);\n                    // adds a new attribute 'data-type' (with a namespace null)\n                    scribble.setAttributeNS(null, 'data-type', previewMode + '_' + previewScribbleCount);\n                    // adds a new attribute 'data-order' (with a namespace null)\n                    scribble.setAttributeNS(null, 'data-order', previewScribbleCount);\n                    // adds a new attribute 'd' (with a namespace null)\n                    scribble.setAttributeNS(null, 'd', 'M' + preview_mouseX + ' ' + preview_mouseY);\n                    // adds a new attribute 'tabindex' (with a namespace null)\n                    scribble.setAttributeNS(null, 'tabindex', '0');\n                    // contains the x co-ordinate of the mouse\n                    checkCurrentPositionX = preview_mouseX;\n                    // contains the y co-ordinate of the mouse\n                    checkCurrentPositionY = preview_mouseY;\n                    // pushes object having keys mode, order, type, index and d with their values into  array previewScribblePath\n                    previewScribblePath.push({\n                        mode: 'add',\n                        order: previewScribbleCount,\n                        type: previewMode + '_' + previewScribbleCount,\n                        index: previewScribbleCount,\n                        d: 'M' + preview_mouseX + ' ' + preview_mouseY\n                    });\n                    break;\n                case 'eraser':\n                    // removes drawing on which keyup event triggered and update the user answer xml\n                    eraser('.currentSvg', previewScribblePath);\n                    break;\n                case 'markPoints':\n                    if (!isMarking) {\n                        // sets the x and y co-ordinate of the mouse position\n                        setPreviewMouseCoordinates(event);\n                        // Creates an element with the specified namespace URI and qualified name.\n                        scribble = document.createElementNS(xmlns, 'circle');\n                        // sets the stroke color and width\n                        setPreviewColor(state.markPointColor, previewThickness);\n                        // adds a new attribute 'class' (with a namespace null)\n                        scribble.setAttributeNS(null, 'class', 'answer_mark');\n                        // adds a new attribute 'cx' (with a namespace null)\n                        scribble.setAttributeNS(null, 'cx', preview_mouseX);\n                        // adds a new attribute 'cy' (with a namespace null)\n                        scribble.setAttributeNS(null, 'cy', preview_mouseY);\n                        // adds a new attribute 'r' (with a namespace null)\n                        scribble.setAttributeNS(null, 'r', '2px');\n                        // pushes the x and y co-ordinate of mouse into markPoints array\n                        markPoints.push({\n                            x: preview_mouseX,\n                            y: preview_mouseY\n                        });\n                        // prepend the element stored into variable scribble in mark point container in which drawings are stored done by the help of 'Mark Poin' And 'Finish Marking' buttons\n                        AH.select('.previewMarkingPaths').prepend(scribble);\n                        // checks the answer and updates the status and enables 'Mark Points' button and also updates its text as 'Mark Points' \n                        parseXMLForAnswer(false);\n                        // updates user answer xml\n                        createUXML();\n                    }\n                    break;\n            }\n        });\n\n        // Mouse Move event\n        AH.listen('body', 'mousemove', '#previewSvg', function (current, event) {\n            switch (previewMode) {\n                case 'line':\n                    if (isDrawingPreview) {\n                        // sets the x and y co-ordinate of the mouse position\n                        setPreviewMouseCoordinates(event);\n                        // adds a new attribute 'd' (with a namespace null)\n                        scribble.setAttributeNS(null, 'd', previewScribblePath[previewScribbleCount].d + ' L' + preview_mouseX + ' ' + preview_mouseY);\n                        if (!(checkCurrentPositionX == preview_mouseX && checkCurrentPositionY == preview_mouseY)) {\n                            // prepend the element stored into variable scribble in drawing container in which drawings are stored sketched by the help of drawing tools\n                            AH.select('.previewDrawingPaths').prepend(scribble);\n                        }\n                    }\n                    break;\n                case 'scribble':\n                    if (isDrawingPreview) {\n                        // sets the x and y co-ordinate of the mouse position\n                        setPreviewMouseCoordinates(event);\n                        // adds a new attribute 'd' (with a namespace null)\n                        scribble.setAttributeNS(null, 'd', previewScribblePath[previewScribbleCount].d + ' L' + preview_mouseX + ' ' + preview_mouseY);\n                        // adds value of variables preview_mouseX and preview_mouseY separated by space with prefix 'L' in the previous value of the key 'd' at index specified in the variable previewScribbleCount of array previewScribblePath\n                        previewScribblePath[previewScribbleCount].d = previewScribblePath[previewScribbleCount].d + ' L' + preview_mouseX + ' ' + preview_mouseY;\n                        if (!((previewScribblePath[previewScribbleCount].d.split('L').length - 1) < 3)) {\n                            // prepend the element stored into variable scribble in drawing container in which drawings are stored sketched by the help of drawing tools\n                            AH.select('.previewDrawingPaths').prepend(scribble);\n                        }\n                    }\n                    break;\n                case 'compass':\n                    // sets the x and y co-ordinate of the mouse position\n                    setPreviewMouseCoordinates(event)\n                    if (isPreviewCompassMove) {\n                        // contains the x co-ordinate of the mouse \n                        cx = preview_mouseX;\n                        // contains the y co-ordinate of the mouse \n                        cy = preview_mouseY;\n                        // contains radius of the compass\n                        previewCompassRadius = AH.select('.drawingCompassRoute').getAttribute('r');\n                        // updates the position of rotationbar and change the center position of the circles that lies on rotationbar\n                        updatePreviewCompassCalculation(cx, cy, previewCompassRadius, previewCompassAngle);\n                    }\n                    if (isPreviewRadiusIncrease) {\n                        // updates the value of compass radius and angle\n                        checkPreviewRadiusAndAngle();\n                        // calculates the radius by the help of start and end points co-ordinate of the rotation bar\n                        previewCompassRadius = 2 * Math.sqrt(Math.pow(preview_mouseX - initialPoint.x, 2) + Math.pow(preview_mouseY - initialPoint.y, 2))\n                        if (previewCompassRadius < 80) {\n                            // sets the value 80 of the variable previewCompassRadius\n                            previewCompassRadius = 80;\n                        }\n                        if (previewCompassRadius > 360) {\n                            // sets the value 360 of the variable previewCompassRadius\n                            previewCompassRadius = 360;\n                        }\n                        // updates the position of rotationbar and change the center position of the circles that lies on rotationbar\n                        updatePreviewCompassCalculation(initialPoint.x, initialPoint.y, previewCompassRadius, previewCompassAngle);\n                    }\n\n                    if (isPreviewRadiusRotate) {\n                        // updates the value of compass radius and angle\n                        checkPreviewRadiusAndAngle();\n                        // calculates the angle by the help of start and end points co-ordinate of the rotation bar\n                        previewCompassAngle = Math.atan2(preview_mouseY - initialPoint.y, preview_mouseX - initialPoint.x) * 180 / Math.PI;\n                        if (previewCompassAngle < 0) {\n                            // adds 360 into the value of the variable previewCompassAngle\n                            previewCompassAngle = 360 + previewCompassAngle;\n                        }\n                        // contains the value of end angle\n                        compassAngleDisplacement.end = previewCompassAngle;\n                        // updates the position of rotationbar and change the center position of the circles that lies on rotationbar\n                        updatePreviewCompassCalculation(initialPoint.x, initialPoint.y, previewCompassRadius, previewCompassAngle);\n                    }\n                    if (isDrawingPreview) {\n                        if (!(AH.select('#previewSvg .lastCircle').classList.contains('lastCircle_hover') || AH.select('#previewSvg .lastbigcircle').classList.contains('lastCircle_hover'))) {\n                            // trigger the event mouseleave on the element have id previewSvg\n                            previewMouseLeave(event);\n                        } else {\n                            // adds a new attribute 'd' (with a namespace null)\n                            scribble.setAttributeNS(null, 'd', previewScribblePath[previewScribbleCount].d + ' L' + lastCircle_cx + ' ' + lastCircle_cy);\n                            // adds value of variables lastCircle_cx and lastCircle_cy separated by space with prefix 'L' in the previous value of the key 'd' at index specified in the variable previewScribbleCount of array previewScribblePath\n                            previewScribblePath[previewScribbleCount].d = previewScribblePath[previewScribbleCount].d + ' L' + lastCircle_cx + ' ' + lastCircle_cy;\n                            if (!((previewScribblePath[previewScribbleCount].d.split('L').length - 1) < 4)) {\n                                // prepend the element stored into variable scribble in drawing container in which drawings are stored sketched by the help of drawing tools\n                                AH.select('.previewDrawingPaths').prepend(scribble);\n                            }\n                        }\n                    }\n                    break;\n            }\n        });\n\n        // Mouse Up Event\n        AH.listen('body', 'mouseup', '#previewSvg', function (current, event) {\n            previewMouseLeave(event);\n        });\n\n        // Mouse leave Event\n        AH.bind('#previewSvg', 'mouseleave', function (event) {\n            previewMouseLeave(event);\n        });\n\n        // For toolbar\n        AH.listen('body', 'click', '.preview_toolbar', function (current, event) {\n            toolbarAction(current, event);\n        });\n\n        AH.listen('body', 'keyup', '.preview_toolbar', function (current, event) {\n            toolbarAction(current, event);\n        });\n\n        \n        AH.listen('body', 'mouseover', '.previewDrawingPaths path', function (current) {\n            if (previewMode == 'eraser') {\n                // removes the class currentSvg from the element 'path' inside the element have class 'previewDrawingPaths'\n                AH.selectAll('.previewDrawingPaths path', 'removeClass' , 'currentSvg');\n                // adds the class 'currentSvg' to the element 'path' inside the element have class 'previewDrawingPaths' on which mouseover\n                current.classList.add('currentSvg');\n            }\n        });\n\n        AH.listen('body', 'mouseout', '.previewDrawingPaths path', function (current) {\n            if (previewMode == 'eraser') {\n                // removes the class 'currentSvg' to the element 'path' inside the element have class 'previewDrawingPaths' on which mouseout\n                current.classList.remove('currentSvg');\n            }\n        });\n\n        // last circle events\n        AH.listen('body', 'mousemove', '#previewSvg .lastCircle', function (current) {\n            // adds the class 'lastCircle_hover' to the last circle on compass rotation bar lies on route of the compass\n            current.classList.add(\"lastCircle_hover\");\n            // shows the rotational indicator\n            AH.selectAll('#previewSvg .lastCircleMid', 'attr' , {'opacity': 1});\n        });\n        \n        AH.listen('body', 'mouseout', '#previewSvg .lastCircle', function (current) {\n            // removes the class 'lastCircle_hover' to the last circle on compass rotation bar lies on route of the compass\n            current.classList.remove(\"lastCircle_hover\");\n            // hides the rotational indicator\n            AH.selectAll('#previewSvg .lastCircleMid', 'attr' , {'opacity': 0});\n        });\n\n        AH.listenAll('#previewSvg .lastCircle', 'focus', function (current) {\n            // adds the class 'lastCircle_hover' to the last circle on compass rotation bar lies on route of the compass\n            current.target.classList.add(\"lastCircle_hover\");\n            // shows the rotational indicator\n            AH.selectAll('#previewSvg .lastCircleMid', 'attr' , {'opacity': 1});\n        });\n        \n        AH.listenAll('#previewSvg .lastCircle', 'blur',function (current) {\n            // removes the class 'lastCircle_hover' to the last circle on compass rotation bar lies on route of the compass\n            current.target.classList.remove(\"lastCircle_hover\");\n            // hides the rotational indicator\n            AH.selectAll('#previewSvg .lastCircleMid', 'attr' , {'opacity': 0});\n        });\n\n        // for changing the active buttons\n        AH.listen('body', 'click', '.preview_btn', function (current) {\n            // removes the class active from drawing tools, delete and  'Mark Points' buttons\n            AH.selectAll('.preview_btn, #mark_points', 'removeClass', 'active');\n            // adds the class active which is clicked\n            current.classList.add('active');\n        });\n\n        // for clearing the screen\n        AH.listen('body', 'click', '#preview_clearScreen', function () {\n            // makes drawing container empty in which drawing is done by using drawing tools\n            AH.selectAll('.previewDrawingPaths path', 'remove');\n            // sets the value of variable 'previewUndoCount' to  0\n            previewUndoCount = 0;\n            // sets the value of variable 'previewScribbleCount' to  0\n            previewScribbleCount = 0;\n            // makes array 'previewScribblePath' empty to denote that no drawing is sketched\n            previewScribblePath = [];\n            // contains copy of array previewScribblePath\n            let tempArrayContainer = arrayCopy(previewScribblePath);\n            // stores the drawing sketched by user and sets the user answer xml\n            storeUserPaths(tempArrayContainer);\n            // disabled the undo, redo, cross (x) buttons\n            AH.select('#preview_undo').disabled = true;\n            AH.select('#preview_redo').disabled = true;\n            AH.select('#preview_clearScreen').disabled = true;\n        });\n\n        // for undo\n        AH.listen('body', 'click', '#preview_undo', function (current) {\n            if (previewUndoCount == 1) {\n                // disabled the undo button\n                current.disabled = true;\n            }\n            // enabled the redo button\n            AH.select('#preview_redo').disabled = false;\n            if (previewScribblePath[previewScribblePath.length - 1].mode == 'add') {\n                // removes the element that have data-order attribute and value of this attribute is equals to subtacting 1 from the value of length of the array previewScribblePath, means removes the last drawing sketched by the help of drawing tools\n                AH.selectAll('#previewSvg [data-order=\"' + (previewScribblePath.length - 1) + '\"]', 'remove');\n            } else if (previewScribblePath[previewScribblePath.length - 1].mode == 'remove') {\n                // Creates an element with the value of variable xmlns namespace URI and 'path' name\n                scribble = document.createElementNS(xmlns, 'path');\n                // sets the stroke color and width\n                setPreviewColor(previewColor, previewThickness);\n                // adds a new attribute 'data-type' (with a namespace null)\n                scribble.setAttributeNS(null, 'data-type', previewScribblePath[previewScribblePath.length - 1].type);\n                // adds a new attribute 'data-order' (with a namespace null)\n                scribble.setAttributeNS(null, 'data-order', (previewScribblePath[previewScribblePath.length - 1].order));\n                // adds a new attribute 'd' (with a namespace null)\n                scribble.setAttributeNS(null, 'd', previewScribblePath[previewScribblePath.length - 1].d);\n                // adds a new attribute 'tabindex' (with a namespace null)\n                scribble.setAttributeNS(null, 'tabindex', '0');\n                if (previewMode == 'eraser') {\n                    // adds a new attribute 'class' (with a namespace null)\n                    scribble.setAttributeNS(null, 'class', 'eraserHover');\n                }\n                // prepend the element stored into variable scribble in drawing container in which drawings are stored sketched by the help of drawing tools\n                AH.select('.previewDrawingPaths').prepend(scribble);\n            }\n            // pushes the last data of array previewScribblePath into array previewUndoList\n            previewUndoList.push(previewScribblePath.pop());\n            // contains copy of array previewScribblePath\n            let tempArrayContainer = arrayCopy(previewScribblePath);\n            // stores the drawing sketched by user and sets the user answer xml\n            storeUserPaths(tempArrayContainer);\n            // decreases the value of the variable previewScribbleCount by 1\n            previewScribbleCount--;\n            // decreases the value of the variable previewUndoCount by 1\n            previewUndoCount--;\n            \n            AH.select('#preview_clearScreen').disabled = (AH.selectAll('.previewDrawingPaths path').length == 0);\n            if (previewScribblePath.length == 0) {\n                // disabled the undo button\n                current.disabled = true;\n            }\n        });\n\n        // for redo\n        AH.listen('body', 'click', '#preview_redo', function (current) {\n            // increases the value of the variable previewScribbleCount by 1\n            previewScribbleCount++;\n            if (previewUndoList.length > 0) {\n                // pushes the last data of array previewUndoList into array previewRedoList\n                previewRedoList.push(previewUndoList.pop());\n            }\n            if (previewRedoList[previewRedoList.length - 1].mode == 'add') {\n                // Creates an element with the value of variable xmlns namespace URI and 'path' name\n                scribble = document.createElementNS(xmlns, 'path');\n                // sets the stroke color and width\n                setPreviewColor(previewColor, previewThickness);\n                // adds a new attribute 'data-type' (with a namespace null)\n                scribble.setAttributeNS(null, 'data-type', previewRedoList[previewRedoList.length - 1].type);\n                // adds a new attribute 'data-order' (with a namespace null)\n                scribble.setAttributeNS(null, 'data-order', (previewRedoList[previewRedoList.length - 1].order));\n                // adds a new attribute 'd' (with a namespace null)\n                scribble.setAttributeNS(null, 'd', previewRedoList[previewRedoList.length - 1].d);\n                // adds a new attribute 'tabindex' (with a namespace null)\n                scribble.setAttributeNS(null, 'tabindex', '0');\n                if (previewMode == 'eraser') {\n                    // adds a new attribute 'class' (with a namespace null)\n                    scribble.setAttributeNS(null, 'class', 'eraserHover');\n                }\n                // prepend the element stored into variable scribble in drawing container in which drawings are stored sketched by the help of drawing tools\n                AH.select('.previewDrawingPaths').prepend(scribble);\n            } else if (previewRedoList[previewRedoList.length - 1].mode == 'remove') {\n                // removes the element that have data-order attribute and value of this attribute is equals to the value of order key of the last index value of array previewRedoList, means removes the last drawing stored in array previewRedoList\n                AH.selectAll('#previewSvg [data-order=\"' + (previewRedoList[previewRedoList.length - 1].order) + '\"]', 'remove');\n            }\n            // increases the value of the variable previewUndoCount by 1\n            previewUndoCount++;\n            // pushes the last data of array previewRedoList into array previewScribblePath\n            previewScribblePath.push(previewRedoList.pop());\n            // contains copy of array previewScribblePath\n            let tempArrayContainer = arrayCopy(previewScribblePath);\n            // stores the drawing sketched by user and sets the user answer xml\n            storeUserPaths(tempArrayContainer);\n            \n            AH.select('#preview_clearScreen').disabled = (AH.selectAll('.previewDrawingPaths path').length == 0);\n            if (previewUndoList.length == 0) {\n                // disabled the redo button\n                current.disabled = true;\n            }\n\n            // enabled the undo button\n            AH.select('#preview_undo').disabled = false;\n        });\n\n        AH.listen('body', 'click', '#mark_points', function (current, event) {\n            markPointEvent(event);\n        });\n\n        AH.listen('body', 'keyup', '#mark_points', function (current, event) {\n            markPointEvent(event);\n        });\n\n    });\n\n    // call the function after update in the store/state\n    afterUpdate(async()=>{\n        // for changing the xml and loading the module according to the xml\n        if (state.xml != xml) {\n            parseXMLForGettingData();\n            state.xml = xml;\n            reinitializeFoucsEvent();\n            checkUserAns();\n        }\n        // for calling the setreview and unsetreview function on change of review mode\n        if (state.review != isReview && editorState) {\n            prev_store.update( (item) => {\n                item.review = isReview;\n                return item;\n            });\n            if (isReview) {\n                setReview();\n            } else {\n                unsetReview();\n            }\n        }\n    });\n\n    // function responsible for the compass lastcircle keyevent\n    function compassLastcircleEvent(event) {\n        if (isScribble) {\n            stopDraw();\n        }\n        if (event.shiftKey) {\n            if (!isDrawCompassPreview) return;\n            // sets the value  false of the variable isDrawCompassPreview\n            isDrawCompassPreview = false;\n            // sets the value true of the variable isStoreStart to store the starting position\n            isStoreStart = true;\n            // adds class lastCircle_hover to the last circle on the rotation bar\n            AH.selectAll('#previewSvg .lastCircle', 'addClass', 'lastCircle_hover');\n        }\n        if ((previewMode == \"compass\" && event.type == \"mousedown\") || (event.shiftKey)) {\n            // removes the all mark points and sets the value of the variable 'isMArking' to 1\n            clearMarking();\n            // sets the cursor style to grabbing when mouse reached inside last circle on the rotation bar\n            AH.selectAll('#previewSvg .lastCircle','css', {'cursor': 'grabbing'});\n            if (isDrawCompassPreview || event.type == \"mousedown\") {\n                // indicates that drawing is sketching\n                isDrawingPreview = true;\n                // indicates that radius is rotating\n                isPreviewRadiusRotate = 1;\n            }\n            // updates the value of compass radius and angle\n            checkPreviewRadiusAndAngle();\n            // contains the value of start angle\n            compassAngleDisplacement.start = previewCompassAngle;\n            // Creates an element with the value of variable xmlns namespace URI and 'path' name\n            scribble = document.createElementNS(xmlns, 'path');\n            // sets the stroke color and width\n            setPreviewColor(previewColor, previewThickness);\n            // adds a new attribute 'data-type' (with a namespace null)\n            scribble.setAttributeNS(null, 'data-type', previewMode + '_' + previewScribbleCount);\n            // adds a new attribute 'data-order' (with a namespace null)\n            scribble.setAttributeNS(null, 'data-order', previewScribbleCount);\n            // adds a new attribute 'd' (with a namespace null)\n            scribble.setAttributeNS(null, 'd', 'M' + lastCircle_cx + ' ' + lastCircle_cy);\n            // adds a new attribute 'tabindex' (with a namespace null)\n            scribble.setAttributeNS(null, 'tabindex', '0');\n            // contains current x position\n            checkCurrentPositionX = lastCircle_cx;\n            // contains current y position\n            checkCurrentPositionY = lastCircle_cy;\n            // pushes object having keys mode, order, type, index and d with their values into  array previewScribblePath\n            previewScribblePath.push({\n                mode: 'add',\n                order: previewScribbleCount,\n                type: previewMode + '_' + previewScribbleCount,\n                index: previewScribbleCount,\n                d: 'M' + lastCircle_cx + ' ' + lastCircle_cy\n            });\n        }\n    }\n\n    // for adding the focus and blur event\n    function reinitializeFoucsEvent() {\n        AH.listenAll('.focusPoints', 'focus', function (event) {\n            // removes the class currentFocusPoint from the elements have class focusPoints\n            AH.selectAll('.focusPoints', 'removeClass', 'currentFocusPoint');\n            // adds the class currentFocusPoint to the element which got the focus and have class focusPoints \n            event.target.classList.add('currentFocusPoint');\n        });\n        AH.listenAll('.focusPoints', 'blur', function () {\n            // removes the class currentFocusPoint from the elements have class focusPoints\n            AH.selectAll('.focusPoints', 'removeClass', 'currentFocusPoint');\n        });\n    }\n\n    // for adding the mark point from the key event\n    function markPointEvent(event) {\n        if (event.screenX == undefined) {\n                return;\n        }\n        if (startDrawingByKey && isDrawStop) {\n            // stop the drawing and store the drawing sketched by the user and sets the user answer xml\n            stopDraw();\n        }\n        if ((event.keyCode == 13 || event.keyCode == 32 || event.screenX === 0)) {\n            // stops the events from being bubbled\n            event.preventDefault();\n            // joins the marked points by the help of line that starts with first mark point and ends at last masked point by moving in sequencial order\n            markFinalPoints();\n            if (isMarking) {\n                // hides plus icon (+) that is used for sketch the graph via keyboard\n                AH.select('#moveDrawIcon', 'addClass', 'h');\n                // sets the cursor style to crosshair (+)\n                AH.select('#previewSvg', 'css', {'cursor': 'crosshair'});\n            } else {\n                // shows plus icon (+) that is used for sketch the graph via keyboard\n                AH.select('#moveDrawIcon', 'removeClass', 'h');\n\n                // sets the cursor style to auto\n                AH.select('#previewSvg', 'css', {'cursor': 'auto'});\n\n            }\n        } else if (event.type == 'click' && event.screenX !== 0) {\n            // joins the marked points by the help of line that starts with first mark point and ends at last masked point by moving in sequencial order\n            markFinalPoints();\n        }\n    }\n\n    // this function calls whenever there is click on toolbar buttons\n    function toolbarAction(current, event) {\n        if (isScribble) {\n            stopDraw();\n        }\n        if (event.type == 'click' || (event.keyCode == 13 || event.keyCode == 32)) {\n            // assign the value of the data-title attribute of the drawing tool buttons or of delete button on which is clicked or on which keyuped\n            previewMode = current.getAttribute('data-title');\n            // sets the style of the cursor to crosshair (+)\n            AH.select('#previewSvg', 'css', {'cursor': 'crosshair'});\n            // hides the icon (+) that is used for sketch the drawing by the help of keyboard\n            AH.select('#moveDrawIcon', 'addClass', 'h');\n            // sets the value 0 of variable startDrawingByKey to indicate that drawing is not started by the keyboard\n            startDrawingByKey = 0;\n            // sets the value of the variable isDrawStop by 0 to indicate that sketching of the drawing either not started or in progress\n            isDrawStop = 0;\n            if (previewMode == 'eraser') {\n                // adds the class eraserHover to the element path that contains the drawing sketched by the help of drawing tools\n                AH.selectAll('.previewDrawingPaths path', 'addClass', 'eraserHover');\n            } else {\n                // removes the class eraserHover to the element path that contains the drawing sketched by the help of drawing tools\n                AH.selectAll('.previewDrawingPaths path', 'removeClass', 'eraserHover');\n            }\n            // hides the compass element\n            AH.selectAll('.drawingCompassSvg', 'addClass', 'h');\n            if (previewMode == 'compass') {\n                // shows the compass tool\n                AH.selectAll('.drawingCompassSvg', 'removeClass', 'h');\n            }\n            // removes the all mark points and sets the value of the variable 'isMArking' to 1\n            clearMarking();\n        }\n        if ((event.keyCode == 13 || event.keyCode == 32) && previewMode != 'eraser' && previewMode != 'compass') {\n            // hides the icon (+), which is used to sketch the drawing using keyboard\n            AH.select('#moveDrawIcon', 'removeClass', 'h');\n            // sets the cursor style auto\n            AH.select('#previewSvg', 'css', {'cursor': 'auto'});\n        }\n        if (startDrawingByKey && isDrawStop) {\n            // stop the drawing and store the drawing sketched by the user and sets the user answer xml\n            stopDraw();\n        }\n    }\n\n    // this function calls when we are leaving the drawable area or on mouseup\n    function previewMouseLeave(event) {\n        switch (previewMode) {\n                case 'line':\n                case 'scribble':\n                    if (isDrawingPreview) {\n                        // sets the x and y co-ordinate of the mouse position\n                        setPreviewMouseCoordinates(event);\n                        if (lockFocus && ((checkCurrentPositionX == preview_mouseX && checkCurrentPositionY == preview_mouseY && previewMode == 'line') || (previewMode == 'scribble' && ((previewScribblePath[previewScribbleCount].d.split('L').length - 1) < 3)))) {\n                            // removes the last element from the array previewScribblePath\n                            previewScribblePath.pop();\n                        }\n                        if ((checkCurrentPositionX == preview_mouseX && checkCurrentPositionY == preview_mouseY && previewMode == 'line') || (previewMode == 'scribble' && ((previewScribblePath[previewScribbleCount].d.split('L').length - 1) < 3))) {\n                            // removes the last element from the array previewScribblePath\n                            previewScribblePath.pop();\n                        } else {\n                            // adds a new attribute 'd' (with a namespace null)\n                            scribble.setAttributeNS(null, 'd', previewScribblePath[previewScribbleCount].d + ' L' + preview_mouseX + ' ' + preview_mouseY);\n                            // adds value of variables preview_mouseX and preview_mouseY separated by space with prefix 'L' in the previous value of the key 'd' at index specified in the variable previewScribbleCount of array previewScribblePath\n                            previewScribblePath[previewScribbleCount].d = previewScribblePath[previewScribbleCount].d + ' L' + preview_mouseX + ' ' + preview_mouseY;\n                            // prepend the element stored into variable scribble in drawing container in which drawings are stored sketched by the help of drawing tools\n                            AH.select('.previewDrawingPaths').prepend(scribble);\n                            // increases the value of the variable previewScribbleCount by 1 \n                            previewScribbleCount++;\n                            // increases the value of the variable previewUndoCount by 1 \n                            previewUndoCount++;\n                            // makes array previewUndoList blank\n                            previewUndoList = [];\n                            // enabled clear screen and undo button\n                            AH.select('#preview_clearScreen').disabled = false;\n                            AH.select('#preview_undo').disabled = false;\n                            // disabled redo button\n                            AH.select('#preview_redo').disabled = true;\n                        }\n                    }\n                    // sets the value false of the variable isDrawingPreview \n                    isDrawingPreview = false;\n                    break;\n                case 'compass':\n                    // indicates that radius is not increased\n                    isPreviewRadiusIncrease = 0;\n                    // indicates that radius is not rotated\n                    isPreviewRadiusRotate = 0;\n                    if (isPreviewCompassMove) {\n                        // sets the x and y co-ordinate of the mouse position\n                        setPreviewMouseCoordinates(event)\n                        // contains the x co-ordinate of the mouse position\n                        cx = preview_mouseX;\n                        // contains the y co-ordinate of the mouse position\n                        cy = preview_mouseY;\n                        // contains radius of the compass\n                        previewCompassRadius = AH.select('.drawingCompassRoute').getAttribute('r');\n                        // updates the position of rotationbar and change the center position of the circles that lies on rotationbar\n                        updatePreviewCompassCalculation(cx, cy, previewCompassRadius, previewCompassAngle);\n                        // indicates that compass is not moved\n                        isPreviewCompassMove = false;\n                    }\n                    if (isDrawingPreview) {\n                        if ((previewScribblePath[previewScribbleCount].d.split('L').length - 1) < 4) {\n                            // removes the last element from the array previewScribblePath\n                            previewScribblePath.pop();\n                        } else {\n                            // adds a new attribute 'd' (with a namespace null)\n                            scribble.setAttributeNS(null, 'd', previewScribblePath[previewScribbleCount].d + ' L' + lastCircle_cx + ' ' + lastCircle_cy);\n                            // adds value of variables lastCircle_cx and lastCircle_cy separated by space with prefix 'L' in the previous value of the key 'd' at index specified in the variable previewScribbleCount of array previewScribblePath\n                            previewScribblePath[previewScribbleCount].d = previewScribblePath[previewScribbleCount].d + ' L' + lastCircle_cx + ' ' + lastCircle_cy;\n                            // prepend the element stored into variable scribble in drawing container in which drawings are stored sketched by the help of drawing tools\n                            AH.select('.previewDrawingPaths').prepend(scribble);\n                            // increases the value of the variable previewScribbleCount by 1\n                            previewScribbleCount++;\n                            // increases the value of the variable previewUndoCount by 1\n                            previewUndoCount++;\n                            // makes array previewUndoList blank\n                            previewUndoList = [];\n                            // enabled clear screen (x) and undo button\n                            AH.select('#preview_clearScreen').disabled = false;\n                            AH.select('#preview_undo').disabled = false;\n                            // disabled the redo button\n                            AH.select('#preview_redo').disabled = true;\n                        }\n                        // sets value false of variable isDrawingPreview\n                        isDrawingPreview = false\n                    }\n                    // sets the cursor style to grab when it lies on last circle on the rotation bar\n                    AH.selectAll('#previewSvg .lastCircle', 'css' , {'cursor': 'grab'});\n                    break;\n            }\n            // contains copy of array previewScribblePath\n            let tempArrayContainer = arrayCopy(previewScribblePath);\n            // stores the drawing sketched by user and sets the user answer xml\n            storeUserPaths(tempArrayContainer);\n    }\n\n    // checks the answer and shows the status of the answer\n    function setReview() {\n        isReview = true;\n        if (startDrawingByKey && isDrawStop || lockFocus) {\n            // stop the drawing and store the drawing sketched by the user and sets the user answer xml\n            stopDraw();\n        }\n        if (!isDrawCompassPreview && isStoreStart) {\n            // stores the drawing sketched by user using keyboard and sets the user answer xml\n            storeCompassPathByKey();\n        }\n        // checks the answer and updates the status and enables 'Mark Points' button and also updates its text as 'Mark Points' \n        parseXMLForAnswer(true);\n        // contains the value of state array selectedTools at index 0 after removing the first character \n        previewMode = state.selectedTools[0].substr(-(state.selectedTools[0].length - 1));\n        // removes the class active from drawing tools, delete, and 'Mark Points' or 'Finish Marking' buttons\n        AH.selectAll('.preview_btn,#mark_points', 'removeClass', 'active');\n        // adds the class active to the drawing tool button which exist at index 0 in state array selectedTools\n        AH.select('#preview' + state.selectedTools[0], 'addClass', 'active');\n        if (previewMode == 'compass') {\n            // shows the compass tool\n            AH.selectAll('.drawingCompassSvg', 'removeClass', 'h');\n        } else {\n            // hides the compass tool\n            AH.selectAll('.drawingCompassSvg', 'addClass', 'h');\n        }\n\n        state.remediationMode = 'on'\n        \n        AH.selectAll('.previewBtnGrp', 'addClass', 'h');\n        // sets the value 'none' of the variable previewMode\n        previewMode = 'none';\n        // not allowed user to perform the task\n        AH.selectAll('.preview_drawing_container', 'css', {pointerEvents: \"none\"});\n        // removes the class previewKeySvg from the svg element have id previewSvg\n        AH.select('#previewSvg', 'removeClass', 'previewKeySvg');\n\n        // removes the marked points and also the path that is sketched by the help of mark points\n        AH.selectAll('.previewMarkingPaths .answer_mark', 'remove');\n        // updates user answer xml\n        createUXML();\n        // draw the marked points and the lines connecting to these points\n        addMarkPointOnLoad(JSON.parse(markPointsData));\n        // sets the tabindex and aria-label to the elements have class 'answer_mark' and tag name is path\n        AH.selectAll('path.answer_mark','attr',{\n            'tabindex': '0',\n            'aria-labelledby': 'answerLine'\n        })\n        if (state.correctAnswer) {\n            // append the title element inside the element previewMarkingPaths with correct message\n            AH.insert('.previewMarkingPaths','<title id=\"answerLine\">' + l.ans_correct + '</title>', 'beforeend');\n            // sets the stroke color of the mark points to #0F9D58\n            AH.selectAll('.answer_mark', 'css', {'stroke': '#0F9D58'});\n        } else {\n            // append the title element inside the element previewMarkingPaths with incorrect message\n            AH.insert('.previewMarkingPaths','<title id=\"answerLine\">' + l.ans_incorrect + '</title>', 'beforeend');\n            // sets the stroke color of the mark points to red\n            AH.selectAll('.answer_mark', 'css', {'stroke': '#FF0000'});\n            // sets the stroke color of the answer point to #0F9D58\n            AH.selectAll('.answer_circle', 'css', {'stroke': '#0F9D58'});\n        }\n    }\n\n    // allowed user to perform the task and changes the stroke color of mark points \n    function unsetReview() {\n        isReview = false;\n        // allowed user to perform the task\n        AH.selectAll('.preview_drawing_container','css', {pointerEvents : \"\"});\n        // shows all buttons\n        AH.selectAll('.previewBtnGrp', 'removeClass', 'h')\n        // adds the class previewKeySvg to the svg element have id previewSvg\n        AH.select('#previewSvg','addClass', 'previewKeySvg');\n        // contains the value of state array selectedTools at index 0 after removing the first character\n        previewMode = state.selectedTools[0].substr(-(state.selectedTools[0].length - 1));\n        // it's also used below in this function so it can be removed\n        AH.selectAll('.preview_btn,#mark_points', 'removeClass', 'active');\n        // it's also used below in this function so it can be removed\n        AH.select('#preview' + state.selectedTools[0], 'addClass', 'active');\n        if (previewMode == 'compass') {\n            // shows compass tool\n            AH.selectAll('.drawingCompassSvg', 'removeClass', 'h');\n            // sets the style of the cursor to crosshair (+)\n            AH.select('#previewSvg', 'css', {'cursor': 'crosshair'});\n            // hides the icon (+) which is used to sketch the drawing using keyboard\n            AH.select('#moveDrawIcon', 'addClass', 'h');\n        } else {\n            // hides compass tool\n            AH.selectAll('.drawingCompassSvg', 'addClass', 'h');\n        }\n        // removes the class active from drawing tools, delete, and 'Mark Points' or 'Finish Marking' buttons\n        AH.selectAll('.preview_btn,#mark_points', 'removeClass', 'active');\n        // adds the class active to the drawing tool button which exist at index 0 in state array selectedTools\n        AH.selectAll('#preview' + state.selectedTools[0], 'addClass', 'active');\n        // removes the correct answer circle that can be seen on remediation mode in green stroke color\n        AH.selectAll('.correct_answer_container .answer_mark', 'remove');\n        // enables the element have id mark_points and updates its text as 'Mark Points'\n        AH.select('#mark_points').innerText = 'Mark Points';\n        AH.select('#mark_points').disabled = false;\n        // sets the value of the variable 'isMarking' to 1\n        isMarking = 1;\n        state.remediationMode = 'off';\n        // removes the title element inside the element have class previewMarkingPaths\n        AH.selectAll('.previewMarkingPaths title', 'remove');\n        // sets the value state markPointColor into the value of attribute stroke of the element have class answer_mark and removes attribute tabindex\n        AH.selectAll('.answer_mark', 'css', {'stroke' : state.markPointColor});\n        AH.selectAll('.answer_mark','removeAttr','tabindex');\n    }\n\n    // parses the xml and updates the values of variables and states and width, src, alt of the background image, shows the enabled drawing tools and sets the mark point position and draw the lines using mark points\n    function parseXMLForGettingData() {\n        try {\n            // contains json data of the xml\n            defaultXML = XMLToJSON(xml);\n            if (defaultXML.smxml._markPointColor == undefined) {\n                // sets the value of the key markPointColor to #00ff00 of json defaultXML\n                defaultXML.smxml._markPointColor = '#00ff00';\n            }\n            if (defaultXML.smxml._color == undefined) {\n                // sets the value of the key color to rgb(0, 188, 212) of json defaultXML\n                defaultXML.smxml._color = 'rgb(0, 188, 212)';\n            }\n\n            prev_store.update((item) => {\n                // sets the value of state bgImg to the value of key bgimg of json defaultXML\n                item.bgImg = defaultXML.smxml._bgimg;\n                // sets the value of state alt to the value of key imgAlt of json defaultXML\n                item.alt = defaultXML.smxml._imgAlt;\n                // sets the value of state imgWidth to the value of key width of json defaultXML\n                item.imgWidth = defaultXML.smxml._width;\n                // sets the value of state lineColor to the value of key color of json defaultXML\n                item.lineColor = defaultXML.smxml._color;\n                // sets the value of state focusDATA to the value of subkey cdata of key backgroundPoint of json defaultXML\n                item.focusDATA = defaultXML.smxml.backgroundPoint.__cdata;\n                // sets the value of state markPointColor to the value of key markPointColor of json defaultXML\n                item.markPointColor = defaultXML.smxml._markPointColor;\n                // sets the value of state selectedTools to the value of key 'selectedDrawingType' after joining it with commam of json defaultXML\n                item.selectedTools = defaultXML.smxml.div._selectedDrawingType.split(',');\n                return item;\n            })\n                \n            // makes array 'accessibilityPoints' to empty\n            accessibilityPointsPreview = [];\n            // assign the value 1 to the variable focusPointCountPreview\n            focusPointCountPreview = 1;\n            // assign the value of state focusDATA into variable updatedFocusCDATA\n            let updatedFocusCDATA = state.focusDATA;\n            // replaces the character '!' to ',' and wraps the value into square bracket\n            updatedFocusCDATA = '[' + updatedFocusCDATA.replace(/!/g, ',') + ']';\n            // contains javascript object \n            updatedFocusCDATA = JSON.parse(updatedFocusCDATA);\n            // removes the element circle, path and title from element have class 'backgroundFocusPathPreview' and 'backgroundFocusPointPreview'\n            AH.selectAll('.backgroundFocusPointPreview circle,.backgroundFocusPathPreview path, .backgroundFocusPointPreview title', 'remove');\n            for (let index = 0; index < updatedFocusCDATA.length; index++) {\n                // pushes data of multi dimesion array updatedFocusCDATA specified at perticular row and column where value of row and column is equals to the value of variable 'index' into array previewScribblePath\n                accessibilityPointsPreview.push(updatedFocusCDATA[index][index]);\n            }\n            for (let index = 0; index < updatedFocusCDATA.length; index++) {\n                for (let subPoints = 0; subPoints < updatedFocusCDATA[index][index].length; subPoints++) {\n                    // updates the value of key x of multi dimention array object 'accessibilityPointsPreview' where row and column values are value of variable 'index' and 'subPoints' with the value of key x of multi dimention array updatedFocusCDATA object where row and column values are the value of variables 'index' and 'subPoints'\n                    accessibilityPointsPreview[index][subPoints].x = updatedFocusCDATA[index][index][subPoints].x;\n                    // updates the value of key y of multi dimention array object 'accessibilityPointsPreview' where row and column values are value of variable 'index' and 'subPoints' with the value of key y of multi dimention array object updatedFocusCDATA where row and column values are the value of variables 'index' and 'subPoints'\n                    accessibilityPointsPreview[index][subPoints].y = updatedFocusCDATA[index][index][subPoints].y;\n                    // Creates an element with the specified namespace URI and qualified name.\n                    scribble = document.createElementNS(xmlns, 'circle');\n                    // sets the stroke color and width\n                    setPreviewColor('#808080', previewThickness);\n                    // adds a new attribute 'aria-labelledby' (with a namespace null)\n                    scribble.setAttributeNS(null, 'aria-labelledby', 'focusPoint_' + focusPointCountPreview + '_title focusPoint_' + focusPointCountPreview + '_desc');\n                    // adds a new attribute 'tabindex' (with a namespace null)\n                    scribble.setAttributeNS(null, 'tabindex', '0');\n                    // adds a new attribute 'class' (with a namespace null)\n                    scribble.setAttributeNS(null, 'class', 'focusPoints');\n                    // adds a new attribute 'data-focusOrder' (with a namespace null)\n                    scribble.setAttributeNS(null, 'data-focusOrder', focusPointCountPreview);\n                    // adds a new attribute 'cx' (with a namespace null)\n                    scribble.setAttributeNS(null, 'cx', accessibilityPointsPreview[index][subPoints].x);\n                    // adds a new attribute 'cy' (with a namespace null)\n                    scribble.setAttributeNS(null, 'cy', accessibilityPointsPreview[index][subPoints].y);\n                    // adds a new attribute 'r' (with a namespace null)\n                    scribble.setAttributeNS(null, 'r', '2px');\n                    // place the scribble element before very first element inside the element have class 'backgroundFocusPointPreview'\n                    AH.select('.backgroundFocusPointPreview').append(scribble);\n                    // adds title and description of focus point for screen reader\n                    AH.insert('.backgroundFocusPointPreview', '<title id=\"focusPoint_' + focusPointCountPreview + '_title\">You are on the ' + focusPointCountPreview + ' Point </title><desc id=\"focusPoint_' + focusPointCountPreview + '_desc\">Press shift + tab to move towards the previous point or tab to move towards the next points</desc>', 'beforeend');\n                    // increases the value of variable 'focusPointCountPreview' by 1\n                    focusPointCountPreview++;\n                }\n                // join the marked points and sets the color and width of the stroke \n                joinMarkedPoint(accessibilityPointsPreview[index], 1);\n            }\n            // contains the stroke color\n            previewColor = state.lineColor;\n            // makes array previewScribblePath blank for remove the drawing sketched by the help of drawing tools\n            previewScribblePath = [];\n            // sets the value true of the variable isDrawCompassPreview\n            isDrawCompassPreview = true;\n            // sets the value false of the variable isStoreStart\n            isStoreStart = false;\n            // sets the value 0 of the variable isDrawStop\n            isDrawStop = 0;\n            // shows that drawing is not start via keyboard\n            startDrawingByKey = 0;\n            // shows number of drawing sketched with the help of drawing tools\n            previewScribbleCount = 0;\n            // counts the number of undo can be done\n            previewUndoCount = 0;\n            // makes array previewUndoList blank to remove the all undo done\n            previewUndoList = [];\n            // makes array previewRedoList blank to remove the all redo done\n            previewRedoList = [];\n            // sets the value of the variable 'isMarking' to 1\n            isMarking = 1;\n            // makes array markPoints blank to remove the mark point\n            markPoints = [];\n            // removes the first character from the string exist in state array selectedTools at index 0\n            previewMode = state.selectedTools[0].substr(-(state.selectedTools[0].length - 1));\n            if (editorState) {\n                // removes drawing sketched by the help of drawing tools and marked points and also lines that is drawn automatically using mark points\n                AH.selectAll('.previewMarkingPaths .answer_mark,.previewDrawingPaths path', 'remove');\n            }\n            if (previewMode == 'compass') {\n                // shows the compass tool\n                AH.selectAll('.drawingCompassSvg', 'removeClass', 'h');\n                // sets the cursor style to crosshair (+)\n                AH.select('#previewSvg','css', {'cursor': 'crosshair'});\n                // hides icon (+) used for sketch the drawing using keyboard\n                AH.select('#moveDrawIcon','addClass','h');\n            } else {\n                // hides the compass element\n                AH.selectAll('.drawingCompassSvg', 'addClass', 'h');\n            }\n            // enabled the button have id mark_points and update its text to 'Mark Points' \n            AH.select('#mark_points').disabled = false;\n            AH.select('#mark_points').innerText = \"Mark Points\";\n\n            // disabled the undo, redo and clear screen (x) buttons\n            AH.select('#preview_undo').disabled = true;\n            AH.select('#preview_redo').disabled = true;\n            AH.select('#preview_clearScreen').disabled = true;\n            // removes the drawing tool buttons\n            AH.selectAll('.geometryToolPreview', 'addClass', 'h');\n            for (let toolsIndex = 0; toolsIndex < state.selectedTools.length; toolsIndex++) {\n                // shows the drawing tools buttons that exist in state array selectedTools\n                AH.select('#preview' + state.selectedTools[toolsIndex], 'removeClass', 'h')\n            }\n            // removes the class active from drawing tools, delete and 'Mark Points' buttons\n            AH.selectAll('.preview_btn,#mark_points','removeClass', 'active');\n            // adds the class active to scribble drawing tool button\n            AH.select('#preview' + state.selectedTools[0], 'addClass', 'active');\n            // sets the width of the background image container\n            AH.selectAll('.preview_drawing_toolbar, .centerImgPreview','attr', {'style' :'width:' + (Number(state.imgWidth) + 2) + 'px'});\n            // sets the width, src and alt message of the background image\n            AH.select('.centerImg #svgImgPreview', 'attr', {\n                'src': bgImgPath + '' + state.bgImg,\n                'alt': state.alt,\n                'width': state.imgWidth,\n            });\n\n            AH.enableBsAll('.tooltip_btn', 'Tooltip', {\n                container:'body'\n            });\n        } catch (error) {\n            console.warn({\n                error,\n                func: 'parseXMLForGettingData @271'\n            });\n        }\n    }\n\n    // joins the marked points by the help of line that starts with first mark point and ends at last masked point by moving in sequencial order\n    function markFinalPoints() {\n        // hides the compass container\n        AH.selectAll('.drawingCompassSvg', 'addClass', 'h');\n        // removes the class 'eraserHover' from the element 'path' inside the element have id 'previewSvg'\n        AH.selectAll('#previewSvg path', 'removeClass' , 'eraserHover');\n        if (isMarking) {\n            // removes the class active from the drawing tools and delete buttons\n            AH.selectAll('.preview_btn','removeClass','active');\n            // sets the text of the button 'Mark Points' to 'Finish MArking' and adds class active to it\n            AH.select('#mark_points').innerText = \"Finish Marking\";\n            AH.select('#mark_points', 'addClass', 'active');\n            // sets the value of the variable 'isMarking' to 0\n            isMarking = 0;\n            // removes the mark points and lines\n            AH.selectAll('.previewMarkingPaths .answer_mark', 'remove');\n            // makes array userMarkingPoint to empty\n            userMarkingPoint = [];\n            // makes array markPoints to empty\n            markPoints = [];\n            if (!editorState) {\n                // removes the correct answer circle that can be seen on remediation mode in green stroke color\n                AH.selectAll('.correct_answer_container .answer_mark', 'remove');\n            }\n            // sets value of variable 'previewMode' to 'markPoints'\n            previewMode = 'markPoints';\n        } else {\n            // stes the test of the button 'Finish Marking' to 'Mark Points' and adds class active to it\n            AH.select('#mark_points').innerText = \"Mark Points\";\n            AH.select('#mark_points', 'removeClass', 'active');\n            if (markPoints.length >= 1) {\n                // join the marked points and sets the color and width of the stroke \n                joinMarkedPoint(markPoints);\n                if (state.remediationMode == 'on') {\n                    // checks the answer and updates the status and enables 'Mark Points' button and also updates its text as 'Mark Points' \n                    parseXMLForAnswer();\n                }\n            }\n            // contains the value of index 0 of state array selectedTools after removing the first character\n            previewMode = state.selectedTools[0].substr(-(state.selectedTools[0].length - 1));\n            // hides the icon (+) used to sketch the drawing by the help of keyboard\n            AH.select('#moveDrawIcon', 'addClass', 'h');\n            // styles the cursor to crosshair (+)\n            AH.select('#previewSvg', 'css', {'cursor': 'crosshair'});\n            // adds the active class to the drawing tool exist at index 0 in state array selectedTools\n            AH.select('#preview' + state.selectedTools[0], 'addClass', 'active');\n            if (previewMode == 'compass') {\n                // shows the compass tool\n                AH.selectAll('.drawingCompassSvg', 'removeClass', 'h');\n            } else {\n                // hides the compass tool\n                AH.selectAll('.drawingCompassSvg', 'addClass', 'h');\n            }\n            // sets the value of the variable 'isMarking' to 1\n            isMarking = 1;\n        }\n    }\n\n    // draw the marked points and the lines connecting to these points\n    function addMarkPointOnLoad(array) {\n        for (let index = 0; index < array.length; index++) {\n            // Creates an element with the specified namespace URI and qualified name.\n            scribble = document.createElementNS(xmlns, 'circle');\n            // sets the stroke color and width\n            setPreviewColor(state.markPointColor, previewThickness);\n            // adds a new attribute 'class' (with a namespace null)\n            scribble.setAttributeNS(null, 'class', 'answer_mark');\n            // adds a new attribute 'cx' (with a namespace null)\n            scribble.setAttributeNS(null, 'cx', array[index].x);\n            // adds a new attribute 'cy' (with a namespace null)\n            scribble.setAttributeNS(null, 'cy', array[index].y);\n            // adds a new attribute 'r' (with a namespace null)\n            scribble.setAttributeNS(null, 'r', '2px');\n            // prepend the element stored into variable scribble in mark point container in which drawings are stored done by the help of 'Mark Poin' And 'Finish Marking' buttons\n            AH.select('.previewMarkingPaths').prepend(scribble);\n        }\n        // join the marked points and sets the color and width of the stroke \n        joinMarkedPoint(array);\n    }\n\n    // used to load the module according to the data of smxml and smans xml\n    function loadModule(uaXML, drawMark) {\n        // contains the json data of user answer xml\n        uaXML = XMLToJSON(uaXML);\n        // contains the x and y co-ordinate of the points marked by user\n        userMarkingPoint = JSON.parse(uaXML.smans.markpoints);\n        if (uaXML.smans.userDrawPath == undefined) {\n            // sets the value of userDataPath to blank that indicates that no drawing is sketched\n            uaXML.smans.userDrawPath = '';\n        }\n        // contains drawing data sketched by the help of drawing tools in the form of javascript object \n        userDrawPath = JSON.parse(uaXML.smans.userDrawPath);\n        // defines the value true or false of the variable userAnsCorrect according to the value of ansCorrect of user answer xml\n        userAnsCorrect = uaXML.smans.ansCorrect.toLowerCase() == 'true' ? true : false;\n        // contains json data of xml props\n        defaultXML = XMLToJSON(xml);\n        // contains cdata of drawing of smxml that have to be performed by the help of drawing tools for correct answer\n        cdata = defaultXML.smxml.div.__cdata;\n        // replace the character '!' with ',' from cdata and wrap it in square bracket\n        cdata = '[' + cdata.replace(/!/g, ',') + ']';\n        // converts cdata string into javascript object\n        cdata = JSON.parse(cdata);\n        // draw the marked points and the lines connecting to these points\n        addMarkPointOnLoad(userMarkingPoint);\n        // creates the drawing sketched by user\n        createUserPath();\n        // checks the answer is correct or incorrect\n        checkCorrectAnswer(userMarkingPoint, drawMark);\n        // sets the status of the answer ( correct or incorrect message with showing the UI that indicates correct or incorrect)\n        setStatusOfAns(userAnsCorrect, userMarkingPoint, drawMark);\n    }\n\n    // this function is used for copying the array and modifying them\n    function arrayCopy(array) {\n        // creates a temporary array\n        let tempArray = [];\n        for (let index = 0; index < array.length; index++) {\n            // pushes default initialized object into array tempArray\n            tempArray.push({\n                mode: \"mode\",\n                order: 2,\n                type: \"scribble_0\",\n                index: 0,\n                d: \"path\"\n            });\n            // update the value of mode key of array tempArray at index specified in variable 'index' with the value of mode key of array passed in argument at index specified in variable 'index'\n            tempArray[index].mode = array[index].mode;\n            // update the value of order key of array tempArray at index specified in variable 'index' with the value of order key of array passed in argument at index specified in variable 'index'\n            tempArray[index].order = array[index].order;\n            // update the value of type key of array tempArray at index specified in variable 'index' with the value of type key of array passed in argument at index specified in variable 'index'\n            tempArray[index].type = array[index].type;\n            // update the value of index key of array tempArray at index specified in variable 'index' with the value of index key of array passed in argument at index specified in variable 'index'\n            tempArray[index].index = array[index].index;\n            // update the value of d key of array tempArray at index specified in variable 'index' with the value of d key of array passed in argument at index specified in variable 'index'\n            tempArray[index].d = array[index].d;\n        }\n        // retuns array after copied data from array passed in arguments\n        return tempArray;\n    }\n\n    // removes drawing on which keyup event triggered and update the user answer xml\n    function eraser(curClass, curArray) {\n        if (AH.select(curClass).getAttribute(\"data-order\") != undefined) {\n            // makes array previewUndoList blank\n            previewUndoList = [];\n            // a temporary variable used of \n            let tempArrayContainer = '';\n            // find the index of the drawing on which keyup event fired exist in array curArray\n            let currentIndex = curArray.indexOf(curArray[AH.select(curClass).getAttribute(\"data-order\")]);\n            // contains current element from array curArray after converting it into string and wraping in square bracket\n            let convertJSONtoArray = '[' + JSON.stringify(curArray[currentIndex]) + ']';\n            // contains copy of array convertJSONtoArray\n            tempArrayContainer = arrayCopy(JSON.parse(convertJSONtoArray));\n            // adds the value remove of mode key exist at index 0 in array tempArrayContainer\n            tempArrayContainer[0].mode = \"remove\";\n            // pushes the data of array 'tempArrayContainer' exist on index 0 into array curArray\n            curArray.push(tempArrayContainer[0]);\n            // contains copy of array curArray\n            let eraserArrayContainer = arrayCopy(curArray);\n            // stores the drawing sketched by user and sets the user answer xml\n            storeUserPaths(eraserArrayContainer);\n            // increases the value of the variable previewScribbleCount by 1\n            previewScribbleCount++;\n            // increases the value of the variable previewUndoCount by 1\n            previewUndoCount++;\n            // removes the current drawing on which keyup event fired\n            AH.select(curClass, 'remove');\n            // disabled the redo button\n            AH.select('#preview_redo').disabled = true;\n            // enables undo button\n            AH.select('#preview_undo').disabled = false;\n            if (AH.selectAll('.previewDrawingPaths path').length == 0) {\n                // disabled the clear screen button (x)\n                AH.select('#preview_clearScreen').disabled = true;\n            }\n        }\n    }\n\n    // stores the drawing sketched by user and sets the user answer xml\n    function storeUserPaths(drawPathArray) {\n        // makes array userAnsPath blank\n        userAnsPath = [];\n        // creates the variable subindex and assign the value 0\n        let subindex = 0;\n        for (let index = 0; index < drawPathArray.length; index++) {\n            subindex = index + 1;\n            while (subindex < drawPathArray.length) {\n                if (drawPathArray[index].type == drawPathArray[subindex].type) {\n                    if (drawPathArray[index].mode == \"add\" && drawPathArray[subindex].mode == \"remove\") {\n                        // sets the value null of mode key of array drawPathArray have index defined in variable 'index'\n                        drawPathArray[index].mode = null;\n                        // sets the value null of mode key of array drawPathArray have index defined in variable 'subindex'\n                        drawPathArray[subindex].mode = null;\n                    }\n                }\n                // increases the value of the variable subindex by 1\n                subindex++;\n            }\n        }\n        for (let index = 0; index < drawPathArray.length; index++) {\n            // Return an array of all the values in the drawPathArray array whose value of mode key is not null\n            drawPathArray = drawPathArray.filter(function (element) {\n                return element.mode != null;\n            });\n        }\n        // pushes data of array drawPathArray into array userAnsPath\n        userAnsPath.push(drawPathArray);\n        // updates user answer xml\n        createUXML();\n    }\n\n    // creates user answer xml\n    function createUXML() {\n        // makes array markPointsData empty\n        markPointsData = [];\n        if (markPoints.length == 0) {\n            // contains the x and y co-ordinate of the points marked by user\n            markPointsData = JSON.stringify(userMarkingPoint)\n        } else {\n            // contains the x and y co-ordinate of the points marked by user\n            markPointsData = JSON.stringify(markPoints);\n        }\n        // contains proforma of user answer xml with points marked by user, drawing sketched by user and state of answer  \n        userAnsXML = '<smans type=\"41\"><markpoints>' + markPointsData + '</markpoints><userDrawPath>' + JSON.stringify(userAnsPath[0]) + '</userDrawPath><ansCorrect>' + isAnswerCorrect + '</ansCorrect></smans>';\n        // defined that user answer xml changed\n        window.ISSPECIALMODULEUSERXMLCHANGE = 1;\n        // sets the user answer xml\n        AH.select(\"#special_module_user_xml\", 'value', userAnsXML);\n\n    }\n\n    // creates the drawing sketched by user\n    function createUserPath() {\n        if (userDrawPath.length) {\n            // enables the cross and undo buttons \n            AH.select('#preview_undo').disabled = false;\n            AH.select('#preview_undo').disabled = false;\n\n        }\n        for (let index = 0; index < userDrawPath.length; index++) {\n            // sets the type key value of the object exist at index defined in variable 'index' of array userDrawPath by adding the value of variable 'index' in its previous value\n            userDrawPath[index].type = userDrawPath[index].type.substr(0, userDrawPath[index].type.indexOf('_')) + '_' + index;\n            // sets the order key value of the object exist at index defined in variable 'index' of array userDrawPath by adding the value of variable 'index'\n            userDrawPath[index].order = index;\n            // Creates an element with the value of variable xmlns namespace URI and 'path' name\n            scribble = document.createElementNS(xmlns, 'path');\n            // sets the stroke color and width\n            setPreviewColor(previewColor, previewThickness);\n            // adds a new attribute 'data-type' (with a namespace null)\n            scribble.setAttributeNS(null, 'data-type', userDrawPath[index].type);\n            // adds a new attribute 'data-order' (with a namespace null)\n            scribble.setAttributeNS(null, 'data-order', userDrawPath[index].order);\n            // adds a new attribute 'd' (with a namespace null)\n            scribble.setAttributeNS(null, 'd', userDrawPath[index].d);\n            // adds a new attribute 'tabindex' (with a namespace null)\n            scribble.setAttributeNS(null, 'tabindex', '0');\n            // prepend the element stored into variable scribble in drawing container in which drawings are stored sketched by the help of drawing tools\n            AH.select('.previewDrawingPaths').prepend(scribble);\n        }\n        // sets the value of the variable 'previewScribbleCount' to  the value of length of the array 'userDrawPath'\n        previewScribbleCount = userDrawPath.length;\n        // contains copy of array userDrawPath\n        previewScribblePath = arrayCopy(userDrawPath);\n    }\n\n    // join the marked points and sets the color and width of the stroke \n    function joinMarkedPoint(markArray, focusPoint) {\n        if (markArray.length == 0) {\n            return;\n        }\n        // Creates an element with the value of variable xmlns namespace URI and 'path' name\n        scribble = document.createElementNS(xmlns, 'path');\n        // sets the starting position of the drawing\n        let pointStartValues = 'M ' + markArray[0].x + ' ' + markArray[0].y;\n        // variable for end point\n        let pointEndValues = '';\n        for (let index = 1; index < markArray.length; index++) {\n            // adds the value of x and y into previous value of the variable pointEndValues from the array 'markArray' at index defined in variable 'index'\n            pointEndValues += ' L ' + markArray[index].x + ' ' + markArray[index].y;\n        }\n        // adds a new attribute 'd' (with a namespace null)\n        scribble.setAttributeNS(null, 'd', pointStartValues + '' + pointEndValues);\n        if (focusPoint) {\n            // sets the stroke color and width\n            setPreviewColor('rgb(128, 128, 128)', previewThickness);\n            // prepend the element assigned into variable 'scribble' in background focus container element\n            AH.select('.backgroundFocusPathPreview').prepend(scribble);\n        } else {\n            // sets the stroke color and width\n            setPreviewColor(state.markPointColor, previewThickness);\n            // adds a new attribute 'class' (with a namespace null)\n            scribble.setAttributeNS(null, 'class', 'answer_mark');\n            // prepend the element stored into variable scribble in mark point container in which drawings are stored done by the help of 'Mark Poin' And 'Finish Marking' buttons\n            AH.select('.previewMarkingPaths').prepend(scribble);\n        }\n    }\n\n    // checks the answer and updates the status and enables 'Mark Points' button and also updates its text as 'Mark Points' \n    function parseXMLForAnswer(drawMark) {\n        // contains the json data of the xml of props\n        defaultXML = XMLToJSON(state.xml);\n        // contains the value of cdata inside div of smxml\n        cdata = defaultXML.smxml.div.__cdata;\n        // replaces the character '!' with ',' and wraps in square bracket of the value of cdata variable\n        cdata = '[' + cdata.replace(/!/g, ',') + ']';\n        // parses the cdata string value into javascript object\n        cdata = JSON.parse(cdata);\n        // creates an array markPointsAnsData\n        let markPointsAnsData = [];\n        // assign the value of array markPoints into array markPointsAnsData\n        markPointsAnsData = markPoints;\n        if (!editorState) {\n            if (uxml) {\n                if (markPoints.length == 0) {\n                    // contains the x and y co-ordinate of the points marked by user\n                    markPointsAnsData = userMarkingPoint;\n                }\n            }\n        }\n        // checks the answer is correct or incorrect\n        checkCorrectAnswer(markPointsAnsData, drawMark);\n        // sets the status of the answer ( correct or incorrect message with showing the UI that indicates correct or incorrect)\n        setStatusOfAns(isAnswerCorrect, markPointsAnsData, drawMark);\n        if (drawMark) {\n            // enables the element have id mark_points and updates its text as 'Mark Points'\n            AH.select('#mark_points').innerText = 'Mark Points';\n            AH.select('#mark_points').disabled = false;\n            // sets the value of the variable 'isMarking' to 1\n            isMarking = 1;\n        }\n    }\n\n    // stores the drawing sketched by user using keyboard and sets the user answer xml\n    function storeCompassPathByKey() {\n        // removes the class lastCircle_hover from the last circle that exist on rotation bar of the compass\n        AH.selectAll('#previewSvg .lastCircle', 'removeClass', 'lastCircle_hover');\n        // sets the style of the cursor to grab when cursor lies inside last circle\n        AH.selectAll('#previewSvg .lastCircle', 'css', {'cursor': 'grab'});\n        // sets the value true of variable isDrawCompassPreview\n        isDrawCompassPreview = true;\n        if (previewScribblePath[previewScribbleCount].d.indexOf('L') == -1) {\n            // removes the last element from the array previewScribblePath\n            previewScribblePath.pop();\n        } else {\n            // adds a new attribute 'd' (with a namespace null)\n            scribble.setAttributeNS(null, 'd', previewScribblePath[previewScribbleCount].d + ' L' + lastCircle_cx + ' ' + lastCircle_cy);\n            // adds value of variables lastCircle_cx and lastCircle_cy separated by space with prefix 'L' in the previous value of the key 'd' at index specified in the variable previewScribbleCount of array previewScribblePath\n            previewScribblePath[previewScribbleCount].d = previewScribblePath[previewScribbleCount].d + ' L' + lastCircle_cx + ' ' + lastCircle_cy;\n            // prepend the element stored into variable scribble in drawing container in which drawings are stored sketched by the help of drawing tools \n            AH.select('.previewDrawingPaths').prepend(scribble);\n            // increases the value of variable previewScribbleCount by 1\n            previewScribbleCount++;\n            // increases the value of variable previewUndoCount by 1\n            previewUndoCount++;\n            // makes array previewUndoList blank \n            previewUndoList = [];\n            // enables the cross (x) and undo button\n            AH.select('#preview_undo').disabled = false;\n            AH.select('#preview_clearScreen').disabled = false;\n\n            // disabled the redo button\n            AH.select('#preview_redo').disabled = true;\n        }\n        // contains copy of array previewScribblePath\n        let tempArrayContainer = arrayCopy(previewScribblePath);\n        // stores the drawing sketched by user and sets the user answer xml\n        storeUserPaths(tempArrayContainer);\n    }\n\n    // removes the all mark points and sets the value of the variable 'isMArking' to 1\n    function clearMarking() {\n        // removes the mark points and lines \n        AH.selectAll('.previewMarkingPaths .answer_mark', 'remove');\n        if (!editorState) {\n            // removes the correct answer circle that can be seen on remediation mode in green stroke color\n            AH.selectAll('.correct_answer_container .answer_mark', 'remove');\n        }\n        // makes array markPoints empty\n        markPoints = [];\n        // sets the text 'Mark Points' of the element having id 'mark_points' and enabled that element\n        AH.select('#mark_points').innerText = 'Mark Points';\n        AH.select('#mark_points').disabled = false;\n        // sets the value of variable isMArking to 1 that indicates that mark can be draw\n        isMarking = 1;\n    }\n\n    // checks the answer is correct or incorrect\n    function checkCorrectAnswer(markArray, drawMark) {\n        // creates correctAnswer array\n        let correctAnswer = [];\n        if (drawMark) {\n            for (let index = 0; index < cdata.length; index++) {\n                // Creates an element with the specified namespace URI and qualified name.\n                scribble = document.createElementNS(xmlns, 'circle');\n                // sets the stroke color and width\n                setPreviewColor('#0F9D58', '2');\n                // adds a new attribute 'class' (with a namespace null)\n                scribble.setAttributeNS(null, 'class', 'answer_mark answer_circle');\n                // adds a new attribute 'cx' (with a namespace null)\n                scribble.setAttributeNS(null, 'cx', cdata[index].x);\n                // adds a new attribute 'cy' (with a namespace null)\n                scribble.setAttributeNS(null, 'cy', cdata[index].y);\n                // adds a new attribute 'r' (with a namespace null)\n                scribble.setAttributeNS(null, 'r', cdata[index].r);\n                // prepend the created element with the value of variable 'xmlns' namespace URI and circle name in element have class 'correct_answer_container'\n                AH.select('.correct_answer_container').prepend(scribble);\n            }\n        }\n        if (cdata.length == 0 || markArray.length == 0) {\n            // sets the value of variable 'isAnswerCorrect' to false\n            isAnswerCorrect = false;\n            return;\n        }\n        // sets the value of the variable 'lineCount' according to the length of the array markArray\n        let lineCount = (markArray.length == 1) ? markArray.length : markArray.length - 1;\n        for (let cdataIndex = 0; cdataIndex < cdata.length; cdataIndex++) {\n            for (let index = 0; index < lineCount; index++) {\n                if ((lineCount == 1 && markArray.length == 1) && checkIntersection(markArray[index].x, markArray[index].y, 0, 0, cdata[cdataIndex].x, cdata[cdataIndex].y, cdata[cdataIndex].r)) {\n                    // push data 'Match' into array correctAnswer\n                    correctAnswer.push(\"Match\");\n                    break;\n                }\n                if ((lineCount >= 1 && markArray.length > 1) && checkIntersection(markArray[index].x, markArray[index].y, markArray[index + 1].x, markArray[index + 1].y, cdata[cdataIndex].x, cdata[cdataIndex].y, cdata[cdataIndex].r)) {\n                    // push data 'Match' into array correctAnswer\n                    correctAnswer.push(\"Match\");\n                    break;\n                }\n            }\n        }\n        if (correctAnswer.length == cdata.length) {\n            // sets the value of variable 'isAnswerCorrect' to true\n            isAnswerCorrect = true;\n        } else {\n            // sets the value of variable 'isAnswerCorrect' to false\n            isAnswerCorrect = false;\n        }\n        // makes correctAnswer array empty\n        correctAnswer = [];\n    }\n\n    // sets the status of the answer ( correct or incorrect message with showing the UI that indicates correct or incorrect)\n    function setStatusOfAns(isAnswerCorrect, markArray, drawMark) {\n        if (isAnswerCorrect) {\n            // stes the value of the state correctAnswer to true\n            state.correctAnswer = true;\n            if (drawMark) {\n                if (cdata.length && markArray.length) {\n                    // join the marked points and sets the color and width of the stroke \n                    joinMarkedPoint(markArray);\n                }\n                // sets the stroke color of element have class 'answer_mark' to #0F9D58\n                AH.selectAll('.answer_mark', 'css', {'stroke': '#0F9D58'});\n            \n                // sets the value of the message variable to correct\n                if (editorState) {\n                    // shows correct\n                    showAns(l.correct);\n                }\n            }\n        } else {\n            state.correctAnswer = false;\n\n            if (drawMark) {\n                if (cdata.length && markArray.length) {\n                    // join the marked points and sets the color and width of the stroke \n                    joinMarkedPoint(markArray);\n                }\n                // sets the stroke color of the mark points and lines that are draw using mark points to #ff0000\n                AH.selectAll('.answer_mark', 'css', {'stroke': '#ff0000'});\n                AH.selectAll('.answer_circle', 'css', {'stroke': '#0F9D58'});\n                \n                if (editorState) {\n                    // shows answer incorrect\n                    showAns(l.incorrect);\n                }\n            }\n        }\n        // check or uncheck the element have id 'answer' according to the value of variable isAnswerCorrect\n       // AH.select(\"#answer\").checked = state.correctAnswer;\n        onUserAnsChange({uXml: userAnsXML, ans: state.correctAnswer});\n    }\n\n    // Center of the circle (cx, cy)\n    // Radius of circle: r\n    // First Point (ax,ay) and second Point (bx,by)\n    function checkIntersection(ax, ay, bx, by, cx, cy, r) {\n        ax -= cx;\n        ay -= cy;\n        bx -= cx;\n        by -= cy;\n        let a = (bx - ax) * (bx - ax) + (by - ay) * (by - ay)\n        let b = 2 * (ax * (bx - ax) + ay * (by - ay));\n        let c = ax * ax + ay * ay - r * r;\n        // Applying Shri Dharacharya method by comparing the quadratic values a, b, c\n        let disc = b * b - 4 * a * c;\n        if (disc <= 0) {\n            return false;\n        }\n        let t1 = (-b + Math.sqrt(disc)) / (2 * a);\n        let t2 = (-b - Math.sqrt(disc)) / (2 * a);\n        if ((0 < t1 && t1 < 1) || (0 < t2 && t2 < 1)) {\n            return true;\n        }\n        return false;\n    }\n\n    // updates the value of compass radius and angle\n    function checkPreviewRadiusAndAngle() {\n        // contains the value of initial x co-ordinate of compass rotation bar \n        initialPoint.x = Number(AH.select('.compassRotationBar').getAttribute('x1'));\n        // contains the value of initial y co-ordinate of compass rotation bar\n        initialPoint.y = Number(AH.select('.compassRotationBar').getAttribute('y1'));\n        // contains the value of final x co-ordinate of compass rotation bar\n        finalPoint.x = Number(AH.select('.compassRotationBar').getAttribute('x2'));\n        // contains the value of final y co-ordinate of compass rotation bar\n        finalPoint.y = Number(AH.select('.compassRotationBar').getAttribute('y2'));\n        // // contains the length of compass rotation bar\n        previewCompassRadius = Number(AH.select('.drawingCompassRoute').getAttribute('r'));\n        // contains the value of compass angle using the co-ordinates of the initial and final points\n        previewCompassAngle = Math.atan2(finalPoint.y - initialPoint.y, finalPoint.x - initialPoint.x) * 180 / Math.PI;\n    }\n\n    // updates the position of rotationbar and change the center position of the circles that lies on rotationbar\n    function updatePreviewCompassCalculation(cx, cy, previewCompassRadius, previewCompassAngle) {\n        // sets the center of x of middle circle lies on compass rotationbar\n        midCircle_cx = cx + (previewCompassRadius / 2) * Math.cos(previewCompassAngle * (Math.PI / 180));\n        // sets the center of y of middle circle lies on compass rotationbar\n        midCircle_cy = cy + (previewCompassRadius / 2) * Math.sin(previewCompassAngle * (Math.PI / 180));\n        // sets the center of x of small middle circle lies on compass rotationbar\n        midSmallCircle_cx = cx + ((3 * previewCompassRadius) / 4) * Math.cos(previewCompassAngle * (Math.PI / 180));\n        // sets the center of y of small middle circle lies on compass rotationbar\n        midSmallCircle_cy = cy + ((3 * previewCompassRadius) / 4) * Math.sin(previewCompassAngle * (Math.PI / 180));\n        // sets the center of x of last circle lies on compass rotationbar\n        lastCircle_cx = cx + (previewCompassRadius) * Math.cos(previewCompassAngle * (Math.PI / 180));\n        // sets the center of y of last circle lies on compass rotationbar\n        lastCircle_cy = cy + (previewCompassRadius) * Math.sin(previewCompassAngle * (Math.PI / 180));\n        // sets the center of x of rotation icon that can be seen just in front of the last circle to indication that move the rotationbar in these directions to draw the circular curve\n        lastSmallCircle_cx = cx + ((5 * previewCompassRadius) / 4) * Math.cos(previewCompassAngle * (Math.PI / 180));\n        // sets the center of x of rotation icon that can be seen just in front of the last circle to indication that move the rotationbar in these directions to draw the circular curve\n        lastSmallCircle_cy = cy + ((5 * previewCompassRadius) / 4) * Math.sin(previewCompassAngle * (Math.PI / 180));\n        // sets the center co-ordinate of the compass and of its route\n        AH.selectAll('.drawingCompassRoute,.drawingCompassCenter', 'attr', {\n            'cx': cx,\n            'cy': cy\n        });\n        // sets the radius of the compass or length of the rotationbar\n        AH.selectAll('.drawingCompassRoute', 'attr', {'r': previewCompassRadius});\n        // sets the co-ordinates of start and end points of the compass rotation bar\n        AH.selectAll('.compassRotationBar', 'attr', {\n            'x1': cx,\n            'y1': cy,\n            'x2': lastCircle_cx,\n            'y2': lastCircle_cy\n        });\n        // sets the values of the center of the rotation indicator and rotate it in 3D dimention for defined variables value that can be seen after hover on the last circle lies on rotation bar\n        AH.selectAll('#previewSvg .lastCircleMid', 'attr', {\n            'cx': lastSmallCircle_cx,\n            'cy': lastSmallCircle_cy,\n            \"transform\": \"rotate(\" + previewCompassAngle + \",\" + lastSmallCircle_cx + \",\" + lastSmallCircle_cy + \")\"\n        });\n        // sets the center of the last circle lies on rotation bar\n        AH.selectAll('#previewSvg .lastCircle', 'attr', {\n            'cx': lastCircle_cx,\n            'cy': lastCircle_cy\n        });\n        // sets the values of the center of small middle circle and rotate it in 3D dimention for defined variables value\n        AH.selectAll('#previewSvg .midSmallCircle', 'attr', {\n            'cx': midSmallCircle_cx,\n            'cy': midSmallCircle_cy,\n            \"transform\": \"rotate(\" + previewCompassAngle + \",\" + midSmallCircle_cx + \",\" + midSmallCircle_cy + \")\"\n        });\n        // sets the values of the center of middle circle and rotate it in 3D dimention for defined variables value\n        AH.selectAll('#previewSvg .mid_circle', 'attr', {\n            'cx': midCircle_cx,\n            'cy': midCircle_cy,\n            \"transform\": \"rotate(\" + previewCompassAngle + \",\" + midCircle_cx + \",\" + midCircle_cy + \")\"\n        });\n        // assign the value of variable previewCompassAngle into variable curAngle\n        let curAngle = previewCompassAngle;\n        if (curAngle < 0) {\n            // adds 360 degree value in it's previous value of variable curAngle\n            curAngle = 360 + curAngle;\n        }\n        // sets the message about angle for screen reader\n        AH.select('#compassRotationTitle').innerText = \"Compass Angle, Your Current Angle is \" + curAngle.toFixed(0) + \" degree\";\n        // sets the message about radius for screen reader\n        AH.select('#compassRadiusTitle').innerText = \"Compass Radius, Your Current Radius is \" + (previewCompassRadius * 0.02649).toFixed(1) + \"cm\";\n    }\n\n    // sets the x and y co-ordinate of the mouse position\n    function setPreviewMouseCoordinates(event) {\n        // contains the size of element having id 'authoringSvg' and its position relative to the viewport\n        let boundary = document.getElementById('previewSvg').getBoundingClientRect();\n        // sets the x position of the mouse co-ordinate\n        preview_mouseX = event.clientX - boundary.left;\n        // sets the y position of the mouse co-ordinate\n        preview_mouseY = event.clientY - boundary.top;\n    }\n\n    // sets the stroke color and width\n    function setPreviewColor(previewColor, previewThickness) {\n        // sets the stroke color of the drawing\n        scribble.style.stroke = previewColor;\n        // sets the stroke width of the drawing\n        scribble.style.strokeWidth = previewThickness;\n        scribble.style.fill = 'none';\n    }\n\n    // changes the value of radius, angle, and center of the compass when it is performed via keyboard\n    function compassKeyEvent(mode, event) {\n        if ( ! AH.select('.drawingCompassSvg').classList.contains('h') && previewMode == \"compass\") {\n            // contains width of the background image\n            let imageWidth = AH.select('#svgImgPreview').clientWidth;\n            // contains width of the background image \n            let imageHeight = AH.select('#svgImgPreview').clientHeight;\n            // updates the value of compass radius and angle\n            checkPreviewRadiusAndAngle();\n            if (event.shiftKey && (event.keyCode == 38 || event.keyCode == 37 || event.keyCode == 39 || event.keyCode == 40)) {\n                if (mode == 'radius') {\n                    switch (event.keyCode) {\n                        case 38:\n                            // increases the radius value by 1 after down the key shift and up arrow\n                            previewCompassRadius++;\n                            break;\n                        case 37:\n                            // decreases the radius value by 1 after down the key shift and left arrow\n                            previewCompassRadius--;\n                            break;\n                        case 39:\n                            // increases the radius value by 1 after down the key shift and right arrow\n                            previewCompassRadius++;\n                            break;\n                        case 40:\n                            // decreases the radius value by 1 after down the key shift and down arrow\n                            previewCompassRadius--;\n                            break;\n                    }\n                }\n                if (mode == 'move') {\n                    switch (event.keyCode) {\n                        case 38:\n                            // decreases the value of y co-ordinate of compass center by 1 after down the key shift and up arrow\n                            initialPoint.y--;\n                            break;\n                        case 37:\n                            // decreases the value of x co-ordinate of compass center by 1 after down the key shift and left arrow\n                            initialPoint.x--;\n                            break;\n                        case 39:\n                            // increases the value of x co-ordinate of compass center by 1 after down the key shift and right arrow\n                            initialPoint.x++;\n                            break;\n                        case 40:\n                            // increases the value of y co-ordinate of compass center by 1 after down the key shift and down arrow\n                            initialPoint.y++;\n                            break;\n                    }\n                }\n                if ((mode == 'rotate' || mode == 'draw')) {\n                    switch (event.keyCode) {\n                        case 38:\n                            // increases the value of compass angle by 1 after down the key shift and up arrow\n                            previewCompassAngle++;\n                            break;\n                        case 39:\n                            // decreases the value of compass angle by 1 after down the key shift and right arrow\n                            previewCompassAngle--;\n                            break;\n                        case 37:\n                            // increases the value of compass angle by 1 after down the key shift and left arrow\n                            previewCompassAngle++;\n                            break;\n                        case 40:\n                            // decreases the value of compass angle by 1 after down the key shift and down arrow\n                            previewCompassAngle--;\n                            break;\n                    }\n                }\n                if (mode == 'draw') {\n                    if (AH.select('#previewSvg .lastCircle').classList.contains('lastCircle_hover') || AH.select('#previewSvg .lastbigcircle').classList.contains('lastCircle_hover')) {\n                        // adds a new attribute 'd' (with a namespace null)\n                        scribble.setAttributeNS(null, 'd', previewScribblePath[previewScribbleCount].d + ' L' + lastCircle_cx + ' ' + lastCircle_cy);\n                        // adds value of variables lastCircle_cx and lastCircle_cy separated by space with prefix 'L' in the previous value of the key 'd' at index specified in the variable previewScribbleCount of array previewScribblePath\n                        previewScribblePath[previewScribbleCount].d = previewScribblePath[previewScribbleCount].d + ' L' + lastCircle_cx + ' ' + lastCircle_cy;\n                        // prepend the element stored into variable scribble in drawing container in which drawings are stored sketched by the help of drawing tools\n                        AH.select('.previewDrawingPaths').prepend(scribble);\n                    }\n                }\n                if (initialPoint.x < 10 || previewCompassRadius < 80 || previewCompassRadius > 360 || initialPoint.x > imageWidth || initialPoint.y < 10 || initialPoint.y > imageHeight) {\n                    return;\n                }\n                // updates the position of rotationbar and change the center position of the circles that lies on rotationbar\n                updatePreviewCompassCalculation(initialPoint.x, initialPoint.y, previewCompassRadius, previewCompassAngle);\n            }\n        }\n    }\n\n    // stop the drawing and store the drawing sketched by the user and sets the user answer xml \n    function stopDraw() {\n        if ((checkCurrentPositionX == cursorLeft && checkCurrentPositionY == cursorTop && previewMode == 'line') || (previewMode == 'scribble' && previewScribblePath[previewScribbleCount].d.indexOf('L') == -1)) {\n            // removes the last element from the array previewScribblePath\n            previewScribblePath.pop();\n        } else {\n            if (!(isNaN(cursorLeft) && isNaN(cursorTop))) {\n                // adds a new attribute 'd' (with a namespace null)\n                scribble.setAttributeNS(null, 'd', previewScribblePath[previewScribbleCount].d + ' L' + cursorLeft + ' ' + cursorTop);\n                // adds value of variables cursorLeft and cursorTop separated by space with prefix 'L' in the previous value of the key 'd' at index specified in the variable previewScribbleCount of array previewScribblePath\n                previewScribblePath[previewScribbleCount].d = previewScribblePath[previewScribbleCount].d + ' L' + cursorLeft + ' ' + cursorTop;\n                // prepend the element stored into variable scribble in drawing container in which drawings are stored sketched by the help of drawing tools\n                AH.select('.previewDrawingPaths').prepend(scribble);\n            }\n            // increases the value of the variable previewScribbleCount by 1\n            previewScribbleCount++;\n            // increases the value of the variable previewUndoCount by 1\n            previewUndoCount++;\n            // makes array previewUndoList blank\n            previewUndoList = [];\n            // enables undo and cross (x) buttons\n            AH.select('#preview_undo').disabled = false;\n            AH.select('#preview_clearScreen').disabled = false;\n\n            // disabled redo button\n            AH.select('#preview_redo').disabled = true;\n        }\n        // indicates that scribble drawing is not sketching\n        isScribble = 0;\n        // sets the value of variable startDrawingByKey to 0\n        startDrawingByKey = 0;\n        // sets the value of variable isDrawStop to 0\n        isDrawStop = 0;\n        // sets the value of variable lockFocus to 0\n        lockFocus = 0;\n        // contains copy of array previewScribblePath\n        let tempArrayContainer = arrayCopy(previewScribblePath);\n        // stores the drawing sketched by user and sets the user answer xml\n        storeUserPaths(tempArrayContainer);\n    }\n\n    // function for opening the shortcut modal\n    function openShortcut() {\n        AH.getBS('#drawing_shortcut_modal', 'Modal').show();\n    }\n\n    // function for checking the user ans and loading the module on the basis of it\n    function checkUserAns() {\n        if (typeof (editorState) == 'undefined') {\n            // removes the reset button\n            AH.selectAll('.reset_group', 'remove');\n            if (uxml) {\n                if (uxml.search('<smans type=\"41\">') == -1 || uxml.search('<smans type=\"41\"></smans>') == 0 || uxml.search('undefined') != -1) {\n                    // blanks the user answer xml\n                    AH.select(\"#special_module_user_xml\", 'value', \"\");\n                } else {\n                    if (isReview) {\n                        AH.selectAll('.previewBtnGrp', 'addClass', 'h');\n                        // sets the value 'none' of the variable previewMode\n                        previewMode = 'none';\n                        // not allowed user to perform the task\n                        AH.selectAll('.preview_drawing_container', 'css', {pointerEvents: \"none\"});\n                        // removes the class previewKeySvg from the svg element have id previewSvg\n                        AH.select('#previewSvg', 'removeClass', 'previewKeySvg');\n                    } else {\n                        // allowed user to perform the task\n                        AH.selectAll('.preview_drawing_container','css', {pointerEvents : \"\"});\n                        // shows all buttons\n                        AH.selectAll('.previewBtnGrp', 'removeClass', 'h')\n                        // adds the class previewKeySvg to the svg element have id previewSvg\n                        AH.select('#previewSvg','addClass', 'previewKeySvg');\n                        // contains the value of state array selectedTools at index 0 after removing the first character\n                        previewMode = state.selectedTools[0].substr(-(state.selectedTools[0].length - 1));\n                        // it's also used below in this function so it can be removed\n                        AH.selectAll('.preview_btn,#mark_points', 'removeClass', 'active');\n                        // it's also used below in this function so it can be removed\n                        AH.select('#preview' + state.selectedTools[0], 'addClass', 'active');\n                    }\n                    loadModule(AH.select(\"#special_module_user_xml\").value, isReview);\n                }\n            }\n        }\n    }\n\n</script>\n\n<main id=\"drawingPreviewMain\">\n    <div id=\"drawing_shortcut_modal\" class=\"modal fade\" tabIndex=\"-1\">\n        <div class=\"modal-dialog modal-dialog-centered\">\n            <div class=\"modal-content\">\n                <div class=\"modal-header\">\n                    <h4 class=\"modal-title\">{l.shortcuts}</h4>\n                    <button type=\"button\" class=\"close\" data-bs-dismiss=\"modal\">&times;</button>\n                </div>\n                <div class=\"modal-body overflow-y\">\n                    <!-- svelte-ignore a11y-unknown-role -->\n                    <table role=\"shortcut\" class=\"shortcutTable m-0 p-2 border-0 common-shortcut-table table-striped font15\">\n                        <tbody tabindex=\"0\" role=\"shortcut\">\n                            <tr tabindex=\"0\" role=\"shortcut\"><td class=\"py-1 font-weight-bold w-50 pr-0\">{l.keys}</td><td class=\"py-1\"><div class=\"d-flex\"><span class=\"pl-3 font-weight-bold\">{l.des_txt}</span></div></td></tr>\n                            <tr tabindex=\"0\" role=\"shortcut\"><td class=\"py-1 font-weight-bold w-50 pr-0\">{l.ctrl_z}</td><td class=\"py-1\"><div class=\"d-flex\"><span class=\"pl-3\">{l.undo}</span></div></td></tr>\n                            <tr tabindex=\"0\" role=\"shortcut\" ><td class=\"py-1 font-weight-bold w-50 pr-0\">{l.ctrl_x}</td><td class=\"py-1\"><div class=\"d-flex\"><span class=\"pl-3\">{l.cut}</span></div></td></tr>\n                            <tr tabindex=\"0\" role=\"shortcut\" ><td class=\"py-1 font-weight-bold w-50 pr-0\">{l.ctrl_y}</td><td class=\"py-1\"><div class=\"d-flex\"><span class=\"pl-3\">{l.redo}</span></div></td></tr>\n                            <tr tabindex=\"0\" role=\"shortcut\" ><td class=\"py-1 font-weight-bold w-50 pr-0\">{l.enter}</td><td class=\"py-1\"><div class=\"d-flex\"><span class=\"pl-3\">{l.enable_tool}</span></div></td></tr>\n                            <tr tabindex=\"0\" role=\"shortcut\" ><td class=\"py-1 font-weight-bold w-50 pr-0\">{l.shift_enter}</td><td class=\"py-1\"><div class=\"d-flex\"><span class=\"pl-3\">{l.start_stop_tool}</span></div></td></tr>\n                            <tr tabindex=\"0\" role=\"shortcut\" ><td class=\"py-1 font-weight-bold w-50 pr-0\">{l.shift_arrow}</td><td class=\"py-1\"><div class=\"d-flex\"><span class=\"pl-3\">{l.compass_tools}</span></div></td></tr>\n                            <tr tabindex=\"0\" role=\"shortcut\" ><td class=\"py-1 font-weight-bold w-50 pr-0\">{l.locking}</td><td class=\"py-1\"><div class=\"d-flex\"><span class=\"pl-3\">{l.locking_txt}</span></div></td></tr>\n                            <tr tabindex=\"0\" role=\"shortcut\" ><td class=\"py-1 font-weight-bold w-50 pr-0\">{l.draw_key}</td><td class=\"py-1\"><div class=\"d-flex\"><span class=\"pl-3\">{l.draw_txt}</span></div></td></tr>\n                            <tr tabindex=\"0\" role=\"shortcut\" ><td class=\"py-1 font-weight-bold w-50 pr-0\">{l.tab}</td><td class=\"py-1\"><div class=\"d-flex\"><span class=\"pl-3\">{l.focus_next}</span></div></td></tr>\n                            <tr tabindex=\"0\" role=\"shortcut\" ><td class=\"py-1 font-weight-bold w-50 pr-0\">{l.shift_tab}</td><td class=\"py-1\"><div class=\"d-flex\"><span class=\"pl-3\">{l.focus_prev}</span></div></td></tr>\n                            <tr tabindex=\"0\" role=\"shortcut\" ><td class=\"py-1 font-weight-bold w-50 pr-0\">{l.esc}</td><td class=\"py-1\"><div class=\"d-flex\"><span class=\"pl-3\">{l.exit_txt}</span></div></td></tr>\n                        </tbody>\n                    </table>\n                </div>\n                <div class=\"modal-footer\">\n                    <button type=\"button\" class=\"btn btn-light\" data-bs-dismiss=\"modal\">{l.close}</button>\n                </div>\n            </div>\n        </div>\n    </div>\n    <div class=\"drawing_module_container\">\n        <button type=\"button\" class=\"h h-imp\" id=\"set-review\"></button>\n        <button type=\"button\" class=\"h h-imp\" id=\"unset-review\"></button>\n        <center class=\"preview_drawing_container\">\n            <div class=\"mt-2 mb-3 previewBtnGrp\">\n                <div class=\"btn-toolbar preview_drawing_toolbar\" role=\"toolbar\" aria-label={l.drawing_tools}>\n                    <div class=\"btn-group mr-2\" role=\"group\" tabIndex=\"0\" aria-label={l.draw_tools}>\n                        <button type=\"button\" data-title=\"scribble\" tabIndex=\"0\" aria-label={l.scribble_tool} title={l.scribble} name=\"preview_scribble\" id=\"preview_scribble\" class=\"geometryToolPreview tooltip_btn btn btn-light preview_toolbar preview_btn\"><i class=\"icomoon-pencil\"></i></button>\n                        <button type=\"button\" data-title=\"line\" tabIndex=\"0\" aria-label={l.line_tool} title={l.line} name=\"preview_line\" id=\"preview_line\" class=\"geometryToolPreview btn btn-light tooltip_btn preview_toolbar preview_btn\">/</button>\n                        <button type=\"button\" data-title=\"compass\" tabIndex=\"0\" aria-label={l.compass_tool} title={l.compass} name=\"preview_compass\" id=\"preview_compass\" class=\"geometryToolPreview tooltip_btn btn btn-light preview_toolbar preview_btn\"><i class=\"icomoon-compass1\"></i></button>\n                    </div>\n                    <div class=\"btn-group mr-2\" role=\"group\" tabIndex=\"0\" aria-label={l.removing_tools}>\n                        <button type=\"button\" data-title=\"eraser\" tabIndex=\"0\" aria-label={l.delete_tool} title={l.delete_tool} name=\"eraser\" id=\"preview_eraser\" class=\"btn btn-light tooltip_btn preview_toolbar preview_btn\"><i class=\"icomoon-delete-sm\"></i></button>\n                        <button type=\"button\"  title={l.clear_screen} tabIndex=\"0\" aria-label={l.clear_screen} name=\"clearScreen\" id=\"preview_clearScreen\" disabled=\"disabled\" class=\"btn btn-light tooltip_btn\"><i class=\"icomoon-close-2\"></i></button>\n                        <button type=\"button\" title={l.redo} name=\"redo\" tabIndex=\"0\" aria-label={l.redo} id=\"preview_redo\" disabled=\"disabled\" class=\"btn btn-light tooltip_btn\"><i class=\"icomoon-redo-2\"></i></button>\n                        <button type=\"button\" title={l.undo} name=\"undo\" tabIndex=\"0\" aria-label={l.undo} id=\"preview_undo\" disabled=\"disabled\" class=\"btn btn-light tooltip_btn\"><i class=\"icomoon-undo-2\"></i></button>\n                    </div>\n                    <div class=\"btn-group mr-2 marking_group\" role=\"group\" aria-label={l.marking_tools}>\n                        <button type=\"button\" title={l.mark_finish_point} name=\"mark_points\" tabIndex=\"0\" aria-label={l.mark_ans_point} id=\"mark_points\" class=\"btn tooltip_btn btn-light\">{l.mark_pnt}</button>\n                    </div>\n                    <div class=\"btn-group mr-2 reset_group\" role=\"group\" aria-label={l.reset}>\n                        <button type=\"button\" title={l.reset} name=\"preview_reset_btn\" tabIndex=\"0\" aria-label={l.reset_btn} id=\"preview_reset_btn\" class=\"btn tooltip_btn btn-light\"><i class=\"icomoon-new-24px-reset-1\"></i></button>\n                    </div>\n                    <div class=\"btn-group mr-2\" role=\"group\" aria-label={l.shortcuts}>\n                        <button type=\"button\" title={l.shortcuts} name=\"shortcut_modal_btn\" aria-label={l.shortcuts} tabIndex=\"0\" id=\"shortcut_modal_btn\" class=\"tooltip_btn btn btn-primary\" on:click={openShortcut}>{l.shortcuts}</button>\n                    </div>\n                </div>\n            </div>\n            <div>\n                <div id=\"centerImg\" class=\"centerImg centerImgPreview my-auto relative ml-0\">\n                    <img class=\"border\" alt=\"\" src={bgImgPath + state.bgImg} id=\"svgImgPreview\" />\n                    <div>\n                        <span class=\"icomoon-plus s2 move_icon position-absolute h\" id=\"moveDrawIcon\"></span>\n                    </div>\n                    <svg width=\"100%\" height=\"100%\" id=\"previewSvg\" class=\"previewKeySvg\" tabIndex=\"0\" aria-labelledby=\"previewSvgTitle\">\n                        <title id=\"previewSvgTitle\">{state.alt}</title>\n                        <g class=\"backgroundFocusPathPreview\"></g>\n                        <g class=\"previewDrawingPaths\"></g>\n                        <g class=\"correct_answer_container\"></g>\n                        <g class=\"backgroundFocusPointPreview\"></g>\n                        <g class=\"previewMarkingPaths\"></g>\n                        <svg class=\"drawingCompassSvg h\" focusable=\"false\">\n                            <svg>\n                                <g>\n                                    <circle class=\"drawingCompassRoute compass_route\" cx=\"267.984375\" cy=\"173\" r=\"80\"></circle>\n                                    <g>\n                                        <line class=\"compassRotationBar compass_radius\" x1=\"267.984375\" y1=\"173\" x2=\"267.984375\" y2=\"253\"></line>\n                                    </g>\n                                    <g >\n                                        <circle tabIndex=\"0\" class=\"drawingCompassCenter compass_center\" cx=\"267.984375\" cy=\"173\" r=\"17\" aria-labelledby=\"compassCenterTitle compassCenterDesc\" focusable=\"true\" fill=\"url(#previewDrawingCenter)\"></circle>\n                                        <title id=\"compassCenterTitle\">{l.compass_center}</title>\n                                        <desc id=\"compassCenterDesc\">{l.shift_arrow_use}</desc>\n                                        <defs>\n                                            <pattern id=\"previewDrawingCenter\" width=\"20\" height=\"20\">\n                                                <svg x=\"0px\" y=\"0px\" viewBox=\"1 -3 21 35\" width=\"33\" height=\"41\">\n                                                    <path fill=\"#808080\" class=\"st0\" d=\"M3.22,15.1L1,12l2.22-3.1C3.22,10.97,3.22,13.03,3.22,15.1z\" />\n                                                    <path fill=\"#808080\" class=\"st0\" d=\"M8.9,3.22L12,1l3.1,2.22C13.03,3.22,10.97,3.22,8.9,3.22z\" />\n                                                    <path fill=\"#808080\" class=\"st0\" d=\"M15.1,20.78L12,23l-3.1-2.22C10.97,20.78,13.03,20.78,15.1,20.78z\" />\n                                                    <path fill=\"#808080\" class=\"st0\" d=\"M20.78,8.9L23,12l-2.22,3.1C20.78,13.03,20.78,10.97,20.78,8.9z\" />\n                                                    <circle cx=\"12\" cy=\"12\" r=\"2\" fill=\"#333333\" />\n                                                </svg>\n                                            </pattern>\n                                        </defs>\n                                    </g>\n                                    <g>\n                                        <circle class=\"compass_radius_icon mid_circle\" cx=\"267.984375\" cy=\"213\" r=\"17\" fill=\"url(#previewDrawingRadius)\" transform=\"rotate(90,160,168)\" aria-labelledby=\"compassRadiusTitle compassRadiusDesc\" tabIndex=\"0\" focusable=\"true\"></circle>\n                                        <title id=\"compassRadiusTitle\">{l.compass_radius + (previewCompassRadius * 0.02649).toFixed(2)}</title>\n                                        <desc id=\"compassRadiusDesc\">{l.shift_arrow_radius}</desc>\n                                        <defs>\n                                            <pattern id=\"previewDrawingRadius\" width=\"20\" height=\"20\">\n                                                <svg x=\"0px\" y=\"0px\" viewBox=\"1 -5 21 34\" width=\"33\" height=\"33\">\n                                                    <g>\n                                                        <g>\n                                                            <rect x=\"8.53\" y=\"1.11\" width=\"1.5\" height=\"21.79\" />\n                                                        </g>\n                                                        <g>\n                                                            <rect x=\"13.97\" y=\"1.11\" width=\"1.5\" height=\"21.79\" />\n                                                        </g>\n                                                    </g>\n                                                    <g>\n                                                        <g>\n                                                            <path d=\"M5.87,16.87L1,12l4.87-4.87C5.87,10.38,5.87,13.62,5.87,16.87z\" />\n                                                        </g>\n                                                        <g>\n                                                            <path d=\"M18.13,16.87L23,12l-4.87-4.87C18.13,10.38,18.13,13.62,18.13,16.87z\" />\n                                                        </g>\n                                                    </g>\n                                                </svg>\n                                            </pattern>\n                                        </defs>\n                                    </g>\n                                    <g>\n                                        <circle class=\"compass_rotation midSmallCircle\" cx=\"267.984375\" cy=\"233\" r=\"8\" fill=\"url(#previewMidSmallCircle_icon)\" area-label=\"Compass Angle Use Shift and arrow keys to increase or decrease the radius\" aria-labelledby=\"compassRotationTitle compassRotationDesc\" tabIndex=\"0\" focusable=\"true\" transform=\"rotate(90,160,193)\"></circle>\n                                        <title id=\"compassRotationTitle\">{l.compass_angle + previewCompassAngle + l.degree}</title>\n                                        <desc id=\"compassRotationDesc\">{l.shift_arrow_angle}</desc>\n                                        <defs>\n                                            <pattern id=\"previewMidSmallCircle_icon\" width=\"20\" height=\"20\">\n                                                <svg width=\"16px\" height=\"16px\" viewBox=\"0 0 14 14\" version=\"1.1\">\n                                                    <path fill=\"#000\" opacity=\"0.8\" d=\"M7,14 C3.13400675,14 0,10.8659932 0,7 C0,3.13400675 3.13400675,0 7, 0 C10.8659932,0 14,3.13400675 14,7 C14,10.8659932 10.8659932,14 7, 14 Z M4.66666667,8.16666667 L7,11.6666667 L9.33333333,8.16666667 L4.66666667,8.16666667 Z M4.66666667,5.83333333 L9.33333333,5.83333333 L7,2.33333333 L4.66666667,5.83333333 Z\"></path>\n                                                </svg>\n                                            </pattern>\n                                        </defs>\n                                    </g>\n                                    <g>\n                                        <circle class=\"drawing-compass-pointer lastCircle\" cx=\"267.984375\" cy=\"253\" r=\"3\" fill={state.lineColor}></circle>\n                                        <circle class=\"drawing-compass-pointer-border lastCircle lastbigcircle\" aria-labelledby=\"compassAngleTitle compassAngleDesc\" cx=\"267.984375\" cy=\"253\" r=\"17\" tabIndex=\"0\" focusable=\"true\"></circle>\n                                        <title id=\"compassAngleTitle\">{l.compass_draw}</title>\n                                        <desc id=\"compassAngleDesc\">{l.shift_arrow_draw}</desc>\n                                    </g>\n                                    <g>\n                                        <circle class=\"lastCircleMid\" fill=\"url(#previewLastCircleMid_icon)\" transform=\"rotate(90,160,243)\" cx=\"267.984375\" cy=\"293\" r=\"12\" opacity=\"0\"></circle>\n                                        <defs>\n                                            <pattern id=\"previewLastCircleMid_icon\" width=\"20\" height=\"20\">\n                                                <svg width=\"24\" height=\"23\" viewBox=\"0 0 11 27\" version=\"1.1\" enableBackground=\"new 0 0 8 24\">\n                                                    <g stroke=\"none\" strokeWidth=\"1\" fill=\"none\" fillRule=\"evenodd\" opacity=\"0.5\">\n                                                        <g transform=\"translate(-516.000000, -445.000000)\" fill=\"#333333\" fillRule=\"nonzero\">\n                                                            <g transform=\"translate(207.000000, 318.000000)\">\n                                                                <g transform=\"translate(313.742737, 140.576561) rotate(-2.000000) translate(-313.742737, -140.576561) translate(308.242737, 127.076561)\">\n                                                                    <path d=\"M3.76491276,22.4309727 C5.88207272,19.902578 7.10843487, 16.447736 7.10843487,12.7446281 C7.10843487,9.90533039 6.38974128, 7.20188959 5.07542401,4.93464319 L1.71316547,5.67221801 L4.9100909, 0.48305188 L10.1719173,3.81663137 L7.11351005,4.48755064 C8.4088902, 6.93966677 9.10843487,9.78181395 9.10843487,12.7446281 C9.10843487, 16.6677555 7.87827881,20.3638018 5.71250857,23.1972812 L8.63385425, 24.3467251 L2.93165771,26.8255625 L0.595287046,21.1838396 L3.76491276, 22.4309727 Z\" class=\"\"></path>\n                                                                </g>\n                                                            </g>\n                                                        </g>\n                                                    </g>\n                                                </svg>\n                                            </pattern>\n                                        </defs>\n                                    </g>\n                                </g>\n                            </svg>\n                        </svg>\n                    </svg>\n                </div>\n            </div>\n        </center>\n    </div>\n</main>"],"names":["l","mark_pnt","shortcuts","ctx","alt","compass_center","shift_arrow_use","compass_radius","toFixed","shift_arrow_radius","compass_angle","degree","shift_arrow_angle","compass_draw","shift_arrow_draw","keys","des_txt","ctrl_z","undo","ctrl_x","cut","ctrl_y","redo","enter","enable_tool","shift_enter","start_stop_tool","shift_arrow","compass_tools","locking","locking_txt","draw_key","draw_txt","tab","focus_next","shift_tab","focus_prev","esc","exit_txt","close","scribble_tool","scribble","line_tool","line","compass_tool","compass","draw_tools","delete_tool","clear_screen","removing_tools","mark_finish_point","mark_ans_point","marking_tools","reset","reset_btn","drawing_tools","bgImgPath","bgImg","lineColor","xmlns","arrayCopy","array","tempArray","index","length","push","mode","order","type","d","checkIntersection","ax","ay","bx","by","cx","cy","r","a","b","disc","t1","Math","sqrt","t2","preview_mouseX","preview_mouseY","checkCurrentPositionX","checkCurrentPositionY","midCircle_cx","midCircle_cy","midSmallCircle_cx","midSmallCircle_cy","lastCircle_cx","lastCircle_cy","lastSmallCircle_cx","lastSmallCircle_cy","xml","uxml","isReview","showAns","editorState","isDrawingPreview","isDrawCompassPreview","isStoreStart","isDrawStop","startDrawingByKey","previewMode","previewColor","previewScribblePath","previewScribbleCount","previewUndoCount","previewUndoList","previewRedoList","accessibilityPointsPreview","focusPointCountPreview","lockFocus","isScribble","previewCompassRadius","isPreviewCompassMove","previewCompassAngle","isPreviewRadiusIncrease","initialPoint","x","y","finalPoint","isPreviewRadiusRotate","cursorTop","cursorLeft","defaultXML","cdata","isAnswerCorrect","isMarking","markPoints","userAnsPath","userAnsXML","userMarkingPoint","userDrawPath","userAnsCorrect","markPointsData","is_mac","prev_store","writable","correctAnswer","openImg","openDrag","focusDATA","userXML","selectedTools","remediationMode","imgWidth","markPointColor","state","subscribe","value","compassLastcircleEvent","event","stopDraw","shiftKey","AH","selectAll","clearMarking","cursor","checkPreviewRadiusAndAngle","document","createElementNS","setPreviewColor","setAttributeNS","reinitializeFoucsEvent","listenAll","target","classList","add","markPointEvent","undefined","screenX","keyCode","preventDefault","markFinalPoints","select","toolbarAction","current","getAttribute","previewMouseLeave","setPreviewMouseCoordinates","split","pop","prepend","disabled","updatePreviewCompassCalculation","storeUserPaths","setReview","storeCompassPathByKey","parseXMLForAnswer","substr","pointerEvents","createUXML","addMarkPointOnLoad","JSON","parse","tabindex","aria-labelledby","insert","ans_correct","stroke","ans_incorrect","unsetReview","innerText","parseXMLForGettingData","XMLToJSON","smxml","_markPointColor","_color","update","item","_bgimg","_imgAlt","_width","backgroundPoint","__cdata","div","_selectedDrawingType","updatedFocusCDATA","replace","subPoints","append","joinMarkedPoint","toolsIndex","style","Number","src","width","enableBsAll","container","error","console","warn","func","eraser","curClass","curArray","tempArrayContainer","currentIndex","indexOf","convertJSONtoArray","stringify","drawPathArray","subindex","filter","element","window","ISSPECIALMODULEUSERXMLCHANGE","markArray","focusPoint","pointStartValues","pointEndValues","drawMark","markPointsAnsData","checkCorrectAnswer","setStatusOfAns","lineCount","cdataIndex","correct","incorrect","onUserAnsChange","uXml","ans","atan2","PI","cos","sin","x1","y1","x2","y2","transform","curAngle","boundary","getElementById","getBoundingClientRect","clientX","left","clientY","top","previewThickness","strokeWidth","fill","compassKeyEvent","contains","imageWidth","clientWidth","imageHeight","clientHeight","isNaN","onMount","createLink","baseUrlTheme","preload","as","navigator","userAgent","listen","swal","text","reset_module","icon","buttons","then","bind","ctrlKey","click","offsetHeight","drawLine","setTimeout","nodeName","clearTimeout","draw_scribble","pow","remove","opacity","afterUpdate","uaXML","search","smans","markpoints","ansCorrect","toLowerCase","createUserPath","review","getBS","show"],"mappings":"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"}