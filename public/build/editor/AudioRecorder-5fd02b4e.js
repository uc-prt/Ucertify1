import{S as e,i as t,s as a,e as l,C as o,b as n,u as i,f as s,h as c,j as r,P as d,l as u,r as g,o as b,y as m,p,A as h,a1 as _,X as f}from"./main-b1387daf.js";function v(e){let t,a,p,h,_,f,v,x,w,C,y,k,S,A,R,T,B,I,P,G,E,j,D,O,X,L,F,M,N,U,H,J,K,z,$,V,Y,q,Q,W,Z,ee,te,ae,le,oe,ne,ie,se,ce,re,de,ue,ge,be,me,pe,he,_e,fe,ve,xe,we,Ce,ye,ke,Se,Ae,Re,Te,Be,Ie,Pe,Ge,Ee,je,De,Oe,Xe,Le,Fe,Me,Ne,Ue,He,Je=o.recording_warning+"",Ke=o.modal_data+"";return{c(){t=l("div"),a=l("div"),p=l("div"),h=l("b"),h.textContent=""+o.note_label,_=n(),f=i(Je),v=n(),x=l("div"),w=l("div"),C=l("b"),C.textContent=""+o.spoken_label,y=n(),k=l("textarea"),R=n(),T=l("div"),B=l("div"),I=l("label"),P=l("b"),P.textContent=""+o.select_lang,G=n(),E=l("select"),j=l("option"),j.textContent=""+o.english_us,D=l("option"),D.textContent=""+o.german_lang,O=l("option"),O.textContent=""+o.french_lang,X=l("option"),X.textContent=""+o.spanish_lang,L=l("option"),L.textContent=""+o.hindi_lang,F=l("option"),F.textContent=""+o.japanese_lang,M=l("option"),M.textContent=""+o.korean_lang,N=l("option"),N.textContent=""+o.italiano,H=n(),J=l("div"),K=l("label"),z=l("input"),V=n(),Y=l("div"),q=n(),Q=l("label"),Q.textContent=""+o.show_transcript,W=n(),Z=l("div"),ee=l("div"),te=l("div"),ae=l("b"),ae.textContent=""+o.audio_recorder,le=n(),oe=l("div"),ne=l("span"),ne.textContent=""+o.starting_message,ie=n(),se=l("div"),se.innerHTML='<img src="//s3.amazonaws.com/jigyaasa_content_static/6ba174bf48e9b6dc8d8bd19d13c9caa9_000Awg.gif" alt="recording is on" class="w-100 h-100 img_fit"/>',ce=n(),re=l("div"),re.innerHTML='<img src="//s3.amazonaws.com/jigyaasa_content_static/giphy_000AYi.gif" alt="audio is playing" class="w-100 h-100 img_fit"/>',de=n(),ue=l("div"),ge=l("button"),be=l("span"),he=n(),_e=l("button"),fe=l("span"),we=n(),Ce=l("button"),ye=l("span"),Se=n(),Ae=l("div"),Re=l("div"),Te=l("div"),Be=l("div"),Ie=l("div"),Pe=l("h4"),Pe.textContent=""+o.confirm_label,Ge=n(),Ee=l("button"),Ee.textContent="×",je=n(),De=l("div"),Oe=i(Ke),Xe=n(),Le=l("div"),Fe=l("button"),Fe.textContent=""+o.no_label,Me=n(),Ne=l("button"),Ne.textContent=""+o.yes_label,s(h,"class","noteColor bolder"),s(p,"class","col-12"),s(p,"tabindex","0"),s(p,"aria-label","Recording will end after 15 sec"),s(w,"class","pb-2"),s(k,"id","data_container"),k.disabled="disabled",s(k,"name","cdata"),s(k,"class","form-control"),s(k,"rows","3"),s(k,"cols","75"),k.value=S=e[3].cdata,s(k,"aria-label",A=o.spoken_label+" "+(""!=e[3].cdata?e[3].cdata:"Nothing")),s(x,"class","col-6 py-2 mb-1"),s(I,"for","language_select"),s(B,"class","select_label_container"),j.__value="en-US",j.value=j.__value,s(j,"aria-label","English United States"),D.__value="de-DE",D.value=D.__value,s(D,"aria-label","German"),O.__value="fr-FR",O.value=O.__value,s(O,"aria-label","French"),X.__value="es-ES",X.value=X.__value,s(X,"aria-label","Spanish"),L.__value="hi-IN",L.value=L.__value,s(L,"aria-label","Hindi"),F.__value="ja-JP",F.value=F.__value,s(F,"aria-label","Japanese"),M.__value="ko-KR",M.value=M.__value,s(M,"aria-label","Korean"),N.__value="it-IT",N.value=N.__value,s(N,"aria-label","Italian"),s(E,"id","language_select"),s(E,"name","language"),s(E,"class","disability_apply form-control form-control-sm"),s(E,"aria-label","Select the language for Recording"),s(z,"type","checkbox"),s(z,"name","showTranscript"),s(z,"id","showTranscript"),s(z,"tabindex","0"),s(z,"class","form-check-input"),z.checked=$=e[3].showTranscript,s(Y,"class","check_mark_custom pt-sm1"),s(K,"for","showTranscript"),s(K,"class","custom_checkbox_new float-left mr-1"),s(Q,"for","showTranscript"),s(Q,"class","form-check-label"),s(J,"class","form-check form-check-inline transcript_container mt-3"),s(T,"class","col-6 py-2 mb-1"),s(te,"class","p-2 tokenfield bg-light mb-3"),s(te,"aria-label","Audio Recorder"),s(te,"tabindex","0"),s(ne,"class","align-self-center mx-auto authInitialState tokenfield"),s(ne,"aria-label","Click on record to start recording"),s(ne,"tabindex","0"),s(se,"class","h authRecordingOn w-100 h-100 tokenfield"),s(se,"aria-label","recording is on"),s(se,"tabindex","0"),s(re,"class","h authAudioPlaying w-100 h-100 tokenfield"),s(re,"aria-label","Audio is playing"),s(re,"tabindex","0"),s(oe,"class","mx-auto text-danger recording_status initialState mb-3 d-flex mx-auto"),s(be,"class","icomoon-circle-2 s2 text-danger position-relative top1"),s(be,"data-bs-toggle","tooltip"),s(be,"data-bs-placement","top"),s(be,"title",me="recording"==e[3].status?"Stop Recording":"Start Recording"),s(ge,"type","button"),s(ge,"name","recordButton"),s(ge,"id","recordButton"),s(ge,"class","btn btn-light py-0"),s(ge,"aria-label",pe="Click for "+e[2]),s(fe,"class","icomoon-24px-autoplay-4 position-relative top1"),s(fe,"data-bs-toggle","tooltip"),s(fe,"data-bs-placement","top"),s(fe,"title","Play Audio"),s(_e,"type","button"),s(_e,"name","stopButton"),s(_e,"id","stopButton"),_e.disabled=ve=e[3].disabled,s(_e,"class","btn btn-light py-0"),s(_e,"aria-label",xe="Click for "+e[0]),s(ye,"class","icomoon-new-24px-reset-1 position-relative top1"),s(ye,"data-bs-toggle","tooltip"),s(ye,"data-bs-placement","top"),s(ye,"title","Reset Data"),s(Ce,"type","button"),s(Ce,"name","resetButton"),s(Ce,"id","resetButton"),s(Ce,"class","btn btn-light py-0"),Ce.disabled=ke=e[3].isReset,s(Ce,"data-bs-toggle","modal"),s(Ce,"data-bs-target","#authoring_confirm_modal"),s(Ce,"aria-label","Click on this button for override the previous recording"),s(ue,"id","controls_container"),s(ue,"class","bg-light text-center w-100 p-2"),s(ee,"class","border rounded shadow-sm"),s(Z,"class","col-12 col-md-8 offset-md-2"),s(a,"class","row"),s(t,"id","authoring_container"),s(t,"class","container"),s(Pe,"class","modal-title tokenfield"),s(Pe,"aria-label","Confirmation Dialog box"),s(Pe,"tabindex","0"),s(Ee,"type","button"),s(Ee,"class","close"),s(Ee,"data-bs-dismiss","modal"),s(Ee,"tabindex","0"),s(Ee,"aria-label","Click on this button for close the confirmation dialog box"),s(Ie,"class","modal-header"),s(De,"class","modal-body tokenfield"),s(De,"tabindex","0"),s(De,"aria-label",e[1]),s(De,"id","dialogBody"),s(De,"name","dialogBody"),s(Fe,"type","button"),s(Fe,"class","authoring_dismiss_modal btn btn-light pr-2"),s(Fe,"data-bs-dismiss","modal"),s(Fe,"tabindex","0"),s(Fe,"aria-label","Click on this button for neglecte to override previous recording"),s(Ne,"type","button"),s(Ne,"class","authoring_dismiss_done btn btn-primary"),s(Ne,"data-bs-dismiss","modal"),s(Ne,"tabindex","0"),s(Ne,"aria-label","Click on this button for override the previous recording"),s(Le,"class","modal-footer"),s(Be,"class","modal-content"),s(Te,"class","modal-dialog modal-md modal-dialog-centered"),s(Re,"class","modal fade"),s(Re,"id","authoring_confirm_modal"),s(Ae,"class","authoring_modal_container container")},m(l,o){c(l,t,o),r(t,a),r(a,p),r(p,h),r(p,_),r(p,f),r(a,v),r(a,x),r(x,w),r(w,C),r(x,y),r(x,k),r(a,R),r(a,T),r(T,B),r(B,I),r(I,P),r(T,G),r(T,E),r(E,j),r(E,D),r(E,O),r(E,X),r(E,L),r(E,F),r(E,M),r(E,N),d(E,e[3].language),r(T,H),r(T,J),r(J,K),r(K,z),r(K,V),r(K,Y),r(J,q),r(J,Q),r(a,W),r(a,Z),r(Z,ee),r(ee,te),r(te,ae),r(ee,le),r(ee,oe),r(oe,ne),r(oe,ie),r(oe,se),r(oe,ce),r(oe,re),r(ee,de),r(ee,ue),r(ue,ge),r(ge,be),r(ue,he),r(ue,_e),r(_e,fe),r(ue,we),r(ue,Ce),r(Ce,ye),c(l,Se,o),c(l,Ae,o),r(Ae,Re),r(Re,Te),r(Te,Be),r(Be,Ie),r(Ie,Pe),r(Ie,Ge),r(Ie,Ee),r(Be,je),r(Be,De),r(De,Oe),r(Be,Xe),r(Be,Le),r(Le,Fe),r(Le,Me),r(Le,Ne),Ue||(He=[u(k,"change",e[5]),u(E,"change",e[5]),u(E,"blur",e[5]),u(z,"click",e[4]),u(z,"keyup",e[11]),u(ge,"click",e[6]),u(_e,"click",e[8]),u(Ce,"click",e[7]),u(Fe,"click",e[10]),u(Ne,"click",e[9])],Ue=!0)},p(e,[t]){8&t&&S!==(S=e[3].cdata)&&(k.value=S),8&t&&A!==(A=o.spoken_label+" "+(""!=e[3].cdata?e[3].cdata:"Nothing"))&&s(k,"aria-label",A),8&t&&U!==(U=e[3].language)&&d(E,e[3].language),8&t&&$!==($=e[3].showTranscript)&&(z.checked=$),8&t&&me!==(me="recording"==e[3].status?"Stop Recording":"Start Recording")&&s(be,"title",me),4&t&&pe!==(pe="Click for "+e[2])&&s(ge,"aria-label",pe),8&t&&ve!==(ve=e[3].disabled)&&(_e.disabled=ve),1&t&&xe!==(xe="Click for "+e[0])&&s(_e,"aria-label",xe),8&t&&ke!==(ke=e[3].isReset)&&(Ce.disabled=ke),2&t&&s(De,"aria-label",e[1])},i:g,o:g,d(e){e&&b(t),e&&b(Se),e&&b(Ae),Ue=!1,m(He)}}}function x(e,t,a){let l,n,i,s,c,r,d,{getChildXml:u}=t,{xml:g}=t,b="no",m=15,v={language:"",cdata:"",disabled:!0,xml:"",status:"",isReset:!0,showTranscript:!1,counter:0};function x(e){!function(e){try{a(3,v.language=e.smxml._language,v),a(3,v.cdata=e.smxml.__cdata,v),a(3,v.status=e.smxml._status,v),a(3,v.disabled="recordingStopped"!=e.smxml._status,v),a(3,v.isReset="true"==e.smxml._isReset,v),a(3,v.showTranscript="true"==e.smxml._showTranscript,v),C()}catch(e){console.warn({error:e.message,"function name":"parseXMLAuthoring","File name":"AudioRecorder.svelte"})}}(f(e))}function w(e){a(3,v.showTranscript=e.target.checked,v),C()}function C(){!function(e){u(e)}('<smxml type="43" name="AudioRecorder" status="'+v.status+'" language="'+v.language+'" isReset="'+v.isReset+'" showTranscript="'+v.showTranscript+'">\x3c!--[CDATA['+v.cdata+"]]--\x3e</smxml>"),""!=v.status?(h.select(".disability_apply, #showTranscript").disabled="disabled",h.selectAll(".transcript_container, .select_label_container label","addClass","disabledState")):(h.select(".disability_apply, #showTranscript").disabled="",h.selectAll(".transcript_container, .select_label_container label","removeClass","disabledState")),a(0,i=h.select("#authoring_container #stopButton span").getAttribute("data-original-title")),a(2,c=h.select("#authoring_container #recordButton span").getAttribute("data-original-title")),a(1,s=h.select("#dialogBody").innerText)}function y(){switch(v.status){case"recording":k();break;case"recordingStopped":h.getBS("#authoring_confirm_modal","Modal").show(),h.select(".modal-body").focus();break;default:window.webkitSpeechRecognition||window.SpeechRecognition?(window.SpeechRecognition=window.webkitSpeechRecognition||window.SpeechRecognition,l=new SpeechRecognition,l.continuous=!0,l.interimResults=!0,l.lang=v.language,window.recognitionData=l,l.addEventListener("end",(function(){v.isReset||(clearTimeout(r),h.alert(o.recording_ended),S(),h.selectAll(".authInitialState","removeClass","h"),a(3,v.status="recordingStopped",v),a(3,v.disabled=!1,v),C())}))):h.alert(o.browser_support_msg),l.start(),h.select("#resetButton").disabled="",h.selectAll(".authAudioPlaying, .authInitialState","addClass","h"),h.selectAll(".authRecordingOn","removeClass","h"),l.onresult=e=>{let t="";for(let a=0;a<e.results.length;a+=1)t+=e.results[a][0].transcript;a(3,v.cdata=t.trim(),v),C()},a(3,v.status="recording",v),a(3,v.isReset=!1,v),a(3,v.counter=0,v),m=15,A(),C(),h.selectAll("#recordButton span","removeClass",["icomoon-circle-2","s2","text-danger"]),h.selectAll("#recordButton span","addClass","icomoon-24px-stop")}}function k(){S(),clearTimeout(r),a(3,v.status="recordingStopped",v),a(3,v.disabled=!1,v),C(),h.select(".authInitialState","removeClass","h"),l.stop()}function S(){h.selectAll(".authAudioPlaying, .authRecordingOn","addClass","h"),h.selectAll(".authInitialState","removeClass","h"),h.selectAll("#recordButton span","removeClass","icomoon-24px-stop"),h.selectAll("#recordButton span","addClass",["icomoon-circle-2","s2","text-danger"])}function A(){m-=1,a(3,v.counter=v.counter+1,v),r=setTimeout((function(){m>0?A():k()}),1e3)}return p((()=>{h.enableBsAll("[data-bs-toggle='tooltip']","Tooltip",{container:"body"}),a(3,v.xml=g,v),x(g)})),_((()=>{g!=v.xml&&(a(3,v.xml=g,v),x(g))})),e.$$set=e=>{"getChildXml"in e&&a(12,u=e.getChildXml),"xml"in e&&a(13,g=e.xml)},[i,s,c,v,w,function(e){a(3,v[e.target.name]=e.target.value,v),C()},y,function(){b="yes"},function(){window.speechSynthesis?(n=window.speechSynthesis,""!=v.cdata?(h.selectAll(".authRecordingOn, .authInitialState","addClass","h"),h.selectAll(".authAudioPlaying","removeClass","h"),a(3,v.disabled=!0,v),C(),function(){let e=new SpeechSynthesisUtterance(v.cdata),t="de-DE"==v.language?"Google Deutsch":"fr-FR"==v.language?"Google français":"es-ES"==v.language?"Google español":"hi-IN"==v.language?"Google हिन्दी":"ja-JP"==v.language?"Google 日本語":"ko-KR"==v.language?"Google 한국의":"it-IT"==v.language?"Google italiano":"Google US English";e.addEventListener("end",(function(){h.selectAll(".authAudioPlaying, .authRecordingOn","addClass","h"),h.selectAll(".authInitialState","removeClass","h"),a(3,v.disabled=!1,v),C(),n.cancel()})),setTimeout((function(){d=n.getVoices();for(let a=0;a<d.length;a++)d[a].name==t&&(e.voice=d[a],e.pitch=1,e.rate=1,e.lang=v.language,n.speak(e))}),10)}()):(h.selectAll(".authRecordingOn, .authAudioPaused","addClass","h"),h.selectAll(".authInitialState","removeClass","h"),h.alert(o.no_data_msg))):h.alert(o.browser_support_msg)},function(){if("yes"==b)!function(){S(),"recording"==v.status&&l.stop();a(3,v.language="",v),a(3,v.cdata="",v),a(3,v.disabled=!0,v),a(3,v.xml="",v),a(3,v.status="",v),a(3,v.isReset=!0,v),clearTimeout(r),C()}(),b="no";else{a(3,v.cdata="",v),a(3,v.disabled=!0,v),a(3,v.status="",v),C();let e=setTimeout((function(){y(),clearTimeout(e)}),120)}},function(){b="no"},function(e){13==e.keyCode&&w(e)},u,g]}export default class extends e{constructor(e){super(),t(this,e,x,v,a,{getChildXml:12,xml:13})}}
//# sourceMappingURL=AudioRecorder-5fd02b4e.js.map
