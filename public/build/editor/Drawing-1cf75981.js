import{S as e,i as t,s as l,e as s,u as a,b as o,f as i,h as r,j as n,x as c,r as d,o as u,C as g,H as m,I as h,K as b,ac as p,c as _,m as v,l as f,O as x,t as A,a as C,d as y,a5 as w,p as S,A as k,a3 as L,X as M,J as N,w as T,R as P}from"./main-3b53728c.js";import{D as I}from"./Draggable-d5db8f7e.js";import{R as $}from"./Resizable-f0a931a9.js";function D(e){let t,l,g,m,h,b,p,_,v,f,x,A,C,y,w,S,k,L,M,N,T,P,I,$,D,z,F,W,E,B,X,H,Y,j,O,R,Z,G,J,q,K,Q,U,V,ee,te,le,se,ae,oe,ie,re,ne,ce,de,ue,ge,me,he,be,pe,_e,ve,fe,xe,Ae,Ce,ye,we,Se,ke,Le,Me,Ne,Te,Pe,Ie,$e,De,ze,Fe,We,Ee,Be,Xe,He,Ye,je,Oe,Re,Ze,Ge,Je,qe,Ke,Qe,Ue,Ve,et,tt,lt,st,at,ot,it,rt=e[0].configuration+"",nt=e[0].background_image+"",ct=e[0].upload_media_text+"",dt=e[0].alt_txt_image+"",ut=e[0].width_of_image+"",gt=e[0].draw_color+"",mt=e[0].red+"",ht=e[0].green+"",bt=e[0].light_blue+"",pt=e[0].blue+"",_t=e[0].markPointColor+"",vt=e[0].lightGreen+"",ft=e[0].black+"",xt=e[0].orange+"",At=e[0].tools+"",Ct=e[0].scribble+"",yt=e[0].line+"",wt=e[0].compass+"",St=e[0].cancel+"",kt=e[0].submit+"";return{c(){t=s("div"),l=s("div"),g=s("div"),m=s("div"),h=s("h4"),b=a(rt),p=o(),_=s("button"),_.textContent="Ã—",v=o(),f=s("div"),x=s("div"),A=s("div"),C=s("div"),y=s("div"),w=s("label"),S=a(nt),k=o(),L=s("input"),M=o(),N=s("div"),T=s("button"),P=a(ct),$=o(),D=s("div"),z=s("div"),F=s("div"),W=s("label"),E=s("span"),B=a(dt),X=o(),H=s("input"),Y=o(),j=s("div"),O=s("div"),R=s("div"),Z=s("label"),G=s("span"),J=a(ut),q=o(),K=s("input"),Q=o(),U=s("div"),V=s("span"),ee=s("label"),te=a(gt),le=o(),se=s("select"),ae=s("option"),oe=a(mt),re=s("option"),ne=a(ht),de=s("option"),ue=a(bt),ge=s("option"),me=a(pt),be=o(),pe=s("div"),_e=s("div"),ve=s("span"),fe=s("label"),xe=a(_t),Ae=o(),Ce=s("select"),ye=s("option"),we=a(vt),Se=s("option"),ke=a(ft),Le=s("option"),Me=a(xt),Ne=o(),Te=s("div"),Pe=s("span"),Ie=s("label"),$e=s("span"),De=a(At),ze=o(),Fe=s("div"),We=s("div"),Ee=s("input"),Be=o(),Xe=s("label"),He=a(Ct),Ye=o(),je=s("div"),Oe=s("input"),Re=o(),Ze=s("label"),Ge=a(yt),Je=o(),qe=s("div"),Ke=s("input"),Qe=o(),Ue=s("label"),Ve=a(wt),et=o(),tt=s("div"),lt=s("button"),st=a(St),at=o(),ot=s("button"),it=a(kt),i(h,"class","modal-title"),i(_,"type","button"),i(_,"class","close"),i(_,"data-bs-dismiss","modal"),i(m,"class","modal-header"),i(w,"class","control-label font-weight-normal d-inline-flex"),i(w,"for","backgroundImage"),i(L,"type","text"),L.disabled="disabled",L.readOnly="readonly",i(L,"class","form-control drawing_bgimg"),i(L,"id","backgroundImage"),i(L,"name","backgroundImage"),i(y,"class","form-group text-left"),i(C,"class","col-6"),i(T,"id","upload_media"),i(T,"type","button"),T.value=I=e[0].upload_media_text,i(T,"margin","normal"),i(T,"class","btn btn-primary w-100"),i(N,"class","col-6 margin-top-2"),i(A,"class","row"),i(E,"class","mendatory_label float-left"),i(W,"class","control-label font-weight-normal d-inline-flex"),i(W,"for","imgAlt"),i(H,"type","text"),i(H,"class","form-control"),i(H,"id","imgAlt"),H.value="",i(H,"name","imgAlt"),i(F,"class","form-group text-left"),i(z,"class","col-12"),i(D,"class","row"),i(G,"class","mendatory_label float-left"),i(Z,"class","control-label font-weight-normal d-inline-flex"),i(Z,"for","imgWidth"),i(K,"type","number"),i(K,"class"," form-control num"),i(K,"id","imgWidth"),K.value="",i(K,"name","imgWidth"),i(R,"class","form-group text-left"),i(O,"class","col-6"),i(ee,"for","lineColor"),i(ee,"class","text-dark"),ae.__value=ie=e[0].red,ae.value=ae.__value,re.__value=ce=e[0].green,re.value=re.__value,de.__value="#00BCD4",de.value=de.__value,de.selected="selected",ge.__value=he=e[0].blue,ge.value=ge.__value,i(se,"id","lineColor"),i(se,"class","form-select"),i(U,"class","col-6"),i(j,"class","row"),i(fe,"for","markPointColor"),i(fe,"class","text-dark"),ye.__value="#00FF00",ye.value=ye.__value,ye.selected="selected",Se.__value="#000",Se.value=Se.__value,Le.__value="#ff8c00",Le.value=Le.__value,i(Ce,"id","markPointColor"),i(Ce,"class","form-select"),i(_e,"class","col-6"),i(pe,"class","row mb-3"),i($e,"class","mendatory_label float-left"),i(Ie,"class","mt-2 text-dark relative"),i(Ee,"type","checkbox"),Ee.value="_scribble",i(Ee,"class","checkbox-inline toolCheckbox form-check-input"),i(Ee,"name","scribble_checkbox"),i(Ee,"id","scribble_checkbox"),i(Xe,"for","scribble_checkbox"),i(Xe,"class","text-dark form-check-label"),i(We,"class","form-check form-check-inline"),i(Oe,"type","checkbox"),Oe.value="_line",i(Oe,"class","checkbox-inline toolCheckbox form-check-input"),i(Oe,"name","line_checkbox"),i(Oe,"id","line_checkbox"),i(Ze,"for","line_checkbox"),i(Ze,"class","text-dark form-check-label"),i(je,"class","form-check form-check-inline"),i(Ke,"type","checkbox"),Ke.value="_compass",i(Ke,"class","checkbox-inline toolCheckbox form-check-input"),i(Ke,"name","compass_checkbox"),i(Ke,"id","compass_checkbox"),i(Ue,"for","compass_checkbox"),i(Ue,"class","text-dark form-check-label"),i(qe,"class","form-check form-check-inline"),i(Fe,"class","d-block toolsCheckbox"),i(x,"class","authoring-modal"),i(f,"class","modal-body overflow-y"),i(lt,"type","button"),i(lt,"class","btn btn-light"),i(lt,"data-bs-dismiss","modal"),i(ot,"type","button"),i(ot,"class","btn btn-secondary drawing_modal_submit"),i(tt,"class","modal-footer"),i(g,"class","modal-content"),i(l,"class","modal-dialog modal-dialog-centered"),i(t,"id","drawing-modal"),i(t,"class","modal fade"),i(t,"tabindex","-1")},m(e,s){r(e,t,s),n(t,l),n(l,g),n(g,m),n(m,h),n(h,b),n(m,p),n(m,_),n(g,v),n(g,f),n(f,x),n(x,A),n(A,C),n(C,y),n(y,w),n(w,S),n(y,k),n(y,L),n(A,M),n(A,N),n(N,T),n(T,P),n(x,$),n(x,D),n(D,z),n(z,F),n(F,W),n(W,E),n(E,B),n(F,X),n(F,H),n(x,Y),n(x,j),n(j,O),n(O,R),n(R,Z),n(Z,G),n(G,J),n(R,q),n(R,K),n(j,Q),n(j,U),n(U,V),n(V,ee),n(ee,te),n(U,le),n(U,se),n(se,ae),n(ae,oe),n(se,re),n(re,ne),n(se,de),n(de,ue),n(se,ge),n(ge,me),n(x,be),n(x,pe),n(pe,_e),n(_e,ve),n(ve,fe),n(fe,xe),n(_e,Ae),n(_e,Ce),n(Ce,ye),n(ye,we),n(Ce,Se),n(Se,ke),n(Ce,Le),n(Le,Me),n(x,Ne),n(x,Te),n(Te,Pe),n(Pe,Ie),n(Ie,$e),n($e,De),n(x,ze),n(x,Fe),n(Fe,We),n(We,Ee),n(We,Be),n(We,Xe),n(Xe,He),n(Fe,Ye),n(Fe,je),n(je,Oe),n(je,Re),n(je,Ze),n(Ze,Ge),n(Fe,Je),n(Fe,qe),n(qe,Ke),n(qe,Qe),n(qe,Ue),n(Ue,Ve),n(g,et),n(g,tt),n(tt,lt),n(lt,st),n(tt,at),n(tt,ot),n(ot,it)},p(e,[t]){1&t&&rt!==(rt=e[0].configuration+"")&&c(b,rt),1&t&&nt!==(nt=e[0].background_image+"")&&c(S,nt),1&t&&ct!==(ct=e[0].upload_media_text+"")&&c(P,ct),1&t&&I!==(I=e[0].upload_media_text)&&(T.value=I),1&t&&dt!==(dt=e[0].alt_txt_image+"")&&c(B,dt),1&t&&ut!==(ut=e[0].width_of_image+"")&&c(J,ut),1&t&&gt!==(gt=e[0].draw_color+"")&&c(te,gt),1&t&&mt!==(mt=e[0].red+"")&&c(oe,mt),1&t&&ie!==(ie=e[0].red)&&(ae.__value=ie,ae.value=ae.__value),1&t&&ht!==(ht=e[0].green+"")&&c(ne,ht),1&t&&ce!==(ce=e[0].green)&&(re.__value=ce,re.value=re.__value),1&t&&bt!==(bt=e[0].light_blue+"")&&c(ue,bt),1&t&&pt!==(pt=e[0].blue+"")&&c(me,pt),1&t&&he!==(he=e[0].blue)&&(ge.__value=he,ge.value=ge.__value),1&t&&_t!==(_t=e[0].markPointColor+"")&&c(xe,_t),1&t&&vt!==(vt=e[0].lightGreen+"")&&c(we,vt),1&t&&ft!==(ft=e[0].black+"")&&c(ke,ft),1&t&&xt!==(xt=e[0].orange+"")&&c(Me,xt),1&t&&At!==(At=e[0].tools+"")&&c(De,At),1&t&&Ct!==(Ct=e[0].scribble+"")&&c(He,Ct),1&t&&yt!==(yt=e[0].line+"")&&c(Ge,yt),1&t&&wt!==(wt=e[0].compass+"")&&c(Ve,wt),1&t&&St!==(St=e[0].cancel+"")&&c(st,St),1&t&&kt!==(kt=e[0].submit+"")&&c(it,kt)},i:d,o:d,d(e){e&&u(t)}}}function z(e,t,l){let{l:s}=t;return e.$$set=e=>{"l"in e&&l(0,s=e.l)},[s]}class F extends e{constructor(e){super(),t(this,e,z,D,l,{l:0})}}function W(e){let t;return{c(){t=a("Yes")},m(e,l){r(e,t,l)},d(e){e&&u(t)}}}function E(e){let t,l,a,c,d,g,m,h;return c=new P({props:{variant:"contained",class:"bg-primary text-white",$$slots:{default:[W]},$$scope:{ctx:e}}}),c.$on("click",e[1]),{c(){t=s("div"),l=s("input"),a=o(),_(c.$$.fragment),i(l,"type","button"),i(l,"variant","contained"),i(l,"class","btn btn-light colorgray"),l.value="Cancel",i(t,"slot","footer"),i(t,"class","svelteFooter"),i(t,"style",d="width:100%;text-align:center;")},m(s,o){r(s,t,o),n(t,l),n(t,a),v(c,t,null),g=!0,m||(h=f(l,"click",e[5]),m=!0)},p(e,t){const l={};8&t[2]&&(l.$$scope={dirty:t,ctx:e}),c.$set(l)},i(e){g||(A(c.$$.fragment,e),g=!0)},o(e){C(c.$$.fragment,e),g=!1},d(e){e&&u(t),y(c),m=!1,h()}}}function B(e){let t,l,a,c,m;return{c(){t=s("div"),l=s("div"),a=s("span"),a.textContent=""+g.del_confirmation,m=o(),i(a,"class","col-md-12"),i(a,"style",c="margin-top:40px;margin-bottom:40px;text-align:center;"),i(l,"class","row")},m(e,s){r(e,t,s),n(t,l),n(l,a),r(e,m,s)},p:d,i:d,o:d,d(e){e&&u(t),e&&u(m)}}}function X(e){let t,l,d,w,S,k,L,M,N,T,P,I,$,D,z,W,X,Y,j,O,R,Z,G,J,q,K,Q,U,V,ee,te,le,se,ae,oe,ie,re,ne,ce,de,ue,ge,me,he,be,pe,_e,ve,fe,xe,Ae,Ce,ye,we,Se,ke,Le,Me,Ne,Te,Pe,Ie,$e,De,ze,Fe,We,Ee,Be,Xe,He,Ye,je,Oe,Re,Ze,Ge,Je,qe,Ke,Qe,Ue,Ve,et,tt,lt,st,at,ot,it,rt,nt,ct,dt,ut,gt,mt,ht,bt,pt,_t,vt,ft,xt,At,Ct,yt,wt,St,kt,Lt,Mt,Nt,Tt,Pt,It,$t,Dt,zt,Ft,Wt,Et,Bt,Xt,Ht,Yt,jt,Ot,Rt,Zt,Gt,Jt,qt=g.add_point+"",Kt=g.add_focus_pnt+"",Qt=e[0].alt+"";function Ut(t){e[6](t)}Yt=new F({props:{l:g}});let Vt={style:"width:500px;background-color:#FFF;",$$slots:{default:[B],footer:[E]},$$scope:{ctx:e}};return void 0!==e[0].openDeleteDialog&&(Vt.visible=e[0].openDeleteDialog),Ot=new m({props:Vt}),h.push((()=>b(Ot,"visible",Ut))),{c(){t=s("main"),l=s("div"),d=s("center"),w=s("div"),S=s("div"),k=s("div"),L=s("button"),M=s("i"),T=o(),P=s("button"),I=a("/"),D=o(),z=s("button"),W=s("i"),j=o(),O=s("div"),R=s("button"),Z=s("i"),J=o(),q=s("button"),K=s("i"),U=o(),V=s("button"),ee=s("i"),le=o(),se=s("button"),ae=s("i"),re=o(),ne=s("div"),ce=s("button"),de=a(qt),me=o(),he=s("div"),be=s("button"),pe=a(Kt),fe=o(),xe=s("div"),Ae=s("button"),Ce=s("i"),ke=o(),Le=s("div"),Le.textContent=""+g.delete_point_msg,Me=o(),Ne=s("div"),Te=s("div"),Pe=s("div"),Ie=s("button"),Ie.innerHTML='<i class="icomoon-24px-settings-1"></i>',$e=o(),De=s("img"),We=o(),Ee=p("svg"),Be=p("title"),Xe=a(Qt),He=p("g"),Ye=p("g"),je=p("g"),Oe=p("svg"),Re=p("svg"),Ze=p("g"),Ge=p("circle"),Je=p("g"),qe=p("line"),Ke=p("g"),Qe=p("circle"),Ue=p("defs"),Ve=p("pattern"),et=p("svg"),tt=p("path"),lt=p("path"),st=p("path"),at=p("path"),ot=p("circle"),it=p("g"),rt=p("circle"),nt=p("defs"),ct=p("pattern"),dt=p("svg"),ut=p("g"),gt=p("g"),mt=p("rect"),ht=p("g"),bt=p("rect"),pt=p("g"),_t=p("g"),vt=p("path"),ft=p("g"),xt=p("path"),At=p("g"),Ct=p("circle"),yt=p("defs"),wt=p("pattern"),St=p("svg"),kt=p("path"),Lt=p("g"),Mt=p("circle"),Tt=p("circle"),Pt=p("g"),It=p("circle"),$t=p("defs"),Dt=p("pattern"),zt=p("svg"),Ft=p("g"),Wt=p("g"),Et=p("g"),Bt=p("g"),Xt=p("path"),Ht=o(),_(Yt.$$.fragment),jt=o(),_(Ot.$$.fragment),i(M,"class","icomoon-pencil"),i(L,"type","button"),i(L,"tabindex","0"),i(L,"data-title","scribble"),i(L,"title",N=g.scribble),i(L,"name","authoring_scribble"),i(L,"id","authoring_scribble"),i(L,"class","btn btn-light auth_toolbar geometryTool tooltip_btn authoring_btn active"),i(P,"type","button"),i(P,"tabindex","0"),i(P,"data-title","line"),i(P,"title",$=g.line),i(P,"name","authoring_line"),i(P,"id","authoring_line"),i(P,"class","btn btn-light auth_toolbar geometryTool tooltip_btn authoring_btn"),i(W,"class","icomoon-compass1"),i(z,"type","button"),i(z,"tabindex","0"),i(z,"data-title","compass"),i(z,"title",X=g.compass),i(z,"name","compass"),i(z,"id","authoring_compass"),i(z,"class","btn btn-light auth_toolbar geometryTool tooltip_btn authoring_btn"),i(k,"tabindex","0"),i(k,"class","btn-group mr-2"),i(k,"role","group"),i(k,"aria-label",Y=g.draw_tools),i(Z,"class","icomoon-delete-sm"),i(R,"type","button"),i(R,"tabindex","0"),i(R,"data-title","eraser"),i(R,"title",G=g.delete_tool),i(R,"name","eraser"),i(R,"id","authoring_eraser"),i(R,"class","btn btn-light auth_toolbar authoring_btn tooltip_btn"),i(K,"class","icomoon-close-2"),i(q,"type","button"),i(q,"title",Q=g.clear_screen),i(q,"tabindex","0"),i(q,"name","clearScreen"),i(q,"id","authoring_clearScreen"),q.disabled="disabled",i(q,"class","btn btn-light tooltip_btn"),i(ee,"class","icomoon-redo-2"),i(V,"type","button"),i(V,"tabindex","0"),i(V,"title",te=g.redo),i(V,"name","redo"),i(V,"id","authoring_redo"),V.disabled="disabled",i(V,"class","btn btn-light tooltip_btn"),i(ae,"class","icomoon-undo-2"),i(se,"type","button"),i(se,"tabindex","0"),i(se,"title",oe=g.undo),i(se,"name","undo"),i(se,"id","authoring_undo"),se.disabled="disabled",i(se,"class","btn btn-light tooltip_btn"),i(O,"tabindex","0"),i(O,"class","btn-group mr-2"),i(O,"role","group"),i(O,"aria-label",ie=g.removing_tools),i(ce,"type","button"),i(ce,"tabindex","0"),i(ce,"data-title","authoring_point"),i(ce,"title",ue=g.add_show_point),i(ce,"name","authoring_point"),i(ce,"id","authoring_point"),i(ce,"class","btn btn-light tooltip_btn"),i(ne,"class","btn-group mr-2"),i(ne,"role","group"),i(ne,"aria-label",ge=g.answer_point),i(be,"type","button"),i(be,"tabindex","0"),i(be,"title",_e=g.add_finish_point),i(be,"name","focus_point"),i(be,"id","focus_point"),i(be,"class","btn btn-light tooltip_btn"),i(he,"class","btn-group mr-2"),i(he,"role","group"),i(he,"aria-label",ve=g.access_mode),i(Ce,"class","icomoon-new-24px-reset-1"),i(Ae,"type","button"),i(Ae,"tabindex","0"),i(Ae,"title",ye=g.reset),i(Ae,"name","default_button"),i(Ae,"id","reset_btn"),i(Ae,"class","btn btn-light tooltip_btn"),i(xe,"class","btn-group mr-2"),i(xe,"role","group"),i(xe,"aria-label",we=g.def_mode),i(S,"class","btn-toolbar auth_drawing_toolbar"),i(S,"role","toolbar"),i(S,"aria-label",Se=g.drawing_tools),i(Le,"id","add_point_msg"),i(Le,"class","text-danger my-1"),i(w,"class","mt-2 mb-2"),i(Ie,"type","button"),i(Ie,"tabindex","0"),i(Ie,"title","Configuration"),i(Ie,"class","btn tooltip_btn btn-light p-1"),i(Pe,"class","btn-group position-absolute setting_btn"),i(De,"class","border"),De.src!==(ze=H+e[0].bgImg)&&i(De,"src",ze),i(De,"id","svgImg"),i(De,"alt",Fe=e[0].alt),i(Be,"id","authoringSvgTitle"),i(He,"class","backgroundFocusPath"),i(Ye,"class","drawing_paths"),i(je,"class","backgroundFocusPoint"),i(Ge,"class","drawing-compass-route compass_route"),i(Ge,"cx","267.984375"),i(Ge,"cy","173"),i(Ge,"r","80"),i(qe,"class","compass_rotationBar compass_radius"),i(qe,"x1","267.984375"),i(qe,"y1","173"),i(qe,"x2","267.984375"),i(qe,"y2","253"),i(Qe,"class","drawing_compass_center compass_center"),i(Qe,"cx","267.984375"),i(Qe,"cy","173"),i(Qe,"r","17"),i(Qe,"focusable","true"),i(Qe,"fill","url(#drawingCenter)"),i(tt,"fill","#808080"),i(tt,"class","st0"),i(tt,"d","M3.22,15.1L1,12l2.22-3.1C3.22,10.97,3.22,13.03,3.22,15.1z"),i(lt,"fill","#808080"),i(lt,"class","st0"),i(lt,"d","M8.9,3.22L12,1l3.1,2.22C13.03,3.22,10.97,3.22,8.9,3.22z"),i(st,"fill","#808080"),i(st,"class","st0"),i(st,"d","M15.1,20.78L12,23l-3.1-2.22C10.97,20.78,13.03,20.78,15.1,20.78z"),i(at,"fill","#808080"),i(at,"class","st0"),i(at,"d","M20.78,8.9L23,12l-2.22,3.1C20.78,13.03,20.78,10.97,20.78,8.9z"),i(ot,"cx","12"),i(ot,"cy","12"),i(ot,"r","2"),i(ot,"fill","#333333"),i(et,"x","0px"),i(et,"y","0px"),i(et,"viewBox","1 -3 21 35"),i(et,"width","33"),i(et,"height","41"),i(Ve,"id","drawingCenter"),i(Ve,"width","20"),i(Ve,"height","20"),i(rt,"class","compass_radius_icon mid_circle"),i(rt,"cx","267.984375"),i(rt,"cy","213"),i(rt,"r","17"),i(rt,"fill","url(#drawingRadius)"),i(rt,"transform","rotate(90,160,168)"),i(rt,"focusable","true"),i(mt,"x","8.53"),i(mt,"y","1.11"),i(mt,"width","1.5"),i(mt,"height","21.79"),i(bt,"x","13.97"),i(bt,"y","1.11"),i(bt,"width","1.5"),i(bt,"height","21.79"),i(vt,"d","M5.87,16.87L1,12l4.87-4.87C5.87,10.38,5.87,13.62,5.87,16.87z"),i(xt,"d","M18.13,16.87L23,12l-4.87-4.87C18.13,10.38,18.13,13.62,18.13,16.87z"),i(dt,"x","0px"),i(dt,"y","0px"),i(dt,"viewBox","1 -5 21 34"),i(dt,"width","33"),i(dt,"height","33"),i(ct,"id","drawingRadius"),i(ct,"width","20"),i(ct,"height","20"),i(Ct,"class","compass_rotation midSmallCircle"),i(Ct,"cx","267.984375"),i(Ct,"cy","233"),i(Ct,"r","8"),i(Ct,"fill","url(#midSmallCircle_icon)"),i(Ct,"focusable","true"),i(Ct,"transform","rotate(90,160,193)"),i(kt,"fill","#000"),i(kt,"opacity","0.8"),i(kt,"d","M7,14 C3.13400675,14 0,10.8659932 0,7 C0,3.13400675 3.13400675,0 7, 0 C10.8659932,0 14,3.13400675 14,7 C14,10.8659932 10.8659932,14 7, 14 Z M4.66666667,8.16666667 L7,11.6666667 L9.33333333,8.16666667 L4.66666667,8.16666667 Z M4.66666667,5.83333333 L9.33333333,5.83333333 L7,2.33333333 L4.66666667,5.83333333 Z"),i(St,"width","16px"),i(St,"height","16px"),i(St,"viewBox","0 0 14 14"),i(St,"version","1.1"),i(wt,"id","midSmallCircle_icon"),i(wt,"width","20"),i(wt,"height","20"),i(Mt,"class","drawing-compass-pointer lastCircle"),i(Mt,"cx","267.984375"),i(Mt,"cy","253"),i(Mt,"r","3"),i(Mt,"fill",Nt=e[0].lineColor),i(Tt,"class","drawing-compass-pointer-border lastCircle last_big_circle"),i(Tt,"cx","267.984375"),i(Tt,"cy","253"),i(Tt,"r","17"),i(Tt,"focusable","true"),i(It,"class","lastCircleMid"),i(It,"fill","url(#lastCircleMid_icon)"),i(It,"cx","267.984375"),i(It,"cy","293"),i(It,"r","12"),i(It,"opacity","0"),i(Xt,"d","M3.76491276,22.4309727 C5.88207272,19.902578 7.10843487, 16.447736 7.10843487,12.7446281 C7.10843487,9.90533039 6.38974128, 7.20188959 5.07542401,4.93464319 L1.71316547,5.67221801 L4.9100909, 0.48305188 L10.1719173,3.81663137 L7.11351005,4.48755064 C8.4088902, 6.93966677 9.10843487,9.78181395 9.10843487,12.7446281 C9.10843487, 16.6677555 7.87827881,20.3638018 5.71250857,23.1972812 L8.63385425, 24.3467251 L2.93165771,26.8255625 L0.595287046,21.1838396 L3.76491276, 22.4309727 Z"),i(Xt,"class",""),i(Bt,"transform","translate(313.742737, 140.576561) rotate(-2.000000) translate(-313.742737, -140.576561) translate(308.242737, 127.076561)"),i(Et,"transform","translate(207.000000, 318.000000)"),i(Wt,"transform","translate(-516.000000, -445.000000)"),i(Wt,"fill","#333333"),i(Wt,"fillrule","nonzero"),i(Ft,"stroke","none"),i(Ft,"strokewidth","1"),i(Ft,"fill","none"),i(Ft,"fillrule","evenodd"),i(Ft,"opacity","0.5"),i(zt,"width","24"),i(zt,"height","23"),i(zt,"viewBox","0 0 11 27"),i(zt,"version","1.1"),i(zt,"enablebackground","new 0 0 8 24"),i(Dt,"id","lastCircleMid_icon"),i(Dt,"width","20"),i(Dt,"height","20"),i(Re,"class","drawing-compass-wrapper"),i(Oe,"class","drawing_compass_svg h"),i(Oe,"focusable","false"),i(Ee,"width","100%"),i(Ee,"height","100%"),i(Ee,"id","authoringSvg"),i(Ee,"tabindex","0"),i(Ee,"aria-labelledby","authoringSvgTitle"),i(Te,"id","centerImg"),i(Te,"class","centerImg authCenterImg my-auto relative ml-0"),i(l,"class","drawing_module_container")},m(s,a){r(s,t,a),n(t,l),n(l,d),n(d,w),n(w,S),n(S,k),n(k,L),n(L,M),n(k,T),n(k,P),n(P,I),n(k,D),n(k,z),n(z,W),n(S,j),n(S,O),n(O,R),n(R,Z),n(O,J),n(O,q),n(q,K),n(O,U),n(O,V),n(V,ee),n(O,le),n(O,se),n(se,ae),n(S,re),n(S,ne),n(ne,ce),n(ce,de),n(S,me),n(S,he),n(he,be),n(be,pe),n(S,fe),n(S,xe),n(xe,Ae),n(Ae,Ce),n(w,ke),n(w,Le),n(d,Me),n(d,Ne),n(Ne,Te),n(Te,Pe),n(Pe,Ie),n(Te,$e),n(Te,De),n(Te,We),n(Te,Ee),n(Ee,Be),n(Be,Xe),n(Ee,He),n(Ee,Ye),n(Ee,je),n(Ee,Oe),n(Oe,Re),n(Re,Ze),n(Ze,Ge),n(Ze,Je),n(Je,qe),n(Ze,Ke),n(Ke,Qe),n(Ke,Ue),n(Ue,Ve),n(Ve,et),n(et,tt),n(et,lt),n(et,st),n(et,at),n(et,ot),n(Ze,it),n(it,rt),n(it,nt),n(nt,ct),n(ct,dt),n(dt,ut),n(ut,gt),n(gt,mt),n(ut,ht),n(ht,bt),n(dt,pt),n(pt,_t),n(_t,vt),n(pt,ft),n(ft,xt),n(Ze,At),n(At,Ct),n(At,yt),n(yt,wt),n(wt,St),n(St,kt),n(Ze,Lt),n(Lt,Mt),n(Lt,Tt),n(Ze,Pt),n(Pt,It),n(Pt,$t),n($t,Dt),n(Dt,zt),n(zt,Ft),n(Ft,Wt),n(Wt,Et),n(Et,Bt),n(Bt,Xt),n(l,Ht),v(Yt,l,null),n(t,jt),v(Ot,t,null),Zt=!0,Gt||(Jt=f(Ie,"click",e[2]),Gt=!0)},p(e,t){(!Zt||1&t[0]&&De.src!==(ze=H+e[0].bgImg))&&i(De,"src",ze),(!Zt||1&t[0]&&Fe!==(Fe=e[0].alt))&&i(De,"alt",Fe),(!Zt||1&t[0])&&Qt!==(Qt=e[0].alt+"")&&c(Xe,Qt),(!Zt||1&t[0]&&Nt!==(Nt=e[0].lineColor))&&i(Mt,"fill",Nt);const l={};1&t[0]|8&t[2]&&(l.$$scope={dirty:t,ctx:e}),!Rt&&1&t[0]&&(Rt=!0,l.visible=e[0].openDeleteDialog,x((()=>Rt=!1))),Ot.$set(l)},i(e){Zt||(A(Yt.$$.fragment,e),A(Ot.$$.fragment,e),Zt=!0)},o(e){C(Yt.$$.fragment,e),C(Ot.$$.fragment,e),Zt=!1},d(e){e&&u(t),y(Yt),y(Ot),Gt=!1,Jt()}}}let H="https://s3.amazonaws.com/jigyaasa_content_static/",Y="http://www.w3.org/2000/svg";function j(e,t,l){let s,a,o,i,r,n,c,d,u,m,h,b,p,_,v,f,x,{xml:A}=t,{getChildXml:C}=t,y=!1,P="scribble",D="#00BCD4",z=[],F=0,W=0,E=[],B=[],X=!0,j=!1,O=90,R=0,Z={x:null,y:null},G={x:null,y:null},J=0,q="",K=0,Q=[],U="",V=["_scribble","_line","_compass"],ee=1,te=[],le=[],se=1,ae=T({xml:"",bgImg:"useraccount_000ANv.png",snackback:!1,cDATA:"",focusDATA:"",imgWidth:"600",alt:"Triangle image",message:"",selectedTools:V,lineColor:"#00BCD4",markPointColor:"#00FF00"}),oe={};ae.subscribe((e=>{l(0,oe=e)}));function ie(e){var t;X=!0,""==e.value.trim()?(X=!1,k.insert(e.parentElement,'<span class="error text-danger">'+g.fill_warning+"</span>","beforeend")):e.classList.contains("num")&&Number(e.value)<600?(X=!1,k.insert(e.parentElement,'<span class="error text-danger">'+g.val_gt_limit+"</span>","beforeend")):(t=e.value,!isNaN(parseFloat(t))&&isFinite(t)||!e.classList.contains("num")?0==k.selectAll(".checkbox-inline:checked").length&&e.classList.contains("checkbox-inline")&&(X=!1,k.insert(e.closest(".toolsCheckbox").parentElement,'<span class="error text-danger">'+g.select_one_tool+"</span>","beforeend")):(X=!1,k.insert(e.parentElement,'<span class="error text-danger">'+g.enter_number+"</span>","beforeend"))),X?e.classList.contains("checkbox-inline")?k.select("#backgroundImage").classList.remove("showError"):(e.classList.remove("showError"),k.setCss(e,{border:"",background:""})):e.classList.contains("checkbox-inline")?k.select("#backgroundImage").classList.add("showError"):(e.classList.add("showError"),k.setCss(e,{border:"1px solid red",background:"#FFCECE"}))}function re(e){switch(P){case"line":case"scribble":y&&(he(e),r==a&&n==o?z.pop():(s.setAttributeNS(null,"d",z[F].d+" L"+a+" "+o),z[F].d=z[F].d+" L"+a+" "+o,i.prepend(s),F++,W++,E=[],k.select("#authoring_undo").disabled=!1,k.select("#authoring_clearScreen").disabled=!1,k.select("#authoring_redo").disabled=!0)),y=!1;break;case"compass":R=0,J=0,j&&(he(e),c=a,d=o,x=k.select(".drawing-compass-route").getAttribute("r"),ne(c,d,x,O),j=!1),y&&(r==p&&n==_?z.pop():(s.setAttributeNS(null,"d",z[F].d+" L"+p+" "+_),z[F].d=z[F].d+" L"+p+" "+_,i.prepend(s),F++,W++,E=[],k.select("#authoring_undo").disabled=!1,k.select("#authoring_clearScreen").disabled=!1,k.select("#authoring_redo").disabled=!0),y=!1),k.selectAll("#authoringSvg .lastCircle","css",{cursor:"grab"})}}function ne(e,t,l,s){u=e+l/2*Math.cos(s*(Math.PI/180)),m=t+l/2*Math.sin(s*(Math.PI/180)),h=e+3*l/4*Math.cos(s*(Math.PI/180)),b=t+3*l/4*Math.sin(s*(Math.PI/180)),p=e+l*Math.cos(s*(Math.PI/180)),_=t+l*Math.sin(s*(Math.PI/180)),v=e+5*l/4*Math.cos(s*(Math.PI/180)),f=t+5*l/4*Math.sin(s*(Math.PI/180)),k.selectAll(".drawing-compass-route, .drawing_compass_center","attr",{cx:e,cy:t}),k.select(".drawing-compass-route").setAttribute("r",l),k.setAttr("#authoringSvg .compass_rotationBar",{x1:e,y1:t,x2:p,y2:_}),k.setAttr("#authoringSvg .lastCircleMid",{cx:v,cy:f}),k.selectAll("#authoringSvg .lastCircle","attr",{cx:p,cy:_}),k.setAttr("#authoringSvg .midSmallCircle",{cx:h,cy:b}),k.setAttr("#authoringSvg .mid_circle",{cx:u,cy:m})}function ce(){U="";for(let e=0;e<Q.length;e++)null!=Q[e].Center_X||null!=Q[e].Center_Y||null!=Q[e].radius?U+='{"x":"'+Q[e].Center_X+'","y":"'+Q[e].Center_Y+'","r":"'+Q[e].radius+'"}!':Q=Q.filter((function(e){return null!=e.Center_X}));let e=k.selectAll(".resize");if(e.length>0)for(let t=0;t<Q.length;t++)k.setAttr(e[t],{"data-point":t+1});else k.select("#add_point_msg").classList.add("h"),K=0,P=oe.selectedTools[0].substr(-(oe.selectedTools[0].length-1)),k.setCss("#authoringSvg",{cursor:"crosshair"}),"compass"==P?k.selectAll(".drawing_compass_svg","removeClass","h"):k.selectAll(".drawing_compass_svg","addClass","h"),k.selectAll(".authoring_btn,#authoring_point,#focus_point","removeClass","active"),k.selectAll('[data-title="'+P+'"]',"addClass","active");U=U.substr(0,U.length-1),de(U)}function de(e){q=M(A),q.smxml.div.__cdata=e,q=N(q),q=q.replace(/<!\[CDATA\[/g,"\x3c!--[CDATA["),q=q.replace(/\]\]>/g,"]]--\x3e"),C(q),l(0,oe.xml=q,oe)}function ue(){Z.x=Number(k.select(".compass_rotationBar").getAttribute("x1")),Z.y=Number(k.select(".compass_rotationBar").getAttribute("y1")),G.x=Number(k.select(".compass_rotationBar").getAttribute("x2")),G.y=Number(k.select(".compass_rotationBar").getAttribute("y2")),x=Number(k.select(".drawing-compass-route").getAttribute("r")),O=180*Math.atan2(G.y-Z.y,G.x-Z.x)/Math.PI}function ge(){le.length>0&&te.push(le),q=M(A);var e="";for(let t=0;t<te.length;t++){e+='{"'+t+'":[';for(let l=0;l<te[t].length;l++)e+='{"x":"'+te[t][l].x+'","y":"'+te[t][l].y+'"}!';e=e.substr(0,e.length-1)+"]}!"}e=e.substr(0,e.length-1),q.smxml.backgroundPoint.__cdata=e,q=N(q),q=q.replace(/<!\[CDATA\[/g,"\x3c!--[CDATA["),q=q.replace(/\]\]>/g,"]]--\x3e"),C(q),l(0,oe.xml=q,oe),k.select("#focus_point").innerText="Add Focus Point",k.select("#focus_point").classList.remove("active"),P=oe.selectedTools[0].substr(-(oe.selectedTools[0].length-1)),k.setCss("#authoringSvg",{cursor:"crosshair"}),k.select("#authoring"+oe.selectedTools[0]).classList.add("active"),"compass"==P?k.selectAll(".drawing_compass_svg","removeClass","h"):k.selectAll(".drawing_compass_svg","addClass","h"),ee=1,me(le)}function me(e){if(0==e.length)return;s=document.createElementNS(Y,"path");let t="M "+e[0].x+" "+e[0].y,l="";for(let t=1;t<e.length;t++)l+=" L "+e[t].x+" "+e[t].y;s.setAttributeNS(null,"d",t+""+l),be("rgb(128, 128, 128)",5),k.select(".backgroundFocusPath").prepend(s),le=[]}function he(e){let t=document.getElementById("authoringSvg").getBoundingClientRect();a=e.clientX-t.left,o=e.clientY-t.top}function be(e,t){s.style.stroke=e,s.style.strokeWidth=t,s.style.fill="none"}function pe(){k.select("#authoring_point").innerText="Add Point",k.select("#add_point_msg").classList.add("h"),k.selectAll(".resize","remove"),k.select(".drawing_paths").innerHTML="",k.select("#authoring_redo").disabled=!0,k.select("#authoring_undo").disabled=!0,k.select("#authoring_clearScreen").disabled=!0,k.setCss("#authoringSvg",{cursor:"crosshair"}),P=oe.selectedTools[0].substr(-(oe.selectedTools[0].length-1)),_e(),k.selectAll(".authoring_btn,#authoring_point,#focus_point","removeClass","active"),ge(),setTimeout((()=>{de("")}),1e3),W=0,K=0,F=0,z=[],Q=[],l(0,oe.openDeleteDialog=!1,oe)}function _e(){k.selectAll(".geometryTool","addClass","h");for(let e=0;e<oe.selectedTools.length;e++)k.selectAll("#authoring"+oe.selectedTools[e],"removeClass","h");k.selectAll(".backgroundFocusPoint circle,.backgroundFocusPath path","remove"),D=oe.lineColor,k.selectAll(".authCenterImg,.auth_drawing_toolbar","attr",{style:"width:"+(Number(oe.imgWidth)+2)+"px"}),k.setAttr(".centerImg #svgImg",{src:H+""+oe.bgImg,alt:oe.alt,width:oe.imgWidth}),k.selectAll(".drawing_compass_svg","addClass","h"),te=[],le=[]}w((async()=>{oe.xml!=A&&(!function(){q=M(A),ae.update((e=>(e.bgImg=q.smxml._bgimg,e.alt=q.smxml._imgAlt,e.imgWidth=q.smxml._width,e.selectedTools=q.smxml.div._selectedDrawingType.split(","),e.cDATA=q.smxml.div.__cdata,e.focusDATA=q.smxml.backgroundPoint.__cdata,e.markPointColor=q.smxml._markPointColor,e.lineColor=q.smxml._color,e)));try{k.select("#authoring_point").innerText="Add Point",_e(),K=0,k.select(".drawing_paths").innerHTML="",k.select("#authoring_redo").disabled=!0,k.select("#authoring_undo").disabled=!0,k.select("#authoring_clearScreen").disabled=!0,W=0,F=0,se=1,z=[];let e=oe.cDATA;e="["+e.replace(/!/g,",")+"]",e=JSON.parse(e),k.selectAll(".resize","remove");let t=Q.length;if(e.length>t)for(let l=0;l<e.length-t;l++)Q.push({Center_X:90,Center_Y:68,radius:33});else for(let l=e.length;l<t;l++)Q.pop();for(let t=0;t<e.length;t++)K++,Q[K-1].Center_X=e[t].x,Q[K-1].Center_Y=e[t].y,Q[K-1].radius=e[t].r,k.insert("#centerImg",'<div class="resize" data-point="'+K+'" style="z-index: 10; left: '+(e[t].x-e[t].r)+"px; top: "+(e[t].y-e[t].r)+"px;width: "+2*e[t].r+"px; height: "+2*e[t].r+'px;"><div class="resizer icomoon-resize"></div></div>',"beforeend"),ce();let l=oe.focusDATA;l="["+l.replace(/!/g,",")+"]",l=JSON.parse(l),k.selectAll(".backgroundFocusPoint circle,.backgroundFocusPath path","remove"),te=[];for(let e=0;e<l.length;e++)te.push(l[e][e]);for(let e=0;e<l.length;e++){for(let t=0;t<l[e][e].length;t++)te[e][t].x=l[e][e][t].x,te[e][t].y=l[e][e][t].y,s=document.createElementNS(Y,"circle"),be("#808080",5),s.setAttributeNS(null,"id","focusPoint"+se),s.setAttributeNS(null,"cx",te[e][t].x),s.setAttributeNS(null,"cy",te[e][t].y),s.setAttributeNS(null,"r","2px"),k.select(".backgroundFocusPoint").prepend(s),se++;me(te[e])}0==K?k.select("#add_point_msg").classList.add("h"):k.select("#add_point_msg").classList.remove("h"),k.selectAll(".resize").length>0?(P="authoring_point",k.setCss("#authoringSvg",{cursor:"auto"})):(P=oe.selectedTools[0].substr(-(oe.selectedTools[0].length-1)),k.setCss("#authoringSvg",{cursor:"crosshair"}),"compass"==P?k.selectAll(".drawing_compass_svg","removeClass","h"):k.selectAll(".drawing_compass_svg","addClass","h")),k.selectAll(".authoring_btn,#authoring_point,#focus_point","removeClass","active"),k.selectAll('[data-title="'+P+'"]',"addClass","active")}catch(e){console.warn({e:e,func:"parseXMLForGettingData"})}}(),l(0,oe.xml=A,oe))})),S((async()=>{i=k.select(".drawing_paths"),k.setAttr(".centerImg #svgImg",{src:H+""+oe.bgImg,alt:oe.alt,width:oe.imgWidth}),k.setAttr(".auth_drawing_toolbar",{style:"width:"+(Number(oe.imgWidth)+2)+"px"}),k.setAttr(".authCenterImg",{style:"width:"+(Number(oe.imgWidth)+2)+"px"}),ne(160,118,100,90),k.listen("body","mousedown","#authoringSvg .mid_circle",(function(){"compass"==P&&(R=1)})),k.listen("body","mousedown","#authoringSvg .midSmallCircle",(function(){"compass"==P&&(J=1)})),k.listen("body","mousedown","#authoringSvg .drawing_compass_center",(function(e,t){"compass"==P&&(he(t),c=a,d=o,x=k.select(".drawing-compass-route").getAttribute("r"),ne(c,d,x,O),k.selectAll("#authoringSvg .midSmallCircle","attr",{transform:"rotate("+O+","+k.select("#authoringSvg .midSmallCircle").getAttribute("cx")+","+k.select("#authoringSvg .midSmallCircle").getAttribute("cy")+")"}),k.selectAll("#authoringSvg .mid_circle","attr",{transform:"rotate("+O+","+k.select("#authoringSvg .mid_circle").getAttribute("cx")+","+k.select("#authoringSvg .mid_circle").getAttribute("cy")+")"}),k.selectAll("#authoringSvg .lastCircleMid","attr",{transform:"rotate("+O+","+k.select("#authoringSvg .lastCircleMid").getAttribute("cx")+","+k.select("#authoringSvg .lastCircleMid").getAttribute("cy")+")"}),j=!0)})),k.listen("body","mousemove","#authoringSvg .lastCircle",(function(e){e.classList.add("lastCircle_hover"),k.selectAll("#authoringSvg .lastCircleMid","attr",{opacity:1})})),k.listen("body","mouseout","#authoringSvg .lastCircle",(function(e){e.classList.remove("lastCircle_hover"),k.selectAll("#authoringSvg .lastCircleMid","attr",{opacity:0})})),k.listen("body","mousedown","#authoringSvg .lastCircle",(function(e){"compass"==P&&(y=!0,J=1,k.selectAll("#authoringSvg .lastCircle","css",{cursor:"grabbing"}),s=document.createElementNS(Y,"path"),be(D,5),s.setAttributeNS(null,"data-type",P+"_"+F),s.setAttributeNS(null,"data-order",F),s.setAttributeNS(null,"d","M"+p+" "+_),r=p,n=_,z.push({mode:"add",order:F,type:P+"_"+F,index:F,d:"M"+p+" "+_}))})),k.listen("body","mousedown","#authoringSvg",(function(e,t){!function(e){switch(P){case"line":case"scribble":y=!0,he(e),s=document.createElementNS(Y,"path"),be(D,5),s.setAttributeNS(null,"data-type",P+"_"+F),s.setAttributeNS(null,"data-order",F),s.setAttributeNS(null,"d","M"+a+" "+o),r=a,n=o,z.push({mode:"add",order:F,type:P+"_"+F,index:F,d:"M"+a+" "+o});break;case"eraser":if(k.select(".currentSvg").nodeName&&null!=k.select(".currentSvg").getAttribute("data-order")){E=[];let e="",t=z.indexOf(z[k.select(".currentSvg").getAttribute("data-order")]);e=Object.assign({},z[t]),e.mode="remove",z.push(e),F++,W++,k.select("#authoring_redo").disabled=!0,k.selectAll(".currentSvg","remove"),0==k.selectAll(".drawing_paths path").length&&(k.select("#authoring_clearScreen").disabled=!0)}break;case"markAccessibilityPoint":ee||(he(e),s=document.createElementNS(Y,"circle"),be("#808080",5),s.setAttributeNS(null,"id","focusPoint"+se),s.setAttributeNS(null,"cx",a),s.setAttributeNS(null,"cy",o),s.setAttributeNS(null,"r","2px"),le.push({x:a,y:o}),se++,k.select(".backgroundFocusPoint").prepend(s))}}(t)})),k.listen("body","click","#authoring_point",(function(e){ge(),k.selectAll(".authoring_btn, #focus_point","removeClass","active"),e.classList.add("active"),P="authoring_point",k.selectAll("#authoringSvg path","removeClass","eraserHover"),k.selectAll("#authoringSvg","css",{cursor:"unset"}),k.selectAll(".drawing_compass_svg","addClass","h"),"Add Point"==k.select("#authoring_point").innerText&&(K++,Q.push({Center_X:90,Center_Y:68,radius:33}),k.insert("#centerImg",'<div class="resize" data-point="'+K+'"><div class="resizer icomoon-resize"></div></div>',"beforeend"),ce()),k.select(".resize").nodeName&&k.select(".resize").offsetHeight&&0!=K||(k.selectAll(".resize","removeClass","h"),k.selectAll(".drawing_compass_svg","addClass","h"),k.select("#authoring_point").innerText="Add Point"),k.select("#add_point_msg").classList.remove("h")})),k.listen("body","mousemove","#authoringSvg",(function(e,t){switch(he(t),P){case"line":y&&(s.setAttributeNS(null,"d",z[F].d+" L"+a+" "+o),i.prepend(s));break;case"scribble":y&&(s.setAttributeNS(null,"d",z[F].d+" L"+a+" "+o),z[F].d=z[F].d+" L"+a+" "+o,i.prepend(s));break;case"compass":j&&(c=a,d=o,x=k.select(".drawing-compass-route").getAttribute("r"),ne(c,d,x,O)),R&&(ue(),O=Math.round(O),x=2*Math.sqrt(Math.pow(a-Z.x,2)+Math.pow(o-Z.y,2)),x<80&&(x=80),x>360&&(x=360),ne(Z.x,Z.y,x,O)),J&&(he(t),ue(),O=180*Math.atan2(o-Z.y,a-Z.x)/Math.PI,O<0&&(O=360+O),ne(Z.x,Z.y,x,O)),y&&(k.select("#authoringSvg .last_big_circle").classList.contains("lastCircle_hover")?(s.setAttributeNS(null,"d",z[F].d+" L"+p+" "+_),z[F].d=z[F].d+" L"+p+" "+_,i.prepend(s)):re(t)),k.selectAll("#authoringSvg .midSmallCircle","attr",{transform:"rotate("+O+","+k.select("#authoringSvg .midSmallCircle").getAttribute("cx")+","+k.select("#authoringSvg .midSmallCircle").getAttribute("cy")+")"}),k.selectAll("#authoringSvg .mid_circle","attr",{transform:"rotate("+O+","+k.select("#authoringSvg .mid_circle").getAttribute("cx")+","+k.select("#authoringSvg .mid_circle").getAttribute("cy")+")"}),k.selectAll("#authoringSvg .lastCircleMid","attr",{transform:"rotate("+O+","+k.select("#authoringSvg .lastCircleMid").getAttribute("cx")+","+k.select("#authoringSvg .lastCircleMid").getAttribute("cy")+")"})}})),k.listen("body","mouseup","#authoringSvg",(function(e,t){re(t)})),k.bind("#authoringSvg","mouseleave",(function(e){re(e)})),k.listen("body","click","#authoring_clearScreen",(function(e){k.select(".drawing_paths").innerHTML="",W=0,F=0,z=[],k.select("#authoring_undo").disabled=!0,k.select("#authoring_redo").disabled=!0,k.select("#authoring_clearScreen").disabled=!0})),k.listen("body","click",".auth_toolbar",(function(e){k.selectAll(".resize","addClass","h"),ge(),k.selectAction("#authoringSvg","css",{cursor:"crosshair"}),P=e.getAttribute("data-title"),k.selectAll(".authoring_btn,#authoring_point,#focus_point","removeClass","active"),e.classList.add("active"),"eraser"==P?k.selectAll(".drawing_paths path","addClass","eraserHover"):k.selectAll(".drawing_paths path","removeClass","eraserHover"),"compass"==P?k.selectAll(".drawing_compass_svg","removeClass","h"):k.selectAll(".drawing_compass_svg","addClass","h"),0!=K&&(k.select("#authoring_point").innerText="Show Point",k.select("#add_point_msg").classList.add("h"))})),k.listen("body","mouseover",".drawing_paths path",(function(e){"eraser"==P&&(k.selectAll(".drawing_paths path","removeClass","currentSvg"),e.classList.add("currentSvg"))})),k.listen("body","mouseout",".drawing_paths path",(function(e){"eraser"==P&&e.classList.remove("currentSvg")})),k.listen("body","click","#authoring_undo",(function(e){1==W?(e.disabled=!0,k.select("#authoring_redo").disabled=!1):k.select("#authoring_redo").disabled=!1,"add"==z[z.length-1].mode?k.select('#authoringSvg [data-order="'+(z.length-1)+'"]',"remove"):"remove"==z[z.length-1].mode&&(s=document.createElementNS(Y,"path"),be(D,5),s.setAttributeNS(null,"data-type",z[z.length-1].type),s.setAttributeNS(null,"data-order",z[z.length-1].order),s.setAttributeNS(null,"d",z[z.length-1].d),"eraser"==P&&s.setAttributeNS(null,"class","eraserHover"),i.prepend(s)),E.push(z.pop()),F--,W--,0==k.selectAll(".drawing_paths path").length?k.select("#authoring_clearScreen").disabled=!0:k.select("#authoring_clearScreen").disabled=!1,0==z.length&&(e.disabled=!0)})),k.listen("body","click","#authoring_redo",(function(e){F++,E.length>0&&B.push(E.pop()),"add"==B[B.length-1].mode?(s=document.createElementNS(Y,"path"),be(D,5),s.setAttributeNS(null,"data-type",B[B.length-1].type),s.setAttributeNS(null,"data-order",B[B.length-1].order),s.setAttributeNS(null,"d",B[B.length-1].d),"eraser"==P&&s.setAttributeNS(null,"class","eraserHover"),i.prepend(s)):"remove"==B[B.length-1].mode&&k.select('#authoringSvg [data-order="'+B[B.length-1].order+'"]',"remove"),W++,z.push(B.pop()),0==k.selectAll(".drawing_paths path").length?k.select("#authoring_clearScreen").disabled=!0:k.select("#authoring_clearScreen").disabled=!1,0==E.length?(e.disabled=!0,k.select("#authoring_undo").disabled=!1):k.select("#authoring_undo").disabled=!1})),k.listen("body","click","#reset_btn",(function(){l(0,oe.openDeleteDialog=!0,oe)})),k.listen("body","click","#focus_point",(function(){k.selectAll(".drawing_compass_svg","addClass","h"),k.selectAll("#authoringSvg path","removeClass","eraserHover"),k.select("#authoringSvg","css",{cursor:"crosshair"}),k.selectAll(".resize","addClass","h"),0!=K&&(k.select("#authoring_point").innerText="Show Point",k.select("#add_point_msg").classList.add("h")),ee?(k.selectAll(".authoring_btn,#authoring_point","removeClass","active"),k.select("#focus_point").innerText="Finish Marking",k.select("#focus_point","addClass","active"),ee=0,P="markAccessibilityPoint"):ge()})),AI.listen("body","contextmenu",".resize",(function(e,t){t.preventDefault(),L({text:g.delete_points,icon:"warning",buttons:!0}).then((t=>{if(t){let t=e.getAttribute("data-point");Q[t-1].Center_X=null,Q[t-1].Center_Y=null,Q[t-1].radius=null,e.remove(),ce()}}))})),AI.listen("body","keyup",".authoring-modal input",(function(e,t){t.stopPropagation(),k.selectAll(".error","remove"),ie(e)})),AI.listen("body","change",".authoring-modal input",(function(e,t){t.stopPropagation(),k.selectAll(".error","remove"),ie(e)})),AI.listen("body","click",".drawing_modal_submit",(function(e,t){if(X&&0==k.selectAll(".showError").length){V=[];let e=k.selectAll(".checkbox-inline:checked");for(let t=0;t<e.length;t++)V.push(e[t].value);ae.update((e=>(e.bgImg=k.select("#backgroundImage").value,e.alt=k.select("#imgAlt").value.trim(),e.imgWidth=k.select("#imgWidth").value,e.lineColor=k.select("#lineColor").value,e.markPointColor=k.select("#markPointColor").value,e.selectedTools=V,e))),pe(),q=M(A),q.smxml._bgimg=oe.bgImg,q.smxml._imgAlt=oe.alt,q.smxml._width=oe.imgWidth,q.smxml._color=oe.lineColor,q.smxml._markPointColor=oe.markPointColor,q.smxml.div._selectedDrawingType=V.join(","),q.smxml.div.__cdata="",q.smxml.backgroundPoint.__cdata="",q=N(q),q=q.replace("<![CDATA[]]>","\x3c!--[CDATA[]]--\x3e"),C(q),l(0,oe.xml=q,oe),k.getBS("#drawing-modal","Modal").hide()}else L({text:"Please solve all the errors!",icon:"warning"})})),k.listen("body","click","#upload_media",(function(){k.getBS("#modal-media-upload","Modal").show()})),new I({containment:"#authoringSvg",classes:".resize",ignore:[".tools",".resizer"]}).onDragStop=function(e,t,l){let s=l.getAttribute("data-point");k.setCss(l,{height:l.offsetWidth+"px",width:l.offsetWidth+"px"});let a=l.offsetHeight/2,o=t.left+a,i=t.top+a;Q[s-1].Center_X=o,Q[s-1].Center_Y=i,Q[s-1].radius=a,ce()},new $("#authoringSvg",".resize").onStop=function(e,t){let l=t.getAttribute("data-point"),s=Number(t.offsetWidth)>66?66:t.offsetWidth;k.setCss(t,{height:s+"px",width:s+"px"});let a=t.offsetHeight/2,o=t.offsetLeft+a,i=t.offsetTop+a;Q[l-1].Center_X=o,Q[l-1].Center_Y=i,Q[l-1].radius=a,ce()}}));return e.$$set=e=>{"xml"in e&&l(3,A=e.xml),"getChildXml"in e&&l(4,C=e.getChildXml)},[oe,pe,function(){if(k.getBS("#drawing-modal","Modal").show(),k.select("#backgroundImage").value=oe.bgImg,""!=oe.lineColor&&(k.select('#lineColor option[value="'+oe.lineColor+'"]').selected=!0),""!=oe.markPointColor&&(k.select('#markPointColor option[value="'+oe.markPointColor+'"]').selected=!0),oe.selectedTools.length>0){k.selectAll(".toolCheckbox","checked",!1);for(var e=0;e<oe.selectedTools.length;e++)k.select('[value="'+oe.selectedTools[e]+'"]').checked=!0}k.select("#imgWidth").value=oe.imgWidth,k.select("#imgAlt").value=oe.alt;let t=k.selectAll(".authoring-modal input");k.selectAll(".error","remove");for(let e=0;e<t.length;e++)ie(t[e])},A,C,()=>{l(0,oe.openDeleteDialog=!1,oe)},function(t){e.$$.not_equal(oe.openDeleteDialog,t)&&(oe.openDeleteDialog=t,l(0,oe))}]}export default class extends e{constructor(e){super(),t(this,e,j,X,l,{xml:3,getChildXml:4},[-1,-1,-1])}}
//# sourceMappingURL=Drawing-1cf75981.js.map
