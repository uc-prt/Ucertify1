{"version":3,"file":"mcqHelper-2cfb4e73.js","sources":["../../../clsSMMultipleChoice/mcqHelper.svelte"],"sourcesContent":["<script context=\"module\">\r\n    const alphabet = 'A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W,X,Y,Z'.split(',');\r\n    export const itemHelper = {\r\n        doNotformatXml: function(type, xml) {\r\n            return (+type == 0) ? '' : xml;\r\n        },\r\n        donNotSendXMl: true,\r\n        checkDataOnSave: function(data, content_subtype, state, updateModule) {\r\n            // let ansstr = \"\";\r\n            // let arr = [];\r\n            // Object.values(state.ajaxData.answers).map((item, index) => {\r\n            //     let option = (item.is_correct == \"1\") ? \"*\" : '-';\r\n            //     ansstr += '[[Option' + option + alphabet[index] + ': ' + seqTag(item.answer) + \"\\n\";\r\n            //     arr = removeBogus(ansstr);\r\n            // });\r\n            data['correct_answers'] = state.ajaxData.correct_answers;\r\n            data['total_answers'] = state.ajaxData.total_answers;\r\n            data['answers'] = state.ajaxData.answers;\r\n            return data;\r\n        },\r\n        actionOnUpdate: function(state) {\r\n            if (state.content_type == \"q\" && state.item == 0 && state.content_icon == 0) {\r\n                jQuery('#xmlBtn').addClass(\"h\");\r\n            } else {\r\n                jQuery('#xmlBtn').removeClass(\"h\");\r\n            }\r\n        },\r\n        checkBeforeSave: function(state, updateModule) {\r\n            let checkOptionSelection = JSON.stringify(state.ajaxData.answers).match(/\"is_correct\":\"[1-9]\"/);\r\n            if (checkOptionSelection == null) {\r\n                updateModule('message',\"You must select a option\");\r\n                updateModule('saveDialog',false);\r\n                updateModule('snackback',true);\r\n                return true;\r\n            }\r\n            return false;\r\n        },\r\n        helpVideo: '//player.vimeo.com/external/290348936.hd.mp4?s=a13a32bc22efff0e3b2813f64ee52ab6413166ea',\r\n\r\n    };\r\n\r\n    function removeBogus(data) {\r\n        if (data) {\r\n            data = data.replace(/<span data-mce-bogus[^>]*>/g, '');\r\n            data = data.replace(/<span anscounter[^>]*>(.*?)<\\/span>/g, (p1, p2) => {\r\n                return p2;\r\n            });\r\n        }\r\n\r\n        return data;\r\n    }\r\n</script>"],"names":["itemHelper","doNotformatXml","type","xml","donNotSendXMl","checkDataOnSave","data","content_subtype","state","updateModule","ajaxData","correct_answers","total_answers","answers","[object Object]","content_type","item","content_icon","jQuery","addClass","removeClass","checkBeforeSave","JSON","stringify","match","helpVideo"],"mappings":"2DAEiBA,GACTC,eAAc,CAAWC,EAAMC,IACV,IAARD,EAAa,GAAKC,EAE/BC,eAAe,EACfC,gBAAe,CAAWC,EAAMC,EAAiBC,EAAOC,KAQpDH,EAAsB,gBAAIE,EAAME,SAASC,gBACzCL,EAAoB,cAAIE,EAAME,SAASE,cACvCN,EAAc,QAAIE,EAAME,SAASG,QAC1BP,GAEXQ,eAAyBN,GACK,KAAtBA,EAAMO,cAAqC,GAAdP,EAAMQ,MAAmC,GAAtBR,EAAMS,aACtDC,OAAO,WAAWC,SAAS,KAE3BD,OAAO,WAAWE,YAAY,MAGtCC,gBAAe,CAAWb,EAAOC,IAED,MADDa,KAAKC,UAAUf,EAAME,SAASG,SAASW,MAAM,0BAEpEf,EAAa,UAAU,4BACvBA,EAAa,cAAa,GAC1BA,EAAa,aAAY,IAClB,GAIfgB,UAAW"}