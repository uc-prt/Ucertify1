{"version":3,"file":"Graph-c8f43e03.js","sources":["../../../clsSMGraph/lib/mathAuthString.js","../../../clsSMGraph/lib/MathModal.svelte","../../../clsSMGraph/Graph.svelte"],"sourcesContent":["/**\r\n *  File Name   : mathAuthString.js\r\n *  Author      : Ayush Srivastava\r\n *  Function    : Graph\r\n *  Version     : 1.0\r\n *  Packege     : clsSMGRAPH (Authoring)\r\n *  Last update : 02 Mar 2021\r\n *  Dependency  : JUI\r\n */\r\n// importing JUI\r\nimport JUI from '../../src/libs/javscript_helper/JUI';\r\nimport l from '../../src/libs/Lang';\r\nconst JS = new JUI();\r\n\r\nlet isPointDraw = true;\r\nlet GRAPH_AUTH = {};\r\n\r\nGRAPH_AUTH.isValid = true;\r\nGRAPH_AUTH.stopUpdate = false;\r\nGRAPH_AUTH.visible_class = '';\r\n\r\n/*\r\n * used for the data storage of graph authoring\r\n */\r\nGRAPH_AUTH.storage = {\r\n    store: function(obj, key, val) {\r\n        if (!obj) {\r\n            return this.state;\r\n        } else if (!key) {\r\n            if (!(obj in this.state)) {\r\n                return {};\r\n            }\r\n            return this.state[obj];\r\n        } else if (arguments.length < 3) {\r\n            if (!(obj in this.state)) {\r\n                return undefined;\r\n            }\r\n            return this.state[obj][key];\r\n        } else {\r\n            if (!(obj in this.state)) {\r\n                this.state[obj] = {};\r\n            }\r\n            this.state[obj][key] = val;\r\n        }\r\n    },\r\n    remove: function(obj) {\r\n        if (this.state[obj]) {\r\n            delete this.state[obj]\r\n        }\r\n    },\r\n    state: {}\r\n}\r\n\r\n/*\r\n * used for initialising the graph\r\n */\r\nGRAPH_AUTH.initGraph = function () {\r\n    let attrs;\r\n    if ((JS.select('#special_module_xml').value).indexOf(\"smxml\") > -1) {\r\n        // called for update the xml tag's attributes and values\r\n        if (JS.select('#special_module_xml').value && JS.select('#special_module_xml').value.trim() != '') {\r\n            GRAPH_AUTH.bind_data(JS.parseHtml(JS.select('#special_module_xml').value));\r\n        }\r\n\r\n        let mthmain_type = JS.selectAll('#mthmain [type]');\r\n        for (let index = 0; index < mthmain_type.length; index++) {\r\n            attrs = GRAPH_AUTH.setInAssoc(GRAPH_AUTH.storage.store('#' + mthmain_type[index].id , 'attributes')); \r\n            GRAPH_AUTH.plotgraph(attrs.id, attrs.type, attrs.xaxis, attrs.yaxis, attrs.xtickdistance, attrs.ytickdistance, attrs.equation);\r\n            if (typeof attrs.anskey != \"undefined\" && attrs.anskey != '') {\r\n                for (let sub_index in JXG.boards) {\r\n                    if ( JXG.boards[sub_index].container.includes('Preview') == false) {\r\n                        let cur_value = JXG.boards[sub_index];\r\n                        let ans = attrs.anskey.split('|'), is_point = 1;\r\n                        for (let ans_index = 0; ans_index < ans.length; ans_index++) {\r\n                            let cur_ans = ans[ans_index];\r\n                            let key = cur_ans.split(',');\r\n                            if (JS.select('#' + attrs.id).classList.contains('circle')) {\r\n                                GRAPH_AUTH.drawCircle(attrs.id, cur_value, cur_ans);\r\n                            } else if (JS.select('#' + attrs.id).classList.contains('association')) {\r\n                                let point = cur_value.create('glider', [key[0], key[1], cur_value.axis], {\r\n                                    name: \"\",\r\n                                    snapSizeX: (attrs.xtickdistance / 10),\r\n                                    snapSizeY: 0.4\r\n                                });\r\n                                GRAPH_AUTH.updateAndDraw(attrs.id, point);\r\n                            } else if (JS.select('#' + attrs.id).classList.contains('plot')) {\r\n                                if (cur_ans.indexOf(',') == -1) {\r\n                                    let point = cur_value.create('point', [cur_ans, is_point], {\r\n                                        name: \"\"\r\n                                    });\r\n                                    GRAPH_AUTH.updateAndDraw(attrs.id, point);\r\n                                } else {\r\n                                    let point = cur_value.create('point', [parseInt(key[0]), is_point], {\r\n                                        name: \"\"\r\n                                    });\r\n                                    point.Xjc = parseInt(key[1]);\r\n                                    GRAPH_AUTH.updateAndDraw(attrs.id, point, key[2]);\r\n                                }\r\n\r\n                                is_point++;\r\n                            } else {\r\n                                let point = cur_value.create('point', [parseInt(key[0]), parseInt(key[1])], {\r\n                                    name: \"\"\r\n                                });\r\n                                if ( JS.select('#' + attrs.id).classList.contains('polygon')) {\r\n                                    GRAPH_AUTH.updateAndDraw(attrs.id, point, ans);\r\n                                } else {\r\n                                    GRAPH_AUTH.updateAndDraw(attrs.id, point);\r\n                                }\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\n\r\n/*\r\n * used for the resetting the data in the modal box\r\n */\r\nGRAPH_AUTH.resetData = function (element) {\r\n    JS.find('#authoring-modal', '.graphitem .h', {\r\n        action : 'css',\r\n        actionData: {\r\n            display: 'none'\r\n        }\r\n    });\r\n\r\n    if (element.value == 'sine' || element.value == 'cosine') {\r\n        JS.select('#xaxis').value = '720';\r\n        JS.select('#yaxis').value = '3';\r\n        JS.select('#graph-width').value = '700';\r\n        JS.select('#graph-height').value = '450';\r\n        JS.select('#xtickdistance').value = '90';\r\n        JS.select('#ytickdistance').value = '1';\r\n        JS.select('#ytickdistance').readOnly = false;\r\n        JS.select('#yaxis').readOnly = false;\r\n\r\n        JS.find('#authoring-modal', '.graphitem .eq' , {\r\n            action : 'css',\r\n            actionData: {\r\n                display: 'block'\r\n            }\r\n        });\r\n\r\n        JS.find('#authoring-modal', '[id = \"' + element.value + '\"]' , {\r\n            action : 'css',\r\n            actionData: {\r\n                display: 'block'\r\n            }\r\n        });\r\n    } else if (element.value == 'association' || element.value == 'plot') {\r\n        JS.select('#graph-height').value = '300';\r\n        JS.select('#graph-width').value = '450';\r\n        JS.select('#xaxis').value = '3';\r\n        JS.select('#yaxis').value = '3';\r\n        JS.select('#yaxis').readOnly = true\r\n        JS.select('#xtickdistance').value = '1';\r\n        JS.select('#ytickdistance').value = '1';\r\n        JS.select('#ytickdistance').readOnly = true\r\n        if (element.value == 'plot') {\r\n            JS.select('#graph-width').value = '450';\r\n            JS.select('#graph-height').value = '250';\r\n        }\r\n    } else {\r\n        JS.select('#xaxis').value = '10';\r\n        JS.select('#yaxis').value = '10';\r\n        JS.select('#yaxis').readOnly = false;\r\n        JS.select('#graph-height').value = '450';\r\n        JS.select('#graph-width').value = '450';\r\n        JS.select('#xtickdistance').value = '1';\r\n        JS.select('#ytickdistance').value = '1';\r\n        JS.select('#ytickdistance').readOnly = false;\r\n\r\n        if (element.value == 'polygon') {\r\n            JS.select('#polygon_type').value = '0';\r\n        }\r\n        let equation_container = ['line', 'sine', 'cosine', 'parabola', 'circle'];\r\n        if (equation_container.indexOf(element.value) > -1) {\r\n            JS.find('#authoring-modal', '#' + element.value, {\r\n                action: 'css',\r\n                actionData: {\r\n                    display: 'block',\r\n                }\r\n            })\r\n        }\r\n    }\r\n    JS.find('#authoring-modal', '[id = \"' + element.value + '\"]', {\r\n        action: 'css',\r\n        actionData: {\r\n            display: 'block',\r\n        }\r\n    })\r\n\r\n    JS.find('#authoring-modal', '#graph-equation', {\r\n        action: 'value',\r\n        actionData: ''\r\n    });\r\n\r\n    GRAPH_AUTH.resetModal();\r\n}\r\n\r\n/*\r\n * used to add the data in xml with\r\n */\r\nGRAPH_AUTH.bind_data = function (xml) {\r\n    // defines the type of graph\r\n    let elem = '[type=\"' + xml.getAttribute('type') + '\"]', attrs = [];\r\n\r\n    if (xml.nodeName == \"SMXML\") {\r\n        elem = \"#mthmain\";\r\n    }\r\n    \r\n    // assign the data of available attributes and their value in attrs array in form of object\r\n    for (let index = 0; index < xml.attributes.length; index++) {\r\n        attrs[index] = {\r\n            \"name\": xml.attributes[index].name,\r\n            \"value\": xml.attributes[index].value\r\n        }\r\n    }\r\n\r\n    if (typeof elem != \"undefined\") {\r\n        // assign the value of attrs array in the xml tag's attributes according to their type attribute\r\n        GRAPH_AUTH.storage.store('#'+ JS.select(elem).id, \"attributes\", attrs)\r\n    }\r\n\r\n    // checks if perticular xml tag have any other tag then also assign it's attributes and values and so on\r\n    if (xml.children.length > 0) {\r\n        for (let index = 0; index < xml.children.length; index++) {\r\n            GRAPH_AUTH.bind_data(xml.children[index]);\r\n        }\r\n    }\r\n}\r\n\r\n\r\n/*\r\n * used to check for data entered in input field of modalbox and according to that calls GRAPH_AUTH.updateElem function for change the graph view after updating the value of xml\r\n */\r\nGRAPH_AUTH.elemModal = function (type, current_element, key) {\r\n    GRAPH_AUTH.resetModal();\r\n    JS.selectAll('#authoring-modal .modal-body>.h', 'addClass', 'h');\r\n    JS.listen('body', 'click', '.addElement', function () {\r\n        /* for checking that perticular field is valid with their value otherwise it will not allow to close the dialog after click on add button and also shows message with approximately in red color */\r\n        let auth_input = JS.selectAll('#authoring-modal .'+ GRAPH_AUTH.visible_class + ' input');\r\n        for (let index = 0; index < auth_input.length; index++) {\r\n            let cur_element = auth_input[index];\r\n            if (cur_element.value == '' && (cur_element.classList.contains('num') || cur_element.classList.contains('integer'))) {\r\n                GRAPH_AUTH.isValid = false;\r\n                JS.selectAll('.error', 'remove');\r\n                JS.setCss(cur_element, {\r\n                    border: \"1px solid red\",\r\n                    background: \"#FFCECE\"\r\n                })\r\n                JS.insert(cur_element.parentElement, '<span class=\"error text-danger\">Please fill out this field</span>', 'beforeend');\r\n            }\r\n\r\n            if ((cur_element.getAttribute('id') == 'graph-width' || cur_element.getAttribute('id') == 'graph-height') && (parseInt(cur_element.value) < 200)) {\r\n                GRAPH_AUTH.isValid = false;\r\n                JS.selectAll('.error', 'remove');\r\n                JS.setCss(cur_element, {\r\n                    border: \"1px solid red\",\r\n                    background: \"#FFCECE\"\r\n                });\r\n                JS.insert(cur_element.parentElement, '<span class=\"error text-danger\">Value must be greater than or equal to 200.</span>', 'beforeend');\r\n                cur_element.focus();\r\n            }\r\n\r\n            if ((cur_element.getAttribute('id') == 'xaxis' || cur_element.getAttribute('id') == 'yaxis') && (parseInt(cur_element.value) < 2)) {\r\n                GRAPH_AUTH.isValid = false;\r\n                JS.selectAll('.error', 'remove');\r\n                JS.setCss(cur_element, {\r\n                    border: \"1px solid red\",\r\n                    background: \"#FFCECE\"\r\n                });\r\n                JS.insert(cur_element.parentElement, '<span class=\"error text-danger\">Value must be greater than or equal to 2.</span>', 'beforeend');\r\n                cur_element.focus();\r\n            }\r\n\r\n            if ((cur_element.getAttribute('id') == 'xtickdistance' || cur_element.getAttribute('id') == 'ytickdistance') && (parseInt(cur_element.value) < 1)) {\r\n                GRAPH_AUTH.isValid = false;\r\n                JS.selectAll('.error', 'remove');\r\n                JS.setCss(cur_element, {\r\n                    border: \"1px solid red\",\r\n                    background: \"#FFCECE\"\r\n                });\r\n                JS.insert(cur_element.parentElement, '<span class=\"error text-danger\">Value must be greater than or equal to 1.</span>', 'beforeend');\r\n                cur_element.focus();\r\n            }\r\n        }\r\n        if (GRAPH_AUTH.isValid == true) {\r\n            // hides the math modal box \r\n            JS.getBS('#authoring-modal', 'Modal').hide();\r\n            // change the value of element and update the xml and change the graph view\r\n            GRAPH_AUTH.updateElem(type, key);\r\n        }\r\n    });\r\n\r\n    JS.listen('body', 'click', '.resetElement', function () {\r\n        // change the input fields value to its default value\r\n        GRAPH_AUTH.resetData(JS.select('#authoring-modal #graph-type'));\r\n        // change the value of element and update the xml and change the graph view\r\n        GRAPH_AUTH.updateElem(type, key);\r\n    });\r\n\r\n    // shows the math modal box according to the value of type for change the view of graph\r\n    switch (type) {\r\n        case \"plotgraph\":\r\n            // defines the title of math modal box\r\n            JS.select('#authoring-modal .title').innerText = 'Plot Graph';\r\n            // shows the body elements according  to type value\r\n            JS.setCss('#authoring-modal .graphitem', {\r\n                display: 'block'\r\n            });\r\n            break;\r\n        case \"numberline\":\r\n            JS.select('#authoring-modal .title').innerText = 'Number Line';\r\n            JS.setCss('#authoring-modal .numberline', {\r\n                display: 'block'\r\n            });\r\n            break;\r\n    }\r\n    // shows the math modal box to change the values of graph or it's type or both\r\n    JS.getBS('#authoring-modal', 'Modal').show();\r\n    GRAPH_AUTH.visible_class = type;\r\n\r\n    // containes the name of the graph\r\n    // for show the select type of graph in type dropdown in math modal box\r\n    JS.select(\"#authoring-modal #graph-type\").value = JS.select('[id=\"' + key + '\"]').getAttribute('type')\r\n    JS.selectAll('.equation_select', 'css', {\r\n        display: 'none'\r\n    })\r\n    JS.find('#authoring-modal', '[id = \"' + JS.select(\"#authoring-modal #graph-type\").value + '\"]', {\r\n        action: 'css',\r\n        actionData: {\r\n            display: 'block',\r\n        }\r\n    });\r\n    // key is the value of id of plot tag in xml\r\n    if (key) {\r\n        /* calls the GRAPH_AUTH.setData function to set the input fields value according to attributes value of plot tag of xml which are passed as argument in the form of object */\r\n        GRAPH_AUTH.setData(GRAPH_AUTH.storage.store('#' + key, 'attributes'));\r\n    }\r\n}\r\n\r\n// used for removing error messages\r\nGRAPH_AUTH.resetModal = function () {\r\n    JS.selectAll('.err-msg', 'addClass', 'd-none');\r\n    JS.selectAll('input, .equation', 'removeAttr', 'style');\r\n    JS.selectAll('.error', 'remove');\r\n}\r\n\r\n// sets the input elements value according to the value of plot tags attributes\r\nGRAPH_AUTH.setData = function (attributes) {\r\n    for (let index = 0; index < attributes.length; index += 1) {\r\n        // select the input field according to attributes at perticular index\r\n        let element = JS.select('#authoring-modal .' + GRAPH_AUTH.visible_class + ' [name=\"' + attributes[index]['name'] + '\"]')\r\n        // sets the value of input fields \r\n        element.value = attributes[index]['value'];\r\n    }\r\n    // sets the value blank of element with id graph-anskey\r\n    JS.select('#authoring-modal #graph-anskey').value = '';\r\n    // sets the value blank of element with id reflection\r\n    JS.select('#authoring-modal #reflection').value = '';\r\n}\r\n\r\n// used for getting the serialize data\r\nGRAPH_AUTH.serialize = function(element) {\r\n    let serialize = [];\r\n    for (let index = 0; index < element.length; index++) {\r\n        if (element[index].getAttribute('type') == 'radio' || element[index].getAttribute('type') == 'checkbox') {\r\n            if (element[index].checked) {\r\n                serialize[serialize.length] = {\r\n                    \"name\": element[index].name,\r\n                    \"value\": 1\r\n                }\r\n            }\r\n        } else if (element[index].name && !element[index].disabled) {\r\n            serialize[serialize.length] = {\r\n                \"name\": element[index].name,\r\n                \"value\": element[index].value\r\n            };\r\n        }\r\n    }\r\n    return serialize;\r\n}\r\n\r\n/*\r\n * used to change the value of required data of graph as height, width, x-axis value, y-axis value etc and change the view of graph according to these changes\r\n */\r\nGRAPH_AUTH.updateElem = function(type, key) {\r\n    /* creates an array object of attribute as key and value as their value of select, textarea and input elements and their values and assign to attributes variable */\r\n    let attributes_list = JS.find(JS.select('#authoring-modal .' + GRAPH_AUTH.visible_class), 'select, textarea, input', 'all');\r\n    let attributes = GRAPH_AUTH.serialize(attributes_list);\r\n    let wd, hd, hgt, xa, ya, xtk, ytk, defans, graphtype, attr = [], where = 'mthmain';\r\n\r\n    /* sets the wd as width, hd as height, graphtype, xa as x-axis, ya as y-axis, xtk as x-axis interval ytk as y-axis interval variables values according to the name of key with their value */\r\n    for (let index = 0; index < attributes.length; index++) {\r\n        let cur_elem = attributes[index];\r\n        if (cur_elem.name == \"width\") wd = cur_elem.value;\r\n        if (cur_elem.name == \"height\") hd = cur_elem.value;\r\n        if (cur_elem.name == \"type\") graphtype = cur_elem.value;\r\n        if (cur_elem.name == \"xaxis\") xa = cur_elem.value;\r\n        if (cur_elem.name == \"yaxis\") ya = cur_elem.value;\r\n        if (cur_elem.name == \"xtickdistance\") xtk = cur_elem.value;\r\n        if (cur_elem.name == \"ytickdistance\") ytk = cur_elem.value;\r\n        if (cur_elem.name == \"equation\") defans = cur_elem.value;\r\n        attr[cur_elem.name] = cur_elem.name;\r\n    }\r\n\r\n    if (type == \"plotgraph\" && key) {\r\n        // select the element having id 'ID0' on Authoring area to plot the graph\r\n        where = '[id=\"' + key + '\"]';\r\n        // assign the value to hgt variable after checking the condition\r\n        hgt = (graphtype != 'plot') ? hd - 40 : hd - 75;\r\n        // sets width, heigth, x-interval, y-interval, id, data-equation class, data-xaxis, data-yaxis etc attributes of plot area\r\n        GRAPH_AUTH.storage.store('#' + key, 'attributes', attributes);\r\n        JS.setAttr(where, {\r\n            type: graphtype,\r\n            class: graphtype,\r\n            xaxis: xa,\r\n            yaxis: ya,\r\n            xtickdistance: xtk,\r\n            ytickdistance: ytk\r\n        })\r\n        // sets the attributes to authoring plot container and also select the element inside this container that id starts with keyword 'ID' and sets its width and height;\r\n        GRAPH_AUTH.storage.store('#mthmain', 'attributes', attributes);\r\n\r\n        JS.setCss('#mthmain', {\r\n            width: wd + 'px',\r\n            height: hd + 'px'\r\n        })\r\n\r\n        JS.selectAll('#mthmain [id^=\"ID\"]', 'css', {\r\n            width: wd + 'px',\r\n            height: hgt + 'px'\r\n        })\r\n        // plot the graph\r\n        GRAPH_AUTH.plotgraph(key, graphtype, xa, ya, xtk, ytk, defans);\r\n    }\r\n    // calls for update the xml\r\n    GRAPH_AUTH.updateXML(where, attributes);\r\n}\r\n\r\n/*\r\n * used to change the value of xml which is responsible for changing the view of graph\r\n */\r\nGRAPH_AUTH.updateXML = function(where, attributes) {\r\n    if (JS.select('#special_module_xml').value && JS.select('#special_module_xml').value.trim() != '' && !GRAPH_AUTH.stopUpdate) {\r\n        let xmlDom = JS.parseHtml(JS.select('#special_module_xml').value)\r\n        let insert;\r\n        if (where == \"mthmain\") {\r\n            insert = xmlDom;\r\n        } else {\r\n            insert = JS.find(xmlDom, where);\r\n        }\r\n\r\n        if (insert.nodeName) {\r\n            for (let index_no = 0; index_no < attributes.length; index_no += 1) {\r\n                insert.setAttribute(attributes[index_no].name, attributes[index_no].value);\r\n            }\r\n        }\r\n        /* assign the changed xml after formating to input element has type hidden on graph.js file having id 'special_module_xml' and then getChildXml takes this value and update the props of the component */\r\n        JS.select(\"#special_module_xml\").value = GRAPH_AUTH.formatXml(xmlDom.xml ? xmlDom.xml : (new XMLSerializer()).serializeToString(xmlDom));\r\n    }\r\n}\r\n\r\n/*\r\n * used to draw the graph according to the value of xml\r\n */\r\nGRAPH_AUTH.plotgraph = function(mid, type, xright, ytop, xticks, yticks, defans) {\r\n    JXG.Options.point.snapToGrid = true;\r\n    JXG.Options.point.snapSizeX = xticks;\r\n    JXG.Options.point.snapSizeY = yticks;\r\n    JXG.Options.point.showInfobox = true;\r\n    let xleft = -xright, ybottom = -ytop;\r\n\r\n    for (let index in JXG.boards) {\r\n        if ( JXG.boards[index].container.includes('Preview') == false) {\r\n            /* Delete a board and all its contents from the element where it is drawn. here passed agruments is the id of html where graph has drawn */\r\n            JXG.JSXGraph.freeBoard(JXG.boards[index]);\r\n        }\r\n    }\r\n\r\n    JS.selectAll('.footer_toolbox, .sliderbar', 'css', {\r\n        display: 'none'\r\n    });\r\n    JS.select('#deleteElm').classList.remove('h');\r\n\r\n    let board, axis, polygon;\r\n    if (JS.select('#' + mid).classList.contains('association')) {\r\n        /* Now it is not in used as it is discarded by Pete sir */\r\n        board = JXG.JSXGraph.initBoard(mid, {\r\n            boundingbox: [xleft, 3.4, xright, -5.4], //[-0.2, 3.4, 3.2, -5.4]\r\n            axis: false,\r\n            grid: false,\r\n            zoom: {\r\n                factorX: 1.25,\r\n                factorY: 1.25,\r\n                wheel: true,\r\n                needshift: true,\r\n                eps: 0.1\r\n            },\r\n            showCopyright: false,\r\n            shownavigation: false\r\n        });\r\n\r\n        axis = board.create('line', [\r\n            [0, 0.4],\r\n            [1, 0.4]\r\n        ], {\r\n            firstArrow: true,\r\n            lastArrow: true,\r\n            strokecolor: '#3E3E3E',\r\n            fillcolor: '#3E3E3E',\r\n            fixed: true\r\n        });\r\n        board.axis = axis;\r\n        board.create('ticks', [axis, xticks], {\r\n            minorTicks: 9,\r\n            majorHeight: 15,\r\n            minorHeight: 5,\r\n            drawLabels: true,\r\n            label: {\r\n                offset: [2, -10]\r\n            },\r\n            drawZero: true\r\n        });\r\n\r\n        polygon = board.create('polygon', [\r\n            [-(xright + xticks), -2.4],\r\n            [-(xright + xticks), -5.4],\r\n            [(xright + xticks), -5.4],\r\n            [(xright + xticks), -2.4]\r\n        ], {\r\n            fillcolor: \"#ccc\",\r\n            highlightfillcolor: \"#ccc\",\r\n            withLines: false\r\n        });\r\n    } else if (JS.select('#' + mid).classList.contains('plot')) {\r\n        /* Initialise a new board. First parameter denotes id of the element in which the board is painted. Second parameter denotes an object that sets some of the board properties. Most of these properties can be set via JXG.Options. */\r\n        board = JXG.JSXGraph.initBoard(mid, {\r\n            boundingbox: [xleft, ytop, xright, -1], //[-0.2, 3.4, 3.2, -5.4]\r\n            axis: false,\r\n            grid: false,\r\n            zoom: {\r\n                factorX: 1.25,\r\n                factorY: 1.25,\r\n                wheel: true,\r\n                needshift: true,\r\n                eps: 0.1\r\n            },\r\n            showCopyright: false,\r\n            shownavigation: false\r\n        });\r\n        axis = board.create('line', [\r\n            [0, 0],\r\n            [1, 0]\r\n        ], {\r\n            firstArrow: true,\r\n            lastArrow: true,\r\n            strokecolor: '#3E3E3E',\r\n            fillcolor: '#3E3E3E',\r\n            fixed: true\r\n        });\r\n        board.create('ticks', [axis, xticks], {\r\n            minorTicks: 0,\r\n            majorHeight: 15,\r\n            minorHeight: 5,\r\n            drawLabels: true,\r\n            label: {\r\n                offset: [-6, -16]\r\n            },\r\n            drawZero: true\r\n        });\r\n        board.xmax = xright;\r\n        JS.selectAll('.footer_toolbox', 'css', {\r\n            display: 'block'\r\n        });\r\n        JS.select('#deleteElm').classList.add('h');\r\n    } else {\r\n        board = JXG.JSXGraph.initBoard(mid, {\r\n            boundingbox: [xleft, ytop, xright, ybottom],\r\n            axis: false,\r\n            grid: false,\r\n            zoom: {\r\n                factorX: 1.25,\r\n                factorY: 1.25,\r\n                wheel: true,\r\n                needshift: true,\r\n                eps: 0.1\r\n            },\r\n            showCopyright: false,\r\n            shownavigation: false\r\n        });\r\n        let xaxis = board.create('axis', [\r\n            [-Math.abs(xticks / 2), 0],\r\n            [Math.abs(xticks / 2), 0]\r\n        ]);\r\n        xaxis.removeAllTicks();\r\n        board.create('ticks', [xaxis, xticks], {\r\n            strokeColor: '#ccc',\r\n            majorHeight: -1, // Need this because the JXG.Options one doesn't apply\r\n            drawLabels: true, // Needed, and only works for equidistant ticks\r\n            label: {\r\n                offset: [2, -10]\r\n            },\r\n            minorTicks: 3, // The NUMBER of small ticks between each Major tick\r\n            drawZero: true\r\n        });\r\n        let yaxis = board.create('axis', [\r\n            [0, -Math.abs(yticks / 2)],\r\n            [0, Math.abs(yticks / 2)]\r\n        ]);\r\n        yaxis.removeAllTicks();\r\n        board.create('ticks', [yaxis, yticks], {\r\n            strokeColor: '#ccc',\r\n            majorHeight: -1, // Need this because the JXG.Options one doesn't apply\r\n            drawLabels: true, // Only works for equidistant ticks\r\n            label: {\r\n                offset: [4, -6]\r\n            },\r\n            minorTicks: 3, // The NUMBER of small ticks between each Major tick\r\n            drawZero: false\r\n        });\r\n    }\r\n\r\n    board.prevPoint = null;\r\n    board.points = [];\r\n    board.xtick = xticks;\r\n    board.ytick = yticks;\r\n    board.xaxis = xright;\r\n    board.yaxis = ytop;\r\n    let pointy = 1,\r\n    getMouseCoordsAuth = function (e) {\r\n        let cPos = board.getCoordsTopLeftCorner(e),\r\n            absPos = JXG.getPosition(e, 0),\r\n            dx = absPos[0] - cPos[0],\r\n            dy = absPos[1] - cPos[1];\r\n        return new JXG.Coords(JXG.COORDS_BY_SCREEN, [dx, dy], board);\r\n    },\r\n    down = function (e) {\r\n        let canCreate = true, coords, el;\r\n        coords = getMouseCoordsAuth(e);\r\n        for (el in board.objects) {\r\n            if (JXG.isPoint(board.objects[el]) && board.objects[el].hasPoint(coords.scrCoords[1], coords.scrCoords[2])) {\r\n                canCreate = false;\r\n                isPointDraw = false;\r\n                break;\r\n            }\r\n        }\r\n        if (canCreate) {\r\n            let point, type;\r\n            if (!JS.select('#' + mid).classList.contains('association')) {\r\n                if (!JS.select('#' + mid).classList.contains('plot')) {\r\n                    point = board.create('point', [coords.usrCoords[1], coords.usrCoords[2]], {\r\n                        name: \"\"\r\n                    });\r\n                } else {\r\n                    point = board.create('point', [coords.usrCoords[1], pointy], {\r\n                        name: \"\",\r\n                        showInfobox: false\r\n                    });\r\n                    point.Xjc = point.X() + Math.abs(board.xtick);\r\n                    type = JS.select('.footer_toolbox li.btn_active').getAttribute('data-value');\r\n                    pointy++;\r\n                    if (pointy == ytop) board.off('down');\r\n                }\r\n            } else {\r\n                point = board.create('glider', [coords.usrCoords[1], coords.usrCoords[2], board.axis], {\r\n                    name: \"\",\r\n                    snapSizeX: (xticks / 10),\r\n                    snapSizeY: 0.4\r\n                });\r\n            }\r\n            GRAPH_AUTH.updateAndDraw(mid, point, type);\r\n            GRAPH_AUTH.updateAttrs(mid, point);\r\n            GRAPH_AUTH.updateXML('#' + mid, GRAPH_AUTH.storage.store('#' + mid, 'attributes'));\r\n        }\r\n    };\r\n    if (JS.select('#' + mid).classList.contains('association')) {\r\n        board.axis.off('down').on('down', down);\r\n    } else {\r\n        board.off('down').on('down', down);\r\n        if (JS.select('#' + mid).classList.contains('line') || JS.select('#' + mid).classList.contains('parabola')) {\r\n            JS.selectAll('.sliderbar', 'css', {\r\n                display: 'block',\r\n                width: parseInt(JS.select('#' + mid).style.width) + 2 + 'px',\r\n            });\r\n            if (JS.find('.sliderbar', 'label').nodeName) {\r\n                JS.find('.sliderbar', 'label').innerHTML = defans;\r\n            }\r\n        }\r\n    }\r\n    let options = JS.find('#mthmain','.selected-option');\r\n    if (options.nodeName) {\r\n        options.innerHTML = type;\r\n        options.style.textTransform = 'capitalize';\r\n    }\r\n}\r\n\r\n/*\r\n * After changing the value in xml it is responsilbe to draw the graph according to the updated value\r\n */\r\nGRAPH_AUTH.updateAndDraw  = function (mid, point, isUpdate) {\r\n    // used for update the equation of the sine and cosine graph\r\n    let attrs = GRAPH_AUTH.setInAssoc(GRAPH_AUTH.storage.store('#' + mid, 'attributes'));\r\n    if (JS.select('#' + mid).classList.contains('plot')) {\r\n        point.setAttribute({\r\n            fillcolor: '#52A8EC',\r\n            strokecolor: '#52A8EC'\r\n        });\r\n        if (JS.select('[data-value=\"' + isUpdate + '\"]').nodeName && JS.select('[data-value=\"' + isUpdate + '\"]').getAttribute('rel') && JS.select('[data-value=\"' + isUpdate + '\"]').getAttribute('rel').indexOf('segment') == 0) {\r\n            point.board.prevPoint = point.board.create('point', [point.Xjc, point.Y()], {\r\n                name: \"\",\r\n                fillcolor: '#52A8EC',\r\n                strokecolor: '#52A8EC',\r\n                fixed: true\r\n            });\r\n            point.for = point.board.create('line', [point.board.prevPoint, point], {\r\n                straightFirst: false,\r\n                straightLast: false,\r\n                firstArrow: false,\r\n                lastArrow: false,\r\n                strokeWidth: \"2\",\r\n                fillcolor: '#52A8EC',\r\n                strokecolor: '#52A8EC'\r\n            });\r\n            point.for.name = isUpdate;\r\n            switch (isUpdate) {\r\n                case \"SLH\":\r\n                    point.setAttribute({\r\n                        fillcolor: '#fff',\r\n                        strokecolor: '#52A8EC'\r\n                    });\r\n                    break;\r\n                case \"SRH\":\r\n                    point.board.prevPoint.setAttribute({\r\n                        fillcolor: '#fff',\r\n                        strokecolor: '#52A8EC'\r\n                    });\r\n                    break;\r\n                case \"SBH\":\r\n                    point.setAttribute({\r\n                        fillcolor: '#fff',\r\n                        strokecolor: '#52A8EC'\r\n                    });\r\n                    point.board.prevPoint.setAttribute({\r\n                        fillcolor: '#fff',\r\n                        strokecolor: '#52A8EC'\r\n                    });\r\n                    break;\r\n            }\r\n        } else if (JS.select('[data-value=\"' + isUpdate + '\"]').nodeName && JS.select('[data-value=\"' + isUpdate + '\"]').getAttribute('rel') && JS.select('[data-value=\"' + isUpdate + '\"]').getAttribute('rel').indexOf('ray') == 0 ) {\r\n            switch (isUpdate) {\r\n                case \"RL\":\r\n                    point.board.prevPoint = point.board.create('point', [-Math.abs(point.board.xmax), point.Y()], {\r\n                        visible: false\r\n                    });\r\n                    break;\r\n                case \"RR\":\r\n                    point.board.prevPoint = point.board.create('point', [Math.abs(point.board.xmax), point.Y()], {\r\n                        visible: false\r\n                    });\r\n                    break;\r\n                case \"RRH\":\r\n                    point.setAttribute({\r\n                        fillcolor: '#fff',\r\n                        strokecolor: '#52A8EC'\r\n                    });\r\n                    point.board.prevPoint = point.board.create('point', [-Math.abs(point.board.xmax), point.Y()], {\r\n                        visible: false\r\n                    });\r\n                    break;\r\n                case \"RLH\":\r\n                    point.setAttribute({\r\n                        fillcolor: '#fff'\r\n                    });\r\n                    point.board.prevPoint = point.board.create('point', [Math.abs(point.board.xmax), point.Y()], {\r\n                        visible: false\r\n                    });\r\n                    break;\r\n            }\r\n            point.for = point.board.create('line', [point.board.prevPoint, point], {\r\n                straightFirst: true,\r\n                straightLast: false,\r\n                firstArrow: true,\r\n                lastArrow: false,\r\n                strokeWidth: \"2\",\r\n                fillcolor: '#52A8EC',\r\n                strokecolor: '#52A8EC'\r\n            });\r\n            point.for.name = isUpdate;\r\n        }\r\n        point.board.on('move', function () {\r\n            if (point.Yjc != null) {\r\n                point.moveTo([point.X(), point.Yjc]);\r\n            }\r\n        });\r\n        point.on('over', function () {\r\n            if (!this.visProp.fixed) {\r\n                point.board.containerObj.style.cursor = 'e-resize';\r\n            }\r\n        });\r\n        point.on('out', function () {\r\n            if (!this.visProp.fixed) {\r\n                point.board.containerObj.style.cursor = 'default';\r\n            }\r\n        });\r\n    } else {\r\n        point.board.points.push(point);\r\n        if (point.board.prevPoint == null) {\r\n            point.board.prevPoint = point;\r\n        } else {\r\n            if (JS.select('#' + mid).classList.contains('line')) {\r\n                point.for = point.board.create('line', [point, point.board.prevPoint], {\r\n                    straightFirst: true,\r\n                    straightLast: true,\r\n                    firstArrow: true,\r\n                    lastArrow: true,\r\n                    strokeWidth: 2\r\n                });\r\n                GRAPH_AUTH.getEquation(mid, point.board.prevPoint.X(), point.board.prevPoint.Y(), point.X(), point.Y());\r\n            } else if (JS.select('#' + mid).classList.contains('circle')) {\r\n                point.for = point.board.create('circle', [point.board.prevPoint, point], {\r\n                    straightFirst: true,\r\n                    straightLast: true,\r\n                    firstArrow: true,\r\n                    lastArrow: true,\r\n                    strokeWidth: 2\r\n                });\r\n                point.for.center.for = point.for;\r\n            } else if (JS.select('#' + mid).classList.contains('segment')) {\r\n                point.for = point.board.create('line', [point, point.board.prevPoint], {\r\n                    straightFirst: false,\r\n                    straightLast: false,\r\n                    firstArrow: false,\r\n                    lastArrow: false,\r\n                    strokeWidth: 2\r\n                });\r\n            } else if (JS.select('#' + mid).classList.contains('vector')) {\r\n                point.for = point.board.create('line', [point, point.board.prevPoint], {\r\n                    straightFirst: false,\r\n                    straightLast: false,\r\n                    firstArrow: true,\r\n                    lastArrow: false,\r\n                    strokeWidth: 2\r\n                });\r\n            } else if (JS.select('#' + mid).classList.contains('ray')) {\r\n                point.for = point.board.create('line', [point, point.board.prevPoint], {\r\n                    straightFirst: true,\r\n                    straightLast: false,\r\n                    firstArrow: true,\r\n                    lastArrow: false,\r\n                    strokeWidth: 2\r\n                });\r\n            } else if (JS.select('#' + mid).classList.contains('parabola')) {\r\n                point.board.prevPoint.setAttribute({\r\n                    fixed: true\r\n                });\r\n                point.setAttribute({\r\n                    fixed: true\r\n                });\r\n                let fx = GRAPH_AUTH.getEquation(mid, point.board.prevPoint.X(), point.board.prevPoint.Y(), point.X(), point.Y());\r\n                let f = point.board.jc.snippet(fx, true, 'x', true);\r\n                point.for = point.board.create('functiongraph', [f]);\r\n                point.for.point1 = point.board.prevPoint;\r\n                point.for.point2 = point;\r\n            } else if (JS.select('#' + mid).classList.contains('polygon')) {\r\n                if (typeof isUpdate == \"undefined\") {\r\n                    point.for = point.board.create('polygon', [point.board.prevPoint, point]);\r\n                    point.board.prevPoint = point;\r\n                } else {\r\n                    if (isUpdate.length == point.board.points.length) {\r\n                        point.for = point.board.create('polygon', point.board.points, {\r\n                            boadres: {\r\n                                strokecolor: \"darkgray\",\r\n                                strokewidth: 2\r\n                            }\r\n                        });\r\n                        point.for.parents.for = point.for;\r\n                        point.board.prevPoint = null;\r\n                        point.board.points = [];\r\n                    }\r\n                }\r\n            } else if (JS.select('#' + mid).classList.contains('sine')) {\r\n                //point.for = point.board.create('functiongraph', [function(x) {return Math.sin(x);}]);\r\n                let i = point.board.prevPoint,\r\n                    s = point;\r\n                point.for = point.board.create('curve', [function (e) {\r\n                    return e;\r\n                }, function (e) {\r\n                    let t = i.coords.usrCoords,\r\n                        n = s.coords.usrCoords,\r\n                        r = t[1],\r\n                        o = t[2],\r\n                        u = n[1],\r\n                        a = n[2],\r\n                        f = a - o,\r\n                        l = 1 / (4 * (u - r)),\r\n                        constant;\r\n                    constant = Math.round((o - (f * Math.sin((Math.PI * r) / 180))));\r\n                    if (constant.toString().indexOf('-') > -1) {\r\n                        attrs.equation = \"y=\" + f + '*sin(x)' + constant;\r\n                    } else {\r\n                        attrs.equation = \"y=\" + f + '*sin(x)+' + constant;\r\n                    }\r\n                    GRAPH_AUTH.storage.store('#' + mid, 'attributes',  GRAPH_AUTH.setInIndex(attrs));\r\n                    return f * Math.sin(2 * Math.PI * l * (e - r)) + o;\r\n                }]);\r\n                point.for.point1 = point.board.prevPoint;\r\n                point.for.point2 = point;\r\n            } else if (JS.select('#' + mid).classList.contains('cosine')) {\r\n                let i = point.board.prevPoint,\r\n                    s = point;\r\n                point.for = point.board.create('curve', [function (e) {\r\n                    return e;\r\n                }, function (e) {\r\n                    let t = i.coords.usrCoords,\r\n                        n = s.coords.usrCoords,\r\n                        r = t[1],\r\n                        o = t[2],\r\n                        u = n[1],\r\n                        a = n[2],\r\n                        f = (a - o),\r\n                        l = 1 / (4 * (r - u)),\r\n                        constant1;\r\n                    constant1 = Math.round((o - (f * Math.cos((Math.PI * r) / 180))));\r\n                    if (constant1.toString().indexOf('-') > -1) {\r\n                        attrs.equation = \"y=\" + f + '*cos(x)' + constant1;\r\n                    } else {\r\n                        attrs.equation = \"y=\" + f + '*cos(x)+' + constant1;\r\n                    }\r\n                    GRAPH_AUTH.storage.store('#' + mid, 'attributes',  GRAPH_AUTH.setInIndex(attrs));\r\n                    return f * Math.cos(2 * Math.PI * l * (e - u)) + o;\r\n                }]);\r\n                point.for.point1 = point.board.prevPoint;\r\n                point.for.point2 = point;\r\n            }\r\n            if (!JS.select('#' + mid).classList.contains('polygon')) {\r\n                point.board.prevPoint = null;\r\n            }\r\n        }\r\n    }\r\n    point.on('down', function () {\r\n        if (JS.select('#' + mid).classList.contains('plot')) {\r\n            this.Yjc = this.Y();\r\n            if (typeof this.for == \"undefined\") this.startPosition = this.X() + ',' + this.name;\r\n            else this.startPosition = this.for.point2.X() + ',' + this.for.point1.X() + ',' + this.for.name;\r\n        } else if (JS.select('#' + mid).classList.contains('association')) {\r\n            this.startPosition = this.X().toFixed(1) + \",\" + this.Y().toFixed(1) + ',' + this.X().toFixed(1);\r\n        } else {\r\n            this.startPosition = this.X() + \",\" + this.Y();\r\n            if (JS.select('#' + mid).classList.contains('polygon') && point.board.points.length > 0) {\r\n                if (this.X() + \",\" + this.Y() == point.board.points[0].X() + \",\" + point.board.points[0].Y()) //point.board.hasPoint(this.X(), this.Y())\r\n                {\r\n                    point.for = point.board.create('polygon', point.board.points, {\r\n                        boadres: {\r\n                            strokecolor: \"darkgray\",\r\n                            strokewidth: 2\r\n                        }\r\n                    });\r\n                    point.for.parents.for = point.for;\r\n                    point.board.prevPoint = null;\r\n                    point.board.points = [];\r\n                }\r\n            }\r\n        }\r\n        if (typeof this.for != \"undefined\" && this.for.elType == \"circle\") {\r\n            this.startPosition = Math.round(this.for.Radius());\r\n        }\r\n    });\r\n    point.on('up', function () {\r\n        if (! JS.select('#deleteElm').children[0].classList.contains('active')) {\r\n            if (isPointDraw) {\r\n                // update the attributes of plot canvas container\r\n                GRAPH_AUTH.updateAttrs(mid, this, true);\r\n                // update the xml according to update the attributes\r\n                GRAPH_AUTH.updateXML('#' + mid, GRAPH_AUTH.storage.store('#' + mid, 'attributes'));\r\n            }\r\n        } else {\r\n            /* removes the plotted point when mouse up on it and according to this also removes graph if the children of the element having id deleteElm has active class */\r\n            if (JS.select('#' + mid).classList.contains('point')) {\r\n                //removes the point from board on which mouse up\r\n                point.board.removeObject(this);\r\n                // co-ordinate of point on which mouse up\r\n                this.position = this.startPosition;\r\n            } else if (JS.select('#' + mid).classList.contains('association')) {\r\n                /* discarded by Pete sir */\r\n                point.board.removeObject(this);\r\n                this.position = this.startPosition;\r\n            } else if (JS.select('#' + mid).classList.contains('circle')) {\r\n                //removes the reference of the circle\r\n                point.board.removeObject(this);\r\n                // removes the center of the circle\r\n                point.board.removeObject(this.for.center);\r\n                /* removes second point which lies on circumference of the circle for decide the radius of circle */\r\n                point.board.removeObject(this.for.point2);\r\n                /* contains center and radius of the circle which is deleted */\r\n                this.position = this.for.center.X() + \",\" + this.for.center.Y() + \"/\" + Math.round(this.for.Radius());\r\n            } else if (JS.select('#' + mid).classList.contains('polygon') && typeof this.for != \"undefined\") {\r\n                let vertices = [];\r\n                if (typeof this.for.parents.for != \"undefined\") {\r\n                    for (let i = 0; i < point.for.vertices.length; i++) {\r\n                        // removes the vertics of the polygon with specified index\r\n                        point.board.removeObject(this.for.parents.for.vertices[i]);\r\n                        // push the co-ordinates of the vertics at specified index in vertices array\r\n                        vertices.push(this.for.parents.for.vertices[i].X() + ',' + this.for.parents.for.vertices[i].Y());\r\n                    }\r\n                    // removes the polygon reference\r\n                    point.board.removeObject(this.for.parents.for);\r\n                    // removes last index value from vertices array\r\n                    vertices.pop(vertices[vertices.length - 1]);\r\n                    // assign the values of vertices array after joining it by '|' into 'this.position'\r\n                    this.position = vertices.join('|');\r\n                } else {\r\n                    JS && JS.showmsg(l.last_point, 3000);\r\n                    return false;\r\n                }\r\n            } else {\r\n                if (typeof this.for != \"undefined\") {\r\n                    // removes the point reference from plot board\r\n                    point.board.removeObject(this.for);\r\n                    // removes the first point from plot board\r\n                    point.board.removeObject(this.for.point1);\r\n                    // removes the second point from plot board\r\n                    point.board.removeObject(this.for.point2);\r\n                    // sets the position key value for manage the anskey\r\n                    this.position = this.for.point1.X() + ',' + this.for.point1.Y() + '|' + this.for.point2.X() + ',' + this.for.point2.Y();\r\n                } else {\r\n                    if (JS.select('#' + mid).classList.contains('parabola')) {\r\n                        JS && JS.showmsg(l.curve_start_point, 3000);\r\n                    }\r\n                }\r\n            }\r\n\r\n            /* for warning in parabola when clicked other than last point of the curve to delete it */\r\n            if (JS.select('#' + mid).classList.contains('parabola')) {\r\n                if (typeof this.for != \"undefined\") {\r\n                    // changes the attributes value of plot canvas container\r\n                    GRAPH_AUTH.updateDeleteAttrsAuth(mid, this.position);\r\n                    // updates the xml\r\n                    GRAPH_AUTH.updateXML('#' + mid, GRAPH_AUTH.storage.store('#' + mid, 'attributes'));\r\n                    // removes the active class from delete button\r\n                    JS.select('#deleteElm').children[0].classList.remove('active');\r\n                } else {\r\n                    console.warn({\r\n                        msg: l.warning_this_for\r\n                    });\r\n                }\r\n            } else {\r\n                // changes the attributes value of plot canvas container\r\n                GRAPH_AUTH.updateDeleteAttrsAuth(mid, this.position);\r\n                // updates the xml\r\n                GRAPH_AUTH.updateXML('#' + mid, GRAPH_AUTH.storage.store('#' + mid, 'attributes'));\r\n            }\r\n\r\n        }\r\n    });\r\n    point.on('over', function () {\r\n        /* if delete button on preview container has active classs then on hover it, it shows the text 'Delete',hides the box which contains the co-ordinate of that point on which mouseover and sets its stroke and fill color to 'black' */\r\n        if (!this.visProp.fixed && JS.select('#deleteElm').children[0].classList.contains('active')) {\r\n            if (JS.select('#' + mid).classList.contains('point')) {\r\n                this.setAttribute({\r\n                    name: 'Delete',\r\n                    showInfobox: false,\r\n                    fillcolor: '#000',\r\n                    strokecolor: '#000'\r\n                });\r\n            } else if (JS.select('#' + mid).classList.contains('circle') && typeof this.for != \"undefined\") {\r\n                this.for.center.setAttribute({\r\n                    name: 'Delete',\r\n                    showInfobox: false,\r\n                    fillcolor: '#000',\r\n                    strokecolor: '#000'\r\n                });\r\n                this.for.point2.setAttribute({\r\n                    name: 'Delete',\r\n                    showInfobox: false,\r\n                    fillcolor: '#000',\r\n                    strokecolor: '#000'\r\n                });\r\n            } else if (JS.select('#' + mid).classList.contains('polygon') && typeof this.for != \"undefined\") {\r\n                if (typeof this.for.parents.for != \"undefined\") {\r\n                    this.setAttribute({\r\n                        name: 'Delete',\r\n                        showInfobox: false,\r\n                        fillcolor: '#000',\r\n                        strokecolor: '#000'\r\n                    });\r\n                }\r\n            } else if (JS.select('#' + mid).classList.contains('sine') || JS.select('#' + mid).classList.contains('cosine')) {\r\n                if (typeof this.for != \"undefined\") this.for.point2.setAttribute({\r\n                    name: 'Delete',\r\n                    showInfobox: false,\r\n                    fillcolor: '#000',\r\n                    strokecolor: '#000'\r\n                });\r\n            } else if (JS.select('#' + mid).classList.contains('association')) {\r\n                this.setAttribute({\r\n                    name: 'Delete',\r\n                    showInfobox: false,\r\n                    fillcolor: '#000',\r\n                    strokecolor: '#000'\r\n                });\r\n            } else {\r\n                if (typeof this.for != \"undefined\") this.for.point1.setAttribute({\r\n                    name: 'Delete',\r\n                    showInfobox: false,\r\n                    fillcolor: '#000',\r\n                    strokecolor: '#000'\r\n                });\r\n            }\r\n        }\r\n    });\r\n    point.on('out', function () {\r\n        /* if delete button on preview container has active classs then mouseout on it, it sets the text blank, allow to show the box which contains the co-ordinate of that point on which mouseout and sets its stroke and fill color to 'red' */\r\n        if (!this.visProp.fixed && JS.select('#deleteElm').children[0].classList.contains('active')) {\r\n            if (JS.select('#' + mid).classList.contains('point')) {\r\n                this.setAttribute({\r\n                    name: '',\r\n                    showInfobox: true,\r\n                    fillcolor: '#ff0000',\r\n                    strokecolor: '#ff0000'\r\n                });\r\n            } else if (JS.select('#' + mid).classList.contains('circle') && typeof this.for != \"undefined\") {\r\n                this.for.center.setAttribute({\r\n                    name: '',\r\n                    showInfobox: true,\r\n                    fillcolor: '#ff0000',\r\n                    strokecolor: '#ff0000'\r\n                });\r\n                this.for.point2.setAttribute({\r\n                    name: '',\r\n                    showInfobox: true,\r\n                    fillcolor: '#ff0000',\r\n                    strokecolor: '#ff0000'\r\n                });\r\n            } else if (JS.select('#' + mid).classList.contains('polygon') && typeof this.for != \"undefined\") {\r\n                if (typeof this.for.parents.for != \"undefined\") this.setAttribute({\r\n                    name: '',\r\n                    showInfobox: true,\r\n                    fillcolor: '#ff0000',\r\n                    strokecolor: '#ff0000'\r\n                });\r\n            } else if (JS.select('#' + mid).classList.contains('sine') || JS.select('#' + mid).classList.contains('cosine')) {\r\n                if (typeof this.for != \"undefined\") this.for.point2.setAttribute({\r\n                    name: '',\r\n                    showInfobox: false,\r\n                    fillcolor: '#ff0000',\r\n                    strokecolor: '#ff0000'\r\n                });\r\n            } else if (JS.select('#' + mid).classList.contains('association')) {\r\n                this.setAttribute({\r\n                    name: '',\r\n                    showInfobox: true,\r\n                    fillcolor: '#ff0000',\r\n                    strokecolor: '#ff0000'\r\n                });\r\n            } else {\r\n                if (typeof this.for != \"undefined\") this.for.point1.setAttribute({\r\n                    name: '',\r\n                    showInfobox: true,\r\n                    fillcolor: '#ff0000',\r\n                    strokecolor: '#ff0000'\r\n                });\r\n            }\r\n        }\r\n    });\r\n}\r\n\r\n\r\n/*\r\n * used to update the plot canvas container's attributes after removing the point\r\n */\r\nGRAPH_AUTH.updateDeleteAttrsAuth  = function (mid, point) {\r\n    // object having keys with the name of attributes and values as their values\r\n    let attrs = GRAPH_AUTH.setInAssoc(GRAPH_AUTH.storage.store('#' + mid, 'attributes'));\r\n    let ans = attrs.anskey.split('|'), val = [];\r\n    switch (JS.select('#' + mid).getAttribute('type')) {\r\n        case \"point\":\r\n        case \"circle\":\r\n            for (let index = 0; index < ans.length; index++) {\r\n                if (ans[index] != point) {\r\n                    val.push(ans[index]);\r\n                }\r\n            }\r\n            break;\r\n        case \"line\":\r\n        case \"segment\":\r\n        case \"ray\":\r\n        case \"vector\":\r\n        case \"sine\":\r\n        case \"cosine\":\r\n        case \"association\":\r\n            if (point != null) {\r\n                let sub_point = point.split('|');\r\n                val = ans.filter( function(element) { return !this.has(element) }, new Set(sub_point) );\r\n            }\r\n            break;\r\n    }\r\n    // sets the anskey of the attrs object\r\n    attrs.anskey = val.join('|');\r\n    // sets the reflection of the attrs object blank and equation 'y=x + 1'\r\n    attrs.reflection = '';\r\n    attrs.equation = '';\r\n    // sets the attributes of the plot canvas container\r\n    GRAPH_AUTH.storage.store('#' + mid, 'attributes', GRAPH_AUTH.setInIndex(attrs));\r\n}\r\n\r\n/*\r\n * used to update the attributes value \r\n */\r\nGRAPH_AUTH.updateAttrs  = function (mid, point, isUpdate) {\r\n    /* object having keys as attributes name and values as attributes values of plot canvas container */\r\n    let attrs = GRAPH_AUTH.setInAssoc(GRAPH_AUTH.storage.store('#' + mid, 'attributes'));\r\n    // set the anskey blank if it is undefined\r\n    if (typeof attrs.anskey == \"undefined\") {\r\n        attrs.anskey = \"\";\r\n    }\r\n    if (typeof point.for != \"undefined\" && point.for.elType == \"circle\") {\r\n        // used to set the center co-ordintes of the circle\r\n        let center = point.for.center,\r\n            cp = center.X() + \",\" + center.Y();\r\n        if (typeof point.startPosition != \"undefined\") cp += '/' + point.startPosition;\r\n        // updates the anskey value\r\n        attrs.anskey = attrs.anskey.replace(cp, center.X() + \",\" + center.Y() + \"/\" + Math.round(point.for.Radius()));\r\n        if (point.for.Radius()) {\r\n            attrs.equation = \"(x-\" + center.X() + \")^2+(y-\" + center.Y() + \")^2=\" + Math.round(point.for.Radius()) + \"^2\";\r\n            attrs.equation = attrs.equation.replace(/--/gm, '+');\r\n        }\r\n    } else if (isUpdate) {\r\n        if (attrs.reflection == undefined || attrs.reflection == '') {\r\n            /* replaces the position of the point on graph board from attrs.reflection to blank on which mouseup when delete button is not active */\r\n            attrs.reflection = attrs.reflection.replace(point.startPosition, '');\r\n            /* creates array of x an y position of the point on which mouseup when delete button is not active */\r\n            point.startPosition = point.startPosition.split(',');\r\n            if (attrs.polygon_type == '1') {\r\n                /* replaces the x co-ordinate and y co-ordinate with multiply by -1 separated with comma of the point on which mouse up to blank from anskey of attrs object */\r\n                attrs.anskey = attrs.anskey.replace(point.startPosition[0] + ',' + point.startPosition[1] * -1, '');\r\n            } else if (attrs.polygon_type == '2') {\r\n                /* replaces the y co-ordinate and x co-ordinate with multiply by -1 separated with comma of the point on which mouse up to blank from anskey of attrs object */\r\n                attrs.anskey = attrs.anskey.replace(point.startPosition[0] * -1 + ',' + point.startPosition[1], '');\r\n            } else if (attrs.polygon_type == '3') {\r\n                /* replaces the x and y co-ordinate with multiply by -1 separated with comma of the point on which mouse up to blank from anskey of attrs object */\r\n                attrs.anskey = attrs.anskey.replace(point.startPosition[0] * -1 + ',' + point.startPosition[1] * -1, '');\r\n            }\r\n        }\r\n\r\n    }\r\n    if (typeof point.for == \"undefined\" || point.for.elType != \"circle\") {\r\n        if (attrs.type != \"polygon\") {\r\n            // returns an array for which callback function returns true\r\n            attrs.anskey = attrs.anskey.split('|').filter((el) => {return el});\r\n            if (JS.select('#' + mid).classList.contains('association')) {\r\n                /* discarded by Pete sir */\r\n                attrs.anskey.push(point.X().toFixed(1) + ',' + point.Y().toFixed(1) + ',' + point.X().toFixed(1));\r\n            } else if (JS.select('#' + mid).classList.contains('plot')) {\r\n                if (typeof point.for == \"undefined\") {\r\n                    // push the co-ordinates of point into attrs.anskey array when it is plotted on plot board\r\n                    attrs.anskey.push(point.X() + ',' + point.name);\r\n                } else {\r\n                    // push the co-ordinates of point into attrs.anskey array when it is plotted on plot board\r\n                    attrs.anskey.push(point.for.point2.X() + ',' + point.for.point1.X() + ',' + point.for.name);\r\n                }\r\n            } else {\r\n                // push the co-ordinates of point into attrs.anskey array when it is plotted on plot board\r\n                attrs.anskey.push(point.X() + ',' + point.Y());\r\n            }\r\n            // converted attrs.anskey array into string\r\n            attrs.anskey = attrs.anskey.join('|');\r\n            if (JS.select('#' + mid).classList.contains('line') || JS.select('#' + mid).classList.contains('parabola')) {\r\n                let prev = null;\r\n                let ans_keys = attrs.anskey.split('|');\r\n                for (let index = 0; index < ans_keys.length; index++) {\r\n                    let key = ans_keys[index].split(',');\r\n                    if (prev == null) {\r\n                        prev = key;\r\n                    } else {\r\n                        attrs.equation = GRAPH_AUTH.getEquation(mid, prev[0], prev[1], key[0], key[1]);\r\n                    }\r\n                }\r\n            }\r\n        } else {\r\n            if (attrs.polygon_type != '0') {\r\n                // returns an array for which callback function returns true\r\n                attrs.reflection = attrs.reflection.split('|').filter((el) => {return el});\r\n                // push the x, y co-ordinates of plotted point into attrs.reflection array\r\n                attrs.reflection.push(point.X() + ',' + point.Y());\r\n                // converts attrs.reflection array into string\r\n                attrs.reflection = attrs.reflection.join('|');\r\n                if (point.board.points.length == 0) {\r\n                    /* split the attrs.reflection string from '|' and again join it with '|'. why it is used i do not know but it should not be there */\r\n                    attrs.reflection = attrs.reflection.split('|').join('|');\r\n                }\r\n            }\r\n            // returns an array for which callback function returns true\r\n            attrs.anskey = attrs.anskey.split('|').filter((el) => {return el});\r\n            if (attrs.polygon_type == '0') {\r\n                /* pushes the x and y co-ordinate separated with comma of the plotted point into attrs.anskey array */\r\n                attrs.anskey.push(point.X() + ',' + point.Y());\r\n            } else if (attrs.polygon_type == '1') {\r\n                /* pushes the x co-ordinate  and y co-ordinate with multiply by -1 separated with comma of the plotted point into attrs.anskey array */\r\n                attrs.anskey.push(point.X() + ',' + (point.Y() * (-1)));\r\n            } else if (attrs.polygon_type == '2') {\r\n                /* pushes the y co-ordinate  and x co-ordinate with multiply by -1 separated with comma of the plotted point into attrs.anskey array */\r\n                attrs.anskey.push((point.X() * (-1)) + ',' + point.Y());\r\n            } else if (attrs.polygon_type == '3') {\r\n                /* pushes the x and y co-ordinate with multiply by -1 separated with comma of the plotted point into attrs.anskey array */\r\n                attrs.anskey.push((point.X() * (-1)) + ',' + (point.Y() * (-1)));\r\n            }\r\n            attrs.anskey = attrs.anskey.join('|');\r\n            if (point.board.points.length == 0) {\r\n                /* split the attrs.anskey string from '|' and again join it with '|'. why it is used i do not know but it should not be there */\r\n                attrs.anskey = attrs.anskey.split('|').join('|');\r\n            }\r\n        }\r\n    }\r\n    // sets equation to the label tag inside element has class sliderbar\r\n    if (JS.find('.sliderbar','label').nodeName) {\r\n        JS.find('.sliderbar','label').innerHTML = attrs.equation;\r\n    }\r\n    // sets the attributes of plot canvas container\r\n    GRAPH_AUTH.storage.store('#' + mid, 'attributes',  GRAPH_AUTH.setInIndex(attrs))\r\n}\r\n\r\n/*\r\n * used to return an object of attributes with keys as name of attributes and values as their values\r\n */\r\nGRAPH_AUTH.setInAssoc  = function (attrs) {\r\n    let ret = {};\r\n    if (attrs) {\r\n        for (let index = 0; index < attrs.length; index++) {\r\n            ret[attrs[index].name] = attrs[index].value;\r\n        }\r\n    }\r\n    return ret;\r\n}\r\n\r\n\r\n/*\r\n * return an object having names as attributes name and values as their values\r\n */\r\nGRAPH_AUTH.setInIndex  = function (attrs) {\r\n    let ret = [];\r\n    if (attrs) {\r\n        for (let index in attrs) {\r\n            ret.push({\r\n                \"name\": index,\r\n                \"value\": attrs[index]\r\n            });\r\n        }\r\n    }\r\n    return ret;\r\n}\r\n\r\n/*\r\n * used to generate the equation of parabola or line\r\n */\r\nGRAPH_AUTH.getEquation  = function (mid, prevX, prevY, pointX, pointY) {\r\n    let equation, a, attrs = GRAPH_AUTH.setInAssoc(GRAPH_AUTH.storage.store('#' + mid, 'attributes')),\r\n        eq = attrs.equation.split(\"=\"), eqn;\r\n    switch (JS.select('#' + mid).getAttribute('type')) {\r\n        case \"parabola\": {\r\n                if (eq[0].indexOf('y^2') == -1) {\r\n                    // it will applied when region bounded on x-axis\r\n                    a = Math.round(eval((pointY - prevY) / (Math.pow((pointX - prevX), 2))) * 10) / 10;\r\n                    // equation of the parabola\r\n                    equation = \"y=a*(x-h)^2+k\";\r\n                    // puts the value of a, h, k in equation of parabola and changes the operators according to math operators theory as (- * - = +) and (+ * - = -)\r\n                    eqn = equation.replace('a', a).replace('h', prevX).replace('k', prevY).replace('--', '+').replace('+-', '-');\r\n                }\r\n                break;\r\n            }\r\n        case \"line\": {\r\n            // defines the line equation\r\n            equation = \"(y-y1)=m*(x-x1)\";\r\n            // tangent found by using formula m = (y2 - y1)/(x2 - x1)\r\n            let m = Math.round(eval((pointY - prevY) / (pointX - prevX)) * 10) / 10;\r\n            // puts the value of x1, y1, m in equation\r\n            eqn = equation.replace('m', m).replace('y1', prevY).replace('x1', prevX);\r\n            /* applied operator according to math operators as in math (- * - = +), (+ * + = +), (- * + = -) and (+ * - = -) */\r\n            eqn = eqn.replace(/\\-\\-/g, '+').replace(/\\+\\+/g, '+').replace(/\\-\\+/g, '-').replace(/\\+\\-/g, '-');\r\n            break;\r\n        }\r\n    }\r\n    return eqn;\r\n}\r\n\r\n/*\r\n * used to draw the circle\r\n */\r\nGRAPH_AUTH.drawCircle  = function (mid, brd, val) {\r\n    let key = val.split('/'), point;\r\n    for (let index = 0; index < key.length; index ++) {\r\n        let ans_point = key[0].split(',');\r\n        if (key[index].indexOf(',') != -1) {\r\n            point = brd.create('point', [parseInt(ans_point[0]), parseInt(ans_point[1])], {\r\n                name: \"\"\r\n            });\r\n            // prevPoint = point;\r\n        } else {\r\n            let next = (parseInt(ans_point[0]) - parseInt(key[1]));\r\n            point = brd.create('point', [parseInt(next), parseInt(ans_point[1])], {\r\n                name: \"\"\r\n            });\r\n        }\r\n        GRAPH_AUTH.updateAndDraw(mid, point);\r\n    }\r\n}\r\n\r\n/*\r\n * used to format the xml and according to this can be seen an updated graph view.\r\n */\r\nGRAPH_AUTH.formatXml = function (xml) {\r\n    /* pattern of finding data where closing, opening angular bracket found together and optionally backslash meets but i think pattern is wrong */\r\n    let reg = /(>)(<)(\\/*)/g;\r\n    /* pattern to match all spaces and then any characters and then one or more numbers of spaces and character back slash and n meets together */\r\n    let wsexp = / *(.*) +\\n/g;\r\n    /* pattern for matching any data between open and closing angular bracket and one or more number of back slash and n character where meets together */\r\n    let contexp = /(<.+>)(.+\\n)/g;\r\n    // replaces back slash and t characters where both meets together to blank\r\n    xml = xml.replace(/\\t/g, \"\");\r\n    // replaces the matching pattern from xml to given data\r\n    xml = xml.replace(reg, '$1\\n$2$3').replace(wsexp, '$1\\n').replace(contexp, '$1\\n$2');\r\n    let formatted = '';\r\n    let lines = xml.split('\\n');\r\n    let indent = 0;\r\n    let lastType = 'other';\r\n    // 4 types of tags - single, closing, opening, other (text, doctype, comment) - 4*4 = 16 transitions \r\n    let transitions = {\r\n        'single->single': 0,\r\n        'single->closing': -1,\r\n        'single->opening': 0,\r\n        'single->other': 0,\r\n        'closing->single': 0,\r\n        'closing->closing': -1,\r\n        'closing->opening': 0,\r\n        'closing->other': 0,\r\n        'opening->single': 1,\r\n        'opening->closing': 0,\r\n        'opening->opening': 1,\r\n        'opening->other': 1,\r\n        'other->single': 0,\r\n        'other->closing': -1,\r\n        'other->opening': 0,\r\n        'other->other': 0\r\n    };\r\n    for (let i = 0; i < lines.length; i++) {\r\n        let ln = lines[i];\r\n        if (ln != '') {\r\n            let single = Boolean(ln.match(/<.+\\/>/)); // is this line a single tag? ex. <br />\r\n            let closing = Boolean(ln.match(/<\\/.+>/)); // is this a closing tag? ex. </a>\r\n            let opening = Boolean(ln.match(/<[^!].*>/)); // is this even a tag (that's not <!something>)\r\n            let type = single ? 'single' : closing ? 'closing' : opening ? 'opening' : 'other';\r\n            let fromTo = lastType + '->' + type;\r\n            lastType = type;\r\n            let padding = '';\r\n            indent += transitions[fromTo];\r\n            for (let j = 0; j < indent; j++) {\r\n                padding += '\\t';\r\n            }\r\n            if (fromTo == 'opening->closing') {\r\n                formatted = formatted.substr(0, formatted.length - 1) + ln + '\\n'; // substr removes line break (\\n) from prev loop\r\n            } else {\r\n                // if opening and closing tab not found then adds tab then charaters and line break character\r\n                formatted += padding + ln + '\\n';\r\n            }\r\n        }\r\n    }\r\n    // returns formatted xml\r\n    return formatted;\r\n};\r\nexport default GRAPH_AUTH;","<!--\r\n *  File Name   : MathModal.svelte\r\n *  Description : Responsible for MathModal\r\n *  Author      : Ayush Srivastava\r\n *  Package     : clsSMGRAPH (Math Modal)\r\n *  Last update : 02-Mar-2021\r\n *  Last Updated By : Ayush Srivastava\r\n-->\r\n<script>\r\n    export let l;\r\n    export let is_association;\r\n</script>\r\n<div>\r\n    <div id=\"authoring-modal\" class=\"modal fade\" tabIndex=\"-1\">\r\n        <div class=\"modal-dialog modal-dialog-centered\">\r\n            <div class=\"modal-content\">\r\n                <div class=\"modal-header\">\r\n                    <h4 class=\"modal-title\">{l.plot_graph}</h4>\r\n                    <button type=\"button\" class=\"close\" data-bs-dismiss=\"modal\">&times;</button>\r\n                </div>\r\n                <div class=\"modal-body overflow-y\">\r\n                    <div class=\"graphitem plotgraph h\">\r\n                        <div class=\"row mx-0\">\r\n                            <div class=\"col-sm-3 px-1\">\r\n                                <div class=\"form-group text-left\">\r\n                                    <label class=\"control-label font-weight-normal mb-0 d-inline-flex\" for=\"graph-width\"><div class=\"mendatory_label float-left\">{l.width_label}</div><div class=\"mendatory_field\"></div></label>\r\n                                    <input type=\"text\" class=\"integer validate form-control\" id=\"graph-width\" name=\"width\" placeholder={l.graph_width} defaultValue=\"500\" />\r\n                                </div>\r\n                            </div>\r\n                            <div class=\"col-sm-3 px-1\">\r\n                                <div class=\"form-group text-left\">\r\n                                    <label class=\"control-label font-weight-normal mb-0 d-inline-flex\" for=\"graph-height\"><div class=\"mendatory_label float-left\">{l.height_label}</div><div class=\"mendatory_field\"></div></label>\r\n                                    <input type=\"text\" class=\"integer validate form-control\" id=\"graph-height\" name=\"height\" placeholder={l.graph_height} defaultValue=\"500\" />\r\n                                </div>\r\n                            </div>\r\n                            <div class=\"col-sm-6 px-1\">\r\n                                <div class=\"form-group text-left\">\r\n                                    <label class=\"control-label font-weight-normal mb-0 d-inline-flex\" for=\"graph-type\"><div class=\"mendatory_label float-left\">{l.type}</div><div class=\"mendatory_field\"></div></label>\r\n                                    <select class=\"form-select select\" id=\"graph-type\" name=\"type\">\r\n                                        <option value=\"point\">{l.point_graph}</option>\r\n                                        <option value=\"line\">{l.line_graph}</option>\r\n                                        <option value=\"circle\">{l.circle_graph}</option>\r\n                                        <option value=\"ray\">{l.ray_graph}</option>\r\n                                        <option value=\"segment\">{l.segment_graph}</option>\r\n                                        <option value=\"vector\">{l.vector_graph}</option>\r\n                                        <option value=\"parabola\">{l.parabola_graph}</option>\r\n                                        <option value=\"sine\">{l.sine_graph}</option>\r\n                                        <option value=\"cosine\">{l.cos_graph}</option>\r\n                                        <option value=\"polygon\">{l.polygon_graph}</option>\r\n                                        {#if is_association}\r\n                                            <option disabled=\"disabled\" value=\"association\">{l.association}</option>\r\n                                        {/if}\r\n                                    </select>\r\n                                </div>\r\n                            </div>\r\n                            <input type=\"hidden\" class=\"form-control\" id=\"graph-id\" name=\"id\" placeholder={l.title} value=\"ID0\"/>\r\n                            <div class=\"col-sm-3 px-1\">\r\n                                <div class=\"form-group text-left\">\r\n                                    <label class=\"control-label font-weight-normal mb-0 d-inline-flex\" for=\"xaxis\"><div class=\"mendatory_label float-left\">{l.xaxis_label}</div><div class=\"mendatory_field\"></div></label>\r\n                                    <input type=\"text\" class=\"form-control validate integer\" id=\"xaxis\" name=\"xaxis\" placeholder={l.xaxis_value} min=\"2\" defaultValue=\"10\" />\r\n                                </div>\r\n                            </div>\r\n                            <div class=\"col-sm-3 px-1\">\r\n                                <div class=\"form-group text-left\">\r\n                                    <label class=\"control-label font-weight-normal mb-0 d-inline-flex\" for=\"yaxis\"><div class=\"mendatory_label float-left\">{l.yaxis_label}</div><div class=\"mendatory_field\"></div></label>\r\n                                    <input type=\"text\" class=\"form-control validate integer\" id=\"yaxis\" name=\"yaxis\" placeholder={l.yaxis_value} min=\"2\" defaultValue=\"10\" />\r\n                                </div>\r\n                            </div>\r\n                            <input type=\"hidden\" id=\"graph-anskey\" name=\"anskey\" placeholder={l.anskey} />\r\n                            <div class=\"col-sm-3 px-1\">\r\n                                <div class=\"form-group text-left\">\r\n                                    <label class=\"control-label font-weight-normal mb-0 d-inline-flex\" for=\"xtickdistance\"><div class=\"mendatory_label float-left\">{l.xaxis_interval}</div><div class=\"mendatory_field\"></div></label>\r\n                                    <input type=\"text\" class=\"form-control validate integer\" id=\"xtickdistance\" name=\"xtickdistance\" placeholder={l.xaxis_interval} min=\"1\" defaultValue=\"1\" />\r\n                                </div>\r\n                            </div>\r\n                            <div class=\"col-sm-3 px-1\">\r\n                                <div class=\"form-group text-left\">\r\n                                    <label class=\"control-label font-weight-normal mb-0 d-inline-flex\" for=\"ytickdistance\"><div class=\"mendatory_label float-left\">{l.yaxis_interval}</div><div class=\"mendatory_field\"></div></label>\r\n                                    <input type=\"text\" class=\"form-control validate integer\" id=\"ytickdistance\" name=\"ytickdistance\" placeholder={l.yaxis_interval} min=\"1\" defaultValue=\"1\" />\r\n                                </div>\r\n                            </div>\r\n                            <div class=\"col-sm-12 px-1\">\r\n                                <div class=\"numberlinePlot form-group text-left h\" id=\"numberlinePlot\" style=\"border: 1px solid #ccc\">\r\n                                    <!-- svelte-ignore a11y-label-has-associated-control -->\r\n                                    <label class=\"control-label font-weight-normal mb-0\">{l.inequality_num}</label>\r\n                                    <div class=\"plotEq\">\r\n                                        <div class=\"position-relative p-1\">\r\n                                            <input type=\"text\" class=\"text-center\" defaultValue=\"\" style=\"width: 40px; height: 25px;\"/>\r\n                                            <select class=\"form-select\" style=\"height: 25px\">\r\n                                                <option value=\"0\">&equals;</option>\r\n                                                <option value=\"1\">&lt;</option>\r\n                                                <option value=\"2\">&gt;</option>\r\n                                                <option value=\"3\">&le;</option>\r\n                                                <option value=\"4\">&ge;</option>\r\n                                            </select>\r\n                                            <input type=\"text\" defaultValue=\"x\" class=\"text-center\" style=\"width: 40px; height: 25px;\" readOnly=\"readonly\" />\r\n                                            <select class=\"form-select\" style=\"height: 25px\">\r\n                                                <option value=\"0\">&equals;</option>\r\n                                                <option value=\"1\">&lt;</option>\r\n                                                <option value=\"2\">&gt;</option>\r\n                                                <option value=\"3\">&le;</option>\r\n                                                <option value=\"4\">&ge;</option>\r\n                                            </select>\r\n                                            <input type=\"text\" defaultValue=\"\" class=\"text-center\" style=\"width: 40px; height: 25px;\" />\r\n                                            <span class=\"remove-eq h position-absolute right5\">&times;</span>\r\n                                        </div>\r\n                                    </div>\r\n                                    <!-- svelte-ignore a11y-label-has-associated-control -->\r\n                                    <label id=\"add-equation\" class=\"add-equation btn btn-primary btn-xs pull-right mr-sm\" title=\"Add item\"><i class=\"icomoon-plus\"></i></label>\r\n                                </div>\r\n                            </div>\r\n                            <div class=\"form-group equation_select col-sm-6 px-1 text-left h\" id=\"line\">\r\n                                <label class=\"control-label font-weight-normal mb-0\" for=\"line-eq\">{l.equation_type}</label>\r\n                                <select class=\"form-select\" id=\"line-eq\" name=\"line-eq\" disabled=\"disabled\">\r\n                                    <option value=\"y=m*x+c\">{l.standard_form}</option>\r\n                                </select>\r\n                            </div>\r\n                            <div class=\"form-group equation_select col-sm-7 px-1 text-left h\" id=\"circle\">\r\n                                <label class=\"control-label font-weight-normal mb-0\" for=\"circle-eq\">{l.equation_type}</label>\r\n                                <select class=\"form-select\" id=\"circle-eq\" name=\"circle-eq\" disabled=\"disabled\">\r\n                                    <option value=\"(x-x1)^2 + (y-y1)^2 = r^2\">{l.circle_form}</option>\r\n                                </select>\r\n                            </div>\r\n                            <div class=\"form-group equation_select col-sm-6 px-1 text-left h\" id=\"parabola\">\r\n                                <label class=\"control-label font-weight-normal mb-0\" for=\"parabola-eq\">{l.equation_type}</label>\r\n                                <select class=\"form-select\" id=\"parabola-eq\" name=\"parabola-eq\" disabled=\"disabled\">\r\n                                    <option value=\"y=a*(x-h)^2+k\">{l.parabola_form}</option>\r\n                                </select>\r\n                            </div>\r\n                            <div class=\"form-group equation_select col-sm-6 px-1 text-left h\" id=\"sine\">\r\n                                <label class=\"control-label font-weight-normal mb-0\" for=\"sine-eq\">{l.equation_type}</label>\r\n                                <select class=\"form-select\" id=\"sine-eq\" name=\"sine-eq\" disabled=\"disabled\">\r\n                                    <option value=\"y=A*sin(B*x+C)+D\">{l.sin_form}</option>\r\n                                </select>\r\n                            </div>\r\n                            <div class=\"form-group equation_select col-sm-6 px-1 text-left h\" id=\"cosine\">\r\n                                <label class=\"control-label font-weight-normal mb-0\" for=\"cosine-eq\">{l.equation_type}</label>\r\n                                <select class=\"form-select\" id=\"cosine-eq\" name=\"cosine-eq\" disabled=\"disabled\">\r\n                                    <option value=\"y=A*cos(B*x+C)+D\">{l.cos_form}</option>\r\n                                </select>\r\n                            </div>\r\n                            <div class=\"form-group equation_select col-sm-6 px-1 text-left h\" id=\"polygon\">\r\n                                <label class=\"control-label font-weight-normal mb-0\" for=\"polygon_type\">{l.polygon_type}</label>\r\n                                <select class=\"form-select\" id=\"polygon_type\" name=\"polygon_type\">\r\n                                    <option value=\"0\">{l.matchlist_normal}</option>\r\n                                    <option value=\"1\">{l.only_x}</option>\r\n                                    <option value=\"2\">{l.only_y}</option>\r\n                                    <option value=\"3\">{l.both_xy}</option>\r\n                                </select>\r\n                                <input type=\"hidden\" id=\"reflection\" name=\"reflection\" placeholder={l.reflection} />\r\n                            </div>\r\n                            <div class=\"form-group col-sm-6 px-1 text-left h eq d-none\">\r\n                                <label class=\"control-label font-weight-normal mb-0 d-inline-flex\" for=\"graph-equation\"><div class=\"mendatory_label float-left\">{l.equation}</div><div class=\"mendatory_field\"></div></label>\r\n                                <input type=\"text\" class=\"equation form-control\" id=\"graph-equation\" name=\"equation\" placeholder={l.equation} />\r\n                                <div class=\"text-danger err-msg d-none\">{l.fill_warning}</div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <div class=\"numberline h\">\r\n                        <div class=\"row mx-0\">\r\n                            <div class=\"col-sm-6 px-1\">\r\n                                <div class=\"form-group text-left\">\r\n                                    <label class=\"control-label font-weight-normal mb-0 d-inline-flex\" for=\"numberline-width\"><div class=\"mendatory_label float-left\">{l.width_label1}</div><div class=\"mendatory_field\"></div></label>\r\n                                    <input type=\"text\" class=\"integer form-control\" id=\"numberline-width\" name=\"width\" placeholder={l.graph_width} defaultValue=\"420\" />\r\n                                </div>\r\n                            </div>\r\n                            <div class=\"col-sm-6 px-1\">\r\n                                <div class=\"form-group text-left\">\r\n                                    <label class=\"control-label font-weight-normal mb-0 d-inline-flex\" for=\"numberline-height\"><div class=\"mendatory_label float-left\">{l.height_label1}</div><div class=\"mendatory_field\"></div></label>\r\n                                    <input type=\"text\" class=\"integer form-control\" id=\"numberline-height\" name=\"height\" placeholder={l.graph_height} defaultValue=\"250\" />\r\n                                </div>\r\n                            </div>\r\n                            <div class=\"col-sm-6 px-1\">\r\n                                <div class=\"form-group text-left\">\r\n                                    <label class=\"control-label font-weight-normal mb-0 d-inline-flex\" for=\"numberline-type\"><div class=\"mendatory_label float-left\">{l.type}</div><div class=\"mendatory_field\"></div></label>\r\n                                    <select class=\"form-select select\" id=\"numberline-type\" name=\"type\">\r\n                                        <option value=\"numberline association\">{l.number_line_association}</option>\r\n                                        <option value=\"numberline plot\">{l.numberline_plot}</option>\r\n                                    </select>\r\n                                </div>\r\n                            </div>\r\n                            <div class=\"col-sm-6 px-1\">\r\n                                <div class=\"form-group text-left\">\r\n                                    <label class=\"control-label font-weight-normal mb-0 d-inline-flex\" for=\"axis\"><div class=\"mendatory_label float-left\">{l.axis_label}</div><div class=\"mendatory_field\"></div></label>\r\n                                    <input type=\"text\" class=\"form-control\" id=\"axis\" name=\"axis\" placeholder=\"{l.axis_label}\" defaultValue=\"5\" />\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <div class=\"jscript h p-1\">\r\n                        <textarea id=\"code\" class=\"w-100\" name=\"jscript\" style=\"height: 300px\"></textarea>\r\n                    </div>\r\n                </div>\r\n                <div class=\"modal-footer\">\r\n                    <button type=\"button\" class=\"btn btn-secondary resetElement\">{l.reset}</button>\r\n                    <button type=\"button\" class=\"btn btn-secondary addElement\">{l.ok_btn}</button>\r\n                    <button type=\"button\" class=\"btn btn-light\" data-bs-dismiss=\"modal\">{l.cancel}</button>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>","<!--\r\n *  File Name   : Graph.svelte\r\n *  Description : Responsible for Authoring Side functionality\r\n *  Author      : Ayush Srivastava\r\n *  Package     : clsSMGRAPH (Authoring)\r\n *  Last update : 02-Mar-2021\r\n *  Last Updated By : Ayush Srivastava\r\n-->\r\n<script>\r\n    import { afterUpdate, beforeUpdate, onMount } from \"svelte\";\r\n\timport { writable } from \"svelte/store\";\r\n\timport { XMLToJSON, AH } from '../helper/HelperAI.svelte';\r\n    import GRAPH_AUTH from './lib/mathAuthString'\r\n    import l from '../src/libs/Lang';\r\n    import MathModal from \"./lib/MathModal.svelte\";\r\n    import swal from 'sweetalert';\r\n    export let xml;\r\n    export let editorState;\r\n    export let getChildXml;\r\n    let state = {};\r\n    let QXML = '';\r\n    let is_resource_added = false;\r\n    let auth_store = writable({\r\n\t\txml : \"\",\r\n\t});\r\n\r\n    const unsubscribe = auth_store.subscribe(value => {\r\n\t\tstate = value;\r\n\t});\r\n\r\n    // reset the lab after removing the algorithm\r\n    $: if (!editorState.variable_button && editorState.stopAuthoringUpdate) {\r\n        editorState.stopAuthoringUpdate = false;\r\n        editorState.stopPreviewUpdate = false;\r\n        GRAPH_AUTH.stopUpdate = false;\r\n        if (AH.select('#special_module_xml').nodeName) {\r\n            AH.select('#special_module_xml').value = state.xml ? state.xml : '';\r\n            GRAPH_AUTH.initGraph();\r\n        }\r\n    }\r\n\r\n    // functions responsible for loading the module on the basis of xml\r\n    beforeUpdate(async() => {\r\n        AH.selectAll('#mthmain [tabindex=\"0\"].active', 'removeClass', 'active');\r\n\t\tif (state.xml != xml && !(editorState.stopAuthoringUpdate)) {\r\n            AH.select('#special_module_xml').value = xml;\r\n\t\t\tloadModule(xml);\r\n\t\t}\r\n\t});\r\n\r\n    // function responsible for binding the events\r\n    onMount(async()=> {\r\n        AH.listen('body', 'keyup', '.equation', function () {\r\n            if (AH.select('input[id$=\"equation\"]').nodeName && AH.select('input[id$=\"equation\"]').value == '' ) {\r\n                AH.selectAll('.err-msg', 'removeClass', 'd-none');\r\n                AH.selectAll('.equation', 'css', {\r\n                    border: '1px solid red'\r\n                });\r\n            } else {\r\n                AH.selectAll('.err-msg', 'addClass', 'd-none');\r\n                AH.selectAll('.equation', 'css', {\r\n                    border: '1px solid #CED4DA'\r\n                });\r\n            }\r\n        });\r\n\r\n        AH.listen('body', 'change', '#graph-type', function () {\r\n            GRAPH_AUTH.resetModal();\r\n        });\r\n\r\n        AH.listen('body', 'mousemove', '#mthmain, .addElement, .resetElement', function () {\r\n            updateXml();\r\n        });\r\n\r\n        AH.listen('body', 'mouseup', '#mthmain, .addElement, .resetElement', function () {\r\n            updateXml();\r\n        });\r\n\r\n        AH.listen('body', 'click', '#mthmain, .addElement, .resetElement', function () {\r\n            updateXml();\r\n        });\r\n\r\n        AH.listen('body', 'click', '#xmlDone', function () {\r\n            editorState.variable_button = false;\r\n            if (!(!editorState.variable_button && editorState.stopAuthoringUpdate)) {\r\n                GRAPH_AUTH.initGraph();\r\n            }\r\n        });\r\n\r\n        AH.listen('body', 'keypress', '#mthmain [tabindex=\"0\"]', function (current, event) {\r\n            if ((event.keyCode == 13 || event.which == 13) && (event.target.id != 'delete_btn' && event.target.id != 'updateRow')) {\r\n                current.click();\r\n            }\r\n        });\r\n\r\n        AH.listen('body', 'hidden.bs.modal', '#authoring-modal', function () {\r\n            GRAPH_AUTH.visible_class = '';\r\n        });\r\n\r\n        AH.listen('body', 'change', 'input.integer', function (current) {\r\n            changeValue(current);\r\n        });\r\n\r\n        AH.listen('body', 'keyup', 'input.integer', function (current) {\r\n            changeValue(current);\r\n        });\r\n\r\n        AH.listen('body', 'input', 'input.integer', function (current) {\r\n            changeValue(current);\r\n        });\r\n\r\n        AH.listen('body', 'click', '#deleteElm', function (current) {\r\n            let cur_elem = current.children[0];\r\n            let attrs = GRAPH_AUTH.setInAssoc(GRAPH_AUTH.storage.store('#ID0' , 'attributes')); \r\n            cur_elem.classList.toggle('active');\r\n            if ( AH.select('#' + attrs.id).classList.contains('point') || AH.select('#' + attrs.id).classList.contains('circle') || AH.select('#' + attrs.id).classList.contains('association') ) {\r\n                if (cur_elem.classList.contains('active')) {\r\n                    swal(l.delete_msg);\r\n                    cur_elem.style.color = 'black';\r\n                }\r\n            } else if (cur_elem.classList.contains('active')) {\r\n                cur_elem.style.color = 'black';\r\n                swal(l.last_delete_msg);\r\n            }\r\n        });\r\n\r\n        AH.listen('body', 'keypress', '#authoring-modal input', function (current, event) {\r\n            if (event.which == 13) {\r\n                return false;\r\n            }\r\n        });\r\n\r\n        AH.listen('body', 'keyup', '#authoring-modal .validate', function (current, event) {\r\n            event.preventDefault();\r\n            event.stopPropagation();\r\n            if (event.keyCode == 13) {\r\n                AH.select('#authoring-modal .addElement').click();\r\n            }\r\n            GRAPH_AUTH.isValid = false;\r\n            AH.selectAll('.error', 'remove');\r\n            AH.setCss(current, {\r\n                border: '1px solid red',\r\n                background:  \"#FFCECE\"\r\n            })\r\n            if (current.value == '') {\r\n                AH.insert(current.parentElement, '<span class=\"error text-danger\">' + l.fill_field + '</span>', 'beforeend');\r\n            } else if (current.classList.contains('num') && current.value <= 0) {\r\n                AH.insert(current.parentElement, '<span class=\"error text-danger\">' + l.value_gt_zero + '</span>', 'beforeend');\r\n            } else if (!isNumeric(current.value) && current.classList.contains('num')) {\r\n                AH.insert(current.parentElement, '<span class=\"error text-danger\">' + l.enter_number + '</span>', 'beforeend');\r\n            } else {\r\n                GRAPH_AUTH.isValid = true;\r\n                AH.setCss(current, {\r\n                    border: '1px solid #ced4da',\r\n                    background:  \"none\"\r\n                });\r\n            }\r\n        });\r\n\r\n        AH.listen('body', 'change', '#authoring-modal .select', function (current) {\r\n            GRAPH_AUTH.resetData(current);\r\n        });\r\n\r\n        AH.listen('body', 'click', '.add-equation', function () {\r\n            AH.insert('.numberlinePlot', AH.select('.plotEq').innerHTML, 'beforeend');\r\n            AH.find('.numberlinePlot', '.remove-eq', {\r\n                action: 'css',\r\n                actionData: {\r\n                    display: 'block'\r\n                }\r\n            });\r\n        });\r\n\r\n        AH.listen('body', 'click', '.remove-eq', function (current) {\r\n            current.parentElement.remove();\r\n        });\r\n\r\n        AH.listen('body', 'click', '.footer_toolbox li', function (current) {\r\n            current.classList.add('btn_active');\r\n            AH.selectAll(AH.siblings(current), 'removeClass', 'btn_active')\r\n        });\r\n    });\r\n\r\n    // for updating the xml into the state\r\n    afterUpdate(async() => {\r\n        if (!is_resource_added) {\r\n            if (typeof(JXG) != 'undefined') {\r\n                GRAPH_AUTH.initGraph();\r\n            } else {\r\n                AH.addScript('', itemUrl + 'clsSMGraph/lib/jsxgraph.min.js', { callback: function () {\r\n                    GRAPH_AUTH.initGraph();\r\n                }});\r\n            }\r\n            \r\n            is_resource_added = true;\r\n        }\r\n        if ( state.xml != xml && AH.select('#special_module_xml').value && typeof(JXG) != 'undefined' && !(editorState.stopAuthoringUpdate)) {\r\n            auth_store.update( (item) => {\r\n                item.xml = xml;\r\n                return item;\r\n            });\r\n        }\r\n    })\r\n\r\n    // for checking the the number is numeric or\r\n    function isNumeric(num) {\r\n        return !isNaN(parseFloat(num)) && isFinite(num);\r\n    }\r\n\r\n    // call whenever there is change in the graph type select box\r\n    function changeValue(current) {\r\n        let fixed = current.value.replace(/[^0-9]/g, \"\");\r\n        if (current.value !== fixed) {\r\n            current.value = fixed;\r\n        }\r\n    }\r\n\r\n    // function responsible for updating the xml\r\n    function updateXml() {\r\n        if (editorState.stopAuthoringUpdate) {\r\n            return false;\r\n        }\r\n        let xml = AH.select('#special_module_xml').value;\r\n        if (state.xml != xml) {\r\n            // updates the props of the component\r\n            getChildXml(xml);\r\n        }\r\n    }\r\n\r\n    // funcion responsible for loading the module\r\n    function loadModule(loadXml) {\r\n        // assign the json value to variable loadXml after converting xml into json\r\n        loadXml = XMLToJSON(loadXml);\r\n        // sets the value of variable QXML and re-render the component\r\n        parseXMLAuthoring(loadXml);\r\n    }\r\n\r\n    // function responsible for parsing the xml\r\n    function parseXMLAuthoring(MYXML) {\r\n        QXML = MYXML.smxml.plot;\r\n        if (QXML._type == 'association') {\r\n            swal(l.deprecated);\r\n        }\r\n    }\r\n\r\n    // function responsible for solving the algorithm and after that stops the update until algorithm is remove\r\n    function solveAuthoring() {\r\n        AH.activate(2);\r\n        let tempXml = state.xml;\r\n        let data = {};\r\n        data['special_module_xml'] = tempXml;\r\n        data['algo_qxml'] = AH.select(\"#algo_qxml\").nodeName ? AH.select(\"#algo_qxml\").value : '';\r\n\r\n        AH.ajax({\r\n            url: baseUrl + 'editor/index.php',\r\n            data: { ajax: \"1\", action: 'parse_algo', content_text: JSON.stringify(data) },\r\n            type: 'POST',\r\n            onEnd: function() {\r\n                AH.activate(0);\r\n            }\r\n        }).then( function(response) {\r\n            let res = JSON.parse(response);\r\n\r\n            AH.select('#special_module_xml').value = res.special_module_xml;\r\n            loadModule(res.special_module_xml)\r\n            \r\n            GRAPH_AUTH.initGraph();\r\n\r\n            editorState.stopPreviewUpdate = true;\r\n            editorState.stopAuthoringUpdate = true;\r\n            GRAPH_AUTH.stopUpdate = true;\r\n        });\r\n    }\r\n</script>\r\n\r\n<div>\r\n    <center>\r\n\r\n        {#if (editorState.is_algo && editorState.variable_button)}\r\n            <button class=\"btn btn-light float-left m-sm\" type=\"button\" on:click={solveAuthoring}>{l.solve}</button> \r\n        {/if}\r\n        <div\r\n            id=\"mthmain\"\r\n            style=\"\r\n                height: {QXML._height}px;\r\n                width: {QXML._width}px;\r\n                clear: both;\r\n            \"\r\n            class=\"position-relative bg-white\"\r\n        >\r\n            <div id=\"option-toolbar\" class=\"text-dark\">\r\n                <ul class=\"controls\">\r\n                    <li value=\"plotgraph\" class=\"selected-option text-uppercase\">{QXML._type}</li>\r\n                </ul>\r\n                <div class=\"btn-group delete-tools zindex0 pe-0 h\" id=\"deleteElm\" >\r\n                    <div\r\n                        class=\"btn btn-light p-1\"\r\n                        tabIndex=\"0\"\r\n                    >\r\n                        <i data-bs-toggle=\"tooltip\" title={l.delete} class=\"icomoon-new-24px-delete-1\"></i>\r\n                    </div>\r\n                </div>\r\n                <div class=\"btn-group edit-tools zindex0 ps-0\" data-t=\"plotgraph\" id=\"plotgraph\">\r\n                    <div\r\n                        class=\"btn btn-light p-1\"\r\n                        tabIndex=\"0\"\r\n                        on:click={(event) => GRAPH_AUTH.elemModal('plotgraph', event.currentTarget, QXML._id)}\r\n                    >\r\n                        <i title={l.edit_graph} data-bs-toggle=\"tooltip\" class=\"icomoon-24px-edit-1\"></i>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div\r\n                id={QXML._id}\r\n                type={QXML._type}\r\n                class={\"drag-resize dropable \" + QXML._type}\r\n                data-xtickdistance={QXML._xtickdistance}\r\n                data-ytickdistance={QXML._ytickdistance}\r\n                data-xaxis={QXML._xaxis}\r\n                data-yaxis={QXML._yaxis}\r\n                data-snapsize={QXML._snapsize}\r\n                data-equation={QXML._equation}\r\n                style=\"\r\n                    height: {(QXML._height - 40)}px;\r\n                    width: {QXML._width}px;\r\n                    border: 1px solid #ccc;\r\n                \"\r\n            ></div>\r\n            <ul class=\"footer_toolbox h\">\r\n                <li class=\"btn_active btn-point\" rel=\"point\" data-value=\"P\"></li>\r\n                <li rel=\"segment\" class=\"btn-segment\" data-value=\"S\"></li>\r\n                <li rel=\"segment_left_point_hollow\" class=\"btn-SLH\" data-value=\"SLH\"></li>\r\n                <li rel=\"segment_right_point_hollow\" class=\"btn-SRH\" data-value=\"SRH\"></li>\r\n                <li rel=\"segment_both_point_hollow\" class=\"btn-SBH\" data-value=\"SBH\"></li>\r\n                <li rel=\"ray_left_direction\" class=\"btn-RL\" data-value=\"RL\"></li>\r\n                <li rel=\"ray_right_direction\" class=\"btn-RR\" data-value=\"RR\"></li>\r\n                <li rel=\"ray_left_direction_right_hollow\" class=\"btn-RRH\" data-value=\"RRH\"></li>\r\n                <li rel=\"ray_right_direction_left_hollow\" class=\"btn-RLH\" data-value=\"RLH\"></li>\r\n            </ul>\r\n        </div>\r\n        <MathModal l={l} is_association={(QXML._type == 'association') ? 1: 0 }/>\r\n    </center>\r\n    <input type=\"hidden\" id=\"special_module_xml\"/>\r\n</div>"],"names":["JS","JUI","isPointDraw","GRAPH_AUTH","ctx","association","plot_graph","width_label","height_label","type","point_graph","line_graph","circle_graph","ray_graph","segment_graph","vector_graph","parabola_graph","sine_graph","cos_graph","polygon_graph","xaxis_label","yaxis_label","xaxis_interval","yaxis_interval","inequality_num","equation_type","standard_form","circle_form","parabola_form","sin_form","cos_form","polygon_type","matchlist_normal","only_x","only_y","both_xy","equation","fill_warning","width_label1","height_label1","number_line_association","numberline_plot","axis_label","reset","ok_btn","cancel","graph_width","graph_height","title","xaxis_value","yaxis_value","anskey","reflection","l","is_association","isValid","stopUpdate","visible_class","storage","store","obj","key","val","this","state","arguments","length","remove","initGraph","attrs","select","indexOf","value","trim","bind_data","parseHtml","mthmain_type","selectAll","index","setInAssoc","id","plotgraph","xaxis","yaxis","xtickdistance","ytickdistance","sub_index","JXG","boards","container","includes","cur_value","ans","split","is_point","ans_index","cur_ans","classList","contains","drawCircle","point","create","axis","name","snapSizeX","snapSizeY","updateAndDraw","parseInt","Xjc","resetData","element","find","action","actionData","display","readOnly","resetModal","xml","elem","getAttribute","nodeName","attributes","children","elemModal","current_element","listen","auth_input","cur_element","setCss","border","background","insert","parentElement","focus","getBS","hide","updateElem","innerText","show","setData","serialize","checked","disabled","wd","hd","hgt","xa","ya","xtk","ytk","defans","graphtype","attributes_list","attr","where","cur_elem","setAttr","class","width","height","updateXML","xmlDom","index_no","setAttribute","formatXml","XMLSerializer","serializeToString","mid","xright","ytop","xticks","yticks","Options","snapToGrid","showInfobox","board","polygon","xleft","ybottom","JSXGraph","freeBoard","initBoard","boundingbox","grid","zoom","factorX","factorY","wheel","needshift","eps","showCopyright","shownavigation","firstArrow","lastArrow","strokecolor","fillcolor","fixed","minorTicks","majorHeight","minorHeight","drawLabels","label","offset","drawZero","highlightfillcolor","withLines","xmax","add","Math","abs","removeAllTicks","strokeColor","prevPoint","points","xtick","ytick","pointy","down","e","coords","el","canCreate","cPos","getCoordsTopLeftCorner","absPos","getPosition","dx","dy","Coords","COORDS_BY_SCREEN","getMouseCoordsAuth","objects","isPoint","hasPoint","scrCoords","usrCoords","X","off","updateAttrs","on","style","innerHTML","options","textTransform","isUpdate","Y","for","straightFirst","straightLast","strokeWidth","visible","Yjc","moveTo","visProp","containerObj","cursor","push","getEquation","center","fx","f","jc","snippet","point1","point2","boadres","strokewidth","parents","i","s","constant","t","n","r","o","u","round","sin","PI","toString","setInIndex","constant1","cos","startPosition","toFixed","elType","Radius","removeObject","position","vertices","showmsg","last_point","pop","join","curve_start_point","updateDeleteAttrsAuth","console","warn","msg","warning_this_for","sub_point","filter","has","Set","cp","replace","undefined","prev","ans_keys","ret","prevX","prevY","pointX","pointY","a","eq","eqn","eval","pow","m","brd","ans_point","next","formatted","lines","indent","lastType","transitions","single->single","single->closing","single->opening","single->other","closing->single","closing->closing","closing->opening","closing->other","opening->single","opening->closing","opening->opening","opening->other","other->single","other->closing","other->opening","other->other","ln","single","Boolean","match","closing","opening","fromTo","padding","j","substr","solve","_type","is_algo","variable_button","delete","edit_graph","_id","_xtickdistance","_ytickdistance","_xaxis","_yaxis","_snapsize","_equation","_height","_width","isNumeric","num","isNaN","parseFloat","isFinite","changeValue","current","editorState","getChildXml","QXML","is_resource_added","auth_store","writable","subscribe","updateXml","stopAuthoringUpdate","AH","loadModule","loadXml","XMLToJSON","smxml","plot","swal","deprecated","beforeUpdate","onMount","event","keyCode","which","target","click","toggle","delete_msg","color","last_delete_msg","preventDefault","stopPropagation","fill_field","value_gt_zero","enter_number","siblings","afterUpdate","addScript","itemUrl","[object Object]","update","item","stopPreviewUpdate","activate","tempXml","data","ajax","url","baseUrl","content_text","JSON","stringify","then","response","res","parse","special_module_xml","currentTarget"],"mappings":"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"}