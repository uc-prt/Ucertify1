{"version":3,"file":"MultipleChoicePreview-13b225d0.js","sources":["../../../clsSMMultipleChoice/MultipleChoicePreview.svelte"],"sourcesContent":["<script>\r\n\timport { beforeUpdate, onMount } from \"svelte\";\r\n\timport { writable } from \"svelte/store\";\r\n\timport { AH } from \"../helper/HelperAI.svelte\";\r\n\timport OptionContainer from \"./OptionContainer.svelte\";\r\n\texport let isReview;\r\n\texport let editorState;\r\n\r\n\tlet letters = \"ABCDEFGHIJKLMNOPQRSTUVWXYZ\".split('');\r\n\tlet state = {};\r\n\tlet hdd = writable({\r\n\t\t\tcorrectAnswers:\"\",\r\n\t\t\toptionData:\"\",\r\n\t\t\treviewMode:false\r\n\t\t});\r\n\tconst unsubscribe = ((items)=> {\r\n\t\tstate = items;\r\n\t});\r\n\r\n\tonMount(async()=> {\r\n\t\tloadOldModule();\r\n\t});\r\n\r\n\tbeforeUpdate(async()=> {\r\n\t\tloadOldModule();\r\n\t\tif (isReview != state.reviewMode) {\r\n\t\t\tstate.reviewMode = isReview;\r\n        }\r\n\t})\r\n\r\n\tfunction loadOldModule() {\r\n\t\tstate.correctAnswers = editorState.mcqAjaxData.correct_answers;\r\n\t\tstate.optionData = editorState.mcqAjaxData.answers;\r\n\t\tsetTimeout(function() {\r\n\t\t\tAH.addClass(AH.find(\"#previewSection\", \".prettyprintReplica\", 'all'), [\"prettyprint\", \"linenums\"]);\r\n\t\t\ttry {\r\n\t\t\t\t(JSON.stringify(editorState.mcqAjaxData.answers).match(/<uc:syntax/gm)) ? prettyPrint() : '';\r\n\t\t\t} catch(e) {\r\n\t\t\t\tconsole.warn(e);\r\n\t\t\t}\r\n\t\t\tAH.addClass(AH.find(\"#previewSection\", \".prettyprint\"), \"prettyprintReplica\");\r\n\t\t\tAH.addClass(AH.find(\"#previewSection\",\".prettyprintReplica\"), [\"prettyprint\", \"linenums\"]);\r\n\t\t}, 200);\r\n\t} \r\n</script>\r\n\r\n{#if state.optionData}\r\n\t<OptionContainer \r\n\t\tletters={letters} \r\n\t\tcorrectAnswers={state.correctAnswers} \r\n\t\treviewMode={state.reviewMode} \r\n\t\tdata={state.optionData} \r\n\t\tpreviewMode={true}\r\n\t/>\r\n{/if}"],"names":["ctx","correctAnswers","reviewMode","optionData","isReview","editorState","letters","split","state","loadOldModule","mcqAjaxData","correct_answers","answers","setTimeout","AH","addClass","find","JSON","stringify","match","prettyPrint","e","console","warn","onMount","beforeUpdate"],"mappings":"uPAgDWA,oBACOA,KAAMC,0BACVD,KAAME,gBACZF,KAAMG,wBACC,2FAHGH,KAAMC,mCACVD,KAAME,yBACZF,KAAMG,8HALTH,KAAMG,uFAANH,KAAMG,iNAzCCC,kBACAC,KAEPC,+BAAuCC,MAAM,IAC7CC,cAqBKC,QACRD,EAAMP,eAAiBI,EAAYK,YAAYC,uBAC/CH,EAAML,WAAaE,EAAYK,YAAYE,WAC3CC,uBACCC,EAAGC,SAASD,EAAGE,KAAK,kBAAmB,sBAAuB,QAAS,cAAe,iBAEpFC,KAAKC,UAAUb,EAAYK,YAAYE,SAASO,MAAM,iBAAmBC,oBACnEC,GACPC,QAAQC,KAAKF,GAEdP,EAAGC,SAASD,EAAGE,KAAK,kBAAmB,gBAAiB,sBACxDF,EAAGC,SAASD,EAAGE,KAAK,kBAAkB,wBAAyB,cAAe,eAC5E,YAvBJQ,aACCf,OAGDgB,aACChB,IACIL,GAAYI,EAAMN,gBACrBM,EAAMN,WAAaE"}