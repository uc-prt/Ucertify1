import{S as e,i as t,s,a1 as r,e as l,b as n,u as i,ab as a,f as o,h as c,j as d,l as p,x as u,r as m,o as b,p as v,A as w,a2 as g,a3 as h,X as _,R as y,w as f}from"./main-7eab066b.js";import{s as x}from"./style-inject.es-1f59c1d0.js";function C(e){let t,s,v,w,g,h,_,y,f,x,C,S,A,P,N,M,D,L,T,I,R,F,K,B,E,z,O,H,J,X,G,W,j,Y,Z,q,U,$,Q,V,ee,te,se,re,le,ne,ie,ae,oe,ce,de,pe,ue,me,be,ve,we,ge,he,_e,ye,fe,xe,Ce,ke,Se,Ae,Pe,Ne,Me,De,Le,Te,Ie,Re,Fe,Ke,Be,Ee,ze,Oe,He,Je,Xe,Ge,We,je,Ye,Ze,qe,Ue,$e,Qe,Ve,et,tt,st,rt,lt,nt,it,at,ot,ct,dt,pt,ut,mt,bt,vt,wt,gt,ht,_t,yt,ft,xt,Ct,kt,St,At,Pt,Nt,Mt,Dt,Lt,Tt,It,Rt,Ft,Kt,Bt,Et,zt,Ot,Ht,Jt,Xt,Gt,Wt,jt,Yt,Zt,qt,Ut,$t,Qt,Vt,es,ts,ss,rs,ls,ns,is,as,os,cs,ds,ps,us,ms,bs,vs,ws,gs,hs,_s,ys,fs,xs,Cs,ks,Ss,As,Ps,Ns,Ms,Ds,Ls,Ts,Is,Rs,Fs,Ks,Bs,Es,zs,Os,Hs,Js,Xs,Gs,Ws,js,Ys,Zs,qs,Us,$s,Qs,Vs,er,tr,sr,rr,lr,nr,ir,ar,or,cr,dr,pr,ur,mr,br,vr,wr,gr,hr,_r,yr,fr,xr,Cr,kr,Sr,Ar,Pr,Nr,Mr,Dr,Lr,Tr,Ir,Rr,Fr,Kr,Br,Er=r.mark_pnt+"",zr=r.shortcuts+"",Or=e[2].alt+"",Hr=r.compass_center+"",Jr=r.shift_arrow_use+"",Xr=r.compass_radius+(.02649*e[0]).toFixed(2)+"",Gr=r.shift_arrow_radius+"",Wr=r.compass_angle+e[1]+r.degree+"",jr=r.shift_arrow_angle+"",Yr=r.compass_draw+"",Zr=r.shift_arrow_draw+"";return{c(){t=l("main"),s=l("div"),v=l("div"),w=l("div"),g=l("div"),h=l("h4"),h.textContent=""+r.shortcuts,_=n(),y=l("button"),y.textContent="Ã—",f=n(),x=l("div"),C=l("table"),S=l("tbody"),A=l("tr"),P=l("td"),P.textContent=""+r.keys,N=l("td"),M=l("div"),D=l("span"),D.textContent=""+r.des_txt,L=n(),T=l("tr"),I=l("td"),I.textContent=""+r.ctrl_z,R=l("td"),F=l("div"),K=l("span"),K.textContent=""+r.undo,B=n(),E=l("tr"),z=l("td"),z.textContent=""+r.ctrl_x,O=l("td"),H=l("div"),J=l("span"),J.textContent=""+r.cut,X=n(),G=l("tr"),W=l("td"),W.textContent=""+r.ctrl_y,j=l("td"),Y=l("div"),Z=l("span"),Z.textContent=""+r.redo,q=n(),U=l("tr"),$=l("td"),$.textContent=""+r.enter,Q=l("td"),V=l("div"),ee=l("span"),ee.textContent=""+r.enable_tool,te=n(),se=l("tr"),re=l("td"),re.textContent=""+r.shift_enter,le=l("td"),ne=l("div"),ie=l("span"),ie.textContent=""+r.start_stop_tool,ae=n(),oe=l("tr"),ce=l("td"),ce.textContent=""+r.shift_arrow,de=l("td"),pe=l("div"),ue=l("span"),ue.textContent=""+r.compass_tools,me=n(),be=l("tr"),ve=l("td"),ve.textContent=""+r.locking,we=l("td"),ge=l("div"),he=l("span"),he.textContent=""+r.locking_txt,_e=n(),ye=l("tr"),fe=l("td"),fe.textContent=""+r.draw_key,xe=l("td"),Ce=l("div"),ke=l("span"),ke.textContent=""+r.draw_txt,Se=n(),Ae=l("tr"),Pe=l("td"),Pe.textContent=""+r.tab,Ne=l("td"),Me=l("div"),De=l("span"),De.textContent=""+r.focus_next,Le=n(),Te=l("tr"),Ie=l("td"),Ie.textContent=""+r.shift_tab,Re=l("td"),Fe=l("div"),Ke=l("span"),Ke.textContent=""+r.focus_prev,Be=n(),Ee=l("tr"),ze=l("td"),ze.textContent=""+r.esc,Oe=l("td"),He=l("div"),Je=l("span"),Je.textContent=""+r.exit_txt,Xe=n(),Ge=l("div"),We=l("button"),We.textContent=""+r.close,je=n(),Ye=l("div"),Ze=l("button"),qe=n(),Ue=l("button"),$e=n(),Qe=l("center"),Ve=l("div"),et=l("div"),tt=l("div"),st=l("button"),rt=l("i"),it=n(),at=l("button"),ot=i("/"),pt=n(),ut=l("button"),mt=l("i"),gt=n(),ht=l("div"),_t=l("button"),yt=l("i"),Ct=n(),kt=l("button"),St=l("i"),Nt=n(),Mt=l("button"),Dt=l("i"),It=n(),Rt=l("button"),Ft=l("i"),zt=n(),Ot=l("div"),Ht=l("button"),Jt=i(Er),jt=n(),Yt=l("div"),Zt=l("button"),qt=l("i"),Vt=n(),es=l("div"),ts=l("button"),ss=i(zr),as=n(),os=l("div"),cs=l("div"),ds=l("img"),us=n(),ms=l("div"),ms.innerHTML='<span class="icomoon-plus s2 move_icon position-absolute h" id="moveDrawIcon"></span>',bs=n(),vs=a("svg"),ws=a("title"),gs=i(Or),hs=a("g"),_s=a("g"),ys=a("g"),fs=a("g"),xs=a("g"),Cs=a("svg"),ks=a("svg"),Ss=a("g"),As=a("circle"),Ps=a("g"),Ns=a("line"),Ms=a("g"),Ds=a("circle"),Ls=a("title"),Ts=i(Hr),Is=a("desc"),Rs=i(Jr),Fs=a("defs"),Ks=a("pattern"),Bs=a("svg"),Es=a("path"),zs=a("path"),Os=a("path"),Hs=a("path"),Js=a("circle"),Xs=a("g"),Gs=a("circle"),Ws=a("title"),js=i(Xr),Ys=a("desc"),Zs=i(Gr),qs=a("defs"),Us=a("pattern"),$s=a("svg"),Qs=a("g"),Vs=a("g"),er=a("rect"),tr=a("g"),sr=a("rect"),rr=a("g"),lr=a("g"),nr=a("path"),ir=a("g"),ar=a("path"),or=a("g"),cr=a("circle"),dr=a("title"),pr=i(Wr),ur=a("desc"),mr=i(jr),br=a("defs"),vr=a("pattern"),wr=a("svg"),gr=a("path"),hr=a("g"),_r=a("circle"),fr=a("circle"),xr=a("title"),Cr=i(Yr),kr=a("desc"),Sr=i(Zr),Ar=a("g"),Pr=a("circle"),Nr=a("defs"),Mr=a("pattern"),Dr=a("svg"),Lr=a("g"),Tr=a("g"),Ir=a("g"),Rr=a("g"),Fr=a("path"),o(h,"class","modal-title"),o(y,"type","button"),o(y,"class","close"),o(y,"data-bs-dismiss","modal"),o(g,"class","modal-header"),o(P,"class","py-1 font-weight-bold w-50 pr-0"),o(D,"class","pl-3 font-weight-bold"),o(M,"class","d-flex"),o(N,"class","py-1"),o(A,"tabindex","0"),o(A,"role","shortcut"),o(I,"class","py-1 font-weight-bold w-50 pr-0"),o(K,"class","pl-3"),o(F,"class","d-flex"),o(R,"class","py-1"),o(T,"tabindex","0"),o(T,"role","shortcut"),o(z,"class","py-1 font-weight-bold w-50 pr-0"),o(J,"class","pl-3"),o(H,"class","d-flex"),o(O,"class","py-1"),o(E,"tabindex","0"),o(E,"role","shortcut"),o(W,"class","py-1 font-weight-bold w-50 pr-0"),o(Z,"class","pl-3"),o(Y,"class","d-flex"),o(j,"class","py-1"),o(G,"tabindex","0"),o(G,"role","shortcut"),o($,"class","py-1 font-weight-bold w-50 pr-0"),o(ee,"class","pl-3"),o(V,"class","d-flex"),o(Q,"class","py-1"),o(U,"tabindex","0"),o(U,"role","shortcut"),o(re,"class","py-1 font-weight-bold w-50 pr-0"),o(ie,"class","pl-3"),o(ne,"class","d-flex"),o(le,"class","py-1"),o(se,"tabindex","0"),o(se,"role","shortcut"),o(ce,"class","py-1 font-weight-bold w-50 pr-0"),o(ue,"class","pl-3"),o(pe,"class","d-flex"),o(de,"class","py-1"),o(oe,"tabindex","0"),o(oe,"role","shortcut"),o(ve,"class","py-1 font-weight-bold w-50 pr-0"),o(he,"class","pl-3"),o(ge,"class","d-flex"),o(we,"class","py-1"),o(be,"tabindex","0"),o(be,"role","shortcut"),o(fe,"class","py-1 font-weight-bold w-50 pr-0"),o(ke,"class","pl-3"),o(Ce,"class","d-flex"),o(xe,"class","py-1"),o(ye,"tabindex","0"),o(ye,"role","shortcut"),o(Pe,"class","py-1 font-weight-bold w-50 pr-0"),o(De,"class","pl-3"),o(Me,"class","d-flex"),o(Ne,"class","py-1"),o(Ae,"tabindex","0"),o(Ae,"role","shortcut"),o(Ie,"class","py-1 font-weight-bold w-50 pr-0"),o(Ke,"class","pl-3"),o(Fe,"class","d-flex"),o(Re,"class","py-1"),o(Te,"tabindex","0"),o(Te,"role","shortcut"),o(ze,"class","py-1 font-weight-bold w-50 pr-0"),o(Je,"class","pl-3"),o(He,"class","d-flex"),o(Oe,"class","py-1"),o(Ee,"tabindex","0"),o(Ee,"role","shortcut"),o(S,"tabindex","0"),o(S,"role","shortcut"),o(C,"role","shortcut"),o(C,"class","shortcutTable m-0 p-2 border-0 common-shortcut-table table-striped font15"),o(x,"class","modal-body overflow-y"),o(We,"type","button"),o(We,"class","btn btn-light"),o(We,"data-bs-dismiss","modal"),o(Ge,"class","modal-footer"),o(w,"class","modal-content"),o(v,"class","modal-dialog modal-dialog-centered"),o(s,"id","drawing_shortcut_modal"),o(s,"class","modal fade"),o(s,"tabindex","-1"),o(Ze,"type","button"),o(Ze,"class","h h-imp"),o(Ze,"id","set-review"),o(Ue,"type","button"),o(Ue,"class","h h-imp"),o(Ue,"id","unset-review"),o(rt,"class","icomoon-pencil"),o(st,"type","button"),o(st,"data-title","scribble"),o(st,"tabindex","0"),o(st,"aria-label",lt=r.scribble_tool),o(st,"title",nt=r.scribble),o(st,"name","preview_scribble"),o(st,"id","preview_scribble"),o(st,"class","geometryToolPreview tooltip_btn btn btn-light preview_toolbar preview_btn"),o(at,"type","button"),o(at,"data-title","line"),o(at,"tabindex","0"),o(at,"aria-label",ct=r.line_tool),o(at,"title",dt=r.line),o(at,"name","preview_line"),o(at,"id","preview_line"),o(at,"class","geometryToolPreview btn btn-light tooltip_btn preview_toolbar preview_btn"),o(mt,"class","icomoon-compass1"),o(ut,"type","button"),o(ut,"data-title","compass"),o(ut,"tabindex","0"),o(ut,"aria-label",bt=r.compass_tool),o(ut,"title",vt=r.compass),o(ut,"name","preview_compass"),o(ut,"id","preview_compass"),o(ut,"class","geometryToolPreview tooltip_btn btn btn-light preview_toolbar preview_btn"),o(tt,"class","btn-group mr-2"),o(tt,"role","group"),o(tt,"tabindex","0"),o(tt,"aria-label",wt=r.draw_tools),o(yt,"class","icomoon-delete-sm"),o(_t,"type","button"),o(_t,"data-title","eraser"),o(_t,"tabindex","0"),o(_t,"aria-label",ft=r.delete_tool),o(_t,"title",xt=r.delete_tool),o(_t,"name","eraser"),o(_t,"id","preview_eraser"),o(_t,"class","btn btn-light tooltip_btn preview_toolbar preview_btn"),o(St,"class","icomoon-close-2"),o(kt,"type","button"),o(kt,"title",At=r.clear_screen),o(kt,"tabindex","0"),o(kt,"aria-label",Pt=r.clear_screen),o(kt,"name","clearScreen"),o(kt,"id","preview_clearScreen"),kt.disabled="disabled",o(kt,"class","btn btn-light tooltip_btn"),o(Dt,"class","icomoon-redo-2"),o(Mt,"type","button"),o(Mt,"title",Lt=r.redo),o(Mt,"name","redo"),o(Mt,"tabindex","0"),o(Mt,"aria-label",Tt=r.redo),o(Mt,"id","preview_redo"),Mt.disabled="disabled",o(Mt,"class","btn btn-light tooltip_btn"),o(Ft,"class","icomoon-undo-2"),o(Rt,"type","button"),o(Rt,"title",Kt=r.undo),o(Rt,"name","undo"),o(Rt,"tabindex","0"),o(Rt,"aria-label",Bt=r.undo),o(Rt,"id","preview_undo"),Rt.disabled="disabled",o(Rt,"class","btn btn-light tooltip_btn"),o(ht,"class","btn-group mr-2"),o(ht,"role","group"),o(ht,"tabindex","0"),o(ht,"aria-label",Et=r.removing_tools),o(Ht,"type","button"),o(Ht,"title",Xt=r.mark_finish_point),o(Ht,"name","mark_points"),o(Ht,"tabindex","0"),o(Ht,"aria-label",Gt=r.mark_ans_point),o(Ht,"id","mark_points"),o(Ht,"class","btn tooltip_btn btn-light"),o(Ot,"class","btn-group mr-2 marking_group"),o(Ot,"role","group"),o(Ot,"aria-label",Wt=r.marking_tools),o(qt,"class","icomoon-new-24px-reset-1"),o(Zt,"type","button"),o(Zt,"title",Ut=r.reset),o(Zt,"name","preview_reset_btn"),o(Zt,"tabindex","0"),o(Zt,"aria-label",$t=r.reset_btn),o(Zt,"id","preview_reset_btn"),o(Zt,"class","btn tooltip_btn btn-light"),o(Yt,"class","btn-group mr-2 reset_group"),o(Yt,"role","group"),o(Yt,"aria-label",Qt=r.reset),o(ts,"type","button"),o(ts,"title",rs=r.shortcuts),o(ts,"name","shortcut_modal_btn"),o(ts,"aria-label",ls=r.shortcuts),o(ts,"tabindex","0"),o(ts,"id","shortcut_modal_btn"),o(ts,"class","tooltip_btn btn btn-primary"),o(es,"class","btn-group mr-2"),o(es,"role","group"),o(es,"aria-label",ns=r.shortcuts),o(et,"class","btn-toolbar preview_drawing_toolbar"),o(et,"role","toolbar"),o(et,"aria-label",is=r.drawing_tools),o(Ve,"class","mt-2 mb-3 previewBtnGrp"),o(ds,"class","border"),o(ds,"alt",""),ds.src!==(ps=k+e[2].bgImg)&&o(ds,"src",ps),o(ds,"id","svgImgPreview"),o(ws,"id","previewSvgTitle"),o(hs,"class","backgroundFocusPathPreview"),o(_s,"class","previewDrawingPaths"),o(ys,"class","correct_answer_container"),o(fs,"class","backgroundFocusPointPreview"),o(xs,"class","previewMarkingPaths"),o(As,"class","drawingCompassRoute compass_route"),o(As,"cx","267.984375"),o(As,"cy","173"),o(As,"r","80"),o(As,"fill-opacity","0"),o(As,"stroke","#C9C9C9"),o(As,"stroke-dasharray","2,10"),o(As,"stroke-width","2"),o(Ns,"class","compassRotationBar compass_radius"),o(Ns,"x1","267.984375"),o(Ns,"y1","173"),o(Ns,"x2","267.984375"),o(Ns,"y2","253"),o(Ns,"stroke","#C9C9C9"),o(Ns,"stroke-width","2"),o(Ds,"tabindex","0"),o(Ds,"class","drawingCompassCenter compass_center"),o(Ds,"cx","267.984375"),o(Ds,"cy","173"),o(Ds,"r","17"),o(Ds,"aria-labelledby","compassCenterTitle compassCenterDesc"),o(Ds,"focusable","true"),o(Ds,"fill","url(#previewDrawingCenter)"),o(Ds,"stroke","#C9C9C9"),o(Ls,"id","compassCenterTitle"),o(Is,"id","compassCenterDesc"),o(Es,"fill","#808080"),o(Es,"class","st0"),o(Es,"d","M3.22,15.1L1,12l2.22-3.1C3.22,10.97,3.22,13.03,3.22,15.1z"),o(zs,"fill","#808080"),o(zs,"class","st0"),o(zs,"d","M8.9,3.22L12,1l3.1,2.22C13.03,3.22,10.97,3.22,8.9,3.22z"),o(Os,"fill","#808080"),o(Os,"class","st0"),o(Os,"d","M15.1,20.78L12,23l-3.1-2.22C10.97,20.78,13.03,20.78,15.1,20.78z"),o(Hs,"fill","#808080"),o(Hs,"class","st0"),o(Hs,"d","M20.78,8.9L23,12l-2.22,3.1C20.78,13.03,20.78,10.97,20.78,8.9z"),o(Js,"cx","12"),o(Js,"cy","12"),o(Js,"r","2"),o(Js,"fill","#333333"),o(Bs,"x","0px"),o(Bs,"y","0px"),o(Bs,"viewBox","1 -3 21 35"),o(Bs,"width","33"),o(Bs,"height","41"),o(Ks,"id","previewDrawingCenter"),o(Ks,"width","20"),o(Ks,"height","20"),o(Ks,"fill","red"),o(Gs,"class","compass_radius_icon mid_circle"),o(Gs,"cx","267.984375"),o(Gs,"cy","213"),o(Gs,"r","17"),o(Gs,"fill","url(#previewDrawingRadius)"),o(Gs,"transform","rotate(90,160,168)"),o(Gs,"aria-labelledby","compassRadiusTitle compassRadiusDesc"),o(Gs,"tabindex","0"),o(Gs,"focusable","true"),o(Gs,"stroke","#C9C9C9"),o(Ws,"id","compassRadiusTitle"),o(Ys,"id","compassRadiusDesc"),o(er,"x","8.53"),o(er,"y","1.11"),o(er,"width","1.5"),o(er,"height","21.79"),o(sr,"x","13.97"),o(sr,"y","1.11"),o(sr,"width","1.5"),o(sr,"height","21.79"),o(nr,"d","M5.87,16.87L1,12l4.87-4.87C5.87,10.38,5.87,13.62,5.87,16.87z"),o(ar,"d","M18.13,16.87L23,12l-4.87-4.87C18.13,10.38,18.13,13.62,18.13,16.87z"),o($s,"x","0px"),o($s,"y","0px"),o($s,"viewBox","1 -5 21 34"),o($s,"width","33"),o($s,"height","33"),o(Us,"id","previewDrawingRadius"),o(Us,"width","20"),o(Us,"height","20"),o(cr,"class","compass_rotation midSmallCircle"),o(cr,"cx","267.984375"),o(cr,"cy","233"),o(cr,"r","8"),o(cr,"fill","url(#previewMidSmallCircle_icon)"),o(cr,"area-label","Compass Angle Use Shift and arrow keys to increase or decrease the radius"),o(cr,"aria-labelledby","compassRotationTitle compassRotationDesc"),o(cr,"tabindex","0"),o(cr,"focusable","true"),o(cr,"transform","rotate(90,160,193)"),o(dr,"id","compassRotationTitle"),o(ur,"id","compassRotationDesc"),o(gr,"fill","#000"),o(gr,"opacity","0.8"),o(gr,"d","M7,14 C3.13400675,14 0,10.8659932 0,7 C0,3.13400675 3.13400675,0 7, 0 C10.8659932,0 14,3.13400675 14,7 C14,10.8659932 10.8659932,14 7, 14 Z M4.66666667,8.16666667 L7,11.6666667 L9.33333333,8.16666667 L4.66666667,8.16666667 Z M4.66666667,5.83333333 L9.33333333,5.83333333 L7,2.33333333 L4.66666667,5.83333333 Z"),o(wr,"width","16px"),o(wr,"height","16px"),o(wr,"viewBox","0 0 14 14"),o(wr,"version","1.1"),o(vr,"id","previewMidSmallCircle_icon"),o(vr,"width","20"),o(vr,"height","20"),o(_r,"class","drawing-compass-pointer lastCircle"),o(_r,"cx","267.984375"),o(_r,"cy","253"),o(_r,"r","3"),o(_r,"fill",yr=e[2].lineColor),o(fr,"class","drawing-compass-pointer-border lastCircle lastbigcircle"),o(fr,"aria-labelledby","compassAngleTitle compassAngleDesc"),o(fr,"cx","267.984375"),o(fr,"cy","253"),o(fr,"r","17"),o(fr,"tabindex","0"),o(fr,"focusable","true"),o(fr,"fill-opacity","0"),o(fr,"stroke","#C9C9C9"),o(xr,"id","compassAngleTitle"),o(kr,"id","compassAngleDesc"),o(Pr,"class","lastCircleMid"),o(Pr,"fill","url(#previewLastCircleMid_icon)"),o(Pr,"transform","rotate(90,160,243)"),o(Pr,"cx","267.984375"),o(Pr,"cy","293"),o(Pr,"r","12"),o(Pr,"opacity","0"),o(Fr,"d","M3.76491276,22.4309727 C5.88207272,19.902578 7.10843487, 16.447736 7.10843487,12.7446281 C7.10843487,9.90533039 6.38974128, 7.20188959 5.07542401,4.93464319 L1.71316547,5.67221801 L4.9100909, 0.48305188 L10.1719173,3.81663137 L7.11351005,4.48755064 C8.4088902, 6.93966677 9.10843487,9.78181395 9.10843487,12.7446281 C9.10843487, 16.6677555 7.87827881,20.3638018 5.71250857,23.1972812 L8.63385425, 24.3467251 L2.93165771,26.8255625 L0.595287046,21.1838396 L3.76491276, 22.4309727 Z"),o(Fr,"class",""),o(Rr,"transform","translate(313.742737, 140.576561) rotate(-2.000000) translate(-313.742737, -140.576561) translate(308.242737, 127.076561)"),o(Ir,"transform","translate(207.000000, 318.000000)"),o(Tr,"transform","translate(-516.000000, -445.000000)"),o(Tr,"fill","#333333"),o(Tr,"fillrule","nonzero"),o(Lr,"stroke","none"),o(Lr,"strokewidth","1"),o(Lr,"fill","none"),o(Lr,"fillrule","evenodd"),o(Lr,"opacity","0.5"),o(Dr,"width","24"),o(Dr,"height","23"),o(Dr,"viewBox","0 0 11 27"),o(Dr,"version","1.1"),o(Dr,"enablebackground","new 0 0 8 24"),o(Mr,"id","previewLastCircleMid_icon"),o(Mr,"width","20"),o(Mr,"height","20"),o(Cs,"class","drawingCompassSvg h"),o(Cs,"focusable","false"),o(vs,"width","100%"),o(vs,"height","100%"),o(vs,"id","previewSvg"),o(vs,"class","previewKeySvg"),o(vs,"tabindex","0"),o(vs,"aria-labelledby","previewSvgTitle"),o(cs,"id","centerImg"),o(cs,"class","centerImg centerImgPreview my-auto relative ml-0"),o(Qe,"class","preview_drawing_container"),o(Ye,"class","drawing_module_container"),o(t,"id","drawingPreviewMain")},m(r,l){c(r,t,l),d(t,s),d(s,v),d(v,w),d(w,g),d(g,h),d(g,_),d(g,y),d(w,f),d(w,x),d(x,C),d(C,S),d(S,A),d(A,P),d(A,N),d(N,M),d(M,D),d(S,L),d(S,T),d(T,I),d(T,R),d(R,F),d(F,K),d(S,B),d(S,E),d(E,z),d(E,O),d(O,H),d(H,J),d(S,X),d(S,G),d(G,W),d(G,j),d(j,Y),d(Y,Z),d(S,q),d(S,U),d(U,$),d(U,Q),d(Q,V),d(V,ee),d(S,te),d(S,se),d(se,re),d(se,le),d(le,ne),d(ne,ie),d(S,ae),d(S,oe),d(oe,ce),d(oe,de),d(de,pe),d(pe,ue),d(S,me),d(S,be),d(be,ve),d(be,we),d(we,ge),d(ge,he),d(S,_e),d(S,ye),d(ye,fe),d(ye,xe),d(xe,Ce),d(Ce,ke),d(S,Se),d(S,Ae),d(Ae,Pe),d(Ae,Ne),d(Ne,Me),d(Me,De),d(S,Le),d(S,Te),d(Te,Ie),d(Te,Re),d(Re,Fe),d(Fe,Ke),d(S,Be),d(S,Ee),d(Ee,ze),d(Ee,Oe),d(Oe,He),d(He,Je),d(w,Xe),d(w,Ge),d(Ge,We),d(t,je),d(t,Ye),d(Ye,Ze),d(Ye,qe),d(Ye,Ue),d(Ye,$e),d(Ye,Qe),d(Qe,Ve),d(Ve,et),d(et,tt),d(tt,st),d(st,rt),d(tt,it),d(tt,at),d(at,ot),d(tt,pt),d(tt,ut),d(ut,mt),d(et,gt),d(et,ht),d(ht,_t),d(_t,yt),d(ht,Ct),d(ht,kt),d(kt,St),d(ht,Nt),d(ht,Mt),d(Mt,Dt),d(ht,It),d(ht,Rt),d(Rt,Ft),d(et,zt),d(et,Ot),d(Ot,Ht),d(Ht,Jt),d(et,jt),d(et,Yt),d(Yt,Zt),d(Zt,qt),d(et,Vt),d(et,es),d(es,ts),d(ts,ss),d(Qe,as),d(Qe,os),d(os,cs),d(cs,ds),d(cs,us),d(cs,ms),d(cs,bs),d(cs,vs),d(vs,ws),d(ws,gs),d(vs,hs),d(vs,_s),d(vs,ys),d(vs,fs),d(vs,xs),d(vs,Cs),d(Cs,ks),d(ks,Ss),d(Ss,As),d(Ss,Ps),d(Ps,Ns),d(Ss,Ms),d(Ms,Ds),d(Ms,Ls),d(Ls,Ts),d(Ms,Is),d(Is,Rs),d(Ms,Fs),d(Fs,Ks),d(Ks,Bs),d(Bs,Es),d(Bs,zs),d(Bs,Os),d(Bs,Hs),d(Bs,Js),d(Ss,Xs),d(Xs,Gs),d(Xs,Ws),d(Ws,js),d(Xs,Ys),d(Ys,Zs),d(Xs,qs),d(qs,Us),d(Us,$s),d($s,Qs),d(Qs,Vs),d(Vs,er),d(Qs,tr),d(tr,sr),d($s,rr),d(rr,lr),d(lr,nr),d(rr,ir),d(ir,ar),d(Ss,or),d(or,cr),d(or,dr),d(dr,pr),d(or,ur),d(ur,mr),d(or,br),d(br,vr),d(vr,wr),d(wr,gr),d(Ss,hr),d(hr,_r),d(hr,fr),d(hr,xr),d(xr,Cr),d(hr,kr),d(kr,Sr),d(Ss,Ar),d(Ar,Pr),d(Ar,Nr),d(Nr,Mr),d(Mr,Dr),d(Dr,Lr),d(Lr,Tr),d(Tr,Ir),d(Ir,Rr),d(Rr,Fr),Kr||(Br=p(ts,"click",e[3]),Kr=!0)},p(e,t){4&t[0]&&ds.src!==(ps=k+e[2].bgImg)&&o(ds,"src",ps),4&t[0]&&Or!==(Or=e[2].alt+"")&&u(gs,Or),1&t[0]&&Xr!==(Xr=r.compass_radius+(.02649*e[0]).toFixed(2)+"")&&u(js,Xr),2&t[0]&&Wr!==(Wr=r.compass_angle+e[1]+r.degree+"")&&u(pr,Wr),4&t[0]&&yr!==(yr=e[2].lineColor)&&o(_r,"fill",yr)},i:m,o:m,d(e){e&&b(t),Kr=!1,Br()}}}x('body, html{     \r\n    -webkit-touch-callout: none;\r\n    -webkit-user-select: none;\r\n    -khtml-user-select: none;\r\n    -moz-user-select: none;\r\n    -ms-user-select: none;\r\n    user-select: none;  \r\n}\r\n\r\n[tabindex="0"]:focus {\r\n    box-shadow: 0 0 0 .09rem #89ace4!important;\r\n    outline: 0;\r\n}\r\n\r\n.compass_route {\r\n    stroke: #979797;\r\n    fill: transparent;\r\n    stroke-width: 2;\r\n    stroke-linecap: round;\r\n    stroke-dasharray: 0,9;\r\n}\r\n\r\n.compass_radius {\r\n    stroke: #979797;\r\n    stroke-width: 2;\r\n}\r\n\r\n.compass_center {\r\n    cursor: move;\r\n    stroke: #979797;\r\n    stroke-width: 2;\r\n}\r\n\r\n.compass_radius_icon {\r\n    stroke: #979797;\r\n    stroke-width: 2;\r\n}\r\n\r\n.compass_center:hover,\r\n.compass_center:focus,\r\n.compass_radius:focus,\r\n.compass_radius:hover,\r\n.compass_radius_icon:focus,\r\n.compass_radius_icon:hover {\r\n    stroke: #666666;\r\n}\r\n\r\n.compass_rotation:hover,\r\n.compass_radius_icon:hover,\r\n.compass_center:hover,\r\n.compass_rotation:focus,\r\n.compass_radius_icon:focus,\r\n.compass_center:focus {\r\n    opacity: 1;\r\n}\r\n\r\n.compass_rotation,\r\n.compassRotationBar,\r\n.compass_radius_icon {\r\n    cursor: pointer;\r\n    opacity: 0.6;\r\n}\r\n\r\n.centerImg svg {\r\n    position: absolute;\r\n    top: 0; \r\n    left: 0;\r\n    cursor: crosshair;\r\n}\r\n\r\n.eraserHover:hover,\r\n.eraserHover:focus {\r\n    opacity: 0.5;\r\n}\r\n\r\n.drawing-compass-pointer-border {\r\n    opacity: 0.6;\r\n    stroke-width: 2;\r\n    stroke: #979797;\r\n    fill: #f8f8ff;\r\n}\r\n\r\n#svgImgPreview,\r\n#svgImg {\r\n    max-width: none;\r\n}\r\n\r\n.lastCircle_hover {\r\n    stroke: #000;\r\n    fill: #aaa;\r\n    cursor: grab;\r\n}\r\n\r\n.resize {\r\n    z-index: 20!important;\r\n    cursor: move;\r\n    background-color: rgba(240,240,240,.6)!important;\r\n    box-shadow: 0 0 1px #000 inset;\r\n    position:absolute;\r\n    top: 35px;\r\n    left: 57px;\r\n    height: 66px;\r\n    width: 66px;\r\n    -webkit-border-radius: 100%;\r\n    -moz-border-radius: 100%;\r\n    border-radius: 100%;\r\n}\r\n#moveDrawIcon {\r\n    top: 50px;\r\n    left: 50px;\r\n    z-index: 500;\r\n    margin-top: -7px;\r\n    margin-left: -7px;\r\n}\r\n.drawing_module_container .btn-light {\r\n    background-color: #ebebeb !important;\r\n}\r\n.previewDrawingPaths path:focus {\r\n    opacity: 0.5;\r\n    outline: none;\r\n}\r\n\r\n.drawing_module_container .btn-light:not(:disabled):not(.disabled):active:focus,\r\n.drawing_module_container .btn-light:not(:disabled):not(.disabled).active:focus {\r\n    box-shadow: 0 0 0 0.2rem #aaa9!important;\r\n}\r\n\r\n.currentFocusPoint {\r\n    stroke: #027f02!important;\r\n}\r\n\r\n.centerImg svg:focus {\r\n    -webkit-box-shadow: inset 1px 1px 12px #ccc !important;\r\n    -moz-box-shadow: inset 1px 1px 12px #ccc !important;\r\n    box-shadow: inset 1px 1px 12px #ccc !important;\r\n    outline: 0;\r\n}\r\n\r\npath.answer_mark:focus {\r\n    opacity: 0.5;\r\n}\r\n\r\n.resizer {\r\n    width: 15px;\r\n    height: 15px;\r\n    position: absolute;\r\n    right: 0;\r\n    bottom: 0;\r\n    cursor: se-resize\r\n}\r\n\r\n#drawing-modal .modal-body,\r\n#drawing_shortcut_modal .modal-body {\r\n    max-height: 350px;\r\n}\r\n\r\n.shortcutTable [tabindex="0"]:focus {\r\n    outline: -webkit-focus-ring-color auto 1px;\r\n}\r\n\r\n#drawingPreviewMain .h {\r\n    display: none !important;\r\n}\r\n\r\n.drawing_bgimg {\r\n    margin-right: 32px;\r\n    pointer-events: none;\r\n    opacity: 0.4;\r\n}\r\n\r\n#upload_media {\r\n    margin-top: 28px;\r\n}\r\n\r\n.setting_btn {\r\n    right: 1px;\r\n    top: 1px;\r\n    z-index: 1;\r\n}\r\n\r\n.drawing_module_container button:disabled {\r\n    pointer-events: auto !important;\r\n}\r\n\r\n#centerImg {\r\n    position: relative;\r\n}\r\n.mr-2 {\r\n    margin-right: 0.5em !important;\r\n}\r\n#previewSvg { \r\n    width: 600px;\r\n    height: 520px;\r\n    position: absolute;\r\n}');let k="https://s3.amazonaws.com/jigyaasa_content_static/",S="http://www.w3.org/2000/svg";function A(e){let t=[];for(let s=0;s<e.length;s++)t.push({mode:"mode",order:2,type:"scribble_0",index:0,d:"path"}),t[s].mode=e[s].mode,t[s].order=e[s].order,t[s].type=e[s].type,t[s].index=e[s].index,t[s].d=e[s].d;return t}function P(e,t,s,r,l,n,i){let a=((s-=l)-(e-=l))*(s-e)+((r-=n)-(t-=n))*(r-t),o=2*(e*(s-e)+t*(r-t)),c=o*o-4*a*(e*e+t*t-i*i);if(c<=0)return!1;let d=(-o+Math.sqrt(c))/(2*a),p=(-o-Math.sqrt(c))/(2*a);return 0<d&&d<1||0<p&&p<1}function N(e,t,s){let l,n,i,a,o,c,d,p,u,m,b,x,C,N,M,{xml:D}=t,{uxml:L}=t,{isReview:T}=t,{showAns:I}=t,{editorState:R}=t,F=!1,K=!0,B=!1,E=0,z=0,O="scribble",H="#00BCD4",J=[],X=0,G=0,W=[],j=[],Y=[],Z=1,q=0,U=0,$=100,Q=!1,V=90,ee=0,te={x:null,y:null},se={x:null,y:null},re=0,le=50,ne=50,ie="",ae="",oe=!1,ce=1,de=[],pe=[],ue='<smans type="41"></smans>',me=[],be=[],ve=!1,we=[],ge=!1,he=f({correctAnswer:!1,xml:"",openImg:!1,openDrag:!1,bgImg:"useraccount_000ANv.png",cdata:"",focusDATA:"",userXML:"",lineColor:"#00BCD4",selectedTools:["_scribble","_line","_compass"],remediationMode:"off",imgWidth:"600",alt:"Triangle image",markPointColor:"#00ff00"}),_e={};he.subscribe((e=>{s(2,_e=e)}));function ye(e){if(U&&Ge(),e.shiftKey){if(!K)return;K=!1,B=!0,w.selectAll("#previewSvg .lastCircle","addClass","lastCircle_hover")}("compass"==O&&"mousedown"==e.type||e.shiftKey)&&(Ke(),w.selectAll("#previewSvg .lastCircle","css",{cursor:"grabbing"}),(K||"mousedown"==e.type)&&(F=!0,re=1),ze(),l=document.createElementNS(S,"path"),Je(H,5),l.setAttributeNS(null,"data-type",O+"_"+X),l.setAttributeNS(null,"data-order",X),l.setAttributeNS(null,"d","M"+x+" "+C),l.setAttributeNS(null,"tabindex","0"),a=x,o=C,J.push({mode:"add",order:X,type:O+"_"+X,index:X,d:"M"+x+" "+C}))}function fe(){w.listenAll(".focusPoints","focus",(function(e){w.selectAll(".focusPoints","removeClass","currentFocusPoint"),e.target.classList.add("currentFocusPoint")})),w.listenAll(".focusPoints","blur",(function(){w.selectAll(".focusPoints","removeClass","currentFocusPoint")}))}function xe(e){null!=e.screenX&&(z&&E&&Ge(),13==e.keyCode||32==e.keyCode||0===e.screenX?(e.preventDefault(),Ne(),ce?(w.select("#moveDrawIcon","addClass","h"),w.select("#previewSvg","css",{cursor:"crosshair"})):(w.select("#moveDrawIcon","removeClass","h"),w.select("#previewSvg","css",{cursor:"auto"}))):"click"==e.type&&0!==e.screenX&&Ne())}function Ce(e,t){U&&Ge(),"click"!=t.type&&13!=t.keyCode&&32!=t.keyCode||(O=e.getAttribute("data-title"),w.select("#previewSvg","css",{cursor:"crosshair"}),w.select("#moveDrawIcon","addClass","h"),z=0,E=0,"eraser"==O?w.selectAll(".previewDrawingPaths path","addClass","eraserHover"):w.selectAll(".previewDrawingPaths path","removeClass","eraserHover"),w.selectAll(".drawingCompassSvg","addClass","h"),"compass"==O&&w.selectAll(".drawingCompassSvg","removeClass","h"),Ke()),13!=t.keyCode&&32!=t.keyCode||"eraser"==O||"compass"==O||(w.select("#moveDrawIcon","removeClass","h"),w.select("#previewSvg","css",{cursor:"auto"})),z&&E&&Ge()}function ke(e){switch(O){case"line":case"scribble":F&&(He(e),q&&(a==n&&o==i&&"line"==O||"scribble"==O&&J[X].d.split("L").length-1<3)&&J.pop(),a==n&&o==i&&"line"==O||"scribble"==O&&J[X].d.split("L").length-1<3?J.pop():(l.setAttributeNS(null,"d",J[X].d+" L"+n+" "+i),J[X].d=J[X].d+" L"+n+" "+i,w.select(".previewDrawingPaths").prepend(l),X++,G++,W=[],w.select("#preview_clearScreen").disabled=!1,w.select("#preview_undo").disabled=!1,w.select("#preview_redo").disabled=!0)),F=!1;break;case"compass":ee=0,re=0,Q&&(He(e),c=n,d=i,s(0,$=w.select(".drawingCompassRoute").getAttribute("r")),Oe(c,d,$,V),Q=!1),F&&(J[X].d.split("L").length-1<4?J.pop():(l.setAttributeNS(null,"d",J[X].d+" L"+x+" "+C),J[X].d=J[X].d+" L"+x+" "+C,w.select(".previewDrawingPaths").prepend(l),X++,G++,W=[],w.select("#preview_clearScreen").disabled=!1,w.select("#preview_undo").disabled=!1,w.select("#preview_redo").disabled=!0),F=!1),w.selectAll("#previewSvg .lastCircle","css",{cursor:"grab"})}Le(A(J))}function Se(){s(4,T=!0),(z&&E||q)&&Ge(),!K&&B&&Fe(),Re(!0),O=_e.selectedTools[0].substr(-(_e.selectedTools[0].length-1)),w.selectAll(".preview_btn,#mark_points","removeClass","active"),w.select("#preview"+_e.selectedTools[0],"addClass","active"),"compass"==O?w.selectAll(".drawingCompassSvg","removeClass","h"):w.selectAll(".drawingCompassSvg","addClass","h"),s(2,_e.remediationMode="on",_e),w.selectAll(".previewBtnGrp","addClass","h"),O="none",w.selectAll(".preview_drawing_container","css",{pointerEvents:"none"}),w.select("#previewSvg","removeClass","previewKeySvg"),w.selectAll(".previewMarkingPaths .answer_mark","remove"),Te(),Me(JSON.parse(we)),w.selectAll("path.answer_mark","attr",{tabindex:"0","aria-labelledby":"answerLine"}),_e.correctAnswer?(w.insert(".previewMarkingPaths",'<title id="answerLine">'+r.ans_correct+"</title>","beforeend"),w.selectAll(".answer_mark","css",{stroke:"#0F9D58"})):(w.insert(".previewMarkingPaths",'<title id="answerLine">'+r.ans_incorrect+"</title>","beforeend"),w.selectAll(".answer_mark","css",{stroke:"#FF0000"}),w.selectAll(".answer_circle","css",{stroke:"#0F9D58"}))}function Ae(){s(4,T=!1),w.selectAll(".preview_drawing_container","css",{pointerEvents:""}),w.selectAll(".previewBtnGrp","removeClass","h"),w.select("#previewSvg","addClass","previewKeySvg"),O=_e.selectedTools[0].substr(-(_e.selectedTools[0].length-1)),w.selectAll(".preview_btn,#mark_points","removeClass","active"),w.select("#preview"+_e.selectedTools[0],"addClass","active"),"compass"==O?(w.selectAll(".drawingCompassSvg","removeClass","h"),w.select("#previewSvg","css",{cursor:"crosshair"}),w.select("#moveDrawIcon","addClass","h")):w.selectAll(".drawingCompassSvg","addClass","h"),w.selectAll(".preview_btn,#mark_points","removeClass","active"),w.selectAll("#preview"+_e.selectedTools[0],"addClass","active"),w.selectAll(".correct_answer_container .answer_mark","remove"),w.select("#mark_points").innerText="Mark Points",w.select("#mark_points").disabled=!1,ce=1,s(2,_e.remediationMode="off",_e),w.selectAll(".previewMarkingPaths title","remove"),w.selectAll(".answer_mark","css",{stroke:_e.markPointColor}),w.selectAll(".answer_mark","removeAttr","tabindex")}function Pe(){try{ie=_(D),null==ie.smxml._markPointColor&&(ie.smxml._markPointColor="#00ff00"),null==ie.smxml._color&&(ie.smxml._color="rgb(0, 188, 212)"),he.update((e=>(e.bgImg=ie.smxml._bgimg,e.alt=ie.smxml._imgAlt,e.imgWidth=ie.smxml._width,e.lineColor=ie.smxml._color,e.focusDATA=ie.smxml.backgroundPoint.__cdata,e.markPointColor=ie.smxml._markPointColor,e.selectedTools=ie.smxml.div._selectedDrawingType.split(","),e))),Y=[],Z=1;let e=_e.focusDATA;e="["+e.replace(/!/g,",")+"]",e=JSON.parse(e),w.selectAll(".backgroundFocusPointPreview circle,.backgroundFocusPathPreview path, .backgroundFocusPointPreview title","remove");for(let t=0;t<e.length;t++)Y.push(e[t][t]);for(let t=0;t<e.length;t++){for(let s=0;s<e[t][t].length;s++)Y[t][s].x=e[t][t][s].x,Y[t][s].y=e[t][t][s].y,l=document.createElementNS(S,"circle"),Je("#808080",5),l.setAttributeNS(null,"aria-labelledby","focusPoint_"+Z+"_title focusPoint_"+Z+"_desc"),l.setAttributeNS(null,"tabindex","0"),l.setAttributeNS(null,"class","focusPoints"),l.setAttributeNS(null,"data-focusOrder",Z),l.setAttributeNS(null,"cx",Y[t][s].x),l.setAttributeNS(null,"cy",Y[t][s].y),l.setAttributeNS(null,"r","2px"),w.select(".backgroundFocusPointPreview").append(l),w.insert(".backgroundFocusPointPreview",'<title id="focusPoint_'+Z+'_title">You are on the '+Z+' Point </title><desc id="focusPoint_'+Z+'_desc">Press shift + tab to move towards the previous point or tab to move towards the next points</desc>',"beforeend"),Z++;Ie(Y[t],1)}H=_e.lineColor,J=[],K=!0,B=!1,E=0,z=0,X=0,G=0,W=[],j=[],ce=1,de=[],O=_e.selectedTools[0].substr(-(_e.selectedTools[0].length-1)),R&&w.selectAll(".previewMarkingPaths .answer_mark,.previewDrawingPaths path","remove"),"compass"==O?(w.selectAll(".drawingCompassSvg","removeClass","h"),w.select("#previewSvg","css",{cursor:"crosshair"}),w.select("#moveDrawIcon","addClass","h")):w.selectAll(".drawingCompassSvg","addClass","h"),w.select("#mark_points").disabled=!1,w.select("#mark_points").innerText="Mark Points",w.select("#preview_undo").disabled=!0,w.select("#preview_redo").disabled=!0,w.select("#preview_clearScreen").disabled=!0,w.selectAll(".geometryToolPreview","addClass","h");for(let e=0;e<_e.selectedTools.length;e++)w.select("#preview"+_e.selectedTools[e],"removeClass","h");w.selectAll(".preview_btn,#mark_points","removeClass","active"),w.select("#preview"+_e.selectedTools[0],"addClass","active"),w.selectAll(".preview_drawing_toolbar, .centerImgPreview","attr",{style:"width:"+(Number(_e.imgWidth)+2)+"px"}),w.select(".centerImg #svgImgPreview","attr",{src:k+""+_e.bgImg,alt:_e.alt,width:_e.imgWidth}),w.enableBsAll(".tooltip_btn","Tooltip",{container:"body"})}catch(e){console.warn({error:e,func:"parseXMLForGettingData @271"})}}function Ne(){w.selectAll(".drawingCompassSvg","addClass","h"),w.selectAll("#previewSvg path","removeClass","eraserHover"),ce?(w.selectAll(".preview_btn","removeClass","active"),w.select("#mark_points").innerText="Finish Marking",w.select("#mark_points","addClass","active"),ce=0,w.selectAll(".previewMarkingPaths .answer_mark","remove"),me=[],de=[],R||w.selectAll(".correct_answer_container .answer_mark","remove"),O="markPoints"):(w.select("#mark_points").innerText="Mark Points",w.select("#mark_points","removeClass","active"),de.length>=1&&(Ie(de),"on"==_e.remediationMode&&Re()),O=_e.selectedTools[0].substr(-(_e.selectedTools[0].length-1)),w.select("#moveDrawIcon","addClass","h"),w.select("#previewSvg","css",{cursor:"crosshair"}),w.select("#preview"+_e.selectedTools[0],"addClass","active"),"compass"==O?w.selectAll(".drawingCompassSvg","removeClass","h"):w.selectAll(".drawingCompassSvg","addClass","h"),ce=1)}function Me(e){for(let t=0;t<e.length;t++)l=document.createElementNS(S,"circle"),Je(_e.markPointColor,5),l.setAttributeNS(null,"class","answer_mark"),l.setAttributeNS(null,"cx",e[t].x),l.setAttributeNS(null,"cy",e[t].y),l.setAttributeNS(null,"r","2px"),w.select(".previewMarkingPaths").prepend(l);Ie(e)}function De(e,t){if(null!=w.select(e).getAttribute("data-order")){W=[];let s="",r=t.indexOf(t[w.select(e).getAttribute("data-order")]),l="["+JSON.stringify(t[r])+"]";s=A(JSON.parse(l)),s[0].mode="remove",t.push(s[0]),Le(A(t)),X++,G++,w.select(e,"remove"),w.select("#preview_redo").disabled=!0,w.select("#preview_undo").disabled=!1,0==w.selectAll(".previewDrawingPaths path").length&&(w.select("#preview_clearScreen").disabled=!0)}}function Le(e){pe=[];let t=0;for(let s=0;s<e.length;s++)for(t=s+1;t<e.length;)e[s].type==e[t].type&&"add"==e[s].mode&&"remove"==e[t].mode&&(e[s].mode=null,e[t].mode=null),t++;for(let t=0;t<e.length;t++)e=e.filter((function(e){return null!=e.mode}));pe.push(e),Te()}function Te(){we=[],we=0==de.length?JSON.stringify(me):JSON.stringify(de),ue='<smans type="41"><markpoints>'+we+"</markpoints><userDrawPath>"+JSON.stringify(pe[0])+"</userDrawPath><ansCorrect>"+oe+"</ansCorrect></smans>",window.ISSPECIALMODULEUSERXMLCHANGE=1,w.select("#special_module_user_xml","value",ue)}function Ie(e,t){if(0==e.length)return;l=document.createElementNS(S,"path");let s="M "+e[0].x+" "+e[0].y,r="";for(let t=1;t<e.length;t++)r+=" L "+e[t].x+" "+e[t].y;l.setAttributeNS(null,"d",s+""+r),t?(Je("rgb(128, 128, 128)",5),w.select(".backgroundFocusPathPreview").prepend(l)):(Je(_e.markPointColor,5),l.setAttributeNS(null,"class","answer_mark"),w.select(".previewMarkingPaths").prepend(l))}function Re(e){ie=_(_e.xml),ae=ie.smxml.div.__cdata,ae="["+ae.replace(/!/g,",")+"]",ae=JSON.parse(ae);let t=[];t=de,R||L&&0==de.length&&(t=me),Be(t,e),Ee(oe,t,e),e&&(w.select("#mark_points").innerText="Mark Points",w.select("#mark_points").disabled=!1,ce=1)}function Fe(){w.selectAll("#previewSvg .lastCircle","removeClass","lastCircle_hover"),w.selectAll("#previewSvg .lastCircle","css",{cursor:"grab"}),K=!0,-1==J[X].d.indexOf("L")?J.pop():(l.setAttributeNS(null,"d",J[X].d+" L"+x+" "+C),J[X].d=J[X].d+" L"+x+" "+C,w.select(".previewDrawingPaths").prepend(l),X++,G++,W=[],w.select("#preview_undo").disabled=!1,w.select("#preview_clearScreen").disabled=!1,w.select("#preview_redo").disabled=!0),Le(A(J))}function Ke(){w.selectAll(".previewMarkingPaths .answer_mark","remove"),R||w.selectAll(".correct_answer_container .answer_mark","remove"),de=[],w.select("#mark_points").innerText="Mark Points",w.select("#mark_points").disabled=!1,ce=1}function Be(e,t){let s=[];if(t)for(let e=0;e<ae.length;e++)l=document.createElementNS(S,"circle"),Je("#0F9D58","2"),l.setAttributeNS(null,"class","answer_mark answer_circle"),l.setAttributeNS(null,"cx",ae[e].x),l.setAttributeNS(null,"cy",ae[e].y),l.setAttributeNS(null,"r",ae[e].r),w.select(".correct_answer_container").prepend(l);if(0==ae.length||0==e.length)return void(oe=!1);let r=1==e.length?e.length:e.length-1;for(let t=0;t<ae.length;t++)for(let l=0;l<r;l++){if(1==r&&1==e.length&&P(e[l].x,e[l].y,0,0,ae[t].x,ae[t].y,ae[t].r)){s.push("Match");break}if(r>=1&&e.length>1&&P(e[l].x,e[l].y,e[l+1].x,e[l+1].y,ae[t].x,ae[t].y,ae[t].r)){s.push("Match");break}}oe=s.length==ae.length,s=[]}function Ee(e,t,l){e?(s(2,_e.correctAnswer=!0,_e),l&&(ae.length&&t.length&&Ie(t),w.selectAll(".answer_mark","css",{stroke:"#0F9D58"}),R&&I(r.correct))):(s(2,_e.correctAnswer=!1,_e),l&&(ae.length&&t.length&&Ie(t),w.selectAll(".answer_mark","css",{stroke:"#ff0000"}),w.selectAll(".answer_circle","css",{stroke:"#0F9D58"}),R&&I(r.incorrect))),y({uXml:ue,ans:_e.correctAnswer})}function ze(){te.x=Number(w.select(".compassRotationBar").getAttribute("x1")),te.y=Number(w.select(".compassRotationBar").getAttribute("y1")),se.x=Number(w.select(".compassRotationBar").getAttribute("x2")),se.y=Number(w.select(".compassRotationBar").getAttribute("y2")),s(0,$=Number(w.select(".drawingCompassRoute").getAttribute("r"))),s(1,V=180*Math.atan2(se.y-te.y,se.x-te.x)/Math.PI)}function Oe(e,t,s,r){p=e+s/2*Math.cos(r*(Math.PI/180)),u=t+s/2*Math.sin(r*(Math.PI/180)),m=e+3*s/4*Math.cos(r*(Math.PI/180)),b=t+3*s/4*Math.sin(r*(Math.PI/180)),x=e+s*Math.cos(r*(Math.PI/180)),C=t+s*Math.sin(r*(Math.PI/180)),N=e+5*s/4*Math.cos(r*(Math.PI/180)),M=t+5*s/4*Math.sin(r*(Math.PI/180)),w.selectAll(".drawingCompassRoute,.drawingCompassCenter","attr",{cx:e,cy:t}),w.selectAll(".drawingCompassRoute","attr",{r:s}),w.selectAll(".compassRotationBar","attr",{x1:e,y1:t,x2:x,y2:C}),w.selectAll("#previewSvg .lastCircleMid","attr",{cx:N,cy:M,transform:"rotate("+r+","+N+","+M+")"}),w.selectAll("#previewSvg .lastCircle","attr",{cx:x,cy:C}),w.selectAll("#previewSvg .midSmallCircle","attr",{cx:m,cy:b,transform:"rotate("+r+","+m+","+b+")"}),w.selectAll("#previewSvg .mid_circle","attr",{cx:p,cy:u,transform:"rotate("+r+","+p+","+u+")"});let l=r;l<0&&(l=360+l),w.select("#compassRotationTitle").innerText="Compass Angle, Your Current Angle is "+l.toFixed(0)+" degree",w.select("#compassRadiusTitle").innerText="Compass Radius, Your Current Radius is "+(.02649*s).toFixed(1)+"cm"}function He(e){let t=document.getElementById("previewSvg").getBoundingClientRect();n=e.clientX-t.left,i=e.clientY-t.top}function Je(e,t){l.style.stroke=e,l.style.strokeWidth=t,l.style.fill="none"}function Xe(e,t){if(!w.select(".drawingCompassSvg").classList.contains("h")&&"compass"==O){let r=w.select("#svgImgPreview").clientWidth,n=w.select("#svgImgPreview").clientHeight;if(ze(),t.shiftKey&&(38==t.keyCode||37==t.keyCode||39==t.keyCode||40==t.keyCode)){if("radius"==e)switch(t.keyCode){case 38:s(0,$++,$);break;case 37:s(0,$--,$);break;case 39:s(0,$++,$);break;case 40:s(0,$--,$)}if("move"==e)switch(t.keyCode){case 38:te.y--;break;case 37:te.x--;break;case 39:te.x++;break;case 40:te.y++}if("rotate"==e||"draw"==e)switch(t.keyCode){case 38:s(1,V++,V);break;case 39:s(1,V--,V);break;case 37:s(1,V++,V);break;case 40:s(1,V--,V)}if("draw"==e&&(w.select("#previewSvg .lastCircle").classList.contains("lastCircle_hover")||w.select("#previewSvg .lastbigcircle").classList.contains("lastCircle_hover"))&&(l.setAttributeNS(null,"d",J[X].d+" L"+x+" "+C),J[X].d=J[X].d+" L"+x+" "+C,w.select(".previewDrawingPaths").prepend(l)),te.x<10||$<80||$>360||te.x>r||te.y<10||te.y>n)return;Oe(te.x,te.y,$,V)}}}function Ge(){a==ne&&o==le&&"line"==O||"scribble"==O&&-1==J[X].d.indexOf("L")?J.pop():(isNaN(ne)&&isNaN(le)||(l.setAttributeNS(null,"d",J[X].d+" L"+ne+" "+le),J[X].d=J[X].d+" L"+ne+" "+le,w.select(".previewDrawingPaths").prepend(l)),X++,G++,W=[],w.select("#preview_undo").disabled=!1,w.select("#preview_clearScreen").disabled=!1,w.select("#preview_redo").disabled=!0),U=0,z=0,E=0,q=0,Le(A(J))}return v((async()=>{ge=-1!=navigator.userAgent.indexOf("Mac"),Oe(160,118,100,90),w.listen("body","click","#set-review",(function(){Se()})),w.listen("body","click","#unset-review",(function(){Ae()})),w.listen("body","click","#preview_reset_btn",(function(){g({text:r.reset_module,icon:"warning",buttons:!0}).then((e=>{e&&(Pe(),fe())}))})),w.bind("body","keydown",(function(e){if(!R&&(32==e.keyCode||37==e.keyCode||38==e.keyCode||39==e.keyCode||40==e.keyCode))return!1})),w.listen("body","keyup",".previewKeySvg .previewDrawingPaths path",(function(e,t){(46==t.keyCode||8==t.keyCode&&ge)&&De(e,J)})),w.listen("body","keyup",".previewKeySvg",(function(e,t){90==t.keyCode&&t.ctrlKey&&!w.select("#preview_undo").disabled&&(z&&E&&Ge(),w.select("#preview_undo").click()),89==t.keyCode&&t.ctrlKey&&!w.select("#preview_redo").disabled&&(z&&E&&Ge(),w.select("#preview_redo").click()),88==t.keyCode&&t.ctrlKey&&w.select("#preview_clearScreen").click(),13!=t.keyCode&&32!=t.keyCode||"compass"==O||"eraser"==O||(w.select("#moveDrawIcon","removeClass","h"),w.select(".previewKeySvg","css",{cursor:"auto"})),!t.shiftKey||13!=t.keyCode&&32!=t.keyCode||0==w.select("#moveDrawIcon").offsetHeight||("markPoints"==O?(l=document.createElementNS(S,"circle"),Je(_e.markPointColor,5),l.setAttributeNS(null,"class","answer_mark"),l.setAttributeNS(null,"cx",ne),l.setAttributeNS(null,"cy",le),l.setAttributeNS(null,"r","2px"),de.push({x:ne,y:le}),w.select(".previewMarkingPaths").prepend(l),Re(!1),Te()):E?Ge():(z=1,Ke(),l=document.createElementNS(S,"path"),Je(H,5),l.setAttributeNS(null,"data-type",O+"_"+X),l.setAttributeNS(null,"data-order",X),l.setAttributeNS(null,"d","M"+ne+" "+le),l.setAttributeNS(null,"tabindex","0"),a=ne,o=le,J.push({mode:"add",order:X,type:O+"_"+X,index:X,d:"M"+ne+" "+le}),E=1))})),w.listen("body","keydown",".previewKeySvg",(function(e,t){if(w.select("#moveDrawIcon").offsetHeight){let e=w.select("#svgImgPreview").clientWidth,s=w.select("#svgImgPreview").clientHeight;if(t.shiftKey&&(38==t.keyCode||37==t.keyCode||39==t.keyCode||40==t.keyCode)&&!q){switch(t.keyCode){case 38:le--;break;case 40:le++;break;case 39:ne++;break;case 37:ne--}if(le<0||ne>e||ne<0||le>s)return;w.select("#moveDrawIcon","css",{top:le+"px",left:ne+"px"}),z&&(l.setAttributeNS(null,"d",J[X].d+" L"+ne+" "+le),"line"!=O&&(J[X].d=J[X].d+" L"+ne+" "+le),w.select(".previewDrawingPaths").prepend(l),E=1)}if(t.shiftKey&&76==t.keyCode&&(q?(q=0,Ge()):(q=1,z=1,Ke(),ne=Number(w.select(".currentFocusPoint").getAttribute("cx")),le=Number(w.select(".currentFocusPoint").getAttribute("cy")),l=document.createElementNS(S,"path"),Je(H,5),l.setAttributeNS(null,"data-type",O+"_"+X),l.setAttributeNS(null,"data-order",X),l.setAttributeNS(null,"d","M"+ne+" "+le),l.setAttributeNS(null,"tabindex","0"),a=ne,o=le,J.push({mode:"add",order:X,type:O+"_"+X,index:X,d:"M"+ne+" "+le}))),9==t.keyCode&&q&&("line"==O||"scribble"==O)){let e=setTimeout((function(){w.select(".currentFocusPoint").nodeName&&(ne=Number(w.select(".currentFocusPoint").getAttribute("cx")),le=Number(w.select(".currentFocusPoint").getAttribute("cy")),isNaN(ne)&&isNaN(le)||("scribble"!=O&&"line"!=O||(U=1),l.setAttributeNS(null,"d",J[X].d+" L"+ne+" "+le),w.select(".previewDrawingPaths").prepend(l),clearTimeout(e)))}),10)}if(68==t.keyCode&&q&&U){let e=setTimeout((function(){isNaN(ne)&&isNaN(le)||(J[X].d=J[X].d+" L"+ne+" "+le,w.select(".previewDrawingPaths").prepend(l),clearTimeout(e),U=0)}),10)}}})),w.listen("body","keydown",".previewKeySvg .drawingCompassCenter",(function(e,t){Xe("move",t)})),w.listen("body","keydown",".previewKeySvg .mid_circle",(function(e,t){Xe("radius",t)})),w.listen("body","keydown",".previewKeySvg .midSmallCircle",(function(e,t){Xe("rotate",t)})),w.listen("body","keydown",".previewKeySvg .lastCircle",(function(e,t){Xe("draw",t)})),w.listen("body","keydown",".focusPoints",(function(e,t){if(t.shiftKey&&13==t.keyCode)return!1;13!=t.keyCode&&32!=t.keyCode||"markPoints"==O||"eraser"==O||(ne=Number(w.select(".currentFocusPoint").getAttribute("cx")),le=Number(w.select(".currentFocusPoint").getAttribute("cy")),"compass"!=O?w.select("#moveDrawIcon","css",{top:le+"px",left:ne+"px"}):Oe(ne,le,$,V))})),w.listen("body","keyup",".previewKeySvg .lastCircle",(function(e,t){!K&&B&&16==t.keyCode&&Fe()})),w.bind(".previewKeySvg .lastCircle","blur",(function(){!K&&B&&Fe()})),w.listen("body","mousedown","#previewSvg .midSmallCircle",(function(){"compass"==O&&(re=1,ze())})),w.listen("body","mousedown","#previewSvg .drawingCompassCenter",(function(){"compass"==O&&(He(event),c=n,d=i,s(0,$=w.select(".drawingCompassRoute").getAttribute("r")),Oe(c,d,$,V),Q=!0)})),w.listen("body","mousedown","#previewSvg .mid_circle",(function(){"compass"==O&&(ee=1)})),w.listen("body","mousedown","#previewSvg .lastCircle",(function(e,t){ye(t)})),w.listen("body","keydown","#previewSvg .lastCircle",(function(e,t){ye(t)})),w.listen("body","mousedown","#previewSvg",(function(e,t){switch(w.select("#previewSvg","css",{cursor:"crosshair"}),w.select("#moveDrawIcon","addClass","h"),(z&&E||q)&&Ge(),O){case"line":case"scribble":Ke(),F=!0,He(t),l=document.createElementNS(S,"path"),Je(H,5),l.setAttributeNS(null,"data-type",O+"_"+X),l.setAttributeNS(null,"data-order",X),l.setAttributeNS(null,"d","M"+n+" "+i),l.setAttributeNS(null,"tabindex","0"),a=n,o=i,J.push({mode:"add",order:X,type:O+"_"+X,index:X,d:"M"+n+" "+i});break;case"eraser":De(".currentSvg",J);break;case"markPoints":ce||(He(t),l=document.createElementNS(S,"circle"),Je(_e.markPointColor,5),l.setAttributeNS(null,"class","answer_mark"),l.setAttributeNS(null,"cx",n),l.setAttributeNS(null,"cy",i),l.setAttributeNS(null,"r","2px"),de.push({x:n,y:i}),w.select(".previewMarkingPaths").prepend(l),Re(!1),Te())}})),w.listen("body","mousemove","#previewSvg",(function(e,t){switch(O){case"line":F&&(He(t),l.setAttributeNS(null,"d",J[X].d+" L"+n+" "+i),a==n&&o==i||w.select(".previewDrawingPaths").prepend(l));break;case"scribble":F&&(He(t),l.setAttributeNS(null,"d",J[X].d+" L"+n+" "+i),J[X].d=J[X].d+" L"+n+" "+i,J[X].d.split("L").length-1<3||w.select(".previewDrawingPaths").prepend(l));break;case"compass":He(t),Q&&(c=n,d=i,s(0,$=w.select(".drawingCompassRoute").getAttribute("r")),Oe(c,d,$,V)),ee&&(ze(),s(0,$=2*Math.sqrt(Math.pow(n-te.x,2)+Math.pow(i-te.y,2))),$<80&&s(0,$=80),$>360&&s(0,$=360),Oe(te.x,te.y,$,V)),re&&(ze(),s(1,V=180*Math.atan2(i-te.y,n-te.x)/Math.PI),V<0&&s(1,V=360+V),Oe(te.x,te.y,$,V)),F&&(w.select("#previewSvg .lastCircle").classList.contains("lastCircle_hover")||w.select("#previewSvg .lastbigcircle").classList.contains("lastCircle_hover")?(l.setAttributeNS(null,"d",J[X].d+" L"+x+" "+C),J[X].d=J[X].d+" L"+x+" "+C,J[X].d.split("L").length-1<4||w.select(".previewDrawingPaths").prepend(l)):ke(t))}})),w.listen("body","mouseup","#previewSvg",(function(e,t){ke(t)})),w.bind("#previewSvg","mouseleave",(function(e){ke(e)})),w.listen("body","click",".preview_toolbar",(function(e,t){Ce(e,t)})),w.listen("body","keyup",".preview_toolbar",(function(e,t){Ce(e,t)})),w.listen("body","mouseover",".previewDrawingPaths path",(function(e){"eraser"==O&&(w.selectAll(".previewDrawingPaths path","removeClass","currentSvg"),e.classList.add("currentSvg"))})),w.listen("body","mouseout",".previewDrawingPaths path",(function(e){"eraser"==O&&e.classList.remove("currentSvg")})),w.listen("body","mousemove","#previewSvg .lastCircle",(function(e){e.classList.add("lastCircle_hover"),w.selectAll("#previewSvg .lastCircleMid","attr",{opacity:1})})),w.listen("body","mouseout","#previewSvg .lastCircle",(function(e){e.classList.remove("lastCircle_hover"),w.selectAll("#previewSvg .lastCircleMid","attr",{opacity:0})})),w.listenAll("#previewSvg .lastCircle","focus",(function(e){e.target.classList.add("lastCircle_hover"),w.selectAll("#previewSvg .lastCircleMid","attr",{opacity:1})})),w.listenAll("#previewSvg .lastCircle","blur",(function(e){e.target.classList.remove("lastCircle_hover"),w.selectAll("#previewSvg .lastCircleMid","attr",{opacity:0})})),w.listen("body","click",".preview_btn",(function(e){w.selectAll(".preview_btn, #mark_points","removeClass","active"),e.classList.add("active")})),w.listen("body","click","#preview_clearScreen",(function(){w.selectAll(".previewDrawingPaths path","remove"),G=0,X=0,J=[],Le(A(J)),w.select("#preview_undo").disabled=!0,w.select("#preview_redo").disabled=!0,w.select("#preview_clearScreen").disabled=!0})),w.listen("body","click","#preview_undo",(function(e){1==G&&(e.disabled=!0),w.select("#preview_redo").disabled=!1,"add"==J[J.length-1].mode?w.selectAll('#previewSvg [data-order="'+(J.length-1)+'"]',"remove"):"remove"==J[J.length-1].mode&&(l=document.createElementNS(S,"path"),Je(H,5),l.setAttributeNS(null,"data-type",J[J.length-1].type),l.setAttributeNS(null,"data-order",J[J.length-1].order),l.setAttributeNS(null,"d",J[J.length-1].d),l.setAttributeNS(null,"tabindex","0"),"eraser"==O&&l.setAttributeNS(null,"class","eraserHover"),w.select(".previewDrawingPaths").prepend(l)),W.push(J.pop()),Le(A(J)),X--,G--,w.select("#preview_clearScreen").disabled=0==w.selectAll(".previewDrawingPaths path").length,0==J.length&&(e.disabled=!0)})),w.listen("body","click","#preview_redo",(function(e){X++,W.length>0&&j.push(W.pop()),"add"==j[j.length-1].mode?(l=document.createElementNS(S,"path"),Je(H,5),l.setAttributeNS(null,"data-type",j[j.length-1].type),l.setAttributeNS(null,"data-order",j[j.length-1].order),l.setAttributeNS(null,"d",j[j.length-1].d),l.setAttributeNS(null,"tabindex","0"),"eraser"==O&&l.setAttributeNS(null,"class","eraserHover"),w.select(".previewDrawingPaths").prepend(l)):"remove"==j[j.length-1].mode&&w.selectAll('#previewSvg [data-order="'+j[j.length-1].order+'"]',"remove"),G++,J.push(j.pop()),Le(A(J)),w.select("#preview_clearScreen").disabled=0==w.selectAll(".previewDrawingPaths path").length,0==W.length&&(e.disabled=!0),w.select("#preview_undo").disabled=!1})),w.listen("body","click","#mark_points",(function(e,t){xe(t)})),w.listen("body","keyup","#mark_points",(function(e,t){xe(t)}))})),h((async()=>{var e,t;_e.xml!=D&&(Pe(),s(2,_e.xml=D,_e),fe(),void 0===R&&(w.selectAll(".reset_group","remove"),L&&(-1==L.search('<smans type="41">')||0==L.search('<smans type="41"></smans>')||-1!=L.search("undefined")?w.select("#special_module_user_xml","value",""):(T?(w.selectAll(".previewBtnGrp","addClass","h"),O="none",w.selectAll(".preview_drawing_container","css",{pointerEvents:"none"}),w.select("#previewSvg","removeClass","previewKeySvg")):(w.selectAll(".preview_drawing_container","css",{pointerEvents:""}),w.selectAll(".previewBtnGrp","removeClass","h"),w.select("#previewSvg","addClass","previewKeySvg"),O=_e.selectedTools[0].substr(-(_e.selectedTools[0].length-1)),w.selectAll(".preview_btn,#mark_points","removeClass","active"),w.select("#preview"+_e.selectedTools[0],"addClass","active")),e=w.select("#special_module_user_xml").value,t=T,e=_(e),me=JSON.parse(e.smans.markpoints),null==e.smans.userDrawPath&&(e.smans.userDrawPath=""),be=JSON.parse(e.smans.userDrawPath),ve="true"==e.smans.ansCorrect.toLowerCase(),ie=_(D),ae=ie.smxml.div.__cdata,ae="["+ae.replace(/!/g,",")+"]",ae=JSON.parse(ae),Me(me),function(){be.length&&(w.select("#preview_undo").disabled=!1,w.select("#preview_undo").disabled=!1);for(let e=0;e<be.length;e++)be[e].type=be[e].type.substr(0,be[e].type.indexOf("_"))+"_"+e,be[e].order=e,l=document.createElementNS(S,"path"),Je(H,5),l.setAttributeNS(null,"data-type",be[e].type),l.setAttributeNS(null,"data-order",be[e].order),l.setAttributeNS(null,"d",be[e].d),l.setAttributeNS(null,"tabindex","0"),w.select(".previewDrawingPaths").prepend(l);X=be.length,J=A(be)}(),Be(me,t),Ee(ve,me,t))))),_e.review!=T&&R&&(he.update((e=>(e.review=T,e))),T?Se():Ae())})),e.$$set=e=>{"xml"in e&&s(5,D=e.xml),"uxml"in e&&s(6,L=e.uxml),"isReview"in e&&s(4,T=e.isReview),"showAns"in e&&s(7,I=e.showAns),"editorState"in e&&s(8,R=e.editorState)},[$,V,_e,function(){w.getBS("#drawing_shortcut_modal","Modal").show()},T,D,L,I,R]}export default class extends e{constructor(e){super(),t(this,e,N,C,s,{xml:5,uxml:6,isReview:4,showAns:7,editorState:8},[-1,-1,-1])}}
//# sourceMappingURL=DrawingPreview-14604fdb.js.map
