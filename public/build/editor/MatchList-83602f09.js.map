{"version":3,"file":"MatchList-83602f09.js","sources":["../../../clsSMMatchList/lib/ValidateItems.js","../../../clsSMMatchList/MatchList.svelte"],"sourcesContent":["/**\r\n *  Filename    : ValidateItems.js\r\n *  @Author     : Saquib Ajaz <saquib.ajaz@ucertify.com>\r\n *  @Version    : 1.0\r\n *  Last update : 29 May 2020\r\n *  Last updated by: Dharmendra Mishra\r\n */\r\nimport l from \"../../src/libs/editorLib/language.js\";\r\n\r\nexport const smVal = {\r\n    err: {\r\n        q9: l.max_error,\r\n        q27:\r\n            \"You have exceeded the module limit. You can only create 6 statement nodes and 4 option nodes.\",\r\n        q6_advance: l.max_row_col_error\r\n    },\r\n\r\n    processError: function(err, msg) {\r\n        var smErr = {\r\n        error: err,\r\n        message: msg\r\n        };\r\n        return smErr;\r\n    },\r\n  //@TOOD:? @pradeep item-refactor\r\n    validate: function(type, subtype, content_icon) {\r\n        if (type == \"q\" || type == \"u\") {\r\n        switch (subtype) {\r\n            case 9:\r\n            return this.validate9(content_icon);\r\n            case 14:\r\n            return this.validate14(content_icon);\r\n            case 6:\r\n            return this.validate6(content_icon);\r\n            case 26:\r\n            return this.validate26(content_icon);\r\n            case 27:\r\n            return this.validate27(content_icon);\r\n        }\r\n        }\r\n    },\r\n\r\n    validate9: function(icon) {\r\n        var len = AH.selectAll(\"#fillmain [id^=elem]\").length;\r\n        if (len > 6) {\r\n        return this.processError(true, this.err.q9);\r\n        } else {\r\n        return this.processError(false, \"valid\");\r\n        }\r\n    },\r\n\r\n    validate6: function(icon) {\r\n         //var len = jQuery(\"#choose\").find(\"#sortable li\").length;\r\n    let len = AH.selectAll(\"#choose #sortable li\").length;\r\n    console.log(\"len =>\"+len);\r\n    if (len > 5) {\r\n      return this.processError(true, this.err.q9);\r\n    } else {\r\n      return this.processError(false, \"valid\");\r\n    }\r\n    },\r\n\r\n    validate26: function(icon) {\r\n         //var len = jQuery(\"#mytable >tbody >tr\").length;\r\n        let len = AH.selectAll(\"#mytable >tbody >tr\").length;\r\n        //var len1 = jQuery(\"#mytable >thead >tr >th\").length;\r\n        let len1 = AH.selectAll(\"#mytable >thead >tr >th\").length;\r\n        if (len > 5 || len1 > 6) {\r\n        return this.processError(true, this.err.q6_advance);\r\n        } else {\r\n        return this.processError(false, \"valid\");\r\n        }\r\n    },\r\n\r\n    validate14: function(icon) {\r\n        var len1 =AI.selectAll(\"#matchListArea [class*='textarea_1']\").length;\r\n\r\n        var len2 = AI.selectAll(\"#matchListArea [class*='textarea_2']\").length;\r\n        if (len1 > 6 || len2 > 6) {\r\n        return this.processError(true, this.err.q9);\r\n        } else {\r\n        return this.processError(false, \"valid\");\r\n        }\r\n    },\r\n    validate27: function(icon) {\r\n        let len1 = AH.selectAll(\"#choicemain .testmode_table tbody tr\").length;\r\n        //var len2 = jQuery(\"#choicemain\").find(\".testmode_table thead tr th\").length;\r\n        let len2 = AH.selectAll(\"#choicemain .testmode_table thead tr th\").length;\r\n        if (len1 > 6 || len2 > 5) {\r\n          return this.processError(true, this.err.q27);\r\n        } else {\r\n          return this.processError(false, \"valid\");\r\n        }\r\n    }\r\n};","\r\n<!-- \r\n*  File Name   : MatchList.svelte\r\n*  Description : Match the list options and type\r\n*  Author      : Sundaram Tripathi\r\n*  Version     : 1.0\r\n*  Package     : svelte_items\r\n*  Last update :  -->\r\n\r\n<script> \r\n\t\r\n    import {onMount,afterUpdate,beforeUpdate} from 'svelte';\r\n\timport {writable} from 'svelte/store';\r\n\timport Loader from '../helper/Loader.svelte';\r\n\timport {AH,XMLToJSON,JSONToXML} from \"../helper/HelperAI.svelte\";\r\n    import {smVal} from './lib/ValidateItems';\r\n    import l from '../src/libs/editorLib/language.js'\r\n    import { Button, Dialog, Checkbox } from 'svelte-mui/src';\r\n\timport './css/matchlistAuth.css'\r\n\r\n\r\n\t////exporting vaiables\r\n\texport let editorState;\r\n    export let xml;\r\n    export let getChildXml;\r\n    export let smValidate;\r\n\r\n\r\n    // variables declration\r\n    let timer = {};\r\n    let tempdata1 = [];\r\n    let tempdata2 = [];\r\n    let listheading1 = \"\";\r\n    let listheading2 = \"\";\r\n    let multimatch = \"\";\r\n    let list1 = [];\r\n    let list2 = [];\r\n    let localCData = [];\r\n    let cdata = \"\";\r\n    let editFlag = false;\r\n    let editValue = \"\";\r\n    let clsname = \"\";\r\n    let columnid = \"\";\r\n    let columnname = \"\";\r\n    let index;\r\n    let row = 0;\r\n    let state = {};\r\n\r\n////// Holding states in writable form /////\r\n\r\n    let stateData = writable({\r\n        snackback               :false,\r\n        xml                     :\"\",\r\n        listheading1            :\"\",\r\n        listheading2            :\"\",\r\n        multimatch              :\"\",\r\n        openResponseDialog      :false,\r\n        setting                 :1,\r\n        openImageDialog         :false,\r\n        imageClass              : \"\",\r\n        maxnode                 : 0,\r\n        clname                  :\"\",\r\n        anchorEl                : null,\r\n        drag_mode               : false,\r\n        openDeleteDialog        : false,\r\n        row_id                  :\"\",\r\n\t\tdir\t\t\t\t\t\t: false,\r\n    })\r\n\r\n    const unsubscribe = stateData.subscribe((items) => {\r\n        state = items;\r\n    })\r\n\r\n\r\n        \r\n    beforeUpdate(()=>{\r\n\t\t\r\n        if( state.xml!= xml ) {\r\n            state.xml = xml;\r\n\t\t\ttempdata1 = [];\r\n    \t\ttempdata2 = [];\r\n\t\t\t\r\n\t\t\t\r\n            var newXml = XMLToJSON(state.xml);\r\n            parseXMLAuthoring(newXml);\r\n         }\r\n    })\r\n\r\n\tfunction loadLibs() {\r\n        let config = {\r\n            preload: true,\r\n            type: 'stylesheet',\r\n            as: 'style'\r\n        }\r\n        //AH.createLink(itemUrl + 'clsSMMatchList/css/matchlistAuth.css', config);\r\n    }\r\n\r\n    onMount(()=>{\r\n\t\t//loadLibs();\r\n        // preventing the enter key in the textarea\r\n        AH.listen(document,'keydown','textarea',function(event) {\r\n            if(event.keyCode == 13) {\r\n                event.preventDefault();\r\n            }\r\n\t\t});\r\n\t\t// jQuery(document).off(\"keydown\",\"textarea\").on(\"keydown\", \"textarea\", function(event) {\r\n\t\t// \tif (event.keyCode == 13) {\r\n\t\t// \t\tevent.preventDefault();\r\n\t\t// \t}\r\n\t\t// });\r\n\t\t// for deleting the image\r\n\t\tAH.listen(document,'click','.image_delete', (_ele) => {\r\n\t\t\tlet newValue\r\n\t\t\tlet oldImage = AH.find(_ele.parentElement.parentElement,'textarea').value;\r\n\t\t\tif(AH.find(_ele.parentElement.parentElement,'textarea').id == \"matchList1\") {\r\n\t\t\t\tnewValue = state.xml.replace(oldImage, \"Insert value2\");\r\n\t\t\t} else {\r\n\t\t\t\tnewValue = state.xml.replace(oldImage, \"Insert value1\");\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tgetChildXml(newValue);\r\n\t\t})\r\n\r\n\r\n\t\t// jQuery('#matchListArea').tooltip({\r\n\t\t// \tselector: '[data-toggle=\"tooltip\"]'\r\n\t\t// });\r\n\t\t\r\n\t\t\r\n\t\tAH.listen(document,'mouseup','.ui-droppable',function() {\r\n\t\t\tsetTimeout(function() {\r\n\t\t\t\tdocument.querySelectorAll(\".matchlist-delete\").forEach((_elm) => {\r\n\t\t\t\t\t_elm.classList.add(\"tts_nospeak\");\r\n\t\t\t\t})\r\n\t\t\t})\r\n\t\t})\r\n\t\t//jQuery('.algo_div span').css('color','#333');\r\n\t\tlet algo_div_len = document.querySelectorAll(\".algo_div span\");\r\n\t\tfor(let i = 0; i < algo_div_len.length; i++) {\r\n\t\t\talgo_div_len[i].style.color = \"#333\";\r\n\t\t}\r\n\r\n\t\t// jQuery(document).on('keydown', '.delete_match_node, .delete_match_node_auth', function(event) {\r\n\t\t// \tif ((event.keyCode == 13 || event.which == 13)) {\r\n\t\t// \t// click the element which currently get the focus and enter key is down\r\n\t\t// \tjQuery(this).trigger('click');\r\n\t\t// \tevent.preventDefault();\r\n\t\t// \t}\r\n\t\t// });\r\n\t\tAH.listen(document,'keydown','.delete_match_node, .delete_match_node_auth', function(data,event) {\r\n\t\t\tif((event.keyCode == 13 || event.which == 13)) {\r\n\t\t\t\t// Need ti fix one more line here....\r\n\t\t\t\tevent.preventDefault();\r\n\t\t\t}\r\n\t\t})\r\n    })\r\n\r\n    // this function is responsible for parsing the xml\r\n\tfunction parseXMLAuthoring(QXML) {\r\n\t\tlist1 = [];\r\n\t\tlist2 = [];\r\n\t\tlocalCData = [];\r\n\t\t// setting the state with the value in the xml\r\n\t\tstate.listheading1 = QXML.smxml.matchlist._listheading1;\r\n\t\tstate.listheading2 = QXML.smxml.matchlist._listheading2;\r\n\t\tstate.multimatch = QXML.smxml.matchlist._multimatch;\r\n\t\tstate.drag_mode = (QXML.smxml.matchlist._multimatch == 2) ? true : false\r\n\t\t\r\n\t\t// storing the values in multimatch and cdata\r\n\t\tmultimatch = QXML.smxml.matchlist._multimatch;\r\n\t\tcdata = QXML.smxml.matchlist.__cdata;\r\n\r\n\t\t// checking for if is_algo is defined in xml or not\r\n\t\tif (QXML.smxml.matchlist._is_algo) {\r\n\t\t\t// if is_algo is true then put the value in isalgo as true else false\r\n\t\t\tstate.isalgo = (QXML.smxml.matchlist._is_algo == \"true\" ? true : false);\r\n\t\t} else {\r\n\t\t\t// if is_algo is not defined means its value will be false\r\n\t\t\tstate.isalgo = false;\r\n\t\t}\r\n\r\n\t\t// for the maximum no of node i.e, max_node\r\n\t\tif (QXML.smxml.matchlist._max_node) {\r\n\t\t\tvar num = Number(QXML.smxml.matchlist._max_node);\r\n\t\t\tstate.maxnode = ( num > 0 ? num : 0 )\r\n\t\t} else {\r\n\t\t\tstate.maxnode = '';\r\n\t\t}\r\n\t\t// splitting the cdata with new line\r\n\t\tcdata = cdata.split(\"\\n\");\r\n\r\n\t\t\r\n\t\t// traversing through the cdata\r\n\t\t// jQuery(cdata).each( function (i) {\r\n\t\tcdata.forEach(function(data,i) {\r\n\t\t\tif (cdata[i].trim() != \"\") {\r\n\t\t\t\t// Finding the opening and closing brackets in cdata\r\n\t\t\t\tif (cdata[i].indexOf(\"[\") >= 0 && cdata[i].indexOf(\"]\") >= 0) {\r\n\t\t\t\t\t// extracting value 1 by replcing the content start with [ and end with ]\r\n\t\t\t\t\tlet value1 = cdata[i].replace(cdata[i].match(/\\[(.*?)\\]/g),\"\").replace(/^\\s+/g, \"\");\r\n\t\t\t\t\tlet value2 = cdata[i].match(/\\[(.*?)\\]/g)[0];\r\n\t\t\t\t\t// finding the value 2 by finding the text start with [ and end with ] and the removing these brackets\r\n\t\t\t\t\tvalue2 = value2.replace(\"[\",\"\").replace(\"]\",\"\");\r\n\t\t\t\t\t// store the value in the localCData\r\n\t\t\t\t\t// localCData.push({\r\n\t\t\t\t\t// \tvalue1: value1,\r\n\t\t\t\t\t// \tvalue2: value2,\r\n\t\t\t\t\t// \tid:i\r\n\t\t\t\t\t// });\r\n\t\t\t\t\tlocalCData = [\r\n\t\t\t\t\t\t...localCData, {\r\n\t\t\t\t\t\t\tvalue1: value1,\r\n\t\t\t\t\t\t\tvalue2: value2,\r\n\t\t\t\t\t\t\tid:i\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t]\r\n\t\t\t\t\tlist2[i] = cdata[i].replace(cdata[i].match(/\\[(.*?)\\]/g),\"\").replace(/^\\s+/g, \"\"); // value 1\r\n\t\t\t\t\tlist1[i] = cdata[i].match(/\\[(.*?)\\]/g)[0]; \r\n\t\t\t\t\tlist1[i] = list1[i].replace(\"[\",\"\").replace(\"]\",\"\"); // value 2\r\n\t\t\t\t} else {\r\n\t\t\t\t\terrMessage = \"Bracket is Missing in line no. \"+i;\r\n\t\t\t\t\tstate.snackback = true;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\t\t\r\n\t\t\r\n\t\t//forceUpdate();\r\n    } \r\n    // this function calls & updated the xml whenever there is change in list heading textbox & maxnode textbox\r\n\tfunction updateXml(e) {\r\n\t\t// updating the xml to json by XMLToJSON function\r\n\t\tvar newXml = XMLToJSON(state.xml);\r\n\t\t// if there is change in listheading 1\r\n\t\tif (e.target.id == \"listheading1\") {\r\n\t\t\tstate.listheading1 = e.target.value;\r\n\t\t} else if (e.target.id == \"listheading2\") {\r\n\t\t\t// if there is change in listheading 2\r\n\t\t\tstate.listheading2 = e.target.value;\r\n\t\t} else if (e.target.id == \"maxnode\") {\r\n\t\t\t// if there is change in maxnode\r\n\t\t\tif (isNaN(e.target.value)) {\r\n\t\t\t\tAH.showmsg(\r\n\t\t\t\t\t'Error Message',\r\n\t\t\t\t\t'Please enter numeric value',\r\n\t\t\t\t\t'error'\r\n\t\t\t\t);\r\n\t\t\t} else if (e.target.value > 6) {\r\n\t\t\t\tAH.alert('Please insert value between 1 to 6');\r\n\t\t\t} else {\r\n\t\t\t\tstate.maxnode = e.target.value;\r\n\t\t\t}\r\n\t\t}\r\n\t\ttimer['updateXMl1'] = setTimeout(function() {\r\n\t\t\t// updating the attribute values\r\n\t\t\tnewXml.smxml.matchlist._listheading1 = state.listheading1;\r\n\t\t\tnewXml.smxml.matchlist._listheading2 = state.listheading2;\r\n\t\t\tif (state.maxnode) {\r\n\t\t\t\tnewXml.smxml.matchlist._max_node = state.maxnode;\r\n\t\t\t} else {\r\n\t\t\t\t// deleting max_node if it is not in use\r\n\t\t\t\tdelete newXml.smxml.matchlist._max_node;\r\n\t\t\t}\r\n\t\t\t// update and store the xml \r\n\t\t\tgetChildXml(JSONToXML(newXml));\r\n\t\t\tclearTimeout(timer['updateXMl1']);\r\n\t\t}, 200);\r\n    }\r\n    \r\n    // whenever add button is clicked\r\n\tfunction updateCData() {\r\n\t\t//var rowInFirstColumn = jQuery(\"#matchListArea [class*='textarea_1']\").length;\r\n\t\tvar rowInFirstColumn = AH.selectAll(\"#matchListArea [class*='textarea_1']\").length;\r\n\t\t\r\n\t\t//var rowInSeconfColumn = jQuery(\"#matchListArea [class*='textarea_2']\").length;\r\n\t\tvar rowInSeconfColumn = AH.selectAll(\"#matchListArea [class*='textarea_2']\").length;\r\n\t\tif (rowInFirstColumn > 19 || rowInSeconfColumn > 19) {\r\n\t\t\tAH && AH.alert('Maximum possible options are 20');\r\n\t\t} else {\r\n\t\t\trow++;\r\n\t\t\t// converting the xml in json using the function XMLToJSON \r\n\t\t\tlet xml = XMLToJSON(state.xml);\r\n\t\t\t// updating the cdata\r\n\t\t\txml.smxml.matchlist.__cdata = xml.smxml.matchlist.__cdata + `\\nOption 2 Value of row ${row}[Option 1 value of row ${row}]\\n`;\r\n\t\t\t// update and store the xml \r\n\t\t\tgetChildXml(JSONToXML(xml));\r\n\t\t\tsetTimeout(function() {\r\n\t\t\t\tvar err = smVal.validate(editorState.content_type, editorState.item, editorState.content_icon);\r\n\t\t\t\tsmValidate(err);\r\n\t\t\t}, 200);\r\n\t\t} \r\n\t}\r\n\t\r\n\tfunction openMediaDialog() {\r\n\t\tAH.getBS(\"#modal-media-upload\", \"Modal\").show();\r\n\t}\r\n\r\n\t\r\n\r\n    // function calls onchange of the textarea in which option value is given if isalgo is off\r\n\tfunction editCData(val1, val2, i, e) {\r\n\t\tif (!e.target.value) return;\r\n\t\tif (e.target.id == \"matchList1\") {\r\n\t\t\tlocalCData[i].value1 = e.target.value.replace(/\\n/gm,\"\");\r\n\t\t\t//forceUpdate();\r\n\t\t} else if (e.target.id == \"matchList2\") {\r\n\t\t\tlocalCData[i].value2 = e.target.value.replace(/\\n/gm,\"\");\r\n\t\t\t//forceUpdate();\r\n\t\t}\r\n\t\t// converting the xml to json \r\n\t\tlet xml = XMLToJSON(state.xml);\r\n\t\ttimer['editCdata'] = setTimeout(function() { \r\n\t\t\tlet newCData = \"\\n\";\r\n\t\t\t// jQuery(localCData).each(function(i) { // Replaced\r\n\t\t\t\tlocalCData.forEach(function(data,i){\r\n\t\t\t\tnewCData += localCData[i].value1+\"[\"+localCData[i].value2+\"]\\n\";\r\n\t\t\t});\r\n\t\t\t// updating the cdata\r\n\t\t\txml.smxml.matchlist.__cdata = newCData;\r\n\t\t\t// updating the xml\r\n\t\t\tgetChildXml(JSONToXML(xml));\r\n\t\t\tclearTimeout(timer['editCdata']);\r\n\t\t}, 500);\r\n\t}\r\n    \r\n    // function calls onchange of the textarea in which option value is given if isalgo is on\r\n\tfunction editalgoCData(val1, i, placeIndex, e) {\r\n\t\tif (!e.target.value) return;\r\n\t\tif (e.target.id == \"matchList1\") {\r\n\t\t\tlet placeindex2 = placeIndex.split(\"_\")[1];\r\n\t\t\tfor (var j = 0; j < localCData.length; j++) {\r\n\t\t\t\tif (((j+1) == (i+1))) {\r\n\t\t\t\t\tlet str = localCData[i].value1;\r\n\t\t\t\t\tvar strarr = str.split(\"%%\");\r\n\t\t\t\t\tfor (var k = 0; k < strarr.length; k++) {\r\n\t\t\t\t\t\tif (k == placeindex2) {\r\n\t\t\t\t\t\t\tstrarr[k] = e.target.value;\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t}\t\r\n\t\t\t\t\t}\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tstrarr = strarr.join(\"%%\");\r\n\t\t\tlocalCData[i].value1 = strarr;\r\n\t\t\t//forceUpdate();\r\n\t\t} else if (e.target.id == \"matchList2\") {\r\n\t\t\tlet placeindex2 = placeIndex.split(\"_\")[1];\r\n\t\t\tfor (var j = 0; j < localCData.length; j++) {\r\n\t\t\t\tif (((j+1) == (i+1))) {\r\n\t\t\t\t\tlet str = localCData[i].value2;\r\n\t\t\t\t\tvar strarr = str.split(\"%%\");\r\n\t\t\t\t\tfor (var k = 0; k < strarr.length; k++) {\r\n\t\t\t\t\t\tif (k == placeindex2) {\r\n\t\t\t\t\t\t\tstrarr[k] = e.target.value;\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t}\t\r\n\t\t\t\t\t}\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tstrarr = strarr.join(\"%%\");\r\n\t\t\tlocalCData[i].value2 = strarr;\r\n\t\t\t//forceUpdate();\r\n\t\t}\r\n\t\tlet xml = XMLToJSON(state.xml);\r\n\t\ttimer['algo'] = setTimeout(function() {\r\n\t\t\tlet newCData = \"\\n\";\r\n\t\t\t// jQuery(localCData).each(function(i) { // Replaced\r\n\t\t\tlocalCData.forEach(function(data,i){\r\n\t\t\t\tnewCData += localCData[i].value1+\"[\"+localCData[i].value2+\"]\\n\";\r\n\t\t\t});\r\n\t\t\txml.smxml.matchlist.__cdata = newCData;\r\n\t\t\tgetChildXml(JSONToXML(xml));\r\n\t\t\tclearTimeout(timer['algo']);\r\n\t\t}, 500);\t\r\n    }\r\n    \r\n    // for deleting the current option\r\n\tfunction removeCData(list1Val, list2Val, id) {\r\n\t\t//AH.alert(\"checking\")\r\n\t\tstate.openDeleteDialog = true;\r\n\t\tstate.row_id = id;\r\n\t\t\r\n    }\r\n    \r\n    // this function calls when the setting btn option is clicked\r\n\tfunction changeSetting(value) {\r\n\t\tlet xml = XMLToJSON(state.xml);\r\n\t\t// if Normal options is selected\r\n\t\tif (value == 2) {\r\n\t\t\tif (state.drag_mode) {\r\n\t\t\txml.smxml.matchlist._multimatch = 0;\r\n\t\t\t} else {\r\n\t\t\txml.smxml.matchlist._multimatch = 2;\r\n\t\t\t}\r\n\t\t} else if (value == 3) {\r\n\t\t\t// for swap list\r\n\t\t\tlet tempArr = xml.smxml.matchlist.__cdata.split('\\n');\r\n\t\t\tlet swapedCdata = \"\";\r\n\t\t\ttempArr.map((items,i)=>{\r\n\t\t\t\tlet tempList = items.split(/\\[(.*?)\\]/);\r\n\t\t\t\tif (tempList.length > 1) {\r\n\t\t\t\t\tswapedCdata += `${tempList[1]}[${tempList[0].trim()}]\\n`;\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\txml.smxml.matchlist.__cdata = swapedCdata;\r\n\t\t}\r\n\t\t// updating and storing the xml\r\n\t\tgetChildXml(JSONToXML(xml));\r\n\t\thandleMenuClose();\r\n    }\r\n    \r\n\t// whenever the image icon is clicked this function calls\r\n\tfunction openImageDialog(class_name) {\r\n\t\tAH.getBS(AH.select('#addImageModal'), 'Modal').show();\r\n\t\tstate.openImageDialog = true;\r\n\t\tstate.imageClass = class_name;\r\n\t\t// extrcting image details\r\n\t\tlet image = {};\r\n\r\n\r\n\t\tif(AH.select('.'+class_name+' + img').nodeName) {\r\n\t\t\timage.name = AH.select('.'+class_name+' + img').getAttribute(\"src\").split('/').pop();\r\n\t\t\timage.alt = AH.select('.'+class_name+' + img').getAttribute(\"alt\");\r\n\t\t} else {\r\n\t\t\timage.name = \"\";\r\n\t\t\timage.alt = \"\";\r\n\t\t}\r\n\r\n\t\t// show value in the opened dailog\r\n\t\ttimer['image'] = setTimeout(function() {\r\n\t\t\tAH.select('#MatchlistImg').value = image.name;\r\n\t\t\tAH.select('#MatchlistAlt').value = image.alt;\r\n\t\t\tclearTimeout(timer['image']);\r\n\t\t},200);\r\n\r\n    }\r\n    \r\n    // calls when image icon is clicked and is_algo is true \r\n\tfunction openImageDialogAlgo(class_name, ids, i, clname) {\r\n\t\tAH.getBS(AH.select('#addImageModal'), 'Modal').show();\r\n\t\tstate.openImageDialog = true;\r\n\t\tclsname = class_name;\r\n\t\tindex = ids;\r\n\t\tcolumnid = i;\r\n\t\tcolumnname = clname;\r\n\t\r\n\r\n\t\tstate.imageClass = class_name;\r\n\t\tstate.clname = clname;\r\n\t\t// extrcting image details\r\n\t\tlet image = {};\r\n\t\t//image.name = (jQuery('.'+class_name+' + img').attr(\"src\")) ? jQuery('.'+class_name+' + img').attr(\"src\").split('/').pop() : \"\";\r\n\t\tif(AH.select('.'+class_name,' + img').getAttribute('src') != null) {\r\n\t\t\timage.name = AH.select('.'+class_name+' + img').getAttribute(\"src\").split('/').pop();\r\n\t\t\timage.alt = AH.select('.'+class_name+' + img').getAttribute(\"alt\");\r\n\t\t} else {\r\n\t\t\timage.name = \"\";\r\n\t\t\timage.alt = \"\";\r\n\t\t}\r\n\r\n\t\t//image.alt = (jQuery('.'+class_name+' + img').attr(\"alt\")) ? jQuery('.'+class_name+' + img').attr(\"alt\"): \"\";\r\n\r\n\t\t\r\n\t\t\r\n\t\t// show value in the opened dailog\r\n\t\ttimer['algoImage'] = setTimeout(function() {\r\n\t\t\t//jQuery('#MatchlistImg').val(image.name);\r\n\t\t\tAH.select('#MatchlistImg').value = image.name;\r\n\r\n\t\t\t//jQuery('#MatchlistAlt').val(image.alt);\r\n\t\t\tAH.select('#MatchlistAlt').value = image.alt;\r\n\t\t\tclearTimeout(timer['algoImage']);\r\n\t\t},500);\r\n    }\r\n\r\n    // on click of cancel btn of image dialog this function called\r\n\tfunction closeImageDialog() {\r\n\t\tstate.openImageDialog = false;\r\n    }\r\n    \r\n    // on click of done btn of image dialog this function called\r\n\tfunction insertImage() {\r\n\t\tif (state.isalgo == true) {\t\r\n\t\t\t// @pradeep sir : in both condition same code is written can we make it in one\r\n\t\t\tif ((state.clname == \"matchlist2\") || (state.clname == \"matchlist1\")) {\r\n\t\t\t\tlet image = {};\r\n\t\t\t\t// getting the image information\r\n\t\t\t\t\r\n\t\t\t\timage.name = AH.select(\"#MatchlistImg\").value;\r\n\t\t\t\timage.alt = AH.select('#MatchlistAlt').value;\r\n\t\t\t\timage.oldValue = AH.select('.'+state.imageClass).value;\r\n\t\t\t\tstate.openImageDialog = false;\r\n\t\t\t\t// replace with new value in the xml\r\n\t\t\t\timage.newValue = state.xml.replace(image.oldValue,'*'+image.name+'##'+image.alt);\r\n\t\t\t\t// updates the xml\r\n\t\t\t\tgetChildXml(image.newValue);\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\t// finding the cdata\r\n\t\t\tlet cdataArr = (/\\<\\!\\[CDATA\\[([\\s\\S]*?)\\]\\]\\>/gi).exec(state.xml);\r\n\t\t\tlet cdata = \"\";\r\n\t\t\tlet keyIndex = parseInt((state.imageClass).match(/\\d+$/g));\r\n\t\t\tlet image = {};\r\n\t\t\t// getting image information\r\n\t\t\t//image.name = jQuery('#MatchlistImg').val();\r\n\t\t\timage.name = AH.select(\"#MatchlistImg\").value;\r\n\t\t\t//image.alt = jQuery('#MatchlistAlt').val();\r\n\t\t\timage.alt = AH.select('#MatchlistAlt').value;\r\n\t\t\t//image.oldValue = jQuery('.'+state.imageClass).val();\r\n\t\t\timage.oldValue = AH.select('.'+state.imageClass).value;\r\n\t\t\tstate.openImageDialog = false;\r\n\t\t\tif (cdataArr) {\r\n\t\t\t\tcdata = cdataArr[1];\r\n\t\t\t\t// replacing two newlines with singline newline and spliting it with newline\r\n\t\t\t\tcdata = (cdata.replace(\"\\n\\n\",\"\\n\")).trim();\r\n\t\t\t\tcdataArr = cdata.split(\"\\n\");\r\n\t\t\t\t// adding new image details\r\n\t\t\t\tcdataArr[keyIndex] = cdataArr[keyIndex].replace(image.oldValue,'*'+image.name+'##'+image.alt);\r\n\t\t\t\t// join cdataArr with neeline\r\n\t\t\t\tcdata = cdataArr.join(\"\\n\");\r\n\t\t\t\t// replace the cdata with new value\r\n\t\t\t\timage.newValue = xml.replace(/\\<\\!\\[CDATA\\[[\\s\\S]*?\\]\\]\\>/gi,\"<![CDATA[\\n\"+cdata+\"\\n]]>\");\r\n\t\t\t} else {\r\n\t\t\t\t// adding new image details\r\n\t\t\t\timage.newValue = xml.replace(image.oldValue,'*'+image.name+'##'+image.alt);\r\n\t\t\t}\r\n\t\t\t// update the xml\r\n\t\t\tgetChildXml(image.newValue);\r\n\t\t}\r\n\t}\r\n    \r\n    // called when algorithmic checkbox state is changed (on click)\r\n\tfunction changeisalgo(e) {\r\n\t\t\r\n\t\t// convert xml to json\r\n\t\tlet xml = XMLToJSON(state.xml);\r\n\t\tstate.isalgo = e.target.checked;\r\n\t\t// if checkbox is checked \r\n\t\t// if (e.target.checked) {\r\n\t\t// \txml.smxml.matchlist._is_algo = true; \r\n\t\t// } else {\r\n\t\t// \txml.smxml.matchlist._is_algo = false;\r\n\t\t// }\r\n\t\txml.smxml.matchlist._is_algo = e.target.checked;\r\n\t\t// updates the xml\r\n\t\tgetChildXml(JSONToXML(xml));\r\n\t}\r\n\r\n    // on click of delete icon which is adjusent to the option btn this function is called\r\n\tfunction removetextbox(ids, placeIndex, test, i, e) {\r\n\t\tif (test == \"matchlist1\") {\r\n\t\t\tvar strarr;\r\n\t\t\tlet placeindex2 = placeIndex.split(\"_\")[1];\r\n\t\t\tfor (var j = 0; j < localCData.length; j++) {\r\n\t\t\t\tif (((j+1) == (i+1))) {\r\n\t\t\t\t\tlet str = localCData[i].value1;\r\n\t\t\t\t\tstrarr = str.split(\"%%\");\r\n\t\t\t\t\tfor (var k = 0; k < strarr.length; k++) {\r\n\t\t\t\t\t\tif (k == placeindex2) {\r\n\t\t\t\t\t\t\tstrarr.splice(k, 1);\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t}\t\r\n\t\t\t\t\t}\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tstrarr = strarr.join(\"%%\");\r\n\t\t\tlocalCData[i].value1 = strarr;\r\n\t\t\tif (localCData[i].value1 == '' || localCData[i].value1 == 'undefined' ) {\r\n\t\t\t\tlocalCData[i].value1 = 'insert value';\r\n\t\t\t}\r\n\t\t}\r\n\t\tif (test == \"matchlist2\") {\r\n\t\t\tvar strarr;\r\n\t\t\tlet placeindex2 = placeIndex.split(\"_\")[1];\r\n\t\t\tfor (var j = 0; j < localCData.length; j++) {\r\n\t\t\t\tif (((j+1) == (i+1))) {\r\n\t\t\t\t\tlet str = localCData[i].value2;\r\n\t\t\t\t\tstrarr = str.split(\"%%\");\r\n\t\t\t\t\tfor (var k = 0; k < strarr.length; k++) {\r\n\t\t\t\t\t\tif (k == placeindex2) {\r\n\t\t\t\t\t\t\tstrarr.splice(k, 1);\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t}\t\r\n\t\t\t\t\t}\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tstrarr = strarr.join(\"%%\");\r\n\t\t\tlocalCData[i].value2 = strarr;\r\n\t\t\tif (localCData[i].value2 == '' || localCData[i].value2 == 'undefined' ) {\r\n\t\t\t\tlocalCData[i].value2 = 'insert value';\r\n\t\t\t}\r\n\t\t}\r\n\t\tlet xml = XMLToJSON(state.xml);\r\n\t\tvar timer = setTimeout(function() {\r\n\t\t\tlet newCData = \"\\n\";\r\n\t\t\t//jQuery(localCData).each(function(i) { // Replaced\r\n\t\t\tlocalCData.forEach(function(data,i) {\r\n\t\t\t\tnewCData += localCData[i].value1+\"[\"+localCData[i].value2+\"]\\n\";\r\n\t\t\t});\r\n\t\t\txml.smxml.matchlist.__cdata = newCData;\r\n\t\t\tgetChildXml(JSONToXML(xml));\r\n\t\t\tclearTimeout(timer);\r\n\t\t}, 500);\r\n\t\tstate.dir = !state.dir;\r\n    }\r\n    \r\n    function addListItem(index) {\r\n\t\t// convert xml to json \r\n\t\tlet xml = XMLToJSON(state.xml);\r\n\t\t// splitting cdata with newline and storring it in variable newArr\r\n\t\tlet newArr = xml.smxml.matchlist.__cdata.split('\\n');\r\n\t\tif (newArr[(newArr.length - 1)] == \"\") {\r\n\t\t\tnewArr.pop();\r\n\t\t\tnewArr.unshift(\"\");\r\n\t\t} \r\n\t\tif ((newArr[0] == \"\") && (newArr[1] == \"\")) {\r\n\t\t\tnewArr.shift();\r\n\t\t}\r\n\t\t// gettng the index of the option \r\n\t\tlet str = newArr[parseInt(index+1)];\r\n\t\t// extracting value 1\r\n\t\tlet value1 = str.replace(str.match(/\\[(.*?)\\]/g),\"\").replace(/^\\s+/g, \"\");\r\n\t\tlet value2 = str.match(/\\[(.*?)\\]/g)[0];\r\n\t\tvalue2 = value2.substring(1, value2.length-1);\r\n\t\t// extracting value 2\r\n\t\tvalue2 = '['+value2+']';\r\n\t\t// adding new option value\r\n\t\tvalue1 = value1+'%%Option 2 Value';\r\n\t\t// store the final string at that index\r\n\t\tlet fStr = value1+value2;\r\n\t\tnewArr[parseInt(index+1)] = fStr;\r\n\t\t// join the array\r\n\t\tnewArr = newArr.join('\\n');\r\n\t\t// update the cdata\r\n\t\txml.smxml.matchlist.__cdata = newArr;\r\n\t\t// stores and update the xml using the function getChildXml\r\n\t\tgetChildXml(JSONToXML(xml));\r\n    }\r\n    \r\n    // called when dropdown is open \r\n\tfunction handleMenuOpen(event) {\r\n\t\tstate.anchorEl = event.currentTarget;\r\n    }\r\n    \r\n    // called when dropdown is close \r\n\tfunction handleMenuClose() {\r\n\t\tstate.anchorEl = null;\r\n    }\r\n    \r\n    function removeRow() {\r\n\t\t\r\n\t\tstate.openDeleteDialog = false;\r\n\t\t\r\n\t\tlet not_matched_data = \"\";\r\n\t\t// storing the values of the option in a except the deleted one\r\n\t\t// jQuery(localCData).each(function(index_no) { // Replaced\r\n\t\tlocalCData.forEach(function(data,index_no) {\r\n\t\t\t// check min no of options\r\n\t\t\tif (localCData.length > 1) {\r\n\t\t\t\tif (localCData[index_no].id != state.row_id) {\r\n\t\t\t\t\tnot_matched_data += localCData[index_no].value1 + \"[\" + localCData[index_no].value2 + \"]\\n\";\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tAH.alert('At least one field required.');\r\n\t\t\t\tnot_matched_data += localCData[index_no].value1 + \"[\" + localCData[index_no].value2 + \"]\\n\";\r\n\t\t\t}\r\n\t\t});\r\n\t\t// convert xml to json\r\n\t\tlet xml = XMLToJSON(state.xml);\r\n\t\t// updating cdata\r\n\t\txml.smxml.matchlist.__cdata = '\\n' + not_matched_data;\r\n\t\t// updating the xml\r\n\t\tgetChildXml(JSONToXML(xml));\r\n\t}\r\n\t\r\n\t\r\n    \r\n\r\n\t// tempdata1 = [];\r\n\t// tempdata2 = [];\r\n\r\n\t// $:{\r\n\t// \tlocalCData.forEach(function(data,i){\r\n\t// \t\tif(state.isalgo == true) {\r\n\t// \t\t\ttempdata1 = data.value1.split(\"%%\")\r\n    //         \ttempdata2 = data.value2.split(\"%%\")\r\n\t// \t\t}\r\n\t// \t})\r\n\t// }\r\n\r\n\r\n</script>\r\n\r\n<main>\r\n    <center>\r\n        <div id=\"fixedMatchList\" class=\"border h-auto fwidth\">\r\n            <div class=\"mb-1\">\r\n                <div class=\"border-bottom w-100 d-inline-block pb-0 px-3 pt-3\">\r\n                    <div class=\"d-flex row\">\r\n                        <div class=\"col-md-6 pr-1\">\r\n                            <label for=\"listheading1\" class=\"mb-0 float-left\">{l.matchlist_heading1}</label>\r\n                            <input type=\"text\" id=\"listheading1\" class=\"form-control\" on:change={updateXml} value={state.listheading1} />\r\n                        </div>\r\n                        <div class=\"col-md-6 pl-1\">\r\n                            <label for=\"listheading2\" class=\"mb-0 float-left\">{l.matchlist_heading2}</label>\r\n                            <input type=\"text\" id=\"listheading2\" class=\"form-control\" on:change={updateXml} value={state.listheading2} />\r\n                        </div>\r\n                    </div>\r\n                    <div class=\"d-flex width1 float-left\">\r\n                        <div class=\"h float-left w-sm mr-2\">\r\n                            <label for=\"maxnode\" class=\"mb-0 float-left\">Maxnode:</label>\r\n                            <input type=\"text\" id=\"maxnode\" class=\"form-control\" placeholder=\"Enter number only 1 to 6\" on:change={updateXml} value={state.maxnode} />\r\n                        </div>\r\n                    </div>\r\n                    <div class=\"d-flex justify-content-between\">\r\n                        <div class=\"mt-2 form-check form-check-inline\">\r\n\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\ttype=\"checkbox\"\r\n\t\t\t\t\t\t\t\t\tchecked={state.drag_mode}\r\n\t\t\t\t\t\t\t\t\ton:click = {(e)=>changeSetting(\"2\",e)}\r\n\t\t\t\t\t\t\t\t\tid=\"isDragDrop\"\r\n\t\t\t\t\t\t\t\t\tcolor=\"primary\"\r\n\t\t\t\t\t\t\t\t\tclass=\"form-check-input mb-1\"\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t<label for=\"isplayer_checkbox\"  on:click = {(e)=>changeSetting(\"2\",e)}  class=\"form-check-label\">\r\n\t\t\t\t\t\t\t\t\tDrag & Drop\r\n\t\t\t\t\t\t\t\t</label>\r\n\r\n\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\ttype=\"checkbox\"\r\n\t\t\t\t\t\t\t\t\ton:click = {(e)=>changeSetting(\"3\",e)}\r\n\t\t\t\t\t\t\t\t\tid=\"isSwap\"\r\n\t\t\t\t\t\t\t\t\tcolor=\"primary\"\r\n\t\t\t\t\t\t\t\t\tclass=\"form-check-input mb-1 ms-2\"\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t<label for=\"isplayer_checkbox\"  on:click = {(e)=>changeSetting(\"3\",e)}  class=\"form-check-label\">\r\n\t\t\t\t\t\t\t\t\tSwap List\r\n\t\t\t\t\t\t\t\t</label>\r\n                        </div>\r\n                        <div class=\"mt-2 form-check form-check-inline\">\r\n\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\ttype=\"checkbox\"\r\n\t\t\t\t\t\t\t\t\tchecked={state.isalgo}\r\n\t\t\t\t\t\t\t\t\ton:click={changeisalgo}\r\n\t\t\t\t\t\t\t\t\tname = \"isalgo\" \r\n\t\t\t\t\t\t\t\t\tid = \"isalgo\"\r\n\t\t\t\t\t\t\t\t\tcolor=\"primary\"\r\n\t\t\t\t\t\t\t\t\tclass=\"form-check-input mb-1\"\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t<label for=\"isplayer_checkbox\"  on:click = {changeisalgo}  class=\"form-check-label\">\r\n\t\t\t\t\t\t\t\t\tAlgorithmic\r\n\t\t\t\t\t\t\t\t</label>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div id=\"matchListArea\" class=\"row-fluid p-2 clear-both\">\r\n\t\t\t\t\r\n                {#each localCData as data, i}\r\n                \r\n                        {#if state.isalgo === true}\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\r\n\r\n                                \r\n                                    <div key={i} class=\"d-flex align-items-center mb-2\" dir={state.dir}>\r\n                                        <div class=\"d-inline-block clear-both pointer light-cyan-bg mx-0 my-1 p-2 width10\">\r\n                                            <div class=\"float-left clear-both\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\r\n                                                {#each data.value2.split(\"%%\") as temp, j}\r\n\r\n                                                        <div class=\"d-flex align-items-center\">\r\n                                                            <div class=\"pull-left word_break width200 p-1 max_width_300\" style={'border-radius:3px;'}>\r\n                                                                <textarea rows=\"3\" cols=\"20\" style={\"resize:none;\"} class={(temp.charAt(0) == \"*\") ? \"h form-control textarea_2_\"+i+\"_\"+j : \"form-control textarea_2_\"+i+\"_\"+j} id=\"matchList2\" on:change = {(e)=>{editalgoCData(temp,i,i+'_'+j,e)}} value={temp}/>\r\n                                                                {#if temp.charAt(0) == \"*\"}\r\n                                                                    <img class=\"authoringImage\" src={\"//s3.amazonaws.com/jigyaasa_content_static/\"+temp.substr(1).split(\"##\")[0]} alt={(temp.split(\"##\")[1]) ? temp.split(\"##\")[1] :null} />\r\n                                                                \r\n                                                                {/if}\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n                                                            </div>\r\n                                                            <div class=\"pull-right\">\r\n                                                                {#if temp.charAt(0) == \"*\"} \r\n                                                                    <div class=\"icomoon-close-2 s4 image_delete\" data-bs-toggle=\"tooltip\" data-bs-placement=\"right\" title=\"Delete Image\"></div>\r\n                                                                \r\n                                                                {/if}\r\n                                                                <button type=\"button\" class=\"d-block btn btn-outline-primary btn-sm edit_btn bg-white mb-1\" on:click={(e)=>{openImageDialogAlgo(\"textarea_2_\"+i+\"_\"+j,i+\"_\"+j,i,\"matchlist2\",e)}}><span class=\"icomoon-images d-flex align-items-center pt-sm1 pb-sm1\" data-bs-toggle=\"tooltip\" data-bs-placement=\"right\" title=\"Add Image\"></span></button>\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n                                                                <button type=\"button\" class=\"btn btn-outline-primary btn-sm edit_btn textdel bg-white\" on:click={(e)=>{removetextbox(\"textarea_2_\"+i+\"_\"+j,i+\"_\"+j,\"matchlist2\",i,e)}} style={ state.isalgo ? { display:'block'} : {display : 'none'} }><span class=\"icomoon-24px-delete-1 d-flex align-items-center pt-sm1 pb-sm1\" data-bs-toggle=\"tooltip\" data-bs-placement=\"right\" title=\"Delete\"></span></button>\r\n                                                            </div>\r\n                                                        </div>\r\n                                                    \r\n                                                {/each}\r\n                                                <div class=\"float-left ms-1\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<button type=\"button\" class={\"add_button px-1 btn btn-outline-primary btn-sm bg-white d-flex align-items-center pr-2 \"+\"listitem\"+i} on:click={addListItem.bind(this,i)}>\r\n                                                    <span class=\"font24\">&#43;</span>Add item</button>\r\n                                                </div>\r\n                                            </div>\r\n                                            <div class=\"pull-right\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\r\n                                                {#each data.value1.split(\"%%\") as temp1, k}\r\n                                                \r\n                                                        <div class=\"d-flex align-items-center\">\r\n                                                            <div class=\"pull-left word_break width200 p-1 max_width_300\" style={\"border-radius:3px;\"}>\r\n                                                                <textarea rows=\"3\" cols=\"20\" style={\"resize:none;\"} class={(temp1.charAt(0) == \"*\") ? \"h form-control textarea_1_\"+i+\"_\"+k : \"form-control textarea_1_\"+i+\"_\"+k} id=\"matchList1\" on:change={(e)=>{editalgoCData(temp1,i,i+'_'+k,e)}} value={temp1}/>\r\n                                                                {#if temp1.charAt(0) == \"*\"}\r\n                                                                    <img class=\"authoringImage\" src={\"//s3.amazonaws.com/jigyaasa_content_static/\"+temp1.substr(1).split(\"##\")[0]} alt={(temp1.split(\"##\")[1]) ? temp1.split(\"##\")[1] :null} />\r\n                                                                {/if}\r\n                                                                \r\n                                                            </div>\r\n                                                            <div class=\"pull-right\">\r\n                                                                {#if temp1.charAt(0) == \"*\"}\r\n                                                                    <div class=\"icomoon-close-2 s4 image_delete\" data-bs-toggle=\"tooltip\" data-bs-placement=\"right\" title=\"Delete Image\"></div>\r\n                                                                {/if}\r\n                                                                <button type=\"button\" class=\"d-block btn btn-outline-primary btn-sm edit_btn bg-white mb-1\" on:click={(e)=>{openImageDialogAlgo(\"textarea_1_\"+i+\"_\"+k,i+\"_\"+k,i,\"matchlist1\",e)}}><span class=\"icomoon-images d-flex align-items-center pt-sm1 pb-sm1\" data-bs-toggle=\"tooltip\" data-bs-placement=\"right\" title=\"Add Image\"></span></button>\r\n                                                                <button type=\"button\" class=\"btn btn-outline-primary btn-sm edit_btn textdel bg-white\" on:click={(e)=>{removetextbox(\"textarea_2_\"+i+\"_\"+k,i+\"_\"+k,\"matchlist1\",i,e)}} style={ state.isalgo ? 'display:block;' : 'display : none' }><span class=\"icomoon-24px-delete-1 d-flex align-items-center pt-sm1 pb-sm1\" data-bs-toggle=\"tooltip\" data-bs-placement=\"right\" title=\"Delete\"></span></button> \r\n                                                            </div>\r\n                                                        </div>\r\n                                                {/each}\r\n                                            </div>\r\n                                        </div>\r\n                                        <div class=\"width1 float-right\">\r\n                                            <a id={data.id} on:click={()=>{removeCData(data.value1,data.value2,data.id)}}>\r\n                                                <span aria-hidden=\"true\" class=\"delete_match_node_auth icomoon icomoon-new-24px-delete-1 s3 py-1\" tabindex=\"0\" data-bs-toggle=\"tooltip\" data-bs-placement=\"right\" title=\"Delete\"></span>\r\n                                            </a>\r\n                                        </div>\r\n                                    </div>\r\n                        {:else}\r\n                            \r\n                                <div key={i} class=\"d-flex align-items-center mb-2\">\r\n                                    <div class=\"pointer d-inline-block clear-both light-cyan-bg mx-0 my-1 p-2 width10\">\r\n                                        <div class=\"pull-left d-flex align-items-center\">\r\n                                            <div class=\"pull-left word_break width200 p-1 max_width_300\" style={'borderRadius:3px;'}>\r\n                                                <textarea rows=\"3\" cols=\"20\" style={\"resize:none;\"} class={(data.value2.charAt(0) == \"*\") ? \"h form-control textarea_2_\"+i : \"form-control textarea_2_\"+i} id=\"matchList2\" on:change={(e)=>{editCData(data.value2,data.value2,i,e)}} value={data.value2} />\r\n                                                \r\n                                                {#if data.value2.charAt(0) == \"*\"}\r\n                                                    <img class=\"authoringImage\" src={\"//s3.amazonaws.com/jigyaasa_content_static/\"+data.value2.substr(1).split(\"##\")[0].split('%%')[0]} alt={(data.value2.split(\"##\")[1]) ? data.value2.split(\"##\")[1] :null} /> \r\n                                                {/if}\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n                                            </div>\r\n                                            <div class=\"pull-right mt\">\r\n                                                {#if data.value2.charAt(0) == \"*\"} \r\n                                                    <div class=\"icomoon-close-2 s4 image_delete\" data-bs-toggle=\"tooltip\" data-bs-placement=\"right\" title=\"Delete Image\"></div> \r\n                                                {/if}\r\n                                                <button type=\"button\" class=\"btn btn-outline-primary btn-sm edit_btn bg-white\" on:click={()=>{openImageDialog(\"textarea_2_\"+i)}}>\r\n                                                    <span class=\"icomoon-images d-flex align-items-center pt-sm1 pb-sm1\" data-bs-toggle=\"tooltip\" data-bs-placement=\"right\" title=\"Add Image\">\r\n                                                    </span>\r\n                                                </button>\r\n                                            </div>\r\n                                        </div>\r\n                                        <div class=\"pull-right d-flex align-items-center\">\r\n                                            <div class=\"pull-left word_break width200 p-1 max_width_300\" style={\"border-radius:3px\"}}>\r\n                                                <textarea rows=\"3\" cols=\"20\" style={\"resize:none;\"} class={(data.value1.charAt(0) == \"*\") ? \"h form-control textarea_1_\"+i : \"form-control textarea_1_\"+i} id=\"matchList1\" on:change={(e)=>{editCData(data.value1,data.value2,i,e)}} value={data.value1} />\r\n\r\n                                                {#if data.value1.charAt(0) == \"*\"}\r\n                                                    <img class=\"authoringImage\" src={\"//s3.amazonaws.com/jigyaasa_content_static/\"+data.value1.substr(1).split(\"##\")[0].split('%%')[0]} alt={(data.value1.split(\"##\")[1]) ? data.value1.split(\"##\")[1] :null} />\r\n                                                {/if}\r\n                                            </div>\r\n                                            <div class=\"pull-right mt\">\r\n                                                {#if data.value1.charAt(0) == \"*\"}\r\n                                                    <div class=\"icomoon-close-2 s4 image_delete\" data-bs-toggle=\"tooltip\" data-bs-placement=\"right\" title=\"Delete Image\"></div> \r\n                                                {/if}\r\n                                                <button type=\"button\" class=\"btn btn-outline-primary btn-sm edit_btn bg-white\" on:click={()=>{openImageDialog(\"textarea_1_\"+i)}}>\r\n                                                    <span class=\"icomoon-images d-flex align-items-center pt-sm1 pb-sm1\" data-bs-toggle=\"tooltip\" data-bs-placement=\"right\" title=\"Add Image\"></span>\r\n                                                </button>\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                    <div class=\"width1 float-right\">\r\n                                        <a id={data.id} on:click={()=>{removeCData(data.value1,data.value2,data.id)}}>\r\n                                            <span aria-hidden=\"true\" class=\"icomoon icomoon-new-24px-delete-1 s3 delete_match_node py-1\" tabindex=\"0\" data-bs-toggle=\"tooltip\" data-bs-placement=\"right\" title=\"Delete\"></span>\r\n                                        </a>\r\n                                    </div>\r\n                                </div>\r\n                            \r\n                        {/if}\r\n                        \r\n                {/each}\r\n            </div>\r\n            <div class=\"text-left ml-2 pb-3\">\r\n                <button \r\n                    id = \"add_node\"\r\n                    aria-label = \"Add node\"\r\n                    class = \"btn btn-outline-primary btn-sm d-flex align-items-center pr-md add_button\"\r\n                    on:click ={updateCData}>\r\n                    <span class=\"font24\">&#43;</span>Add node\r\n                </button>\r\n            </div>\r\n        </div>\r\n\t</center>\r\n\t\t\t<!-- <Dialog bind:visible={state.openImageDialog} disableEnforceFocus={true} style={'width:600px;'}>\r\n\t\t\t\t<div style=\"text-align: left;font-weight:bold;\" class=\"mb-5\">\r\n\t\t\t\t\t<div>Add Image</div>\r\n\t\t\t\t</div>\r\n\t\t        \t<div>\r\n\t\t        \t\t<div class=\"imageDialog\">\r\n\t\t\t\t        \t<div class=\"row mx-0\">\r\n\t\t\t\t\t\t        <div class=\"col-md-6 px-1\">\r\n\t\t\t\t\t\t\t\t\t<div class=\"form-group\">\r\n\t\t\t\t\t\t\t\t\t\t<label class=\"control-label font-weight-normal mb-0\" for=\"MatchlistImg\">Background Image</label>\r\n\t\t\t\t\t\t\t\t\t\t<input type=\"text\" class=\"form-control form-control-md\" id=\"MatchlistImg\" placeholder=\"Image url\" />\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t        </div>\r\n\t\t\t\t\t\t        <div class=\"col-md-6 px-1\">\r\n\t\t\t\t\t\t\t\t\t<div class=\"form-group\">\r\n\t\t\t\t\t\t\t\t\t\t<label class=\"control-label font-weight-normal mb-0\" for=\"MatchlistAlt\">Background Alt</label>\r\n\t\t\t\t\t\t\t\t\t\t<input type=\"text\" class=\"form-control form-control-md\" id=\"MatchlistAlt\" placeholder=\"Background alt text\" />\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t        </div>\r\n\t\t\t\t\t\t        <div class=\"col-md-6 px-1\">\r\n\t\t\t\t\t\t    \t\t<button class=\"btn btn-outline-primary\" on:click={openMediaDialog}>Upload Image</button>\r\n\t\t\t\t\t\t    \t</div>\r\n\t\t\t\t\t\t    </div>\r\n\t\t\t\t        </div>\r\n\t\t        \t</div>\r\n\t\t\t\t\t\t<div slot=\"footer\" class=\"svelteFooter\">\r\n\t\t\t\t\t\t\t<input type=\"button\" class=\"cancel_btn_pop btn btn-light colorgray1\" variant=\"contained\" on:click={closeImageDialog} value={l.cancel} />\r\n\t\t\t\t\t\t\t<Button variant=\"contained\" id=\"cdata\" on:click={insertImage} class=\"text-white bg-primary\">\r\n\t\t\t\t\t\t\t\tDone\r\n\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t</Dialog> -->\r\n\r\n\r\n\r\n\t<div class=\"modal\" id=\"addImageModal\">\r\n\t\t<div class=\"modal-dialog modal-dialog-centered\">\r\n\t\t\t<div class=\"modal-content\">\r\n\t\t\t\t<div class=\"modal-header\">\r\n\t\t\t\t\t<h4 class=\"modal-title\">Add Image</h4>\r\n\t\t\t\t\t<button type=\"button\" class=\"close\" data-bs-dismiss=\"modal\" aria-hidden=\"true\" >&times;</button>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div class=\"modal-body\">\r\n\t\t\t\t\t<div class=\"imageDialog\">\r\n\t\t\t\t\t\t<div class=\"row mx-0\">\r\n\t\t\t\t\t\t\t<div class=\"col-md-6 px-1\">\r\n\t\t\t\t\t\t\t\t<div class=\"form-group\">\r\n\t\t\t\t\t\t\t\t\t<label class=\"control-label font-weight-normal mb-0\" for=\"MatchlistImg\">Background Image</label>\r\n\t\t\t\t\t\t\t\t\t<input type=\"text\" class=\"form-control form-control-md\" id=\"MatchlistImg\" placeholder=\"Image url\" />\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div class=\"col-md-6 px-1\">\r\n\t\t\t\t\t\t\t\t<div class=\"form-group\">\r\n\t\t\t\t\t\t\t\t\t<label class=\"control-label font-weight-normal mb-0\" for=\"MatchlistAlt\">Background Alt</label>\r\n\t\t\t\t\t\t\t\t\t<input type=\"text\" class=\"form-control form-control-md\" id=\"MatchlistAlt\" placeholder=\"Background alt text\" />\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div class=\"col-md-6 px-1\">\r\n\t\t\t\t\t\t\t\t<button type=\"button\" class=\"btn btn-md btn-outline-primary\" id=\"upload_img\" name=\"upload_img\" on:click=\"{openMediaDialog}\">Upload image</button>\r\n\t\t\t\t\t\t\t\t<div class=\"upload_status\"></div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div class=\"modal-footer mt-0\">\r\n\t\t\t\t\t<button type=\"button\" on:click={closeImageDialog} class=\"btn btn-light\" data-bs-dismiss=\"modal\">Cancel</button>\r\n\t\t\t\t\t<button type=\"button\" id=\"cdata\" on:click={insertImage} class=\"btn btn-primary\" data-bs-dismiss=\"modal\">Done</button>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t</div>\r\n\r\n\t\r\n\t\r\n\t<Dialog\r\n\t\tbind:visible={state.openDeleteDialog}\r\n\t\tstyle={'width:500px;'}\r\n\t>\r\n\t\t<div style=\"font-weight:bold;\">{l.save_header}</div>\r\n\t\t<div>\r\n\t\t\t<div class=\"row\">\r\n\t\t\t<span class=\"col-md-12\" style={'margin-top:40px;margin-bottom:40px;'}>{l.del_confirmation}</span>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t\r\n\r\n\t\t<div slot=\"footer\" class=\"svelteFooter\">\r\n\t\t\t\r\n\t\t\t<input type=\"button\" variant=\"contained\" on:click={() => {state.openDeleteDialog = false;}} class=\"btn btn-light colorgray\" value=\"No\" />\r\n\r\n\t\t\t<Button variant=\"contained\" on:click={removeRow}\r\n\t\t\t\tclass=\"bg-primary text-white\"> Yes </Button>\r\n\t\t</div>\r\n\r\n\t\t\r\n\t\t\r\n\t</Dialog>\r\n</main>\r\n<style>\r\n\r\n\t\r\n\r\n\t.colorgray {\r\n        width:56px;\r\n        background-color:#dee2e6;\r\n    }\r\n\t.colorgray1 {\r\n\t\twidth:74px;\r\n\t\tbackground: #E0E0E0;\r\n\t}\r\n\r\n\t.font24 {\r\n\t\tfont-size: 22px !important;\r\n\t\tmargin-right: 5px;\r\n    }\r\n\r\n\t.add_button {\r\n\t\theight:31px;\r\n\t}\r\n\r\n\t\r\n</style>"],"names":["smVal","err","q9","l","max_error","q27","q6_advance","max_row_col_error","processError","msg","error","message","validate","type","subtype","content_icon","this","validate9","validate14","validate6","validate26","validate27","icon","AH","selectAll","length","len","console","log","len1","AI","len2","ctx","value2","charAt","value1","id","split","dir","bind","substr","isalgo","display","save_header","del_confirmation","openDeleteDialog","matchlist_heading1","matchlist_heading2","listheading1","listheading2","maxnode","drag_mode","editorState","xml","getChildXml","smValidate","timer","multimatch","list1","list2","localCData","cdata","row","state","writable","snackback","openResponseDialog","setting","openImageDialog","imageClass","clname","anchorEl","row_id","subscribe","items","editCData","val1","val2","i","e","target","value","replace","XMLToJSON","setTimeout","newCData","forEach","data","smxml","matchlist","__cdata","JSONToXML","clearTimeout","editalgoCData","placeIndex","placeindex2","j","strarr","k","join","removeCData","list1Val","list2Val","changeSetting","_multimatch","tempArr","swapedCdata","map","tempList","trim","class_name","getBS","select","show","image","nodeName","name","getAttribute","pop","alt","openImageDialogAlgo","ids","removetextbox","test","splice","beforeUpdate","QXML","_listheading1","_listheading2","_is_algo","_max_node","num","Number","indexOf","match","errMessage","parseXMLAuthoring","onMount","listen","document","event","keyCode","preventDefault","_ele","newValue","oldImage","find","parentElement","querySelectorAll","_elm","classList","add","algo_div_len","style","color","which","newXml","isNaN","showmsg","alert","rowInFirstColumn","rowInSeconfColumn","content_type","item","oldValue","cdataArr","exec","keyIndex","parseInt","checked","index","newArr","unshift","shift","str","substring","fStr","not_matched_data","index_no","temp","temp1"],"mappings":"uUASO,MAAMA,EAAQ,CACjBC,IAAK,CACDC,GAAIC,EAAEC,UACNC,IACI,gGACJC,WAAYH,EAAEI,mBAGlBC,aAAc,SAASP,EAAKQ,GAKxB,MAJY,CACZC,MAAOT,EACPU,QAASF,IAKbG,SAAU,SAASC,EAAMC,EAASC,GAC9B,GAAY,KAARF,GAAuB,KAARA,EACnB,OAAQC,GACJ,KAAK,EACL,OAAOE,KAAKC,UAAUF,GACtB,KAAK,GACL,OAAOC,KAAKE,WAAWH,GACvB,KAAK,EACL,OAAOC,KAAKG,UAAUJ,GACtB,KAAK,GACL,OAAOC,KAAKI,WAAWL,GACvB,KAAK,GACL,OAAOC,KAAKK,WAAWN,KAK/BE,UAAW,SAASK,GAEhB,OADUC,GAAGC,UAAU,wBAAwBC,OACrC,EACHT,KAAKR,cAAa,EAAMQ,KAAKf,IAAIC,IAEjCc,KAAKR,cAAa,EAAO,UAIpCW,UAAW,SAASG,GAEpB,IAAII,EAAMH,GAAGC,UAAU,wBAAwBC,OAE/C,OADAE,QAAQC,IAAI,SAASF,GACjBA,EAAM,EACDV,KAAKR,cAAa,EAAMQ,KAAKf,IAAIC,IAEjCc,KAAKR,cAAa,EAAO,UAIlCY,WAAY,SAASE,GAEjB,IAAII,EAAMH,GAAGC,UAAU,uBAAuBC,OAE1CI,EAAON,GAAGC,UAAU,2BAA2BC,OACnD,OAAIC,EAAM,GAAKG,EAAO,EACfb,KAAKR,cAAa,EAAMQ,KAAKf,IAAIK,YAEjCU,KAAKR,cAAa,EAAO,UAIpCU,WAAY,SAASI,GACjB,IAAIO,EAAMC,GAAGN,UAAU,wCAAwCC,OAE3DM,EAAOD,GAAGN,UAAU,wCAAwCC,OAChE,OAAII,EAAO,GAAKE,EAAO,EAChBf,KAAKR,cAAa,EAAMQ,KAAKf,IAAIC,IAEjCc,KAAKR,cAAa,EAAO,UAGpCa,WAAY,SAASC,GACjB,IAAIO,EAAON,GAAGC,UAAU,wCAAwCC,OAE5DM,EAAOR,GAAGC,UAAU,2CAA2CC,OACnE,OAAII,EAAO,GAAKE,EAAO,EACdf,KAAKR,cAAa,EAAMQ,KAAKf,IAAII,KAEjCW,KAAKR,cAAa,EAAO,yjBCyuBoC,KAAzBwB,MAAKC,OAAOC,OAAO,KAKM,KAAzBF,MAAKC,OAAOC,OAAO,KAaM,KAAzBF,MAAKG,OAAOD,OAAO,KAKM,KAAzBF,MAAKG,OAAOD,OAAO,64BAzBY,gCAAiD,KAAzBF,MAAKC,OAAOC,OAAO,GAAa,6BAA6BF,MAAI,2BAA2BA,0DAAoFA,MAAKC,oFADjL,yOAmB5B,gCAAiD,KAAzBD,MAAKG,OAAOD,OAAO,GAAa,6BAA6BF,MAAI,2BAA2BA,0DAAoFA,MAAKG,gkBAiBlPH,MAAKI,kDAvCVJ,waAI2F,KAAzBA,MAAKC,OAAOC,OAAO,GAAa,6BAA6BF,MAAI,2BAA2BA,wDAAoFA,MAAKC,gCAEnN,KAAzBD,MAAKC,OAAOC,OAAO,kFAKM,KAAzBF,MAAKC,OAAOC,OAAO,2EAW6D,KAAzBF,MAAKG,OAAOD,OAAO,GAAa,6BAA6BF,MAAI,2BAA2BA,wDAAoFA,MAAKG,gCAEnN,KAAzBH,MAAKG,OAAOD,OAAO,kFAKM,KAAzBF,MAAKG,OAAOD,OAAO,yEAUzBF,MAAKI,iJAhGGJ,MAAKC,OAAOI,MAAM,2BAAvBZ,mCA4BKO,MAAKG,OAAOE,MAAM,2BAAvBZ,uXANR,kGAAqGO,4aA4B5FA,MAAKI,kDAtDVJ,iEAA+CA,KAAMM,mNA0ByDN,MAAYO,KAAKvB,KAAKgB,qEAtB3HA,MAAKC,OAAOI,MAAM,cAAvBZ,0HAAAA,kCA4BKO,MAAKG,OAAOE,MAAM,cAAvBZ,6HAAAA,sBAsBCO,MAAKI,gCAtDqCJ,KAAMM,kJAoEd,8CAA8CN,MAAKC,OAAOO,OAAO,GAAGH,MAAM,MAAM,GAAGA,MAAM,MAAM,8BAAUL,MAAKC,OAAOI,MAAM,MAAM,GAAML,MAAKC,OAAOI,MAAM,MAAM,GAAI,kDAAnK,8CAA8CL,MAAKC,OAAOO,OAAO,GAAGH,MAAM,MAAM,GAAGA,MAAM,MAAM,iCAAUL,MAAKC,OAAOI,MAAM,MAAM,GAAML,MAAKC,OAAOI,MAAM,MAAM,GAAI,kVAkBnK,8CAA8CL,MAAKG,OAAOK,OAAO,GAAGH,MAAM,MAAM,GAAGA,MAAM,MAAM,8BAAUL,MAAKG,OAAOE,MAAM,MAAM,GAAML,MAAKG,OAAOE,MAAM,MAAM,GAAI,kDAAnK,8CAA8CL,MAAKG,OAAOK,OAAO,GAAGH,MAAM,MAAM,GAAGA,MAAM,MAAM,iCAAUL,MAAKG,OAAOE,MAAM,MAAM,GAAML,MAAKG,OAAOE,MAAM,MAAM,GAAI,kVA5EnJ,8CAA8CL,MAAKQ,OAAO,GAAGH,MAAM,MAAM,8BAAUL,MAAKK,MAAM,MAAM,GAAML,MAAKK,MAAM,MAAM,GAAI,kDAA/H,8CAA8CL,MAAKQ,OAAO,GAAGH,MAAM,MAAM,iCAAUL,MAAKK,MAAM,MAAM,GAAML,MAAKK,MAAM,MAAM,GAAI,mTAD7I,KAAlBL,MAAKE,OAAO,KAMM,KAAlBF,MAAKE,OAAO,6gBAPmB,gCAA0C,KAAlBF,MAAKE,OAAO,GAAa,6BAA6BF,MAAE,IAAIA,MAAI,2BAA2BA,MAAE,IAAIA,0DAA+EA,mFAD5K,uYAa+GA,KAAMS,QAAWC,QAAQ,UAAYA,QAAU,0RAZhJ,KAAlBV,MAAKE,OAAO,GAAa,6BAA6BF,MAAE,IAAIA,MAAI,2BAA2BA,MAAE,IAAIA,wDAA+EA,+BACrN,KAAlBA,MAAKE,OAAO,0EAMM,KAAlBF,MAAKE,OAAO,kEAK8JF,KAAMS,QAAWC,QAAQ,UAAYA,QAAU,4JAkBzL,8CAA8CV,MAAMQ,OAAO,GAAGH,MAAM,MAAM,8BAAUL,MAAMK,MAAM,MAAM,GAAML,MAAMK,MAAM,MAAM,GAAI,kDAAlI,8CAA8CL,MAAMQ,OAAO,GAAGH,MAAM,MAAM,iCAAUL,MAAMK,MAAM,MAAM,GAAML,MAAMK,MAAM,MAAM,GAAI,qTAD/I,KAAnBL,MAAME,OAAO,KAMM,KAAnBF,MAAME,OAAO,mhBAPkB,gCAA2C,KAAnBF,MAAME,OAAO,GAAa,6BAA6BF,MAAE,IAAIA,MAAI,2BAA2BA,MAAE,IAAIA,0DAA8EA,mFAD5K,uYAY+GA,KAAMS,OAAS,iBAAmB,0SAXlI,KAAnBT,MAAME,OAAO,GAAa,6BAA6BF,MAAE,IAAIA,MAAI,2BAA2BA,MAAE,IAAIA,wDAA8EA,+BACpN,KAAnBA,MAAME,OAAO,0EAMM,KAAnBF,MAAME,OAAO,kEAI6JF,KAAMS,OAAS,iBAAmB,yHApDnO,IAAjBT,KAAMS,maAwNMT,qhBAZP7B,EAAEwC,qEAGsCxC,EAAEyC,wFAA1C,4XAjNXZ,4BAALP,qEA4MT,mFADOO,KAAMa,8BAANb,KAAMa,4LArQyD1C,EAAE2C,qFAIF3C,EAAE4C,upDAHkCf,KAAMgB,qLAINhB,KAAMiB,mPAM4BjB,KAAMkB,yHAOzIlB,KAAMmB,maAwBNnB,KAAMS,k8DAzCyET,mBAIAA,mBAMkCA,iGAgChHA,oBAMiCA,oBAmIrBA,mBAgEmFA,mBAO7EA,oBACWA,+CA3PmEA,KAAMgB,8DAINhB,KAAMiB,8DAM4BjB,KAAMkB,yDAOzIlB,KAAMmB,kDAwBNnB,KAAMS,mDAgBDT,cAALP,wIAAAA,2FA2MFO,KAAMa,+LA/6BVO,UACGC,kBACAC,iBACAC,KAIPC,KAKAC,EAAa,GACbC,KACAC,KACAC,KACAC,EAAQ,GAORC,EAAM,EACNC,KAIYC,GACZC,WAAyB,EACzBZ,IAAyB,GACzBL,aAAyB,GACzBC,aAAyB,GACzBQ,WAAyB,GACzBS,oBAAyB,EACzBC,QAAyB,EACzBC,iBAAyB,EACzBC,WAA0B,GAC1BnB,QAA0B,EAC1BoB,OAAyB,GACzBC,SAA0B,KAC1BpB,WAA0B,EAC1BN,kBAA0B,EAC1B2B,OAAyB,GAC/BlC,KAAW,IAGqBmC,WAAWC,QACrCX,EAAQW,eAsONC,EAAUC,EAAMC,EAAMC,EAAGC,OAC5BA,EAAEC,OAAOC,aACK,cAAfF,EAAEC,OAAO5C,OACZwB,EAAWkB,GAAG3C,OAAS4C,EAAEC,OAAOC,MAAMC,QAAQ,OAAO,OAE5B,cAAfH,EAAEC,OAAO5C,QACnBwB,EAAWkB,GAAG7C,OAAS8C,EAAEC,OAAOC,MAAMC,QAAQ,OAAO,WAIlD7B,EAAM8B,EAAUpB,EAAMV,KAC1BG,EAAiB,UAAI4B,2BAChBC,EAAW,KAEdzB,EAAW0B,kBAAiBC,EAAKT,GACjCO,GAAYzB,EAAWkB,GAAG3C,OAAO,IAAIyB,EAAWkB,GAAG7C,OAAO,SAG3DoB,EAAImC,MAAMC,UAAUC,QAAUL,EAE9B/B,EAAYqC,EAAUtC,IACtBuC,aAAapC,EAAiB,aAC5B,cAIKqC,EAAcjB,EAAME,EAAGgB,EAAYf,OACtCA,EAAEC,OAAOC,gBACK,cAAfF,EAAEC,OAAO5C,QACR2D,EAAcD,EAAWzD,MAAM,KAAK,WAC/B2D,EAAI,EAAGA,EAAIpC,EAAWnC,OAAQuE,OAChCA,EAAE,GAAOlB,EAAE,WAEZmB,EADMrC,EAAWkB,GAAG3C,OACPE,MAAM,MACd6D,EAAI,EAAGA,EAAID,EAAOxE,OAAQyE,OAC9BA,GAAKH,GACRE,EAAOC,GAAKnB,EAAEC,OAAOC,kBAOzBgB,EAASA,EAAOE,KAAK,UACrBvC,EAAWkB,GAAG3C,OAAS8D,aAEE,cAAflB,EAAEC,OAAO5C,QACf2D,EAAcD,EAAWzD,MAAM,KAAK,OAC/B2D,EAAI,EAAGA,EAAIpC,EAAWnC,OAAQuE,OAChCA,EAAE,GAAOlB,EAAE,OAEZmB,EADMrC,EAAWkB,GAAG7C,OACPI,MAAM,MACd6D,EAAI,EAAGA,EAAID,EAAOxE,OAAQyE,OAC9BA,GAAKH,GACRE,EAAOC,GAAKnB,EAAEC,OAAOC,kBAOzBgB,EAASA,EAAOE,KAAK,UACrBvC,EAAWkB,GAAG7C,OAASgE,SAGpB5C,EAAM8B,EAAUpB,EAAMV,KAC1BG,EAAY,KAAI4B,2BACXC,EAAW,KAEfzB,EAAW0B,kBAAiBC,EAAKT,GAChCO,GAAYzB,EAAWkB,GAAG3C,OAAO,IAAIyB,EAAWkB,GAAG7C,OAAO,SAE3DoB,EAAImC,MAAMC,UAAUC,QAAUL,EAC9B/B,EAAYqC,EAAUtC,IACtBuC,aAAapC,EAAY,QACvB,cAIK4C,EAAYC,EAAUC,EAAUlE,OAExC2B,EAAMlB,kBAAmB,SACzBkB,EAAMS,OAASpC,cAKPmE,EAActB,OAClB5B,EAAM8B,EAAUpB,EAAMV,QAEb,GAAT4B,EACClB,EAAMZ,UACVE,EAAImC,MAAMC,UAAUe,YAAc,EAElCnD,EAAImC,MAAMC,UAAUe,YAAc,UAEf,GAATvB,OAENwB,EAAUpD,EAAImC,MAAMC,UAAUC,QAAQrD,MAAM,MAC5CqE,EAAc,GAClBD,EAAQE,MAAKjC,EAAMI,SACd8B,EAAWlC,EAAMrC,MAAM,aACvBuE,EAASnF,OAAS,IACrBiF,MAAkBE,EAAS,MAAMA,EAAS,GAAGC,gBAG/CxD,EAAImC,MAAMC,UAAUC,QAAUgB,EAG/BpD,EAAYqC,EAAUtC,QAiPtBU,EAAMQ,SAAW,iBA5OTH,EAAgB0C,GACxBvF,EAAGwF,MAAMxF,EAAGyF,OAAO,kBAAmB,SAASC,WAC/ClD,EAAMK,iBAAkB,SACxBL,EAAMM,WAAayC,SAEfI,KAGD3F,EAAGyF,OAAO,IAAIF,EAAW,UAAUK,UACrCD,EAAME,KAAO7F,EAAGyF,OAAO,IAAIF,EAAW,UAAUO,aAAa,OAAOhF,MAAM,KAAKiF,MAC/EJ,EAAMK,IAAMhG,EAAGyF,OAAO,IAAIF,EAAW,UAAUO,aAAa,SAE5DH,EAAME,KAAO,GACbF,EAAMK,IAAM,IAIb/D,EAAa,MAAI4B,uBAChB7D,EAAGyF,OAAO,iBAAiB/B,MAAQiC,EAAME,KACzC7F,EAAGyF,OAAO,iBAAiB/B,MAAQiC,EAAMK,IACzC3B,aAAapC,EAAa,SACzB,cAKMgE,EAAoBV,EAAYW,EAAK3C,EAAGR,GAChD/C,EAAGwF,MAAMxF,EAAGyF,OAAO,kBAAmB,SAASC,WAC/ClD,EAAMK,iBAAkB,SAOxBL,EAAMM,WAAayC,SACnB/C,EAAMO,OAASA,SAEX4C,KAEyD,MAA1D3F,EAAGyF,OAAO,IAAIF,EAAW,UAAUO,aAAa,QAClDH,EAAME,KAAO7F,EAAGyF,OAAO,IAAIF,EAAW,UAAUO,aAAa,OAAOhF,MAAM,KAAKiF,MAC/EJ,EAAMK,IAAMhG,EAAGyF,OAAO,IAAIF,EAAW,UAAUO,aAAa,SAE5DH,EAAME,KAAO,GACbF,EAAMK,IAAM,IAQb/D,EAAiB,UAAI4B,uBAEpB7D,EAAGyF,OAAO,iBAAiB/B,MAAQiC,EAAME,KAGzC7F,EAAGyF,OAAO,iBAAiB/B,MAAQiC,EAAMK,IACzC3B,aAAapC,EAAiB,aAC7B,cA6EMkE,EAAcD,EAAK3B,EAAY6B,EAAM7C,EAAGC,MACpC,cAAR4C,OAEC5B,EAAcD,EAAWzD,MAAM,KAAK,WAC/B2D,EAAI,EAAGA,EAAIpC,EAAWnC,OAAQuE,OAChCA,EAAE,GAAOlB,EAAE,GAEhBmB,EADUrC,EAAWkB,GAAG3C,OACXE,MAAM,cACV6D,EAAI,EAAGA,EAAID,EAAOxE,OAAQyE,OAC9BA,GAAKH,GACRE,EAAO2B,OAAO1B,EAAG,eAOrBD,EAASA,EAAOE,KAAK,UACrBvC,EAAWkB,GAAG3C,OAAS8D,KACK,IAAxBrC,EAAWkB,GAAG3C,QAAwC,aAAxByB,EAAWkB,GAAG3C,YAC/CyB,EAAWkB,GAAG3C,OAAS,qBAGb,cAARwF,OACC1B,MACAF,EAAcD,EAAWzD,MAAM,KAAK,OAC/B2D,EAAI,EAAGA,EAAIpC,EAAWnC,OAAQuE,OAChCA,EAAE,GAAOlB,EAAE,GAEhBmB,EADUrC,EAAWkB,GAAG7C,OACXI,MAAM,UACV6D,EAAI,EAAGA,EAAID,EAAOxE,OAAQyE,OAC9BA,GAAKH,GACRE,EAAO2B,OAAO1B,EAAG,eAOrBD,EAASA,EAAOE,KAAK,UACrBvC,EAAWkB,GAAG7C,OAASgE,KACK,IAAxBrC,EAAWkB,GAAG7C,QAAwC,aAAxB2B,EAAWkB,GAAG7C,YAC/C2B,EAAWkB,GAAG7C,OAAS,sBAGrBoB,EAAM8B,EAAUpB,EAAMV,SACtBG,EAAQ4B,2BACPC,EAAW,KAEfzB,EAAW0B,kBAAiBC,EAAKT,GAChCO,GAAYzB,EAAWkB,GAAG3C,OAAO,IAAIyB,EAAWkB,GAAG7C,OAAO,SAE3DoB,EAAImC,MAAMC,UAAUC,QAAUL,EAC9B/B,EAAYqC,EAAUtC,IACtBuC,aAAapC,KACX,SACHO,EAAMzB,KAAOyB,EAAMzB,OAphBjBuF,QAEQ9D,EAAMV,KAAMA,QACZU,EAAMV,IAAMA,cAgFIyE,GAC1BpE,KACAC,SACAC,UAEAG,EAAMf,aAAe8E,EAAKtC,MAAMC,UAAUsC,qBAC1ChE,EAAMd,aAAe6E,EAAKtC,MAAMC,UAAUuC,qBAC1CjE,EAAMN,WAAaqE,EAAKtC,MAAMC,UAAUe,mBACxCzC,EAAMZ,UAAiD,GAApC2E,EAAKtC,MAAMC,UAAUe,eAGxC/C,EAAaqE,EAAKtC,MAAMC,UAAUe,YAClC3C,EAAQiE,EAAKtC,MAAMC,UAAUC,QAGzBoC,EAAKtC,MAAMC,UAAUwC,aAExBlE,EAAMtB,OAA2C,QAAjCqF,EAAKtC,MAAMC,UAAUwC,gBAGrClE,EAAMtB,QAAS,QAIZqF,EAAKtC,MAAMC,UAAUyC,eACpBC,EAAMC,OAAON,EAAKtC,MAAMC,UAAUyC,eACtCnE,EAAMb,QAAYiF,EAAM,EAAIA,EAAM,cAElCpE,EAAMb,QAAU,MAGjBW,EAAQA,EAAMxB,MAAM,MAKpBwB,EAAMyB,kBAAiBC,EAAKT,MACJ,IAAnBjB,EAAMiB,GAAG+B,UAERhD,EAAMiB,GAAGuD,QAAQ,MAAQ,GAAKxE,EAAMiB,GAAGuD,QAAQ,MAAQ,OAEtDlG,EAAS0B,EAAMiB,GAAGI,QAAQrB,EAAMiB,GAAGwD,MAAM,cAAc,IAAIpD,QAAQ,QAAS,IAC5EjD,EAAS4B,EAAMiB,GAAGwD,MAAM,cAAc,GAE1CrG,EAASA,EAAOiD,QAAQ,IAAI,IAAIA,QAAQ,IAAI,QAO5CtB,MACIA,GACMzB,OAAAA,EACAF,OAAAA,EACRG,GAAG0C,KAGLnB,EAAMmB,GAAKjB,EAAMiB,GAAGI,QAAQrB,EAAMiB,GAAGwD,MAAM,cAAc,IAAIpD,QAAQ,QAAS,IAC9ExB,EAAMoB,GAAKjB,EAAMiB,GAAGwD,MAAM,cAAc,GACxC5E,EAAMoB,GAAKpB,EAAMoB,GAAGI,QAAQ,IAAI,IAAIA,QAAQ,IAAI,SAEhDqD,WAAa,kCAAkCzD,MAC/Cf,EAAME,WAAY,QAzIXuE,CADarD,EAAUpB,EAAMV,UAcrCoF,QAGIlH,EAAGmH,OAAOC,SAAS,UAAU,qBAAoBC,GACzB,IAAjBA,EAAMC,SACLD,EAAME,oBASpBvH,EAAGmH,OAAOC,SAAS,QAAQ,iBAAkBI,QACxCC,EACAC,EAAW1H,EAAG2H,KAAKH,EAAKI,cAAcA,cAAc,YAAYlE,MAEnE+D,EAD6D,cAA3DzH,EAAG2H,KAAKH,EAAKI,cAAcA,cAAc,YAAY/G,GAC5C2B,EAAMV,IAAI6B,QAAQ+D,EAAU,iBAE5BlF,EAAMV,IAAI6B,QAAQ+D,EAAU,iBAGxC3F,EAAY0F,MASbzH,EAAGmH,OAAOC,SAAS,UAAU,4BAC5BvD,uBACCuD,SAASS,iBAAiB,qBAAqB9D,SAAS+D,IACvDA,EAAKC,UAAUC,IAAI,4BAKlBC,EAAeb,SAASS,iBAAiB,0BACrCtE,EAAI,EAAGA,EAAI0E,EAAa/H,OAAQqD,IACvC0E,EAAa1E,GAAG2E,MAAMC,MAAQ,OAU/BnI,EAAGmH,OAAOC,SAAS,UAAU,wDAAwDpD,EAAKqD,GACpE,IAAjBA,EAAMC,SAAgC,IAAfD,EAAMe,OAEhCf,EAAME,2MA8EU/D,OAEd6E,EAASzE,EAAUpB,EAAMV,KAEV,gBAAf0B,EAAEC,OAAO5C,OACZ2B,EAAMf,aAAe+B,EAAEC,OAAOC,SACL,gBAAfF,EAAEC,OAAO5C,OAEnB2B,EAAMd,aAAe8B,EAAEC,OAAOC,SACL,WAAfF,EAAEC,OAAO5C,KAEfyH,MAAM9E,EAAEC,OAAOC,OAClB1D,EAAGuI,QACF,gBACA,6BACA,SAES/E,EAAEC,OAAOC,MAAQ,EAC3B1D,EAAGwI,MAAM,0CAEThG,EAAMb,QAAU6B,EAAEC,OAAOC,UAG3BzB,EAAkB,WAAI4B,uBAErBwE,EAAOpE,MAAMC,UAAUsC,cAAgBhE,EAAMf,aAC7C4G,EAAOpE,MAAMC,UAAUuC,cAAgBjE,EAAMd,aACzCc,EAAMb,QACT0G,EAAOpE,MAAMC,UAAUyC,UAAYnE,EAAMb,eAGlC0G,EAAOpE,MAAMC,UAAUyC,UAG/B5E,EAAYqC,EAAUiE,IACtBhE,aAAapC,EAAkB,cAC7B,qBAMCwG,EAAmBzI,EAAGC,UAAU,wCAAwCC,OAGxEwI,EAAoB1I,EAAGC,UAAU,wCAAwCC,UACzEuI,EAAmB,IAAMC,EAAoB,GAChD1I,GAAMA,EAAGwI,MAAM,wCAEfjG,QAEIT,EAAM8B,EAAUpB,EAAMV,KAE1BA,EAAImC,MAAMC,UAAUC,QAAUrC,EAAImC,MAAMC,UAAUC,mCAAqC5B,2BAA6BA,OAEpHR,EAAYqC,EAAUtC,IACtB+B,2BACKnF,EAAMD,EAAMY,SAASwC,EAAY8G,aAAc9G,EAAY+G,KAAM/G,EAAYrC,cACjFwC,EAAWtD,KACT,kBAKJsB,EAAGwF,MAAM,sBAAuB,SAASE,mCAyLzClD,EAAMK,iBAAkB,oBAKJ,GAAhBL,EAAMtB,WAEY,cAAhBsB,EAAMO,QAA4C,cAAhBP,EAAMO,YACxC4C,KAGJA,EAAME,KAAO7F,EAAGyF,OAAO,iBAAiB/B,MACxCiC,EAAMK,IAAMhG,EAAGyF,OAAO,iBAAiB/B,MACvCiC,EAAMkD,SAAW7I,EAAGyF,OAAO,IAAIjD,EAAMM,YAAYY,UACjDlB,EAAMK,iBAAkB,KAExB8C,EAAM8B,SAAWjF,EAAMV,IAAI6B,QAAQgC,EAAMkD,SAAS,IAAIlD,EAAME,KAAK,KAAKF,EAAMK,KAE5EjE,EAAY4D,EAAM8B,oBAIfqB,oCAA+CC,KAAKvG,EAAMV,KAC1DQ,EAAQ,GACR0G,EAAWC,SAAUzG,EAAMM,WAAYiE,MAAM,UAC7CpB,KAGJA,EAAME,KAAO7F,EAAGyF,OAAO,iBAAiB/B,MAExCiC,EAAMK,IAAMhG,EAAGyF,OAAO,iBAAiB/B,MAEvCiC,EAAMkD,SAAW7I,EAAGyF,OAAO,IAAIjD,EAAMM,YAAYY,UACjDlB,EAAMK,iBAAkB,KACpBiG,GACHxG,EAAQwG,EAAS,GAEjBxG,EAASA,EAAMqB,QAAQ,OAAO,MAAO2B,OACrCwD,EAAWxG,EAAMxB,MAAM,MAEvBgI,EAASE,GAAYF,EAASE,GAAUrF,QAAQgC,EAAMkD,SAAS,IAAIlD,EAAME,KAAK,KAAKF,EAAMK,KAEzF1D,EAAQwG,EAASlE,KAAK,MAEtBe,EAAM8B,SAAW3F,EAAI6B,QAAQ,gCAAgC,cAAcrB,EAAM,UAGjFqD,EAAM8B,SAAW3F,EAAI6B,QAAQgC,EAAMkD,SAAS,IAAIlD,EAAME,KAAK,KAAKF,EAAMK,KAGvEjE,EAAY4D,EAAM8B,qBAKEjE,OAGjB1B,EAAM8B,EAAUpB,EAAMV,SAC1BU,EAAMtB,OAASsC,EAAEC,OAAOyF,WAOxBpH,EAAImC,MAAMC,UAAUwC,SAAWlD,EAAEC,OAAOyF,QAExCnH,EAAYqC,EAAUtC,gBA+DCqH,OAEnBrH,EAAM8B,EAAUpB,EAAMV,KAEtBsH,EAAStH,EAAImC,MAAMC,UAAUC,QAAQrD,MAAM,MACZ,IAA/BsI,EAAQA,EAAOlJ,OAAS,KAC3BkJ,EAAOrD,MACPqD,EAAOC,QAAQ,KAEE,IAAbD,EAAO,IAA2B,IAAbA,EAAO,IAChCA,EAAOE,YAGJC,EAAMH,EAAOH,SAASE,EAAM,IAE5BvI,EAAS2I,EAAI5F,QAAQ4F,EAAIxC,MAAM,cAAc,IAAIpD,QAAQ,QAAS,IAClEjD,EAAS6I,EAAIxC,MAAM,cAAc,GACrCrG,EAASA,EAAO8I,UAAU,EAAG9I,EAAOR,OAAO,GAE3CQ,EAAS,IAAIA,EAAO,IAEpBE,GAAgB,uBAEZ6I,EAAO7I,EAAOF,EAClB0I,EAAOH,SAASE,EAAM,IAAMM,EAE5BL,EAASA,EAAOxE,KAAK,MAErB9C,EAAImC,MAAMC,UAAUC,QAAUiF,EAE9BrH,EAAYqC,EAAUtC,oBAetBU,EAAMlB,kBAAmB,SAErBoI,EAAmB,GAGvBrH,EAAW0B,kBAAiBC,EAAK2F,GAE5BtH,EAAWnC,OAAS,EACnBmC,EAAWsH,GAAU9I,IAAM2B,EAAMS,SACpCyG,GAAoBrH,EAAWsH,GAAU/I,OAAS,IAAMyB,EAAWsH,GAAUjJ,OAAS,QAGvFV,EAAGwI,MAAM,gCACTkB,GAAoBrH,EAAWsH,GAAU/I,OAAS,IAAMyB,EAAWsH,GAAUjJ,OAAS,cAIpFoB,EAAM8B,EAAUpB,EAAMV,KAE1BA,EAAImC,MAAMC,UAAUC,QAAU,KAAOuF,EAErC3H,EAAYqC,EAAUtC,aA+CF0B,GAAIwB,EAAc,KAKaxB,GAAIwB,EAAc,KAMjDxB,GAAIwB,EAAc,KAKaxB,GAAIwB,EAAc,YAsCuLxB,KAAKc,EAAcsF,EAAKrG,EAAEA,EAAE,IAAIkB,EAAEjB,SAWzHA,KAAKyC,EAAoB,cAAc1C,EAAE,IAAIkB,EAAElB,EAAQA,EAAE,oBAC9DC,KAAK2C,EAAc,EAAsB5C,EAAE,IAAIkB,EAAE,aAAalB,WAgB6BC,KAAKc,EAAcuF,EAAMtG,EAAEA,EAAE,IAAIoB,EAAEnB,SAUzHA,KAAKyC,EAAoB,cAAc1C,EAAE,IAAIoB,EAAEpB,EAAQA,EAAE,oBAC9DC,KAAK2C,EAAc,EAAsB5C,EAAE,IAAIoB,EAAE,aAAapB,QAOrJsB,EAAYb,EAAKpD,OAAOoD,EAAKtD,OAAOsD,EAAKnD,UAWmH2C,KAAKJ,EAAUY,EAAKtD,OAAOsD,EAAKtD,OAAO6C,EAAEC,QAUlIX,EAAgB,cAAcU,SAQ2DC,KAAKJ,EAAUY,EAAKpD,OAAOoD,EAAKtD,OAAO6C,EAAEC,QAUlIX,EAAgB,cAAcU,QAOrGsB,EAAYb,EAAKpD,OAAOoD,EAAKtD,OAAOsD,EAAKnD,cA6GnD2B,EAAMlB,kBAAmB,iCAbtEkB,EAAMlB,sBAANkB,EAAMlB"}