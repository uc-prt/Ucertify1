import{E as t,N as e,S as s,i as l,s as a,D as n,e as r,j as o,B as c,f as d,g as u,h as f,l as m,r as p,o as h,F as g,G as b,H as v,b as x,c as A,u as w,m as k,x as _,M as y,t as I,a as L,d as C,y as T,p as q,A as M,V as $,C as S,X as E,z as H,_ as z,P as j}from"./main-e0d43b45.js";import{I as D}from"./ItemHelper-7bdcfa5a.js";import{s as W}from"./style-inject.es-1f59c1d0.js";import{h as B}from"./hotkeys.esm-4c49bce2.js";const N=new t,O={sinfo:!0,multimatch:0,ajax_eId:"#matchmain",is_valid_drop:!1};let U,P=[];O.removeUserAns=function(){N.find("#matchmain","#lines, .matchlist-delete",{action:"remove"}),N.selectAll("#matchmain div[data-userans]").forEach((t=>{t.setAttribute("data-userans","")}))},O.update_XMLValue=function(){O.xmlDom=N.select("#special_module_xml").value,O.multimatch=N.select("#matchType").value,N.select("#multimatch").checked&&(O.multimatch=1);let t=N.findChild(O.xmlDom,"matchlist");N.setAttr(t,{listheading1:N.select("#list1").value,listheading2:N.select("#list2").value,multimatch:O.multimatch}),t.innerHTML="<![CDATA[\n"+N.select("#matchList").value+"\n]]>",N.select("#special_module_xml","value",formatXml(O.xmlDom.xml?O.xmlDom.xml:(new XMLSerializer).serializeToString(O.xmlDom[0])))},O.remove_lines=function(t){N.select(t+" #remMatchLine","remove"),N.listen("body","click",".matchlist-delete",(e=>{let s={path:e.getAttribute("d"),base:e.getAttribute("base").split("_")};s.userans=N.find("#matchmain",`[id="${s.base[0]}"]`)?.getAttribute("data-userans").split(","),0!=s.userans.includes(s.base[1])&&s.userans.splice(s.userans.indexOf(s.base[1]),1),s.userans=s.userans.join(","),","==s.userans.substr(0,1)&&(s.userans=s.userans.substr(1,s.userans.length)),N.select(`[id="${s.base[0]}"]`,"attr",{"data-userans":s.userans}),s.path=s.path.substr(1,s.path.length).split("C"),s.l1=s.path[0].trim().replace(/ /g,",").split(","),s.l2=s.path[1].trim().replace(/ /g,",").split(","),s.index=parseInt(s.l1[s.l1.length-1])+"_"+(parseInt(s.l1[s.l1.length-2])-20)+","+parseInt(s.l2[s.l2.length-1])+"_"+(parseInt(s.l2[s.l2.length-2])+10)+","+e.getAttribute("base"),P.splice(P.indexOf(s.index),1),N.remove(`[base='${e.getAttribute("base")}']`),O.checkAns(P),setTimeout((function(){O.checkAns(t)}),200)}))},N.listen("body","click",".donotshowdialo",(t=>{O.storeDoNotShow(user_guid,1==t.checked?"store":"remove")})),O.storeDoNotShow=function(t,e){let s=JSON.parse(localStorage.getItem("dontshowdialog"));"store"==e?(null==s&&(s={}),s[t]=1,localStorage.setItem("dontshowdialog",JSON.stringify(s))):"remove"==e&&null!=s&&(delete s[t],localStorage.setItem("dontshowdialog",JSON.stringify(s)))},O.chkDoNotShow=function(t){const e=JSON.parse(localStorage.getItem("dontshowdialog"));return null!=e&&t in e},O.showUserAns=function(t){let s=0;P=[],null!=N.select(t).nodeName&&(O.multimatch=N.select(t).getAttribute("multimatch")),O.showAns(t),O.dragOptionMatchlist={zIndex:100,cursorAt:{top:-10,left:-10},cursor:"default"},window.mlid=t,U=new e({onDragStart:t=>{O.is_valid_drop=!1;let e=t.target;"IMG"===e.nodeName&&(e=e.parentElement),s=parseInt(e.offsetTop+e.clientHeight/2)+"_"+parseInt(e.offsetLeft+e.offsetWidth)},onDrop:(e,i)=>{document.querySelectorAll(".list2").length>0?function(e,i){P=[],O.is_valid_drop=!0;let l,a=e.target;"SPAN"!=a.nodeName&&"IMG"!=a.nodeName||(a=a.parentElement);let n="black";N.select("#main-page").length>0&&"bla"==N.select("#main-page").getAttribute("mode")&&(n="white"),a.style.position="relative",l=s+","+parseInt(a.offsetTop+a.clientHeight/2)+"_"+parseInt(a.offsetLeft)+","+i.getAttribute("id")+"_"+a.getAttribute("id"),0==P.includes(l)&&P.push(l);let r,o=i.getAttribute?.("data-userans")?i.getAttribute("data-userans").split(","):[];0==o.includes(a.getAttribute("id"))&&o.push(a.getAttribute("id")),o=o.join(","),","==o.substr(0,1)&&(o=o.substr(1,o.length)),i.setAttribute("data-userans",o);let c='<svg id="lines">';var d;P.forEach((function(t,e){e=t.split(","),t=e[1].split("_"),d=e[2],e=e[0].split("_"),r='<div class="matchlist-delete center-block" d="M'+parseInt(e[1])+","+e[0]+"C"+(parseInt(e[1])+88)+" ,"+e[0]+","+(parseInt(e[1])+88)+","+t[0]+","+(parseInt(t[1])-10)+","+t[0]+'" base="'+d+'" style="left:'+parseInt(e[1])+"px;top:"+(parseInt(e[0])-9)+'px">&times</div>',c+='<path fill="none" d="M'+parseInt(e[1])+","+(parseInt(e[0])-5)+"C"+(parseInt(e[1])+88)+" ,"+(parseInt(e[0])-4)+","+(parseInt(e[1])+88)+","+(parseInt(t[0])-4)+","+(parseInt(t[1])-10)+","+(parseInt(t[0])-5)+'"  base="'+d+'" stroke-width = "2" stroke="'+n+'"></path>',c+='<g transform="translate('+(parseInt(t[1])-11)+","+(parseInt(t[0])-11)+') rotate(0) scale(4) translate(0,0) scale(.3)" base="'+d+'"><g fill="'+n+'" stroke="none" ><path d="M 0 0 L 10 5 L 0 10 z" /></g></g>'})),c+="</svg>",N.insert(t,r,"afterbegin"),N.insert(t,c,"afterbegin"),O.remove_lines(t)}(e,i):document.querySelectorAll(".list3").length>0&&function(e,s){O.is_valid_drop=!0;const i=e.target;i.style.position="relative";var l=s.getAttribute("data-droped")?s.getAttriburte("data-droped"):s.getAttribute("id");i.setAttribute("data-droped",l),i.innerHTML=s.innerHTML,i.setAttribute("data-userans",l);let a=window.getComputedStyle(s);i.style.backgroundColor=a.getPropertyValue("background-color");var n=[];0==(n=s.getAttribute("data-userans").split(",")).includes(i.getAttribute("id"))&&n.push(l),","==(n=n.join(",")).substr(0,1)&&(n=n.substr(1,n.length)),s.setAttribute("data-userans",n),O.checkAns(t)}(e,i)},isValidDrag:t=>{}})},O.bindKeyup=function(t){t=t||O.ajax_eId,N.find(".row-fluid",".selmatch",{action:"removeClass",actionData:"selmatch"});let e,s=0,i="";function l(){N.find(t,".copiedclr","all").forEach((t=>{t.classList.remove("copiedclr")})),i="",s=0}function a(e){N.find(t,"."+e,"all").forEach((t=>{t.classList.add("ks")}))}function n(){!function(){const t=N.selectAll("#matchmain .ks").length;N.find(mlidVar,".ks:nth("+s+")").focus(),s==t-1?s=0:s++}()}function r(e){var s=!1;let i=N.find(t,"."+e,"all"),l=N.select(":focus");if(l.nodeName){let t=l.getAttribute("id");for(let e=0;e<i.length;e++)if(t==i[e].getAttribute("id")){s=!0;break}}return s}function o(t,e=1){if(t.id){let s=N.selectAll(".ks"),i=-1;for(let l=0;l<s.length;l++)if(t.id==s[l].id){i=e?l==s.length-1?0:l+1:0==l?s.length-1:l-1;break}-1!=i&&s[i].focus()}}null!=N.select(t).nodeName&&(e=N.select(t).getAttribute("multimatch")),"2"!=e?(a("list1"),a("list2")):(a("list3"),a("list4")),document.addEventListener("click",(()=>{r("list1")||r("list2")||r("list3")||r("list4")||l()})),document.querySelector(t)&&document.querySelector(t).addEventListener("keydown",(()=>{"function"==typeof B&&B.setScope("matchlist")})),O.cleanTitle=function(){N.find(O.ajax_eId,".list1","all").forEach((t=>{t.removeAttribute("aria-label")}))},O.getTitle=function(t,e,s,i,l){return t&&(0==s&&(e+=l?l+" and Attached to ":"Attached to "),s>0&&(e+=" and "),i?(e+=t.textContent,e+="1"==t.getAttribute("as")?" is marked as correct":" is marked as incorrect"):e+=t.textContent),e},O.pasteDraggable=function(){let e,s=[],l=N.find(t,".ks:focus");if(""!=i){let a=N.find(t,'[id="'+i+'"]'),n=0;n=parseInt(a.offsetTop+a.clientHeight/2)+"_"+parseInt(a.offsetLeft+a.offsetWidth);let r=N.clone(a);r.classList.add("clone"),N.setCss(r,{position:"absolute",top:a.offsetTop,left:a.offsetLeft,width:a.offsetWidth+20,height:a.clientHeight+15});let o="black";N.selectAll("#main-page").length>0&&"bla"==N.select("#main-page").getAttribute("mode")&&(o="white"),l.style.position="relative";let c=n+","+parseInt(l.offsetTop+l.clientHeight/2)+"_"+parseInt(l.offsetLeft)+","+a.getAttribute("id")+"_"+l.getAttribute("id");0==s.includes(c)&&s.push(c);let d,u=[];if(u=a.getAttribute("data-userans").split(","),0==u.includes(l.getAttribute("id"))&&u.push(l.getAttribute("id")),u=u.join(","),","==u.substr(0,1)&&(u=u.substr(1,u.length)),a.setAttribute("data-userans",u),u.length>0){let t=u.split(","),e="";t.map(((t,s)=>{e=O.getTitle(N.select("#"+t),e,s)})),a.setAttribute("aria-label",e)}let f,m='<svg id="lines">';return s.forEach(((t,e)=>{e=t.split(","),t=e[1].split("_"),f=e[2],e=e[0].split("_"),d='<div class="matchlist-delete center-block" d="M'+(parseInt(e[1])+20)+","+e[0]+"C"+(parseInt(e[1])+88)+" ,"+e[0]+","+(parseInt(e[1])+88)+","+t[0]+","+(parseInt(t[1])-10)+","+t[0]+'" base="'+f+'" style="left:'+parseInt(e[1])+"px;top:"+(parseInt(e[0])-9)+'px">&times</div>',m+='<path fill="none" d="M'+(parseInt(e[1])+20)+","+(parseInt(e[0])-5)+"C"+(parseInt(e[1])+88)+" ,"+e[0]+","+(parseInt(e[1])+88)+","+t[0]+","+(parseInt(t[1])-10)+","+t[0]+'"  base="'+f+'" stroke-width = "2" stroke="'+o+'"></path>',m+='<path fill="none" d="M'+(parseInt(e[1])+20)+","+(parseInt(e[0])-5)+"C"+(parseInt(e[1])+88)+" ,"+e[0]+","+(parseInt(e[1])+88)+","+t[0]+","+(parseInt(t[1])-10)+","+t[0]+'" marker-end="url(#triangle)" class="line" base="'+f+'" stroke-width = "50"></path>',m+='<g transform="translate('+(parseInt(t[1])-11)+","+(parseInt(t[0])-6)+') rotate(0) scale(4) translate(0,0) scale(.3)" base="'+f+'"><g fill="'+o+'" stroke="none" ><path d="M 0 0 L 10 5 L 0 10 z" /></g></g>'})),m+="</svg>",N.insert(t,d,"afterbegin"),N.insert(t,m,"afterbegin"),O.remove_lines(t),a.removeAttribute("style"),a.style.position="relative",N.remove(".clone"),e=O.checkAns(t),a.classList.remove("copiedclr"),i="",e}},O.pasteDraggableList3=function(){let e;var s=N.find(t,".ks:focus");if(""!=i){var l=N.select(t+" #"+i);l.classList.remove("copiedclr"),s.style.position="relative";var a=l.getAttribute("data-droped")?l.getAttribute("data-droped"):l.getAttribute("id");s.setAttribute("data-droped",a),s.innerHTML=l.innerHTML,s.setAttribute("data-userans",a);let r=window.getComputedStyle(l);s.style.backgroundColor=r.getPropertyValue("background-color");var n=[];return 0==(n=l.getAttribute("data-userans").split(",")).includes(s.getAttribute("id"))&&n.push(a),","==(n=n.join(",")).substr(0,1)&&(n=n.substr(1,n.length)),l.setAttribute("data-userans",n),e=O.checkAns(t),l.classList.remove("copiedclr"),i="",e}},"function"==typeof B&&(B.unbind("down,up,left,right,alt+down,enter,delete,esc","matchlist"),B("down,up,left,right,alt+down,enter,delete,esc","matchlist",(function(e,s){switch(s.key){case"down":case"right":if(r("ks")){let t=N.select(".ks:focus"),s=N.selectAll(".ks")[N.selectAll(".ks").length-1];t.id==s.id?N.selectAll(".ks")[0].focus():o(t,1),e.preventDefault()}break;case"up":case"left":if(r("ks")){let t=N.select(".ks:focus"),s=N.selectAll(".ks")[0];t.id==s.id?N.selectAll(".ks")[N.selectAll(".ks").length].focus():o(focus_element,0),e.preventDefault()}break;case"alt+down":n();break;case"enter":e.preventDefault(),(r("list1")||r("list4"))&&function(){let e=N.selectAll(t+" .ks:focus");N.find(t,".list1","all").forEach((t=>{t.classList.remove("copiedclr")})),N.find(t,".list4","all").forEach((t=>{t.classList.remove("copiedclr")})),i=e[0].id,N.select(e[0],"addClass","copiedclr")}();break;case"delete":e.preventDefault(),r("list3")?function(){let e=0;var s=N.find(t,".ks:focus");e=parseInt(s.offsetTop+s.clientHeight/2)+"_"+parseInt(s.offsetLeft+s.offsetWidth),N.setCss(s,{position:"absolute",top:s.offsetTop,left:s.offsetLeft,width:s.offsetWidth+20,height:s.clientHeight+15}),s.removeAttribute("style"),s.style.position="relative",s.classList.contains("ui-droppable")&&(s.classList.remove("dropped"),s.innerHTML="Place Here",s.setAttribute("data-userans",""))}():r("list1")&&function(){var e=N.find(t,".ks:focus");if(e.classList.contains("ui-draggable")&&""!=e.getAttribute("data-userans")){var s=e.getAttribute("id")+"_"+e.getAttribute("data-userans").split(",")[0],i="";N.find(t,".matchlist-delete","all").forEach((t=>{if(t.getAttribute("base")==s)return i=t,!1}));var l=document.querySelector(i).getAttribute("d"),a=document.querySelector(i).getAttribute("base").split("_"),n=N.find(t,'[id="'+rem.base[0]+'"]').getAttribute("data-userans").split(",");0!=n.includes(a[1])&&n.splice(n.indexOf(a[1]),1),","==(n=n.join(",")).substr(0,1)&&(n=n.substr(1,n.length)),document.querySelector("#"+a[0]).setAttribute("data-userans",n),document.querySelector("#"+a[0]).setAttribute("aria-label","");var r=(l=l.substr(1,l.length).split("C"))[0].trim().replace(/ /g,",").split(","),o=l[1].trim().replace(/ /g,",").split(","),c=parseInt(r[r.length-1])+"_"+(parseInt(r[r.length-2])-20)+","+parseInt(o[o.length-1])+"_"+(parseInt(o[o.length-2])+10)+","+N.select(i).getAttribute("base");P.splice(P.indexOf(c),1);var d=document.querySelector(i).getAttribute("base");N.remove("[base='"+d+"']"),O.checkAns(t)}}();case"esc":r("ks")&&(e.preventDefault(),l(),focusLast(),N.selectAll(".ks")[N.selectAll(".ks").length-1].blur())}})),B.setScope("matchlist"))},O.pollFunc=function(t,e,s){var i=(new Date).getTime();s=s||1e3,canPoll=!0,function l(){canPoll=(new Date).getTime()-i<=e,!t()&&canPoll&&setTimeout(l,s)}()},O.showAns=function(t){if(null!=N.select(t).nodeName&&(O.multimatch=N.select(t).getAttribute("multimatch")),O.multimatch<2){var e='<svg id="lines">';O.f=0,N.selectAll(t+" .list1").forEach((s=>{if(""!=s.getAttribute("data-userans")){O.f=1;const i=parseInt(s.offsetTop+s.clientHeight/2),l=parseInt(s.offsetLeft+s.offsetWidth),a=top+"_"+l;e+='<marker id="triangle" viewBox="0 0 10 10" refX="0" refY="5" markerUnits="strokeWidth" markerWidth="6" markerHeight="5" orient="auto"><path d="M 0 0 L 10 5 L 0 10 z" /></marker>';const n=s.getAttribute("data-userans").split(",");for(let r=0;r<n.length;r++)if(""!=n[r]){const o=parseInt(N.find(t,"#"+n[r]).offsetTop+N.find(t,"#"+n[r]).clientHeight/2),c=parseInt(N.find(t,"#"+n[r]).offsetLeft),d=o+"_"+c,u='<div class="matchlist-delete center-block" d="M'+(parseInt(l)+20)+","+i+"C"+(parseInt(l)+88)+","+i+","+(parseInt(l)+88)+","+o+","+(parseInt(c)-10)+","+o+'" base="'+s.getAttribute("id")+"_"+N.find(t,"#"+n[r]).getAttribute("id")+'" style="left:'+parseInt(l)+"px;top:"+(i-9)+'px">&times</div>';e+='<path fill="none" d="M'+parseInt(l)+","+(i-5)+"C"+(parseInt(l)+88)+","+(parseInt(i)-4)+","+(parseInt(l)+88)+","+(parseInt(o)-4)+","+(parseInt(c)-10)+","+(parseInt(o)-4)+'" marker-end="url(#triangle)" class="line" base="'+s.getAttribute("id")+"_"+document.querySelector(t+" #"+n[r]).getAttribute("id")+'"></path>';const f=a+","+d+","+s.getAttribute("id")+"_"+N.select(t+" #"+n[r]).getAttribute("id");-1==f.includes(P)&&P.push(f),N.insert(t,u,"afterbegin")}}})),e+="</svg>",1==O.f&&N.insert(t,e,"afterbegin")}else O.showMultimatchAnswer(t,1)},O.checkAns=function(t){let e={},s=!0,i="",l="",a="",n=0,r="",o="",c=".list1",d=".list2";if(2==O.multimatch&&(c=".list3",d=".list4"),"#matchmain"==t){N.selectAll(t+" "+c).forEach((t=>{let e=t.getAttribute("data-correctans").split(",").sort().join(","),i=t.getAttribute("data-userans").split(",").sort().join(",");","==e.substr(0,1)&&(e=e.substr(1,e.length)),","==i.substr(0,1)&&(i=i.substr(1,i.length)),e!=i?s=!1:n++,l+=t.getAttribute("id")+",","undefined"!=typeof calculatePoint&&calculatePoint(N.select("#matchmain").getAttribute("totalcorrectans"),n),r+=t.getAttribute("data-originalseq")+","})),l=l.split(",");let u=l.filter(((t,e,s)=>s.lastIndexOf(t)==e));l=u.join(","),l=l.substr(0,l.length-1),r=r.substr(0,r.length-1),N.find(t,d,"all").forEach((e=>{var s="";N.find(t,c+`[data-userans*="${e.getAttribute("id")}"]`,"all").forEach((t=>{""!=t.getAttribute("data-userans")&&(s+=t.getAttribute("id")+"|")})),""!=(s=s.substr(0,s.length-1))&&(i+=e.getAttribute("id")+"["+s+"],"),a+=e.getAttribute("id")+",",o+=e.getAttribute("data-originalseq")+","})),a=a.substr(0,a.length-1),o=o.substr(0,o.length-1),i=i.substr(0,i.length-1);const f="<smans type='14'>\n\t<matchlist list1seq='"+l+"' list2seq='"+a+"' userans='"+i+"' originalseq1='"+r+"' originalseq2='"+o+"'></matchlist>\n</smans>";return e.u=f,e.ans=s,s?("undefined"!=typeof is_sm&&N.showmsg("Correct"),e):("undefined"!=typeof is_sm&&N.showmsg("Incorrect"),e)}},O.insertAtCaret=function(t,e){if(document.selection){t.focus(),document.selection.createRange().text=e}else if(t.selectionStart||0===t.selectionStart){let s=t.selectionStart,i=t.selectionEnd,l=t.scrollTop;t.value=t.value.substring(0,s)+e+t.value.substring(i,t.value.length),t.selectionStart=s+e.length,t.selectionEnd=s+e.length,t.scrollTop=l}else t.value+=e;t.focus()},O.showMultimatchAnswer=function(t,e){N.find(t," .list3","all").forEach((t=>{N.select(t,"removeClass","dropped"),t.innerHTML="Place here",N.select(t,"css",{backgroundColor:"#fff"})})),N.find(t,".list3","all").forEach((e=>{if(e.getAttribute("data-userans").length>0){const s=e.getAttribute("data-userans").split(",");for(let i=0;i<s.length;i++)if(""!=s[i]){const l=N.find(t,"#"+s[i]).innerHTML;e.innerHTML=l,e.classList.add("dropped")}}}))},O.checkAnswerStatus=function(t,e,s){let i=s||"",l=e.getAttribute("data-correctans").split(",").sort().join(","),a=e.getAttribute("data-userans").split(",").sort().join(",");if(","==l.substr(0,1)&&(l=l.substr(1,l.length)),","==a.substr(0,1)&&(a=a.substr(1,a.length)),""!=i){const e=l.split(","),s=a.split(",");0!=e.includes(i)&&0==s.includes(i)&&(t=-1)}else l!=a&&(t=-1);return t},O.showAllCorrectAns=function(t){N.selectAll(t+" .list3").forEach((e=>{const s=e.getAttribute("data-correctans").split(",");for(let i=0;i<s.length;i++)if(""!=s[i]){const l=N.find(t,"#"+s[i]).innerHTML;e.innerHTML=l,N.select(e,"addClass","dropped")}}))},O.showAllAns=function(t){if(N.remove("#lines"),N.remove(".correct_incorrect_icon"),document.querySelector(t)&&(O.multimatch=document.querySelector(t).getAttribute("multimatch")),O.multimatch<2){var e='<svg id="lines"><marker id="triangle" viewBox="0 0 10 10" refX="0" refY="5" markerUnits="strokeWidth" markerWidth="6" markerHeight="5" orient="auto"><path d="M 0 0 L 10 5 L 0 10 z" /></marker>';e+='<marker id="trngle" viewBox="0 0 10 10" refX="0" refY="5" markerUnits="strokeWidth" markerWidth="6" markerHeight="5" orient="auto"><path d="M 0 0 L 10 5 L 0 10 z" style="fill:#83C883"/></marker>',N.find(t,".list1","all").forEach((s=>{const i=s.offsetTop+s.clientHeight/2;var l=s.offsetLeft+s.offsetWidth,a=s.getAttribute("data-correctans").split(",");for(let s=0;s<a.length;s++)if(""!=a[s]){const n=N.find(t,"#"+a[s]).offsetTop+N.find(t,"#"+a[s]).clientHeight/2-5,r=N.find(t,"#"+a[s]).offsetLeft;e+='<path fill="none" d="M'+parseInt(l)+","+(parseInt(i)-5)+"C"+(parseInt(l)+83)+","+(parseInt(i)-5)+","+(parseInt(l)+83)+","+n+","+(parseInt(r)-10)+","+n+'" marker-end="url(#trngle)" class="correct"></path>'}if(s.getAttribute("data-userans").length>0){const a=s.getAttribute("data-userans").split(",");var n="";for(let r=0;r<a.length;r++)if(""!=a[r]){const o=N.find(t,"#"+a[r]).offsetTop+N.find(t,"#"+a[r]).clientHeight/2+5,c=N.find(t,"#"+a[r]).offsetLeft;e+='<path fill="none" d="M'+parseInt(l)+","+(parseInt(i)+5)+"C"+(parseInt(l)+93)+","+(parseInt(i)+5)+","+(parseInt(l)+93)+","+o+","+(parseInt(c)-10)+","+o+'" marker-end="url(#triangle)" class="line"></path>',setTimeout((function(){n=O.getTitle(N.select("#"+a[r]),n,r,!0,s.textContent)}),200)}s.setAttribute("aria-label",n)}})),e+="</svg>",N.insert(t,e,"afterbegin");var s=".list2"}else O.showMultimatchAnswer(t),s=".list3";N.selectAll(t+" "+s).forEach((e=>{const s=e.getAttribute("id");var i=1;2==O.multimatch?i=O.checkAnswerStatus(i,e):N.selectAll(t+' .list1[data-correctans*="'+e.getAttribute("id")+'"]').forEach((t=>{i=O.checkAnswerStatus(i,t,s)}));const l=1==i?'<span class="icomoon-checkmark-circle" style="color:green;">':'<span class="icomoon-cancel-circle" style="color:red;">';e.setAttribute("mrel",e.getAttribute("id")),e.setAttribute("as",i),N.insert(e,'<span class="correct_incorrect_icon" style="position:absolute;width:19px;height:19px;right:-9px;top:-9px;background:white;border-radius:15px 12px 12px;font-size:21px;"> '+l+"</span>","beforeend")}))},O.resetMatch=function(){N.remove("#lines"),N.remove(".correct_incorrect_icon");let t='<svg id="lines"><marker id="triangle" viewBox="0 0 10 10" refX="0" refY="5" markerUnits="strokeWidth" markerWidth="6" markerHeight="5" orient="auto"><path d="M 0 0 L 10 5 L 0 10 z" /></marker>';return t+='<marker id="trngle" viewBox="0 0 10 10" refX="0" refY="5" markerUnits="strokeWidth" markerWidth="6" markerHeight="5" orient="auto"><path d="M 0 0 L 10 5 L 0 10 z" style="fill:#83C883"/></marker>','<svg id="lines"><marker id="triangle" viewBox="0 0 10 10" refX="0" refY="5" markerUnits="strokeWidth" markerWidth="6" markerHeight="5" orient="auto"><path d="M 0 0 L 10 5 L 0 10 z" /></marker><marker id="trngle" viewBox="0 0 10 10" refX="0" refY="5" markerUnits="strokeWidth" markerWidth="6" markerHeight="5" orient="auto"><path d="M 0 0 L 10 5 L 0 10 z" style="fill:#83C883"/></marker>'},O.showCorrect=function(t){let e=O.resetMatch();O.cleanTitle(),N.selectAll(t+" .list1").forEach((s=>{const i=s.offsetTop+s.clientHeight/2;let l=s.offsetLeft+s.offsetWidth,a=s.getAttribute("data-correctans").split(","),n="";for(let r=0;r<a.length;r++)if(""!=a[r]){const o=N.find(t,"#"+a[r]).offsetTop+N.find(t,"#"+a[r]).clientHeight/2-5,c=N.find(t,"#"+a[r]).offsetLeft;e+='<path fill="none" d="M'+parseInt(l)+","+(parseInt(i)-5)+"C"+(parseInt(l)+83)+","+(parseInt(i)-5)+","+(parseInt(l)+83)+","+o+","+(parseInt(c)-10)+","+o+'" marker-end="url(#trngle)" class="correct"></path>',n=O.getTitle(N.select("#"+a[r]),n,r,s.textContent)}s.setAttribute("aria-label",n)})),e+="</svg>",N.insert(t,e,"afterbegin")},O.showYour=function(t){O.cleanTitle();let e=O.resetMatch();N.find(t,".list1","all").forEach((s=>{const i=s.offsetTop+s.clientHeight/2;let l=s.offsetLeft+s.offsetWidth;if(s.getAttribute("data-userans").length>0){const a=s.getAttribute("data-userans").split(",");let n="";for(let r=0;r<a.length;r++)if(""!=a[r]){const o=N.find(t,"#"+a[r]).offsetTop+N.find(t,"#"+a[r]).clientHeight/2+5,c=N.find(t,"#"+a[r]).offsetLeft;e+='<path fill="none" d="M'+parseInt(l)+","+(parseInt(i)+5)+"C"+(parseInt(l)+93)+","+(parseInt(i)+5)+","+(parseInt(l)+93)+","+o+","+(parseInt(c)-10)+","+o+'" marker-end="url(#triangle)" class="line"></path>',n=O.getTitle(N.select("#"+a[r]),n,r,!0,s.textContent)}s.setAttribute("aria-label",n)}})),e+="</svg>",N.insert(t,e,"afterbegin");N.find(t,".list2","all").forEach((e=>{const s=e.getAttribute("id");let i=1;N.find(t,'.list1[data-correctans*="'+e.getAttribute("id")+'"]',"all").forEach((t=>{i=O.checkAnswerStatus(i,t,s)}));const l=1==i?'<span class="icomoon-checkmark-circle" style="color:green;">':'<span class="icomoon-cancel-circle" style="color:red;">';e.setAttribute("mrel",e.getAttribute("id")),e.setAttribute("as",i),N.insert(e,'<span class="correct_incorrect_icon" style="position:absolute;width:19px;height:19px;right:-9px;top:-9px;background:white;border-radius:15px 12px 12px;font-size:21px;"> '+l+"</span>","afterbegin")}))},O.showAll=function(){O.showAllAns(O.ajax_eId)},O.labBinded=!0,O.modeOn=function(t){N.selectAll(".test","addClass","h"),N.find(O.ajax_eId,".review_2, .review_default",{action:"addClass",actionData:"h"}),t?(N.selectAll(".review","removeClass","h"),setTimeout((function(){"function"==typeof B&&B.unbind("down,up,left,right,alt+down,enter,delete,esc","matchlist"),N.selectAll(O.ajax_eId+"  .selmatch","removeClass","selmatch"),O.unBindLab(),O.showAllAns(O.ajax_eId),N.selectAll(O.ajax_eId+" #sm_controller button").forEach((t=>{t.classList.contains("your-ans btn-primary")?O.showAllAns(O.ajax_eId):t.classList.contains("correct-ans btn-primary")&&O.showAllCorrectAns(O.ajax_eId)})),N.find(O.ajax_eId,"#sm_controller_default button","all").forEach((t=>{t.classList.contains("your-ans btn-primary")?O.showYour(O.ajax_eId):t.classList.contains("correct-ans btn-primary")?O.showCorrect(O.ajax_eId):t.classList.contains("both-ans btn-primary")&&O.showAll(O.ajax_eId)}))}),50)):(N.selectAll(".review","addClass","h"),N.selectAll(".test","removeClass","h"),setTimeout((function(){O.bindLab(),O.bindKeyup(O.ajax_eId),O.showUserAns(O.ajax_eId),O.remove_lines(O.ajax_eId),O.cleanTitle()}),50))},O.unBindLab=function(){O.labBinded=!1,N.find(O.ajax_eId,"#lines, .matchlist-delete",{action:"remove"})},O.modifyClass=function(t,e){N.find(O.ajax_eId,"#sm_controller button, #sm_controller_default button","all"),t.classList.add("btn-primary"),t.classList.remove("btn-light")},O.bindLab=function(){O.labBinded=!0,N.remove(O.ajax_eId+" #lines,.correct,.lines,.correct_incorrect_icon")},O.editor_validtion=function(t){if(1==t||2==t||3==t){const t=document.getElementById("#list1").value,e=document.getElementById("#list2").value,s=document.getElementById("#matchList").value;return""!=t&&""!=e&&""!=s||(N.showmsg("Please Fill The Heading of Lists and Question",1),!1)}};W('[id^=matchmain]{width:700px;min-height:10px;font-size:12px;position:relative;font-family:Arial,"Helvetica Neue",Helvetica,sans-serif;font-size:14px}[id^=matchmain] .row-fluid{width:100%}[id^=matchmain] .row-fluid:after,[id^=matchmain] .row-fluid:before{display:table;line-height:0;content:""}[id^=matchmain] .row-fluid:after{clear:both}[id^=matchmain] .row-fluid [class*=span]{display:block;float:left;width:100%;min-height:30px;margin-left:2.127659574468085%;-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box}[id^=matchmain] .row-fluid [class*=span]:first-child{margin-left:0}[id^=matchmain] .row-fluid .span4{width:36.914893617021278%}[id^=matchmain] .row-fluid .span3{width:21.914893617021278%!important;}[id^=matchmain] .heading{font-size:17px!important;font-weight:400;margin-bottom:20px;line-height:30px}[id^=matchmain] .arrow{min-height:44px;padding:7px 10px;background:url(https://s3.amazonaws.com/jigyaasa_assets/items/arrow_matchtype.png) no-repeat 100% 50%;margin-left:-10.5%;margin-right:-10%}[id^=matchmain] .list4{display:inline-table;width:214px;margin-right:1.3%;cursor:move}[id^=matchmain] .list1,[id^=matchmain] .list2,[id^=matchmain] .list4{padding:7px 10px;margin-bottom:5px;-webkit-border-radius:2px;-moz-border-radius:2px;border-radius:2px;font-size:12px;line-height:20px;min-height:40px;word-wrap:break-word}[id^=matchmain] .list3{padding:7px 10px;text-align:center;margin-bottom:5px;-webkit-border-radius:2px;-moz-border-radius:2px;border-radius:2px;font-size:12px;min-height:40px;word-wrap:break-word;line-height:25px}[id^=matchmain] .list1{border:1px solid #000;background-color:#cfc;cursor:move;line-height:22px}[id^=matchmain] .list2,[id^=matchmain] .list4{border:1px solid #000;background-color:#ffc;position:relative}[id^=matchmain] .list3{border:1px solid #000;background-color:#fff;position:relative}[id^=matchmain] .clone{z-index:0!important;background-color:#fffcc1!important;border:none!important}[id^=matchmain] .drop-hover{border:1px dashed #000;box-shadow:0 0 0 1px #000 inset}[id^=matchmain] #lines{width:100%;height:100%;position:absolute;top:7px;left:0}[id^=matchmain] .line{stroke:#000;stroke-width:2px;z-index:11}[id^=matchmain] .serial{float:left;padding-right:1px}[id^=matchmain] .correct{stroke:#5bb75b;stroke-width:2px;z-index:0}[id^=matchmain] .list1 img,[id^=matchmain] .list2 img,[id^=matchmain] .list3 img,[id^=matchmain] .list4 img{max-width:100px;max-height:100px}.match_options{background:#e4eeff;margin-top:3%;margin-bottom:1%;padding:15px 10px 10px 20px;box-shadow:0 0 2px 1px gray;height:auto}.dropped{background-color:#ffc!important;cursor:move}.matchlist-delete{cursor:pointer;height:20px;width:20px;border-radius:50%;-webkit-border-radius:50%;-moz-border-radius:50%;background-color:#000;color:#fff;font-weight:700;font-size:20px;line-height:20px;position:absolute;z-index:16}.list1,.list2,.list3,.list4{color:#000!important}.selmatch{border:solid 2px red!important;border-radius:2px!important}.remoutline{outline:solid 3px red!important}.copiedclr{background-color:#ccc!important}.bla [id^=matchmain] .list1:focus,.bla [id^=matchmain] .list2:focus,.bla [id^=matchmain] .list3:focus,.bla [id^=matchmain] .list4:focus{box-shadow:inset 0 0 0 1px transparent,inset 0 0 0 1px #fff,inset 0 0 0 2px #fff;outline:0}.textdel>span{top:0}\r\n\r\n.context {\r\n    position: absolute;\r\n    top: 0px;\r\n    left: 0px;\r\n    min-width: 180px;\r\n    font-family: \'Segoe UI\', Tahoma, Geneva, Verdana, sans-serif;\r\n    color: #000;\r\n    background: #f5f5f5;\r\n    font-size: 9pt;\r\n    border: 1px solid #333333;\r\n    box-shadow: 4px 4px 3px -1px rgba(0, 0, 0, 0.5);\r\n    padding: 3px 0px;\r\n    -webkit-touch-callout: none;\r\n    -webkit-user-select: none;\r\n    -khtml-user-select: none;\r\n    -moz-user-select: none;\r\n    -ms-user-select: none;\r\n    user-select: none;\r\n    z-index: 1061;\r\n}\r\n\r\n.context .item {\r\n    padding: 4px 19px;\r\n    cursor: default;\r\n    color: inherit;\r\n    text-align: left\r\n}\r\n\r\n.context .item:hover {\r\n    background: #e3e3e3 !important;\r\n}\r\n\r\n.context .item:hover .hotkey {\r\n    color: #000 !important;\r\n}\r\n\r\n.context .disabled {\r\n    color: #878B90 !important;\r\n}\r\n\r\n.context .disabled:hover {\r\n    background: inherit !important;\r\n}\r\n\r\n.context .disabled:hover .hotkey {\r\n    color: #878B90 !important;\r\n}\r\n\r\n.context .separator {\r\n    margin: 4px 0px;\r\n    height: 0;\r\n    padding: 0;\r\n    border-top: 1px solid #b3b3b3;\r\n}\r\n\r\n.hotkey {\r\n    color: #878B90;\r\n    float: right;\r\n}');const{document:X}=n;function Y(t,e,s){const i=t.slice();return i[52]=e[s],i[54]=s,i}function R(t,e,s){const i=t.slice();return i[52]=e[s],i[54]=s,i}function V(t,e,s){const i=t.slice();return i[52]=e[s],i[54]=s,i}function G(t,e,s){const i=t.slice();return i[52]=e[s],i[54]=s,i}function J(t){let e,s,i;return{c(){e=r("div"),e.textContent=""+c.shuffle,d(e,"id","shuffleArea"),d(e,"class","shuffle text-center svelte-bi3u6x"),u(e,"font-size","17px"),u(e,"cursor","pointer"),u(e,"display","none"),u(e,"color","#aaa")},m(l,a){f(l,e,a),s||(i=m(e,"click",t[15]),s=!0)},p:p,d(t){t&&h(e),s=!1,i()}}}function F(t){let e,s,i,l=t[7],a=[];for(let e=0;e<l.length;e+=1)a[e]=Q(R(t,l,e));let n=t[8],c=[];for(let e=0;e<n.length;e+=1)c[e]=Z(Y(t,n,e));return{c(){e=r("div");for(let t=0;t<a.length;t+=1)a[t].c();s=x(),i=r("div");for(let t=0;t<c.length;t+=1)c[t].c();d(i,"class","row-fluid match_options shuffleList2"),d(e,"class","row-fluid shuffleList1")},m(t,l){f(t,e,l);for(let t=0;t<a.length;t+=1)a[t].m(e,null);o(e,s),o(e,i);for(let t=0;t<c.length;t+=1)c[t].m(i,null)},p(t,r){if(65664&r[0]){let i;for(l=t[7],i=0;i<l.length;i+=1){const n=R(t,l,i);a[i]?a[i].p(n,r):(a[i]=Q(n),a[i].c(),a[i].m(e,s))}for(;i<a.length;i+=1)a[i].d(1);a.length=l.length}if(135425&r[0]){let e;for(n=t[8],e=0;e<n.length;e+=1){const s=Y(t,n,e);c[e]?c[e].p(s,r):(c[e]=Z(s),c[e].c(),c[e].m(i,null))}for(;e<c.length;e+=1)c[e].d(1);c.length=n.length}},d(t){t&&h(e),H(a,t),H(c,t)}}}function K(t){let e,s,i,l,a,n,c,u=t[7],m=[];for(let e=0;e<u.length;e+=1)m[e]=tt(G(t,u,e));let p=t[8],g=[];for(let e=0;e<p.length;e+=1)g[e]=et(V(t,p,e));return{c(){e=r("div"),s=r("div");for(let t=0;t<m.length;t+=1)m[t].c();l=x(),a=r("div"),n=x(),c=r("div");for(let t=0;t<g.length;t+=1)g[t].c();d(s,"class","span4 shuffleList1"),d(s,"dragable",i=!0===t[0]?0:1),d(a,"class","span3"),d(c,"class","span4 shuffleList2"),d(e,"class","row-fluid")},m(t,i){f(t,e,i),o(e,s);for(let t=0;t<m.length;t+=1)m[t].m(s,null);o(e,l),o(e,a),o(e,n),o(e,c);for(let t=0;t<g.length;t+=1)g[t].m(c,null)},p(t,e){if(65665&e[0]){let i;for(u=t[7],i=0;i<u.length;i+=1){const l=G(t,u,i);m[i]?m[i].p(l,e):(m[i]=tt(l),m[i].c(),m[i].m(s,null))}for(;i<m.length;i+=1)m[i].d(1);m.length=u.length}if(1&e[0]&&i!==(i=!0===t[0]?0:1)&&d(s,"dragable",i),135424&e[0]){let s;for(p=t[8],s=0;s<p.length;s+=1){const i=V(t,p,s);g[s]?g[s].p(i,e):(g[s]=et(i),g[s].c(),g[s].m(c,null))}for(;s<g.length;s+=1)g[s].d(1);g.length=p.length}},d(t){t&&h(e),H(m,t),H(g,t)}}}function Q(t){let e,s,i,l,a,n,c,u,m,p,g,b,v,A,k,_,y,I,L,C,T,q,M,$,S,E=t[16](t[52],t[54])+"";return{c(){e=r("div"),s=r("span"),i=r("div"),p=x(),g=r("span"),b=r("div"),A=x(),k=r("span"),_=r("div"),y=w("Place Here"),d(i,"data-cy",l="id"+t[52].id),d(i,"id",a=t[52].id),d(i,"class","list1"),d(i,"tabindex",n=0),d(i,"data-correctans",c=t[52].correctans),d(i,"data-userans",u=t[52].userans),d(i,"data-originalseq",m=t[52].originalseq?t[52].originalseq:"0"),d(s,"class","span4"),d(b,"id",v=t[52].id),d(b,"class","arrow"),d(g,"class","span3"),d(_,"data-cy",I="id"+t[52].id),d(_,"id",L=t[52].id),d(_,"class","list3 ui-droppable"),d(_,"data-droped",""),d(_,"data-correctans",C=t[52].correctans),d(_,"data-userans",T=t[52].userans),d(_,"mrel",q=t[52].id),d(_,"dropzone","1"),d(_,"draggable","true"),d(_,"tabindex",M=0),d(_,"aria-label",""),d(_,"data-originalseq",$=t[52].originalseq?t[52].originalseq:"0"),d(k,"class","span4"),d(e,"key",S=t[54]),d(e,"class","row-fluid")},m(t,l){f(t,e,l),o(e,s),o(s,i),i.innerHTML=E,o(e,p),o(e,g),o(g,b),o(e,A),o(e,k),o(k,_),o(_,y)},p(t,e){128&e[0]&&E!==(E=t[16](t[52],t[54])+"")&&(i.innerHTML=E),128&e[0]&&l!==(l="id"+t[52].id)&&d(i,"data-cy",l),128&e[0]&&a!==(a=t[52].id)&&d(i,"id",a),128&e[0]&&c!==(c=t[52].correctans)&&d(i,"data-correctans",c),128&e[0]&&u!==(u=t[52].userans)&&d(i,"data-userans",u),128&e[0]&&m!==(m=t[52].originalseq?t[52].originalseq:"0")&&d(i,"data-originalseq",m),128&e[0]&&v!==(v=t[52].id)&&d(b,"id",v),128&e[0]&&I!==(I="id"+t[52].id)&&d(_,"data-cy",I),128&e[0]&&L!==(L=t[52].id)&&d(_,"id",L),128&e[0]&&C!==(C=t[52].correctans)&&d(_,"data-correctans",C),128&e[0]&&T!==(T=t[52].userans)&&d(_,"data-userans",T),128&e[0]&&q!==(q=t[52].id)&&d(_,"mrel",q),128&e[0]&&$!==($=t[52].originalseq?t[52].originalseq:"0")&&d(_,"data-originalseq",$)},d(t){t&&h(e)}}}function Z(t){let e,s,i,l,a,n,c,u,m,p,g=t[17](t[52],t[12][t[54]])+"";return{c(){e=r("div"),i=x(),s=new z(i),d(e,"data-cy",l="id"+t[52].id),d(e,"key",a=t[54]),d(e,"id",n=t[52].id),d(e,"class","list4 ui-draggable"),d(e,"data-correctans",""),d(e,"dragable",c=!0===t[0]?0:1),d(e,"draggable",u=!0===t[0]?"false":"true"),d(e,"data-userans",""),d(e,"tabindex",m=0),d(e,"data-originalseq",p=t[52].originalseq?t[52].originalseq:"0")},m(t,l){f(t,e,l),s.m(g,e),o(e,i)},p(t,i){256&i[0]&&g!==(g=t[17](t[52],t[12][t[54]])+"")&&s.p(g),256&i[0]&&l!==(l="id"+t[52].id)&&d(e,"data-cy",l),256&i[0]&&n!==(n=t[52].id)&&d(e,"id",n),1&i[0]&&c!==(c=!0===t[0]?0:1)&&d(e,"dragable",c),1&i[0]&&u!==(u=!0===t[0]?"false":"true")&&d(e,"draggable",u),256&i[0]&&p!==(p=t[52].originalseq?t[52].originalseq:"0")&&d(e,"data-originalseq",p)},d(t){t&&h(e)}}}function tt(t){let e,s,i,l,a,n,c,u,m,p,g,b,v=t[16](t[52],t[54])+"";return{c(){e=r("div"),i=x(),s=new z(i),d(e,"data-cy",l="id"+t[52].id),d(e,"key",a=t[54]),d(e,"id",n=t[52].id),d(e,"class","list1 ui-draggable"),d(e,"data-correctans",c=t[52].correctans),d(e,"data-userans",u=t[52].userans),d(e,"style",m="position:relative;"),d(e,"tabindex",p=0),d(e,"draggable",g=!0===t[0]?"false":"true"),d(e,"data-originalseq",b=t[52].originalseq?t[52].originalseq:"0")},m(t,l){f(t,e,l),s.m(v,e),o(e,i)},p(t,i){128&i[0]&&v!==(v=t[16](t[52],t[54])+"")&&s.p(v),128&i[0]&&l!==(l="id"+t[52].id)&&d(e,"data-cy",l),128&i[0]&&n!==(n=t[52].id)&&d(e,"id",n),128&i[0]&&c!==(c=t[52].correctans)&&d(e,"data-correctans",c),128&i[0]&&u!==(u=t[52].userans)&&d(e,"data-userans",u),1&i[0]&&g!==(g=!0===t[0]?"false":"true")&&d(e,"draggable",g),128&i[0]&&b!==(b=t[52].originalseq?t[52].originalseq:"0")&&d(e,"data-originalseq",b)},d(t){t&&h(e)}}}function et(t){let e,s,i,l,a,n,c,u,m,p=t[17](t[52],t[12][t[54]])+"";return{c(){e=r("div"),i=x(),s=new z(i),d(e,"data-cy",l="id"+t[52].id),d(e,"key",a=t[54]),d(e,"id",n=t[52].id),d(e,"class","list2 ui-droppable"),d(e,"data-correctans",""),d(e,"data-userans",""),d(e,"dropzone","1"),d(e,"style",c="position:relative;"),d(e,"tabindex",u=0),d(e,"data-originalseq",m=t[52].originalseq?t[52].originalseq:"0")},m(t,l){f(t,e,l),s.m(p,e),o(e,i)},p(t,i){256&i[0]&&p!==(p=t[17](t[52],t[12][t[54]])+"")&&s.p(p),256&i[0]&&l!==(l="id"+t[52].id)&&d(e,"data-cy",l),256&i[0]&&n!==(n=t[52].id)&&d(e,"id",n),256&i[0]&&m!==(m=t[52].originalseq?t[52].originalseq:"0")&&d(e,"data-originalseq",m)},d(t){t&&h(e)}}}function st(t){let e;return{c(){e=r("i"),e.innerHTML='<span class="u-sr-only svelte-bi3u6x">close</span>',d(e,"class","mi mi-close"),u(e,"font-size","1.5rem")},m(t,s){f(t,e,s)},d(t){t&&h(e)}}}function it(t){let e,s,i,l,a,n,c,u,m,p,g,b,v,w;return l=new j({props:{style:"position:relative;left:21px;bottom:6px;",$$slots:{default:[st]},$$scope:{ctx:t}}}),l.$on("click",t[31]),{c(){e=r("div"),e.textContent="How to drop?",s=x(),i=r("div"),A(l.$$.fragment),a=x(),n=r("div"),c=r("div"),u=r("img"),p=x(),g=r("br"),b=x(),v=r("span"),v.innerHTML='<input type="checkbox" style="top:2px;" class="relative donotshowdialog" id="dropId"/> \n\t\t\t\t\t<label for="dropId">Do not show this dialog again</label>',d(e,"title","How to drop?"),d(e,"class","float-start float-left"),d(i,"class","float-end float-right"),d(u,"alt","gif file"),u.src!==(m=M.select("#matchmain").getAttribute("path")+"match_drop_000BOG.gif")&&d(u,"src",m),d(v,"class","mt-2")},m(t,r){f(t,e,r),f(t,s,r),f(t,i,r),k(l,i,null),f(t,a,r),f(t,n,r),o(n,c),o(c,u),o(c,p),o(c,g),o(c,b),o(c,v),w=!0},p(t,e){const s={};134217728&e[1]&&(s.$$scope={dirty:e,ctx:t}),l.$set(s)},i(t){w||(I(l.$$.fragment,t),w=!0)},o(t){L(l.$$.fragment,t),w=!1},d(t){t&&h(e),t&&h(s),t&&h(i),C(l),t&&h(a),t&&h(n)}}}function lt(t){let e,s,i,l,a,n,c,p,q,M,$,S,E,H,z,j,W,B,N,O,U,P,X,Y,R,V,G,Q,Z,tt,et,st,lt,at,nt,rt,ot,ct=t[1]&&J(t);function dt(t,e){return 0==t[3]||1==t[3]?K:F}c=new D({props:{handleReviewClick:t[18],reviewMode:t[0],customReviewMode:t[11]}}),c.$on("setReview",t[13]),c.$on("unsetReview",t[14]);let ut=dt(t),ft=ut(t);function mt(e){t[32](e)}let pt={width:"350px",height:"271px",style:"background: #fff; border-radius: 5px;",$$slots:{default:[it]},$$scope:{ctx:t}};return void 0!==t[10].dropDialog&&(pt.visible=t[10].dropDialog),lt=new g({props:pt}),b.push((()=>v(lt,"visible",mt))),{c(){e=r("main"),s=r("div"),i=r("center"),ct&&ct.c(),l=x(),a=r("div"),n=r("div"),A(c.$$.fragment),p=x(),q=r("div"),M=r("div"),$=r("button"),$.textContent="Correct Answer",E=x(),H=r("button"),H.textContent="Compare",j=x(),W=r("button"),W.textContent="Your Answer",O=x(),U=r("div"),P=r("div"),X=r("div"),Y=w(t[5]),R=x(),V=r("div"),G=x(),Q=r("div"),Z=r("div"),tt=w(t[6]),et=x(),ft.c(),st=x(),A(lt.$$.fragment),d(n,"class","btn-group clearfix review_2 h"),d(n,"id","sm_controller"),d($,"type","button"),d($,"tabindex",S=0),d($,"class","btn btn-light correct-ans clr svelte_items_test"),d(H,"type","button"),d(H,"tabindex",z=0),d(H,"class","btn btn-primary both-ans clr svelte_items_test"),d(W,"type","button"),d(W,"tabindex",B=0),d(W,"class","btn btn-light your-answer clr svelte_items_test"),d(M,"class","btn-group clearfix review_default h"),d(M,"id","sm_controller_default"),d(q,"class",N=""),d(X,"class","heading"),d(P,"class","span4"),d(V,"class","span3"),d(Z,"class","heading"),d(Q,"class","span4"),d(U,"class","row-fluid"),d(a,"id",t[4]),d(a,"path","//s3.amazonaws.com/jigyaasa_content_static/"),d(a,"multimatch",t[3]),d(a,"totalcorrectans",t[9]),u(a,"font-family","Roboto, sans-serif"),u(a,"font-size","1em"),d(s,"id","previewSection"),d(s,"class","px-2 svelte_items_testing")},m(r,d){f(r,e,d),o(e,s),o(s,i),ct&&ct.m(i,null),o(i,l),o(i,a),o(a,n),k(c,n,null),o(a,p),o(a,q),o(q,M),o(M,$),o(M,E),o(M,H),o(M,j),o(M,W),o(a,O),o(a,U),o(U,P),o(P,X),o(X,Y),o(U,R),o(U,V),o(U,G),o(U,Q),o(Q,Z),o(Z,tt),o(a,et),ft.m(a,null),o(e,st),k(lt,e,null),nt=!0,rt||(ot=[m($,"click",t[25]),m($,"keyup",t[26]),m(H,"click",t[27]),m(H,"keyup",t[28]),m(W,"click",t[29]),m(W,"keyup",t[30])],rt=!0)},p(t,e){t[1]?ct?ct.p(t,e):(ct=J(t),ct.c(),ct.m(i,l)):ct&&(ct.d(1),ct=null);const s={};1&e[0]&&(s.reviewMode=t[0]),c.$set(s),(!nt||32&e[0])&&_(Y,t[5]),(!nt||64&e[0])&&_(tt,t[6]),ut===(ut=dt(t))&&ft?ft.p(t,e):(ft.d(1),ft=ut(t),ft&&(ft.c(),ft.m(a,null))),(!nt||16&e[0])&&d(a,"id",t[4]),(!nt||8&e[0])&&d(a,"multimatch",t[3]),(!nt||512&e[0])&&d(a,"totalcorrectans",t[9]);const n={};1024&e[0]|134217728&e[1]&&(n.$$scope={dirty:e,ctx:t}),!at&&1024&e[0]&&(at=!0,n.visible=t[10].dropDialog,y((()=>at=!1))),lt.$set(n)},i(t){nt||(I(c.$$.fragment,t),I(lt.$$.fragment,t),nt=!0)},o(t){L(c.$$.fragment,t),L(lt.$$.fragment,t),nt=!1},d(t){t&&h(e),ct&&ct.d(),C(c),ft.d(),C(lt),rt=!1,T(ot)}}}function at(t){for(let e=t.length-1;e>0;e--){let s=Math.floor(Math.random()*(e+1)),i=t[e];t[e]=t[s],t[s]=i}return t}function nt(t,s,l){let{user_guid:a}=s,{showAns:n}=s,{cmed:r}=s,{xml:o}=s,{isReview:c}=s,{uxml:d}=s,{editorState:u}=s,f=c,m="",p="",h="",g=[],b=[],v="",x=!1,A=0,w=["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],k=!1,_=0,y=!1,I=1,L="",C="";O.sinfo=!0;let T,H,z,j=0,D="matchmain",W={xml:"",remedStatus:"",dropDialog:"",isReview:!1};function B(){let t=O.checkAns("#"+D);$({uXml:t.u,ans:t?.ans}),u&&n(t.ans?"Correct":"Incorrect")}function N(){if(j>3)return!1;"function"==typeof hotkeys?setTimeout((function(){console.log("hotkey function is ","function"==typeof hotkeys),O.bindKeyup()}),1e3):(console.log("Hotkey try = ",j),j++,N())}function U(){if(l(0,c=!0),y=!0,B(),null!=document.querySelector("#shuffleAre")&&(document.querySelector("#shuffleAre").style.display="none"),O.modeOn("on"),1==h||0==h){if(0!=M.find("#"+D,"#sm_controller").length&&(M.find("#"+D,"#sm_controller").classList.add("h"),M.find("#"+D,"#sm_controller").style.display="none"),0!=M.find("#"+D,"#sm_controller_default").length){M.find("#"+D,"#sm_controller_default").style.display="inline-block";var t=setTimeout((function(){M.find("#"+D,"#sm_controller_default .both-ans").click(),clearTimeout(t)}),50)}}else if(M.select("#"+D+" #sm_controller_default").nodeName&&(M.select("#"+D+" #sm_controller_default").classList.add("h"),M.find("#"+D,"#sm_controller_default").style.display="none",M.select("#"+D+" #sm_controller").style.display="inline-block"),M.find("#"+D,"#sm_controller_default .your-ans")&&M.find("#"+D,"#sm_controller_default .your-ans").length>0)var e=setTimeout((function(){M.find("#"+D,"#sm_controller_default .your-ans").click(),clearTimeout(e)}),200);0==M.selectAll(".list4").length&&M.selectAll(".list1").forEach((t=>{t.setAttribute("draggable",!1)})),M.selectAll(".list4").length>0&&M.selectAll(".list4").forEach((t=>{t.setAttribute("draggable",!1)}))}function P(){l(0,c=!1),M.addClass(".review_2, .review_default","h");let t=document.querySelectorAll(".review_2, .review_default");for(let e=0;e<t.length;e++)t[e].style.display="none";y=!1,1==x?M.select("#shuffleArea","css",{display:"none"}):M.select("#shuffleArea","css",{display:"block"}),O.modeOn(),0==M.selectAll(".list4").length&&(M.selectAll(".list1 > img","attr",{draggable:!1}),M.selectAll(".list1").forEach((t=>{t.setAttribute("draggable",!0)}))),M.selectAll(".list4").length>0&&(M.selectAll(".list4 > img","attr",{draggable:!1}),M.selectAll(".list4").forEach((t=>{t.setAttribute("draggable",!0)})))}function X(){try{!function(){d||O.removeUserAns();O.showUserAns("#"+D),O.remove_lines("#"+D),O.modeOn(),u||function(){let t=E(d);if(d&&t.smans&&t.smans.matchlist&&t.smans.matchlist._userans){let t=E(d),e=t.smans.matchlist._list1seq.split(","),s=t.smans.matchlist._list2seq.split(",");L=t.smans.matchlist._originalseq1?t.smans.matchlist._originalseq1.split(","):"",C=t.smans.matchlist._originalseq2?t.smans.matchlist._originalseq2.split(","):"";let i=[];for(let t of e)for(let e in g)g[e].id==t&&i.push(g[e]);l(7,g=i);let a=[];for(let t of s)for(let e in b)b[e].id==t&&a.push(b[e]);if(l(8,b=a),t.smans.matchlist._userans){const e=t.smans.matchlist._userans.split(",");for(let t in e)for(let s in g){let i=e[t].split(/\[|\]/g)[1];i=i.split("|");for(let a in i)g[s].id==i[a]&&l(7,g[s].userans+=e[t].split(/\[|\]/g)[0]+",",g)}}}else l(7,g=at(g)),l(8,b=at(b)),O.removeUserAns();O.showUserAns("#"+D),O.remove_lines("#"+D),O.modeOn()}();if(c){M.find("#"+D,"#sm_controller_default .both-ans").click();var t=setTimeout((function(){y=!0,B(),M.select("#shuffleArea","css",{display:"none"}),O.modeOn("on"),1==h||0==h?(M.select("#"+D+" #sm_controller","addClass","h"),M.select("#"+D+" #sm_controller_default","removeClass","h")):(M.select("#"+D+" #sm_controller_default","addClass","h"),M.select("#"+D+" #sm_controller","removeClass","h")),clearTimeout(t)}),100)}else{let t=document.querySelectorAll(".review_2, .review_default");for(let e=0;e<t.length;e++)t[e].classList.add("h")}}()}catch(e){if(I<=100)var t=setTimeout((function(){X(),clearTimeout(t)}),50);else console.log("runModule14:Error"),console.log(e);I++}}q((async()=>{M.selectAll(".list1 img").length>0?M.selectAll(".list1 img","attr",{draggable:!1}):M.selectAll(".list4 img").length>0&&M.selectAll(".list4 img","attr",{draggable:!1}),M.createLink("https://unpkg.com/mono-icons@1.0.5/iconfont/icons.css",{preload:!0,type:"stylesheet",as:"style"}),T=new e({onDragEnter:t=>{M.select(t.target,"addClass","drop-hover"),AI.selectAll(".list2").forEach((function(t,e){t.children[0].getAttribute("class").match("drop-hover")&&t.children[0].classList.remove("drop-hover")})),AI.selectAll(".list2","removeAttr","style")},onDragLeave:t=>{M.select(t.target,"removeClass","drop-hover")},onDragEnd:t=>{B(),M.selectAll(".list2").forEach((function(t,e){M.select(t,"removeClass","drop-hover")})),M.selectAll(".list3").forEach((function(t,e){M.select(t,"removeClass","drop-hover")})),O.is_valid_drop||O.sinfo&&(l(2,O.sinfo=!1,O),setTimeout((function(){l(2,O.sinfo=!0,O)}),6e4),"function"==typeof M.alert&&M.showmsg("While dropping a component, keep your mouse pointer on the drop area. Drop area must be compatible with the component you are dropping.",3e3),1!=O.chkDoNotShow(a)&&l(10,W.dropDialog=!0,W)),setTimeout((function(){M.remove(".title")}),200)}}),M.listen("#matchmain ","click",".matchlist-delete",(function(t){setTimeout((function(){B()}),200)})),M.listen("#matchmain","keydown",".list2",(function(t,e){let s;13===e.which&&(s=O.pasteDraggable(),$({uXml:s.u,ans:s?.ans}))})),M.listen("#matchmain","keydown",".list3",(function(t,e){let s;13===e.which&&(s=O.pasteDraggableList3(),setTimeout((function(){M.select(t,"removeClass","copiedclr")}),200),$({uXml:s.u,ans:s?.ans}))})),M.listen(document,"click","#set-review",(function(){U()})),M.listen(document,"click","#unset-review",(function(){P()})),setTimeout(function(){let t=M.select("#"+D+" img");M.listen(document,"load",t,(()=>{c?(1==h||0==h?(M.select("#"+D+" #sm_controller","addClass","h"),M.select("#"+D+" #sm_controller_default","removeClass","h")):(M.select("#"+D+" #sm_controller_default","addClass","h"),M.select("#"+D+" #sm_controller","removeClass","h")),P(),U()):(U(),P())}))}.bind(this),500),setTimeout((function(){N()}),1500)})),S((()=>{W.xml!=o&&(l(10,W.xml=o,W),r&&(l(4,D="matchmain"),l(2,O.ajax_eId="#matchmain",O)),l(24,x=!1),M.select("#shuffleArea","css",{display:"block"}),function(t){try{if(l(7,g=[]),l(8,b=[]),l(5,m=t.smxml.matchlist._listheading1),l(6,p=t.smxml.matchlist._listheading2),l(3,h=t.smxml.matchlist._multimatch),v=t.smxml.matchlist.__cdata,k=!!t.smxml.matchlist._is_algo&&"true"==t.smxml.matchlist._is_algo,t.smxml.matchlist._max_node){var e=Number(t.smxml.matchlist._max_node);_=e>0?e:0}else _=0;v=v.split("\n");var s=0,i=1,a=!1,n=!1,r="";if(v.forEach((function(t,e){if(""!=v[e].trim()){l(9,A++,A);var o="";if(v[e].match(/\[(.*?)\]/g)){var c=v[e].match(/\[(.*?)\]/g)[0];c=(c=c.replace("[","").replace("]","")).split("|")}b.forEach((function(t,s){b[s].value==v[e].replace(v[e].match(/\[(.*?)\]/g),"").trim()&&(r=b[s].id,n=!0)})),1!=n?(b.push({id:w[s],correctans:"",value:v[e].replace(v[e].match(/\[(.*?)\]/g),"").trim()}),o=b[s].id):o=r,g.forEach((function(t,e){g[e].value==c&&(a=!0,l(7,g[e].correctans=1!=n?g[e].correctans+","+b[s].id:g[e].correctans+","+r,g))})),1!=a&&c.forEach((function(t,e){g.push({id:i,correctans:o,userans:"",value:c[e]}),i++})),a=!1,0==n&&s++,n=!1}})),_>0&&_<=g.length){l(7,g=at(g));for(var o=[],c=0;c<_;c++)o.push(g[c]);l(7,g=o),(o=[]).length=0;var d=0;for(c=0;c<g.length;c++)for(var u=g[c].correctans.split(","),f=0;f<u.length;f++)for(var x=0;x<b.length;x++)if(d=0,u[f]==b[x].id)if(o.length<=0)o.push(b[x]);else{for(var y=0;y<o.length;y++)if(u[f]==o[y].id){d=1;break}1!=d&&o.push(b[x])}l(8,b=o)}}catch(t){console.log({error:t,fun:"ParseXMLPreview",file:"MatchlistPreview.svelte"})}}(E(o)),X())})),M.listen("body","click",".clr",(t=>{M.selectAll(".clr","removeClass","btn-primary"),M.selectAll(".clr","addClass","btn-light"),M.select(t,"removeClass","btn-light"),M.select(t,"addClass","btn-primary")})),M.listen("body","keydown",".clr",((t,e)=>{13===e.which&&(M.selectAll(".clr","removeClass","btn-primary"),M.selectAll(".clr","addClass","btn-light"),M.select(t,"removeClass","btn-light"),M.select(t,"addClass","btn-primary"))}));return t.$$set=t=>{"user_guid"in t&&l(19,a=t.user_guid),"showAns"in t&&l(20,n=t.showAns),"cmed"in t&&l(21,r=t.cmed),"xml"in t&&l(22,o=t.xml),"isReview"in t&&l(0,c=t.isReview),"uxml"in t&&l(23,d=t.uxml),"editorState"in t&&l(1,u=t.editorState)},t.$$.update=()=>{16777245&t.$$.dirty[0]&&(1==c?(B(),M.select("#shuffleArea","hide"),O.modeOn("on"),1==h||0==h?(M.select("#"+D+" #sm_controller","addClass","h"),M.select("#"+D+" #sm_controller_default","removeClass","h"),M.select("#"+D+" #sm_controller_default","css",{display:"inline-block"})):(M.select("#"+D+" #sm_controller_default","addClass","h"),M.select("#"+D+" #sm_controller","removeClass","h"),setTimeout((function(){document.getElementsByClassName("your-ans")[0].click()}),500))):(l(0,c=!1),M.select("#"+D+" #sm_controller_default","css",{display:"none"}),1==x?M.select("#shuffleArea","css",{display:"none"}):M.select("#shuffleArea","css",{display:"block"}),O.modeOn()))},[c,u,O,h,D,m,p,g,b,A,W,f,w,U,P,function(){l(24,x=!0),O.removeUserAns(),O.showUserAns("#"+D),O.remove_lines("#"+D),O.modeOn(),l(7,g=at(g)),l(8,b=at(b)),M.select("#shuffleArea","css",{display:"none"})},function(t,e){if(1==k&&1!=y)if(L){var s=L[i];t.originalseq=s,t.value=t.value.split("%%")[s]}else t.value=function(e){let s=Math.floor(Math.random()*e.length);return t.originalseq=s,e[s]}(t.value.split("%%"));let l=t.value.substr(1).split("##")[0].split("%%")[0],a=t.value.substr(1).split("##")[1]?t.value.substr(1).split("##")[1]:"";return H=`<span class="serial">${e+1}.</span>`+("*"==t.value.charAt(0)?`<img class="pe-none" src="//s3.amazonaws.com/jigyaasa_content_static/${l}" alt="${a}" />`:t.value),H},function(t,e){if(1==k&&1!=y)if(C){var s=C[i];data.originalseq=s,t.value=t.value.split("%%")[s]}else t.value=(l=t.value.split("%%"),a=Math.floor(Math.random()*l.length),t.originalseq=a,l[a]);var l,a;let n=t.value.substr(1).split("##")[0].split("%%")[0],r=t.value.substr(1).split("##")[1]?t.value.substr(1).split("##")[1]:"";return z=`<span class="serial">${e}.</span>`+("*"==t.value.charAt(0)?`<img class="pe-none" src="//s3.amazonaws.com/jigyaasa_content_static/${n}" alt="${r}" />`:t.value),z},function(t){"c"==t?O.showAllCorrectAns("#"+D):O.showAllAns("#"+D)},a,n,r,o,d,x,()=>O.showCorrect("#"+D),t=>{13==t.keyCode&&O.showCorrect("#"+D)},()=>O.showAll("#"+D),t=>{13==t.keyCode&&O.showAll("#"+D)},()=>O.showYour("#"+D),t=>{13==t.keyCode&&O.showYour("#"+D)},()=>{l(10,W.dropDialog=!1,W)},function(e){t.$$.not_equal(W.dropDialog,e)&&(W.dropDialog=e,l(10,W))}]}export default class extends s{constructor(t){var e;super(),X.getElementById("svelte-bi3u6x-style")||((e=r("style")).id="svelte-bi3u6x-style",e.textContent=".u-sr-only.svelte-bi3u6x{position:absolute;left:-10000px;top:auto;width:1px;height:1px;overflow:hidden}@media(max-width:500px){.shuffle.svelte-bi3u6x{text-align:center}}",o(X.head,e)),l(this,t,nt,lt,a,{user_guid:19,showAns:20,cmed:21,xml:22,isReview:0,uxml:23,editorState:1},[-1,-1])}}
//# sourceMappingURL=MatchListPreview-576539aa.js.map
