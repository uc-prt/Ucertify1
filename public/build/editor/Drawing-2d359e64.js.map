{"version":3,"file":"Drawing-2d359e64.js","sources":["../../../clsSMDrawing/DrawingModal.svelte","../../../clsSMDrawing/Drawing.svelte"],"sourcesContent":["<!--\r\n *  File Name   : DrawingModal.svelte\r\n *  Description : Responsible for DrawingModal\r\n *  Author      : Ayush Srivastava\r\n *  Package     : clsSMDrawing(Drawing Modal)\r\n *  Last update : 09-Apr-2021\r\n *  Last Updated By : Ayush Srivastava\r\n-->\r\n<script>\r\n    export let l;\r\n</script>\r\n<div id=\"drawing-modal\" class=\"modal fade\" tabIndex=\"-1\">\r\n    <div class=\"modal-dialog modal-dialog-centered\">\r\n        <div class=\"modal-content\">\r\n            <div class=\"modal-header\">\r\n                <h4 class=\"modal-title\">{l.configuration}</h4>\r\n                <button type=\"button\" class=\"close\" data-bs-dismiss=\"modal\">&times;</button>\r\n            </div>\r\n            <div class=\"modal-body overflow-y\">\r\n                <div class=\"authoring-modal\">\r\n                    <div class=\"row\">\r\n                        <div class=\"col-6\">\r\n                            <div class=\"form-group text-left\">\r\n                                <label class=\"control-label font-weight-normal d-inline-flex\" for=\"backgroundImage\">{l.background_image}</label>\r\n                                <input type=\"text\" disabled=\"disabled\" readonly=\"readonly\" class=\"form-control drawing_bgimg\" id=\"backgroundImage\" name=\"backgroundImage\" />\r\n                            </div>\r\n                        </div>\r\n                        <div class=\"col-6 margin-top-2\">\r\n                            <button id=\"upload_media\" type=\"button\" value={l.upload_media_text} margin=\"normal\" class=\"btn btn-primary w-100\" >{l.upload_media_text}</button>\r\n                        </div>\r\n                    </div>\r\n                    <div class=\"row\">\r\n                        <div class=\"col-12\">\r\n                            <div class=\"form-group text-left\">\r\n                                <label class=\"control-label font-weight-normal d-inline-flex\" for=\"imgAlt\" ><span class=\"mendatory_label float-left\">{l.alt_txt_image}</span></label>\r\n                                <input type=\"text\" class=\"form-control\" id=\"imgAlt\" value=\"\" name=\"imgAlt\" />\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <div class=\"row\">\r\n                        <div class=\"col-6\">\r\n                            <div class=\"form-group text-left\">\r\n                                <label class=\"control-label font-weight-normal d-inline-flex\" for=\"imgWidth\"><span class=\"mendatory_label float-left\">{l.width_of_image}</span></label>\r\n                                <input type=\"number\" class=\" form-control num\" id=\"imgWidth\" value=\"\" name=\"imgWidth\" />\r\n                            </div>\r\n                        </div>\r\n                        <div class=\"col-6\">\r\n                            <span>\r\n                                <label for=\"lineColor\" class=\"text-dark\">{l.draw_color}</label>\r\n                            </span>\r\n                            <select id=\"lineColor\" class=\"form-select\">\r\n                                <option value={l.red}>{l.red}</option>\r\n                                <option value={l.green}>{l.green}</option>\r\n                                <option value=\"#00BCD4\" selected=\"selected\">{l.light_blue}</option>\r\n                                <option value={l.blue}>{l.blue}</option>\r\n                            </select>\r\n                        </div>\r\n                    </div>\r\n                    <div class=\"row mb-3\">\r\n                        <div class=\"col-6\">\r\n                            <span>\r\n                                <label for=\"markPointColor\" class=\"text-dark\">{l.markPointColor}</label>\r\n                            </span>\r\n                            <select id=\"markPointColor\" class=\"form-select\">\r\n                                <option value=\"#00FF00\" selected=\"selected\">{l.lightGreen}</option>\r\n                                <option value=\"#000\">{l.black}</option>\r\n                                <option value=\"#ff8c00\">{l.orange}</option>\r\n                            </select>\r\n                        </div>\r\n                    </div>\r\n                    <div>\r\n                        <span>\r\n                            <!-- svelte-ignore a11y-label-has-associated-control -->\r\n                            <label class=\"mt-2 text-dark relative\"><span class=\"mendatory_label float-left\">{l.tools}</span></label>\r\n                        </span>\r\n                    </div>\r\n                    <div class=\"d-block toolsCheckbox\">\r\n                        <div class=\"form-check form-check-inline\">\r\n                            <input type=\"checkbox\" value=\"_scribble\" class=\"checkbox-inline toolCheckbox form-check-input\" name=\"scribble_checkbox\" id=\"scribble_checkbox\" />\r\n                            <label for=\"scribble_checkbox\" class=\"text-dark form-check-label\">{l.scribble}</label>\r\n                        </div>\r\n                        <div class=\"form-check form-check-inline\">\r\n                            <input type=\"checkbox\" value=\"_line\" class=\"checkbox-inline toolCheckbox form-check-input\" name=\"line_checkbox\" id=\"line_checkbox\" />\r\n                            <label for=\"line_checkbox\" class=\"text-dark form-check-label\">{l.line}</label>\r\n                        </div>\r\n                        <div class=\"form-check form-check-inline\">\r\n                            <input type=\"checkbox\" value=\"_compass\" class=\"checkbox-inline toolCheckbox form-check-input\" name=\"compass_checkbox\" id=\"compass_checkbox\" />\r\n                            <label for=\"compass_checkbox\" class=\"text-dark form-check-label\">{l.compass}</label>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div class=\"modal-footer\">\r\n                <button type=\"button\" class=\"btn btn-light\" data-bs-dismiss=\"modal\">{l.cancel}</button>\r\n                <button type=\"button\" class=\"btn btn-secondary drawing_modal_submit\">{l.submit}</button>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>","<!--\r\n *  File Name   : Drawing.svelte\r\n *  Description : Responsible for Authoring Side functionality\r\n *  Author      : Ayush Srivastava\r\n *  Package     : clsSMDrawing (Authoring)\r\n *  Last update : 09-April-2021\r\n *  Last Updated By : Ayush Srivastava\r\n-->\r\n<script>\r\n    import { afterUpdate, onMount } from \"svelte\";\r\n\timport { writable } from \"svelte/store\";\r\n\timport { XMLToJSON, JSONToXML , AH } from '../helper/HelperAI.svelte';\r\n    import swal from 'sweetalert';\r\n    import l from '../src/libs/editorLib/language.js';\r\n    import Draggable from \"../clsSMDragNDrop/libs/plugins/Draggable\";\r\n    import Resizable from \"../clsSMDragNDrop/libs/plugins/Resizable\";\r\n    import DrawingModal from \"./DrawingModal.svelte\";\r\n    import { Button, Dialog} from 'svelte-mui/src';\r\n    export let xml;\r\n    // export let editorState;\r\n    export let getChildXml;\r\n    let bgImgPath = 'https://s3.amazonaws.com/jigyaasa_content_static/';\r\n    let xmlns = \"http://www.w3.org/2000/svg\";\r\n    // denotes that drawing is not sketching\r\n    let isDrawing = false;\r\n    // used to creates an element with the specified namespace URI and qualified name\r\n    let scribble;\r\n    // denotes mouse co-ordinates\r\n    let auth_mouseX, auth_mouseY;\r\n    // container of drawing sketched by the help of drawing tools\r\n    let drawing_paths;\r\n    // scribble drawing tool is enable\r\n    let authoringMode = 'scribble';\r\n    // strike color of drawing\r\n    let authColor = '#00BCD4';\r\n    // stroke width of the drawing\r\n    let authThickness = 5;\r\n    // contains object that have key type, index, mode, order and d\r\n    let scribblePath = [];\r\n    // contains sequence of the drawing\r\n    let scribbleCount = 0;\r\n    // contains current mouse x position\r\n    let checkCurrentPositionX;\r\n    // contains current mouse y position\r\n    let checkCurrentPositionY;\r\n    // denoes no of undo done\r\n    let undoCount = 0;\r\n    // contains undo data\r\n    let undo_list = [];\r\n    // contains redo data\r\n    let redo_list = [];\r\n    // used to check validateInput\r\n    let isValid = true;\r\n    // for compass variable\r\n    // denotes x co-ordinate of the center\r\n    let cx;\r\n    // denotes y co-ordinate of the center\r\n    let cy;\r\n    // denotes x co-ordinate of the center of middle circle lies on rotationbar\r\n    let midCircle_cx;\r\n    // denotes x co-ordinate of the center of middle circle lies on rotationbar\r\n    let midCircle_cy;\r\n    // denotes center of x co-ordinate of small middle circle lies on rotationbar\r\n    let midSmallCircle_cx;\r\n    // denotes x co-ordinate of the center of small middle circle lies on rotationbar\r\n    let midSmallCircle_cy;\r\n    // denotes center of x co-ordinate of last circle lies on rotationbar\r\n    let lastCircle_cx;\r\n    // denotes x co-ordinate of the center of last circle lies on rotationbar\r\n    let lastCircle_cy;\r\n    // denotes center of x co-ordinate of rotation indicator\r\n    let lastSmallCircle_cx;\r\n    // denotes x co-ordinate of the center of rotation indicator\r\n    let lastSmallCircle_cy;\r\n    // radius of the compass\r\n    let compassRadius;\r\n    // denotes that compass is not moved\r\n    let isCompassMove = false;\r\n    // sets the default angle of compass\r\n    let compassAngle = 90;\r\n    // denotes that compass radius not increased\r\n    let isRadiusIncrease = 0;\r\n    // denotes initial points co-ordinate\r\n    let initialPoint = { x: null, y: null };\r\n    // denotes final points co-ordinate\r\n    let finalPoint = { x: null, y: null };\r\n    // denotes that is radius rotated\r\n    let isRadiusRotate = 0;\r\n    // used for answer recording\r\n    let defaultXML = '';\r\n    // defines that not any point added using 'Add Point' button\r\n    let selectionPoint = 0;\r\n    // used for store the point added by clicking on 'Add Point' button\r\n    let selectionArray = [];\r\n    // used to contain the x, y and radius of Point added by clicking on 'Add Point' button\r\n    let cdata = '';\r\n    // used to enables the drawing tools that can be used to draw the drawing\r\n    let selectedToolsArray = [\"_scribble\", \"_line\", \"_compass\"];\r\n    // used for access the focus points using keyboard\r\n    let isAccessibleMarking = 1;\r\n    // contains the focusPoints\r\n    let accessibilityPoints = [];\r\n    // array contains x and y co-ordinate of added focus point\r\n    let tempAccessPoints = [];\r\n    // number of focus point exist\r\n    let focusPointCount = 1;\r\n    let auth_store = writable({\r\n        // contains the xml\r\n        xml: '',\r\n        // used to open the configuration dialog box\r\n        bgImg: 'useraccount_000ANv.png',\r\n        snackback: false,\r\n        // contains points used for correct answer\r\n        cDATA: '',\r\n        // contains focus points that can be access via keyboard \r\n        focusDATA: '',\r\n        imgWidth: \"600\",\r\n        alt: \"Triangle image\",\r\n        // message for snackbar\r\n        message: '',\r\n        // contains drawing tools\r\n        selectedTools: selectedToolsArray,\r\n        // for stroke color of drawing\r\n        lineColor: '#00BCD4',\r\n        // for mark point color\r\n        markPointColor: '#00FF00'\r\n\t});\r\n\r\n    let state = {};\r\n    const unsubscribe = auth_store.subscribe(value => {\r\n\t\tstate = value;\r\n\t});\r\n    afterUpdate(async()=> {\r\n\t\tif (state.xml != xml) {\r\n            // for changing the data when XML is changed manually \r\n            parseXMLForGettingData();\r\n            state.xml = xml;\r\n        }\r\n    })\r\n    // call after html render and added the necessary events\r\n    onMount(async() => {\r\n        drawing_paths = AH.select('.drawing_paths');\r\n\r\n        AH.setAttr('.centerImg #svgImg', {\r\n            'src': bgImgPath + '' + state.bgImg, \r\n            'alt': state.alt, \r\n            'width': state.imgWidth,\r\n        });\r\n\r\n        AH.setAttr('.auth_drawing_toolbar', {\r\n            'style': 'width:' + (Number(state.imgWidth) + 2) + 'px'\r\n        });\r\n        \r\n        AH.setAttr('.authCenterImg', {\r\n            'style': 'width:' + (Number(state.imgWidth) + 2) + 'px'\r\n        });\r\n\r\n        updateCompassCalculation(160, 118, 100, 90);\r\n\r\n\r\n        AH.listen('body', 'mousedown', '#authoringSvg .mid_circle', function () {\r\n            if (authoringMode == \"compass\") {\r\n                // checks if radius of the circle increased\r\n                isRadiusIncrease = 1;\r\n            }\r\n        });\r\n\r\n        AH.listen('body', 'mousedown', '#authoringSvg .midSmallCircle', function () {\r\n            if (authoringMode == \"compass\") {\r\n                // checks if radius of the circle increased\r\n                isRadiusRotate = 1;\r\n            }\r\n        });\r\n\r\n        AH.listen('body', 'mousedown', '#authoringSvg .drawing_compass_center', function (current, event) {\r\n            if (authoringMode == \"compass\") {\r\n                // used to set the x and y co-ordinate of the mouse position\r\n                setMouseCoordinates(event);\r\n                // contains the value of center x\r\n                cx = auth_mouseX;\r\n                // contains the value of center y\r\n                cy = auth_mouseY;\r\n                // contains the value of compass route radius\r\n                compassRadius = AH.select('.drawing-compass-route').getAttribute('r');\r\n                // updates the position of rotationbar and change the center position of the circles that lies on rotationbar\r\n                updateCompassCalculation(cx, cy, compassRadius, compassAngle);\r\n                // rotate the small middle circle at defined angle from its center position\r\n                AH.selectAll('#authoringSvg .midSmallCircle', 'attr', {\"transform\" : \"rotate(\" + compassAngle + \",\" + AH.select('#authoringSvg .midSmallCircle').getAttribute('cx') + \",\" + AH.select('#authoringSvg .midSmallCircle').getAttribute('cy') + \")\"});\r\n                // rotate the middle circle at defined angle from its center position\r\n                AH.selectAll('#authoringSvg .mid_circle', 'attr' , {\"transform\" : \"rotate(\" + compassAngle + \",\" + AH.select('#authoringSvg .mid_circle').getAttribute('cx') + \",\" + AH.select('#authoringSvg .mid_circle').getAttribute('cy') + \")\"});\r\n                // rotate the rotation indicator circle at defined angle from its center position\r\n                AH.selectAll('#authoringSvg .lastCircleMid', 'attr', {\"transform\" : \"rotate(\" + compassAngle + \",\" + AH.select('#authoringSvg .lastCircleMid').getAttribute('cx') + \",\" + AH.select('#authoringSvg .lastCircleMid').getAttribute('cy') + \")\"});\r\n                // defines that compass moved\r\n                isCompassMove = true;\r\n            }\r\n        });\r\n\r\n        AH.listen('body', 'mousemove', '#authoringSvg .lastCircle', function (current) {\r\n            // adds the class 'lastCircle_hover' to the last circle on compass rotation bar lies on route of the compass\r\n            current.classList.add(\"lastCircle_hover\");\r\n            // shows the rotational indicator\r\n            AH.selectAll('#authoringSvg .lastCircleMid', 'attr' , {'opacity': 1});\r\n        });\r\n        \r\n        AH.listen('body', 'mouseout', '#authoringSvg .lastCircle', function (current) {\r\n            // removes the class 'lastCircle_hover' to the last circle on compass rotation bar lies on route of the compass\r\n            current.classList.remove(\"lastCircle_hover\");\r\n            // hides the rotational indicator\r\n            AH.selectAll('#authoringSvg .lastCircleMid', 'attr' , {'opacity': 0});\r\n        });\r\n\r\n        AH.listen('body', 'mousedown', '#authoringSvg .lastCircle', function (current) {\r\n            if (authoringMode == \"compass\") {\r\n                // used check that drawing \r\n                isDrawing = true;\r\n                // checks if compass rotaionbar rotated\r\n                isRadiusRotate = 1;\r\n                // change the cursor style to grabbing for the circle that lies on the compass route\r\n                AH.selectAll('#authoringSvg .lastCircle', 'css', {'cursor':'grabbing'});\r\n                // Creates an element with the value of variable xmlns namespace URI and path name.\r\n                scribble = document.createElementNS(xmlns, 'path');\r\n                // sets the stroke width and color of the drawing drawn by scribble drawing tool\r\n                setAuthColor(authColor, authThickness, authoringMode);\r\n                // adds a new attribute 'data-type' (with a namespace null)\r\n                scribble.setAttributeNS(null, 'data-type', authoringMode + '_' + scribbleCount);\r\n                // adds a new attribute 'data-order' (with a namespace null)\r\n                scribble.setAttributeNS(null, 'data-order', scribbleCount);\r\n                // adds a new attribute 'd' (with a namespace null)\r\n                scribble.setAttributeNS(null, 'd', 'M' + lastCircle_cx + ' ' + lastCircle_cy);\r\n                // contains the center x of last circle on rotationbar\r\n                checkCurrentPositionX = lastCircle_cx;\r\n                // contains the center y of last circle on rotationbar\r\n                checkCurrentPositionY = lastCircle_cy;\r\n                // pushes the object containing keys mode, order, type, index and d \r\n                scribblePath.push({\r\n                    mode: 'add',\r\n                    order: scribbleCount,\r\n                    type: authoringMode + '_' + scribbleCount,\r\n                    index: scribbleCount,\r\n                    d: 'M' + lastCircle_cx + ' ' + lastCircle_cy\r\n                });\r\n            }\r\n        });\r\n\r\n        AH.listen('body', 'mousedown', '#authoringSvg', function (current, event) {\r\n            // used to set the UI of the buttons and sketch or remove the drawing and adds focus point to access via keyboard\r\n            authoringMousedownDraw(event);\r\n        });\r\n\r\n        // only for authoring area for adding answer points \r\n        AH.listen('body', 'click', '#authoring_point', function (current) {\r\n            // parses the point that can be access via keyboard on preview side\r\n            parseXMLForAccessPoint();\r\n            // removes the class active from element have class 'authoring_btn' or id 'focus_point'\r\n            AH.selectAll('.authoring_btn, #focus_point', 'removeClass', 'active');\r\n            // adds the class active to 'Add Point' button\r\n            current.classList.add('active');\r\n            // assign the value 'authoring_point' to variable 'authoringMode'\r\n            authoringMode = 'authoring_point';\r\n            // removes the class 'eraserHover' from the elements have tag name path inside the element have id authoringSvg\r\n            AH.selectAll('#authoringSvg path', 'removeClass','eraserHover');\r\n            // sets the cursor style to 'unset'\r\n            AH.selectAll('#authoringSvg', 'css', {'cursor': 'unset'});\r\n            // hides the compass element\r\n            AH.selectAll('.drawing_compass_svg', 'addClass', 'h');\r\n            if (AH.select('#authoring_point').innerText == \"Add Point\") {\r\n                // increases the value of variable 'selectedPoint to detect that how many points are added using 'Add Point' button\r\n                selectionPoint++;\r\n                // push the object taking the initial point of x and y co-ordinate and radius of the circle into arraay 'selectionArray' that is added using 'Add Point' button\r\n                selectionArray.push({ Center_X: 90, Center_Y: 68, radius: 33 });\r\n                // draw the point after click on 'Add Point' button\r\n                AH.insert('#centerImg', '<div class=\"resize\" data-point=\"' + selectionPoint + '\"><div class=\"resizer icomoon-resize\"></div></div>', 'beforeend');\r\n                // updates the marking points xml after to resize or drag the points\r\n                setPointDataInXML();\r\n            }\r\n            if (!(AH.select('.resize').nodeName && AH.select('.resize').offsetHeight) || selectionPoint == 0) {\r\n                // shows the points created using 'Add Point' button\r\n                AH.selectAll('.resize', 'removeClass', 'h');\r\n                // hides the compass element\r\n                AH.selectAll('.drawing_compass_svg', 'addClass', 'h');\r\n                // Adds the text 'Add Point' of the button having text 'Show Point'\r\n                AH.select('#authoring_point').innerText = 'Add Point';\r\n            }\r\n            AH.select('#add_point_msg').classList.remove('h');\r\n        });\r\n\r\n        // Mouse Move Event\r\n        AH.listen('body', 'mousemove', '#authoringSvg', function (current, event) {\r\n            // used to set the x and y co-ordinate of the mouse position\r\n            setMouseCoordinates(event);\r\n            switch (authoringMode) {\r\n                case 'line':\r\n                    if (isDrawing) {\r\n                        // adds a new attribute 'd' (with a namespace null)\r\n                        scribble.setAttributeNS(null, 'd', scribblePath[scribbleCount].d + ' L' + auth_mouseX + ' ' + auth_mouseY);\r\n                        // prepend the element scribble into the container have class drawing_paths\r\n                        drawing_paths.prepend(scribble);\r\n                    }\r\n                    break;\r\n                case 'scribble':\r\n                    if (isDrawing) {\r\n                        // adds a new attribute 'd' (with a namespace null)\r\n                        scribble.setAttributeNS(null, 'd', scribblePath[scribbleCount].d + ' L' + auth_mouseX + ' ' + auth_mouseY);\r\n                        // adds the x an y mouse position with prefix 'L' into the value of key 'd' of array 'scribblePath' with index no containing into variable scribbleCount\r\n                        scribblePath[scribbleCount].d = scribblePath[scribbleCount].d + ' L' + auth_mouseX + ' ' + auth_mouseY;\r\n                        // prepend the element scribble into the container have class drawing_paths\r\n                        drawing_paths.prepend(scribble);\r\n                    }\r\n                    break;\r\n                case 'compass':\r\n                    if (isCompassMove) {\r\n                        // defines the center of the x co-ordinate\r\n                        cx = auth_mouseX;\r\n                        // contains the center of the x co-ordinate\r\n                        cy = auth_mouseY;\r\n                        // radius of the compass or width of the rotationbar of the compass\r\n                        compassRadius = AH.select('.drawing-compass-route').getAttribute('r');\r\n                        // updates the position of rotationbar and change the center position of the circles that lies on rotationbar\r\n                        updateCompassCalculation(cx, cy, compassRadius, compassAngle);\r\n                    }\r\n                    if (isRadiusIncrease) {\r\n                        // calculates the angle using initial and final point and find the radius of the compass\r\n                        checkRadiusPointsAndAngle();\r\n                        // rounds the angle to make it integer value\r\n                        compassAngle = Math.round(compassAngle);\r\n                        // calculates the radius of the compass\r\n                        compassRadius = 2 * Math.sqrt(Math.pow(auth_mouseX - initialPoint.x, 2) + Math.pow(auth_mouseY - initialPoint.y, 2))\r\n                        if (compassRadius < 80) {\r\n                            compassRadius = 80;\r\n                        }\r\n                        if (compassRadius > 360) {\r\n                            compassRadius = 360;\r\n                        }\r\n                        // updates the position of rotationbar and change the center position of the circles that lies on rotationbar\r\n                        updateCompassCalculation(initialPoint.x, initialPoint.y, compassRadius, compassAngle);\r\n                    }\r\n                    if (isRadiusRotate) {\r\n                        // used to set the x and y co-ordinate of the mouse position\r\n                        setMouseCoordinates(event);\r\n                        // calculates the angle using initial and final point and find the radius of the compass\r\n                        checkRadiusPointsAndAngle();\r\n                        // calculates the angle of the compass\r\n                        compassAngle = Math.atan2(auth_mouseY - initialPoint.y, auth_mouseX - initialPoint.x) * 180 / Math.PI;\r\n                        if (compassAngle < 0) {\r\n                            compassAngle = 360 + compassAngle;\r\n                        }\r\n                        // updates the position of rotationbar and change the center position of the circles that lies on rotationbar\r\n                        updateCompassCalculation(initialPoint.x, initialPoint.y, compassRadius, compassAngle);\r\n                    }\r\n                    if (isDrawing) {\r\n                        if (! (AH.select('#authoringSvg .last_big_circle').classList.contains('lastCircle_hover') )) {\r\n                            authoringMouseLeave(event)\r\n                        } else {\r\n                            // adds a new attribute 'd' (with a namespace null)\r\n                            scribble.setAttributeNS(null, 'd', scribblePath[scribbleCount].d + ' L' + lastCircle_cx + ' ' + lastCircle_cy);\r\n                            // adds the values of center of x and y of last circle on rotationbar with prefix 'L' into the value of key 'd' of array 'scribblePath' with index no containing into variable scribbleCount\r\n                            scribblePath[scribbleCount].d = scribblePath[scribbleCount].d + ' L' + lastCircle_cx + ' ' + lastCircle_cy;\r\n                            // prepend the element scribble into the container have class drawing_paths\r\n                            drawing_paths.prepend(scribble);\r\n                        }\r\n                    }\r\n                    // rotates the small middle circle at given angle from it's center position\r\n                    AH.selectAll('#authoringSvg .midSmallCircle', 'attr' , {\"transform\" : \"rotate(\" + compassAngle + \",\" + AH.select('#authoringSvg .midSmallCircle').getAttribute('cx') + \",\" + AH.select('#authoringSvg .midSmallCircle').getAttribute('cy') + \")\"});\r\n                    // rotates the middle circle at given angle from it's center position\r\n                    AH.selectAll('#authoringSvg .mid_circle', 'attr', {\"transform\": \"rotate(\" + compassAngle + \",\" + AH.select('#authoringSvg .mid_circle').getAttribute('cx') + \",\" + AH.select('#authoringSvg .mid_circle').getAttribute('cy') + \")\"});\r\n                    // rotates the last circle at given angle from it's center position\r\n                    AH.selectAll('#authoringSvg .lastCircleMid','attr', {\"transform\": \"rotate(\" + compassAngle + \",\" + AH.select('#authoringSvg .lastCircleMid').getAttribute('cx') + \",\" + AH.select('#authoringSvg .lastCircleMid').getAttribute('cy') + \")\"});\r\n                    break;\r\n            }\r\n        });\r\n\r\n        // Mouse Up Event\r\n        AH.listen('body', 'mouseup', '#authoringSvg', function (current, event) {\r\n            authoringMouseLeave(event)\r\n        });\r\n\r\n        AH.bind('#authoringSvg', 'mouseleave', function (event) {\r\n            authoringMouseLeave(event)\r\n        })\r\n\r\n        AH.listen('body', 'click', '#authoring_clearScreen', function (current) {\r\n            // makes drawing container empty in which drawing is done by using drawing tools\r\n            AH.select('.drawing_paths').innerHTML = '';\r\n            // sets the value of variable 'undoCount' to  0\r\n            undoCount = 0;\r\n            // sets the value of variable 'scribbleCount' to  0\r\n            scribbleCount = 0;\r\n            // makes array 'scribblePath' empty \r\n            scribblePath = [];\r\n            // disabled the undo, redo, cross (x) buttons\r\n            AH.select('#authoring_undo').disabled = true;\r\n            AH.select('#authoring_redo').disabled = true;\r\n            AH.select('#authoring_clearScreen').disabled = true;\r\n        });\r\n\r\n        AH.listen('body', 'click', '.auth_toolbar', function (current) {\r\n            // hides the points added by clicking on 'Add Point' button\r\n            AH.selectAll('.resize', 'addClass', 'h');\r\n            // parses the point that can be access via keyboard on preview side\r\n            parseXMLForAccessPoint();\r\n            // sets the style of the cursor to crosshair (+)\r\n            AH.selectAction('#authoringSvg', 'css', {'cursor': 'crosshair'});\r\n            // contains the value of attribute 'data-title' on which currently clicked\r\n            authoringMode = current.getAttribute('data-title');\r\n\r\n            AH.selectAll('.authoring_btn,#authoring_point,#focus_point' ,'removeClass' ,'active');\r\n            current.classList.add('active');\r\n\r\n            if (authoringMode == 'eraser') {\r\n                // adds the class 'eraserHover' to the element 'path' inside drawing container in which drawing is done by using drawing tools\r\n                AH.selectAll('.drawing_paths path', 'addClass', 'eraserHover');\r\n            } else {\r\n                // removes the class 'eraserHover' to the element 'path' inside drawing container in which drawing is done by using drawing tools\r\n                AH.selectAll('.drawing_paths path', 'removeClass', 'eraserHover');\r\n\r\n            }\r\n\r\n            if (authoringMode == 'compass') {\r\n                // shows the compass tool\r\n                AH.selectAll('.drawing_compass_svg', 'removeClass', 'h');\r\n            } else {\r\n                // hides the compass element\r\n                AH.selectAll('.drawing_compass_svg', 'addClass','h');\r\n            }\r\n\r\n            if (selectionPoint != 0) {\r\n                // sets the text 'Show Point' of the element having id 'authoring_point' if the value of variable 'selectionPoint' is not equals to 0\r\n                AH.select('#authoring_point').innerText = 'Show Point';\r\n                AH.select('#add_point_msg').classList.add('h');\r\n            }\r\n        });\r\n\r\n        AH.listen('body', 'mouseover', '.drawing_paths path', function (current) {\r\n            if (authoringMode == 'eraser') {\r\n                // removes the class currentSvg from the element 'path' inside the element have class 'drawing_paths'\r\n                AH.selectAll('.drawing_paths path', 'removeClass' , 'currentSvg');\r\n                // adds the class 'currentSvg' to the element 'path' inside the element have class 'drawing_paths' on which mouseover\r\n                current.classList.add('currentSvg');\r\n            }\r\n        });\r\n\r\n        AH.listen('body', 'mouseout', '.drawing_paths path', function (current) {\r\n            if (authoringMode == 'eraser') {\r\n                // removes the class 'currentSvg' to the element 'path' inside the element have class 'drawing_paths' on which mouseout\r\n                current.classList.remove('currentSvg');\r\n            }\r\n        });\r\n\r\n        AH.listen('body', 'click', '#authoring_undo', function (current) {\r\n            if (undoCount == 1) {\r\n                // disabled the undo button\r\n                current.disabled = true;\r\n                // enabled the redo button\r\n                AH.select('#authoring_redo').disabled = false;\r\n            } else {\r\n                // enabled the redo button\r\n                AH.select('#authoring_redo').disabled = false;\r\n            }\r\n\r\n            if (scribblePath[scribblePath.length - 1].mode == 'add') {\r\n                // removes the element which 'data-order' attributes value is equals to the value of array length scribblePath reducing by 1\r\n                AH.select('#authoringSvg [data-order=\"' + (scribblePath.length - 1) + '\"]', 'remove');\r\n            } else if (scribblePath[scribblePath.length - 1].mode == 'remove') {\r\n                // Creates an element with the specified namespace URI and qualified name.\r\n                scribble = document.createElementNS(xmlns, 'path');\r\n                // sets the stroke width and color of the drawing drawn by scribble drawing tool\r\n                setAuthColor(authColor, authThickness);\r\n                // adds a new attribute 'data-type' (with a namespace null)\r\n                scribble.setAttributeNS(null, 'data-type', scribblePath[scribblePath.length - 1].type);\r\n                // adds a new attribute 'data-order' (with a namespace null)\r\n                scribble.setAttributeNS(null, 'data-order', (scribblePath[scribblePath.length - 1].order));\r\n                // adds a new attribute 'd' (with a namespace null)\r\n                scribble.setAttributeNS(null, 'd', scribblePath[scribblePath.length - 1].d);\r\n                if (authoringMode == 'eraser') {\r\n                    // adds a new attribute 'class' (with a namespace null)\r\n                    scribble.setAttributeNS(null, 'class', 'eraserHover');\r\n                }\r\n                // prepend the element scribble into the container have class drawing_paths\r\n                drawing_paths.prepend(scribble);\r\n            }\r\n            // pushes the last data of array scribblePath into array undo_list\r\n            undo_list.push(scribblePath.pop());\r\n            // reduces the value of variable 'scribbleCount' by 1\r\n            scribbleCount--;\r\n            // reduces the value of variable 'undoCount' by 1\r\n            undoCount--;\r\n            if (AH.selectAll('.drawing_paths path').length == 0) {\r\n                // disabled the cross (x) button if no drawing sketched by using drawing tools\r\n                AH.select('#authoring_clearScreen').disabled = true;\r\n            } else {\r\n                // enables the cross (x) button if drawing has been sketched by using drawing tools\r\n                AH.select('#authoring_clearScreen').disabled = false;\r\n            }\r\n            if (scribblePath.length == 0) {\r\n                // disabled the undo button if length of the array 'scribblePath' is 0 \r\n                current.disabled = true;\r\n            }\r\n        });\r\n\r\n        AH.listen('body', 'click', '#authoring_redo', function (current) {\r\n            // increases the value of the variable 'scribbleCount' by 1\r\n            scribbleCount++;\r\n            if (undo_list.length > 0) {\r\n                // pushes the last data of the array undo_list into array redo_list\r\n                redo_list.push(undo_list.pop());\r\n            }\r\n            if (redo_list[redo_list.length - 1].mode == 'add') {\r\n                // Creates an element with the specified namespace URI and qualified name.\r\n                scribble = document.createElementNS(xmlns, 'path');\r\n                // sets the stroke width and color of the drawing drawn by scribble drawing tool\r\n                setAuthColor(authColor, authThickness);\r\n                // adds a new attribute 'data-type' (with a namespace null)\r\n                scribble.setAttributeNS(null, 'data-type', redo_list[redo_list.length - 1].type);\r\n                // adds a new attribute 'data-order' (with a namespace null)\r\n                scribble.setAttributeNS(null, 'data-order', (redo_list[redo_list.length - 1].order));\r\n                // adds a new attribute 'd' (with a namespace null)\r\n                scribble.setAttributeNS(null, 'd', redo_list[redo_list.length - 1].d);\r\n                if (authoringMode == 'eraser') {\r\n                    // adds a new attribute 'class' (with a namespace null)\r\n                    scribble.setAttributeNS(null, 'class', 'eraserHover');\r\n                }\r\n                // prepend the element scribble into the container have class drawing_paths\r\n                drawing_paths.prepend(scribble);\r\n            } else if (redo_list[redo_list.length - 1].mode == 'remove') {\r\n                // removes the element which 'data-order' attributes value is equals to the value of order key of last data in array redo_list\r\n                AH.select('#authoringSvg [data-order=\"' + (redo_list[redo_list.length - 1].order) + '\"]', 'remove');\r\n            }\r\n            // increases the value of variable 'undoCount' by 1\r\n            undoCount++;\r\n            // pushes the last value of the array redo_list into array scribblePath\r\n            scribblePath.push(redo_list.pop());\r\n            if (AH.selectAll('.drawing_paths path').length == 0) {\r\n                // disabled the cross (x) button if no drawing is sketched by using drawing tools\r\n                AH.select('#authoring_clearScreen').disabled = true;\r\n            } else {\r\n                // enables the cross (x) button if any drawing is sketched by using drawing tools\r\n                AH.select('#authoring_clearScreen').disabled = false;\r\n            }\r\n            if (undo_list.length == 0) {\r\n                // disabled the redo button if no data exist in array undo_list\r\n                current.disabled = true;\r\n                // enables the undo button if no data exist in array undo_list\r\n                AH.select('#authoring_undo').disabled = false;\r\n            } else {\r\n                // enables the undo button if data exist in array undo_list\r\n                AH.select('#authoring_undo').disabled = false;\r\n            }\r\n        });\r\n\r\n        AH.listen('body', 'click', '#reset_btn', function () {\r\n            // swal({\r\n            //     text: l.reset_module,\r\n            //     icon: \"warning\",\r\n            //     buttons: [\"cancel\",\"ok\"],\r\n            // }).then((value) => {\r\n            //     if (value) {\r\n            //         // reset all the activity and makes it in initial condition as it looks like just after load\r\n            //         resetModule();\r\n            //     }\r\n            // });\r\n            state.openDeleteDialog = true;\r\n        });\r\n\r\n        AH.listen('body', 'click', '#focus_point', function () {\r\n            // hides the compass element\r\n            AH.selectAll('.drawing_compass_svg', 'addClass', 'h');\r\n            AH.selectAll('#authoringSvg path', 'removeClass', 'eraserHover');\r\n            // sets the cursor style as crosshair (+)\r\n            AH.select('#authoringSvg', 'css', {'cursor': 'crosshair'});\r\n            // hides the circle shape element created using 'Add Point' button\r\n            AH.selectAll('.resize', 'addClass', 'h');\r\n            if (selectionPoint != 0) {\r\n                // if any point created using 'Add point' button then after click on 'Add Focus Point' or 'Finish Marking' button text of 'Add Point' button changes to 'Show Point'\r\n                AH.select('#authoring_point').innerText = 'Show Point';\r\n                AH.select('#add_point_msg').classList.add('h');\r\n            }\r\n            if (isAccessibleMarking) {\r\n                // removes the class active from the drawing tools, delete and 'Add Point' buttons\r\n                AH.selectAll('.authoring_btn,#authoring_point', 'removeClass', 'active');\r\n\r\n                // adds the class active to the button have id 'focus_point' and change the text as 'Finish Marking'\r\n                AH.select('#focus_point').innerText = \"Finish Marking\";\r\n                AH.select('#focus_point', 'addClass', 'active');\r\n                // sets the value of variable 'isAccessibleMarking' to 0 \r\n                isAccessibleMarking = 0;\r\n                // sets the value of variable 'authoringMode' to 'markAccessibilityPoint'\r\n                authoringMode = 'markAccessibilityPoint';\r\n            } else {\r\n                // parses the point that can be access via keyboard on preview side\r\n                parseXMLForAccessPoint();\r\n            }\r\n        });\r\n\r\n        AI.listen('body', 'contextmenu', '.resize', function (current, event) {\r\n            event.preventDefault();\r\n            swal({\r\n                text: l.delete_points,\r\n                icon: \"warning\",\r\n                buttons: true,\r\n            }).then((value) => {\r\n                if (value) {\r\n                    let btnIndex = current.getAttribute(\"data-point\");\r\n                    // makes the x co-ordinate of the point null\r\n                    selectionArray[btnIndex - 1].Center_X = null;\r\n                    // makes the y co-ordinate of the point null\r\n                    selectionArray[btnIndex - 1].Center_Y = null;\r\n                    // makes the radius of the point null\r\n                    selectionArray[btnIndex - 1].radius = null;\r\n                    // removes the point\r\n                    current.remove();\r\n                    // this function will set the point value in xml \r\n                    setPointDataInXML();\r\n                }\r\n            });\r\n        });\r\n\r\n        AI.listen('body', 'keyup', '.authoring-modal input', function (current, event) {\r\n            event.stopPropagation();\r\n            AH.selectAll('.error', 'remove');\r\n            validateInput(current);\r\n        });\r\n\r\n        AI.listen('body', 'change', '.authoring-modal input', function (current, event) {\r\n            event.stopPropagation();\r\n            AH.selectAll('.error', 'remove');\r\n            validateInput(current);\r\n        });\r\n\r\n        AI.listen('body', 'click', '.drawing_modal_submit', function (current, event) {\r\n            if (isValid && AH.selectAll('.showError').length == 0) {\r\n                selectedToolsArray = [];\r\n                let checkboxes = AH.selectAll('.checkbox-inline:checked');\r\n                for (let index = 0; index < checkboxes.length; index++) {\r\n                    /* pushes the drawing tools value that can be used to draw the drawing into the array of drawing tools by checking the checkbox of tools group in configaration modal box */\r\n                    selectedToolsArray.push(checkboxes[index].value);\r\n                }\r\n\r\n                auth_store.update((item) => {\r\n                    item.bgImg = AH.select('#backgroundImage').value;\r\n                    // sets the alt message for background image\r\n                    item.alt = AH.select('#imgAlt').value.trim();\r\n                    // sets the width of background image\r\n                    item.imgWidth = AH.select('#imgWidth').value;\r\n                    // sets the stroke color of drawing shape\r\n                    item.lineColor = AH.select('#lineColor').value;\r\n                    // sets the point color of drawing shape on Preview area\r\n                    item.markPointColor = AH.select('#markPointColor').value;\r\n                    // sets which type of drawing tools can be used to draw the drawing such as scribble, line or compass\r\n                    item.selectedTools = selectedToolsArray;\r\n                    return item;\r\n                });\r\n\r\n                resetModule();\r\n                parseXMLForSettingData(xml);\r\n                AH.getBS('#drawing-modal', 'Modal').hide();\r\n            } else {\r\n                swal({\r\n                    text: \"Please solve all the errors!\",\r\n                    icon: \"warning\",\r\n                })\r\n            }\r\n        \r\n        });\r\n\r\n        AH.listen('body', 'click', '#upload_media', function () {\r\n            AH.getBS('#modal-media-upload','Modal').show();\r\n        });\r\n\r\n        enableDragResize();\r\n    })\r\n\r\n    // function for checking the numeric value\r\n    function isNumeric (num) {\r\n        return !isNaN(parseFloat(num)) && isFinite(num);\r\n    }\r\n\r\n    // function for validation of the modal's input\r\n    function validateInput(current) {\r\n        // sets the value of isValid variable to true\r\n        isValid = true;\r\n        if (current.value.trim() == '') {\r\n            isValid = false;\r\n            AH.insert(current.parentElement, '<span class=\"error text-danger\">' + l.fill_warning + '</span>', 'beforeend');\r\n        } else if (current.classList.contains('num') && Number(current.value) < 600) {\r\n            isValid = false;\r\n            // shows warning message if width of image is less than 600\r\n            AH.insert(current.parentElement, '<span class=\"error text-danger\">' + l.val_gt_limit + '</span>', 'beforeend');\r\n        } else if (! isNumeric(current.value) && current.classList.contains('num')) {\r\n            // sets the value of isValid variable to false\r\n            isValid = false;\r\n            // shows warning message if width of image takes any non number data but it cannot be seen as field has not allowed to take non numeric data\r\n            AH.insert(current.parentElement, '<span class=\"error text-danger\">' + l.enter_number + '</span>', 'beforeend');\r\n        } else if ((AH.selectAll('.checkbox-inline:checked').length == 0) && current.classList.contains('checkbox-inline')) {\r\n            // sets the value of isValid variable to false\r\n            isValid = false;\r\n            // shows warning message if no any drawing tools selected\r\n            AH.insert(current.closest('.toolsCheckbox').parentElement, '<span class=\"error text-danger\">' + l.select_one_tool + '</span>', 'beforeend');\r\n        }\r\n\r\n        if (isValid) {\r\n            if (current.classList.contains('checkbox-inline')) {\r\n                // in case when current element which value changed has class 'checkbox-inline' and value of variable 'isValid' is true then removes class 'showError to the element have id backgroundImage\r\n                AH.select('#backgroundImage').classList.remove('showError');\r\n            } else {\r\n                // in case when current element which value changed has not class 'checkbox-inline' and value of variable 'isValid' is true then removes class 'showError from current element and removes border and background color\r\n                current.classList.remove('showError');\r\n                AH.setCss(current, {\r\n                    \"border\": \"\", \r\n                    \"background\": \"\"\r\n                })\r\n            }\r\n        } else {\r\n            if (current.classList.contains('checkbox-inline')) {\r\n                // in case when current element which value changed has class 'checkbox-inline' and value of variable 'isValid' is false then adds class 'showError to the element have id backgroundImage\r\n                AH.select('#backgroundImage').classList.add('showError');\r\n            } else {\r\n                current.classList.add('showError');\r\n                // in case when current element which value changed has not class 'checkbox-inline' and value of variable 'isValid' is false then adds 'showError' class and sets border color to red and background color to #FFCECE\r\n                AH.setCss(current, {\r\n                    \"border\": \"1px solid red\", \r\n                    \"background\": \"#FFCECE\"\r\n                })\r\n            }\r\n        }\r\n    }\r\n\r\n    // function for enabling resize and dragging\r\n    function enableDragResize() {\r\n        let draggable = new Draggable({\r\n            containment: '#authoringSvg',\r\n            classes: \".resize\",\r\n            ignore: ['.tools', '.resizer']\r\n        });\r\n        draggable.onDragStop = function (event, position, ui) {\r\n            let pointIndex = ui.getAttribute(\"data-point\");\r\n            // sets the height value to it's width value\r\n            AH.setCss(ui, {\r\n                height: ui.offsetWidth + \"px\",\r\n                width: ui.offsetWidth + \"px\",\r\n            });\r\n            // contains the radius of the point\r\n            let h = ui.offsetHeight / 2;\r\n            // contains x co-ordinate of the point\r\n            let CenterX = position.left + h;\r\n            // contains y co-ordinate of the point\r\n            let CenterY = position.top + h;\r\n            // assign the value of the x co-ordinate of the point at index 'pointIndex-1' in array selectionArray\r\n            selectionArray[pointIndex - 1].Center_X = CenterX;\r\n            // assign the value of the y co-ordinate of the point at index 'pointIndex-1' in array selectionArray\r\n            selectionArray[pointIndex - 1].Center_Y = CenterY;\r\n            // assign the value of radius of the point at index 'pointIndex-1' in array selectionArray\r\n            selectionArray[pointIndex - 1].radius = h;\r\n            // this function will set the point value in xml \r\n            setPointDataInXML();\r\n        }\r\n\r\n        let resizable = new Resizable('#authoringSvg', '.resize');\r\n        resizable.onStop =  function(e, ui) {\r\n            let pointIndex = ui.getAttribute(\"data-point\");\r\n            // sets the height of the selector element equal to width of that element\r\n            let resolution = (Number(ui.offsetWidth) > 66) ? 66 : ui.offsetWidth\r\n            AH.setCss(ui, {\r\n                height: resolution + \"px\",\r\n                width: resolution + \"px\",\r\n            });\r\n            // contains radius of the point\r\n            let h = ui.offsetHeight / 2;\r\n            // contains co-ordinate of center x\r\n            let CenterX = ui.offsetLeft + h;\r\n            // contains co-ordinate of center y\r\n            let CenterY = ui.offsetTop + h;\r\n            // sets the co-ordinate of center x of the point contained at index 'pointIndex -1' in array selectionArray\r\n            selectionArray[pointIndex - 1].Center_X = CenterX;\r\n            // sets the co-ordinate of center y of the point contained at index 'pointIndex -1' in array selectionArray\r\n            selectionArray[pointIndex - 1].Center_Y = CenterY;\r\n            // sets the radius of the point contained at index 'pointIndex -1' in array selectionArray\r\n            selectionArray[pointIndex - 1].radius = h;\r\n            // this function will set the point value in xml \r\n            setPointDataInXML();\r\n        }\r\n    }\r\n\r\n    // function called on the mouse leave on the authoring svg\r\n    function authoringMouseLeave(event) {\r\n        switch (authoringMode) {\r\n            case 'line':\r\n            case 'scribble':\r\n                if (isDrawing) {\r\n                    // used to set the x and y co-ordinate of the mouse position\r\n                    setMouseCoordinates(event);\r\n                    if (checkCurrentPositionX == auth_mouseX && checkCurrentPositionY == auth_mouseY) {\r\n                        // removes the last value from array scribblePath\r\n                        scribblePath.pop();\r\n                    } else {\r\n                        // adds a new attribute 'd' (with a namespace null)\r\n                        scribble.setAttributeNS(null, 'd', scribblePath[scribbleCount].d + ' L' + auth_mouseX + ' ' + auth_mouseY);\r\n                        // adds the x an y mouse position with prefix 'L' into the value of key 'd' of array 'scribblePath' with index no containing into variable scribbleCount\r\n                        scribblePath[scribbleCount].d = scribblePath[scribbleCount].d + ' L' + auth_mouseX + ' ' + auth_mouseY;\r\n                        // prepend the element scribble into the container have class drawing_paths\r\n                        drawing_paths.prepend(scribble);\r\n                        // increases the value variable 'scribbleCount' by 1\r\n                        scribbleCount++;\r\n                        // increases the value variable 'undoCount' by 1\r\n                        undoCount++;\r\n                        // makes array undo_list blank\r\n                        undo_list = [];\r\n                        // enables undo and cross (x) buttons\r\n                        AH.select('#authoring_undo').disabled = false;\r\n                        AH.select('#authoring_clearScreen').disabled = false;\r\n                        AH.select('#authoring_redo').disabled = true;\r\n                    }\r\n                }\r\n                isDrawing = false;\r\n                break;\r\n            case 'compass':\r\n                isRadiusIncrease = 0;\r\n                isRadiusRotate = 0;\r\n                if (isCompassMove) {\r\n                    // used to set the x and y co-ordinate of the mouse position\r\n                    setMouseCoordinates(event)\r\n                    // contains x co-ordinate of the mouse\r\n                    cx = auth_mouseX;\r\n                    // contains y co-ordinate of the mouse\r\n                    cy = auth_mouseY;\r\n                    // contains radius of the compass\r\n                    compassRadius = AH.select('.drawing-compass-route').getAttribute('r');\r\n                    // updates the position of rotationbar and change the center position of the circles that lies on rotationbar\r\n                    updateCompassCalculation(cx, cy, compassRadius, compassAngle);\r\n                    // defines the value of the variable 'isCompassMove' to false to indicate that compass is not moved\r\n                    isCompassMove = false;\r\n                }\r\n                if (isDrawing) {\r\n                    if (checkCurrentPositionX == lastCircle_cx && checkCurrentPositionY == lastCircle_cy) {\r\n                        // removes the last element from the array 'scribblePath'\r\n                        scribblePath.pop();\r\n                    } else {\r\n                        // adds a new attribute 'd' (with a namespace null)\r\n                        scribble.setAttributeNS(null, 'd', scribblePath[scribbleCount].d + ' L' + lastCircle_cx + ' ' + lastCircle_cy);\r\n                        // adds the values of center of x and y of last circle on rotationbar with prefix 'L' into the value of key 'd' of array 'scribblePath' with index no containing into variable scribbleCount\r\n                        scribblePath[scribbleCount].d = scribblePath[scribbleCount].d + ' L' + lastCircle_cx + ' ' + lastCircle_cy;\r\n                        // prepend the element scribble into the container have class drawing_paths\r\n                        drawing_paths.prepend(scribble);\r\n                        // increases the value of the variable 'scribbleCount' by 1\r\n                        scribbleCount++;\r\n                        // increases the value of the variable 'undoCount' by 1\r\n                        undoCount++;\r\n                        // makes blank array undo_list \r\n                        undo_list = [];\r\n                        // enables undo and cross (x) button\r\n                        AH.select('#authoring_undo').disabled = false;\r\n                        AH.select('#authoring_clearScreen').disabled = false;\r\n                        AH.select('#authoring_redo').disabled = true;\r\n                    }\r\n                    // assign the value 'false' of the variable 'isDrawing' to indicate that drawing is not sketching\r\n                    isDrawing = false\r\n                }\r\n                // defines the style of the cursor when it goes to last circle of the rotationbar\r\n                AH.selectAll('#authoringSvg .lastCircle', 'css', {'cursor': 'grab'});\r\n                break;\r\n        }\r\n    }\r\n\r\n    // updates the position of rotationbar and change the center position of the circles that lies on rotationbar\r\n    function updateCompassCalculation(cx, cy, compassRadius, compassAngle) {\r\n        // sets the center of x of middle circle lies on compass rotationbar\r\n        midCircle_cx = cx + (compassRadius / 2) * Math.cos(compassAngle * (Math.PI / 180));\r\n        // sets the center of y of middle circle lies on compass rotationbar\r\n        midCircle_cy = cy + (compassRadius / 2) * Math.sin(compassAngle * (Math.PI / 180));\r\n        // sets the center of x of small middle circle lies on compass rotationbar\r\n        midSmallCircle_cx = cx + ((3 * compassRadius) / 4) * Math.cos(compassAngle * (Math.PI / 180));\r\n        // sets the center of y of small middle circle lies on compass rotationbar\r\n        midSmallCircle_cy = cy + ((3 * compassRadius) / 4) * Math.sin(compassAngle * (Math.PI / 180));\r\n        // sets the center of x of last circle lies on compass rotationbar\r\n        lastCircle_cx = cx + (compassRadius) * Math.cos(compassAngle * (Math.PI / 180));\r\n        // sets the center of y of last circle lies on compass rotationbar\r\n        lastCircle_cy = cy + (compassRadius) * Math.sin(compassAngle * (Math.PI / 180));\r\n        // sets the center of x of rotaion indicator shows after last circle of compass rotaionbar\r\n        lastSmallCircle_cx = cx + ((5 * compassRadius) / 4) * Math.cos(compassAngle * (Math.PI / 180));\r\n        // sets the center of y of rotaion indicator shows after last circle of compass rotaionbar\r\n        lastSmallCircle_cy = cy + ((5 * compassRadius) / 4) * Math.sin(compassAngle * (Math.PI / 180));\r\n        // used to set the center co-ordinate of the compass and of its route\r\n        AH.selectAll('.drawing-compass-route, .drawing_compass_center', 'attr', { 'cx': cx, 'cy': cy });\r\n        // sets the radius of the compass route\r\n        AH.select('.drawing-compass-route').setAttribute('r', compassRadius);\r\n        // sets the compass rotation bar's position\r\n        AH.setAttr('#authoringSvg .compass_rotationBar', { 'x1': cx, 'y1': cy, 'x2': lastCircle_cx, 'y2': lastCircle_cy });\r\n        // sets the position of rotaion indicator\r\n        AH.setAttr('#authoringSvg .lastCircleMid', { 'cx': lastSmallCircle_cx, 'cy': lastSmallCircle_cy });\r\n        // sets the center position of the last circle that lies on the compass route\r\n        AH.selectAll('#authoringSvg .lastCircle', 'attr', { 'cx': lastCircle_cx, 'cy': lastCircle_cy });\r\n        // sets the center position of the middle small circle that lies between last and middle circle on the compass rotaionbar\r\n        AH.setAttr('#authoringSvg .midSmallCircle', { 'cx': midSmallCircle_cx, 'cy': midSmallCircle_cy });\r\n        // sets the center position of the middle circle that lies on the compass rotaionbar    \r\n        AH.setAttr('#authoringSvg .mid_circle', { 'cx': midCircle_cx, 'cy': midCircle_cy });\r\n    }\r\n\r\n    // for updating the cdata in the xml\r\n    function setPointDataInXML() {\r\n        cdata = '';\r\n        for (let index = 0; index < selectionArray.length; index++) {\r\n            // For avoiding the null value if found\r\n            if (selectionArray[index].Center_X == null && selectionArray[index].Center_Y == null && selectionArray[index].radius == null) {\r\n                // contains an array returned value from array selectionArray which is not null\r\n                selectionArray = selectionArray.filter(function (element) {\r\n                    return element.Center_X != null;\r\n                });\r\n                continue;\r\n            }\r\n            // adds the value of center co-ordinate x and y and radius of the point at perticular index in the form of object and each point is separated with symbol '!'\r\n            cdata += '{\"x\":\"' + selectionArray[index].Center_X + '\",\"y\":\"' + selectionArray[index].Center_Y + '\",\"r\":\"' + selectionArray[index].radius + '\"}!';\r\n        }\r\n        let resize = AH.selectAll('.resize');\r\n        if (resize.length > 0) {\r\n            for (let index = 0; index < selectionArray.length; index++) {\r\n                AH.setAttr(resize[index], {\r\n                    \"data-point\": (index + 1)\r\n                });\r\n            }\r\n        } else {\r\n            AH.select('#add_point_msg').classList.add('h');\r\n            selectionPoint = 0;\r\n            // removes the first character from string in state array selectedTools at index 0\r\n            authoringMode = state.selectedTools[0].substr(-(state.selectedTools[0].length - 1));\r\n            // sets the cursor style to crosshair (+)\r\n            AH.setCss('#authoringSvg', {'cursor': 'crosshair'});\r\n            if (authoringMode == 'compass') {\r\n                // shows the compass tool\r\n                AH.selectAll('.drawing_compass_svg', 'removeClass', 'h');\r\n            } else {\r\n                // hides the compass element\r\n                AH.selectAll('.drawing_compass_svg', 'addClass', 'h');\r\n            }\r\n            AH.selectAll('.authoring_btn,#authoring_point,#focus_point' ,'removeClass' ,'active');\r\n            AH.selectAll('[data-title=\"' + authoringMode + '\"]' ,'addClass' ,'active');\r\n        }\r\n        // removes the last character that is '!' from variable 'cdata'\r\n        cdata = cdata.substr(0, cdata.length - 1);\r\n        // updates the cdata value that exist inside div element of the xml according to the value of points that were added or removed\r\n        parseXMLForPoint(cdata);\r\n    }\r\n\r\n    // updates the cdata value that exist inside div element of the xml according to the value of points that were added or removed\r\n    function parseXMLForPoint(cdata) {\r\n        // converts the xml value into json and assign it into variable 'defaultXML'\r\n        defaultXML = XMLToJSON(xml);\r\n        // assign the value of argument 'cdata' to sub key 'cdata' of key 'div' of object 'defaultXML'\r\n        defaultXML.smxml.div.__cdata = cdata;\r\n        // converts json of xml into xml again\r\n        defaultXML = JSONToXML(defaultXML);\r\n        // changes the format of cdata\r\n        defaultXML = defaultXML.replace(/<!\\[CDATA\\[/g, '<!--[CDATA[');\r\n        // changes the format of cdata\r\n        defaultXML = defaultXML.replace(/\\]\\]>/g, ']]-->');\r\n        // update the xml\r\n        getChildXml(defaultXML);\r\n        // assign the value of changed xml into state xml\r\n        state.xml = defaultXML;\r\n    }\r\n\r\n    // calculates the angle using initial and final point and find the radius of the compass\r\n    function checkRadiusPointsAndAngle() {\r\n        // denotes the initial x co-ordinate\r\n        initialPoint.x = Number(AH.select('.compass_rotationBar').getAttribute('x1'));\r\n        // denotes the initial y co-ordinate\r\n        initialPoint.y = Number(AH.select('.compass_rotationBar').getAttribute('y1'));\r\n        // denotes the final x co-ordinate\r\n        finalPoint.x = Number(AH.select('.compass_rotationBar').getAttribute('x2'));\r\n        // denotes the final y co-ordinate\r\n        finalPoint.y = Number(AH.select('.compass_rotationBar').getAttribute('y2'));\r\n        // denotes the radius of the compass\r\n        compassRadius = Number(AH.select('.drawing-compass-route').getAttribute('r'));\r\n        // calculates the angle using initial and final point co-ordinate\r\n        compassAngle = Math.atan2(finalPoint.y - initialPoint.y, finalPoint.x - initialPoint.x) * 180 / Math.PI;\r\n    }\r\n\r\n    // parses the point that can be access via keyboard on preview side\r\n    function parseXMLForAccessPoint() {\r\n        if (tempAccessPoints.length > 0) {\r\n            // push the value of tempAccessPoints into array 'accessibilityPoints'\r\n            accessibilityPoints.push(tempAccessPoints);\r\n        }\r\n        // contains json data of xml \r\n        defaultXML = XMLToJSON(xml);\r\n        var focusPointData = '';\r\n        // used to create the array object 'focusPointData' containing the x and y co-ordinates value of points draw on drawing board using 'Add Focus Point' button\r\n        for (let points = 0; points < accessibilityPoints.length; points++) {\r\n            focusPointData += '{\"' + points + '\":[';\r\n            for (let subPoints = 0; subPoints < accessibilityPoints[points].length; subPoints++) {\r\n                focusPointData += '{\"x\":\"' + accessibilityPoints[points][subPoints].x + '\",\"y\":\"' + accessibilityPoints[points][subPoints].y + '\"}!';\r\n            }\r\n            focusPointData = focusPointData.substr(0, focusPointData.length - 1) + ']}!';\r\n        }\r\n        // removes the last character from variable 'focusPointData'\r\n        focusPointData = focusPointData.substr(0, focusPointData.length - 1);\r\n        // updates the cdata value with the value of variable 'focusPointData'\r\n        defaultXML.smxml.backgroundPoint.__cdata = focusPointData;\r\n        // converts json of xml into xml\r\n        defaultXML = JSONToXML(defaultXML);\r\n        // updates the format of CDATA\r\n        defaultXML = defaultXML.replace(/<!\\[CDATA\\[/g, '<!--[CDATA[')\r\n        // updates the format of CDATA\r\n        defaultXML = defaultXML.replace(/\\]\\]>/g, ']]-->');\r\n        // update the xml\r\n        getChildXml(defaultXML);\r\n        // updates the state 'xml'\r\n        state.xml = defaultXML;\r\n        // changed the text of element have id 'focus_point' to 'Add Focus Point' and removes the class active\r\n        AH.select('#focus_point').innerText = \"Add Focus Point\";\r\n        AH.select('#focus_point').classList.remove('active');\r\n        // assign the string to the variable 'authoringMode' after removing the first character from the string at index 0 of state array 'selectedTools'\r\n        authoringMode = state.selectedTools[0].substr(-(state.selectedTools[0].length - 1));\r\n        // change the cursor style as crosshair (+)\r\n        AH.setCss('#authoringSvg', {cursor: 'crosshair'});\r\n        // adds the active class to scribber drawing tools\r\n        AH.select('#authoring' + state.selectedTools[0]).classList.add('active');\r\n        if (authoringMode == 'compass') {\r\n            // shows the compass tool\r\n            AH.selectAll('.drawing_compass_svg', 'removeClass' , 'h');\r\n        } else {\r\n            // hides the compass element\r\n            AH.selectAll('.drawing_compass_svg', 'addClass' , 'h');\r\n        }\r\n        isAccessibleMarking = 1;\r\n        // joins the focus points craeted by using 'Add focus Point' button otherwise return as it was before\r\n        joinFocusPoint(tempAccessPoints);\r\n    }\r\n\r\n    // joins the focus points craeted by using 'Add focus Point' button otherwise return as it was before\r\n    function joinFocusPoint(markArray) {\r\n        if (markArray.length == 0) {\r\n            return;\r\n        }\r\n        // Creates an element with the specified namespace URI and qualified name\r\n        scribble = document.createElementNS(xmlns, 'path');\r\n        // contains the string showing the start point\r\n        let pointStartValues = 'M ' + markArray[0].x + ' ' + markArray[0].y;\r\n        // contains the string showing the end point\r\n        let pointEndValues = '';\r\n        for (let index = 1; index < markArray.length; index++) {\r\n            // adds the value of x anf y from array 'markArray' defined at specific index to variable 'pointEndValues'\r\n            pointEndValues += ' L ' + markArray[index].x + ' ' + markArray[index].y;\r\n        }\r\n        // adds a new attribute (with a namespace)\r\n        scribble.setAttributeNS(null, 'd', pointStartValues + '' + pointEndValues);\r\n        // sets the stroke width and color of the drawing drawn by scribble drawing tool\r\n        setAuthColor('rgb(128, 128, 128)', authThickness);\r\n        // add as very first element inside the 'g' tag of 'svg' used for sketch the drawing\r\n        AH.select('.backgroundFocusPath').prepend(scribble);\r\n        // blanks the value of array 'tempAccessPoints'\r\n        tempAccessPoints = [];\r\n    }\r\n\r\n    // used to set the x and y co-ordinate of the mouse position\r\n    function setMouseCoordinates(event) {\r\n        // contains the size of element having id 'authoringSvg' and its position relative to the viewport\r\n        let boundary = document.getElementById('authoringSvg').getBoundingClientRect();\r\n        // sets the x position of the mouse co-ordinate\r\n        auth_mouseX = event.clientX - boundary.left;\r\n        // sets the y position of the mouse co-ordinate\r\n        auth_mouseY = event.clientY - boundary.top;\r\n    }\r\n\r\n    // sets the stroke width and color of the drawing drawn by scribble drawing tool\r\n    function setAuthColor(authColor, authThickness) {\r\n        // sets the stroke color of the scribble drawing\r\n        scribble.style.stroke = authColor;\r\n        // sets the stroke width of the scribble drawing\r\n        scribble.style.strokeWidth = authThickness;\r\n        scribble.style.fill = 'none';\r\n    }\r\n\r\n    // reset all the activity and makes it in initial condition as it looks like just after load\r\n    function resetModule() {\r\n        // updates the text of element having id 'authoring_point' \r\n        AH.select('#authoring_point').innerText = 'Add Point';\r\n        AH.select('#add_point_msg').classList.add('h');\r\n        // removes circular shape that is added by clicking on 'Add Point' button\r\n        AH.selectAll('.resize', 'remove');\r\n        // removes the activity done using drawing tools\r\n        AH.select('.drawing_paths').innerHTML = '';\r\n        // disabled the undo, redo and delete button\r\n        AH.select('#authoring_redo').disabled = true;\r\n        AH.select('#authoring_undo').disabled = true;\r\n        AH.select('#authoring_clearScreen').disabled = true;\r\n        // sets the cursor style to crosshair (+)\r\n        AH.setCss('#authoringSvg', {'cursor': 'crosshair'});\r\n        // assign the string after removing the first character from the string at index 0 of the state array selectedTools\r\n        authoringMode = state.selectedTools[0].substr(-(state.selectedTools[0].length - 1));\r\n        // this function set the default data\r\n        setDefaultData();\r\n        // removes the active class from the element have class 'authoring_btn' or have id 'authoring_point' or have id 'focus_point'\r\n        AH.selectAll('.authoring_btn,#authoring_point,#focus_point', 'removeClass', 'active');\r\n        // parses the point that can be access via keyboard on preview side\r\n        parseXMLForAccessPoint();\r\n        // blanks the value of cdata exist inside div element of the xml showing that no points added\r\n        // parseXMLForPoint('');\r\n        setTimeout(()=>{parseXMLForPoint('')},1000);\r\n        // clear the undo count\r\n        undoCount = 0;\r\n        // clear the added point\r\n        selectionPoint = 0;\r\n        // clear the scribbleCount\r\n        scribbleCount = 0;\r\n        // clear the paths of scribble\r\n        scribblePath = [];\r\n        // clear the all added points\r\n        selectionArray = [];\r\n        state.openDeleteDialog = false;\r\n    }\r\n\r\n    // this function set the default data\r\n    function setDefaultData() {\r\n        // hides drawing tools\r\n        AH.selectAll('.geometryTool', 'addClass', 'h');\r\n        for (let toolsIndex = 0; toolsIndex < state.selectedTools.length; toolsIndex++) {\r\n            // shows the tools that is enabled from configuration dialog box\r\n            AH.selectAll('#authoring' + state.selectedTools[toolsIndex], 'removeClass', 'h');\r\n        }\r\n        // removes all the points created after clicking on 'Add Focus Point' button \r\n        AH.selectAll('.backgroundFocusPoint circle,.backgroundFocusPath path', 'remove');\r\n        // assign the value of stroke color into variable 'authColor' choosen from configuration dialog box\r\n        authColor = state.lineColor;\r\n        // sets the width of drawing board and container of buttons\r\n        AH.selectAll('.authCenterImg,.auth_drawing_toolbar', 'attr', {'style': 'width:' + (Number(state.imgWidth) + 2) + 'px'});\r\n        // sets the attributes 'src', 'alt', 'width' of the background image\r\n        AH.setAttr('.centerImg #svgImg', { 'src': bgImgPath + '' + state.bgImg, 'alt': state.alt, 'width': state.imgWidth });\r\n        //  hides the compass element\r\n        AH.selectAll('.drawing_compass_svg', 'addClass', 'h');\r\n        // removes all points points created using 'Add Focus Point' button\r\n        accessibilityPoints = [];\r\n        // removes values from array 'tempAccessPoints'\r\n        tempAccessPoints = [];\r\n    }\r\n\r\n    // for changing the data when XML is changed manually \r\n    function parseXMLForGettingData() {\r\n        // contains json data of the xml\r\n        defaultXML = XMLToJSON(xml);\r\n        auth_store.update((item) => {\r\n            // sets the value of state bgImg to the value of key bgimg of json defaultXML\r\n            item.bgImg = defaultXML.smxml._bgimg;\r\n            // sets the value of state alt to the value of key imgAlt of json defaultXML\r\n            item.alt = defaultXML.smxml._imgAlt;\r\n            // sets the value of state imgWidth to the value of key width of json defaultXML\r\n            item.imgWidth = defaultXML.smxml._width;\r\n            // sets the value of state selectedTools to the value of key 'selectedDrawingType' after joining it with commam of json defaultXML\r\n            item.selectedTools = defaultXML.smxml.div._selectedDrawingType.split(',');\r\n            // sets the value of state cDATA to the value of subkey cdata of key div of json defaultXML\r\n            item.cDATA = defaultXML.smxml.div.__cdata;\r\n            // sets the value of state focusDATA to the value of subkey cdata of key backgroundPoint of json defaultXML\r\n            item.focusDATA = defaultXML.smxml.backgroundPoint.__cdata;\r\n            // sets the value of state markPointColor to the value of key markPointColor of json defaultXML\r\n            item.markPointColor = defaultXML.smxml._markPointColor;\r\n            // sets the value of state lineColor to the value of key color of json defaultXML\r\n            item.lineColor = defaultXML.smxml._color;\r\n            return item;\r\n        })\r\n        \r\n        // to handle the errors\r\n        try {\r\n            AH.select('#authoring_point').innerText = 'Add Point';\r\n            // this function set the default data\r\n            setDefaultData();\r\n            // sets the added point value to 0\r\n            selectionPoint = 0;\r\n            // removes all the sketch draw by drawing tools\r\n            AH.select('.drawing_paths').innerHTML = '';\r\n            // disabled the button undo, redo and clear \r\n            AH.select('#authoring_redo').disabled = true;\r\n            AH.select('#authoring_undo').disabled = true;\r\n            AH.select('#authoring_clearScreen').disabled = true;\r\n            // clears the value of variable undoCount\r\n            undoCount = 0;\r\n            // clears the value of variable scribbleCount\r\n            scribbleCount = 0;\r\n            // assign the value 1 to the variable focusPointCount\r\n            focusPointCount = 1;\r\n            // clears the value of array variable scribblePath\r\n            scribblePath = [];\r\n            // assign the value of state cDATA to the variable updatedCDATA\r\n            let updatedCDATA = state.cDATA;\r\n            // replaces the character '!' to ',' and wraps the value into square bracket\r\n            updatedCDATA = '[' + updatedCDATA.replace(/!/g, ',') + ']';\r\n            // parses the string data of variable updatedCDATA into javascript object\r\n            updatedCDATA = JSON.parse(updatedCDATA);\r\n            // removes the point added by clicking on 'Add Point' button\r\n            AH.selectAll('.resize', 'remove');\r\n            // defines the length of the array selectionArray\r\n            let selectionArrayLength = selectionArray.length;\r\n            if (updatedCDATA.length > selectionArrayLength) {\r\n                for (let index = 0; index < (updatedCDATA.length - selectionArrayLength); index++) {\r\n                    // pushes the point into array selectionArray added by clicking on 'Add Point' button with center of x at 90, center of y at 68 and with radius 33\r\n                    selectionArray.push({ Center_X: 90, Center_Y: 68, radius: 33 });\r\n                }\r\n            } else {\r\n                for (let index = updatedCDATA.length; index < selectionArrayLength; index++) {\r\n                    // popes the point from array selectionArray\r\n                    selectionArray.pop();\r\n                }\r\n            }\r\n            for (let index = 0; index < updatedCDATA.length; index++) {\r\n                // increases the value of selectedPoint to indicate that how many points have been added\r\n                selectionPoint++;\r\n                // sets the center of x of the point added at last position of the array selectionArray\r\n                selectionArray[selectionPoint - 1].Center_X = updatedCDATA[index].x;\r\n                // sets the center of y of the point added at last position of the array selectionArray\r\n                selectionArray[selectionPoint - 1].Center_Y = updatedCDATA[index].y;\r\n                // sets the radius of the point added at last position of the array selectionArray\r\n                selectionArray[selectionPoint - 1].radius = updatedCDATA[index].r;\r\n                // adds the point to the drawing board at defined position\r\n                AH.insert('#centerImg', '<div class=\"resize\" data-point=\"' + (selectionPoint) + '\" style=\"z-index: 10; left: ' + (updatedCDATA[index].x - updatedCDATA[index].r) + 'px; top: ' + (updatedCDATA[index].y - updatedCDATA[index].r) + 'px;width: ' + (2 * updatedCDATA[index].r) + 'px; height: ' + (2 * updatedCDATA[index].r) + 'px;\"><div class=\"resizer icomoon-resize\"></div></div>', 'beforeend');\r\n                // updates the marking points xml after to resize or drag the points\r\n                setPointDataInXML();\r\n            }\r\n            // contains the value of state focusDATA\r\n            let updatedFocusCDATA = state.focusDATA;\r\n            // contains the value of variable 'updatedFocusCDATA' after replacing character '!' to ',' and wrapping inside square bracket\r\n            updatedFocusCDATA = '[' + updatedFocusCDATA.replace(/!/g, ',') + ']';\r\n            // contains javascript object after parsing the string assigned into variable 'updatedFocusCDATA'\r\n            updatedFocusCDATA = JSON.parse(updatedFocusCDATA);\r\n            // removes the focus points and lines that joins the focus points\r\n            AH.selectAll('.backgroundFocusPoint circle,.backgroundFocusPath path', \r\n            'remove');\r\n            // makes array 'accessibilityPoints' to empty\r\n            accessibilityPoints = [];\r\n            for (let index = 0; index < updatedFocusCDATA.length; index++) {\r\n                // pushes the object containing array of focus points lies in array updatedFocusCDATA at given index into array accessibilityPoints\r\n                accessibilityPoints.push(updatedFocusCDATA[index][index]);\r\n            }\r\n            for (let index = 0; index < updatedFocusCDATA.length; index++) {\r\n                for (let subPoints = 0; subPoints < updatedFocusCDATA[index][index].length; subPoints++) {\r\n                    // updates the value of key x of multi dimention array object 'accessibilityPoints' where row and column values are value of variable 'index' and 'subPoints' with the value of key x of multi dimention array object updatedFocusCDATA where row and column values are the value of variables 'index' and 'subPoints'\r\n                    accessibilityPoints[index][subPoints].x = updatedFocusCDATA[index][index][subPoints].x;\r\n                    // updates the value of key y of multi dimention array object 'accessibilityPoints' where row and column values are value of variable 'index' and 'subPoints' with the value of key y of multi dimention array object updatedFocusCDATA where row and column values are the value of variables 'index' and 'subPoints'\r\n                    accessibilityPoints[index][subPoints].y = updatedFocusCDATA[index][index][subPoints].y;\r\n                    // Creates an element with the specified namespace URI and qualified name.\r\n                    scribble = document.createElementNS(xmlns, 'circle');\r\n                    // sets the stroke width and color of the drawing drawn by scribble drawing tool\r\n                    setAuthColor('#808080', authThickness);\r\n                    // adds a new attribute 'id' (with a namespace null)\r\n                    scribble.setAttributeNS(null, 'id', 'focusPoint' + focusPointCount);\r\n                    // adds a new attribute 'cx' (with a namespace null)\r\n                    scribble.setAttributeNS(null, 'cx', accessibilityPoints[index][subPoints].x);\r\n                    // adds a new attribute 'cy' (with a namespace null)\r\n                    scribble.setAttributeNS(null, 'cy', accessibilityPoints[index][subPoints].y);\r\n                    // adds a new attribute 'r' (with a namespace null)\r\n                    scribble.setAttributeNS(null, 'r', '2px');\r\n                    // place the scribble element before very first element inside the element have class 'backgroundFocusPoint'\r\n                    AH.select('.backgroundFocusPoint').prepend(scribble);\r\n                    // increases the value of variable 'focusPointCount' by 1\r\n                    focusPointCount++;\r\n                }\r\n                // joins the focus points craeted by using 'Add focus Point' button\r\n                joinFocusPoint(accessibilityPoints[index]);\r\n            }\r\n\r\n            if (selectionPoint == 0) {\r\n                AH.select('#add_point_msg').classList.add('h');\r\n            } else {\r\n                AH.select('#add_point_msg').classList.remove('h');\r\n            }\r\n\r\n            if (AH.selectAll('.resize').length > 0) {\r\n                // sets the value of variable 'authoringMode' to 'authoring_point'\r\n                authoringMode = 'authoring_point';\r\n                // sets the cursor style value as auto\r\n                AH.setCss('#authoringSvg', {'cursor': 'auto'});\r\n            } else {\r\n                // removes the first character from string in state array selectedTools at index 0\r\n                authoringMode = state.selectedTools[0].substr(-(state.selectedTools[0].length - 1));\r\n                // sets the cursor style to crosshair (+)\r\n                AH.setCss('#authoringSvg', {'cursor': 'crosshair'});\r\n                if (authoringMode == 'compass') {\r\n                    // shows the compass tool\r\n                    AH.selectAll('.drawing_compass_svg', 'removeClass', 'h');\r\n                } else {\r\n                    // hides the compass element\r\n                    AH.selectAll('.drawing_compass_svg', 'addClass', 'h');\r\n                }\r\n            }\r\n\r\n            AH.selectAll('.authoring_btn,#authoring_point,#focus_point' ,'removeClass' ,'active');\r\n            AH.selectAll('[data-title=\"' + authoringMode + '\"]' ,'addClass' ,'active');\r\n        } catch (e) {\r\n            console.warn({ e, func: 'parseXMLForGettingData'});\r\n        }\r\n    }\r\n\r\n    // used to update the xml value according to the updation made in configuration modal box\r\n    function parseXMLForSettingData(XML) {\r\n        // contains json of xml data\r\n        defaultXML = XMLToJSON(XML);\r\n        // stores the value of background image into json of xml having key bgimg\r\n        defaultXML.smxml._bgimg = state.bgImg;\r\n        // stores the value of alt message of background image into json of xml having key imgAlt\r\n        defaultXML.smxml._imgAlt = state.alt;\r\n        // stores the value of the width of background image into json of xml having key width\r\n        defaultXML.smxml._width = state.imgWidth;\r\n        // stores the value of stroke color of drawing into json of xml having key color\r\n        defaultXML.smxml._color = state.lineColor;\r\n        // stores the value of point color of drawing into json of xml having key markPointColor\r\n        defaultXML.smxml._markPointColor = state.markPointColor;\r\n        // store the values of drawing tools after joining it using comma that can be used to draw the drawing into json of xml having key selectedDrawingType\r\n        defaultXML.smxml.div._selectedDrawingType = selectedToolsArray.join(',');\r\n        // blanks the value of key CDATA inside the key div of json xml to clean the drawing board \r\n        defaultXML.smxml.div.__cdata = '';\r\n        // blanks the value of key CDATA inside the key backgroundPoint of json xml to clean the drawing board \r\n        defaultXML.smxml.backgroundPoint.__cdata = '';\r\n        // converts json of the xml into xml\r\n        defaultXML = JSONToXML(defaultXML);\r\n        // changed the format of CDATA\r\n        defaultXML = defaultXML.replace('<![CDATA[]]>', '<!--[CDATA[]]-->');\r\n        // updates the xml\r\n        getChildXml(defaultXML);\r\n        // sets the value of state 'xml'\r\n        state.xml = defaultXML;\r\n    }\r\n\r\n    // used to set the UI of the buttons and sketch or remove the drawing and adds focus point to access via keyboard\r\n    function authoringMousedownDraw(event) {\r\n        switch (authoringMode) {\r\n            case 'line':\r\n            case 'scribble':\r\n                isDrawing = true;\r\n                // used to set the x and y co-ordinate of the mouse position\r\n                setMouseCoordinates(event);\r\n                // Creates an element with the specified namespace URI and qualified name.\r\n                scribble = document.createElementNS(xmlns, 'path');\r\n                // sets the stroke width and color of the drawing drawn by scribble drawing tool\r\n                setAuthColor(authColor, authThickness);\r\n                // adds a new attribute 'data-type' (with a namespace null)\r\n                scribble.setAttributeNS(null, 'data-type', authoringMode + '_' + scribbleCount);\r\n                // adds a new attribute 'data-order' (with a namespace null)\r\n                scribble.setAttributeNS(null, 'data-order', scribbleCount);\r\n                // adds a new attribute 'd' (with a namespace null)\r\n                scribble.setAttributeNS(null, 'd', 'M' + auth_mouseX + ' ' + auth_mouseY);\r\n                // contains the x position of the mouse co-ordinate\r\n                checkCurrentPositionX = auth_mouseX;\r\n                // contains the x position of the mouse co-ordinate\r\n                checkCurrentPositionY = auth_mouseY;\r\n                // pushes the object containing keys mode, order, type, index and d \r\n                scribblePath.push({\r\n                    mode: 'add',\r\n                    order: scribbleCount,\r\n                    type: authoringMode + '_' + scribbleCount,\r\n                    index: scribbleCount,\r\n                    d: 'M' + auth_mouseX + ' ' + auth_mouseY\r\n                });\r\n                break;\r\n            case 'eraser':\r\n                if (AH.select('.currentSvg').nodeName && AH.select('.currentSvg').getAttribute(\"data-order\") != undefined) {\r\n                    // makes empty undo_list array\r\n                    undo_list = [];\r\n                    // defines variable 'tempArrayContainer'\r\n                    let tempArrayContainer = '';\r\n                    // contains the Index of the value at index returned by the 'data-order' attribute of the element has class 'currentSvg' in scribblePath array \r\n                    let currentIndex = scribblePath.indexOf(scribblePath[AH.select('.currentSvg').getAttribute(\"data-order\")]);\r\n                    // copies all enumerable own properties from objects defined into scribblePath array at given index to a target object\r\n                    tempArrayContainer = Object.assign({}, scribblePath[currentIndex]);\r\n                    // defines the value of key 'mode' to remove of tempArrayContainer object\r\n                    tempArrayContainer.mode = \"remove\";\r\n                    // pushes the object 'tempArrayContainer' into scribblePath array\r\n                    scribblePath.push(tempArrayContainer);\r\n                    // increases the value of variable 'scribbleCount' by 1\r\n                    scribbleCount++;\r\n                    // increases the value of variable 'undoCount' by 1\r\n                    undoCount++;\r\n                    // disabled the redo button\r\n                    AH.select('#authoring_redo').disabled = true;\r\n                    // removes the element have class 'currentSvg'\r\n                    AH.selectAll('.currentSvg', 'remove');\r\n                    if (AH.selectAll('.drawing_paths path').length == 0) {\r\n                        // disabled the cross (x) button\r\n                        AH.select('#authoring_clearScreen').disabled = true;\r\n                    }\r\n                }\r\n                break;\r\n            case 'markAccessibilityPoint':\r\n                if (!isAccessibleMarking) {\r\n                    // used to set the x and y co-ordinate of the mouse position\r\n                    setMouseCoordinates(event);\r\n                    // Creates an element with the specified namespace URI and qualified name.\r\n                    scribble = document.createElementNS(xmlns, 'circle');\r\n                    // sets the stroke width and color of the drawing drawn by scribble drawing tool\r\n                    setAuthColor('#808080', authThickness);\r\n                    // adds a new attribute 'id' (with a namespace null)\r\n                    scribble.setAttributeNS(null, 'id', 'focusPoint' + focusPointCount);\r\n                    // adds a new attribute 'cx' (with a namespace null)\r\n                    scribble.setAttributeNS(null, 'cx', auth_mouseX);\r\n                    // adds a new attribute 'cy' (with a namespace null)\r\n                    scribble.setAttributeNS(null, 'cy', auth_mouseY);\r\n                    // adds a new attribute 'r' (with a namespace null)\r\n                    scribble.setAttributeNS(null, 'r', '2px');\r\n                    // pushes the mouse x and y position into array 'tempAccessPoints' into json format\r\n                    tempAccessPoints.push({\r\n                        x: auth_mouseX,\r\n                        y: auth_mouseY\r\n                    });\r\n                    // increases the value of the variable 'focusPointCount' by 1\r\n                    focusPointCount++;\r\n                    // prepend the element scribble into the element have class 'backgroundFocusPoint'\r\n                    AH.select('.backgroundFocusPoint').prepend(scribble);\r\n                }\r\n                break;\r\n        }\r\n    }\r\n\r\n    // function for opening the drawing modal and changing the modal values\r\n    function openModal() {\r\n        AH.getBS('#drawing-modal', 'Modal').show();\r\n        AH.select('#backgroundImage').value = state.bgImg;\r\n        if (state.lineColor != '') {\r\n            // used to show the by default selected particular color from drawing color dropdown\r\n            AH.select('#lineColor option[value=\"' + state.lineColor + '\"]').selected = true;\r\n        }\r\n        if (state.markPointColor != '') {\r\n            // used to show the by default selected particular color from point color dropdown\r\n            AH.select('#markPointColor option[value=\"' + state.markPointColor + '\"]').selected = true;\r\n        }\r\n        if (state.selectedTools.length > 0) {\r\n            // uncheck the all drawing tools checkbox\r\n            AH.selectAll('.toolCheckbox', 'checked', false)\r\n            for (var toolsIndex = 0; toolsIndex < state.selectedTools.length; toolsIndex++) {\r\n                // check that drawing tool checkbox which value exist in state array 'selectedTools'\r\n                AH.select('[value=\"' + state.selectedTools[toolsIndex] + '\"]').checked = true;\r\n            }\r\n        }\r\n        AH.select('#imgWidth').value = state.imgWidth;\r\n        AH.select('#imgAlt').value = state.alt;\r\n\r\n        let inputs = AH.selectAll('.authoring-modal input');\r\n        AH.selectAll('.error', 'remove');\r\n        for (let index = 0; index < inputs.length; index++) {\r\n            validateInput(inputs[index]);\r\n        }\r\n    }\r\n</script>\r\n\r\n<main>\r\n    <div class=\"drawing_module_container\">\r\n        <center>\r\n            <div class=\"mt-2 mb-2\">\r\n                <div class=\"btn-toolbar auth_drawing_toolbar\" role=\"toolbar\" aria-label={l.drawing_tools}>\r\n                    <div tabindex=\"0\" class=\"btn-group mr-2\" role=\"group\" aria-label={l.draw_tools}>\r\n                        <button type=\"button\" tabindex=\"0\" data-title=\"scribble\" title={l.scribble} name=\"authoring_scribble\" id=\"authoring_scribble\" class=\"btn btn-light auth_toolbar geometryTool tooltip_btn authoring_btn active\"><i class=\"icomoon-pencil\"></i></button>\r\n                        <button type=\"button\" tabindex=\"0\" data-title=\"line\" title={l.line} name=\"authoring_line\" id=\"authoring_line\" class=\"btn btn-light auth_toolbar geometryTool tooltip_btn authoring_btn\">/</button>\r\n                        <button type=\"button\" tabindex=\"0\" data-title=\"compass\" title={l.compass} name=\"compass\" id=\"authoring_compass\" class=\"btn btn-light auth_toolbar geometryTool tooltip_btn authoring_btn\"><i class=\"icomoon-compass1\"></i></button>\r\n                    </div>\r\n                    <div tabindex=\"0\" class=\"btn-group mr-2\" role=\"group\" aria-label={l.removing_tools}>\r\n                        <button type=\"button\" tabindex=\"0\" data-title=\"eraser\" title={l.delete_tool} name=\"eraser\" id=\"authoring_eraser\" class=\"btn btn-light auth_toolbar authoring_btn tooltip_btn\"><i class=\"icomoon-delete-sm\"></i></button>\r\n                        <button type=\"button\" title={l.clear_screen} tabindex=\"0\"  name=\"clearScreen\" id=\"authoring_clearScreen\" disabled=\"disabled\" class=\"btn btn-light tooltip_btn\"><i class=\"icomoon-close-2\"></i></button>\r\n                        <button type=\"button\" tabindex=\"0\" title={l.redo} name=\"redo\" id=\"authoring_redo\" disabled=\"disabled\" class=\"btn btn-light tooltip_btn\"><i class=\"icomoon-redo-2\"></i></button>\r\n                        <button type=\"button\" tabindex=\"0\" title={l.undo} name=\"undo\" id=\"authoring_undo\" disabled=\"disabled\" class=\"btn btn-light tooltip_btn\"><i class=\"icomoon-undo-2\"></i></button>\r\n                    </div>\r\n                    <div class=\"btn-group mr-2\" role=\"group\" aria-label={l.answer_point}>\r\n                        <button type=\"button\" tabindex=\"0\" data-title=\"authoring_point\" title={l.add_show_point} name=\"authoring_point\" id=\"authoring_point\" class=\"btn btn-light tooltip_btn\">{l.add_point}</button>\r\n                    </div>\r\n                    <div class=\"btn-group mr-2\" role=\"group\" aria-label={l.access_mode}>\r\n                        <button type=\"button\" tabindex=\"0\" title={l.add_finish_point} name=\"focus_point\" id=\"focus_point\" class=\"btn btn-light tooltip_btn\">{l.add_focus_pnt}</button>\r\n                    </div>\r\n                    <div class=\"btn-group mr-2\" role=\"group\" aria-label={l.def_mode}>\r\n                        <button type=\"button\" tabindex=\"0\" title={l.reset} name=\"default_button\" id=\"reset_btn\" class=\"btn btn-light tooltip_btn\"><i class=\"icomoon-new-24px-reset-1\"></i></button>\r\n                    </div>\r\n                </div>\r\n                <div id=\"add_point_msg\" class=\"text-danger my-1\">{l.delete_point_msg}</div>\r\n            </div>\r\n            <div>\r\n                <div id=\"centerImg\" class=\"centerImg authCenterImg my-auto relative ml-0\">\r\n                    <div class=\"btn-group position-absolute setting_btn\">\r\n                        <button type=\"button\" tabindex=\"0\" title=\"Configuration\" on:click={openModal} class=\"btn tooltip_btn btn-light p-1\" >\r\n                            <i class=\"icomoon-24px-settings-1\"></i>\r\n                        </button>\r\n                    </div>\r\n                    <img class=\"border\" src={bgImgPath + state.bgImg} id=\"svgImg\" alt={state.alt}/>\r\n                    <svg width=\"100%\" height=\"100%\" id=\"authoringSvg\" tabindex=\"0\" aria-labelledby=\"authoringSvgTitle\">\r\n                        <title id=\"authoringSvgTitle\">{state.alt}</title>\r\n                        <g class=\"backgroundFocusPath\"></g>\r\n                        <g class=\"drawing_paths\"></g>\r\n                        <g class=\"backgroundFocusPoint\"></g>\r\n                        <svg class=\"drawing_compass_svg h\" focusable=\"false\">\r\n                            <svg class=\"drawing-compass-wrapper\">\r\n                                <g>\r\n                                    <circle class=\"drawing-compass-route compass_route\" cx=\"267.984375\" cy=\"173\" r=\"80\"></circle>\r\n                                    <g>\r\n                                        <line class=\"compass_rotationBar compass_radius\" x1=\"267.984375\" y1=\"173\" x2=\"267.984375\" y2=\"253\"></line>\r\n                                    </g>\r\n                                    <g>\r\n                                        <circle class=\"drawing_compass_center compass_center\" cx=\"267.984375\" cy=\"173\" r=\"17\" focusable=\"true\" fill=\"url(#drawingCenter)\"></circle>\r\n                                        <defs>\r\n                                            <pattern id=\"drawingCenter\" width=\"20\" height=\"20\">\r\n                                                <svg x=\"0px\" y=\"0px\" viewBox=\"1 -3 21 35\" width=\"33\" height=\"41\">\r\n                                                    <path fill=\"#808080\" class=\"st0\" d=\"M3.22,15.1L1,12l2.22-3.1C3.22,10.97,3.22,13.03,3.22,15.1z\" />\r\n                                                    <path fill=\"#808080\" class=\"st0\" d=\"M8.9,3.22L12,1l3.1,2.22C13.03,3.22,10.97,3.22,8.9,3.22z\" />\r\n                                                    <path fill=\"#808080\" class=\"st0\" d=\"M15.1,20.78L12,23l-3.1-2.22C10.97,20.78,13.03,20.78,15.1,20.78z\" />\r\n                                                    <path fill=\"#808080\" class=\"st0\" d=\"M20.78,8.9L23,12l-2.22,3.1C20.78,13.03,20.78,10.97,20.78,8.9z\" />\r\n                                                    <circle cx=\"12\" cy=\"12\" r=\"2\" fill=\"#333333\" />\r\n                                                </svg>\r\n                                            </pattern>\r\n                                        </defs>\r\n                                    </g>\r\n                                    <g>\r\n                                        <circle class=\"compass_radius_icon mid_circle\" cx=\"267.984375\" cy=\"213\" r=\"17\" fill=\"url(#drawingRadius)\" transform=\"rotate(90,160,168)\" focusable=\"true\"></circle>\r\n                                        <defs>\r\n                                            <pattern id=\"drawingRadius\" width=\"20\" height=\"20\">\r\n                                                <svg x=\"0px\" y=\"0px\" viewBox=\"1 -5 21 34\" width=\"33\" height=\"33\">\r\n                                                    <g>\r\n                                                        <g>\r\n                                                            <rect x=\"8.53\" y=\"1.11\" width=\"1.5\" height=\"21.79\" />\r\n                                                        </g>\r\n                                                        <g>\r\n                                                            <rect x=\"13.97\" y=\"1.11\" width=\"1.5\" height=\"21.79\" />\r\n                                                        </g>\r\n                                                    </g>\r\n                                                    <g>\r\n                                                        <g>\r\n                                                            <path d=\"M5.87,16.87L1,12l4.87-4.87C5.87,10.38,5.87,13.62,5.87,16.87z\" />\r\n                                                        </g>\r\n                                                        <g>\r\n                                                            <path d=\"M18.13,16.87L23,12l-4.87-4.87C18.13,10.38,18.13,13.62,18.13,16.87z\" />\r\n                                                        </g>\r\n                                                    </g>\r\n                                                </svg>\r\n                                            </pattern>\r\n                                        </defs>\r\n                                    </g>\r\n                                    <g>\r\n                                        <circle class=\"compass_rotation midSmallCircle\" cx=\"267.984375\" cy=\"233\" r=\"8\" fill=\"url(#midSmallCircle_icon)\" focusable=\"true\" transform=\"rotate(90,160,193)\"></circle>\r\n                                        <defs>\r\n                                            <pattern id=\"midSmallCircle_icon\" width=\"20\" height=\"20\">\r\n                                                <svg width=\"16px\" height=\"16px\" viewBox=\"0 0 14 14\" version=\"1.1\">\r\n                                                    <path fill=\"#000\" opacity=\"0.8\" d=\"M7,14 C3.13400675,14 0,10.8659932 0,7 C0,3.13400675 3.13400675,0 7, 0 C10.8659932,0 14,3.13400675 14,7 C14,10.8659932 10.8659932,14 7, 14 Z M4.66666667,8.16666667 L7,11.6666667 L9.33333333,8.16666667 L4.66666667,8.16666667 Z M4.66666667,5.83333333 L9.33333333,5.83333333 L7,2.33333333 L4.66666667,5.83333333 Z\"></path>\r\n                                                </svg>\r\n                                            </pattern>\r\n                                        </defs>\r\n                                    </g>\r\n                                    <g >\r\n                                        <circle class=\"drawing-compass-pointer lastCircle\" cx=\"267.984375\" cy=\"253\" r=\"3\" fill={state.lineColor} ></circle>\r\n                                        <circle class=\"drawing-compass-pointer-border lastCircle last_big_circle\" cx=\"267.984375\" cy=\"253\" r=\"17\" focusable=\"true\"></circle>\r\n                                    </g>\r\n                                    <g>\r\n                                        <circle class=\"lastCircleMid\" fill=\"url(#lastCircleMid_icon)\" cx=\"267.984375\" cy=\"293\" r=\"12\" opacity=\"0\"></circle>\r\n                                        <defs>\r\n                                            <pattern id=\"lastCircleMid_icon\" width=\"20\" height=\"20\">\r\n                                                <svg width=\"24\" height=\"23\" viewBox=\"0 0 11 27\" version=\"1.1\" enableBackground=\"new 0 0 8 24\">\r\n                                                    <g stroke=\"none\" strokeWidth=\"1\" fill=\"none\" fillRule=\"evenodd\" opacity=\"0.5\">\r\n                                                        <g transform=\"translate(-516.000000, -445.000000)\" fill=\"#333333\" fillRule=\"nonzero\">\r\n                                                            <g transform=\"translate(207.000000, 318.000000)\">\r\n                                                                <g transform=\"translate(313.742737, 140.576561) rotate(-2.000000) translate(-313.742737, -140.576561) translate(308.242737, 127.076561)\">\r\n                                                                    <path d=\"M3.76491276,22.4309727 C5.88207272,19.902578 7.10843487, 16.447736 7.10843487,12.7446281 C7.10843487,9.90533039 6.38974128, 7.20188959 5.07542401,4.93464319 L1.71316547,5.67221801 L4.9100909, 0.48305188 L10.1719173,3.81663137 L7.11351005,4.48755064 C8.4088902, 6.93966677 9.10843487,9.78181395 9.10843487,12.7446281 C9.10843487, 16.6677555 7.87827881,20.3638018 5.71250857,23.1972812 L8.63385425, 24.3467251 L2.93165771,26.8255625 L0.595287046,21.1838396 L3.76491276, 22.4309727 Z\" class=\"\"></path>\r\n                                                                </g>\r\n                                                            </g>\r\n                                                        </g>\r\n                                                    </g>\r\n                                                </svg>\r\n                                            </pattern>\r\n                                        </defs>\r\n                                    </g>\r\n                                </g>\r\n                            </svg>\r\n                        </svg>\r\n                    </svg>\r\n                </div>\r\n            </div>\r\n        </center>\r\n        <DrawingModal l={l} />\r\n    </div>\r\n    <Dialog\r\n\t\tbind:visible={state.openDeleteDialog}\r\n\t\tstyle={'width:500px;background-color:#FFF;'}\r\n\t>\r\n\t\t<div>\r\n\t\t\t<div class=\"row\">\r\n\t\t\t\t<span class=\"col-md-12\" style={'margin-top:40px;margin-bottom:40px;text-align:center;'}>{l.del_confirmation}</span>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t\t<div slot=\"footer\" class=\"svelteFooter\" style={'width:100%;text-align:center;'}>\t\r\n\t\t\t<input type=\"button\" variant=\"contained\" on:click={() => {state.openDeleteDialog = false}} class=\"btn btn-light colorgray\" value=\"Cancel\" />\r\n            <Button variant=\"contained\" on:click={resetModule}\r\n\t\t\t\tclass=\"bg-primary text-white\"> Yes </Button>\r\n\t\t</div>\r\n    </Dialog>\r\n</main>"],"names":["ctx","configuration","background_image","upload_media_text","alt_txt_image","width_of_image","draw_color","red","green","light_blue","blue","markPointColor","lightGreen","black","orange","tools","scribble","line","compass","cancel","submit","insert","append","l","del_confirmation","add_point","add_focus_pnt","alt","openDeleteDialog","delete_point_msg","draw_tools","delete_tool","clear_screen","redo","undo","removing_tools","add_show_point","answer_point","add_finish_point","access_mode","reset","def_mode","drawing_tools","bgImgPath","bgImg","lineColor","xmlns","auth_mouseX","auth_mouseY","drawing_paths","checkCurrentPositionX","checkCurrentPositionY","cx","cy","midCircle_cx","midCircle_cy","midSmallCircle_cx","midSmallCircle_cy","lastCircle_cx","lastCircle_cy","lastSmallCircle_cx","lastSmallCircle_cy","compassRadius","xml","getChildXml","isDrawing","authoringMode","authColor","scribblePath","scribbleCount","undoCount","undo_list","redo_list","isValid","isCompassMove","compassAngle","isRadiusIncrease","initialPoint","x","y","finalPoint","isRadiusRotate","defaultXML","selectionPoint","selectionArray","cdata","selectedToolsArray","isAccessibleMarking","accessibilityPoints","tempAccessPoints","focusPointCount","auth_store","writable","snackback","cDATA","focusDATA","imgWidth","message","selectedTools","state","subscribe","value","validateInput","current","num","trim","AH","parentElement","fill_warning","classList","contains","Number","val_gt_limit","isNaN","parseFloat","isFinite","selectAll","length","closest","select_one_tool","enter_number","select","remove","setCss","border","background","add","authoringMouseLeave","event","setMouseCoordinates","pop","setAttributeNS","d","prepend","disabled","getAttribute","updateCompassCalculation","cursor","Math","cos","PI","sin","setAttribute","setAttr","x1","y1","x2","y2","setPointDataInXML","index","Center_X","Center_Y","radius","filter","element","resize","data-point","substr","parseXMLForPoint","XMLToJSON","smxml","div","__cdata","JSONToXML","replace","checkRadiusPointsAndAngle","atan2","parseXMLForAccessPoint","push","focusPointData","points","subPoints","backgroundPoint","innerText","joinFocusPoint","markArray","document","createElementNS","pointStartValues","pointEndValues","setAuthColor","boundary","getElementById","getBoundingClientRect","clientX","left","clientY","top","authThickness","style","stroke","strokeWidth","fill","resetModule","innerHTML","setDefaultData","setTimeout","toolsIndex","src","width","afterUpdate","update","item","_bgimg","_imgAlt","_width","_selectedDrawingType","split","_markPointColor","_color","updatedCDATA","JSON","parse","selectionArrayLength","r","updatedFocusCDATA","e","console","warn","func","parseXMLForGettingData","onMount","listen","transform","opacity","mode","order","type","nodeName","undefined","tempArrayContainer","currentIndex","indexOf","Object","assign","authoringMousedownDraw","offsetHeight","round","sqrt","pow","bind","selectAction","AI","preventDefault","swal","text","delete_points","icon","buttons","then","btnIndex","stopPropagation","checkboxes","join","getBS","hide","show","Draggable","containment","classes","ignore","onDragStop","position","ui","pointIndex","height","offsetWidth","h","CenterX","CenterY","Resizable","onStop","resolution","offsetLeft","offsetTop","selected","checked","inputs"],"mappings":"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"}