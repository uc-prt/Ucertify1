import{S as e,i as t,s as n,F as l,e as o,j as a,q as i,h as s,o as r,c,b as d,m,t as p,a as u,d as g,f,D as x,g as b,k as h,n as _,p as v,A as w,E as y,C as k,w as $,X as N,R as L,l as A,y as C,r as T,u as I}from"./main-464952be.js";import{I as M}from"./ItemHelper-9b9be701.js";import{G as F}from"./GriddedHelper-1b5587fb.js";const{document:E}=l;function P(e,t,n){const l=e.slice();return l[44]=t[n],l[46]=n,l}function z(e,t,n){const l=e.slice();return l[41]=t[n],l[43]=n,l}function H(e,t,n){const l=e.slice();return l[44]=t[n],l[46]=n,l}function S(e){let t,n,l,i,c,m,p,u,g,x,b,h,_,v;return{c(){t=o("input"),p=d(),u=o("span"),g=o("span"),b=d(),f(t,"type","text"),f(t,"id",n=e[44].id),f(t,"data-tag",l=e[44].dataTag),f(t,"name",i=e[44].name),f(t,"style",c="width:50px;text-align:center;"),t.value=m=void 0===e[1][e[46]]?" ":e[1][e[46]],f(t,"class","tdFont"),f(g,"id",x=e[44].spanid),f(g,"class","answer_icon"),f(u,"class",h=e[2].iconVisible+" relative")},m(n,l){s(n,t,l),s(n,p,l),s(n,u,l),a(u,g),a(u,b),_||(v=[A(t,"change",e[12]),A(t,"input",K)],_=!0)},p(e,o){8&o[0]&&n!==(n=e[44].id)&&f(t,"id",n),8&o[0]&&l!==(l=e[44].dataTag)&&f(t,"data-tag",l),8&o[0]&&i!==(i=e[44].name)&&f(t,"name",i),2&o[0]&&m!==(m=void 0===e[1][e[46]]?" ":e[1][e[46]])&&t.value!==m&&(t.value=m),8&o[0]&&x!==(x=e[44].spanid)&&f(g,"id",x),4&o[0]&&h!==(h=e[2].iconVisible+" relative")&&f(u,"class",h)},d(e){e&&r(t),e&&r(p),e&&r(u),_=!1,C(v)}}}function B(e){let t,n;return{c(){t=o("input"),f(t,"type","text"),f(t,"style",n="width:50px;text-align:center;"),t.value=".",t.disabled="true",f(t,"class","tdFont")},m(e,n){s(e,t,n)},p:T,d(e){e&&r(t)}}}function R(e){let t;function n(e,t){return 1==e[44].decpoint?B:S}let l=n(e),o=l(e);return{c(){o.c(),t=i()},m(e,n){o.m(e,n),s(e,t,n)},p(e,a){l===(l=n(e))&&o?o.p(e,a):(o.d(1),o=l(e),o&&(o.c(),o.m(t.parentNode,t)))},d(e){o.d(e),e&&r(t)}}}function j(e){let t,n,l,o;return t=new F({props:{loop:e[8],class1:"tdFont plus_tab",className:"tdFontP plus_tab items_element",tableId:"plus_minus_tab",tableClass:"plus_minus_tab gridded_tab mt-0 myP",value:"+"}}),t.$on("handleClickCombo",e[11]),l=new F({props:{loop:e[9],class1:"tdFont plus_tab",className:"tdFontP plus_tab items_element minus_point",tableId:"plus_minus_tab",tableClass:"plus_minus_tab gridded_tab mt-0 myP",value:"-"}}),l.$on("handleClickCombo",e[11]),{c(){c(t.$$.fragment),n=d(),c(l.$$.fragment)},m(e,a){m(t,e,a),s(e,n,a),m(l,e,a),o=!0},p(e,n){const o={};256&n[0]&&(o.loop=e[8]),t.$set(o);const a={};512&n[0]&&(a.loop=e[9]),l.$set(a)},i(e){o||(p(t.$$.fragment,e),p(l.$$.fragment,e),o=!0)},o(e){u(t.$$.fragment,e),u(l.$$.fragment,e),o=!1},d(e){g(t,e),e&&r(n),g(l,e)}}}function G(e){let t,n;return t=new F({props:{loop:e[7],class1:"tdFont points",className:"tdFontP text-center items_element decl_point",tableId:"slash_tab",tableClass:"slash_tab gridded_tab mt-0 mb-0 myP",value:"."}}),t.$on("handleClickCombo",e[11]),{c(){c(t.$$.fragment)},m(e,l){m(t,e,l),n=!0},p(e,n){const l={};128&n[0]&&(l.loop=e[7]),t.$set(l)},i(e){n||(p(t.$$.fragment,e),n=!0)},o(e){u(t.$$.fragment,e),n=!1},d(e){g(t,e)}}}function V(e){let t,n;return t=new F({props:{loop:e[6],class1:"tdFont points",className:"tdFontP text-center items_element sla_point",tableId:"tdFontP slash_tab",tableClass:"slash_tab gridded_tab mt-0",value:"/"}}),t.$on("handleClickCombo",e[11]),{c(){c(t.$$.fragment)},m(e,l){m(t,e,l),n=!0},p(e,n){const l={};64&n[0]&&(l.loop=e[6]),t.$set(l)},i(e){n||(p(t.$$.fragment,e),n=!0)},o(e){u(t.$$.fragment,e),n=!1},d(e){g(t,e)}}}function q(e){let t,n,l,i,c,d,m,p,u,g,x=+e[43]+"";return{c(){t=o("td"),n=o("span"),l=I(x),f(n,"tabindex",i=e[44].tabIndex),f(n,"key",c=e[44].key),f(n,"name",d=e[44].name),f(n,"data-tag",m=e[44].dataTag),f(n,"class","tdFontP text-center td_data algn items_element"),f(n,"id",p=e[44].id),f(t,"width","50"),f(t,"class","text-center")},m(o,i){s(o,t,i),a(t,n),a(n,l),u||(g=A(n,"click",e[10]),u=!0)},p(e,t){32&t[0]&&i!==(i=e[44].tabIndex)&&f(n,"tabindex",i),32&t[0]&&c!==(c=e[44].key)&&f(n,"key",c),32&t[0]&&d!==(d=e[44].name)&&f(n,"name",d),32&t[0]&&m!==(m=e[44].dataTag)&&f(n,"data-tag",m),32&t[0]&&p!==(p=e[44].id)&&f(n,"id",p)},d(e){e&&r(t),u=!1,g()}}}function D(e){let t,n;return{c(){t=o("td"),f(t,"key",n=e[44].key),f(t,"class","tdFont text-center"),f(t,"width","50"),f(t,"disabled","true")},m(e,n){s(e,t,n)},p(e,l){32&l[0]&&n!==(n=e[44].key)&&f(t,"key",n)},d(e){e&&r(t)}}}function X(e){let t;function n(e,t){return e[44].decpoint?D:q}let l=n(e),o=l(e);return{c(){o.c(),t=i()},m(e,n){o.m(e,n),s(e,t,n)},p(e,a){l===(l=n(e))&&o?o.p(e,a):(o.d(1),o=l(e),o&&(o.c(),o.m(t.parentNode,t)))},d(e){o.d(e),e&&r(t)}}}function O(e){let t,n,l,i=e[5],c=[];for(let t=0;t<i.length;t+=1)c[t]=X(P(e,i,t));return{c(){t=o("tr");for(let e=0;e<c.length;e+=1)c[e].c();n=d(),f(t,"key",l=e[41].key)},m(e,l){s(e,t,l);for(let e=0;e<c.length;e+=1)c[e].m(t,null);a(t,n)},p(e,o){if(1056&o[0]){let l;for(i=e[5],l=0;l<i.length;l+=1){const a=P(e,i,l);c[l]?c[l].p(a,o):(c[l]=X(a),c[l].c(),c[l].m(t,n))}for(;l<c.length;l+=1)c[l].d(1);c.length=i.length}16&o[0]&&l!==(l=e[41].key)&&f(t,"key",l)},d(e){e&&r(t),x(c,e)}}}function J(e){let t,n,l,i,v,w,y,k,$,N,L,A,C,T,I,F;v=new M({props:{handleReviewClick:e[13],reviewMode:e[0]}});let E=e[3],P=[];for(let t=0;t<E.length;t+=1)P[t]=R(H(e,E,t));let S=1==e[2].plus_minus&&j(e),B=1==e[2].decimal_val&&G(e),q=1==e[2].slash_val&&V(e),D=e[4],X=[];for(let t=0;t<D.length;t+=1)X[t]=O(z(e,D,t));return{c(){t=o("main"),n=o("center"),l=o("div"),i=o("center"),c(v.$$.fragment),w=d(),y=o("table"),k=o("tr");for(let e=0;e<P.length;e+=1)P[e].c();N=d(),S&&S.c(),L=d(),B&&B.c(),A=d(),q&&q.c(),C=d(),T=o("table"),I=o("tbody");for(let e=0;e<X.length;e+=1)X[e].c();b(k,"display","flex"),f(y,"border","1"),f(y,"id","tab2"),f(y,"style",$="border-collapse:collapse;text-align:center"),f(T,"id","gridded_sheet"),f(T,"class","gridded_tab mt-0 lastGrid create_tab myP"),f(l,"class","griddedModule")},m(e,o){s(e,t,o),a(t,n),a(n,l),a(l,i),m(v,i,null),a(l,w),a(l,y),a(y,k);for(let e=0;e<P.length;e+=1)P[e].m(k,null);a(l,N),S&&S.m(l,null),a(l,L),B&&B.m(l,null),a(l,A),q&&q.m(l,null),a(l,C),a(l,T),a(T,I);for(let e=0;e<X.length;e+=1)X[e].m(I,null);F=!0},p(e,t){const n={};if(1&t[0]&&(n.reviewMode=e[0]),v.$set(n),4110&t[0]){let n;for(E=e[3],n=0;n<E.length;n+=1){const l=H(e,E,n);P[n]?P[n].p(l,t):(P[n]=R(l),P[n].c(),P[n].m(k,null))}for(;n<P.length;n+=1)P[n].d(1);P.length=E.length}if(1==e[2].plus_minus?S?(S.p(e,t),4&t[0]&&p(S,1)):(S=j(e),S.c(),p(S,1),S.m(l,L)):S&&(h(),u(S,1,1,(()=>{S=null})),_()),1==e[2].decimal_val?B?(B.p(e,t),4&t[0]&&p(B,1)):(B=G(e),B.c(),p(B,1),B.m(l,A)):B&&(h(),u(B,1,1,(()=>{B=null})),_()),1==e[2].slash_val?q?(q.p(e,t),4&t[0]&&p(q,1)):(q=V(e),q.c(),p(q,1),q.m(l,C)):q&&(h(),u(q,1,1,(()=>{q=null})),_()),1072&t[0]){let n;for(D=e[4],n=0;n<D.length;n+=1){const l=z(e,D,n);X[n]?X[n].p(l,t):(X[n]=O(l),X[n].c(),X[n].m(I,null))}for(;n<X.length;n+=1)X[n].d(1);X.length=D.length}},i(e){F||(p(v.$$.fragment,e),p(S),p(B),p(q),F=!0)},o(e){u(v.$$.fragment,e),u(S),u(B),u(q),F=!1},d(e){e&&r(t),g(v),x(P,e),S&&S.d(),B&&B.d(),q&&q.d(),x(X,e)}}}function K(e){let t=e.target.getAttribute("name"),n=document.getElementsByName(t);for(let t=1;t<n.length;t++)n[t].classList.contains("active")&&n[t].classList.remove("active"),n[t].innerHTML==e.target.value&&n[t].classList.add("active")}function Q(e,t,n){let l,{isReview:o}=t,{xml:a}=t,{showAns:i}=t,{uxml:s}=t,{editorState:r}=t,c=" ",d=[],m=[],p=[],u=0,g="",f=$({rowNum:4,colNum:4,item:1,plus_minus:0,slash_val:0,decimal_val:0,xml:"",textSizeP:0,correctAns:[],userList:[],isMathquill:!1,smController:"h",pointerEvents:"auto",decimal_point:0,iconVisible:"h"}),x={};f.subscribe((e=>{n(2,x=e)}));function b(e){!function(e){try{if(n(2,x.rowNum=e.smxml._row,x),n(2,x.colNum=e.smxml._col,x),n(2,x.slash_val=e.smxml._slash,x),n(2,x.plus_minus=e.smxml._plusminus,x),n(2,x.decimal_val=e.smxml._decimal,x),n(2,x.textSizeP=e.smxml._font,x),n(2,x.correctAns=e.smxml._correctAns.split(","),x),n(2,x.decimal_point=e.smxml._fixed_point,x),s){let e=setTimeout((function(){!function(e){let t=N(e);t.smans&&t.smans.div&&t.smans.div._userAns&&(d=t.smans.div._userAns.split(","),c=t.smans.div._correct,m=d)}(s),clearTimeout(e)}),50)}}catch(e){onError=e,console.log({error:e.message,"function name":"parseXMLPreview","File name":"GriddedPreview.js"})}}(e=N(e))}function h(e){let t,o,a=e.target.attributes.getNamedItem("data-tag").value;""===e.target.innerHTML?d[a]=e.target.value:d[a]=e.target.innerHTML;for(let e=0;e<d.length;e++)void 0!==d[e]&&""!=d[e]||(d[e]="%blank%");"%blank%"==d[d.length-1]&&d.pop(),n(2,x.userList=d,x),l=x.correctAns;let s=x.userList;if(s.length==l.length){for(let e=0;e<l.length;e++)s[e]==l[e]&&u++;u==s.length?(t=k.correct,g=!0,u=0):(t=k.incorrect,g=!1,u=0)}else t=k.incorrect;r&&i(t),w.select("#special_module_user_xml").value="<smans><div type='56' correct='"+g+"' userAns='"+x.userList+"'></div></smans>",o="<smans><div type='56' correct='"+g+"' userAns='"+x.userList+"'></div></smans>"," "!=c&&u==s.length?w.select("#answer","attr",{checked:c}):w.select("#answer","attr",{checked:g}),L({uXML:o,ans:t})}v((()=>{w.listen(document,"keydown",".td_data",(e=>{13===e.which&&e.click()})),w.listen(document,"click","#sm_controller button",(e=>{w.selectAll("#sm_controller button","removeClass",["active,btn-secondary,text-white,bg-secondary"]),w.selectAll(e,"addClass",["active,btn-secondary,text-white,bg-secondary"])})),w.listen(document,"click","#set-review",(function(){M()})),w.listen(document,"click","#unset-review",(function(){F()}))})),y((()=>{a!=x.xml&&(n(2,x.xml=a,x),b(a)),a&&console.log("qxml"),function(){n(3,_=[]);let e=x.decimal_point;for(let t=0;t<x.colNum;t++)"%blank%"===m[t]?n(1,p[t]=" ",p):n(1,p[t]=m[t],p),t==e-1&&0!=e?n(3,_=[..._,{decpoint:!0}]):_.length<x.colNum&&n(3,_=[..._,{id:"t"+t,dataTag:t,name:"p"+t,value:p[t],spanid:"t_"+t,decpoint:!1}])}(),function(e){n(7,I=[]);let t=x.decimal_point;for(let e=0;e<x.colNum;e++)e==t-1&&0!=t?n(7,I=[...I,{key:"col"+e,decpoint:!0}]):I.length<x.colNum&&n(7,I=[...I,{id:"t"+e,name:"p"+e,dataTag:e,decpoint:!1}])}(),function(e){n(6,T=[]);let t=x.decimal_point;for(let e=0;e<x.colNum;e++)e==t-1&&0!=t?n(6,T=[...T,{key:"col"+e,decpoint:!0}]):T.length<x.colNum&&n(6,T=[...T,{id:"t"+e,name:"p"+e,dataTag:e,decpoint:!1}])}(),function(e){n(8,P=[]),n(9,z=[]);let t=x.decimal_point;for(let e=0;e<x.colNum;e++)e==t-1&&0!=t?n(8,P=[...P,{dataTag:e,name:e,decpoint:!0}]):P.length<x.colNum&&n(8,P=[...P,{id:"t"+e,name:"p"+e,dataTag:e,decpoint:!1}]),e==t-1&&0!=t?n(9,z=[...z,{dataTag:e,name:e,decpoint:!0}]):z.length<x.colNum&&n(9,z=[...z,{id:"t"+e,name:"p"+e,dataTag:e,decpoint:!1}])}(),function(){n(4,A=[]);let e=x.decimal_point;for(let t=0;t<x.rowNum;t++){n(5,C=[]);for(let l=0;l<x.colNum;l++)l==e-1&&0!=e?n(5,C=[...C,{key:"col"+t+l,decpoint:!0}]):C.length<x.colNum&&n(5,C=[...C,{tabIndex:0,key:"col"+t+l,name:"p"+l,dataTag:l,id:"t"+l+"-"+t+l,decpoint:!1}]);n(4,A=[...A,{key:"row"+t}])}}()}));let _=[];let A=[],C=[];let T=[];let I=[];function M(){console.trace(),n(2,x.smController="",x),n(2,x.pointerEvents="none",x),n(0,o=!0),E("yans","showIcon"),w.selectAll("#sm_controller .your-ans","addClass",["btn-light","active"]),w.selectAll(".tokenHeader","attr",{tabindex:0}),setTimeout(function(){for(let e=0;e<x.correctAns.length;e++)x.correctAns[e]==x.userList[e]?(w.select("#t_"+e,"removeClass","icomoon-new-24px-cancel-circle-1"),w.select("#t_"+e,"addClass","icomoon-new-24px-checkmark-circle-1")):(w.select("#t_"+e,"removeClass","icomoon-new-24px-checkmark-circle-1"),w.select("#t_"+e,"addClass","icomoon-new-24px-cancel-circle-1"))}(),200),r&&i(g?k.correct:k.incorrect)}function F(){n(2,x.smController="h",x),n(2,x.pointerEvents="auto",x),n(0,o=!1),E("yans","hideIcon"),w.selectAll(".tokenHeader","removeAttr","tabindex")}function E(e,t){if(n(2,x.iconVisible="showIcon"==t?"":"h",x),"cans"==e){document.getElementsByClassName("gridded_tab").disabled=!0,m=x.correctAns}else"yans"==e&&(m=d)}let P=[],z=[];return e.$$set=e=>{"isReview"in e&&n(0,o=e.isReview),"xml"in e&&n(14,a=e.xml),"showAns"in e&&n(15,i=e.showAns),"uxml"in e&&n(16,s=e.uxml),"editorState"in e&&n(17,r=e.editorState)},e.$$.update=()=>{1&e.$$.dirty[0]&&(o?M():F())},[o,p,x,_,A,C,T,I,P,z,function(e){let t=e.target.getAttribute("name"),n=document.getElementsByName(t);for(let e=0;e<n.length;e++)n[e].classList.contains("active")&&n[e].classList.remove("active");e.target.classList.add("active");let l=e.target.id.split("-");document.getElementById(l[0]).value=e.target.innerHTML,h(e)},function(e){let t=e.detail.target.getAttribute("name"),o=document.getElementsByName(t);for(let e=0;e<o.length;e++)o[e].classList.contains("active")&&o[e].classList.remove("active");e.detail.target.classList.add("active");let a=e.detail.target.id.split("-");document.getElementById(a[0]).value=e.detail.target.innerHTML,function(e){let t,o=e.detail.target.attributes.getNamedItem("data-tag").value;""===e.detail.target.innerHTML?d[o]=e.detail.target.value:d[o]=e.detail.target.innerHTML;for(let e=0;e<d.length;e++)void 0!==d[e]&&""!=d[e]||(d[e]="%blank%");"%blank%"==d[d.length-1]&&d.pop();n(2,x.userList=d,x),l=x.correctAns;let a=x.userList;if(a.length==l.length){for(let e=0;e<l.length;e++)a[e]==l[e]&&u++;u==a.length?(t=k.correct,g=!0,u=0):(t=k.incorrect,g=!1,u=0)}else t=k.incorrect;r&&i(t);w.select("#special_module_user_xml").value="<smans><div type='56' correct='"+g+"' userAns='"+x.userList+"'></div></smans>"," "!=c&&u==a.length?w.select("#answer","attr",{checked:c}):w.select("#answer","attr",{checked:g})}(e)},function(e){let t=x.rowNum-1;return e.target.value.length>1?(w.alert("Double digit not accepted"),e.target.value="",!1):e.target.value<0?(w.alert("Less then 1 not accepted"),e.target.value="",!1):t<e.target.value?(w.alert("Number insert only 0 to "+x.rowNum),e.target.value="",!1):void h(e)},function(e){"c"==e?E("cans","hideIcon"):E("yans","showIcon")},a,i,s,r]}export default class extends e{constructor(e){var l;super(),E.getElementById("svelte-vscbpc-style")||((l=o("style")).id="svelte-vscbpc-style",l.textContent=".layoutHeading{font-weight:bold;font-size:16px;color:#1877b1}.items_element:hover{border:1.2px solid #777}.moreOptions{-webkit-box-shadow:3px 4px 6px #c4c5c5;-moz-box-shadow:3px 4px 6px #c4c5c5;box-shadow:3px 4px 6px #c4c5c5;background-color:#f0f0f0;border-top:1px solid #1877b1;border-bottom:1px solid #1877b1}.moreOptionDetails{background-color:#f7f7f7}.input_col{position:relative;left:5px}.layoutheading{padding:5px;font-size:20px;font-weight:bold}.numbr_range{position:relative;left:130px}.numbr_range_txt{position:relative;left:200px}.plus_minus_fraction{position:relative;top:20px}.floating_fraction{position:relative;top:27px}.plus_minus_span{position:relative;left:5px}.floating_decimal{float:right;margin-right:45px}.fontStyle{width:100px;float:right;margin-right:60px}.fraction_slash{position:relative;left:177px}.minus_tab,\n    .plus_tab,\n    .slash_tab{text-align:center}.gridded_tab{background-color:#f0f0f0!important;user-select:none!important;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none}.font_size_label{position:relative;left:198px}.font_size{position:relative;left:225px}.decimal_col{position:relative;left:208px;width:90px}.correct_color{background-color:#E9FFE9}.fixed_decimal_check{position:relative;top:26px;left:13px}.correct_incorrect_icon_fill{position:relative;width:19px;height:19px;right:121px;top:-55px;background:white;border-radius:50%}.row_column_decimal{position:relative;top:30px;left:5px}.fixed_point_class{position:relative;left:7px}.row_column{position:relative;left:5px}.answer_icon{position:absolute;top:7px;right:34px}.myP tbody{cursor:pointer}.col_range{width:205px}.posSize{position:relative;left:7px}.fontSmall{font-size:12px;text-align:center}.fontNormal{font-size:14px;text-align:center}.fontLarge{font-size:24px;text-align:center}.fontExtraLarge{font-size:26px;text-align:center}.grid{position:relative;top:10px;box-shadow:10px 5px 10px #000}.items_element{border:1px solid #8080807a;padding:6px 10px;border-radius:50%;background-color:white}.griddedModule .active{color:white;transition:1s;background:#696969;border:2px solid #fff}.minus_point,\n    .decl_point{padding:6px 12px}.sla_point{padding:6px 11px}.griddedModule table tr td:last-child{border-right:1px solid #ccc !important}.griddedModule .lastGrid tr:last-child td{border-bottom:1px solid #ccc !important}.griddedModule td{border:1px solid #f0f0f0 !important;border-left:1px solid #ccc !important}.token:hover{border:1px solid #000 !important}.bla .token:hover{border:1px solid #fff !important}.token_selected{background-color:#64bb63;color:#fff}.bla .token_highlight_heading{color:#000 !important}.griddedModule .expandIcon{font-size:27px;font-weight:bold;color:#1877b1}table td, table th{padding:.5rem .5rem!important;vertical-align:top!important;border-top:1px solid #dee2e6!important}",a(E.head,l)),t(this,e,Q,J,n,{isReview:0,xml:14,showAns:15,uxml:16,editorState:17},[-1,-1])}}
//# sourceMappingURL=GriddedPreview-5a790394.js.map
