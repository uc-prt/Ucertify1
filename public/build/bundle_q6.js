var app=function(){"use strict";function e(){}function t(e){return e()}function n(){return Object.create(null)}function o(e){e.forEach(t)}function r(e){return"function"==typeof e}function i(e,t){return e!=e?t==t:e!==t||e&&"object"==typeof e||"function"==typeof e}let a,l;function s(e,t){return a||(a=document.createElement("a")),a.href=t,e===a.href}function c(e){return null==e?"":e}function d(e,t){e.appendChild(t)}function u(e,t,n){var o;const r=function(e){const t=function(e){return e?e.getRootNode?e.getRootNode():e.ownerDocument:document}(e);return t.host,t}(e);if(!(null===(o=r)||void 0===o?void 0:o.getElementById(t))){const e=m("style");e.id=t,e.textContent=n,function(e,t){d(e.head||e,t)}(r,e)}}function h(e,t,n){e.insertBefore(t,n||null)}function f(e){e.parentNode.removeChild(e)}function p(e,t){for(let n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}function m(e){return document.createElement(e)}function g(e){return document.createTextNode(e)}function v(){return g(" ")}function b(){return g("")}function y(e,t,n,o){return e.addEventListener(t,n,o),()=>e.removeEventListener(t,n,o)}function w(e,t,n){null==n?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function _(e,t){t=""+t,e.wholeText!==t&&(e.data=t)}function x(e,t,n,o){e.style.setProperty(t,n,o?"important":"")}function S(e){l=e}function A(){if(!l)throw new Error("Function called outside component initialization");return l}function E(e){A().$$.on_mount.push(e)}function C(e){A().$$.after_update.push(e)}function D(){const e=A();return(t,n)=>{const o=e.$$.callbacks[t];if(o){const r=function(e,t,n=!1){const o=document.createEvent("CustomEvent");return o.initCustomEvent(e,n,!1,t),o}(t,n);o.slice().forEach((t=>{t.call(e,r)}))}}}const k=[],T=[],M=[],O=[],N=Promise.resolve();let P=!1;function j(e){M.push(e)}let I=!1;const L=new Set;function q(){if(!I){I=!0;do{for(let e=0;e<k.length;e+=1){const t=k[e];S(t),X(t.$$)}for(S(null),k.length=0;T.length;)T.pop()();for(let e=0;e<M.length;e+=1){const t=M[e];L.has(t)||(L.add(t),t())}M.length=0}while(k.length);for(;O.length;)O.pop()();P=!1,I=!1,L.clear()}}function X(e){if(null!==e.fragment){e.update(),o(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(j)}}const R=new Set;function B(e,t){e&&e.i&&(R.delete(e),e.i(t))}function H(e,t,n,o){if(e&&e.o){if(R.has(e))return;R.add(e),undefined.c.push((()=>{R.delete(e),o&&(n&&e.d(1),o())})),e.o(t)}}function $(e){e&&e.c()}function F(e,n,i,a){const{fragment:l,on_mount:s,on_destroy:c,after_update:d}=e.$$;l&&l.m(n,i),a||j((()=>{const n=s.map(t).filter(r);c?c.push(...n):o(n),e.$$.on_mount=[]})),d.forEach(j)}function Y(e,t){const n=e.$$;null!==n.fragment&&(o(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function U(e,t){-1===e.$$.dirty[0]&&(k.push(e),P||(P=!0,N.then(q)),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function z(t,r,i,a,s,c,d,u=[-1]){const h=l;S(t);const p=t.$$={fragment:null,ctx:null,props:c,update:e,not_equal:s,bound:n(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(h?h.$$.context:r.context||[]),callbacks:n(),dirty:u,skip_bound:!1,root:r.target||h.$$.root};d&&d(p.root);let m=!1;if(p.ctx=i?i(t,r.props||{},((e,n,...o)=>{const r=o.length?o[0]:n;return p.ctx&&s(p.ctx[e],p.ctx[e]=r)&&(!p.skip_bound&&p.bound[e]&&p.bound[e](r),m&&U(t,e)),n})):[],p.update(),m=!0,o(p.before_update),p.fragment=!!a&&a(p.ctx),r.target){if(r.hydrate){const e=function(e){return Array.from(e.childNodes)}(r.target);p.fragment&&p.fragment.l(e),e.forEach(f)}else p.fragment&&p.fragment.c();r.intro&&B(t.$$.fragment),F(t,r.target,r.anchor,r.customElement),q()}S(h)}class J{$destroy(){Y(this,1),this.$destroy=e}$on(e,t){const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(t),()=>{const e=n.indexOf(t);-1!==e&&n.splice(e,1)}}$set(e){var t;this.$$set&&(t=e,0!==Object.keys(t).length)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}function W(e,t={}){const n="tagin-tag",o="tagin-tag-remove",r="tagin-input",i=e.dataset.separator||t.separator||",",a=e.dataset.duplicate||t.duplicate||"false",l=(0,eval)(e.dataset.transform)||t.transform||(e=>e),s=e.dataset.placeholder||t.placeholder||"",c=e=>`<span class="tagin-tag">${e}<span class="${o}"></span></span>`,d=()=>e.value,u=()=>d().split(i);!function(){const t=`<div class="${"tagin-wrapper "+e.className.replace("tagin","").trim()}">${""===d().trim()?"":u().map(c).join("")}<input type="text" class="tagin-input" placeholder="${s}"></div>`;e.insertAdjacentHTML("afterend",t)}();const h=e.nextElementSibling,f=h.getElementsByClassName(r)[0],p=()=>[...h.getElementsByClassName(n)].map((e=>e.textContent)),m=()=>p().join(i),g=()=>{e.value=m(),e.dispatchEvent(new Event("change"))};function v(){const e=document.createElement("div");e.classList.add(r,"tagin-input-hidden");const t=f.value||f.getAttribute("placeholder")||"";e.innerHTML=t.replace(/ /g,"&nbsp;"),document.body.appendChild(e),f.style.setProperty("width",Math.ceil(window.getComputedStyle(e).width.replace("px",""))+1+"px"),e.remove()}function b(e=!1){const t=l(f.value.replace(new RegExp(function(e){return e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}(i),"g"),"").trim());""===t&&(f.value=""),(f.value.includes(i)||e&&""!=f.value)&&(p().includes(t)&&"false"===a?function(e){for(const t of h.getElementsByClassName(n))t.textContent===e&&(t.style.transform="scale(1.09)",setTimeout((()=>{t.removeAttribute("style")}),150))}(t):(f.insertAdjacentHTML("beforebegin",c(t)),g()),f.value="",f.removeAttribute("style"))}h.addEventListener("click",(()=>f.focus())),f.addEventListener("focus",(()=>h.classList.add("focus"))),f.addEventListener("blur",(()=>h.classList.remove("focus"))),document.addEventListener("click",(e=>{e.target.closest("."+o)&&(e.target.closest("."+o).parentNode.remove(),g())})),f.addEventListener("keydown",(e=>{""===f.value&&8===e.keyCode&&h.getElementsByClassName(n).length&&(h.querySelector(".tagin-tag:last-of-type").remove(),g())})),f.addEventListener("input",(()=>{b(),v()})),f.addEventListener("blur",(()=>{b(!0),v()})),v(),e.addEventListener("change",(()=>{d()!==m()&&([...h.getElementsByClassName(n)].map((e=>e.remove())),""!==d().trim()&&f.insertAdjacentHTML("beforebegin",u().map(c).join("")))}))}var K=".tagin{display:none}.tagin-wrapper{border: 1px solid #ccc;display:flex;flex-wrap:wrap;height:auto;padding:calc(.375rem - 2px) calc(.75rem - 2px);position:relative;overflow:hidden;cursor:text}.tagin-wrapper.focus{color:#495057;background-color:#fff;border-color:#80bdff;outline:0;box-shadow:0 0 0 .2rem rgba(0,123,255,.25)}.tagin.is-valid+.tagin-wrapper,.was-validated .tagin:valid+.tagin-wrapper{border-color:#28a745}.tagin.is-invalid+.tagin-wrapper,.was-validated .tagin:invalid+.tagin-wrapper{border-color:#dc3545}.tagin-tag{border-radius:.25rem;color:#fff;border:0;padding:0 4px;display:inline-flex;align-items:center;height:24px;margin:2px;font-weight:300;background-color:#6c757d;transition:transform .1s}.tagin-tag-remove{margin-left:2px;width:18px;height:18px;cursor:pointer;background-image:url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='%23a0aec0' width='18px' height='18px'%3E%3Cpath d='M0 0h24v24H0z' fill='none'/%3E%3Cpath d='M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12 17 15.59z'/%3E%3C/svg%3E\")}.tagin-tag-remove:hover{background-image:url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='white' width='18px' height='18px'%3E%3Cpath d='M0 0h24v24H0z' fill='none'/%3E%3Cpath d='M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12 17 15.59z'/%3E%3C/svg%3E\")}.tagin-input{margin-left:2px;border-color:transparent;outline:0;border-width:1px 0;padding:0 2px 0 0;height:28px;color:#495057}.tagin-input:not(.tagin-input-hidden){width:4px;min-width:4px}.tagin-input-hidden{position:absolute;top:0;left:-9999px;overflow:hidden;visibility:hidden;white-space:nowrap";class G extends class{constructor(e){this._servers=["http://localhost/pe-gold3/","https://www.ucertify.com/","https://www.jigyaasa.info/","http://172.10.195.203/pe-gold3/"],this._REMOTE_API_URL=this._servers[1]+"pe-api/1/index.php",this._client={email:"pradeep.yadav@ucertify.com",password:"786pradeep",isSocial:"false",clientId:"040MA"}}validateApp(e){return new Promise(((t,n)=>{let o=e?"&action=refresh_token&refresh_token=1":"",r=this._client.isSocial?"&social_login=1":"",i=`${this._REMOTE_API_URL}?func=cat2.authenticate&device_id=${this._client.clientId}&email=${this._client.email}&password=${this._client.password+r+o}`,a=new XMLHttpRequest;a.open("POST",i,!0),a.onreadystatechange=e=>{if(4==a.readyState&&200===a.status)try{let e=a.responseText.match(/<jsonstring>(.*?)<\/jsonstring>/);t(JSON.parse(e[1]))}catch(e){n(e)}},a.onerror=e=>{n(e)},e&&a.setRequestHeader("old-access-token",globalThis.apiAccessToken),a.send()}))}getAPIDataJ(e,t,n=function(){}){let o="",r={},i="",a=t.ajax_info||{};if(t=this._assignPartial(t,{},"ajax_info",!0),r.device_id=this._client.clientId,"object"==typeof t)for(let e in t)"object"!=typeof t[e]&&(o+="&"+e+"="+t[e]);if(void 0!==e&&""!=e){for(let e in r)"object"!=typeof r[e]&&(i+="&"+e+"="+r[e]);i+="&func="+e}this.getAPIDataJSON(this._REMOTE_API_URL+"?"+i+"&debug=0&"+o,o,a,(o=>{"Expired"==o?this.getAPIDataJ(e,t,n):n(o)}),e)}getAPIDataJSON(e,t,n,o=function(){},r){let i=new XMLHttpRequest;i.open("POST",e,!0),i.onreadystatechange=e=>{if(4==i.readyState&&200===i.status){let e=i.responseText,n={};try{let t=e.match(/<jsonstring>(.*?)<\/jsonstring>/);if(""!=t[1]){let e=JSON.parse(t[1]);if(e.error&&["Expired","-9"].includes(e.error.error_id))return console.log("Api Error = ",e.error.error_id),void this.validateApp(-9!=e.error.error_id).then((e=>{"Success"==e.status&&(this.setAccessKey(e),o("Expired"))})).catch((e=>{console.log(e)}));e.response?(n=e.response,console.warn("Api data J reponse <-- Received --\x3e",e)):null==e.response&&null==e.error?(n=e,console.warn("Api data J reponse <-- Received II--\x3e",n)):(n=void 0,console.warn({Response_error:e.error}))}}catch(o){if(console.warn("Please check your Internet connection."),console.log("Api data error = ",e),!t.includes("must_reply_override"))return 0;n=void 0}o(n)}},t.includes("no_access_token_required")||i.setRequestHeader("access-token",globalThis.apiAccessToken),i.setRequestHeader("Content-type","application/json"),i.setRequestHeader("Access-Control-Allow-Origin","*"),i.setRequestHeader("Access-Control-Allow-Headers","*"),i.send()}_assignPartial(e,t={},n,o=!1){if(n=n.split(","),o)for(let o in e){-1===n.indexOf(o)&&(t[o]=e[o])}else for(let o in n){let r=n[o];void 0!==e[r]&&(t[r]=e[r])}return t}setAccessKey(e){e.access_token&&e.access_token.length>50&&(globalThis.apiAccessToken=e.access_token,"undefined"!=typeof Storage&&localStorage.setItem("apiAccessToken",e.access_token))}}{constructor(e){super(),this.trackInf={},this.buffer={},this.bsCat1=["Modal","Tooltip","Collapse","Popover","ScrollSpy","Tab","Alert","Dropdown"],this.extraSelectors=["hidden","visible","selected","checked","enabled","children","childNodes"],this.parseHtml=this.templateHtml.bind(this),this.isSSDloaded="",this.loadSSD()}loadSSD(){"object"==typeof globalThis?(globalThis.eventTracker=globalThis.eventTracker||{},globalThis.JUITemp=globalThis.JUITemp||{}):this.isSSDloaded=setInterval((()=>{"object"==typeof globalThis&&(globalThis.eventTracker=globalThis.eventTracker||{},globalThis.JUITemp=globalThis.JUITemp||{},clearInterval(this.isSSDloaded))}),500)}validate(e){return new Promise(((t,n)=>{this.validateApp(e).then((e=>{if("Success"!=e.status)n(e);else try{this.setAccessKey(e),t(e)}catch(e){n(e)}})).catch((e=>{n(e)}))}))}param2Url(e){let t=[];for(var n in e){var o=n+"="+e[n];t.push(o)}return t.join("&")}unique(e){return e.filter(((e,t,n)=>n.indexOf(e)===t))}parseJSON(e,t){let n=t||!1;try{return JSON.parse(e)}catch(e){return n&&console.warn(e),{}}}parseDom(e){return(new DOMParser).parseFromString(e,"text/html")}addScript(e,t,n={}){let o=document.createElement("script");return t?(o.src=t,o.async=!0,n.callback&&(o.onload=function(){n.callback()})):o.innerHTML=e,(n.target?document.body:document.head).append(o),o}createLink(e,t={}){let n=document.createElement("link"),o=t.target?document.body:document.head;return n.href=e,t.preload?(n.rel="preload",n.onload=function(){this.rel=t.type||"stylesheet"},n.as=t.as||"style",n.crossorigin="anonymous"):n.rel="stylesheet",o.append(n),n}enableTagView(e){let t=document.querySelectorAll(".tagin");for(const n of t)e?W(n,e):W(n);return t}addTagViewCss(){this.insert(document.head,`<style>${K}</style>`,"beforeend")}hasInall(e,t){let n="object"==typeof e?e:document.querySelectorAll(e),o=[];return n&&Array.prototype.forEach.call(n,(e=>{e.contains(t)&&o.push(e)})),o}removeDomAttr(e,t){let n="object"==typeof e?e:document.querySelector(e);return n&&Array.prototype.forEach.call(t,(e=>{n.removeAttribute(e)})),n||{}}trigger(e,t,n){let o="object"==typeof e?e:document.querySelector(e);o?n?o.dispatchEvent(new Event(t,n)):o.dispatchEvent(new Event(t)):console.warn("Selector not found.",e)}findChild(e,t,n){let o=("object"==typeof e?e:document.querySelector(e)).children||[],r=[];if(t&&o.length>0){let e=0;for(;o[e];){if(o[e].matches(t)){if(!n){r=o[e];break}r.push(o[e])}e++}return r}return o}closest(e,t){let n="object"==typeof e?e:document.querySelector(e),o=n?n.parentElement:null,r=[];if(t)for(;o;){if(this.find(o,t)){r=this.find(o,t);break}o=o.parentElement}return r}parent(e,t){let n="object"==typeof e?e:document.querySelector(e),o=n?n.parentElement:null;if(t)for(;o&&!o.matches(t);)o=o.parentElement;return o}siblings(e,t){let n="object"==typeof e?e:document.querySelector(e),o=[];if(n)for(var r=n.parentNode.firstChild;r;)r!==n&&r.nodeType===Node.ELEMENT_NODE&&(t?r.matches(t)&&o.push(r):o.push(r)),r=r.nextElementSibling||r.nextSibling;return o}nextAll(e){let t=("object"==typeof e?e:document.querySelector(e)).nextElementSibling,n=[];if(t)for(;t;)t=t.nextElementSibling,n.push(t);return n}nextElm(e,t){let n=("object"==typeof e?e:document.querySelector(e)).nextElementSibling;if(t)for(;n&&!n.matches(t);)n=n.nextElementSibling;return n}prevElm(e,t){let n=("object"==typeof e?e:document.querySelector(e)).previousElementSibling;if(t)for(;n&&!n.matches(t);)n=n.previousElementSibling;return n}onReady(e){document.addEventListener("DOMContentLoaded",(function(t){e.call(t)}))}create(e,t){let n=document.createElement(e);return t&&(n.innerHTML=t),n}clone(e){let t="object"==typeof e?e:document.querySelector(e);return t?t.cloneNode(!0):null}serialize(e){let t="object"==typeof e?e:document.querySelector(e);return t?new URLSearchParams(new FormData(t)).toString():null}empty(e){let t="object"==typeof e?e:document.querySelector(e);if(t)for(;t.firstChild;)t.removeChild(t.firstChild);return t}getBS(e,t,n){let o="object"==typeof e?e:document.querySelector(e);if(o&&this.bsCat1.includes(t)){if(bootstrap[t].getInstance&&bootstrap[t].getInstance(o))return bootstrap[t].getInstance(o);return new bootstrap[t](o,n)}return{}}enableBsAll(e,t,n){if(this.bsCat1.includes(t)){return[].slice.call(document.querySelectorAll(e)).map((function(e){return n?new bootstrap[t](e,n):new bootstrap[t](e)}))}return console.error("Bootstrap can't enable for this component name"),[]}hideBsAll(e,t){let n=[].slice.call(document.querySelectorAll(e));this.bsCat1.includes(t)?n.forEach((function(e){bootstrap[t].getInstance(e)?.hide?.()})):console.error("Bootstrap can't disable for this component name")}initDropdown(){let e=this;e.enableBsAll('[data-toggle="dropdown"]',"Dropdown"),e.bind("body","click",(function(t){t.target.closest('[data-toggle="dropdown"]')||(e.selectAll('[data-toggle="dropdown"]').forEach((function(e){e.classList.remove("show")})),e.selectAll(".dropdown-menu").forEach((function(e){e.classList.remove("show")})))}))}ajax(e){let t="";if("object"==typeof e.data)if(e.formData)t=e.data;else if(e.withUrl){let t="?";for(let n in e.data)"object"!=typeof e.data[n]&&(t+="&"+n+"="+e.data[n]);e.url+=t}else{t=new FormData;for(let n in e.data)"object"==typeof e.data[n]&&this.isValid(e.data[n])?t=this.jsonFormEncode(t,n,e.data[n]):t.append(n,e.data[n])}return new Promise(((n,o)=>{const r=new XMLHttpRequest;r.open(e.type||"POST",e.url,!0),e.responseType&&(r.responseType=e.responseType),r.onreadystatechange=e=>{if(4==r.readyState&&200===r.status)try{n(r.responseText,e)}catch(e){o(e)}},r.onerror=e=>{o(e)},e.onStart&&(r.onloadstart=e.onStart),e.onEnd&&(r.onloadend=e.onEnd),r.send(t)}))}jsonFormEncode(e,t,n){try{if(Array.isArray(n))for(let o=0;o<n.length;o++)this.jsonFormEncode(e,`${t}[${o}]`,n[o]);else if("object"==typeof n)for(let o in n)this.jsonFormEncode(e,`${t}[${o}]`,n[o]);else e.append(t,n)}catch(e){console.warn("Please provide valid JSON Object in ajax data."+e)}return e}getJSON(e){var t=document.createElement("script");t.src=e,document.body.appendChild(t)}offset(e){let t="object"==typeof e?e:document.querySelector(e),n={rect:t};if(t){let e=t.getBoundingClientRect();n={target:t,clientRect:e,top:e.top+window.scrollY,left:e.left+window.scrollX}}return n}findInArray(e,t){return!(!e||!t)&&t.find((t=>t==e))}inArray(e,t){let n=[];return e&&t&&e.forEach((e=>{t.forEach((t=>{e==t&&!n.includes(t)&&n.push(t)}))})),n.length>0?n.length:-1}serializeArray(e,t){let n=[];return e.forEach((e=>{if((!t||e.matches(t))&&(console.log(e.attributes.length),e.attributes.length>0)){let t={};for(let n of e.attributes)t[n.name]=n.value;n.push(t)}})),n}find(e,t,n){let o="object"==typeof e?e:document.querySelector(e);if(o)switch("object"==typeof n?"action":n){case"all":return o?.querySelectorAll(t);case"child":return o?.querySelector(t).childNodes;case"hidden":return Array.prototype.filter.call(o.querySelectorAll(t),(e=>0==e.offsetWidth&&0==e.offsetHeight));case"visible":return Array.prototype.filter.call(o.querySelectorAll(t),(e=>e.offsetWidth>0&&e.offsetHeight>0));case"checked":return Array.prototype.filter.call(document.querySelectorAll(selector),(e=>e.checked));case"selected":return Array.prototype.filter.call(o.querySelectorAll(t),(e=>e.selected));case"action":{let e=o.querySelectorAll(t);return e&&e.length>0&&n.action&&e.forEach((e=>this.jsAction(e,{action:n.action,actionData:n.actionData}))),e}default:return o.querySelector(t)}return[]}selectAll(e,t,n){let o=this.isExtraSelectors(t,n)?this.selectAction(e,t):"object"==typeof e?e:document.querySelectorAll(e);return o&&o.length>0&&t&&Array.prototype.forEach.call(o,(e=>this.jsAction(e,{action:t,actionData:n}))),o}isExtraSelectors(e,t){return!!this.extraSelectors.includes(e)&&("checked"!=e||void 0===t)}select(e,t,n){return this.isExtraSelectors(t,n)?this.selectAction(e,t):((e="object"==typeof e?e:document.querySelector(e))&&this.jsAction(e,{action:t,actionData:n}),e||{})}getElm(e,t){return document.getElementById(e)||{}}listenAll(e,t,n){let o="object"==typeof e?e:document.querySelectorAll(e);if(o&&o.length>0)for(let e=0;e<o.length;e++)o[e].addEventListener(t,n,!1)}bind(e,t,n){let o="object"==typeof e?e:document.querySelector(e);o&&o.addEventListener(t,n)}listen(e,t,n,o){let r="object"==typeof e?e:"undefined"!=typeof document&&document.querySelector(e);if(!r)return!1;globalThis.eventTracker[n]&&r.removeEventListener(t,globalThis.eventTracker[n]),globalThis.eventTracker[n]=this.onListen.bind(this,n,o,r),r.addEventListener(t,globalThis.eventTracker[n])}removeClass(e,t){let n="object"==typeof e?e:document.querySelectorAll(e);return n&&n?.length>0?Array.prototype.forEach.call(n,(e=>this.jsAction(e,{action:"removeClass",actionData:t}))):"object"==typeof n&&this.jsAction(n,{action:"removeClass",actionData:t}),n||{}}addClass(e,t){let n="object"==typeof e?e:document.querySelectorAll(e);return n&&n?.length>0?Array.prototype.forEach.call(n,(e=>this.jsAction(e,{action:"addClass",actionData:t}))):"object"==typeof n&&this.jsAction(n,{action:"addClass",actionData:t}),n||{}}toggleDom(e,t="toggleDisplay"){let n="object"==typeof e?e:document.querySelectorAll(e);return n&&n.length>0&&Array.prototype.forEach.call(n,(e=>this.jsAction(e,{action:t}))),n||{}}select2(e){let t=document.querySelector(e+" + span > .selection > span");t&&t.click()}setData(e,t){let n="object"==typeof e?e:document.querySelector(e);if(n)for(let e in t)n.dataset[e]=t[e];return n||{}}getData(e,t){return("object"==typeof e?e:document.querySelector(e))?.dataset[t]||{}}setAttr(e,t){let n="object"==typeof e?e:document.querySelector(e);if(n)for(let e in t)n.setAttribute(e,t[e]);return n||{}}setCss(e,t){let n="object"==typeof e?e:document.querySelector(e);if(n)for(let e in t)n.style&&(n.style[e]=t[e]);return n||{}}remove(e){let t=document.querySelectorAll(e);t.length>0&&Array.prototype.forEach.call(t,(e=>e.remove()))}replaceWith(e,t){let n="object"==typeof e?e:document.querySelector(e);if(n){let e=this.templateHtml(t);return n.replaceWith(e),e}return n}wrap(e,t){let n="object"==typeof e?e:document.querySelector(e);if(n){let e=this.templateHtml(t),o=this.innerChild(e);return o.innerHTML=n.outerHTML,n.parentNode.replaceChild(e,n),o.firstChild}return n}unwrap(e){let t="object"==typeof e?e:document.querySelectorAll(e);t&&t.length>0&&t.forEach((e=>{e.outerHTML=e.innerHTML}))}insertAfter(e,t){return e="object"==typeof e?e:document.querySelector(e),t="object"==typeof t?t:document.querySelector(t),e&&t&&t.parentNode.insertBefore(e,t.nextSibling),e}insert(e,t,n){let o="object"==typeof e?e:document.querySelector(e);if(o)switch(n){case"beforebegin":o.insertAdjacentHTML("beforebegin",t);break;case"afterbegin":o.insertAdjacentHTML("afterbegin",t);break;case"beforeend":o.insertAdjacentHTML("beforeend",t);break;case"afterend":o.insertAdjacentHTML("afterend",t)}return o||{}}domIndex(e){let t="object"==typeof e?e:document.querySelector(e);return t?Array.from(t.parentNode.children).indexOf(t):-1}match(e,t){let n="object"==typeof e?e:document.querySelector(e),o=[];return n&&n.length>0?(Array.prototype.forEach.call(n,(e=>{e.matches(t)&&o.push(e)})),o):n&&n.matches(t)}contains(e,t){let n="object"==typeof e?e:document.querySelectorAll(e);return n&&n.length>0?[].filter.call(n,(function(e){return RegExp(t).test(e.textContent)})):[]}extend(){let e={},t=!1,n=0,o=arguments.length;"[object Boolean]"===Object.prototype.toString.call(arguments[0])&&(t=arguments[0],n++);const r=function(n){for(let o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t&&"[object Object]"===Object.prototype.toString.call(n[o])?e[o]=extend(!0,e[o],n[o]):e[o]=n[o])};for(;n<o;n++){r(arguments[n])}return e}url(e){return e=e||("object"==typeof window?window.location.href:""),new URLSearchParams(e)}updateEditorUrl(e){let t=`?action=new&content_subtype=${e.subtype}&content_type=${e.type}&content_icon=${e.content_icon}&react_content=1`;window.history.replaceState(null,"",t)}getUrlVars(){let e,t=[],n=window.location.href.slice(window.location.href.indexOf("?")+1).split("&");for(let o=0;o<n.length;o++)e=n[o].split("="),t.push(e[0]),t[e[0]]=e[1];return t}setApiKey(e){globalThis.apiAccessToken=e}validateAjaxData(e,t){if(0==t||8==t){if(e&&!this.get("is_proposed")){if(e.content_text){try{e.content_text.answers.forEach(((t,n)=>{e.content_text.answers[n].answer=t.answer.replace(/\n/g,"")}))}catch(e){return{answers:[{is_correct:"0",answer:"Option A.",id:"01"},{is_correct:"0",answer:"Option B.",id:"02"},{is_correct:"0",answer:"Option C.",id:"03"},{is_correct:"0",answer:"Option D.",id:"04"}],correct_ans_str:"D",total_answers:4,correct_answers:1}}return e.content_text}return e}return{answers:[{is_correct:"0",answer:"Option A.",id:"01"},{is_correct:"0",answer:"Option B.",id:"02"},{is_correct:"0",answer:"Option C.",id:"03"},{is_correct:"0",answer:"Option D.",id:"04"}],correct_ans_str:"D",total_answers:4,correct_answers:1}}return e}watchDom(e,t,n={childList:!0}){let o=new MutationObserver((function(e){t&&t(e)}));return o.observe(e,n),o}ignoreEnity(e){return e.replace(/&amp;/g,"&")}cache(e){var t=new Map;return function(n){if(t.has(n))return t.get(n);var o=e(n);return t.set(n,o),o}}set(e,t){"save_item"==e&&this.addInLocalstorage(e,t),"object"==typeof globalThis&&(globalThis.JUITemp[e]=t)}addInLocalstorage(e,t){window.localStorage.setItem(e,t)}get(e){return globalThis.JUITemp[e]}caller(){console.log("called from "+arguments.callee.caller.toString())}showmsg(e,t=1e4){let n=document.querySelector("#showMsgAlert");this.buffer.showmsg&&clearTimeout(this.buffer.showmsg),n?(n.classList.add("show"),this.select("#showMsgBody").innerHTML=e):this.insert(document.body,this.getModalHtml(e,"Alert"),"beforebegin"),setTimeout((()=>{let e=this.getBS(document.querySelector("#showMsgAlert"),"Alert");e.close&&e.close()}),t)}alert(e){document.getElementById("showBSModal")?(this.getBS("#showBSModal","Modal").show(),this.select("#showBSBody").innerHTML=e||"No msg provided..."):(this.insert(document.body,this.getModalHtml(e,"showBSModal"),"beforeend"),this.getBS("#showBSModal","Modal").show())}formatXml(e,t){let n=t||!1,o=n?e.match(/<!--\[CDATA\[[\s\S]*?\]\]-->/gim):"";if(e=e.replace(/\t/g,"").replace(/(>)(<)(\/*)/g,"$1\n$2$3").replace(/ *(.*) +\n/g,"$1\n").replace(/(<.+>)(.+\n)/g,"$1\n$2"),n){let t=e.match(/<!--\[CDATA\[[\s\S]*?\]\]-->/gim);e=e.replace(t,o)}let r="",i=e.split("\n"),a=0,l="other",s={"single->single":0,"single->closing":-1,"single->opening":0,"single->other":0,"closing->single":0,"closing->closing":-1,"closing->opening":0,"closing->other":0,"opening->single":1,"opening->closing":0,"opening->opening":1,"opening->other":1,"other->single":0,"other->closing":-1,"other->opening":0,"other->other":0};for(let e=0;e<i.length;e++){let t=i[e];if(""!=t){let e=Boolean(t.match(/<.+\/>/)),n=Boolean(t.match(/<\/.+>/)),o=Boolean(t.match(/<[^!].*>/)),i=e?"single":n?"closing":o?"opening":"other",c=l+"->"+i;l=i;let d="";a+=s[c];for(let e=0;e<a;e++)d+="\t";"opening->closing"==c?r=r.substr(0,r.length-1)+t+"\n":r+=d+t+"\n"}}return r}getModalHtml(e,t){switch(t){case"Alert":return`\n                    <div id="showMsgAlert" class="alert alert-warning alert-dismissible text-center fade show" role="alert" style="z-index:99999;min-height:50px;position:fixed;width:100%;">\n                        <span id="showMsgBody">${e}</span>\n                        <button type="button" class="btn-close close" style="margin-top: -3px;" data-bs-dismiss="alert" data-dismiss="alert"  aria-label="Close"></button>\n                    </div>\n                `;case"showBSModal":return`\n                    <div class="modal fade" id="showBSModal" tabindex="-1" aria-labelledby="Alert" aria-hidden="true">\n                        <div class="modal-dialog modal-dialog-centered" id="showBSDialog">\n                            <div class="modal-content">\n                                <div class="modal-body text-center fs-5 pt-4" id="showBSBody">\n                                    ${e}\n                                </div>\n                                <div class="modal-footer">\n                                    <button type="button" class="btn bg-light m-auto text-dark border border-secondary" data-bs-dismiss="modal" data-dismiss="modal">OK</button>\n                                </div>\n                            </div>\n                        </div>\n                    </div>`;default:return"<div>Nothing</div>"}}isValid(e,t=!1){return!(!e||null==e||""==e||"undefined"==e||null==e)||!(!t||e==t)}store(e,t){}query(e){var t="item_error_log=1";if("object"==typeof e)for(let n in e)"object"!=typeof e[n]&&(t+="&"+n+"="+e[n]);return t}activate(e){document.querySelector("#activateLoaderContainer")&&document.querySelector("#activateLoaderContainer").remove(),e>0&&this.insert(document.body,'<div id="activateLoaderContainer" class="activateOverlay" style="z-index:9999999;"><center><div class="activator" style="height:100px; width: 100px;"></div></center></div>',"afterend")}onListen(e,t,n,o){let r=o.target,i=r.closest&&r.closest(e);i&&n.contains(i)&&t.call(this,i,o)}isFocus(e){return("object"==typeof e?e:document.querySelector(e))==document.activeElement}innerChild(e){let t="object"==typeof e?e:document.querySelector(e),n=t;if(t&&t.lastChild)for(t=t.lastChild;t;)n=t,t=t.lastChild;return n}templateHtml(e){let t=document.createElement("template");return t.innerHTML=e,t.content.firstElementChild.cloneNode(!0)}selectAction(e,t){switch(t){case"hidden":return Array.prototype.filter.call(document.querySelectorAll(e),(e=>0==e.offsetWidth&&0==e.offsetHeight));case"visible":return Array.prototype.filter.call(document.querySelectorAll(e),(e=>e.offsetWidth>0&&e.offsetHeight>0));case"selected":return Array.prototype.filter.call(document.querySelectorAll(e),(e=>e.selected));case"checked":return Array.prototype.filter.call(document.querySelectorAll(e),(e=>e.checked));case"enabled":return document.querySelectorAll(e+":not([disabled]");case"children":return document.querySelector(e).children;case"childNodes":return document.querySelector(e).childNodes;default:return document.querySelector(e)}}jsAction(e,t){if(e instanceof HTMLElement||e instanceof Node)switch(t.action){case"show":e.style.display=t.actionData||"";break;case"hide":e.style.display="none";break;case"toggleDisplay":e.style.display="none"==e.style.display?"block":"none";break;case"addClass":"object"==typeof t.actionData?e.classList.add(...t.actionData):e.classList.add(t.actionData);break;case"removeClass":"object"==typeof t.actionData?e.classList.remove(...t.actionData):e.classList.remove(t.actionData);break;case"toggleClass":e.classList.toggle(t.actionData);break;case"html":e.innerHTML=t.actionData;break;case"value":e.value=t.actionData;break;case"text":e.textContent=t.actionData;break;case"checked":e.checked=t.actionData;break;case"remove":e.remove();break;case"removeAttr":e.removeAttribute(t.actionData);break;case"css":this.setCss(e,t.actionData);break;case"attr":this.setAttr(e,t.actionData);break;case"data":this.setData(e,t.actionData);break;case"getData":this.getData(e,t.actionData)}}slideUp(e,t=500){e.style.transitionProperty="height, margin, padding",e.style.transitionDuration=t+"ms",e.style.boxSizing="border-box",e.style.height=e.offsetHeight+"px",e.offsetHeight,e.style.overflow="hidden",e.style.height=0,e.style.paddingTop=0,e.style.paddingBottom=0,e.style.marginTop=0,e.style.marginBottom=0,window.setTimeout((()=>{e.style.display="none",e.style.removeProperty("height"),e.style.removeProperty("padding-top"),e.style.removeProperty("padding-bottom"),e.style.removeProperty("margin-top"),e.style.removeProperty("margin-bottom"),e.style.removeProperty("overflow"),e.style.removeProperty("transition-duration"),e.style.removeProperty("transition-property")}),t)}slideDown(e,t=500){e.style.removeProperty("display");let n=window.getComputedStyle(e).display;"none"===n&&(n="block"),e.style.display=n;let o=e.offsetHeight;e.style.overflow="hidden",e.style.height=0,e.style.paddingTop=0,e.style.paddingBottom=0,e.style.marginTop=0,e.style.marginBottom=0,e.offsetHeight,e.style.boxSizing="border-box",e.style.transitionProperty="height, margin, padding",e.style.transitionDuration=t+"ms",e.style.height=o+"px",e.style.removeProperty("padding-top"),e.style.removeProperty("padding-bottom"),e.style.removeProperty("margin-top"),e.style.removeProperty("margin-bottom"),window.setTimeout((()=>{e.style.removeProperty("height"),e.style.removeProperty("overflow"),e.style.removeProperty("transition-duration"),e.style.removeProperty("transition-property")}),t)}slideToggle(e,t=500){return"none"===window.getComputedStyle(e).display?this.slideDown(e,t):this.slideUp(e,t)}setCookie(e,t,n){const o=new Date;o.setTime(o.getTime()+24*n*60*60*1e3);let r="expires="+o.toUTCString();document.cookie=e+"="+t+";"+r+";path=/"}getCookie(e){let t=e+"=",n=decodeURIComponent(document.cookie).split(";");for(let e=0;e<n.length;e++){let o=n[e];for(;" "==o.charAt(0);)o=o.substring(1);if(0==o.indexOf(t))return o.substring(t.length,o.length)}return""}}new G;
/*!
     * hotkeys-js v3.8.7
     * A simple micro-library for defining and dispatching keyboard shortcuts. It has no dependencies.
     * 
     * Copyright (c) 2021 kenny wong <wowohoo@qq.com>
     * http://jaywcjlove.github.io/hotkeys
     * 
     * Licensed under the MIT license.
     */var V="undefined"!=typeof navigator&&navigator.userAgent.toLowerCase().indexOf("firefox")>0;function Q(e,t,n){e.addEventListener?e.addEventListener(t,n,!1):e.attachEvent&&e.attachEvent("on".concat(t),(function(){n(window.event)}))}function Z(e,t){for(var n=t.slice(0,t.length-1),o=0;o<n.length;o++)n[o]=e[n[o].toLowerCase()];return n}function ee(e){"string"!=typeof e&&(e="");for(var t=(e=e.replace(/\s/g,"")).split(","),n=t.lastIndexOf("");n>=0;)t[n-1]+=",",t.splice(n,1),n=t.lastIndexOf("");return t}for(var te={backspace:8,tab:9,clear:12,enter:13,return:13,esc:27,escape:27,space:32,left:37,up:38,right:39,down:40,del:46,delete:46,ins:45,insert:45,home:36,end:35,pageup:33,pagedown:34,capslock:20,num_0:96,num_1:97,num_2:98,num_3:99,num_4:100,num_5:101,num_6:102,num_7:103,num_8:104,num_9:105,num_multiply:106,num_add:107,num_enter:108,num_subtract:109,num_decimal:110,num_divide:111,"⇪":20,",":188,".":190,"/":191,"`":192,"-":V?173:189,"=":V?61:187,";":V?59:186,"'":222,"[":219,"]":221,"\\":220},ne={"⇧":16,shift:16,"⌥":18,alt:18,option:18,"⌃":17,ctrl:17,control:17,"⌘":91,cmd:91,command:91},oe={16:"shiftKey",18:"altKey",17:"ctrlKey",91:"metaKey",shiftKey:16,ctrlKey:17,altKey:18,metaKey:91},re={16:!1,18:!1,17:!1,91:!1},ie={},ae=1;ae<20;ae++)te["f".concat(ae)]=111+ae;var le=[],se="all",ce=[],de=function(e){return te[e.toLowerCase()]||ne[e.toLowerCase()]||e.toUpperCase().charCodeAt(0)};function ue(e){se=e||"all"}function he(){return se||"all"}var fe=function(e){var t=e.key,n=e.scope,o=e.method,r=e.splitKey,i=void 0===r?"+":r;ee(t).forEach((function(e){var t=e.split(i),r=t.length,a=t[r-1],l="*"===a?"*":de(a);if(ie[l]){n||(n=he());var s=r>1?Z(ne,t):[];ie[l]=ie[l].map((function(e){return(!o||e.method===o)&&e.scope===n&&function(e,t){for(var n=e.length>=t.length?e:t,o=e.length>=t.length?t:e,r=!0,i=0;i<n.length;i++)-1===o.indexOf(n[i])&&(r=!1);return r}(e.mods,s)?{}:e}))}}))};function pe(e,t,n){var o;if(t.scope===n||"all"===t.scope){for(var r in o=t.mods.length>0,re)Object.prototype.hasOwnProperty.call(re,r)&&(!re[r]&&t.mods.indexOf(+r)>-1||re[r]&&-1===t.mods.indexOf(+r))&&(o=!1);(0!==t.mods.length||re[16]||re[18]||re[17]||re[91])&&!o&&"*"!==t.shortcut||!1===t.method(e,t)&&(e.preventDefault?e.preventDefault():e.returnValue=!1,e.stopPropagation&&e.stopPropagation(),e.cancelBubble&&(e.cancelBubble=!0))}}function me(e){var t=ie["*"],n=e.keyCode||e.which||e.charCode;if(ge.filter.call(this,e)){if(93!==n&&224!==n||(n=91),-1===le.indexOf(n)&&229!==n&&le.push(n),["ctrlKey","altKey","shiftKey","metaKey"].forEach((function(t){var n=oe[t];e[t]&&-1===le.indexOf(n)?le.push(n):!e[t]&&le.indexOf(n)>-1?le.splice(le.indexOf(n),1):"metaKey"===t&&e[t]&&3===le.length&&(e.ctrlKey||e.shiftKey||e.altKey||(le=le.slice(le.indexOf(n))))})),n in re){for(var o in re[n]=!0,ne)ne[o]===n&&(ge[o]=!0);if(!t)return}for(var r in re)Object.prototype.hasOwnProperty.call(re,r)&&(re[r]=e[oe[r]]);e.getModifierState&&(!e.altKey||e.ctrlKey)&&e.getModifierState("AltGraph")&&(-1===le.indexOf(17)&&le.push(17),-1===le.indexOf(18)&&le.push(18),re[17]=!0,re[18]=!0);var i=he();if(t)for(var a=0;a<t.length;a++)t[a].scope===i&&("keydown"===e.type&&t[a].keydown||"keyup"===e.type&&t[a].keyup)&&pe(e,t[a],i);if(n in ie)for(var l=0;l<ie[n].length;l++)if(("keydown"===e.type&&ie[n][l].keydown||"keyup"===e.type&&ie[n][l].keyup)&&ie[n][l].key){for(var s=ie[n][l],c=s.splitKey,d=s.key.split(c),u=[],h=0;h<d.length;h++)u.push(de(d[h]));u.sort().join("")===le.sort().join("")&&pe(e,s,i)}}}function ge(e,t,n){le=[];var o=ee(e),r=[],i="all",a=document,l=0,s=!1,c=!0,d="+";for(void 0===n&&"function"==typeof t&&(n=t),"[object Object]"===Object.prototype.toString.call(t)&&(t.scope&&(i=t.scope),t.element&&(a=t.element),t.keyup&&(s=t.keyup),void 0!==t.keydown&&(c=t.keydown),"string"==typeof t.splitKey&&(d=t.splitKey)),"string"==typeof t&&(i=t);l<o.length;l++)r=[],(e=o[l].split(d)).length>1&&(r=Z(ne,e)),(e="*"===(e=e[e.length-1])?"*":de(e))in ie||(ie[e]=[]),ie[e].push({keyup:s,keydown:c,scope:i,mods:r,shortcut:o[l],method:n,key:o[l],splitKey:d});void 0!==a&&!function(e){return ce.indexOf(e)>-1}(a)&&window&&(ce.push(a),Q(a,"keydown",(function(e){me(e)})),Q(window,"focus",(function(){le=[]})),Q(a,"keyup",(function(e){me(e),function(e){var t=e.keyCode||e.which||e.charCode,n=le.indexOf(t);if(n>=0&&le.splice(n,1),e.key&&"meta"===e.key.toLowerCase()&&le.splice(0,le.length),93!==t&&224!==t||(t=91),t in re)for(var o in re[t]=!1,ne)ne[o]===t&&(ge[o]=!1)}(e)})))}var ve={setScope:ue,getScope:he,deleteScope:function(e,t){var n,o;for(var r in e||(e=he()),ie)if(Object.prototype.hasOwnProperty.call(ie,r))for(n=ie[r],o=0;o<n.length;)n[o].scope===e?n.splice(o,1):o++;he()===e&&ue(t||"all")},getPressedKeyCodes:function(){return le.slice(0)},isPressed:function(e){return"string"==typeof e&&(e=de(e)),-1!==le.indexOf(e)},filter:function(e){var t=e.target||e.srcElement,n=t.tagName,o=!0;return!t.isContentEditable&&("INPUT"!==n&&"TEXTAREA"!==n&&"SELECT"!==n||t.readOnly)||(o=!1),o},unbind:function(e){if(e){if(Array.isArray(e))e.forEach((function(e){e.key&&fe(e)}));else if("object"==typeof e)e.key&&fe(e);else if("string"==typeof e){for(var t=arguments.length,n=new Array(t>1?t-1:0),o=1;o<t;o++)n[o-1]=arguments[o];var r=n[0],i=n[1];"function"==typeof r&&(i=r,r=""),fe({key:e,scope:r,method:i,splitKey:"+"})}}else Object.keys(ie).forEach((function(e){return delete ie[e]}))}};for(var be in ve)Object.prototype.hasOwnProperty.call(ve,be)&&(ge[be]=ve[be]);if("undefined"!=typeof window){var ye=window.hotkeys;ge.noConflict=function(e){return e&&window.hotkeys===ge&&(window.hotkeys=ye),ge},window.hotkeys=ge}
/**!
     * Sortable 1.13.0
     * @author	RubaXa   <trash@rubaxa.org>
     * @author	owenm    <owen23355@gmail.com>
     * @license MIT
     */function we(e){return(we="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _e(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function xe(){return(xe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e}).apply(this,arguments)}function Se(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},o=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),o.forEach((function(t){_e(e,t,n[t])}))}return e}function Ae(e,t){if(null==e)return{};var n,o,r=function(e,t){if(null==e)return{};var n,o,r={},i=Object.keys(e);for(o=0;o<i.length;o++)n=i[o],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++)n=i[o],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Ee(e){if("undefined"!=typeof window&&window.navigator)return!!navigator.userAgent.match(e)}var Ce=Ee(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),De=Ee(/Edge/i),ke=Ee(/firefox/i),Te=Ee(/safari/i)&&!Ee(/chrome/i)&&!Ee(/android/i),Me=Ee(/iP(ad|od|hone)/i),Oe=Ee(/chrome/i)&&Ee(/android/i),Ne={capture:!1,passive:!1};function Pe(e,t,n){e.addEventListener(t,n,!Ce&&Ne)}function je(e,t,n){e.removeEventListener(t,n,!Ce&&Ne)}function Ie(e,t){if(t){if(">"===t[0]&&(t=t.substring(1)),e)try{if(e.matches)return e.matches(t);if(e.msMatchesSelector)return e.msMatchesSelector(t);if(e.webkitMatchesSelector)return e.webkitMatchesSelector(t)}catch(e){return!1}return!1}}function Le(e){return e.host&&e!==document&&e.host.nodeType?e.host:e.parentNode}function qe(e,t,n,o){if(e){n=n||document;do{if(null!=t&&(">"===t[0]?e.parentNode===n&&Ie(e,t):Ie(e,t))||o&&e===n)return e;if(e===n)break}while(e=Le(e))}return null}var Xe,Re=/\s+/g;function Be(e,t,n){if(e&&t)if(e.classList)e.classList[n?"add":"remove"](t);else{var o=(" "+e.className+" ").replace(Re," ").replace(" "+t+" "," ");e.className=(o+(n?" "+t:"")).replace(Re," ")}}function He(e,t,n){var o=e&&e.style;if(o){if(void 0===n)return document.defaultView&&document.defaultView.getComputedStyle?n=document.defaultView.getComputedStyle(e,""):e.currentStyle&&(n=e.currentStyle),void 0===t?n:n[t];t in o||-1!==t.indexOf("webkit")||(t="-webkit-"+t),o[t]=n+("string"==typeof n?"":"px")}}function $e(e,t){var n="";if("string"==typeof e)n=e;else do{var o=He(e,"transform");o&&"none"!==o&&(n=o+" "+n)}while(!t&&(e=e.parentNode));var r=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix;return r&&new r(n)}function Fe(e,t,n){if(e){var o=e.getElementsByTagName(t),r=0,i=o.length;if(n)for(;r<i;r++)n(o[r],r);return o}return[]}function Ye(){var e=document.scrollingElement;return e||document.documentElement}function Ue(e,t,n,o,r){if(e.getBoundingClientRect||e===window){var i,a,l,s,c,d,u;if(e!==window&&e.parentNode&&e!==Ye()?(a=(i=e.getBoundingClientRect()).top,l=i.left,s=i.bottom,c=i.right,d=i.height,u=i.width):(a=0,l=0,s=window.innerHeight,c=window.innerWidth,d=window.innerHeight,u=window.innerWidth),(t||n)&&e!==window&&(r=r||e.parentNode,!Ce))do{if(r&&r.getBoundingClientRect&&("none"!==He(r,"transform")||n&&"static"!==He(r,"position"))){var h=r.getBoundingClientRect();a-=h.top+parseInt(He(r,"border-top-width")),l-=h.left+parseInt(He(r,"border-left-width")),s=a+i.height,c=l+i.width;break}}while(r=r.parentNode);if(o&&e!==window){var f=$e(r||e),p=f&&f.a,m=f&&f.d;f&&(s=(a/=m)+(d/=m),c=(l/=p)+(u/=p))}return{top:a,left:l,bottom:s,right:c,width:u,height:d}}}function ze(e,t,n){for(var o=Ve(e,!0),r=Ue(e)[t];o;){var i=Ue(o)[n];if(!("top"===n||"left"===n?r>=i:r<=i))return o;if(o===Ye())break;o=Ve(o,!1)}return!1}function Je(e,t,n){for(var o=0,r=0,i=e.children;r<i.length;){if("none"!==i[r].style.display&&i[r]!==Zt.ghost&&i[r]!==Zt.dragged&&qe(i[r],n.draggable,e,!1)){if(o===t)return i[r];o++}r++}return null}function We(e,t){for(var n=e.lastElementChild;n&&(n===Zt.ghost||"none"===He(n,"display")||t&&!Ie(n,t));)n=n.previousElementSibling;return n||null}function Ke(e,t){var n=0;if(!e||!e.parentNode)return-1;for(;e=e.previousElementSibling;)"TEMPLATE"===e.nodeName.toUpperCase()||e===Zt.clone||t&&!Ie(e,t)||n++;return n}function Ge(e){var t=0,n=0,o=Ye();if(e)do{var r=$e(e),i=r.a,a=r.d;t+=e.scrollLeft*i,n+=e.scrollTop*a}while(e!==o&&(e=e.parentNode));return[t,n]}function Ve(e,t){if(!e||!e.getBoundingClientRect)return Ye();var n=e,o=!1;do{if(n.clientWidth<n.scrollWidth||n.clientHeight<n.scrollHeight){var r=He(n);if(n.clientWidth<n.scrollWidth&&("auto"==r.overflowX||"scroll"==r.overflowX)||n.clientHeight<n.scrollHeight&&("auto"==r.overflowY||"scroll"==r.overflowY)){if(!n.getBoundingClientRect||n===document.body)return Ye();if(o||t)return n;o=!0}}}while(n=n.parentNode);return Ye()}function Qe(e,t){return Math.round(e.top)===Math.round(t.top)&&Math.round(e.left)===Math.round(t.left)&&Math.round(e.height)===Math.round(t.height)&&Math.round(e.width)===Math.round(t.width)}function Ze(e,t){return function(){if(!Xe){var n=arguments,o=this;1===n.length?e.call(o,n[0]):e.apply(o,n),Xe=setTimeout((function(){Xe=void 0}),t)}}}function et(e,t,n){e.scrollLeft+=t,e.scrollTop+=n}function tt(e){var t=window.Polymer,n=window.jQuery||window.Zepto;return t&&t.dom?t.dom(e).cloneNode(!0):n?n(e).clone(!0)[0]:e.cloneNode(!0)}var nt="Sortable"+(new Date).getTime();function ot(){var e,t=[];return{captureAnimationState:function(){(t=[],this.options.animation)&&[].slice.call(this.el.children).forEach((function(e){if("none"!==He(e,"display")&&e!==Zt.ghost){t.push({target:e,rect:Ue(e)});var n=Se({},t[t.length-1].rect);if(e.thisAnimationDuration){var o=$e(e,!0);o&&(n.top-=o.f,n.left-=o.e)}e.fromRect=n}}))},addAnimationState:function(e){t.push(e)},removeAnimationState:function(e){t.splice(function(e,t){for(var n in e)if(e.hasOwnProperty(n))for(var o in t)if(t.hasOwnProperty(o)&&t[o]===e[n][o])return Number(n);return-1}(t,{target:e}),1)},animateAll:function(n){var o=this;if(!this.options.animation)return clearTimeout(e),void("function"==typeof n&&n());var r=!1,i=0;t.forEach((function(e){var t=0,n=e.target,a=n.fromRect,l=Ue(n),s=n.prevFromRect,c=n.prevToRect,d=e.rect,u=$e(n,!0);u&&(l.top-=u.f,l.left-=u.e),n.toRect=l,n.thisAnimationDuration&&Qe(s,l)&&!Qe(a,l)&&(d.top-l.top)/(d.left-l.left)==(a.top-l.top)/(a.left-l.left)&&(t=function(e,t,n,o){return Math.sqrt(Math.pow(t.top-e.top,2)+Math.pow(t.left-e.left,2))/Math.sqrt(Math.pow(t.top-n.top,2)+Math.pow(t.left-n.left,2))*o.animation}(d,s,c,o.options)),Qe(l,a)||(n.prevFromRect=a,n.prevToRect=l,t||(t=o.options.animation),o.animate(n,d,l,t)),t&&(r=!0,i=Math.max(i,t),clearTimeout(n.animationResetTimer),n.animationResetTimer=setTimeout((function(){n.animationTime=0,n.prevFromRect=null,n.fromRect=null,n.prevToRect=null,n.thisAnimationDuration=null}),t),n.thisAnimationDuration=t)})),clearTimeout(e),r?e=setTimeout((function(){"function"==typeof n&&n()}),i):"function"==typeof n&&n(),t=[]},animate:function(e,t,n,o){if(o){He(e,"transition",""),He(e,"transform","");var r=$e(this.el),i=r&&r.a,a=r&&r.d,l=(t.left-n.left)/(i||1),s=(t.top-n.top)/(a||1);e.animatingX=!!l,e.animatingY=!!s,He(e,"transform","translate3d("+l+"px,"+s+"px,0)"),this.forRepaintDummy=function(e){return e.offsetWidth}(e),He(e,"transition","transform "+o+"ms"+(this.options.easing?" "+this.options.easing:"")),He(e,"transform","translate3d(0,0,0)"),"number"==typeof e.animated&&clearTimeout(e.animated),e.animated=setTimeout((function(){He(e,"transition",""),He(e,"transform",""),e.animated=!1,e.animatingX=!1,e.animatingY=!1}),o)}}}}var rt=[],it={initializeByDefault:!0},at={mount:function(e){for(var t in it)it.hasOwnProperty(t)&&!(t in e)&&(e[t]=it[t]);rt.forEach((function(t){if(t.pluginName===e.pluginName)throw"Sortable: Cannot mount plugin ".concat(e.pluginName," more than once")})),rt.push(e)},pluginEvent:function(e,t,n){var o=this;this.eventCanceled=!1,n.cancel=function(){o.eventCanceled=!0};var r=e+"Global";rt.forEach((function(o){t[o.pluginName]&&(t[o.pluginName][r]&&t[o.pluginName][r](Se({sortable:t},n)),t.options[o.pluginName]&&t[o.pluginName][e]&&t[o.pluginName][e](Se({sortable:t},n)))}))},initializePlugins:function(e,t,n,o){for(var r in rt.forEach((function(o){var r=o.pluginName;if(e.options[r]||o.initializeByDefault){var i=new o(e,t,e.options);i.sortable=e,i.options=e.options,e[r]=i,xe(n,i.defaults)}})),e.options)if(e.options.hasOwnProperty(r)){var i=this.modifyOption(e,r,e.options[r]);void 0!==i&&(e.options[r]=i)}},getEventProperties:function(e,t){var n={};return rt.forEach((function(o){"function"==typeof o.eventProperties&&xe(n,o.eventProperties.call(t[o.pluginName],e))})),n},modifyOption:function(e,t,n){var o;return rt.forEach((function(r){e[r.pluginName]&&r.optionListeners&&"function"==typeof r.optionListeners[t]&&(o=r.optionListeners[t].call(e[r.pluginName],n))})),o}};var lt=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=n.evt,r=Ae(n,["evt"]);at.pluginEvent.bind(Zt)(e,t,Se({dragEl:ct,parentEl:dt,ghostEl:ut,rootEl:ht,nextEl:ft,lastDownEl:pt,cloneEl:mt,cloneHidden:gt,dragStarted:Tt,putSortable:xt,activeSortable:Zt.active,originalEvent:o,oldIndex:vt,oldDraggableIndex:yt,newIndex:bt,newDraggableIndex:wt,hideGhostForTarget:Kt,unhideGhostForTarget:Gt,cloneNowHidden:function(){gt=!0},cloneNowShown:function(){gt=!1},dispatchSortableEvent:function(e){st({sortable:t,name:e,originalEvent:o})}},r))};function st(e){!function(e){var t=e.sortable,n=e.rootEl,o=e.name,r=e.targetEl,i=e.cloneEl,a=e.toEl,l=e.fromEl,s=e.oldIndex,c=e.newIndex,d=e.oldDraggableIndex,u=e.newDraggableIndex,h=e.originalEvent,f=e.putSortable,p=e.extraEventProperties;if(t=t||n&&n[nt]){var m,g=t.options,v="on"+o.charAt(0).toUpperCase()+o.substr(1);!window.CustomEvent||Ce||De?(m=document.createEvent("Event")).initEvent(o,!0,!0):m=new CustomEvent(o,{bubbles:!0,cancelable:!0}),m.to=a||n,m.from=l||n,m.item=r||n,m.clone=i,m.oldIndex=s,m.newIndex=c,m.oldDraggableIndex=d,m.newDraggableIndex=u,m.originalEvent=h,m.pullMode=f?f.lastPutMode:void 0;var b=Se({},p,at.getEventProperties(o,t));for(var y in b)m[y]=b[y];n&&n.dispatchEvent(m),g[v]&&g[v].call(t,m)}}(Se({putSortable:xt,cloneEl:mt,targetEl:ct,rootEl:ht,oldIndex:vt,oldDraggableIndex:yt,newIndex:bt,newDraggableIndex:wt},e))}var ct,dt,ut,ht,ft,pt,mt,gt,vt,bt,yt,wt,_t,xt,St,At,Et,Ct,Dt,kt,Tt,Mt,Ot,Nt,Pt,jt=!1,It=!1,Lt=[],qt=!1,Xt=!1,Rt=[],Bt=!1,Ht=[],$t="undefined"!=typeof document,Ft=Me,Yt=De||Ce?"cssFloat":"float",Ut=$t&&!Oe&&!Me&&"draggable"in document.createElement("div"),zt=function(){if($t){if(Ce)return!1;var e=document.createElement("x");return e.style.cssText="pointer-events:auto","auto"===e.style.pointerEvents}}(),Jt=function(e,t){var n=He(e),o=parseInt(n.width)-parseInt(n.paddingLeft)-parseInt(n.paddingRight)-parseInt(n.borderLeftWidth)-parseInt(n.borderRightWidth),r=Je(e,0,t),i=Je(e,1,t),a=r&&He(r),l=i&&He(i),s=a&&parseInt(a.marginLeft)+parseInt(a.marginRight)+Ue(r).width,c=l&&parseInt(l.marginLeft)+parseInt(l.marginRight)+Ue(i).width;if("flex"===n.display)return"column"===n.flexDirection||"column-reverse"===n.flexDirection?"vertical":"horizontal";if("grid"===n.display)return n.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal";if(r&&a.float&&"none"!==a.float){var d="left"===a.float?"left":"right";return!i||"both"!==l.clear&&l.clear!==d?"horizontal":"vertical"}return r&&("block"===a.display||"flex"===a.display||"table"===a.display||"grid"===a.display||s>=o&&"none"===n[Yt]||i&&"none"===n[Yt]&&s+c>o)?"vertical":"horizontal"},Wt=function(e){function t(e,n){return function(o,r,i,a){var l=o.options.group.name&&r.options.group.name&&o.options.group.name===r.options.group.name;if(null==e&&(n||l))return!0;if(null==e||!1===e)return!1;if(n&&"clone"===e)return e;if("function"==typeof e)return t(e(o,r,i,a),n)(o,r,i,a);var s=(n?o:r).options.group.name;return!0===e||"string"==typeof e&&e===s||e.join&&e.indexOf(s)>-1}}var n={},o=e.group;o&&"object"==we(o)||(o={name:o}),n.name=o.name,n.checkPull=t(o.pull,!0),n.checkPut=t(o.put),n.revertClone=o.revertClone,e.group=n},Kt=function(){!zt&&ut&&He(ut,"display","none")},Gt=function(){!zt&&ut&&He(ut,"display","")};$t&&document.addEventListener("click",(function(e){if(It)return e.preventDefault(),e.stopPropagation&&e.stopPropagation(),e.stopImmediatePropagation&&e.stopImmediatePropagation(),It=!1,!1}),!0);var Vt=function(e){if(ct){e=e.touches?e.touches[0]:e;var t=(r=e.clientX,i=e.clientY,Lt.some((function(e){if(!We(e)){var t=Ue(e),n=e[nt].options.emptyInsertThreshold,o=r>=t.left-n&&r<=t.right+n,l=i>=t.top-n&&i<=t.bottom+n;return n&&o&&l?a=e:void 0}})),a);if(t){var n={};for(var o in e)e.hasOwnProperty(o)&&(n[o]=e[o]);n.target=n.rootEl=t,n.preventDefault=void 0,n.stopPropagation=void 0,t[nt]._onDragOver(n)}}var r,i,a},Qt=function(e){ct&&ct.parentNode[nt]._isOutsideThisEl(e.target)};function Zt(e,t){if(!e||!e.nodeType||1!==e.nodeType)throw"Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(e));this.el=e,this.options=t=xe({},t),e[nt]=this;var n={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(e.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return Jt(e,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(e,t){e.setData("Text",t.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:!1!==Zt.supportPointer&&"PointerEvent"in window&&!Te,emptyInsertThreshold:5};for(var o in at.initializePlugins(this,e,n),n)!(o in t)&&(t[o]=n[o]);for(var r in Wt(t),this)"_"===r.charAt(0)&&"function"==typeof this[r]&&(this[r]=this[r].bind(this));this.nativeDraggable=!t.forceFallback&&Ut,this.nativeDraggable&&(this.options.touchStartThreshold=1),t.supportPointer?Pe(e,"pointerdown",this._onTapStart):(Pe(e,"mousedown",this._onTapStart),Pe(e,"touchstart",this._onTapStart)),this.nativeDraggable&&(Pe(e,"dragover",this),Pe(e,"dragenter",this)),Lt.push(this.el),t.store&&t.store.get&&this.sort(t.store.get(this)||[]),xe(this,ot())}function en(e,t,n,o,r,i,a,l){var s,c,d=e[nt],u=d.options.onMove;return!window.CustomEvent||Ce||De?(s=document.createEvent("Event")).initEvent("move",!0,!0):s=new CustomEvent("move",{bubbles:!0,cancelable:!0}),s.to=t,s.from=e,s.dragged=n,s.draggedRect=o,s.related=r||t,s.relatedRect=i||Ue(t),s.willInsertAfter=l,s.originalEvent=a,e.dispatchEvent(s),u&&(c=u.call(d,s,a)),c}function tn(e){e.draggable=!1}function nn(){Bt=!1}function on(e){for(var t=e.tagName+e.className+e.src+e.href+e.textContent,n=t.length,o=0;n--;)o+=t.charCodeAt(n);return o.toString(36)}function rn(e){return setTimeout(e,0)}function an(e){return clearTimeout(e)}Zt.prototype={constructor:Zt,_isOutsideThisEl:function(e){this.el.contains(e)||e===this.el||(Mt=null)},_getDirection:function(e,t){return"function"==typeof this.options.direction?this.options.direction.call(this,e,t,ct):this.options.direction},_onTapStart:function(e){if(e.cancelable){var t=this,n=this.el,o=this.options,r=o.preventOnFilter,i=e.type,a=e.touches&&e.touches[0]||e.pointerType&&"touch"===e.pointerType&&e,l=(a||e).target,s=e.target.shadowRoot&&(e.path&&e.path[0]||e.composedPath&&e.composedPath()[0])||l,c=o.filter;if(function(e){Ht.length=0;var t=e.getElementsByTagName("input"),n=t.length;for(;n--;){var o=t[n];o.checked&&Ht.push(o)}}(n),!ct&&!(/mousedown|pointerdown/.test(i)&&0!==e.button||o.disabled)&&!s.isContentEditable&&(this.nativeDraggable||!Te||!l||"SELECT"!==l.tagName.toUpperCase())&&!((l=qe(l,o.draggable,n,!1))&&l.animated||pt===l)){if(vt=Ke(l),yt=Ke(l,o.draggable),"function"==typeof c){if(c.call(this,e,l,this))return st({sortable:t,rootEl:s,name:"filter",targetEl:l,toEl:n,fromEl:n}),lt("filter",t,{evt:e}),void(r&&e.cancelable&&e.preventDefault())}else if(c&&(c=c.split(",").some((function(o){if(o=qe(s,o.trim(),n,!1))return st({sortable:t,rootEl:o,name:"filter",targetEl:l,fromEl:n,toEl:n}),lt("filter",t,{evt:e}),!0}))))return void(r&&e.cancelable&&e.preventDefault());o.handle&&!qe(s,o.handle,n,!1)||this._prepareDragStart(e,a,l)}}},_prepareDragStart:function(e,t,n){var o,r=this,i=r.el,a=r.options,l=i.ownerDocument;if(n&&!ct&&n.parentNode===i){var s=Ue(n);if(ht=i,dt=(ct=n).parentNode,ft=ct.nextSibling,pt=n,_t=a.group,Zt.dragged=ct,St={target:ct,clientX:(t||e).clientX,clientY:(t||e).clientY},Dt=St.clientX-s.left,kt=St.clientY-s.top,this._lastX=(t||e).clientX,this._lastY=(t||e).clientY,ct.style["will-change"]="all",o=function(){lt("delayEnded",r,{evt:e}),Zt.eventCanceled?r._onDrop():(r._disableDelayedDragEvents(),!ke&&r.nativeDraggable&&(ct.draggable=!0),r._triggerDragStart(e,t),st({sortable:r,name:"choose",originalEvent:e}),Be(ct,a.chosenClass,!0))},a.ignore.split(",").forEach((function(e){Fe(ct,e.trim(),tn)})),Pe(l,"dragover",Vt),Pe(l,"mousemove",Vt),Pe(l,"touchmove",Vt),Pe(l,"mouseup",r._onDrop),Pe(l,"touchend",r._onDrop),Pe(l,"touchcancel",r._onDrop),ke&&this.nativeDraggable&&(this.options.touchStartThreshold=4,ct.draggable=!0),lt("delayStart",this,{evt:e}),!a.delay||a.delayOnTouchOnly&&!t||this.nativeDraggable&&(De||Ce))o();else{if(Zt.eventCanceled)return void this._onDrop();Pe(l,"mouseup",r._disableDelayedDrag),Pe(l,"touchend",r._disableDelayedDrag),Pe(l,"touchcancel",r._disableDelayedDrag),Pe(l,"mousemove",r._delayedDragTouchMoveHandler),Pe(l,"touchmove",r._delayedDragTouchMoveHandler),a.supportPointer&&Pe(l,"pointermove",r._delayedDragTouchMoveHandler),r._dragStartTimer=setTimeout(o,a.delay)}}},_delayedDragTouchMoveHandler:function(e){var t=e.touches?e.touches[0]:e;Math.max(Math.abs(t.clientX-this._lastX),Math.abs(t.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){ct&&tn(ct),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var e=this.el.ownerDocument;je(e,"mouseup",this._disableDelayedDrag),je(e,"touchend",this._disableDelayedDrag),je(e,"touchcancel",this._disableDelayedDrag),je(e,"mousemove",this._delayedDragTouchMoveHandler),je(e,"touchmove",this._delayedDragTouchMoveHandler),je(e,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(e,t){t=t||"touch"==e.pointerType&&e,!this.nativeDraggable||t?this.options.supportPointer?Pe(document,"pointermove",this._onTouchMove):Pe(document,t?"touchmove":"mousemove",this._onTouchMove):(Pe(ct,"dragend",this),Pe(ht,"dragstart",this._onDragStart));try{document.selection?rn((function(){document.selection.empty()})):window.getSelection().removeAllRanges()}catch(e){}},_dragStarted:function(e,t){if(jt=!1,ht&&ct){lt("dragStarted",this,{evt:t}),this.nativeDraggable&&Pe(document,"dragover",Qt);var n=this.options;!e&&Be(ct,n.dragClass,!1),Be(ct,n.ghostClass,!0),Zt.active=this,e&&this._appendGhost(),st({sortable:this,name:"start",originalEvent:t})}else this._nulling()},_emulateDragOver:function(){if(At){this._lastX=At.clientX,this._lastY=At.clientY,Kt();for(var e=document.elementFromPoint(At.clientX,At.clientY),t=e;e&&e.shadowRoot&&(e=e.shadowRoot.elementFromPoint(At.clientX,At.clientY))!==t;)t=e;if(ct.parentNode[nt]._isOutsideThisEl(e),t)do{if(t[nt]){if(t[nt]._onDragOver({clientX:At.clientX,clientY:At.clientY,target:e,rootEl:t})&&!this.options.dragoverBubble)break}e=t}while(t=t.parentNode);Gt()}},_onTouchMove:function(e){if(St){var t=this.options,n=t.fallbackTolerance,o=t.fallbackOffset,r=e.touches?e.touches[0]:e,i=ut&&$e(ut,!0),a=ut&&i&&i.a,l=ut&&i&&i.d,s=Ft&&Pt&&Ge(Pt),c=(r.clientX-St.clientX+o.x)/(a||1)+(s?s[0]-Rt[0]:0)/(a||1),d=(r.clientY-St.clientY+o.y)/(l||1)+(s?s[1]-Rt[1]:0)/(l||1);if(!Zt.active&&!jt){if(n&&Math.max(Math.abs(r.clientX-this._lastX),Math.abs(r.clientY-this._lastY))<n)return;this._onDragStart(e,!0)}if(ut){i?(i.e+=c-(Et||0),i.f+=d-(Ct||0)):i={a:1,b:0,c:0,d:1,e:c,f:d};var u="matrix(".concat(i.a,",").concat(i.b,",").concat(i.c,",").concat(i.d,",").concat(i.e,",").concat(i.f,")");He(ut,"webkitTransform",u),He(ut,"mozTransform",u),He(ut,"msTransform",u),He(ut,"transform",u),Et=c,Ct=d,At=r}e.cancelable&&e.preventDefault()}},_appendGhost:function(){if(!ut){var e=this.options.fallbackOnBody?document.body:ht,t=Ue(ct,!0,Ft,!0,e),n=this.options;if(Ft){for(Pt=e;"static"===He(Pt,"position")&&"none"===He(Pt,"transform")&&Pt!==document;)Pt=Pt.parentNode;Pt!==document.body&&Pt!==document.documentElement?(Pt===document&&(Pt=Ye()),t.top+=Pt.scrollTop,t.left+=Pt.scrollLeft):Pt=Ye(),Rt=Ge(Pt)}Be(ut=ct.cloneNode(!0),n.ghostClass,!1),Be(ut,n.fallbackClass,!0),Be(ut,n.dragClass,!0),He(ut,"transition",""),He(ut,"transform",""),He(ut,"box-sizing","border-box"),He(ut,"margin",0),He(ut,"top",t.top),He(ut,"left",t.left),He(ut,"width",t.width),He(ut,"height",t.height),He(ut,"opacity","0.8"),He(ut,"position",Ft?"absolute":"fixed"),He(ut,"zIndex","100000"),He(ut,"pointerEvents","none"),Zt.ghost=ut,e.appendChild(ut),He(ut,"transform-origin",Dt/parseInt(ut.style.width)*100+"% "+kt/parseInt(ut.style.height)*100+"%")}},_onDragStart:function(e,t){var n=this,o=e.dataTransfer,r=n.options;lt("dragStart",this,{evt:e}),Zt.eventCanceled?this._onDrop():(lt("setupClone",this),Zt.eventCanceled||((mt=tt(ct)).draggable=!1,mt.style["will-change"]="",this._hideClone(),Be(mt,this.options.chosenClass,!1),Zt.clone=mt),n.cloneId=rn((function(){lt("clone",n),Zt.eventCanceled||(n.options.removeCloneOnHide||ht.insertBefore(mt,ct),n._hideClone(),st({sortable:n,name:"clone"}))})),!t&&Be(ct,r.dragClass,!0),t?(It=!0,n._loopId=setInterval(n._emulateDragOver,50)):(je(document,"mouseup",n._onDrop),je(document,"touchend",n._onDrop),je(document,"touchcancel",n._onDrop),o&&(o.effectAllowed="move",r.setData&&r.setData.call(n,o,ct)),Pe(document,"drop",n),He(ct,"transform","translateZ(0)")),jt=!0,n._dragStartId=rn(n._dragStarted.bind(n,t,e)),Pe(document,"selectstart",n),Tt=!0,Te&&He(document.body,"user-select","none"))},_onDragOver:function(e){var t,n,o,r,i=this.el,a=e.target,l=this.options,s=l.group,c=Zt.active,d=_t===s,u=l.sort,h=xt||c,f=this,p=!1;if(!Bt){if(void 0!==e.preventDefault&&e.cancelable&&e.preventDefault(),a=qe(a,l.draggable,i,!0),k("dragOver"),Zt.eventCanceled)return p;if(ct.contains(e.target)||a.animated&&a.animatingX&&a.animatingY||f._ignoreWhileAnimating===a)return M(!1);if(It=!1,c&&!l.disabled&&(d?u||(o=!ht.contains(ct)):xt===this||(this.lastPutMode=_t.checkPull(this,c,ct,e))&&s.checkPut(this,c,ct,e))){if(r="vertical"===this._getDirection(e,a),t=Ue(ct),k("dragOverValid"),Zt.eventCanceled)return p;if(o)return dt=ht,T(),this._hideClone(),k("revert"),Zt.eventCanceled||(ft?ht.insertBefore(ct,ft):ht.appendChild(ct)),M(!0);var m=We(i,l.draggable);if(!m||function(e,t,n){var o=Ue(We(n.el,n.options.draggable)),r=10;return t?e.clientX>o.right+r||e.clientX<=o.right&&e.clientY>o.bottom&&e.clientX>=o.left:e.clientX>o.right&&e.clientY>o.top||e.clientX<=o.right&&e.clientY>o.bottom+r}(e,r,this)&&!m.animated){if(m===ct)return M(!1);if(m&&i===e.target&&(a=m),a&&(n=Ue(a)),!1!==en(ht,i,ct,t,a,n,e,!!a))return T(),i.appendChild(ct),dt=i,O(),M(!0)}else if(a.parentNode===i){n=Ue(a);var g,v,b,y=ct.parentNode!==i,w=!function(e,t,n){var o=n?e.left:e.top,r=n?e.right:e.bottom,i=n?e.width:e.height,a=n?t.left:t.top,l=n?t.right:t.bottom,s=n?t.width:t.height;return o===a||r===l||o+i/2===a+s/2}(ct.animated&&ct.toRect||t,a.animated&&a.toRect||n,r),_=r?"top":"left",x=ze(a,"top","top")||ze(ct,"top","top"),S=x?x.scrollTop:void 0;if(Mt!==a&&(v=n[_],qt=!1,Xt=!w&&l.invertSwap||y),0!==(g=function(e,t,n,o,r,i,a,l){var s=o?e.clientY:e.clientX,c=o?n.height:n.width,d=o?n.top:n.left,u=o?n.bottom:n.right,h=!1;if(!a)if(l&&Nt<c*r){if(!qt&&(1===Ot?s>d+c*i/2:s<u-c*i/2)&&(qt=!0),qt)h=!0;else if(1===Ot?s<d+Nt:s>u-Nt)return-Ot}else if(s>d+c*(1-r)/2&&s<u-c*(1-r)/2)return function(e){return Ke(ct)<Ke(e)?1:-1}(t);if((h=h||a)&&(s<d+c*i/2||s>u-c*i/2))return s>d+c/2?1:-1;return 0}(e,a,n,r,w?1:l.swapThreshold,null==l.invertedSwapThreshold?l.swapThreshold:l.invertedSwapThreshold,Xt,Mt===a))){var A=Ke(ct);do{A-=g,b=dt.children[A]}while(b&&("none"===He(b,"display")||b===ut))}if(0===g||b===a)return M(!1);Mt=a,Ot=g;var E=a.nextElementSibling,C=!1,D=en(ht,i,ct,t,a,n,e,C=1===g);if(!1!==D)return 1!==D&&-1!==D||(C=1===D),Bt=!0,setTimeout(nn,30),T(),C&&!E?i.appendChild(ct):a.parentNode.insertBefore(ct,C?E:a),x&&et(x,0,S-x.scrollTop),dt=ct.parentNode,void 0===v||Xt||(Nt=Math.abs(v-Ue(a)[_])),O(),M(!0)}if(i.contains(ct))return M(!1)}return!1}function k(l,s){lt(l,f,Se({evt:e,isOwner:d,axis:r?"vertical":"horizontal",revert:o,dragRect:t,targetRect:n,canSort:u,fromSortable:h,target:a,completed:M,onMove:function(n,o){return en(ht,i,ct,t,n,Ue(n),e,o)},changed:O},s))}function T(){k("dragOverAnimationCapture"),f.captureAnimationState(),f!==h&&h.captureAnimationState()}function M(t){return k("dragOverCompleted",{insertion:t}),t&&(d?c._hideClone():c._showClone(f),f!==h&&(Be(ct,xt?xt.options.ghostClass:c.options.ghostClass,!1),Be(ct,l.ghostClass,!0)),xt!==f&&f!==Zt.active?xt=f:f===Zt.active&&xt&&(xt=null),h===f&&(f._ignoreWhileAnimating=a),f.animateAll((function(){k("dragOverAnimationComplete"),f._ignoreWhileAnimating=null})),f!==h&&(h.animateAll(),h._ignoreWhileAnimating=null)),(a===ct&&!ct.animated||a===i&&!a.animated)&&(Mt=null),l.dragoverBubble||e.rootEl||a===document||(ct.parentNode[nt]._isOutsideThisEl(e.target),!t&&Vt(e)),!l.dragoverBubble&&e.stopPropagation&&e.stopPropagation(),p=!0}function O(){bt=Ke(ct),wt=Ke(ct,l.draggable),st({sortable:f,name:"change",toEl:i,newIndex:bt,newDraggableIndex:wt,originalEvent:e})}},_ignoreWhileAnimating:null,_offMoveEvents:function(){je(document,"mousemove",this._onTouchMove),je(document,"touchmove",this._onTouchMove),je(document,"pointermove",this._onTouchMove),je(document,"dragover",Vt),je(document,"mousemove",Vt),je(document,"touchmove",Vt)},_offUpEvents:function(){var e=this.el.ownerDocument;je(e,"mouseup",this._onDrop),je(e,"touchend",this._onDrop),je(e,"pointerup",this._onDrop),je(e,"touchcancel",this._onDrop),je(document,"selectstart",this)},_onDrop:function(e){var t=this.el,n=this.options;bt=Ke(ct),wt=Ke(ct,n.draggable),lt("drop",this,{evt:e}),dt=ct&&ct.parentNode,bt=Ke(ct),wt=Ke(ct,n.draggable),Zt.eventCanceled||(jt=!1,Xt=!1,qt=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),an(this.cloneId),an(this._dragStartId),this.nativeDraggable&&(je(document,"drop",this),je(t,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),Te&&He(document.body,"user-select",""),He(ct,"transform",""),e&&(Tt&&(e.cancelable&&e.preventDefault(),!n.dropBubble&&e.stopPropagation()),ut&&ut.parentNode&&ut.parentNode.removeChild(ut),(ht===dt||xt&&"clone"!==xt.lastPutMode)&&mt&&mt.parentNode&&mt.parentNode.removeChild(mt),ct&&(this.nativeDraggable&&je(ct,"dragend",this),tn(ct),ct.style["will-change"]="",Tt&&!jt&&Be(ct,xt?xt.options.ghostClass:this.options.ghostClass,!1),Be(ct,this.options.chosenClass,!1),st({sortable:this,name:"unchoose",toEl:dt,newIndex:null,newDraggableIndex:null,originalEvent:e}),ht!==dt?(bt>=0&&(st({rootEl:dt,name:"add",toEl:dt,fromEl:ht,originalEvent:e}),st({sortable:this,name:"remove",toEl:dt,originalEvent:e}),st({rootEl:dt,name:"sort",toEl:dt,fromEl:ht,originalEvent:e}),st({sortable:this,name:"sort",toEl:dt,originalEvent:e})),xt&&xt.save()):bt!==vt&&bt>=0&&(st({sortable:this,name:"update",toEl:dt,originalEvent:e}),st({sortable:this,name:"sort",toEl:dt,originalEvent:e})),Zt.active&&(null!=bt&&-1!==bt||(bt=vt,wt=yt),st({sortable:this,name:"end",toEl:dt,originalEvent:e}),this.save())))),this._nulling()},_nulling:function(){lt("nulling",this),ht=ct=dt=ut=ft=mt=pt=gt=St=At=Tt=bt=wt=vt=yt=Mt=Ot=xt=_t=Zt.dragged=Zt.ghost=Zt.clone=Zt.active=null,Ht.forEach((function(e){e.checked=!0})),Ht.length=Et=Ct=0},handleEvent:function(e){switch(e.type){case"drop":case"dragend":this._onDrop(e);break;case"dragenter":case"dragover":ct&&(this._onDragOver(e),function(e){e.dataTransfer&&(e.dataTransfer.dropEffect="move");e.cancelable&&e.preventDefault()}(e));break;case"selectstart":e.preventDefault()}},toArray:function(){for(var e,t=[],n=this.el.children,o=0,r=n.length,i=this.options;o<r;o++)qe(e=n[o],i.draggable,this.el,!1)&&t.push(e.getAttribute(i.dataIdAttr)||on(e));return t},sort:function(e,t){var n={},o=this.el;this.toArray().forEach((function(e,t){var r=o.children[t];qe(r,this.options.draggable,o,!1)&&(n[e]=r)}),this),t&&this.captureAnimationState(),e.forEach((function(e){n[e]&&(o.removeChild(n[e]),o.appendChild(n[e]))})),t&&this.animateAll()},save:function(){var e=this.options.store;e&&e.set&&e.set(this)},closest:function(e,t){return qe(e,t||this.options.draggable,this.el,!1)},option:function(e,t){var n=this.options;if(void 0===t)return n[e];var o=at.modifyOption(this,e,t);n[e]=void 0!==o?o:t,"group"===e&&Wt(n)},destroy:function(){lt("destroy",this);var e=this.el;e[nt]=null,je(e,"mousedown",this._onTapStart),je(e,"touchstart",this._onTapStart),je(e,"pointerdown",this._onTapStart),this.nativeDraggable&&(je(e,"dragover",this),je(e,"dragenter",this)),Array.prototype.forEach.call(e.querySelectorAll("[draggable]"),(function(e){e.removeAttribute("draggable")})),this._onDrop(),this._disableDelayedDragEvents(),Lt.splice(Lt.indexOf(this.el),1),this.el=e=null},_hideClone:function(){if(!gt){if(lt("hideClone",this),Zt.eventCanceled)return;He(mt,"display","none"),this.options.removeCloneOnHide&&mt.parentNode&&mt.parentNode.removeChild(mt),gt=!0}},_showClone:function(e){if("clone"===e.lastPutMode){if(gt){if(lt("showClone",this),Zt.eventCanceled)return;ct.parentNode!=ht||this.options.group.revertClone?ft?ht.insertBefore(mt,ft):ht.appendChild(mt):ht.insertBefore(mt,ct),this.options.group.revertClone&&this.animate(ct,mt),He(mt,"display",""),gt=!1}}else this._hideClone()}},$t&&Pe(document,"touchmove",(function(e){(Zt.active||jt)&&e.cancelable&&e.preventDefault()})),Zt.utils={on:Pe,off:je,css:He,find:Fe,is:function(e,t){return!!qe(e,t,e,!1)},extend:function(e,t){if(e&&t)for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e},throttle:Ze,closest:qe,toggleClass:Be,clone:tt,index:Ke,nextTick:rn,cancelNextTick:an,detectDirection:Jt,getChild:Je},Zt.get=function(e){return e[nt]},Zt.mount=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];t[0].constructor===Array&&(t=t[0]),t.forEach((function(e){if(!e.prototype||!e.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(e));e.utils&&(Zt.utils=Se({},Zt.utils,e.utils)),at.mount(e)}))},Zt.create=function(e,t){return new Zt(e,t)},Zt.version="1.13.0";var ln,sn,cn,dn,un,hn,fn=[],pn=!1;function mn(){fn.forEach((function(e){clearInterval(e.pid)})),fn=[]}function gn(){clearInterval(hn)}var vn=Ze((function(e,t,n,o){if(t.scroll){var r,i=(e.touches?e.touches[0]:e).clientX,a=(e.touches?e.touches[0]:e).clientY,l=t.scrollSensitivity,s=t.scrollSpeed,c=Ye(),d=!1;sn!==n&&(sn=n,mn(),ln=t.scroll,r=t.scrollFn,!0===ln&&(ln=Ve(n,!0)));var u=0,h=ln;do{var f=h,p=Ue(f),m=p.top,g=p.bottom,v=p.left,b=p.right,y=p.width,w=p.height,_=void 0,x=void 0,S=f.scrollWidth,A=f.scrollHeight,E=He(f),C=f.scrollLeft,D=f.scrollTop;f===c?(_=y<S&&("auto"===E.overflowX||"scroll"===E.overflowX||"visible"===E.overflowX),x=w<A&&("auto"===E.overflowY||"scroll"===E.overflowY||"visible"===E.overflowY)):(_=y<S&&("auto"===E.overflowX||"scroll"===E.overflowX),x=w<A&&("auto"===E.overflowY||"scroll"===E.overflowY));var k=_&&(Math.abs(b-i)<=l&&C+y<S)-(Math.abs(v-i)<=l&&!!C),T=x&&(Math.abs(g-a)<=l&&D+w<A)-(Math.abs(m-a)<=l&&!!D);if(!fn[u])for(var M=0;M<=u;M++)fn[M]||(fn[M]={});fn[u].vx==k&&fn[u].vy==T&&fn[u].el===f||(fn[u].el=f,fn[u].vx=k,fn[u].vy=T,clearInterval(fn[u].pid),0==k&&0==T||(d=!0,fn[u].pid=setInterval(function(){o&&0===this.layer&&Zt.active._onTouchMove(un);var t=fn[this.layer].vy?fn[this.layer].vy*s:0,n=fn[this.layer].vx?fn[this.layer].vx*s:0;"function"==typeof r&&"continue"!==r.call(Zt.dragged.parentNode[nt],n,t,e,un,fn[this.layer].el)||et(fn[this.layer].el,n,t)}.bind({layer:u}),24))),u++}while(t.bubbleScroll&&h!==c&&(h=Ve(h,!1)));pn=d}}),30),bn=function(e){var t=e.originalEvent,n=e.putSortable,o=e.dragEl,r=e.activeSortable,i=e.dispatchSortableEvent,a=e.hideGhostForTarget,l=e.unhideGhostForTarget;if(t){var s=n||r;a();var c=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:t,d=document.elementFromPoint(c.clientX,c.clientY);l(),s&&!s.el.contains(d)&&(i("spill"),this.onSpill({dragEl:o,putSortable:n}))}};function yn(){}function wn(){}yn.prototype={startIndex:null,dragStart:function(e){var t=e.oldDraggableIndex;this.startIndex=t},onSpill:function(e){var t=e.dragEl,n=e.putSortable;this.sortable.captureAnimationState(),n&&n.captureAnimationState();var o=Je(this.sortable.el,this.startIndex,this.options);o?this.sortable.el.insertBefore(t,o):this.sortable.el.appendChild(t),this.sortable.animateAll(),n&&n.animateAll()},drop:bn},xe(yn,{pluginName:"revertOnSpill"}),wn.prototype={onSpill:function(e){var t=e.dragEl,n=e.putSortable||this.sortable;n.captureAnimationState(),t.parentNode&&t.parentNode.removeChild(t),n.animateAll()},drop:bn},xe(wn,{pluginName:"removeOnSpill"}),Zt.mount(new function(){function e(){for(var e in this.defaults={scroll:!0,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0},this)"_"===e.charAt(0)&&"function"==typeof this[e]&&(this[e]=this[e].bind(this))}return e.prototype={dragStarted:function(e){var t=e.originalEvent;this.sortable.nativeDraggable?Pe(document,"dragover",this._handleAutoScroll):this.options.supportPointer?Pe(document,"pointermove",this._handleFallbackAutoScroll):t.touches?Pe(document,"touchmove",this._handleFallbackAutoScroll):Pe(document,"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted:function(e){var t=e.originalEvent;this.options.dragOverBubble||t.rootEl||this._handleAutoScroll(t)},drop:function(){this.sortable.nativeDraggable?je(document,"dragover",this._handleAutoScroll):(je(document,"pointermove",this._handleFallbackAutoScroll),je(document,"touchmove",this._handleFallbackAutoScroll),je(document,"mousemove",this._handleFallbackAutoScroll)),gn(),mn(),clearTimeout(Xe),Xe=void 0},nulling:function(){un=sn=ln=pn=hn=cn=dn=null,fn.length=0},_handleFallbackAutoScroll:function(e){this._handleAutoScroll(e,!0)},_handleAutoScroll:function(e,t){var n=this,o=(e.touches?e.touches[0]:e).clientX,r=(e.touches?e.touches[0]:e).clientY,i=document.elementFromPoint(o,r);if(un=e,t||De||Ce||Te){vn(e,this.options,i,t);var a=Ve(i,!0);!pn||hn&&o===cn&&r===dn||(hn&&gn(),hn=setInterval((function(){var i=Ve(document.elementFromPoint(o,r),!0);i!==a&&(a=i,mn()),vn(e,n.options,i,t)}),10),cn=o,dn=r)}else{if(!this.options.bubbleScroll||Ve(i,!0)===Ye())return void mn();vn(e,this.options,Ve(i,!1),!1)}}},xe(e,{pluginName:"scroll",initializeByDefault:!0})}),Zt.mount(wn,yn);const _n=new G;var xn={};let Sn,An,En,Cn;xn.ajax_eId="#choose",xn.userAnsXML="",xn.errorCatchFlag=1,_n.listen("body","keyup",".sm_input_text",(function(){""==document.querySelector(".sm_input_text").value&&document.querySelector(".add-option")?document.querySelector(".add-option").disabled=!0:document.querySelector(".add-option")&&(document.querySelector(".add-option").disabled=!1)})),xn.update_XMLValue=function(){var e=[];if(_n.selectAll(".choose_item_container textarea").forEach((t=>{if(t.value.length>0){const n=t.value.replace(/\r?\n/g,"||");_n.prevElm(t,"input")&&_n.prevElm(t,"input").checked?e.push("*"+n):e.push(n)}})),document.querySelector("#special_module_xml")){var t=document.querySelector("#special_module_xml").value;_n.find(t,"list").setAttribute("headingCorrect",document.querySelector("#headingCorrect").value),_n.find(t,"list").setAttribute("allowSort",document.querySelector("#allowSort").getAttribute("value")),_n.find(t,"list").setAttribute("isSentence",document.querySelector("#isSentence").getAttribute("value")),_n.find(t,"list").setAttribute("isParagraph",document.querySelector("#isParagraph").getAttribute("value")),_n.find(t,"list").innerHTML="\x3c!--[CDATA["+e.join("\n")+"]]--\x3e",document.querySelector("#special_module_xml").value=formatXml(t.xml?t.xml:(new XMLSerializer).serializeToString(t[0]),!0)}},xn.showAns=function(e,t,n){"c"==n?(xn.review(e,1),xn.sortList(e,"correct_seq")):"u"==n&&(xn.review(e,0),xn.sortList(e,"user_seq"))},xn.sortList=function(e,t){var n=_n.selectAll(e+" #sortable > li"),o=Array.from(n);o.sort((function(e,n){var o=parseInt(e.getAttribute(t));0===o&&(o=Number.MAX_VALUE);var r=parseInt(n.getAttribute(t));return 0===r&&(r=Number.MAX_VALUE),o-r})),_n.selectAll(e+" #sortable > li").forEach((e=>{e.remove()})),o.forEach((t=>{_n.find(e,"#sortable").append(t)}))},xn.togseq=function(e){var t=_n.find(e,"#sortable").getAttribute("checkSeq");_n.find(e,"#sortable").setAttribute("checkSeq","1"==t?"0":"1"),_n.find(e,"#instruction").innerHTML="1"==t?"":"Sequence Important"},xn.review=function(e,t){var n=document.querySelector(e)?.querySelector("#sortable")?.getAttribute("checkSeq"),o=1==t?"is_correct":"user_answer",r=1==t?"correct_seq":"user_seq";"normal"==_n.select(e).getAttribute?.("type")?_n.find(e,"#sortable li","all").forEach((e=>{if("1"==n){if(1==e.getAttribute(o))var i=e.getAttribute(r);else i=0;_n.find(e,".prefix").innerHTML=i>0?i:"",_n.find(e,".prefix",{action:"removeClass",actionData:"tick"})}else 1==e.getAttribute(o)?_n.find(e,".prefix",{action:"addClass",actionData:"tick"}):_n.find(e,".prefix",{action:"removeClass",actionData:"tick"});1==e.getAttribute("user_answer")&&0==t||1==e.getAttribute("is_correct")&&1==t?e.classList.add("choose_sel"):e.classList.remove("choose_sel")})):"sentence"!=_n.select(e).getAttribute?.("type")&&"paragraph"!=_n.select(e).getAttribute?.("type")||xn.setActiveClass(e,t)},xn.CheckResultchoose=function(e){let t={};var n=!0,o=0;let r=_n.find(e,"#sortable");var i=Array.isArray(r)?"":r.getAttribute("checkSeq"),a="";return _n.find(e,"#sortable li","all").forEach((e=>{var t=e.getAttribute("user_seq"),r=e.getAttribute("user_answer");"1"==i?(t!=e.getAttribute("correct_seq")&&(n=!1),"undefined"!=typeof calculatePoint&&e.getAttribute("correct_seq")>0&&t==e.getAttribute("correct_seq")&&o++):(r!=e.getAttribute("is_correct")&&(n=!1),"undefined"!=typeof calculatePoint&&e.getAttribute("is_correct")>0&&r==e.getAttribute("is_correct")&&o++),a+=e.getAttribute("optID")+"|"+t+"|"+r+","})),"undefined"!=typeof calculatePoint&&calculatePoint(_n.find(e,"#sortable").getAttribute("totalCorrectAns"),o),xn.userAnsXML='<SMANS type="6"><list useranswer="'+a+'" /></SMANS>',t.u=xn.userAnsXML,t.b=n,t},xn.touchHandler=function(e){var t=e.changedTouches[0],n="";switch(e.type){case"touchstart":n="mousedown";break;case"touchmove":n="mousemove";break;case"touchend":n="mouseup";break;default:return}var o=document.createEvent("MouseEvent");o.initMouseEvent(n,!0,!0,window,1,t.screenX,t.screenY,t.clientX,t.clientY,!1,!1,!1,!1,0,null),t.target.dispatchEvent(o)},xn.init=function(e){document.addEventListener("touchstart",xn.touchHandler,!0),document.addEventListener("touchmove",xn.touchHandler,!0),document.addEventListener("touchend",xn.touchHandler,!0),document.addEventListener("touchcancel",xn.touchHandler,!0),_n.bind(e,"touchstart",(function(e){e.preventDefault()})),_n.bind(e,"touchmove",(function(e){e.preventDefault()}))},xn.shouldselect=!1,xn.readyThis=function(e){(null!=typeof isTouchable||isiPad)&&setTimeout((function(){_n.find(e,"#sortable").removeAttribute("onmouseup"),_n.listen(_n.find("body",e),"click","#sortable",(function(){var t=window.event;xn.ow=t.srcElement?t.srcElement:t.target,xn.t=setTimeout((function(){xn.setUserAns(e,xn.ow,xn.shouldselect)}),100)})),"0"!=document.querySelector("#sortable").getAttribute("checkseq")&&new Zt(_n.find(e,"#sortable"),{onEnd:function(t){xn.ow=t.srcElement?t.srcElement:t.target,xn.t=setTimeout((function(){xn.setUserAns(e,xn.ow,xn.shouldselect)}),100)}})}),200)},xn.bindKeyup=function(e){var t=0;function n(e,t=1){if(e.id){let n=_n.selectAll(".ks"),o=-1;for(let r=0;r<n.length;r++)if(e.id==n[r].id){o=t?r==n.length-1?0:r+1:0==r?n.length-1:r-1;break}-1!=o&&n[o].focus()}}function o(){t=0,function(){var n=_n.find(e,"#sortable .copied"),o=_n.find(e,".ks").length;n.classList.contains("copied")&&(0==t?n.insertBefore(_n.find(e,".ks:nth(0)")):n.insertAfter(_n.find(e,".ks:nth("+t+")"))),_n.find(e,".ks:nth("+t+")").focus(),t==o-1?t=0:t++}()}function r(){var e=!1;let t=_n.selectAll("#sortable li"),n=_n.select(":focus");if(n.nodeName){let o=n.getAttribute("id");for(let n=0;n<t.length;n++)if(o==t[n].getAttribute("id")){e=!0;break}}return e}ge.unbind("down,up,enter,alt+down,delete,left,right,tab,shift+tab,esc","choose"+e),_n.find(e,"#sortable li","all").forEach((e=>{e.classList.add("ks")})),_n.bind(document,"click",(function(){r()||_n.find(e,"#sortable .copied",{action:"removeClass",actionData:"copied"})})),_n.listen(document,"keydown",e,(function(){ge.setScope("choose"+e)})),_n.listen(document,"keydown",".ks",(function(e,t){let o="#choose";if(13===t.which&&(t.preventDefault(),"0"==_n.find(o,"#sortable").getAttribute("checkseq")?(xn.ow=_n.find(o,"#sortable li:focus","all")[0],xn.t=setTimeout((function(){xn.setUserAns(o,xn.ow,!0)}),100)):"1"==_n.find(o,"#sortable").getAttribute("checkseq")&&(_n.find(o,"#sortable li:focus").classList.contains("copied")?(xn.ow=_n.find(o,"#sortable li:focus","all")[0],xn.t=setTimeout((function(){xn.setUserAns(o,xn.ow,!_n.find(o,"#sortable li:focus").classList.contains("choose_sel"))}),100),_n.find(o,"#sortable li:focus",{action:"removeClass",actionData:"copied"})):(xn.ow=_n.find(o,"#sortable li:focus","all")[0],xn.t=setTimeout((function(){xn.setUserAns(o,xn.ow,!_n.find(o,"#sortable li:focus").classList.contains("choose_sel"))}),100),_n.find(o,"#sortable li:focus",{action:"addClass",actionData:"copied"})))),39===t.which||40===t.which){var r=_n.find(o,"#sortable .copied");_n.selectAll(o+" .ks").length;let e=_n.select(".ks:focus"),i=_n.selectAll(".ks")[_n.selectAll(".ks").length-1];e.id==i.id?r&&r.classList.contains("copied")?(r.parentNode.insertBefore(r,_n.selectAll(".ks")[0]),r.focus()):_n.selectAll(".ks")[0].focus():r&&r.classList.contains("copied")?(_n.find(o,"#sortable .copied").nextSibling.insertAdjacentElement("afterend",_n.find(o,"#sortable .copied")),r.focus()):n(e,1),t.preventDefault()}if(38===t.which||37===t.which){r=_n.find(o,"#sortable .copied"),_n.find(o,".ks").length;let e=_n.select(".ks:focus"),i=_n.selectAll(".ks")[0];if(e.id==i.id)r&&r.classList.contains("copied")?(_n.selectAll(".ks")[_n.selectAll(".ks").length-1].insertAdjacentElement("afterend",r),r.focus()):_n.selectAll(".ks")[_n.selectAll(".ks").length-1].focus();else{document.querySelector(o);r&&r.classList.contains("copied")?(r.parentNode.insertBefore(r,_n.find(o,"#sortable .copied").previousElementSibling),r.focus()):n(e,0)}t.preventDefault()}})),ge("down, up, enter, alt+down, delete, left, right, tab, shift+tab, esc","choose"+e,(function(t,n){switch(n.key){case"alt+down":o();break;case"delete":r()&&(xn.ow=_n.find(e,"#sortable li:focus","all")[0],xn.t=setTimeout((function(){xn.setUserAns(e,xn.ow,!0)}),100));break;case"tab":r()&&_n.find(e,"#sortable .copied",{action:"removeClass",actionData:"copied"});let n=_n.selectAll(".ks:focus"),i=_n.selectAll(".ks")[_n.selectAll(".ks").length-1];n.id==i.id&&(t.preventDefault(),_n.selectAll(".ks")[0].focus());break;case"shift+tab":r()&&_n.find(e,"#sortable .copied",{action:"removeClass",actionData:"copied"}),n=_n.selectAll(".ks:focus"),i=_n.selectAll(".ks")[_n.selectAll(".ks").length-1],n.id==i.id&&(t.preventDefault(),_n.selectAll(".ks")[_n.selectAll(".ks").length].focus());break;case"esc":r()&&(t.preventDefault(),_n.find(e,"#sortable .copied",{action:"removeClass",actionData:"copied"}),_n.selectAll(".ks")[_n.selectAll(".ks").length-1].focus(),_n.selectAll(".ks")[_n.selectAll(".ks").length-1].blur())}})),ge.setScope("choose"+e)},xn.cmd=function(e,t){xn.shouldselect=!0},xn.cmm=function(e,t){t||(t=window.event);var n=t.srcElement?t.srcElement:t.target;if(n.classList.contains("prefix")&&(n=n.parentElement),n){var o=n.getAttribute("user_answer");xn.shouldselect=!1,"0"==o&&(xn.shouldselect=!0)}},xn.cmu=function(e,t,n=!1){n?xn.ow=t:(t||(t=window.event),xn.ow=t.srcElement?t.srcElement:t.target),xn.ow.classList.contains("prefix")&&(xn.ow=xn.ow.parentElement),xn.t=setTimeout((function(){xn.setUserAns(e,xn.ow,xn.shouldselect)}),100)},xn.setUserAns=function(e,t,n){if("IMG"==t.tagName?(Sn=_n.parent(t,"li").getAttribute("user_answer"),An=_n.parent(t,"li").getAttribute("user_seq"),En=_n.find(e,"#sortable").getAttribute("checkSeq")):(Sn=t.getAttribute("user_answer"),An=t.getAttribute("user_seq"),En=_n.find(e,"#sortable").getAttribute("checkSeq")),"UL"!=t.tagName){if(n)if("1"==Sn)if("IMG"==t.tagName){let e=_n.parent(t,"li");_n.setAttr(e,{user_answer:0}),e.classList.remove("choose_sel"),"1"!=En&&_n.find(e,".prefix","all").classList.remove("tick")}else _n.setAttr(t,{user_answer:0}),t.classList.remove("choose_sel"),"1"!=En&&_n.find(t,".prefix",{action:"removeClass",actionData:"tick"});else if("IMG"==t.tagName){if(_n.find(document.querySelector(t).parentElement,"li","all").setAttribute("user_answer",1),_n.select(t.parentElement).classList.add("choose_sel"),"1"!=En){let e=_n.parent(t,"li");_n.find(e,".prefix").classList.add("tick")}}else _n.setAttr(t,{user_answer:1}),t.classList.add("choose_sel"),"1"!=En&&_n.find(t,".prefix",{action:"addClass",actionData:"tick"});if("1"==En){var o=1;_n.find(e,"#sortable li","all").forEach((e=>{1==e.getAttribute("user_answer")?(_n.find(e,".prefix").innerHTML=o,_n.setAttr(e,{user_seq:o}),o++):(_n.find(e,".prefix").innerHTML="",_n.setAttr(e,{user_seq:0}))}))}xn.CheckResultchoose(e),xn.shouldselect=!1}else xn.shouldselect=!1},xn.removeItem=function(){_n.remove(e1.parentElement.parentElement),document.querySelectorAll(".choose_item_container").innerHTML.trim().length<=200?document.querySelector(".message_content").style.display="block":document.querySelector(".message_content").style.display="none"},xn.addItem=function(){document.querySelector(".message_content").style.display="none",_n.insert(".choose_item_container",'<div class="clearfix mt choose_options"><div class="col-md-12 mt-head"><input class="choose_compls" type="checkbox"><textarea></textarea><span class="remove-item icomoon-24px-delete-1"></span></div></div>',"afterbegin")},xn.setDragSequence=function(e,t,n){var o=1;_n.find(e,"#sortable li","all").forEach((e=>{_n.setAttr(e,{user_seq:o}),o++})),0==n&&_n.find(e,"#sortable li","all").forEach((e=>{e.classList.remove("choose_sel")})),xn.CheckResultSentenceChoose(e)},xn.CheckResultSentenceChoose=function(e){var t=!0;let n={};En=_n.find("#choose","#sortable").getAttribute("checkSeq");var o="";return _n.find(e,"#sortable li","all").forEach((e=>{An=e.getAttribute("user_seq"),Cn=e.getAttribute("correct_seq"),Sn=e.getAttribute("user_answer"),An!=Cn&&0!=e.getAttribute("correct_seq")&&(t=!1),o+=e.getAttribute("optID")+"|"+An+"|"+Sn+","})),xn.userAnsXML='<SMANS type="6"><list useranswer="'+o+'" /></SMANS>',ISSPECIALMODULEUSERXMLCHANGE=1,document.querySelector("#special_module_user_xml")&&(document.querySelector("#special_module_user_xml").value=xn.userAnsXML),document.querySelector("#answer")&&_n.setAttr("#answer",{checked:t}),n.u=xn.userAnsXML,n.ans=t,n},xn.dragSenParItem=function(e){new Zt(_n.find(e,"#sortable"),{onStart:function(e){},onEnd:function(t){console.log("end =>"+t),xn.setDragSequence(e,t.item)}}),xn.CheckResultchoose(e)},xn.setActiveClass=function(e,t){_n.find(e,"#sortable").getAttribute("checkSeq");_n.find(e,"#sortable li","all").forEach((e=>{1==e.getAttribute("user_answer")&&0==t||1==e.getAttribute("is_correct")&&1==t?e.classList.add("choose_sel"):e.classList.remove("choose_sel")}))},xn.removeActive=function(e){_n.find(e,"#sortable li","all").forEach((e=>{e.classList.remove("choose_sel")}))},xn.labBinded=!0,xn.sortable=!1,xn.modeOn=function(e){_n.selectAll(".test","addClass","h"),_n.selectAll(".review","addClass","h"),e?(_n.selectAll(".review","removeClass","h"),xn.unBindLab(),ge.unbind("down,up,enter,alt+down,delete,left,right,tab,shift+tab,esc","choose"+xn.ajax_eId),_n.find(xn.ajax_eId,".copied","all").forEach((e=>{e.classList.remove("copied")})),null!=document.querySelector("#show_ans_group button")&&document.querySelector("#show_ans_group button").forEach((e=>{e.classList.contains("correct-ans btn-primary")?xn.showAns(xn.ajax_eId,e,"c"):e.classList.contains("your-ans btn-primary")&&xn.showAns(xn.ajax_eId,e,"u")}))):(_n.selectAll(".test","removeClass","h"),setTimeout((function(){xn.callBindKey()}),100),xn.review(xn.ajax_eId,0),xn.bindLab())},xn.callBindKey=function(){xn.bindKeyup(xn.ajax_eId)},xn.unBindLab=function(){xn.labBinded=!1,"normal"==document.querySelector(xn.ajax_eId).getAttribute("type")&&_n.find(xn.ajax_eId,"#sortable").removeAttribute("onmouseup onmousemove onmousedown"),_n.find(xn.ajax_eId,"#sortable").classList.contains("ui-sortable")&&(xn.sortable=!0)},xn.bindLab=function(){xn.labBinded=!0,_n.bind(document.querySelector("#sortable"),"mouseup",(function(e){xn.cmu(xn.ajax_eId,e)})),_n.bind(document.querySelector("#sortable"),"mousemove",(function(e){xn.cmm(xn.ajax_eId,e)})),_n.bind(document.querySelector("#sortable"),"mousedown",(function(e){xn.cmd(xn.ajax_eId,e)})),Array.isArray(_n.find(xn.ajax_eId,"#sortable"))||new Zt(_n.find(xn.ajax_eId,"#sortable"),{animation:150,onEnd:function(e){xn.cmu(xn.ajax_eId,e.item,!0),_n.select(xn.ajax_eId).click()}}),"sentence"!=document.querySelector(xn.ajax_eId)?.getAttribute?.("type")&&"paragraph"!=document.querySelector(xn.ajax_eId)?.getAttribute?.("type")||xn.dragSenParItem(xn.ajax_eId)};const Dn=[];class kn{config={};VERSION="1.2.0";DOMNodeTypes={ELEMENT_NODE:1,TEXT_NODE:3,CDATA_SECTION_NODE:4,COMMENT_NODE:8,DOCUMENT_NODE:9};constructor(){this.initConfigDefaults(),this.initRequiredPolyfills()}initConfigDefaults(){void 0===this.config.escapeMode&&(this.config.escapeMode=!0),this.config.attributePrefix=this.config.attributePrefix||"_",this.config.arrayAccessForm=this.config.arrayAccessForm||"none",this.config.emptyNodeForm=this.config.emptyNodeForm||"text",void 0===this.config.enableToStringFunc&&(this.config.enableToStringFunc=!0),this.config.arrayAccessFormPaths=this.config.arrayAccessFormPaths||[],void 0===this.config.skipEmptyTextNodesForObj&&(this.config.skipEmptyTextNodesForObj=!0),void 0===this.config.stripWhitespaces&&(this.config.stripWhitespaces=!0),this.config.datetimeAccessFormPaths=this.config.datetimeAccessFormPaths||[],void 0===this.config.useDoubleQuotes&&(this.config.useDoubleQuotes=!1),this.config.xmlElementsFilter=this.config.xmlElementsFilter||[],this.config.jsonPropertiesFilter=this.config.jsonPropertiesFilter||[],void 0===this.config.keepCData&&(this.config.keepCData=!1)}initRequiredPolyfills(){}getNodeLocalName(e){var t=e.localName;return null==t&&(t=e.baseName),null!=t&&""!=t||(t=e.nodeName),t}getNodePrefix(e){return e.prefix}escapeXmlChars(e){return"string"==typeof e?e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;"):e}unescapeXmlChars(e){return e.replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&quot;/g,'"').replace(/&apos;/g,"'").replace(/&amp;/g,"&")}checkInStdFiltersArrayForm(e,t,n,o){for(var r=0;r<e.length;r++){var i=e[r];if("string"==typeof i){if(i==o)break}else if(i instanceof RegExp){if(i.test(o))break}else if("function"==typeof i&&i(t,n,o))break}return r!=e.length}toArrayAccessForm(e,t,n){switch(this.config.arrayAccessForm){case"property":e[t]instanceof Array?e[t+"_asArray"]=e[t]:e[t+"_asArray"]=[e[t]]}!(e[t]instanceof Array)&&this.config.arrayAccessFormPaths.length>0&&this.checkInStdFiltersArrayForm(this.config.arrayAccessFormPaths,e,t,n)&&(e[t]=[e[t]])}fromXmlDateTime(e){var t=e.split(/[-T:+Z]/g),n=new Date(t[0],t[1]-1,t[2]),o=t[5].split(".");if(n.setHours(t[3],t[4],o[0]),o.length>1&&n.setMilliseconds(o[1]),t[6]&&t[7]){var r=60*t[6]+Number(t[7]);r=0+("-"==(/\d\d-\d\d:\d\d$/.test(e)?"-":"+")?-1*r:r),n.setMinutes(n.getMinutes()-r-n.getTimezoneOffset())}else-1!==e.indexOf("Z",e.length-1)&&(n=new Date(Date.UTC(n.getFullYear(),n.getMonth(),n.getDate(),n.getHours(),n.getMinutes(),n.getSeconds(),n.getMilliseconds())));return n}checkFromXmlDateTimePaths(e,t,n){if(this.config.datetimeAccessFormPaths.length>0){var o=n.split(".#")[0];return this.checkInStdFiltersArrayForm(this.config.datetimeAccessFormPaths,e,t,o)?this.fromXmlDateTime(e):e}return e}checkXmlElementsFilter(e,t,n,o){return!(t==this.DOMNodeTypes.ELEMENT_NODE&&this.config.xmlElementsFilter.length>0)||this.checkInStdFiltersArrayForm(this.config.xmlElementsFilter,e,n,o)}parseDOMChildren(e,t){if(e.nodeType==this.DOMNodeTypes.DOCUMENT_NODE){for(var n=new Object,o=e.childNodes,r=0;r<o.length;r++){if((i=o.item(r)).nodeType==this.DOMNodeTypes.ELEMENT_NODE)n[a=this.getNodeLocalName(i)]=this.parseDOMChildren(i,a)}return n}if(e.nodeType==this.DOMNodeTypes.ELEMENT_NODE){(n=new Object).__cnt=0;for(o=e.childNodes,r=0;r<o.length;r++){var i=o.item(r),a=this.getNodeLocalName(i);if(i.nodeType!=this.DOMNodeTypes.COMMENT_NODE){var l=t+"."+a;this.checkXmlElementsFilter(n,i.nodeType,a,l)&&(n.__cnt++,null==n[a]?(n[a]=this.parseDOMChildren(i,l),this.toArrayAccessForm(n,a,l)):(null!=n[a]&&(n[a]instanceof Array||(n[a]=[n[a]],this.toArrayAccessForm(n,a,l))),n[a][n[a].length]=this.parseDOMChildren(i,l)))}}for(var s=0;s<e.attributes.length;s++){var c=e.attributes.item(s);n.__cnt++,n[this.config.attributePrefix+c.name]=c.value}var d=this.getNodePrefix(e);return null!=d&&""!=d&&(n.__cnt++,n.__prefix=d),null!=n["#text"]&&(n.__text=n["#text"],n.__text instanceof Array&&(n.__text=n.__text.join("\n")),this.config.stripWhitespaces&&(n.__text=n.__text.trim()),delete n["#text"],"property"==this.config.arrayAccessForm&&delete n["#text_asArray"],n.__text=this.checkFromXmlDateTimePaths(n.__text,a,t+"."+a)),null!=n["#cdata-section"]&&(n.__cdata=n["#cdata-section"],delete n["#cdata-section"],"property"==this.config.arrayAccessForm&&delete n["#cdata-section_asArray"]),0==n.__cnt&&"text"==this.config.emptyNodeForm?n="":1==n.__cnt&&null!=n.__text?n=n.__text:1!=n.__cnt||null==n.__cdata||this.config.keepCData?n.__cnt>1&&null!=n.__text&&this.config.skipEmptyTextNodesForObj&&(this.config.stripWhitespaces&&""==n.__text||""==n.__text.trim())&&delete n.__text:n=n.__cdata,delete n.__cnt,!this.config.enableToStringFunc||null==n.__text&&null==n.__cdata||(n.toString=function(){return(null!=this.__text?this.__text:"")+(null!=this.__cdata?this.__cdata:"")}),n}if(e.nodeType==this.DOMNodeTypes.TEXT_NODE||e.nodeType==this.DOMNodeTypes.CDATA_SECTION_NODE)return e.nodeValue}startTag(e,t,n,o){var r="<"+(null!=e&&null!=e.__prefix?e.__prefix+":":"")+t;if(null!=n)for(var i=0;i<n.length;i++){var a=n[i],l=e[a];this.config.escapeMode&&(l=this.escapeXmlChars(l)),r+=" "+a.substr(this.config.attributePrefix.length)+"=",this.config.useDoubleQuotes?r+='"'+l+'"':r+="'"+l+"'"}return r+=o?"/>":">"}endTag(e,t){return"</"+(null!=e.__prefix?e.__prefix+":":"")+t+">"}endsWith(e,t){return-1!==e.indexOf(t,e.length-t.length)}jsonXmlSpecialElem(e,t){return!!("property"==this.config.arrayAccessForm&&this.endsWith(t.toString(),"_asArray")||0==t.toString().indexOf(this.config.attributePrefix)||0==t.toString().indexOf("__")||e[t]instanceof Function)}jsonXmlElemCount(e){var t=0;if(e instanceof Object)for(var n in e)this.jsonXmlSpecialElem(e,n)||t++;return t}checkJsonObjPropertiesFilter(e,t,n){return 0==this.config.jsonPropertiesFilter.length||""==n||this.checkInStdFiltersArrayForm(this.config.jsonPropertiesFilter,e,t,n)}parseJSONAttributes(e){var t=[];if(e instanceof Object)for(var n in e)-1==n.toString().indexOf("__")&&0==n.toString().indexOf(this.config.attributePrefix)&&t.push(n);return t}parseJSONTextAttrs(e){var t="";return null!=e.__cdata&&(t+="<![CDATA["+e.__cdata+"]]>"),null!=e.__text&&(this.config.escapeMode?t+=this.escapeXmlChars(e.__text):t+=e.__text),t}parseJSONTextObject(e){var t="";return e instanceof Object?t+=this.parseJSONTextAttrs(e):null!=e&&(this.config.escapeMode?t+=this.escapeXmlChars(e):t+=e),t}getJsonPropertyPath(e,t){return""===e?t:e+"."+t}parseJSONArray(e,t,n,o){var r="";if(0==e.length)r+=this.startTag(e,t,n,!0);else for(var i=0;i<e.length;i++)r+=this.startTag(e[i],t,this.parseJSONAttributes(e[i]),!1),r+=this.parseJSONObject(e[i],this.getJsonPropertyPath(o,t)),r+=this.endTag(e[i],t);return r}parseJSONObject(e,t){var n="";if(this.jsonXmlElemCount(e)>0)for(var o in e)if(!this.jsonXmlSpecialElem(e,o)&&(""==t||this.checkJsonObjPropertiesFilter(e,o,this.getJsonPropertyPath(t,o)))){var r=e[o],i=this.parseJSONAttributes(r);if(null==r||null==r)n+=this.startTag(r,o,i,!0);else if(r instanceof Object)if(r instanceof Array)n+=this.parseJSONArray(r,o,i,t);else if(r instanceof Date)n+=this.startTag(r,o,i,!1),n+=r.toISOString(),n+=this.endTag(r,o);else{this.jsonXmlElemCount(r)>0||null!=r.__text||null!=r.__cdata?(n+=this.startTag(r,o,i,!1),n+=this.parseJSONObject(r,this.getJsonPropertyPath(t,o)),n+=this.endTag(r,o)):n+=this.startTag(r,o,i,!0)}else n+=this.startTag(r,o,i,!1),n+=this.parseJSONTextObject(r),n+=this.endTag(r,o)}return n+=this.parseJSONTextObject(e)}parseXmlString(e){var t,n=window.ActiveXObject||"ActiveXObject"in window;if(void 0===e)return null;if(window.DOMParser){var o=new window.DOMParser,r=null;if(!n)try{r=o.parseFromString("INVALID","text/xml").getElementsByTagName("parsererror")[0].namespaceURI}catch(e){r=null}try{t=o.parseFromString(e,"text/xml"),null!=r&&t.getElementsByTagNameNS(r,"parsererror").length>0&&(t=null)}catch(e){t=null}}else 0==e.indexOf("<?")&&(e=e.substr(e.indexOf("?>")+2)),(t=new ActiveXObject("Microsoft.XMLDOM")).async="false",t.loadXML(e);return t}asArray(e){return void 0===e||null==e?[]:e instanceof Array?e:[e]}toXmlDateTime(e){return e instanceof Date?e.toISOString():"number"==typeof e?new Date(e).toISOString():null}asDateTime(e){return"string"==typeof e?this.fromXmlDateTime(e):e}xml2json(e){return this.parseDOMChildren(e)}xml_str2json(e){var t=this.parseXmlString(e);return null!=t?this.xml2json(t):null}json2xml_str(e){return this.parseJSONObject(e,"")}json2xml(e){var t=this.json2xml_str(e);return this.parseXmlString(t)}getVersion(){return this.VERSION}}function Tn(e){e=e.replace(/<\!--\[CDATA\[/g,"<![CDATA[").replace(/\]\]-->/g,"]]>");let t=new kn({useDoubleQuotes:!0}),n=JSON.stringify(t.xml_str2json(e));return n=n.replace("SMXML","smxml"),n=JSON.parse(n),n}function Mn(e){e&&(On.select("#answer","checked",!!e.ans),On.select("#special_module_user_xml","value",e.uXml),"object"==typeof window&&(window.ISSPECIALMODULEUSERXMLCHANGE=1,"undefined"!=typeof calculatePoint&&calculatePoint(e.correctPoints||1,e.ansPoint||e.ans)),globalThis.saveUserAnswerInSapper?.(e))}const On=new G;new class{constructor(e={}){this._options=e,this._allowed=!1,this._init()}_init(){"undefined"!=typeof Storage?(this._allowed=!0,window.onstorage=e=>{this._options.onStore&&this._options.onStore(e)}):(this._allowed=!1,console.warn("Sorry! No Web Storage support.."))}key(e){if(this._allowed)return this._options.session?console.warn("Session has not key method."):window.localStorage.key(e)}get(e){if(this._allowed)return this._options.session?window.sessionStorage.getItem(e):window.localStorage.getItem(e)}set(e,t){if(this._allowed)return this._options.session?window.sessionStorage.setItem(e,t):window.localStorage.setItem(e,t)}remove(e){if(this._allowed)return this._options.session?window.sessionStorage.removeItem(e):window.localStorage.removeItem(e)}clearAll(){if(this._allowed)return this._options.session?window.sessionStorage.clear():window.localStorage.clear()}};function Nn(e){u(e,"svelte-ri6gyf",".smControlerBtn .btn-light:not([disabled]):not(.disabled).active{color:#fff!important;-webkit-box-shadow:inset 0 2px 0 #1266f1!important;box-shadow:inset 0 2px 0 #1266f1!important;background-color:#2572f2!important;border-color:#2572f2!important;border-top-color:#0c57d3!important}")}function Pn(t){let n,r,i,a,l,s;return{c(){n=m("div"),r=m("button"),r.textContent="Correct Answer",i=v(),a=m("button"),a.textContent="Your Answer",w(r,"type","button"),w(r,"mode","c"),w(r,"class","btn btn-light correct-ans svelte_items_test"),w(a,"type","button"),w(a,"mode","u"),w(a,"class","btn btn-light your-ans active svelte_items_test"),w(n,"class","smControlerBtn btn-group mb-3"),w(n,"aria-label","Answer buttons")},m(e,o){h(e,n,o),d(n,r),d(n,i),d(n,a),l||(s=[y(r,"click",t[3]),y(a,"click",t[3])],l=!0)},p:e,d(e){e&&f(n),l=!1,o(s)}}}function jn(t){let n,r,i,a,l,s,c,u=(t[0]||t[1])&&Pn(t);return{c(){n=m("center"),r=m("button"),i=v(),a=m("button"),l=v(),u&&u.c(),w(r,"type","button"),w(r,"class","h h-imp svelte_items_test"),w(r,"id","set-review"),w(a,"type","button"),w(a,"class","h h-imp svelte_items_test"),w(a,"id","unset-review")},m(e,o){h(e,n,o),d(n,r),d(n,i),d(n,a),d(n,l),u&&u.m(n,null),s||(c=[y(r,"click",t[5]),y(a,"click",t[6])],s=!0)},p(e,[t]){e[0]||e[1]?u?u.p(e,t):(u=Pn(e),u.c(),u.m(n,null)):u&&(u.d(1),u=null)},i:e,o:e,d(e){e&&f(n),u&&u.d(),s=!1,o(c)}}}function In(e,t,n){let{reviewMode:o=!1}=t,{handleReviewClick:r}=t,{customReviewMode:i}=t;On.listen("body","keydown",".smControlerBtn .correct-ans",(function(e,t){13===t.which&&e.click()})),On.listen("body","keydown",".smControlerBtn .your-ans",(function(e,t){13===t.which&&e.click()}));const a=D();return e.$$set=e=>{"reviewMode"in e&&n(0,o=e.reviewMode),"handleReviewClick"in e&&n(4,r=e.handleReviewClick),"customReviewMode"in e&&n(1,i=e.customReviewMode)},[o,i,a,function(e){document.querySelectorAll(".smControlerBtn button").forEach((e=>e.classList.remove("active"))),e.target.classList.add("active"),r&&r(e.target.getAttribute("mode"),e)},r,()=>a("setReview"),()=>a("unsetReview")]}class Ln extends J{constructor(e){super(),z(this,e,In,jn,i,{reviewMode:0,handleReviewClick:4,customReviewMode:1},Nn)}}function qn(e,t){void 0===t&&(t={});var n=t.insertAt;if(e&&"undefined"!=typeof document){var o=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css","top"===n&&o.firstChild?o.insertBefore(r,o.firstChild):o.appendChild(r),r.styleSheet?r.styleSheet.cssText=e:r.appendChild(document.createTextNode(e))}}function Xn(e,t,n){const o=e.slice();return o[27]=t[n],o[29]=n,o}function Rn(e){let t,n,o,r,i,a,l,s,c,d,u=e[10](e[27])+"";return{c(){t=m("li"),w(t,"key",n=e[29]),w(t,"class",o="1"==e[3].isSentence?"sentence_li":"1"==e[3].isParagraph?"paragraph_li":""),w(t,"is_correct",r=e[27].isCorrect),w(t,"optid",i=e[27].optid),w(t,"correct_seq",a=e[27].seq),w(t,"user_answer",l=e[27].user_answer),w(t,"u",s=e[27].user_answer),w(t,"user_seq",c=e[27].user_seq?e[27].user_seq:e[29]),w(t,"id",d="id"+e[29]),w(t,"tabindex","0")},m(e,n){h(e,t,n),t.innerHTML=u},p(e,n){4&n&&u!==(u=e[10](e[27])+"")&&(t.innerHTML=u),8&n&&o!==(o="1"==e[3].isSentence?"sentence_li":"1"==e[3].isParagraph?"paragraph_li":"")&&w(t,"class",o),4&n&&r!==(r=e[27].isCorrect)&&w(t,"is_correct",r),4&n&&i!==(i=e[27].optid)&&w(t,"optid",i),4&n&&a!==(a=e[27].seq)&&w(t,"correct_seq",a),4&n&&l!==(l=e[27].user_answer)&&w(t,"user_answer",l),4&n&&s!==(s=e[27].user_answer)&&w(t,"u",s),4&n&&c!==(c=e[27].user_seq?e[27].user_seq:e[29])&&w(t,"user_seq",c)},d(e){e&&f(t)}}}function Bn(e){let t;return{c(){t=g("Sequencing of the selected item is not required. Click to select items.")},m(e,n){h(e,t,n)},d(e){e&&f(t)}}}function Hn(e){let t;return{c(){t=g("Click to select. Drag and Drop to set sequence.")},m(e,n){h(e,t,n)},d(e){e&&f(t)}}}function $n(e){let t,n,r,i,a,l,s,c,u,b,x,S,A,E,C,D,k,T,M,O,N=e[3].headingCorrect+"";i=new Ln({props:{handleReviewClick:e[11],reviewMode:e[0],customReviewMode:e[4]}}),i.$on("setReview",e[5]),i.$on("unsetReview",e[6]);let P=e[2],j=[];for(let t=0;t<P.length;t+=1)j[t]=Rn(Xn(e,P,t));function I(e,t){return 1==e[3].allowSort||1==e[3].isSentence||1==e[3].isParagraph?Hn:Bn}let L=I(e),q=L(e);return{c(){t=m("main"),n=m("div"),r=m("center"),$(i.$$.fragment),a=v(),l=m("center"),s=m("div"),c=m("div"),u=g(N),b=v(),x=m("ul");for(let e=0;e<j.length;e+=1)j[e].c();C=v(),D=m("div"),q.c(),w(c,"class","choose_header font17 pl-4"),w(x,"id","sortable"),w(x,"totalcorrectans",S=e[3].totalcorrectans),w(x,"checkseq",A=e[3].allowSort),w(x,"class","ui-sortable w-auto mt-0 p-2"),w(x,"style",E="border-left:10px solid #d9e7fd;border-right: 10px solid #d9e7fd"),w(D,"class","choose_bottom pl-4"),w(D,"id","instruction"),w(s,"id",e[1]),w(s,"type",k="1"==e[3].isSentence?"sentence":"1"==e[3].isParagraph?"paragraph":"normal"),w(s,"class","bg-white")},m(o,f){h(o,t,f),d(t,n),d(n,r),F(i,r,null),d(n,a),d(n,l),d(l,s),d(s,c),d(c,u),d(s,b),d(s,x);for(let e=0;e<j.length;e+=1)j[e].m(x,null);d(s,C),d(s,D),q.m(D,null),T=!0,M||(O=[y(x,"mouseup",e[7].bind(this)),y(x,"mousemove",e[8].bind(this)),y(x,"mousedown",e[9].bind(this))],M=!0)},p(e,[t]){const n={};if(1&t&&(n.reviewMode=e[0]),i.$set(n),(!T||8&t)&&N!==(N=e[3].headingCorrect+"")&&_(u,N),1036&t){let n;for(P=e[2],n=0;n<P.length;n+=1){const o=Xn(e,P,n);j[n]?j[n].p(o,t):(j[n]=Rn(o),j[n].c(),j[n].m(x,null))}for(;n<j.length;n+=1)j[n].d(1);j.length=P.length}(!T||8&t&&S!==(S=e[3].totalcorrectans))&&w(x,"totalcorrectans",S),(!T||8&t&&A!==(A=e[3].allowSort))&&w(x,"checkseq",A),L!==(L=I(e))&&(q.d(1),q=L(e),q&&(q.c(),q.m(D,null))),(!T||2&t)&&w(s,"id",e[1]),(!T||8&t&&k!==(k="1"==e[3].isSentence?"sentence":"1"==e[3].isParagraph?"paragraph":"normal"))&&w(s,"type",k)},i(e){T||(B(i.$$.fragment,e),T=!0)},o(e){H(i.$$.fragment,e),T=!1},d(e){e&&f(t),Y(i),p(j,e),q.d(),M=!1,o(O)}}}function Fn(t,n,o){let{cmed:r}=n,{showAns:a}=n,{xml:l}=n,{stopPreviewUpdate:s}=n,{editorState:c}=n,{isReview:d}=n,{uxml:u}=n,h=d,f=r?"choose"+r:"choose";xn.ajax_eId=r?"#choose"+r:"#choose";var p=[];let m={};(function(t,n=e){let o;const r=new Set;function a(e){if(i(t,e)&&(t=e,o)){const e=!Dn.length;for(const e of r)e[1](),Dn.push(e,t);if(e){for(let e=0;e<Dn.length;e+=2)Dn[e][0](Dn[e+1]);Dn.length=0}}}return{set:a,update:function(e){a(e(t))},subscribe:function(i,l=e){const s=[i,l];return r.add(s),1===r.size&&(o=n(a)||e),i(t),()=>{r.delete(s),0===r.size&&(o(),o=null)}}}})({xml:"",headingCorrect:"",allowSort:"",isSentence:"",isParagraph:"",chooseClass:"",totalcorrectans:"",stateXMLToJSON:""}).subscribe((e=>{o(3,m=e)}));function g(){var e="";Mn({uXml:(e=("1"==m.isSentence||m.isParagraph,xn.CheckResultchoose("#"+f))).u,ans:e.b}),c&&a(e.b?"Correct":"Incorrect")}function v(){y("none"),xn.modeOn("on"),o(0,d=!0),xn.review("#"+f,0),On.removeClass("#show_ans_group button","active"),On.removeClass("#show_ans_group .your-ans","active"),g()}function b(){y("auto"),o(0,d=!1),xn.modeOn(),xn.review("#"+f,0)}function y(e){On.selectAll("#sortable li").forEach((t=>{t.style.pointerEvents=e}))}return E((()=>{On.bind(document,"click",(function(){if(document.querySelector(".editorRender"))return document.querySelector(".editorRender").clientHeight})),On.listen(document,"click","#"+f,(function(){setTimeout((function(){g()}),100)})),On.listen(document,"click","#show_ans_group button",(e=>{On.removeClass("#show_ans_group button","active"),On.addClass(e,"active")}))})),C((()=>{if(l!=m.xml){if(1==s)return!1;r&&(o(1,f="choose"+r),xn.ajax_eId="#choose"+r),o(3,m.xml=l,m),o(3,m.stateXMLToJSON=Tn(l),m),function(e){if(function(e){try{o(2,p=[]);let n=e.smxml.list.__cdata.split("\n"),r=1,i=0,a=0;n.forEach((function(e,t){""!=n[t].trim()&&("*"==n[t].trim().charAt(0)&&i++,p.push({value:n[t].trim(),isCorrect:"*"==n[t].trim().charAt(0)?"1":"0",seq:"*"==n[t].trim().charAt(0)?r:"0",user_answer:"0",optid:a}),"*"==n[t].trim().charAt(0)&&r++,a++)})),function(e){for(var t=e.length-1;t>0;t--){var n=Math.floor(Math.random()*(t+1)),o=e[t];e[t]=e[n],e[n]=o}}(p),e=function(e){let t=e;return t.smxml.list._headingCorrect&&(t.smxml.list._headingcorrect=t.smxml.list._headingCorrect,delete t.smxml.list._headingCorrect),t.smxml.list._allowSort&&(t.smxml.list._allowsort=t.smxml.list._allowSort,delete t.smxml.list._allowSort),t.smxml.list._isParagraph&&(t.smxml.list._isparagraph=t.smxml.list._isParagraph,delete t.smxml.list._isParagraph),t.smxml.list._isSentence&&(t.smxml.list._issentence=t.smxml.list._isSentence,delete t.smxml.list._isSentence),t}(e),o(3,m.headingCorrect=e.smxml.list._headingcorrect,m),o(3,m.allowSort=e.smxml.list._allowsort?e.smxml.list._allowsort:"0",m),o(3,m.isSentence=e.smxml.list._issentence?e.smxml.list._issentence:"0",m),o(3,m.isParagraph=e.smxml.list._isparagraph?e.smxml.list._isparagraph:"0",m),o(3,m.totalcorrectans=i,m);var t=setTimeout(function(){On.find("#sortable",".sentence_li","all").forEach((function(e,t){e.setAttribute("user_seq",t+1)})),clearTimeout(t)}.bind(this),200)}catch(e){this.onError=e,console.warn({error:e.message,"function name":"parseXMLPreview","File name":"ChooseNReorderPreview.js"})}}(e),u){let e=Tn(u);if(e&&e.SMANS&&e.SMANS&&e.SMANS.list){let t=e.SMANS.list._useranswer.split(","),n=[];for(let e in t)if(t[e]){let r=t[e].split("|");for(let e in p)p[e].optid==r[0]&&(o(2,p[e].user_answer=r[2],p),o(2,p[e].user_seq=r[1],p),n.push(p[e]))}o(2,p=n)}}}(m.stateXMLToJSON);var e=setTimeout((function(){u||(On.selectAll("#sortable li").forEach((e=>{e.setAttribute("user_answer","0"),e.setAttribute("style","")})),On.selectAll("#sortable li .prefix").forEach((e=>{e.innerHTML=""}))),xn.removeActive("#"+f),xn.review("#"+f,0),xn.init("#"+f),xn.CheckResultchoose("#"+f);new Zt(On.find("#"+f,"#sortable"),{animation:150});"1"==m.allowSort&&"1"!=m.isSentence&&"1"!=m.isParagraph||new Zt(On.find("#"+f,"#sortable"),{onEnd(e){e.item;e.to,e.from,e.oldIndex,e.newIndex,e.oldDraggableIndex,e.newDraggableIndex,e.clone,e.pullMode}}),"1"!=m.isSentence&&"1"!=m.isParagraph||xn.dragSenParItem("#"+f),clearTimeout(e)}),200)}})),t.$$set=e=>{"cmed"in e&&o(12,r=e.cmed),"showAns"in e&&o(13,a=e.showAns),"xml"in e&&o(14,l=e.xml),"stopPreviewUpdate"in e&&o(15,s=e.stopPreviewUpdate),"editorState"in e&&o(16,c=e.editorState),"isReview"in e&&o(0,d=e.isReview),"uxml"in e&&o(17,u=e.uxml)},t.$$.update=()=>{1&t.$$.dirty&&setTimeout((function(){d?v():b()}),200)},[d,f,p,m,h,v,b,function(e){"1"!=m.isSentence&&"1"!=m.isParagraph&&xn.cmu("#"+f,e)},function(e,t){"1"!=m.isSentence&&"1"!=m.isParagraph&&xn.cmm(e,t)},function(e,t){"1"!=m.isSentence&&"1"!=m.isParagraph&&(xn.cmd(e,t),ISSPECIALMODULEUSERXMLCHANGE=1)},function(e){return'<div class="prefix pl-1 mr-2"'+("1"==m.isSentence?"nw":"")+'"></div>'+("1"==m.isParagraph?'<div class="pg_handle">&equiv;</div>':"")+("*"==e.value.charAt(0)?e.value.slice(1):e.value)},function(e,t){"c"==e?xn.showAns("#"+f,t.currentTarget,"c"):xn.showAns("#"+f,t.currentTarget,"u")},r,a,l,s,c,u]}qn('#main{max-width:700px;min-width:300px;float:none;margin:0 auto;min-height:1px}#sortable{list-style-type:none;margin:0;padding:0 5px;width:100%;overflow:hidden}#sortable li:not(.multiGrid){margin:5px 3px 5px 5px;padding:.4em;padding-left:2.5em;font-size:1em;border:1px solid #eee;cursor:pointer;background:#edf2fc url(https://s3.amazonaws.com/jigyaasa_assets/items/dot.jpg) repeat-y top left;position:relative;border:1px solid #96bbf6}#sortable li div.prefix{position:absolute;margin-left:-26px;line-height:23px;}#sortable li div{display:inline-block;width:18px;height:18px}.tick:before{content:"\\2713";font-size:18px;font-weight:bolder;color:#fff;vertical-align:middle;margin-left:2px}[id^=choose]{width:100%;max-width:700px;text-align:left}[id^=choose] .choose_header{background-color:#d9e7fd;border-top:2px solid #96bbf6;margin:0;padding:5px 5px 5px 10px;line-height:1.8em;border-top-right-radius:10px;border-top-left-radius:10px}[id^=choose] .choose_bottom{font-size:12px!important;font-weight:700;color:#e33;background-color:#d9e7fd;margin:0;padding:.4em;padding-left:1em;font-size:1.4em;border-bottom-right-radius:10px;border-bottom-left-radius:10px}#sortable li.choose_sel{background-color:#4182b9!important;color:#fff!important}.remove-item{float:right;font-size:16px;color:#000;cursor:pointer;padding-top:9px}.pd-0{padding:0}[id^=choose] .mt{margin:10px 0}.choose_foot_content,.choose_head_content{overflow-x:hidden;padding:10px;text-align:left;background:#fff}.choose_item_container{overflow-x:hidden;padding:10px;text-align:left;background:#fff;overflow-y:scroll}.choose_foot_content,.choose_item_container{border-top:1px solid #cbcbcb}.choose_foot_content{overflow:hidden}.choose_item_container{min-height:207px}.message_content{display:none}#headingCorrect{width:82%;margin-left:16px}.mt-head{margin-left:12px}.choose_item_container textarea{overflow-y:hidden;min-height:34px;height:34px;width:89%;padding:5px;border-radius:5px;margin:0 13px;vertical-align:middle;background-color:#fff;background-image:none;border:1px solid #ccc;border-radius:4px;-webkit-box-shadow:inset 0 1px 1px rgba(0,0,0,.075);box-shadow:inset 0 1px 1px rgba(0,0,0,.075);-webkit-transition:border-color ease-in-out .15s,box-shadow ease-in-out .15s;transition:border-color ease-in-out .15s,box-shadow ease-in-out .15s}.mtl{margin-left:10px}.paragraph_li{line-height:2em!important;border-radius:3px;background:0 0!important;display:block;margin:3px!important;padding:2px!important;padding-left:18px!important;padding-right:11px!important;border:none!important;color:#4d4d4d!important;cursor:move!important}.sentence_li{line-height:22px!important;border-radius:3px;display:inline-block;margin:10px!important;padding:1px 10px 5px 31px!important;cursor:move!important}.paragraph_li:hover,.sentence_li:hover{background-color:#edf2fc!important}.nw{width:0!important}.pg_handle{display:inline;padding-right:8px;font-size:12px;font-weight:bolder}.selmatch{border:solid 2px red!important;border-radius:2px!important}.copied{outline:2px solid #4682b4!important}[id^=choose] #sortable li:-moz-focusring{outline:2px solid #6b9ef1}@media only screen and (max-width:768px){.font17{font-size:15px!important}}');class Yn extends J{constructor(e){super(),z(this,e,Fn,$n,i,{cmed:12,showAns:13,xml:14,stopPreviewUpdate:15,editorState:16,isReview:0,uxml:17})}}const Un="Drag and Drop to set sequence.";
/**!
     * Sortable
     * @author	RubaXa   <trash@rubaxa.org>
     * @author	owenm    <owen23355@gmail.com>
     * @license MIT
     */
var zn,Jn=(function(e){var t;t=function(){if("undefined"==typeof window||!window.document)return function(){throw new Error("Sortable.js requires a window with a document")};var e,t,n,o,r,i,a,l,s,c,d,u,h,f,p,m,g,v,b,y,w,_,x,S,A,E,C,D=[],k=[],T=!1,M=!1,O=!1,N=[],P=[],j=!1,I=!1,L=/\s+/g,q="Sortable"+(new Date).getTime(),X=window,R=X.document,B=X.parseInt,H=X.setTimeout,$=X.jQuery||X.Zepto,F=X.Polymer,Y={capture:!1,passive:!1},U=!!navigator.userAgent.match(/(?:Trident.*rv[ :]?11\.|msie|iemobile)/i),z=!!navigator.userAgent.match(/Edge/i),J=z||U?"cssFloat":"float",W="draggable"in R.createElement("div"),K=function(){if(U)return!1;var e=R.createElement("x");return e.style.cssText="pointer-events:auto","auto"===e.style.pointerEvents}(),G=!1,V=Math.abs,Q=Math.min,Z=[],ee=function(e,t){var n=ye(e),o=B(n.width),r=Ce(e,0,t),i=Ce(e,1,t),a=r&&ye(r),l=i&&ye(i),s=a&&B(a.marginLeft)+B(a.marginRight)+Le(r).width,c=l&&B(l.marginLeft)+B(l.marginRight)+Le(i).width;if("flex"===n.display)return"column"===n.flexDirection||"column-reverse"===n.flexDirection?"vertical":"horizontal";if(r&&"none"!==a.float){var d="left"===a.float?"left":"right";return!i||"both"!==l.clear&&l.clear!==d?"horizontal":"vertical"}return r&&("block"===a.display||"flex"===a.display||"table"===a.display||"grid"===a.display||s>=o&&"none"===n[J]||i&&"none"===n[J]&&s+c>o)?"vertical":"horizontal"},te=function(e,t){if(!e||!e.getBoundingClientRect)return ne();var n=e,o=!1;do{if(n.clientWidth<n.scrollWidth||n.clientHeight<n.scrollHeight){var r=ye(n);if(n.clientWidth<n.scrollWidth&&("auto"==r.overflowX||"scroll"==r.overflowX)||n.clientHeight<n.scrollHeight&&("auto"==r.overflowY||"scroll"==r.overflowY)){if(!n||!n.getBoundingClientRect||n===R.body)return ne();if(o||t)return n;o=!0}}}while(n=n.parentNode);return ne()},ne=function(){return U?R.documentElement:R.scrollingElement},oe=function(e){return[e.scrollLeft,e.scrollTop]},re=function(e,t,n){e.scrollLeft+=t,e.scrollTop+=n},ie=Oe((function(e,t,n,o){if(t.scroll){var r=n?n[q]:window,i=t.scrollSensitivity,a=t.scrollSpeed,l=e.clientX,s=e.clientY,h=ne(),f=!1;d!==n&&(ae(),c=t.scroll,u=t.scrollFn,!0===c&&(c=te(n,!0),d=c));var p=0,m=c;do{var g,v,b,y,w,_,S,A,E,C=m,D=Le(C),M=D.top,O=D.bottom,N=D.left,P=D.right,j=D.width,I=D.height;if(g=C.scrollWidth,v=C.scrollHeight,b=ye(C),A=C.scrollLeft,E=C.scrollTop,C===h?(_=j<g&&("auto"===b.overflowX||"scroll"===b.overflowX||"visible"===b.overflowX),S=I<v&&("auto"===b.overflowY||"scroll"===b.overflowY||"visible"===b.overflowY)):(_=j<g&&("auto"===b.overflowX||"scroll"===b.overflowX),S=I<v&&("auto"===b.overflowY||"scroll"===b.overflowY)),y=_&&(V(P-l)<=i&&A+j<g)-(V(N-l)<=i&&!!A),w=S&&(V(O-s)<=i&&E+I<v)-(V(M-s)<=i&&!!E),!k[p])for(var L=0;L<=p;L++)k[L]||(k[L]={});k[p].vx==y&&k[p].vy==w&&k[p].el===C||(k[p].el=C,k[p].vx=y,k[p].vy=w,clearInterval(k[p].pid),!C||0==y&&0==w||(f=!0,k[p].pid=setInterval(function(){o&&0===this.layer&&fe.active._emulateDragOver(!0);var t=k[this.layer].vy?k[this.layer].vy*a:0,n=k[this.layer].vx?k[this.layer].vx*a:0;"function"==typeof u&&"continue"!==u.call(r,n,t,e,x,k[this.layer].el)||re(k[this.layer].el,n,t)}.bind({layer:p}),24))),p++}while(t.bubbleScroll&&m!==h&&(m=te(m,!1)));T=f}}),30),ae=function(){k.forEach((function(e){clearInterval(e.pid)})),k=[]},le=function(e){function t(e,n){return function(o,r,i,a){var l=o.options.group.name&&r.options.group.name&&o.options.group.name===r.options.group.name;if(null==e&&(n||l))return!0;if(null==e||!1===e)return!1;if(n&&"clone"===e)return e;if("function"==typeof e)return t(e(o,r,i,a),n)(o,r,i,a);var s=(n?o:r).options.group.name;return!0===e||"string"==typeof e&&e===s||e.join&&e.indexOf(s)>-1}}var n={},o=e.group;o&&"object"==typeof o||(o={name:o}),n.name=o.name,n.checkPull=t(o.pull,!0),n.checkPut=t(o.put),n.revertClone=o.revertClone,e.group=n},se=function(e,t){for(var n=t;!n[q];)n=n.parentNode;return e===n},ce=function(e,t,n){for(var o=e.parentNode;o&&!o[q];)o=o.parentNode;o&&o[q][n](Ne(t,{artificialBubble:!0}))};R.addEventListener("click",(function(e){if(O)return e.preventDefault(),e.stopPropagation&&e.stopPropagation(),e.stopImmediatePropagation&&e.stopImmediatePropagation(),O=!1,!1}),!0);var de=function(t){if(t=t.touches?t.touches[0]:t,e){var n=function(e,t){for(var n=0;n<N.length;n++)if(!N[n].children.length){var o=Le(N[n]),r=N[n][q].options.emptyInsertThreshold,i=e>=o.left-r&&e<=o.right+r,a=t>=o.top-r&&t<=o.bottom+r;if(i&&a)return N[n]}}(t.clientX,t.clientY);n&&n[q]._onDragOver({clientX:t.clientX,clientY:t.clientY,target:n,rootEl:n})}};ge(R,"dragover",de),ge(R,"mousemove",de),ge(R,"touchmove",de);var ue,he=function(t){e&&e.parentNode[q]._isOutsideThisEl(t.target)};function fe(e,t){if(!e||!e.nodeType||1!==e.nodeType)throw"Sortable: `el` must be HTMLElement, not "+{}.toString.call(e);this.el=e,this.options=t=Ne({},t),e[q]=this;var n={group:null,sort:!0,disabled:!1,store:null,swap:!1,handle:null,scroll:!0,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0,draggable:/[uo]l/i.test(e.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return ee(e,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",swapClass:"sortable-swap-highlight",selectedClass:"sortable-selected",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(e,t){var n="";if(P.length)for(var o=0;o<P.length;o++)n+=(o?", ":"")+P[o].textContent;else n=t.textContent;e.setData("Text",n)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,touchStartThreshold:B(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:!1!==fe.supportPointer&&("PointerEvent"in window||window.navigator&&"msPointerEnabled"in window.navigator),emptyInsertThreshold:5,multiDrag:!1};for(var o in n)!(o in t)&&(t[o]=n[o]);for(var r in le(t),this)"_"===r.charAt(0)&&"function"==typeof this[r]&&(this[r]=this[r].bind(this));this.nativeDraggable=!t.forceFallback&&W,t.supportPointer?(ge(e,"pointerdown",this._onTapStart),ge(R,"pointerup",this._deselectMultiDrag)):(ge(R,"mouseup",this._deselectMultiDrag),ge(R,"touchend",this._deselectMultiDrag),ge(e,"mousedown",this._onTapStart),ge(e,"touchstart",this._onTapStart)),this.nativeDraggable&&(ge(e,"dragover",this),ge(e,"dragenter",this)),N.push(this.el),t.store&&t.store.get&&this.sort(t.store.get(this)||[])}function pe(e,t,n,o){if(e){n=n||R;do{if(null!=t&&(">"===t[0]&&e.parentNode===n&&Me(e,t.substring(1))||Me(e,t))||o&&e===n)return e;if(e===n)break}while(e=me(e))}return null}function me(e){return e.host&&e!==R&&e.host.nodeType?e.host:e.parentNode}function ge(e,t,n){e.addEventListener(t,n,Y)}function ve(e,t,n){e.removeEventListener(t,n,Y)}function be(e,t,n){if(e&&t)if(e.classList)e.classList[n?"add":"remove"](t);else{var o=(" "+e.className+" ").replace(L," ").replace(" "+t+" "," ");e.className=(o+(n?" "+t:"")).replace(L," ")}}function ye(e,t,n){var o=e&&e.style;if(o){if(void 0===n)return R.defaultView&&R.defaultView.getComputedStyle?n=R.defaultView.getComputedStyle(e,""):e.currentStyle&&(n=e.currentStyle),void 0===t?n:n[t];t in o||-1!==t.indexOf("webkit")||(t="-webkit-"+t),o[t]=n+("string"==typeof n?"":"px")}}function we(e){var t="";do{var n=ye(e,"transform");n&&"none"!==n&&(t=n+" "+t)}while(e=e.parentNode);return window.DOMMatrix?new DOMMatrix(t):window.WebKitCSSMatrix?new WebKitCSSMatrix(t):window.CSSMatrix?new CSSMatrix(t):void 0}function _e(e,t,n){if(e){var o=e.getElementsByTagName(t),r=0,i=o.length;if(n)for(;r<i;r++)n(o[r],r);return o}return[]}function xe(e,t,n,o,r,i,a,s,c,d){var u,h=(e=e||t[q]).options,f="on"+n.charAt(0).toUpperCase()+n.substr(1);if(!window.CustomEvent||U||z?(u=R.createEvent("Event")).initEvent(n,!0,!0):u=new CustomEvent(n,{bubbles:!0,cancelable:!0}),u.to=r||t,u.from=i||t,u.item=o||t,u.items=P||[],u.clone=l,u.clones=D||[],u.oldIndex=a,u.newIndex=s,u.originalEvent=c,d)for(var p in d)u[p]=d[p];t&&t.dispatchEvent(u),h[f]&&h[f].call(e,u)}function Se(e,t,n,o,r,i,a,l){var s,c,d=e[q],u=d.options.onMove;return!window.CustomEvent||U||z?(s=R.createEvent("Event")).initEvent("move",!0,!0):s=new CustomEvent("move",{bubbles:!0,cancelable:!0}),s.to=t,s.from=e,s.dragged=n,s.draggedRect=o,s.related=r||t,s.relatedRect=i||Le(t),s.willInsertAfter=l,s.originalEvent=a,e.dispatchEvent(s),u&&(c=u.call(d,s,a)),c}function Ae(e){e.draggable=!1}function Ee(){G=!1}function Ce(t,o,r){for(var i=0,a=0,l=t.children;a<l.length;){if("none"!==l[a].style.display&&l[a]!==n&&l[a]!==e&&pe(l[a],r.draggable,t,!1)){if(i===o)return l[a];i++}a++}return null}function De(e){for(var t=e.lastElementChild;(t===n||"none"===t.style.display)&&(t=t.previousElementSibling););return t||null}function ke(e){for(var t=e.tagName+e.className+e.src+e.href+e.textContent,n=t.length,o=0;n--;)o+=t.charCodeAt(n);return o.toString(36)}function Te(e){var t=0;if(!e||!e.parentNode)return-1;for(;e&&(e=e.previousElementSibling);)"TEMPLATE"!==e.nodeName.toUpperCase()&&e!==l&&t++;return t}function Me(e,t){if(e)try{if(e.matches)return e.matches(t);if(e.msMatchesSelector)return e.msMatchesSelector(t);if(e.webkitMatchesSelector)return e.webkitMatchesSelector(t)}catch(e){return!1}return!1}function Oe(e,t){return function(){if(!ue){var n=arguments,o=this;ue=H((function(){1===n.length?e.call(o,n[0]):e.apply(o,n),ue=void 0}),t)}}}function Ne(e,t){if(e&&t)for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}function Pe(e){return F&&F.dom?F.dom(e).cloneNode(!0):$?$(e).clone(!0)[0]:e.cloneNode(!0)}function je(e){return H(e,0)}function Ie(e){return clearTimeout(e)}function Le(e,t,n){if(e.getBoundingClientRect||e===X){var o,r,i,a,l,s,c;if(e!==X&&e!==ne()?(r=(o=e.getBoundingClientRect()).top,i=o.left,a=o.bottom,l=o.right,s=o.height,c=o.width):(r=0,i=0,a=window.innerHeight,l=window.innerWidth,s=window.innerHeight,c=window.innerWidth),n&&e!==X){if(t=t||e.parentNode,!U)do{if(t&&t.getBoundingClientRect&&"none"!==ye(t,"transform")){var d=t.getBoundingClientRect();r-=d.top+B(ye(t,"border-top-width")),i-=d.left+B(ye(t,"border-left-width")),a=r+o.height,l=i+o.width;break}}while(t=t.parentNode);var u=we(e),h=u&&u.a,f=u&&u.d;u&&(a=(r/=f)+(s/=f),l=(i/=h)+(c/=h))}return{top:r,left:i,bottom:a,right:l,width:c,height:s}}}function qe(e,t){for(var n=te(e,!0),o=Le(e)[t];n;){var r=Le(n)[t];if(!("top"===t||"left"===t?o>=r:o<=r))return n;if(n===ne())break;n=te(n,!1)}return!1}function Xe(e){for(var t=e?D:P,n=0;n<t.length;n++){var r=o.children[t[n].sortableIndex];r?o.insertBefore(t[n],r):o.appendChild(t[n])}}function Re(){for(var t=0;t<P.length;t++)P[t]!==e&&P[t].parentNode&&P[t].parentNode.removeChild(P[t])}return fe.prototype={constructor:fe,_isOutsideThisEl:function(e){this.el.contains(e)||e===this.el||(A=null)},_getDirection:function(t,n){return"function"==typeof this.options.direction?this.options.direction.call(this,t,n,e):this.options.direction},_onTapStart:function(t){if(t.cancelable){var n,o=this,r=this.el,a=this.options,l=a.preventOnFilter,s=t.type,c=t.touches&&t.touches[0],d=(c||t).target,u=t.target.shadowRoot&&(t.path&&t.path[0]||t.composedPath&&t.composedPath()[0])||d,h=a.filter;if(function(e){Z.length=0;for(var t=e.getElementsByTagName("input"),n=t.length;n--;){var o=t[n];o.checked&&Z.push(o)}}(r),(!U||t.artificialBubble||se(r,d))&&!e&&!(/mousedown|pointerdown/.test(s)&&0!==t.button||a.disabled||u.isContentEditable))if(d=pe(d,a.draggable,r,!1)){if(i!==d){if(n=Te(d),"function"==typeof h){if(h.call(this,t,u,this))return xe(o,u,"filter",d,r,r,n),void(l&&t.cancelable&&t.preventDefault())}else if(h&&(h=h.split(",").some((function(e){if(e=pe(u,e.trim(),r,!1))return xe(o,e,"filter",d,r,r,n),!0}))))return void(l&&t.cancelable&&t.preventDefault());a.handle&&!pe(u,a.handle,r,!1)||this._prepareDragStart(t,c,d,n)}}else U&&ce(r,t,"_onTapStart")}},_handleAutoScroll:function(t,n){if(e&&this.options.scroll){var o=t.clientX,r=t.clientY,i=R.elementFromPoint(o,r),a=this;if(n||z||U){ie(t,a.options,i,n);var l=te(i,!0);!T||g&&o===v&&r===b||(g&&clearInterval(g),g=setInterval((function(){if(e){var i=te(R.elementFromPoint(o,r),!0);i!==l&&(l=i,ae(),ie(t,a.options,l,n))}}),10),v=o,b=r)}else{if(!a.options.bubbleScroll||te(i,!0)===ne())return void ae();ie(t,a.options,te(i,!1),!1)}}},_prepareDragStart:function(n,a,l,s){var c,d=this,u=d.el,f=d.options,m=u.ownerDocument;l&&!e&&l.parentNode===u&&(o=u,t=(e=l).parentNode,r=e.nextSibling,i=l,p=f.group,h=s,_={target:e,clientX:(a||n).clientX,clientY:(a||n).clientY},this._lastX=(a||n).clientX,this._lastY=(a||n).clientY,e.style["will-change"]="all",e.style.transition="",e.style.transform="",c=function(){d._disableDelayedDrag(),e.draggable=d.nativeDraggable,d._triggerDragStart(n,a),xe(d,o,"choose",e,o,o,h),be(e,f.chosenClass,!0)},f.ignore.split(",").forEach((function(t){_e(e,t.trim(),Ae)})),f.supportPointer?ge(m,"pointerup",d._onDrop):(ge(m,"mouseup",d._onDrop),ge(m,"touchend",d._onDrop),ge(m,"touchcancel",d._onDrop)),f.delay?(ge(m,"mouseup",d._disableDelayedDrag),ge(m,"touchend",d._disableDelayedDrag),ge(m,"touchcancel",d._disableDelayedDrag),ge(m,"mousemove",d._delayedDragTouchMoveHandler),ge(m,"touchmove",d._delayedDragTouchMoveHandler),f.supportPointer&&ge(m,"pointermove",d._delayedDragTouchMoveHandler),d._dragStartTimer=H(c,f.delay)):c())},_delayedDragTouchMoveHandler:function(e){var t=e.touches?e.touches[0]:e;Q(V(t.clientX-this._lastX),V(t.clientY-this._lastY))>=this.options.touchStartThreshold&&this._disableDelayedDrag()},_disableDelayedDrag:function(){var e=this.el.ownerDocument;clearTimeout(this._dragStartTimer),ve(e,"mouseup",this._disableDelayedDrag),ve(e,"touchend",this._disableDelayedDrag),ve(e,"touchcancel",this._disableDelayedDrag),ve(e,"mousemove",this._delayedDragTouchMoveHandler),ve(e,"touchmove",this._delayedDragTouchMoveHandler),ve(e,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(t,n){n=n||("touch"==t.pointerType?t:null),!this.nativeDraggable||n?this.options.supportPointer?ge(R,"pointermove",this._onTouchMove):ge(R,n?"touchmove":"mousemove",this._onTouchMove):(ge(e,"dragend",this),ge(o,"dragstart",this._onDragStart));try{R.selection?je((function(){R.selection.empty()})):window.getSelection().removeAllRanges()}catch(e){}},_dragStarted:function(t){if(M=!1,o&&e){this.nativeDraggable&&(ge(R,"dragover",this._handleAutoScroll),ge(R,"dragover",he));var n=this.options;!t&&be(e,n.dragClass,!1),be(e,n.ghostClass,!0),ye(e,"transform",""),fe.active=this,t&&this._appendGhost(),xe(this,o,"start",e,o,o,h)}else this._nulling()},_emulateDragOver:function(t){if(x){if(this._lastX===x.clientX&&this._lastY===x.clientY&&!t)return;this._lastX=x.clientX,this._lastY=x.clientY,!K&&n&&ye(n,"display","none");for(var o=R.elementFromPoint(x.clientX,x.clientY),r=o;o&&o.shadowRoot;)r=o=o.shadowRoot.elementFromPoint(x.clientX,x.clientY);if(e.parentNode[q]._isOutsideThisEl(o),r)do{if(r[q]&&r[q]._onDragOver({clientX:x.clientX,clientY:x.clientY,target:o,rootEl:r})&&!this.options.dragoverBubble)break;o=r}while(r=r.parentNode);!K&&n&&ye(n,"display","")}},_onTouchMove:function(e){if(_){var t=this.options,o=t.fallbackTolerance,r=t.fallbackOffset,i=e.touches?e.touches[0]:e,a=n&&we(n),l=n&&a&&a.a,s=n&&a&&a.d,c=(i.clientX-_.clientX+r.x)/(l||1),d=(i.clientY-_.clientY+r.y)/(s||1),u=e.touches?"translate3d("+c+"px,"+d+"px,0)":"translate("+c+"px,"+d+"px)";if(!fe.active&&!M){if(o&&Q(V(i.clientX-this._lastX),V(i.clientY-this._lastY))<o)return;this._onDragStart(e,!0)}this._handleAutoScroll(i,!0),x=i,ye(n,"webkitTransform",u),ye(n,"mozTransform",u),ye(n,"msTransform",u),ye(n,"transform",u),e.cancelable&&e.preventDefault()}},_appendGhost:function(){if(!n){var t=Le(e,this.options.fallbackOnBody?R.body:o,!0),r=(ye(e),this.options);be(n=e.cloneNode(!0),r.ghostClass,!1),be(n,r.fallbackClass,!0),be(n,r.dragClass,!0),ye(n,"box-sizing","border-box"),ye(n,"margin",0),ye(n,"top",t.top),ye(n,"left",t.left),ye(n,"width",t.width),ye(n,"height",t.height),ye(n,"opacity","0.8"),ye(n,"position","fixed"),ye(n,"zIndex","100000"),ye(n,"pointerEvents","none"),r.fallbackOnBody&&R.body.appendChild(n)||o.appendChild(n)}},_onDragStart:function(t,n){var r=this,i=t.dataTransfer,s=r.options;for(var c in a=e,!~P.indexOf(e)&&w&&w[q]._deselectMultiDrag(),P)P[c].sortableIndex=Te(P[c]);if((P=P.sort((function(e,t){return e.sortableIndex-t.sortableIndex}))).length)for(c=0;c<P.length;c++)D.push(Pe(P[c])),D[c].sortableIndex=P[c].sortableIndex,D[c].draggable=!1,D[c].style["will-change"]="",be(D[c],r.options.selectedClass,!1),P[c]===e&&be(D[c],r.options.chosenClass,!1);else(l=Pe(e)).draggable=!1,l.style["will-change"]="",be(l,r.options.chosenClass,!1);this._hideClone(),r._cloneId=je((function(){r.options.sort&&Re(),r.options.removeCloneOnHide||(s.multiDrag?Xe(!0):o.insertBefore(l,e)),xe(r,o,"clone",e)})),!n&&be(e,s.dragClass,!0),n?(O=!0,r._loopId=setInterval(r._emulateDragOver,50)):(ve(R,"mouseup",r._onDrop),ve(R,"touchend",r._onDrop),ve(R,"touchcancel",r._onDrop),i&&(i.effectAllowed="move",s.setData&&s.setData.call(r,i,e)),ge(R,"drop",r),ye(e,"transform","translateZ(0)")),M=!0,r._dragStartId=je(r._dragStarted.bind(r,n)),ge(R,"selectstart",r),S=!0},_onDragOver:function(i){var l,s,c,d=this.el,u=i.target,f=this.options,g=f.group,v=fe.active,b=p===g,y=f.sort,w=this;if(!G&&(!U||i.rootEl||i.artificialBubble||se(d,u))){if(void 0!==i.preventDefault&&i.cancelable&&i.preventDefault(),u=pe(u,f.draggable,d,!0),pe(i.target,null,e,!0)||u.animated)return!0;if(u!==e&&(O=!1),v&&!f.disabled&&(b?y||(c=!o.contains(e)):m===this||(this.lastPutMode=p.checkPull(this,v,e,i))&&g.checkPut(this,v,e,i))){var _=this._getDirection(i,u);if(l=Le(e),f.swap){if(u&&u!==d){var x=a;!1!==Se(o,d,e,l,u,Le(u),i,!1)?(be(u,f.swapClass,!0),a=u):a=null,x&&x!==a&&be(x,f.swapClass,!1)}return F(),$()}if(c)return t=o,this._hideClone(),P.length?Xe():r?o.insertBefore(e,r):o.appendChild(e),$();if(0===d.children.length||d.children[0]===n||function(e,t,n){var o=Le(De(n)),r="vertical"===t?e.clientY:e.clientX,i="vertical"===t?e.clientX:e.clientY,a="vertical"===t?o.bottom:o.right,l="vertical"===t?o.left:o.top,s="vertical"===t?o.right:o.bottom,c=10;return"vertical"===t?i>s+c||i<=s&&r>a&&i>=l:r>a&&i>l||r<=a&&i>s+c}(i,_,d)&&!e.animated){if(0!==d.children.length&&d.children[0]!==n&&d===i.target&&(u=De(d)),u&&(s=Le(u)),!1!==Se(o,d,e,l,u,s,i,!!u))return d.appendChild(e),t=d,F(),this._animate(l,e),u&&this._animate(s,u),$()}else if(u&&u!==e&&u.parentNode===d){var S,D,k=e.parentNode!==d,T="vertical"===_?"top":"left",M=qe(u,T)||qe(e,T),N=M&&(M?oe(M)[1]:void 0);if(A!==u&&(D=Le(u)[T],j=!1,I=f.invertSwap||k),0===(S=function(t,n,o,r,i,a,l){var s=Le(n),c="vertical"===o?t.clientY:t.clientX,d="vertical"===o?s.height:s.width,u="vertical"===o?s.top:s.left,h="vertical"===o?s.bottom:s.right,f=Le(e),p=!1;if(!a)if(l&&C<d*r){if(!j&&(1===E?c>u+d*i/2:c<h-d*i/2)&&(j=!0),j)p=!0;else if("vertical"===o?f.top:f.left,"vertical"===o?f.bottom:f.right,1===E?c<u+C:c>h-C)return-1*E}else if(c>u+d*(1-r)/2&&c<h-d*(1-r)/2)return function(t,n){var o=Te(e),r=Te(t);return o<r?1:-1}(n);return(p=p||a)&&(c<u+d*i/2||c>h-d*i/2)?c>u+d/2?1:-1:0}(i,u,_,f.swapThreshold,null==f.invertedSwapThreshold?f.swapThreshold:f.invertedSwapThreshold,I,A===u)))return $();A=u,E=S,s=Le(u);var L=u.nextElementSibling,X=!1,B=Se(o,d,e,l,u,s,i,X=1===S);if(!1!==B)return 1!==B&&-1!==B||(X=1===B),G=!0,H(Ee,30),X&&!L?d.appendChild(e):u.parentNode.insertBefore(e,X?L:u),M&&re(M,0,N-oe(M)[1]),t=e.parentNode,void 0===D||I||(C=V(D-Le(u)[T])),F(),!k&&this._animate(s,u),this._animate(l,e),$()}if(d.contains(e))return $()}return U&&!i.rootEl&&ce(d,i,"_onDragOver"),!1}function $(){return b?v._hideClone():(Re(),v._showClone(w)),v&&(be(e,m?m.options.ghostClass:v.options.ghostClass,!1),be(e,f.ghostClass,!0)),m!==w&&w!==fe.active?m=w:w===fe.active&&(m=null),(u===e&&!e.animated||u===d&&!u.animated)&&(A=null),f.dragoverBubble||i.rootEl||u===R||(w._handleAutoScroll(i),e.parentNode[q]._isOutsideThisEl(i.target)),!f.dragoverBubble&&i.stopPropagation&&i.stopPropagation(),!0}function F(){xe(w,o,"change",u,d,o,h,Te(a||e),i)}},_animate:function(e,t){var n=this.options.animation;if(n){var o=Le(t);if(1===e.nodeType&&(e=Le(e)),e.left+e.width/2!==o.left+o.width/2||e.top+e.height/2!==o.top+o.height/2){var r=we(this.el),i=r&&r.a,a=r&&r.d;ye(t,"transition","none"),ye(t,"transform","translate3d("+(e.left-o.left)/(i||1)+"px,"+(e.top-o.top)/(a||1)+"px,0)"),t.offsetWidth,ye(t,"transition","transform "+n+"ms"+(this.options.easing?" "+this.options.easing:"")),ye(t,"transform","translate3d(0,0,0)")}"number"==typeof t.animated&&clearTimeout(t.animated),t.animated=H((function(){ye(t,"transition",""),ye(t,"transform",""),t.animated=!1}),n)}},_offUpEvents:function(){var e=this.el.ownerDocument;ve(R,"touchmove",this._onTouchMove),ve(R,"pointermove",this._onTouchMove),ve(e,"mouseup",this._onDrop),ve(e,"touchend",this._onDrop),ve(e,"pointerup",this._onDrop),ve(e,"touchcancel",this._onDrop),ve(R,"selectstart",this)},_deselectMultiDrag:function(e){if(!(w!==this.el||e&&pe(e.target,this.options.draggable,this.el,!1))){for(var t=0;t<P.length;t++)be(P[t],this.options.selectedClass,!1);P=[]}},_onDrop:function(i){var s,c,d,u,p,v,b,_,x=this.el,A=this.options;if(M=!1,T=!1,I=!1,j=!1,clearInterval(this._loopId),clearInterval(g),ae(),clearTimeout(ue),ue=void 0,clearTimeout(this._dragStartTimer),Ie(this._cloneId),Ie(this._dragStartId),ve(R,"mousemove",this._onTouchMove),this.nativeDraggable&&(ve(R,"drop",this),ve(x,"dragstart",this._onDragStart),ve(R,"dragover",this._handleAutoScroll)),this._offUpEvents(),a&&be(a,A.swapClass,!1),a&&(A.swap||m&&m.options.swap)&&e!==a){var E=Le(e),C=Le(a);u=a,b=(d=e).parentNode,_=u.parentNode,b&&_&&!b.isEqualNode(u)&&!_.isEqualNode(d)&&(p=Te(d),v=Te(u),b.isEqualNode(_)&&p<v&&v++,b.insertBefore(u,b.children[p]),_.insertBefore(d,_.children[v])),this._animate(E,e),this._animate(C,a)}if(!S&&A.multiDrag)if(be(e,A.selectedClass,!~P.indexOf(e)),~P.indexOf(e))P.splice(P.indexOf(e),1),y=null;else{if(P.push(e),e.sortableIndex=Te(e),i.shiftKey&&y&&this.el.contains(y)){var D=Te(y),k=Te(e);if(~D&&~k&&D!==k){var O=t.children;for(k>D?(s=D+1,c=k):(s=k+1,c=D);s<c;s++)~P.indexOf(O[s])||(O[s].sortableIndex=Te(O[s]),be(O[s],A.selectedClass,!0),P.push(O[s]))}}y=e,w=t}if(S&&A.multiDrag&&P.length){if(t[q].options.sort){Te(e);var N=Le(e);for(t.insertBefore(P[0],e),P[0]!==e&&t.removeChild(e),s=1;s<P.length;s++)P[s-1].nextSibling?t.insertBefore(P[s],P[s-1].nextSibling):t.appendChild(P[s]),this._animate(N,P[s])}w=t}i&&(S&&(i.cancelable&&i.preventDefault(),!A.dropBubble&&i.stopPropagation()),n&&n.parentNode&&n.parentNode.removeChild(n),(o===t||m&&"clone"!==m.lastPutMode)&&l&&l.parentNode&&l.parentNode.removeChild(l),e&&(this.nativeDraggable&&ve(e,"dragend",this),Ae(e),e.style["will-change"]="",S&&!M&&be(e,m?m.options.ghostClass:this.options.ghostClass,!1),be(e,this.options.chosenClass,!1),xe(this,o,"unchoose",e,t,o,h,null,i),o!==t?((f=Te(e))>=0&&(xe(null,t,"add",e,t,o,h,f,i),xe(this,o,"remove",e,t,o,h,f,i),xe(null,t,"sort",e,t,o,h,f,i),xe(this,o,"sort",e,t,o,h,f,i)),m&&m.save()):(f=Te(e),e.nextSibling!==r&&f>=0&&(xe(this,o,"update",e,t,o,h,f,i),xe(this,o,"sort",e,t,o,h,f,i))),fe.active&&(null!=f&&-1!==f||(f=h),A.swap&&a?xe(this,o,"end",e,t,o,h,f,i,{swapItem:a}):xe(this,o,"end",e,t,o,h,f,i),this.save()))),this._nulling()},_nulling:function(){o=e=t=n=r=l=i=a=c=d=k.length=g=v=b=_=x=S=f=h=A=E=m=p=fe.active=null,Z.forEach((function(e){e.checked=!0})),Z.length=D.length=0},handleEvent:function(t){switch(t.type){case"drop":case"dragend":this._onDrop(t);break;case"dragenter":case"dragover":e&&(this._onDragOver(t),function(e){e.dataTransfer&&(e.dataTransfer.dropEffect="move"),e.cancelable&&e.preventDefault()}(t));break;case"selectstart":t.preventDefault()}},toArray:function(){for(var e,t=[],n=this.el.children,o=0,r=n.length,i=this.options;o<r;o++)pe(e=n[o],i.draggable,this.el,!1)&&t.push(e.getAttribute(i.dataIdAttr)||ke(e));return t},sort:function(e){var t={},n=this.el;this.toArray().forEach((function(e,o){var r=n.children[o];pe(r,this.options.draggable,n,!1)&&(t[e]=r)}),this),e.forEach((function(e){t[e]&&(n.removeChild(t[e]),n.appendChild(t[e]))}))},save:function(){var e=this.options.store;e&&e.set&&e.set(this)},closest:function(e,t){return pe(e,t||this.options.draggable,this.el,!1)},option:function(e,t){var n=this.options;if(void 0===t)return n[e];n[e]=t,"group"===e&&le(n)},destroy:function(){var e=this.el;e[q]=null,ve(e,"mousedown",this._onTapStart),ve(e,"touchstart",this._onTapStart),ve(e,"pointerdown",this._onTapStart),this.nativeDraggable&&(ve(e,"dragover",this),ve(e,"dragenter",this)),Array.prototype.forEach.call(e.querySelectorAll("[draggable]"),(function(e){e.removeAttribute("draggable")})),this._onDrop(),N.splice(N.indexOf(this.el),1),this.el=e=null},_hideClone:function(){if(!s){for(var e=0;e<(D.length||1);e++){var t=D[e];t||(t=l),ye(t,"display","none"),this.options.removeCloneOnHide&&t.parentNode&&t.parentNode.removeChild(t)}s=!0}},_showClone:function(t){if("clone"===t.lastPutMode){if(s){if(D.length){Xe(!0);for(var n=0;n<D.length;n++)ye(D[n],"display","")}else o.contains(e)&&!this.options.group.revertClone?o.insertBefore(l,e):r?o.insertBefore(l,r):o.appendChild(l),this.options.group.revertClone&&this._animate(e,l),ye(l,"display","");s=!1}}else this._hideClone()}},ge(R,"touchmove",(function(e){(fe.active||M)&&e.cancelable&&e.preventDefault()})),fe.utils={on:ge,off:ve,css:ye,find:_e,is:function(e,t){return!!pe(e,t,e,!1)},extend:Ne,throttle:Oe,closest:pe,toggleClass:be,clone:Pe,index:Te,nextTick:je,cancelNextTick:Ie,detectDirection:ee,getChild:Ce},fe.create=function(e,t){return new fe(e,t)},fe.version="1.8.3",fe},e.exports=t()}(zn={exports:{}},zn.exports),zn.exports);function Wn(e){u(e,"svelte-8s9lqe",'.drag-none.svelte-8s9lqe{user-select:none;-moz-user-select:none;-webkit-user-drag:none;-webkit-user-select:none;-ms-user-select:none}li[data-ischecked="true"].svelte-8s9lqe{pointer-events:none}.positionSticky.svelte-8s9lqe{position:sticky;top:0px}')}function Kn(e,t,n){const o=e.slice();return o[27]=t[n],o[29]=n,o}function Gn(e,t,n){const o=e.slice();return o[27]=t[n],o[29]=n,o}function Vn(e){let t,n=e[1].correctxmlarray,o=[];for(let t=0;t<n.length;t+=1)o[t]=oo(Gn(e,n,t));return{c(){for(let e=0;e<o.length;e+=1)o[e].c();t=b()},m(e,n){for(let t=0;t<o.length;t+=1)o[t].m(e,n);h(e,t,n)},p(e,r){if(35&r){let i;for(n=e[1].correctxmlarray,i=0;i<n.length;i+=1){const a=Gn(e,n,i);o[i]?o[i].p(a,r):(o[i]=oo(a),o[i].c(),o[i].m(t.parentNode,t))}for(;i<o.length;i+=1)o[i].d(1);o.length=n.length}},d(e){p(o,e),e&&f(t)}}}function Qn(e){let t,n=e[27].value+"";return{c(){t=g(n)},m(e,n){h(e,t,n)},p(e,o){2&o&&n!==(n=e[27].value+"")&&_(t,n)},d(e){e&&f(t)}}}function Zn(e){let t,n,o;return{c(){t=m("img"),x(t,"height","70px"),x(t,"width","100%"),x(t,"object-fit","contain"),w(t,"class","px-2"),s(t.src,n="//s3.amazonaws.com/jigyaasa_content_static/"+e[27].value.split("##")[0].slice(1))||w(t,"src",n),w(t,"alt",o=e[27].value.split("##")[1]?e[27].value.split("##")[1]:null)},m(e,n){h(e,t,n)},p(e,r){2&r&&!s(t.src,n="//s3.amazonaws.com/jigyaasa_content_static/"+e[27].value.split("##")[0].slice(1))&&w(t,"src",n),2&r&&o!==(o=e[27].value.split("##")[1]?e[27].value.split("##")[1]:null)&&w(t,"alt",o)},d(e){e&&f(t)}}}function eo(e){let t,n;function o(e,n){return(null==t||2&n)&&(t=!("*"!=e[27].value.charAt(1))),t?no:to}let r=o(e,-1),i=r(e);return{c(){i.c(),n=b()},m(e,t){i.m(e,t),h(e,n,t)},p(e,t){r===(r=o(e,t))&&i?i.p(e,t):(i.d(1),i=r(e),i&&(i.c(),i.m(n.parentNode,n)))},d(e){i.d(e),e&&f(n)}}}function to(e){let t,n=e[27].value.slice(1)+"";return{c(){t=g(n)},m(e,n){h(e,t,n)},p(e,o){2&o&&n!==(n=e[27].value.slice(1)+"")&&_(t,n)},d(e){e&&f(t)}}}function no(e){let t,n,o;return{c(){t=m("img"),x(t,"height","70px"),x(t,"width","100%"),x(t,"object-fit","contain"),w(t,"class","px-2"),s(t.src,n="//s3.amazonaws.com/jigyaasa_content_static/"+e[27].value.split("!")[1].split("##")[0].slice(1))||w(t,"src",n),w(t,"alt",o=e[27].value.split("##")[1]?e[27].value.split("##")[1]:null)},m(e,n){h(e,t,n)},p(e,r){2&r&&!s(t.src,n="//s3.amazonaws.com/jigyaasa_content_static/"+e[27].value.split("!")[1].split("##")[0].slice(1))&&w(t,"src",n),2&r&&o!==(o=e[27].value.split("##")[1]?e[27].value.split("##")[1]:null)&&w(t,"alt",o)},d(e){e&&f(t)}}}function oo(e){let t,n,o,r,i,a,l,s,c,u,p;function g(e,t){return(null==n||2&t)&&(n=!("!"!=e[27].value.charAt(0))),n?eo:((null==o||2&t)&&(o=!("*"!=e[27].value.charAt(0))),o?Zn:Qn)}let b=g(e,-1),y=b(e);return{c(){t=m("li"),y.c(),r=v(),w(t,"tabindex",i=1==e[27].ischecked?"-1":"0"),w(t,"id",a="p"+e[29]),w(t,"name",l=e[29]),w(t,"key",s="p"+e[29]),w(t,"data-optid",c=e[29]),w(t,"data-ischecked",u=e[27].ischecked),w(t,"class",p="matchlist_item "+(e[0]?"drag-none":"")+" "+(1==e[27].ischecked?"bg-primary text-white":"")+" position-relative ui-draggable m-0 overflow-auto multiGrid svelte-8s9lqe"),x(t,"width",e[5])},m(e,n){h(e,t,n),y.m(t,null),d(t,r)},p(e,n){b===(b=g(e,n))&&y?y.p(e,n):(y.d(1),y=b(e),y&&(y.c(),y.m(t,r))),2&n&&i!==(i=1==e[27].ischecked?"-1":"0")&&w(t,"tabindex",i),2&n&&u!==(u=e[27].ischecked)&&w(t,"data-ischecked",u),3&n&&p!==(p="matchlist_item "+(e[0]?"drag-none":"")+" "+(1==e[27].ischecked?"bg-primary text-white":"")+" position-relative ui-draggable m-0 overflow-auto multiGrid svelte-8s9lqe")&&w(t,"class",p),32&n&&x(t,"width",e[5])},d(e){e&&f(t),y.d()}}}function ro(e){let t;function n(e,t){return 1==e[27].iscorrect?ao:io}let o=n(e),r=o(e);return{c(){t=m("div"),r.c(),w(t,"class","text-end pe-1 w-100 positionSticky svelte-8s9lqe")},m(e,n){h(e,t,n),r.m(t,null)},p(e,i){o!==(o=n(e))&&(r.d(1),r=o(e),r&&(r.c(),r.m(t,null)))},d(e){e&&f(t),r.d()}}}function io(e){let t;return{c(){t=m("i"),w(t,"class","icomoon-new-24px-cancel-circle-1 s4 text-danger userans_status float-right")},m(e,n){h(e,t,n)},d(e){e&&f(t)}}}function ao(e){let t;return{c(){t=m("i"),w(t,"class","icomoon-new-24px-checkmark-circle-1 s4 text-success userans_status float-right")},m(e,n){h(e,t,n)},d(e){e&&f(t)}}}function lo(e){let t,n=e[27].value+"";return{c(){t=g(n)},m(e,n){h(e,t,n)},p(e,o){2&o&&n!==(n=e[27].value+"")&&_(t,n)},d(e){e&&f(t)}}}function so(e){let t,n,o,r;return{c(){t=m("img"),w(t,"img_val",n=e[27].value),x(t,"height","70px"),x(t,"width","100%"),x(t,"object-fit","contain"),w(t,"class","px-2"),s(t.src,o="//s3.amazonaws.com/jigyaasa_content_static/"+e[27].value.split("##")[0].slice(1))||w(t,"src",o),w(t,"alt",r=e[27].value.split("##")[1]?e[27].value.split("##")[1]:null)},m(e,n){h(e,t,n)},p(e,i){2&i&&n!==(n=e[27].value)&&w(t,"img_val",n),2&i&&!s(t.src,o="//s3.amazonaws.com/jigyaasa_content_static/"+e[27].value.split("##")[0].slice(1))&&w(t,"src",o),2&i&&r!==(r=e[27].value.split("##")[1]?e[27].value.split("##")[1]:null)&&w(t,"alt",r)},d(e){e&&f(t)}}}function co(e){let t,n;function o(e,n){return(null==t||2&n)&&(t=!("*"!=e[27].value.charAt(1))),t?ho:uo}let r=o(e,-1),i=r(e);return{c(){i.c(),n=b()},m(e,t){i.m(e,t),h(e,n,t)},p(e,t){r===(r=o(e,t))&&i?i.p(e,t):(i.d(1),i=r(e),i&&(i.c(),i.m(n.parentNode,n)))},d(e){i.d(e),e&&f(n)}}}function uo(e){let t,n=e[27].value.slice(1)+"";return{c(){t=g(n)},m(e,n){h(e,t,n)},p(e,o){2&o&&n!==(n=e[27].value.slice(1)+"")&&_(t,n)},d(e){e&&f(t)}}}function ho(e){let t,n,o,r;return{c(){t=m("img"),w(t,"img_val",n=e[27].value),x(t,"height","70px"),x(t,"width","100%"),x(t,"object-fit","contain"),w(t,"class","px-2"),s(t.src,o="//s3.amazonaws.com/jigyaasa_content_static/"+e[27].value.split("!")[1].split("##")[0].slice(1))||w(t,"src",o),w(t,"alt",r=e[27].value.split("##")[1]?e[27].value.split("##")[1]:null)},m(e,n){h(e,t,n)},p(e,i){2&i&&n!==(n=e[27].value)&&w(t,"img_val",n),2&i&&!s(t.src,o="//s3.amazonaws.com/jigyaasa_content_static/"+e[27].value.split("!")[1].split("##")[0].slice(1))&&w(t,"src",o),2&i&&r!==(r=e[27].value.split("##")[1]?e[27].value.split("##")[1]:null)&&w(t,"alt",r)},d(e){e&&f(t)}}}function fo(e){let t,n,o,r,i,a,l,s,u,p,g,b,_,S,A="block"==e[3]&&1==e[4]&&0==e[27].ischecked&&ro(e);function E(e,t){return(null==o||2&t)&&(o=!("!"!=e[27].value.charAt(0))),o?co:((null==r||2&t)&&(r=!("*"!=e[27].value.charAt(0))),r?so:lo)}let C=E(e,-1),D=C(e);return{c(){t=m("li"),A&&A.c(),n=v(),D.c(),i=v(),w(t,"tabindex",a=1==e[27].ischecked?"-1":"0"),w(t,"id",l="p"+e[29]),w(t,"name",s=e[29]),w(t,"key",u="p"+e[29]),w(t,"data-optid",p=e[29]),w(t,"data-ischecked",g=e[27].ischecked),w(t,"class",b=c("matchlist_item "+(0==e[4]?"d-none":"")+(e[0]?" isreviewbgcolor drag-none ":"")+(1==e[27].ischecked?" bg-primary text-white":"")+" position-relative ui-draggable m-0 overflow-auto multiGrid")+" svelte-8s9lqe"),x(t,"width",e[5])},m(o,r){h(o,t,r),A&&A.m(t,null),d(t,n),D.m(t,null),d(t,i),_||(S=y(t,"keydown",e[10]),_=!0)},p(e,o){"block"==e[3]&&1==e[4]&&0==e[27].ischecked?A?A.p(e,o):(A=ro(e),A.c(),A.m(t,n)):A&&(A.d(1),A=null),C===(C=E(e,o))&&D?D.p(e,o):(D.d(1),D=C(e),D&&(D.c(),D.m(t,i))),2&o&&a!==(a=1==e[27].ischecked?"-1":"0")&&w(t,"tabindex",a),2&o&&g!==(g=e[27].ischecked)&&w(t,"data-ischecked",g),19&o&&b!==(b=c("matchlist_item "+(0==e[4]?"d-none":"")+(e[0]?" isreviewbgcolor drag-none ":"")+(1==e[27].ischecked?" bg-primary text-white":"")+" position-relative ui-draggable m-0 overflow-auto multiGrid")+" svelte-8s9lqe")&&w(t,"class",b),32&o&&x(t,"width",e[5])},d(e){e&&f(t),A&&A.d(),D.d(),_=!1,S()}}}function po(e){let t,n,o,r,i,a,l,s,c,u,b,y,x,S,A,E=e[2].headingCorrect+"";n=new Ln({props:{reviewMode:e[0],handleReviewClick:e[9],customReviewMode:e[6]}}),n.$on("setReview",e[7]),n.$on("unsetReview",e[8]);let C=0==e[4]&&Vn(e),D=e[1].localCData,k=[];for(let t=0;t<D.length;t+=1)k[t]=fo(Kn(e,D,t));return{c(){t=m("div"),$(n.$$.fragment),o=v(),r=m("div"),i=m("div"),a=g(E),l=v(),s=m("div"),c=m("ul"),C&&C.c(),u=v();for(let e=0;e<k.length;e+=1)k[e].c();x=v(),S=m("div"),S.textContent=""+Un,w(i,"class","choose_header font17 text-left rounded-top m-0"),w(c,"id","sortable"),w(c,"data-row",b=e[1].maxRow),w(c,"data-col",y=e[1].maxCol),w(c,"class","p-2 d-inline-block w-100 m-0"),w(s,"class","choose_body bg-white"),w(S,"class","choose_bottom font12 m-0 text-left font-weight-bold text-danger p-2 rounded-bottom"),w(S,"id","instruction"),w(r,"id","choose"),w(r,"class","text-center mx-auto"),w(t,"id","chid")},m(e,f){h(e,t,f),F(n,t,null),d(t,o),d(t,r),d(r,i),d(i,a),d(r,l),d(r,s),d(s,c),C&&C.m(c,null),d(c,u);for(let e=0;e<k.length;e+=1)k[e].m(c,null);d(r,x),d(r,S),A=!0},p(e,[t]){const o={};if(1&t&&(o.reviewMode=e[0]),n.$set(o),(!A||4&t)&&E!==(E=e[2].headingCorrect+"")&&_(a,E),0==e[4]?C?C.p(e,t):(C=Vn(e),C.c(),C.m(c,u)):C&&(C.d(1),C=null),1083&t){let n;for(D=e[1].localCData,n=0;n<D.length;n+=1){const o=Kn(e,D,n);k[n]?k[n].p(o,t):(k[n]=fo(o),k[n].c(),k[n].m(c,null))}for(;n<k.length;n+=1)k[n].d(1);k.length=D.length}(!A||2&t&&b!==(b=e[1].maxRow))&&w(c,"data-row",b),(!A||2&t&&y!==(y=e[1].maxCol))&&w(c,"data-col",y)},i(e){A||(B(n.$$.fragment,e),A=!0)},o(e){H(n.$$.fragment,e),A=!1},d(e){e&&f(t),Y(n),C&&C.d(),p(k,e)}}}function mo(e){for(let t=e.length-1;t>0;t--){let n=Math.floor(Math.random()*(t+1)),o=e[t];e[t]=e[n],e[n]=o}return e}function go(e,t,n){let o,r,i,{xml:a}=t,{uxml:l}=t,{showAns:s}=t,{isReview:c}=t,{editorState:d}=t,u=c,h="none",f={layout:[],maxRow:0,maxCol:0,localCData:[],layoutchanged:[],original_xml_copy:"",countrow:0,countcol:0,totalheading:0,correctxmlarray:[],user_ans_xml:[],isShuffeled:!1,imagepath:"//s3.amazonaws.com/jigyaasa_content_static/",result:"correct"},p={snackback:!1,xml:"",headingCorrect:"",static:!1,isdragging:!1,colstobeshown:3,isanyheading:!1,showlabelofshuffle:"block"};function m(){f.localCData.forEach((e=>{e.iscorrect="",i=0})),f.localCData.forEach(((e,t)=>{1==e.ischecked&&(e.iscorrect=!0),f.localCData.forEach((e=>{f.correctxmlarray[t].value==f.user_ans_xml[t].value&&e.value==f.correctxmlarray[t].value&&(e.iscorrect=!0)}))})),f.localCData.forEach((e=>{1!=e.iscorrect&&(e.iscorrect=!1,i++)})),_()}function g(e){e=Tn(e),n(2,p.headingCorrect=e.smxml.list._headingCorrect,p),n(1,f.maxRow=parseInt(e.smxml.list._row),f),n(1,f.maxCol=parseInt(e.smxml.list._col),f),console.log(e,"hhh"),function(e){let t=e.smxml.list.__cdata.split("\n");for(let e in t)""!=t[e].trim()&&"!"==t[e].trim().charAt(0)&&n(2,p.isanyheading=!0,p);n(1,f.localCData=[],f),n(1,f.correctxmlarray=[],f),n(1,f.totalheading=e.smxml.list._col,f),n(1,f.countcol=e.smxml.list._col,f),n(1,f.countrow=e.smxml.list._row,f);for(let e in t)if(""!=t[e].trim())n(2,p.colstobeshown=parseInt(f.countcol),p),v(t[e].trim(),e);else{let n=!1;for(let o=e;o<t.length;o++){if(""!=t[o].trim()||o==t.length-1){n=!0;break}n=!1}1==n&&v(t[e].trim(),e)}b(f.correctxmlarray),b(f.localCData),l||(n(1,f.isShuffeled=!0,f),n(1,f.localCData=function(e){let t=[];if(1==p.isanyheading){for(let n=0;n<e.length;n++)"!"!=e[n].value.charAt(0)&&t.push(e[n]);t=mo(t);let n=0;for(let o=0;o<e.length;o++)"!"!=e[o].value.charAt(0)&&(e[o]=t[n],n++)}else e=mo(e);return e=y(e)}(f.localCData),f),b(f.localCData),n(2,p.showlabelofshuffle="none",p));for(let e=0;e<f.localCData.length;e++)"!"!=f.localCData[e].value.charAt(0)?n(1,f.localCData[e].ischecked=!1,f):n(1,f.localCData[e].ischecked=!0,f);n(1,f.user_ans_xml=[],f),n(1,f.userAns="",f),f.localCData.forEach(((e,t)=>{f.user_ans_xml.push({id:t,value:e.value}),n(1,f.userAns+=(0!=t?"\n":"").concat(e.value),f)})),m()}(e)}function v(e,t){f.localCData.push({value:e.trim(),colval:"",rowval:"",mainseq:"",x:0,y:0,id:t}),f.correctxmlarray.push({value:e.trim(),colval:"",rowval:"",mainseq:"",x:"",y:"",id:t})}function b(e){let t=0,n=0;for(let o=0;o<e.length;o++)t==f.countcol&&(t=0,n+=3),e[o].x=t,e[o].y=n,t++}function y(e){let t=1,o=1,r=1;for(let i=0;i<e.length;i++)e[i].colval=o,n(1,f.correctxmlarray[i].colval=o,f),e[i].rowval=t,n(1,f.correctxmlarray[i].rowval=t,f),e[i].mainseq=t+"-"+o,n(1,f.correctxmlarray[i].mainseq=t+"-"+o,f),o++,"!"!=e[i].value.charAt(0)?n(1,f.correctxmlarray[i].ischecked=!1,f):n(1,f.correctxmlarray[i].ischecked=!0,f),r==f.totalheading&&(o=1,t++,r=0),r++;return e}function w(){n(0,c=!0),n(3,h="block"),n(2,p.snackback=!0,p),n(2,p.static=!0,p),n(4,o=!0),setTimeout((function(){_()}),200)}function _(){let e=function(){let e;return ISSPECIALMODULEUSERXMLCHANGE=1,e=i>0||null==i?"Incorrect":"Correct",e}();if(d)s(e);else{e="Correct"===e;let t='<smxml type="6" name="ChooseAndReorder"><list groupcheck="false" whichfixed="" headingCorrect="'+p.headingCorrect+'" row="'+f.countrow+'" col="'+f.countcol+'">\x3c!--[CDATA['+f.userAns+"]]--\x3e</list></smxml>";console.log("gg",t),Mn({uXml:t,ans:e})}}return E((()=>{g(a);try{'<smans type="6"></smans>'==l&&n(12,l="")}catch(e){console.warn({error:e})}window.inNative&&window.getHeight&&window.getHeight(),d||_()})),C((()=>{let e=On.select("#sortable");new Jn(e,{animation:150,swap:!0,swapClass:"bg-light",onUpdate(){n(1,f.user_ans_xml=[],f),n(1,f.userAns="",f),On.selectAll("#sortable li").forEach(((e,t)=>{e.id="p"+t,e.setAttribute("data-optid",t),e.setAttribute("name",t),n(1,f.user_ans_xml=[...f.user_ans_xml,{id:t,value:""!=On.select("#"+e.getAttribute("id")).innerText?On.select("#"+e.getAttribute("id")).innerText:On.find("#"+e.getAttribute("id"),"img")?.getAttribute("img_val")}],f)})),n(1,f.correctxmlarray=y(f.correctxmlarray),f),On.selectAll("#sortable li").forEach(((e,t)=>{n(1,f.userAns+=(0!=t?"\n".concat(f.correctxmlarray[t].ischecked?"!":""):f.correctxmlarray[t].ischecked?"!":"")+(""!=On.select("#"+e.getAttribute("id")).innerText?On.select("#"+e.getAttribute("id")).innerText:On.find("#"+e.getAttribute("id"),"img")?.getAttribute("img_val")),f)})),console.log(f.userAns,"kijk"),m()}});On.selectAll(".matchlist_item").forEach((e=>{e.style.width!=r&&(e.style.width=r)}))})),e.$$set=e=>{"xml"in e&&n(11,a=e.xml),"uxml"in e&&n(12,l=e.uxml),"showAns"in e&&n(13,s=e.showAns),"isReview"in e&&n(0,c=e.isReview),"editorState"in e&&n(14,d=e.editorState)},e.$$.update=()=>{if(1&e.$$.dirty&&(c?(n(3,h="block"),w()):n(3,h="none")),6150&e.$$.dirty&&a!=p.xml){if(n(1,f.isShuffeled=!1,f),n(2,p.showlabelofshuffle="block",p),f.user_ans_xml.length>0&&n(1,f.user_ans_xml.length=0,f),n(2,p.isanyheading=!1,p),l){Tn(a);n(1,f.user_ans_xml=l,f),n(11,a=f.user_ans_xml),console.log(l,"j")}n(2,p.xml=a,p),g(a),n(5,r=(632/f.countcol).toFixed(2)+"px")}},[c,f,p,h,o,r,u,w,function(){n(0,c=!1),n(3,h="none"),n(2,p.snackback=!1,p),n(2,p.static=!1,p)},function(e){"c"==e?n(4,o=!1):"u"==e&&n(4,o=!0)},function(e){if(13===e.which){let t=e.target.id;this.classList.contains("copied")?On.selectAll("#"+t,"removeClass","copied"):(On.selectAll("#chid .copied").length<1&&(On.selectAll("#"+t,"addClass","copied"),n(2,p.copied=On.select("#chid .copied"),p)),function(e,t){if(null!=t&&e.getAttribute("id")!=t.getAttribute("id")){On.selectAll(".copied","removeClass","copied"),n(1,f.userAns="",f);let o=e.getAttribute("data-optid"),r=t.getAttribute("data-optid");n(1,[f.user_ans_xml[o].value,f.user_ans_xml[r].value]=[f.user_ans_xml[r].value,f.user_ans_xml[o].value],f);let i=document.createElement("div"),a=document.createElement("div");On.select("#sortable").replaceChild(i,On.select(e)),On.select("#sortable").replaceChild(a,On.select(t)),On.select("#sortable").replaceChild(On.select(t),i),On.select("#sortable").replaceChild(On.select(e),a),n(1,f.correctxmlarray=y(f.correctxmlarray),f),console.log("hrllo",f.correctxmlarray),On.selectAll("#sortable li").forEach(((e,t)=>{n(1,f.userAns+=(0!=t?"\n".concat(f.correctxmlarray[t].ischecked?"!":""):f.correctxmlarray[t].ischecked?"!":"")+(""!=On.select("#"+e.getAttribute("id")).innerText?On.select("#"+e.getAttribute("id")).innerText:On.find("#"+e.getAttribute("id"),"img")?.getAttribute("img_val")),f)})),window.inNative&&window.getHeight&&window.getHeight()}m()}(p.copied,On.select("#"+t)))}},a,l,s,d]}qn('.userans_status{top:0;right:0}.matchlist_item{height:90px;float:left;border:1px solid #dee2e6}.choose_bottom{background-color:#d9e7fd}#choose{width:668px;max-width:668px}.choose_header{background:#d9e7fd;border-top:2px solid #96bbf6;padding:7px 7px 7px 20px}.choose_body{border-left:10px solid #d9e7fd;border-right:10px solid #d9e7fd}.isreviewbgcolor{background:#edf2fc}[tabindex="0"]:focus{box-shadow:0 0 0 .09rem #89ace4!important;outline:0}.sortable-ghost{box-shadow:0 0 0 .09rem #6e99df!important}.width10{width:90%}.light-cyan-bg{background-color:#d4e4ff;color:#333}.width80{width:80px}.width200{width:200px}.add_cat_btn{transform:rotate(270deg)}.width109{width:109px}.width94{width:94px}.top1{top:1px}');class vo extends J{constructor(e){super(),z(this,e,go,po,i,{xml:11,uxml:12,showAns:13,isReview:0,editorState:14},Wn)}}var bo=Tn(window.QXML);return bo.smxml.list._row&&bo.smxml.list._col?new vo({target:document.getElementById(window.moduleContainer)||document.body,props:{xml:window.QXML||"",uxml:window.uaXML,ansStatus:0,isReview:window.isReviewMode||!1,smqCounter:window.idCounter,CM:window.idCounter}}):new Yn({target:document.getElementById(window.moduleContainer)||document.body,props:{xml:window.QXML||"",uxml:window.uaXML,ansStatus:0,isReview:window.isReviewMode||!1,smqCounter:window.idCounter,CM:window.idCounter}})}();
//# sourceMappingURL=bundle_q6.js.map
