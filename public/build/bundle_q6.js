var app=function(){"use strict";function e(){}function t(e){return e()}function n(){return Object.create(null)}function o(e){e.forEach(t)}function r(e){return"function"==typeof e}function i(e,t){return e!=e?t==t:e!==t||e&&"object"==typeof e||"function"==typeof e}function a(e){return null==e?"":e}function l(e,t){e.appendChild(t)}function s(e,t,n){e.insertBefore(t,n||null)}function c(e){e.parentNode.removeChild(e)}function d(e,t){for(let n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}function u(e){return document.createElement(e)}function h(e){return document.createTextNode(e)}function p(){return h(" ")}function f(){return h("")}function m(e,t,n,o){return e.addEventListener(t,n,o),()=>e.removeEventListener(t,n,o)}function g(e,t,n){null==n?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function v(e,t){t=""+t,e.wholeText!==t&&(e.data=t)}function b(e,t,n,o){e.style.setProperty(t,n,o?"important":"")}let y;function w(e){y=e}function _(){if(!y)throw new Error("Function called outside component initialization");return y}function x(e){_().$$.on_mount.push(e)}function S(e){_().$$.after_update.push(e)}function A(){const e=_();return(t,n)=>{const o=e.$$.callbacks[t];if(o){const r=function(e,t){const n=document.createEvent("CustomEvent");return n.initCustomEvent(e,!1,!1,t),n}(t,n);o.slice().forEach((t=>{t.call(e,r)}))}}}const E=[],C=[],D=[],T=[],k=Promise.resolve();let M=!1;function O(e){D.push(e)}let N=!1;const P=new Set;function j(){if(!N){N=!0;do{for(let e=0;e<E.length;e+=1){const t=E[e];w(t),I(t.$$)}for(w(null),E.length=0;C.length;)C.pop()();for(let e=0;e<D.length;e+=1){const t=D[e];P.has(t)||(P.add(t),t())}D.length=0}while(E.length);for(;T.length;)T.pop()();M=!1,N=!1,P.clear()}}function I(e){if(null!==e.fragment){e.update(),o(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(O)}}const L=new Set;function q(e,t){e&&e.i&&(L.delete(e),e.i(t))}function X(e,t,n,o){if(e&&e.o){if(L.has(e))return;L.add(e),undefined.c.push((()=>{L.delete(e),o&&(n&&e.d(1),o())})),e.o(t)}}const R="undefined"!=typeof window?window:"undefined"!=typeof globalThis?globalThis:global;function B(e){e&&e.c()}function H(e,n,i,a){const{fragment:l,on_mount:s,on_destroy:c,after_update:d}=e.$$;l&&l.m(n,i),a||O((()=>{const n=s.map(t).filter(r);c?c.push(...n):o(n),e.$$.on_mount=[]})),d.forEach(O)}function $(e,t){const n=e.$$;null!==n.fragment&&(o(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function F(e,t){-1===e.$$.dirty[0]&&(E.push(e),M||(M=!0,k.then(j)),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function Y(t,r,i,a,l,s,d=[-1]){const u=y;w(t);const h=t.$$={fragment:null,ctx:null,props:s,update:e,not_equal:l,bound:n(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(u?u.$$.context:[]),callbacks:n(),dirty:d,skip_bound:!1};let p=!1;if(h.ctx=i?i(t,r.props||{},((e,n,...o)=>{const r=o.length?o[0]:n;return h.ctx&&l(h.ctx[e],h.ctx[e]=r)&&(!h.skip_bound&&h.bound[e]&&h.bound[e](r),p&&F(t,e)),n})):[],h.update(),p=!0,o(h.before_update),h.fragment=!!a&&a(h.ctx),r.target){if(r.hydrate){const e=function(e){return Array.from(e.childNodes)}(r.target);h.fragment&&h.fragment.l(e),e.forEach(c)}else h.fragment&&h.fragment.c();r.intro&&q(t.$$.fragment),H(t,r.target,r.anchor,r.customElement),j()}w(u)}class U{$destroy(){$(this,1),this.$destroy=e}$on(e,t){const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(t),()=>{const e=n.indexOf(t);-1!==e&&n.splice(e,1)}}$set(e){var t;this.$$set&&(t=e,0!==Object.keys(t).length)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}function z(e,t={}){const n="tagin-tag",o="tagin-tag-remove",r="tagin-input",i=e.dataset.separator||t.separator||",",a=e.dataset.duplicate||t.duplicate||"false",l=(0,eval)(e.dataset.transform)||t.transform||(e=>e),s=e.dataset.placeholder||t.placeholder||"",c=e=>`<span class="tagin-tag">${e}<span class="${o}"></span></span>`,d=()=>e.value,u=()=>d().split(i);!function(){const t=`<div class="${"tagin-wrapper "+e.className.replace("tagin","").trim()}">${""===d().trim()?"":u().map(c).join("")}<input type="text" class="tagin-input" placeholder="${s}"></div>`;e.insertAdjacentHTML("afterend",t)}();const h=e.nextElementSibling,p=h.getElementsByClassName(r)[0],f=()=>[...h.getElementsByClassName(n)].map((e=>e.textContent)),m=()=>f().join(i),g=()=>{e.value=m(),e.dispatchEvent(new Event("change"))};function v(){const e=document.createElement("div");e.classList.add(r,"tagin-input-hidden");const t=p.value||p.getAttribute("placeholder")||"";e.innerHTML=t.replace(/ /g,"&nbsp;"),document.body.appendChild(e),p.style.setProperty("width",Math.ceil(window.getComputedStyle(e).width.replace("px",""))+1+"px"),e.remove()}function b(e=!1){const t=l(p.value.replace(new RegExp(function(e){return e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}(i),"g"),"").trim());""===t&&(p.value=""),(p.value.includes(i)||e&&""!=p.value)&&(f().includes(t)&&"false"===a?function(e){for(const t of h.getElementsByClassName(n))t.textContent===e&&(t.style.transform="scale(1.09)",setTimeout((()=>{t.removeAttribute("style")}),150))}(t):(p.insertAdjacentHTML("beforebegin",c(t)),g()),p.value="",p.removeAttribute("style"))}h.addEventListener("click",(()=>p.focus())),p.addEventListener("focus",(()=>h.classList.add("focus"))),p.addEventListener("blur",(()=>h.classList.remove("focus"))),document.addEventListener("click",(e=>{e.target.closest("."+o)&&(e.target.closest("."+o).parentNode.remove(),g())})),p.addEventListener("keydown",(e=>{""===p.value&&8===e.keyCode&&h.getElementsByClassName(n).length&&(h.querySelector(".tagin-tag:last-of-type").remove(),g())})),p.addEventListener("input",(()=>{b(),v()})),p.addEventListener("blur",(()=>{b(!0),v()})),v(),e.addEventListener("change",(()=>{d()!==m()&&([...h.getElementsByClassName(n)].map((e=>e.remove())),""!==d().trim()&&p.insertAdjacentHTML("beforebegin",u().map(c).join("")))}))}var J=".tagin{display:none}.tagin-wrapper{border: 1px solid #ccc;display:flex;flex-wrap:wrap;height:auto;padding:calc(.375rem - 2px) calc(.75rem - 2px);position:relative;overflow:hidden;cursor:text}.tagin-wrapper.focus{color:#495057;background-color:#fff;border-color:#80bdff;outline:0;box-shadow:0 0 0 .2rem rgba(0,123,255,.25)}.tagin.is-valid+.tagin-wrapper,.was-validated .tagin:valid+.tagin-wrapper{border-color:#28a745}.tagin.is-invalid+.tagin-wrapper,.was-validated .tagin:invalid+.tagin-wrapper{border-color:#dc3545}.tagin-tag{border-radius:.25rem;color:#fff;border:0;padding:0 4px;display:inline-flex;align-items:center;height:24px;margin:2px;font-weight:300;background-color:#6c757d;transition:transform .1s}.tagin-tag-remove{margin-left:2px;width:18px;height:18px;cursor:pointer;background-image:url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='%23a0aec0' width='18px' height='18px'%3E%3Cpath d='M0 0h24v24H0z' fill='none'/%3E%3Cpath d='M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12 17 15.59z'/%3E%3C/svg%3E\")}.tagin-tag-remove:hover{background-image:url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='white' width='18px' height='18px'%3E%3Cpath d='M0 0h24v24H0z' fill='none'/%3E%3Cpath d='M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12 17 15.59z'/%3E%3C/svg%3E\")}.tagin-input{margin-left:2px;border-color:transparent;outline:0;border-width:1px 0;padding:0 2px 0 0;height:28px;color:#495057}.tagin-input:not(.tagin-input-hidden){width:4px;min-width:4px}.tagin-input-hidden{position:absolute;top:0;left:-9999px;overflow:hidden;visibility:hidden;white-space:nowrap";class W extends class{constructor(e){this._servers=["http://localhost/pe-gold3/","https://www.ucertify.com/","https://www.jigyaasa.info/","http://172.10.195.203/pe-gold3/"],this._REMOTE_API_URL=this._servers[1]+"pe-api/1/index.php",this._client={email:"pradeep.yadav@ucertify.com",password:"786pradeep",isSocial:"false",clientId:"040MA"}}validateApp(e){return new Promise(((t,n)=>{let o=e?"&action=refresh_token&refresh_token=1":"",r=this._client.isSocial?"&social_login=1":"",i=`${this._REMOTE_API_URL}?func=cat2.authenticate&device_id=${this._client.clientId}&email=${this._client.email}&password=${this._client.password+r+o}`,a=new XMLHttpRequest;a.open("POST",i,!0),a.onreadystatechange=e=>{if(4==a.readyState&&200===a.status)try{let e=a.responseText.match(/<jsonstring>(.*?)<\/jsonstring>/);t(JSON.parse(e[1]))}catch(e){n(e)}},a.onerror=e=>{n(e)},e&&a.setRequestHeader("old-access-token",globalThis.apiAccessToken),a.send()}))}getAPIDataJ(e,t,n=function(){}){let o="",r={},i="",a=t.ajax_info||{};if(t=this._assignPartial(t,{},"ajax_info",!0),r.device_id=this._client.clientId,"object"==typeof t)for(let e in t)"object"!=typeof t[e]&&(o+="&"+e+"="+t[e]);if(void 0!==e&&""!=e){for(let e in r)"object"!=typeof r[e]&&(i+="&"+e+"="+r[e]);i+="&func="+e}this.getAPIDataJSON(this._REMOTE_API_URL+"?"+i+"&debug=0&"+o,o,a,(o=>{"Expired"==o?this.getAPIDataJ(e,t,n):n(o)}),e)}getAPIDataJSON(e,t,n,o=function(){},r){let i=new XMLHttpRequest;i.open("POST",e,!0),i.onreadystatechange=e=>{if(4==i.readyState&&200===i.status){let e=i.responseText,n={};try{let t=e.match(/<jsonstring>(.*?)<\/jsonstring>/);if(""!=t[1]){let e=JSON.parse(t[1]);if(e.error&&["Expired","-9"].includes(e.error.error_id))return console.log("Api Error = ",e.error.error_id),void this.validateApp(-9!=e.error.error_id).then((e=>{"Success"==e.status&&(this.setAccessKey(e),o("Expired"))})).catch((e=>{console.log(e)}));e.response?(n=e.response,console.warn("Api data J reponse <-- Received --\x3e",e)):null==e.response&&null==e.error?(n=e,console.warn("Api data J reponse <-- Received II--\x3e",n)):(n=void 0,console.warn({Response_error:e.error}))}}catch(o){if(console.warn("Please check your Internet connection."),console.log("Api data error = ",e),!t.includes("must_reply_override"))return 0;n=void 0}o(n)}},t.includes("no_access_token_required")||i.setRequestHeader("access-token",globalThis.apiAccessToken),i.setRequestHeader("Content-type","application/json"),i.setRequestHeader("Access-Control-Allow-Origin","*"),i.setRequestHeader("Access-Control-Allow-Headers","*"),i.send()}_assignPartial(e,t={},n,o=!1){if(n=n.split(","),o)for(let o in e){-1===n.indexOf(o)&&(t[o]=e[o])}else for(let o in n){let r=n[o];void 0!==e[r]&&(t[r]=e[r])}return t}setAccessKey(e){e.access_token&&e.access_token.length>50&&(globalThis.apiAccessToken=e.access_token,"undefined"!=typeof Storage&&localStorage.setItem("apiAccessToken",e.access_token))}}{constructor(e){super(),this.trackInf={},this.buffer={},this.bsCat1=["Modal","Tooltip","Collapse","Popover","ScrollSpy","Tab","Alert","Dropdown"],this.extraSelectors=["hidden","visible","selected","checked","enabled","children","childNodes"],this.parseHtml=this.templateHtml.bind(this),this.isSSDloaded="",this.loadSSD()}loadSSD(){"object"==typeof globalThis?(globalThis.eventTracker=globalThis.eventTracker||{},globalThis.JUITemp=globalThis.JUITemp||{}):this.isSSDloaded=setInterval((()=>{"object"==typeof globalThis&&(globalThis.eventTracker=globalThis.eventTracker||{},globalThis.JUITemp=globalThis.JUITemp||{},clearInterval(this.isSSDloaded))}),500)}validate(e){return new Promise(((t,n)=>{this.validateApp(e).then((e=>{if("Success"!=e.status)n(e);else try{this.setAccessKey(e),t(e)}catch(e){n(e)}})).catch((e=>{n(e)}))}))}param2Url(e){let t=[];for(var n in e){var o=n+"="+e[n];t.push(o)}return t.join("&")}unique(e){return e.filter(((e,t,n)=>n.indexOf(e)===t))}parseJSON(e,t){let n=t||!1;try{return JSON.parse(e)}catch(e){return n&&console.warn(e),{}}}parseDom(e){return(new DOMParser).parseFromString(e,"text/html")}addScript(e,t,n={}){let o=document.createElement("script");return t?(o.src=t,o.async=!0,n.callback&&(o.onload=function(){n.callback()})):o.innerHTML=e,(n.target?document.body:document.head).append(o),o}createLink(e,t={}){let n=document.createElement("link"),o=t.target?document.body:document.head;return n.href=e,t.preload?(n.rel="preload",n.onload=function(){this.rel=t.type||"stylesheet"},n.as=t.as||"style",n.crossorigin="anonymous"):n.rel="stylesheet",o.append(n),n}enableTagView(e){let t=document.querySelectorAll(".tagin");for(const n of t)e?z(n,e):z(n);return t}addTagViewCss(){this.insert(document.head,`<style>${J}</style>`,"beforeend")}hasInall(e,t){let n="object"==typeof e?e:document.querySelectorAll(e),o=[];return n&&Array.prototype.forEach.call(n,(e=>{e.contains(t)&&o.push(e)})),o}removeDomAttr(e,t){let n="object"==typeof e?e:document.querySelector(e);return n&&Array.prototype.forEach.call(t,(e=>{n.removeAttribute(e)})),n||{}}trigger(e,t,n){let o="object"==typeof e?e:document.querySelector(e);o?n?o.dispatchEvent(new Event(t,n)):o.dispatchEvent(new Event(t)):console.warn("Selector not found.",e)}findChild(e,t,n){let o=("object"==typeof e?e:document.querySelector(e)).children||[],r=[];if(t&&o.length>0){let e=0;for(;o[e];){if(o[e].matches(t)){if(!n){r=o[e];break}r.push(o[e])}e++}return r}return o}closest(e,t){let n="object"==typeof e?e:document.querySelector(e),o=n?n.parentElement:null,r=[];if(t)for(;o;){if(this.find(o,t)){r=this.find(o,t);break}o=o.parentElement}return r}parent(e,t){let n="object"==typeof e?e:document.querySelector(e),o=n?n.parentElement:null;if(t)for(;o&&!o.matches(t);)o=o.parentElement;return o}siblings(e,t){let n="object"==typeof e?e:document.querySelector(e),o=[];if(n)for(var r=n.parentNode.firstChild;r;)r!==n&&r.nodeType===Node.ELEMENT_NODE&&(t?r.matches(t)&&o.push(r):o.push(r)),r=r.nextElementSibling||r.nextSibling;return o}nextAll(e){let t=("object"==typeof e?e:document.querySelector(e)).nextElementSibling,n=[];if(t)for(;t;)t=t.nextElementSibling,n.push(t);return n}nextElm(e,t){let n=("object"==typeof e?e:document.querySelector(e)).nextElementSibling;if(t)for(;n&&!n.matches(t);)n=n.nextElementSibling;return n}prevElm(e,t){let n=("object"==typeof e?e:document.querySelector(e)).previousElementSibling;if(t)for(;n&&!n.matches(t);)n=n.previousElementSibling;return n}onReady(e){document.addEventListener("DOMContentLoaded",(function(t){e.call(t)}))}create(e,t){let n=document.createElement(e);return t&&(n.innerHTML=t),n}clone(e){let t="object"==typeof e?e:document.querySelector(e);return t?t.cloneNode(!0):null}serialize(e){let t="object"==typeof e?e:document.querySelector(e);return t?new URLSearchParams(new FormData(t)).toString():null}empty(e){let t="object"==typeof e?e:document.querySelector(e);if(t)for(;t.firstChild;)t.removeChild(t.firstChild);return t}getBS(e,t,n){let o="object"==typeof e?e:document.querySelector(e);if(o&&this.bsCat1.includes(t)){if(bootstrap[t].getInstance&&bootstrap[t].getInstance(o))return bootstrap[t].getInstance(o);return new bootstrap[t](o,n)}return{}}enableBsAll(e,t,n={}){if(n={...n,trigger:"hover"},this.bsCat1.includes(t)){return[].slice.call(document.querySelectorAll(e)).map((function(e){return n?new bootstrap[t](e,n):new bootstrap[t](e)}))}return console.error("Bootstrap can't enable for this component name"),[]}hideBsAll(e,t){let n=[].slice.call(document.querySelectorAll(e));this.bsCat1.includes(t)?n.forEach((function(e){bootstrap[t].getInstance(e)?.hide?.()})):console.error("Bootstrap can't disable for this component name")}initDropdown(){let e=this;e.enableBsAll('[data-toggle="dropdown"]',"Dropdown"),e.bind("body","click",(function(t){t.target.closest('[data-toggle="dropdown"]')||(e.selectAll('[data-toggle="dropdown"]').forEach((function(e){e.classList.remove("show")})),e.selectAll(".dropdown-menu").forEach((function(e){e.classList.remove("show")})))}))}ajax(e){let t="";if("object"==typeof e.data)if(e.formData)t=e.data;else if(e.withUrl){let t="?";for(let n in e.data)"object"!=typeof e.data[n]&&(t+="&"+n+"="+e.data[n]);e.url+=t}else{t=new FormData;for(let n in e.data)"object"==typeof e.data[n]&&this.isValid(e.data[n])?t=this.jsonFormEncode(t,n,e.data[n]):t.append(n,e.data[n])}return new Promise(((n,o)=>{const r=new XMLHttpRequest;r.open(e.type||"POST",e.url,!0),e.responseType&&(r.responseType=e.responseType),r.onreadystatechange=e=>{if(4==r.readyState&&200===r.status)try{n(r.responseText,e)}catch(e){o(e)}},r.onerror=e=>{o(e)},e.onStart&&(r.onloadstart=e.onStart),e.onEnd&&(r.onloadend=e.onEnd),r.send(t)}))}jsonFormEncode(e,t,n){try{if(Array.isArray(n))for(let o=0;o<n.length;o++)this.jsonFormEncode(e,`${t}[${o}]`,n[o]);else if("object"==typeof n)for(let o in n)this.jsonFormEncode(e,`${t}[${o}]`,n[o]);else e.append(t,n)}catch(e){console.warn("Please provide valid JSON Object in ajax data."+e)}return e}getJSON(e){var t=document.createElement("script");t.src=e,document.body.appendChild(t)}offset(e){let t="object"==typeof e?e:document.querySelector(e),n={rect:t};if(t){let e=t.getBoundingClientRect();n={target:t,clientRect:e,top:e.top+window.scrollY,left:e.left+window.scrollX}}return n}findInArray(e,t){return!(!e||!t)&&t.find((t=>t==e))}inArray(e,t){let n=[];return e&&t&&e.forEach((e=>{t.forEach((t=>{e==t&&!n.includes(t)&&n.push(t)}))})),n.length>0?n.length:-1}serializeArray(e,t){let n=[];return e.forEach((e=>{if((!t||e.matches(t))&&(console.log(e.attributes.length),e.attributes.length>0)){let t={};for(let n of e.attributes)t[n.name]=n.value;n.push(t)}})),n}find(e,t,n){let o="object"==typeof e?e:document.querySelector(e);if(o)switch("object"==typeof n?"action":n){case"all":return o?.querySelectorAll(t);case"child":return o?.querySelector(t).childNodes;case"hidden":return Array.prototype.filter.call(o.querySelectorAll(t),(e=>0==e.offsetWidth&&0==e.offsetHeight));case"visible":return Array.prototype.filter.call(o.querySelectorAll(t),(e=>e.offsetWidth>0&&e.offsetHeight>0));case"checked":return Array.prototype.filter.call(document.querySelectorAll(selector),(e=>e.checked));case"selected":return Array.prototype.filter.call(o.querySelectorAll(t),(e=>e.selected));case"action":{let e=o.querySelectorAll(t);return e&&e.length>0&&n.action&&e.forEach((e=>this.jsAction(e,{action:n.action,actionData:n.actionData}))),e}default:return o.querySelector(t)}return[]}selectAll(e,t,n){let o=this.isExtraSelectors(t,n)?this.selectAction(e,t):"object"==typeof e?e:document.querySelectorAll(e);return o&&o.length>0&&t&&Array.prototype.forEach.call(o,(e=>this.jsAction(e,{action:t,actionData:n}))),o}isExtraSelectors(e,t){return!!this.extraSelectors.includes(e)&&("checked"!=e||void 0===t)}select(e,t,n){return this.isExtraSelectors(t,n)?this.selectAction(e,t):((e="object"==typeof e?e:document.querySelector(e))&&this.jsAction(e,{action:t,actionData:n}),e||{})}getElm(e,t){return document.getElementById(e)||{}}listenAll(e,t,n){let o="object"==typeof e?e:document.querySelectorAll(e);if(o&&o.length>0)for(let e=0;e<o.length;e++)o[e].addEventListener(t,n,!1)}bind(e,t,n){let o="object"==typeof e?e:document.querySelector(e);o&&o.addEventListener(t,n)}listen(e,t,n,o){let r="object"==typeof e?e:"undefined"!=typeof document&&document.querySelector(e);if(!r)return!1;globalThis.eventTracker[n]&&r.removeEventListener(t,globalThis.eventTracker[n]),globalThis.eventTracker[n]=this.onListen.bind(this,n,o,r),r.addEventListener(t,globalThis.eventTracker[n])}removeClass(e,t){let n="object"==typeof e?e:document.querySelectorAll(e);return n&&n?.length>0?Array.prototype.forEach.call(n,(e=>this.jsAction(e,{action:"removeClass",actionData:t}))):"object"==typeof n&&this.jsAction(n,{action:"removeClass",actionData:t}),n||{}}addClass(e,t){let n="object"==typeof e?e:document.querySelectorAll(e);return n&&n?.length>0?Array.prototype.forEach.call(n,(e=>this.jsAction(e,{action:"addClass",actionData:t}))):"object"==typeof n&&this.jsAction(n,{action:"addClass",actionData:t}),n||{}}toggleDom(e,t="toggleDisplay"){let n="object"==typeof e?e:document.querySelectorAll(e);return n&&n.length>0&&Array.prototype.forEach.call(n,(e=>this.jsAction(e,{action:t}))),n||{}}select2(e){let t=document.querySelector(e+" + span > .selection > span");t&&t.click()}setData(e,t){let n="object"==typeof e?e:document.querySelector(e);if(n)for(let e in t)n.dataset[e]=t[e];return n||{}}getData(e,t){return("object"==typeof e?e:document.querySelector(e))?.dataset[t]||{}}setAttr(e,t){let n="object"==typeof e?e:document.querySelector(e);if(n)for(let e in t)n.setAttribute(e,t[e]);return n||{}}setCss(e,t){let n="object"==typeof e?e:document.querySelector(e);if(n)for(let e in t)n.style&&(n.style[e]=t[e]);return n||{}}remove(e){let t=document.querySelectorAll(e);t.length>0&&Array.prototype.forEach.call(t,(e=>e.remove()))}replaceWith(e,t){let n="object"==typeof e?e:document.querySelector(e);if(n){let e=this.templateHtml(t);return n.replaceWith(e),e}return n}wrap(e,t){let n="object"==typeof e?e:document.querySelector(e);if(n){let e=this.templateHtml(t),o=this.innerChild(e);return o.innerHTML=n.outerHTML,n.parentNode.replaceChild(e,n),o.firstChild}return n}unwrap(e){let t="object"==typeof e?e:document.querySelectorAll(e);t&&t.length>0&&t.forEach((e=>{e.outerHTML=e.innerHTML}))}insertAfter(e,t){return e="object"==typeof e?e:document.querySelector(e),t="object"==typeof t?t:document.querySelector(t),e&&t&&t.parentNode.insertBefore(e,t.nextSibling),e}insert(e,t,n){let o="object"==typeof e?e:document.querySelector(e);if(o)switch(n){case"beforebegin":o.insertAdjacentHTML("beforebegin",t);break;case"afterbegin":o.insertAdjacentHTML("afterbegin",t);break;case"beforeend":o.insertAdjacentHTML("beforeend",t);break;case"afterend":o.insertAdjacentHTML("afterend",t)}return o||{}}domIndex(e){let t="object"==typeof e?e:document.querySelector(e);return t?Array.from(t.parentNode.children).indexOf(t):-1}match(e,t){let n="object"==typeof e?e:document.querySelector(e),o=[];return n&&n.length>0?(Array.prototype.forEach.call(n,(e=>{e.matches(t)&&o.push(e)})),o):n&&n.matches(t)}contains(e,t){let n="object"==typeof e?e:document.querySelectorAll(e);return n&&n.length>0?[].filter.call(n,(function(e){return RegExp(t).test(e.textContent)})):[]}extend(){let e={},t=!1,n=0,o=arguments.length;"[object Boolean]"===Object.prototype.toString.call(arguments[0])&&(t=arguments[0],n++);const r=function(n){for(let o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t&&"[object Object]"===Object.prototype.toString.call(n[o])?e[o]=extend(!0,e[o],n[o]):e[o]=n[o])};for(;n<o;n++){r(arguments[n])}return e}url(e){return e=e||("object"==typeof window?window.location.href:""),new URLSearchParams(e)}updateEditorUrl(e){let t=`?action=new&content_subtype=${e.subtype}&content_type=${e.type}&content_icon=${e.content_icon}&react_content=1`;window.history.replaceState(null,"",t)}getUrlVars(){let e,t=[],n=window.location.href.slice(window.location.href.indexOf("?")+1).split("&");for(let o=0;o<n.length;o++)e=n[o].split("="),t.push(e[0]),t[e[0]]=e[1];return t}setApiKey(e){globalThis.apiAccessToken=e}validateAjaxData(e,t){if(0==t||8==t){if(e&&!this.get("is_proposed")){if(e.content_text){try{e.content_text.answers.forEach(((t,n)=>{e.content_text.answers[n].answer=t.answer.replace(/\n/g,"")}))}catch(e){return{answers:[{is_correct:"0",answer:"Option A.",id:"01"},{is_correct:"0",answer:"Option B.",id:"02"},{is_correct:"0",answer:"Option C.",id:"03"},{is_correct:"0",answer:"Option D.",id:"04"}],correct_ans_str:"D",total_answers:4,correct_answers:1}}return e.content_text}return e}return{answers:[{is_correct:"0",answer:"Option A.",id:"01"},{is_correct:"0",answer:"Option B.",id:"02"},{is_correct:"0",answer:"Option C.",id:"03"},{is_correct:"0",answer:"Option D.",id:"04"}],correct_ans_str:"D",total_answers:4,correct_answers:1}}return e}watchDom(e,t,n={childList:!0}){let o=new MutationObserver((function(e){t&&t(e)}));return o.observe(e,n),o}ignoreEnity(e){return e.replace(/&amp;/g,"&")}cache(e){var t=new Map;return function(n){if(t.has(n))return t.get(n);var o=e(n);return t.set(n,o),o}}set(e,t){"save_item"==e&&this.addInLocalstorage(e,t),"object"==typeof globalThis&&(globalThis.JUITemp[e]=t)}addInLocalstorage(e,t){window.localStorage.setItem(e,t)}get(e){return globalThis.JUITemp[e]}caller(){console.log("called from "+arguments.callee.caller.toString())}showmsg(e,t=1e4){let n=document.querySelector("#showMsgAlert");this.buffer.showmsg&&clearTimeout(this.buffer.showmsg),n?(n.classList.add("show"),this.select("#showMsgBody").innerHTML=e):this.insert(document.body,this.getModalHtml(e,"Alert"),"beforebegin"),setTimeout((()=>{let e=this.getBS(document.querySelector("#showMsgAlert"),"Alert");e.close&&e.close()}),t)}alert(e){document.getElementById("showBSModal")?(this.getBS("#showBSModal","Modal").show(),this.select("#showBSBody").innerHTML=e||"No msg provided..."):(this.insert(document.body,this.getModalHtml(e,"showBSModal"),"beforeend"),this.getBS("#showBSModal","Modal").show())}formatXml(e,t){let n=t||!1,o=n?e.match(/<!--\[CDATA\[[\s\S]*?\]\]-->/gim):"";if(e=e.replace(/\t/g,"").replace(/(>)(<)(\/*)/g,"$1\n$2$3").replace(/ *(.*) +\n/g,"$1\n").replace(/(<.+>)(.+\n)/g,"$1\n$2"),n){let t=e.match(/<!--\[CDATA\[[\s\S]*?\]\]-->/gim);e=e.replace(t,o)}let r="",i=e.split("\n"),a=0,l="other",s={"single->single":0,"single->closing":-1,"single->opening":0,"single->other":0,"closing->single":0,"closing->closing":-1,"closing->opening":0,"closing->other":0,"opening->single":1,"opening->closing":0,"opening->opening":1,"opening->other":1,"other->single":0,"other->closing":-1,"other->opening":0,"other->other":0};for(let e=0;e<i.length;e++){let t=i[e];if(""!=t){let e=Boolean(t.match(/<.+\/>/)),n=Boolean(t.match(/<\/.+>/)),o=Boolean(t.match(/<[^!].*>/)),i=e?"single":n?"closing":o?"opening":"other",c=l+"->"+i;l=i;let d="";a+=s[c];for(let e=0;e<a;e++)d+="\t";"opening->closing"==c?r=r.substr(0,r.length-1)+t+"\n":r+=d+t+"\n"}}return r}getModalHtml(e,t){switch(t){case"Alert":return`\n                    <div id="showMsgAlert" class="alert alert-warning alert-dismissible text-center fade show" role="alert" style="z-index:99999;min-height:50px;position:fixed;width:100%;">\n                        <span id="showMsgBody">${e}</span>\n                        <button type="button" class="btn-close close" style="margin-top: -3px;" data-bs-dismiss="alert" data-dismiss="alert"  aria-label="Close"></button>\n                    </div>\n                `;case"showBSModal":return`\n                    <div class="modal fade" id="showBSModal" tabindex="-1" aria-labelledby="Alert" aria-hidden="true">\n                        <div class="modal-dialog modal-dialog-centered" id="showBSDialog">\n                            <div class="modal-content">\n                                <div class="modal-body text-center fs-5 pt-4" id="showBSBody">\n                                    ${e}\n                                </div>\n                                <div class="modal-footer">\n                                    <button type="button" class="btn bg-light m-auto text-dark border border-secondary" data-bs-dismiss="modal" data-dismiss="modal">OK</button>\n                                </div>\n                            </div>\n                        </div>\n                    </div>`;default:return"<div>Nothing</div>"}}isValid(e,t=!1){return!(!e||null==e||""==e||"undefined"==e||null==e)||!(!t||e==t)}store(e,t){}query(e){var t="item_error_log=1";if("object"==typeof e)for(let n in e)"object"!=typeof e[n]&&(t+="&"+n+"="+e[n]);return t}activate(e){document.querySelector("#activateLoaderContainer")&&document.querySelector("#activateLoaderContainer").remove(),e>0&&this.insert(document.body,'<div id="activateLoaderContainer" class="activateOverlay" style="z-index:9999999;"><center><div class="activator" style="height:100px; width: 100px;"></div></center></div>',"afterend")}onListen(e,t,n,o){let r=o.target,i=r.closest&&r.closest(e);i&&n.contains(i)&&t.call(this,i,o)}isFocus(e){return("object"==typeof e?e:document.querySelector(e))==document.activeElement}innerChild(e){let t="object"==typeof e?e:document.querySelector(e),n=t;if(t&&t.lastChild)for(t=t.lastChild;t;)n=t,t=t.lastChild;return n}templateHtml(e){let t=document.createElement("template");return t.innerHTML=e,t.content.firstElementChild.cloneNode(!0)}selectAction(e,t){switch(t){case"hidden":return Array.prototype.filter.call(document.querySelectorAll(e),(e=>0==e.offsetWidth&&0==e.offsetHeight));case"visible":return Array.prototype.filter.call(document.querySelectorAll(e),(e=>e.offsetWidth>0&&e.offsetHeight>0));case"selected":return Array.prototype.filter.call(document.querySelectorAll(e),(e=>e.selected));case"checked":return Array.prototype.filter.call(document.querySelectorAll(e),(e=>e.checked));case"enabled":return document.querySelectorAll(e+":not([disabled]");case"children":return document.querySelector(e).children;case"childNodes":return document.querySelector(e).childNodes;default:return document.querySelector(e)}}jsAction(e,t){if(e instanceof HTMLElement||e instanceof Node)switch(t.action){case"show":e.style.display=t.actionData||"";break;case"hide":e.style.display="none";break;case"toggleDisplay":e.style.display="none"==e.style.display?"block":"none";break;case"addClass":"object"==typeof t.actionData?e.classList.add(...t.actionData):e.classList.add(t.actionData);break;case"removeClass":"object"==typeof t.actionData?e.classList.remove(...t.actionData):e.classList.remove(t.actionData);break;case"toggleClass":e.classList.toggle(t.actionData);break;case"html":e.innerHTML=t.actionData;break;case"value":e.value=t.actionData;break;case"text":e.textContent=t.actionData;break;case"checked":e.checked=t.actionData;break;case"remove":e.remove();break;case"removeAttr":e.removeAttribute(t.actionData);break;case"css":this.setCss(e,t.actionData);break;case"attr":this.setAttr(e,t.actionData);break;case"data":this.setData(e,t.actionData);break;case"getData":this.getData(e,t.actionData)}}slideUp(e,t=500){e.style.transitionProperty="height, margin, padding",e.style.transitionDuration=t+"ms",e.style.boxSizing="border-box",e.style.height=e.offsetHeight+"px",e.offsetHeight,e.style.overflow="hidden",e.style.height=0,e.style.paddingTop=0,e.style.paddingBottom=0,e.style.marginTop=0,e.style.marginBottom=0,window.setTimeout((()=>{e.style.display="none",e.style.removeProperty("height"),e.style.removeProperty("padding-top"),e.style.removeProperty("padding-bottom"),e.style.removeProperty("margin-top"),e.style.removeProperty("margin-bottom"),e.style.removeProperty("overflow"),e.style.removeProperty("transition-duration"),e.style.removeProperty("transition-property")}),t)}slideDown(e,t=500){e.style.removeProperty("display");let n=window.getComputedStyle(e).display;"none"===n&&(n="block"),e.style.display=n;let o=e.offsetHeight;e.style.overflow="hidden",e.style.height=0,e.style.paddingTop=0,e.style.paddingBottom=0,e.style.marginTop=0,e.style.marginBottom=0,e.offsetHeight,e.style.boxSizing="border-box",e.style.transitionProperty="height, margin, padding",e.style.transitionDuration=t+"ms",e.style.height=o+"px",e.style.removeProperty("padding-top"),e.style.removeProperty("padding-bottom"),e.style.removeProperty("margin-top"),e.style.removeProperty("margin-bottom"),window.setTimeout((()=>{e.style.removeProperty("height"),e.style.removeProperty("overflow"),e.style.removeProperty("transition-duration"),e.style.removeProperty("transition-property")}),t)}slideToggle(e,t=500){return"none"===window.getComputedStyle(e).display?this.slideDown(e,t):this.slideUp(e,t)}setCookie(e,t,n){const o=new Date;o.setTime(o.getTime()+24*n*60*60*1e3);let r="expires="+o.toUTCString();document.cookie=e+"="+t+";"+r+";path=/"}getCookie(e){let t=e+"=",n=decodeURIComponent(document.cookie).split(";");for(let e=0;e<n.length;e++){let o=n[e];for(;" "==o.charAt(0);)o=o.substring(1);if(0==o.indexOf(t))return o.substring(t.length,o.length)}return""}}new W;
/*!
     * hotkeys-js v3.8.1
     * A simple micro-library for defining and dispatching keyboard shortcuts. It has no dependencies.
     * 
     * Copyright (c) 2020 kenny wong <wowohoo@qq.com>
     * http://jaywcjlove.github.io/hotkeys
     * 
     * Licensed under the MIT license.
     */var K="undefined"!=typeof navigator&&navigator.userAgent.toLowerCase().indexOf("firefox")>0;function G(e,t,n){e.addEventListener?e.addEventListener(t,n,!1):e.attachEvent&&e.attachEvent("on".concat(t),(function(){n(window.event)}))}function V(e,t){for(var n=t.slice(0,t.length-1),o=0;o<n.length;o++)n[o]=e[n[o].toLowerCase()];return n}function Q(e){"string"!=typeof e&&(e="");for(var t=(e=e.replace(/\s/g,"")).split(","),n=t.lastIndexOf("");n>=0;)t[n-1]+=",",t.splice(n,1),n=t.lastIndexOf("");return t}for(var Z={backspace:8,tab:9,clear:12,enter:13,return:13,esc:27,escape:27,space:32,left:37,up:38,right:39,down:40,del:46,delete:46,ins:45,insert:45,home:36,end:35,pageup:33,pagedown:34,capslock:20,"⇪":20,",":188,".":190,"/":191,"`":192,"-":K?173:189,"=":K?61:187,";":K?59:186,"'":222,"[":219,"]":221,"\\":220},ee={"⇧":16,shift:16,"⌥":18,alt:18,option:18,"⌃":17,ctrl:17,control:17,"⌘":91,cmd:91,command:91},te={16:"shiftKey",18:"altKey",17:"ctrlKey",91:"metaKey",shiftKey:16,ctrlKey:17,altKey:18,metaKey:91},ne={16:!1,18:!1,17:!1,91:!1},oe={},re=1;re<20;re++)Z["f".concat(re)]=111+re;var ie=[],ae="all",le=[],se=function(e){return Z[e.toLowerCase()]||ee[e.toLowerCase()]||e.toUpperCase().charCodeAt(0)};function ce(e){ae=e||"all"}function de(){return ae||"all"}var ue=function(e){var t=e.key,n=e.scope,o=e.method,r=e.splitKey,i=void 0===r?"+":r;Q(t).forEach((function(e){var t=e.split(i),r=t.length,a=t[r-1],l="*"===a?"*":se(a);if(oe[l]){n||(n=de());var s=r>1?V(ee,t):[];oe[l]=oe[l].map((function(e){return(!o||e.method===o)&&e.scope===n&&function(e,t){for(var n=e.length>=t.length?e:t,o=e.length>=t.length?t:e,r=!0,i=0;i<n.length;i++)-1===o.indexOf(n[i])&&(r=!1);return r}(e.mods,s)?{}:e}))}}))};function he(e,t,n){var o;if(t.scope===n||"all"===t.scope){for(var r in o=t.mods.length>0,ne)Object.prototype.hasOwnProperty.call(ne,r)&&(!ne[r]&&t.mods.indexOf(+r)>-1||ne[r]&&-1===t.mods.indexOf(+r))&&(o=!1);(0!==t.mods.length||ne[16]||ne[18]||ne[17]||ne[91])&&!o&&"*"!==t.shortcut||!1===t.method(e,t)&&(e.preventDefault?e.preventDefault():e.returnValue=!1,e.stopPropagation&&e.stopPropagation(),e.cancelBubble&&(e.cancelBubble=!0))}}function pe(e){var t=oe["*"],n=e.keyCode||e.which||e.charCode;if(fe.filter.call(this,e)){if(93!==n&&224!==n||(n=91),-1===ie.indexOf(n)&&229!==n&&ie.push(n),["ctrlKey","altKey","shiftKey","metaKey"].forEach((function(t){var n=te[t];e[t]&&-1===ie.indexOf(n)?ie.push(n):!e[t]&&ie.indexOf(n)>-1?ie.splice(ie.indexOf(n),1):"metaKey"===t&&e[t]&&3===ie.length&&(e.ctrlKey||e.shiftKey||e.altKey||(ie=ie.slice(ie.indexOf(n))))})),n in ne){for(var o in ne[n]=!0,ee)ee[o]===n&&(fe[o]=!0);if(!t)return}for(var r in ne)Object.prototype.hasOwnProperty.call(ne,r)&&(ne[r]=e[te[r]]);e.getModifierState&&(!e.altKey||e.ctrlKey)&&e.getModifierState("AltGraph")&&(-1===ie.indexOf(17)&&ie.push(17),-1===ie.indexOf(18)&&ie.push(18),ne[17]=!0,ne[18]=!0);var i=de();if(t)for(var a=0;a<t.length;a++)t[a].scope===i&&("keydown"===e.type&&t[a].keydown||"keyup"===e.type&&t[a].keyup)&&he(e,t[a],i);if(n in oe)for(var l=0;l<oe[n].length;l++)if(("keydown"===e.type&&oe[n][l].keydown||"keyup"===e.type&&oe[n][l].keyup)&&oe[n][l].key){for(var s=oe[n][l],c=s.splitKey,d=s.key.split(c),u=[],h=0;h<d.length;h++)u.push(se(d[h]));u.sort().join("")===ie.sort().join("")&&he(e,s,i)}}}function fe(e,t,n){ie=[];var o=Q(e),r=[],i="all",a=document,l=0,s=!1,c=!0,d="+";for(void 0===n&&"function"==typeof t&&(n=t),"[object Object]"===Object.prototype.toString.call(t)&&(t.scope&&(i=t.scope),t.element&&(a=t.element),t.keyup&&(s=t.keyup),void 0!==t.keydown&&(c=t.keydown),"string"==typeof t.splitKey&&(d=t.splitKey)),"string"==typeof t&&(i=t);l<o.length;l++)r=[],(e=o[l].split(d)).length>1&&(r=V(ee,e)),(e="*"===(e=e[e.length-1])?"*":se(e))in oe||(oe[e]=[]),oe[e].push({keyup:s,keydown:c,scope:i,mods:r,shortcut:o[l],method:n,key:o[l],splitKey:d});void 0!==a&&!function(e){return le.indexOf(e)>-1}(a)&&window&&(le.push(a),G(a,"keydown",(function(e){pe(e)})),G(window,"focus",(function(){ie=[]})),G(a,"keyup",(function(e){pe(e),function(e){var t=e.keyCode||e.which||e.charCode,n=ie.indexOf(t);if(n>=0&&ie.splice(n,1),e.key&&"meta"===e.key.toLowerCase()&&ie.splice(0,ie.length),93!==t&&224!==t||(t=91),t in ne)for(var o in ne[t]=!1,ee)ee[o]===t&&(fe[o]=!1)}(e)})))}var me={setScope:ce,getScope:de,deleteScope:function(e,t){var n,o;for(var r in e||(e=de()),oe)if(Object.prototype.hasOwnProperty.call(oe,r))for(n=oe[r],o=0;o<n.length;)n[o].scope===e?n.splice(o,1):o++;de()===e&&ce(t||"all")},getPressedKeyCodes:function(){return ie.slice(0)},isPressed:function(e){return"string"==typeof e&&(e=se(e)),-1!==ie.indexOf(e)},filter:function(e){var t=e.target||e.srcElement,n=t.tagName,o=!0;return!t.isContentEditable&&("INPUT"!==n&&"TEXTAREA"!==n&&"SELECT"!==n||t.readOnly)||(o=!1),o},unbind:function(e){if(e){if(Array.isArray(e))e.forEach((function(e){e.key&&ue(e)}));else if("object"==typeof e)e.key&&ue(e);else if("string"==typeof e){for(var t=arguments.length,n=new Array(t>1?t-1:0),o=1;o<t;o++)n[o-1]=arguments[o];var r=n[0],i=n[1];"function"==typeof r&&(i=r,r=""),ue({key:e,scope:r,method:i,splitKey:"+"})}}else Object.keys(oe).forEach((function(e){return delete oe[e]}))}};for(var ge in me)Object.prototype.hasOwnProperty.call(me,ge)&&(fe[ge]=me[ge]);if("undefined"!=typeof window){var ve=window.hotkeys;fe.noConflict=function(e){return e&&window.hotkeys===fe&&(window.hotkeys=ve),fe},window.hotkeys=fe}
/**!
     * Sortable 1.13.0
     * @author	RubaXa   <trash@rubaxa.org>
     * @author	owenm    <owen23355@gmail.com>
     * @license MIT
     */function be(e){return(be="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ye(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function we(){return(we=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e}).apply(this,arguments)}function _e(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},o=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),o.forEach((function(t){ye(e,t,n[t])}))}return e}function xe(e,t){if(null==e)return{};var n,o,r=function(e,t){if(null==e)return{};var n,o,r={},i=Object.keys(e);for(o=0;o<i.length;o++)n=i[o],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++)n=i[o],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Se(e){if("undefined"!=typeof window&&window.navigator)return!!navigator.userAgent.match(e)}var Ae=Se(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),Ee=Se(/Edge/i),Ce=Se(/firefox/i),De=Se(/safari/i)&&!Se(/chrome/i)&&!Se(/android/i),Te=Se(/iP(ad|od|hone)/i),ke=Se(/chrome/i)&&Se(/android/i),Me={capture:!1,passive:!1};function Oe(e,t,n){e.addEventListener(t,n,!Ae&&Me)}function Ne(e,t,n){e.removeEventListener(t,n,!Ae&&Me)}function Pe(e,t){if(t){if(">"===t[0]&&(t=t.substring(1)),e)try{if(e.matches)return e.matches(t);if(e.msMatchesSelector)return e.msMatchesSelector(t);if(e.webkitMatchesSelector)return e.webkitMatchesSelector(t)}catch(e){return!1}return!1}}function je(e){return e.host&&e!==document&&e.host.nodeType?e.host:e.parentNode}function Ie(e,t,n,o){if(e){n=n||document;do{if(null!=t&&(">"===t[0]?e.parentNode===n&&Pe(e,t):Pe(e,t))||o&&e===n)return e;if(e===n)break}while(e=je(e))}return null}var Le,qe=/\s+/g;function Xe(e,t,n){if(e&&t)if(e.classList)e.classList[n?"add":"remove"](t);else{var o=(" "+e.className+" ").replace(qe," ").replace(" "+t+" "," ");e.className=(o+(n?" "+t:"")).replace(qe," ")}}function Re(e,t,n){var o=e&&e.style;if(o){if(void 0===n)return document.defaultView&&document.defaultView.getComputedStyle?n=document.defaultView.getComputedStyle(e,""):e.currentStyle&&(n=e.currentStyle),void 0===t?n:n[t];t in o||-1!==t.indexOf("webkit")||(t="-webkit-"+t),o[t]=n+("string"==typeof n?"":"px")}}function Be(e,t){var n="";if("string"==typeof e)n=e;else do{var o=Re(e,"transform");o&&"none"!==o&&(n=o+" "+n)}while(!t&&(e=e.parentNode));var r=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix;return r&&new r(n)}function He(e,t,n){if(e){var o=e.getElementsByTagName(t),r=0,i=o.length;if(n)for(;r<i;r++)n(o[r],r);return o}return[]}function $e(){var e=document.scrollingElement;return e||document.documentElement}function Fe(e,t,n,o,r){if(e.getBoundingClientRect||e===window){var i,a,l,s,c,d,u;if(e!==window&&e.parentNode&&e!==$e()?(a=(i=e.getBoundingClientRect()).top,l=i.left,s=i.bottom,c=i.right,d=i.height,u=i.width):(a=0,l=0,s=window.innerHeight,c=window.innerWidth,d=window.innerHeight,u=window.innerWidth),(t||n)&&e!==window&&(r=r||e.parentNode,!Ae))do{if(r&&r.getBoundingClientRect&&("none"!==Re(r,"transform")||n&&"static"!==Re(r,"position"))){var h=r.getBoundingClientRect();a-=h.top+parseInt(Re(r,"border-top-width")),l-=h.left+parseInt(Re(r,"border-left-width")),s=a+i.height,c=l+i.width;break}}while(r=r.parentNode);if(o&&e!==window){var p=Be(r||e),f=p&&p.a,m=p&&p.d;p&&(s=(a/=m)+(d/=m),c=(l/=f)+(u/=f))}return{top:a,left:l,bottom:s,right:c,width:u,height:d}}}function Ye(e,t,n){for(var o=Ke(e,!0),r=Fe(e)[t];o;){var i=Fe(o)[n];if(!("top"===n||"left"===n?r>=i:r<=i))return o;if(o===$e())break;o=Ke(o,!1)}return!1}function Ue(e,t,n){for(var o=0,r=0,i=e.children;r<i.length;){if("none"!==i[r].style.display&&i[r]!==Vt.ghost&&i[r]!==Vt.dragged&&Ie(i[r],n.draggable,e,!1)){if(o===t)return i[r];o++}r++}return null}function ze(e,t){for(var n=e.lastElementChild;n&&(n===Vt.ghost||"none"===Re(n,"display")||t&&!Pe(n,t));)n=n.previousElementSibling;return n||null}function Je(e,t){var n=0;if(!e||!e.parentNode)return-1;for(;e=e.previousElementSibling;)"TEMPLATE"===e.nodeName.toUpperCase()||e===Vt.clone||t&&!Pe(e,t)||n++;return n}function We(e){var t=0,n=0,o=$e();if(e)do{var r=Be(e),i=r.a,a=r.d;t+=e.scrollLeft*i,n+=e.scrollTop*a}while(e!==o&&(e=e.parentNode));return[t,n]}function Ke(e,t){if(!e||!e.getBoundingClientRect)return $e();var n=e,o=!1;do{if(n.clientWidth<n.scrollWidth||n.clientHeight<n.scrollHeight){var r=Re(n);if(n.clientWidth<n.scrollWidth&&("auto"==r.overflowX||"scroll"==r.overflowX)||n.clientHeight<n.scrollHeight&&("auto"==r.overflowY||"scroll"==r.overflowY)){if(!n.getBoundingClientRect||n===document.body)return $e();if(o||t)return n;o=!0}}}while(n=n.parentNode);return $e()}function Ge(e,t){return Math.round(e.top)===Math.round(t.top)&&Math.round(e.left)===Math.round(t.left)&&Math.round(e.height)===Math.round(t.height)&&Math.round(e.width)===Math.round(t.width)}function Ve(e,t){return function(){if(!Le){var n=arguments,o=this;1===n.length?e.call(o,n[0]):e.apply(o,n),Le=setTimeout((function(){Le=void 0}),t)}}}function Qe(e,t,n){e.scrollLeft+=t,e.scrollTop+=n}function Ze(e){var t=window.Polymer,n=window.jQuery||window.Zepto;return t&&t.dom?t.dom(e).cloneNode(!0):n?n(e).clone(!0)[0]:e.cloneNode(!0)}var et="Sortable"+(new Date).getTime();function tt(){var e,t=[];return{captureAnimationState:function(){(t=[],this.options.animation)&&[].slice.call(this.el.children).forEach((function(e){if("none"!==Re(e,"display")&&e!==Vt.ghost){t.push({target:e,rect:Fe(e)});var n=_e({},t[t.length-1].rect);if(e.thisAnimationDuration){var o=Be(e,!0);o&&(n.top-=o.f,n.left-=o.e)}e.fromRect=n}}))},addAnimationState:function(e){t.push(e)},removeAnimationState:function(e){t.splice(function(e,t){for(var n in e)if(e.hasOwnProperty(n))for(var o in t)if(t.hasOwnProperty(o)&&t[o]===e[n][o])return Number(n);return-1}(t,{target:e}),1)},animateAll:function(n){var o=this;if(!this.options.animation)return clearTimeout(e),void("function"==typeof n&&n());var r=!1,i=0;t.forEach((function(e){var t=0,n=e.target,a=n.fromRect,l=Fe(n),s=n.prevFromRect,c=n.prevToRect,d=e.rect,u=Be(n,!0);u&&(l.top-=u.f,l.left-=u.e),n.toRect=l,n.thisAnimationDuration&&Ge(s,l)&&!Ge(a,l)&&(d.top-l.top)/(d.left-l.left)==(a.top-l.top)/(a.left-l.left)&&(t=function(e,t,n,o){return Math.sqrt(Math.pow(t.top-e.top,2)+Math.pow(t.left-e.left,2))/Math.sqrt(Math.pow(t.top-n.top,2)+Math.pow(t.left-n.left,2))*o.animation}(d,s,c,o.options)),Ge(l,a)||(n.prevFromRect=a,n.prevToRect=l,t||(t=o.options.animation),o.animate(n,d,l,t)),t&&(r=!0,i=Math.max(i,t),clearTimeout(n.animationResetTimer),n.animationResetTimer=setTimeout((function(){n.animationTime=0,n.prevFromRect=null,n.fromRect=null,n.prevToRect=null,n.thisAnimationDuration=null}),t),n.thisAnimationDuration=t)})),clearTimeout(e),r?e=setTimeout((function(){"function"==typeof n&&n()}),i):"function"==typeof n&&n(),t=[]},animate:function(e,t,n,o){if(o){Re(e,"transition",""),Re(e,"transform","");var r=Be(this.el),i=r&&r.a,a=r&&r.d,l=(t.left-n.left)/(i||1),s=(t.top-n.top)/(a||1);e.animatingX=!!l,e.animatingY=!!s,Re(e,"transform","translate3d("+l+"px,"+s+"px,0)"),this.forRepaintDummy=function(e){return e.offsetWidth}(e),Re(e,"transition","transform "+o+"ms"+(this.options.easing?" "+this.options.easing:"")),Re(e,"transform","translate3d(0,0,0)"),"number"==typeof e.animated&&clearTimeout(e.animated),e.animated=setTimeout((function(){Re(e,"transition",""),Re(e,"transform",""),e.animated=!1,e.animatingX=!1,e.animatingY=!1}),o)}}}}var nt=[],ot={initializeByDefault:!0},rt={mount:function(e){for(var t in ot)ot.hasOwnProperty(t)&&!(t in e)&&(e[t]=ot[t]);nt.forEach((function(t){if(t.pluginName===e.pluginName)throw"Sortable: Cannot mount plugin ".concat(e.pluginName," more than once")})),nt.push(e)},pluginEvent:function(e,t,n){var o=this;this.eventCanceled=!1,n.cancel=function(){o.eventCanceled=!0};var r=e+"Global";nt.forEach((function(o){t[o.pluginName]&&(t[o.pluginName][r]&&t[o.pluginName][r](_e({sortable:t},n)),t.options[o.pluginName]&&t[o.pluginName][e]&&t[o.pluginName][e](_e({sortable:t},n)))}))},initializePlugins:function(e,t,n,o){for(var r in nt.forEach((function(o){var r=o.pluginName;if(e.options[r]||o.initializeByDefault){var i=new o(e,t,e.options);i.sortable=e,i.options=e.options,e[r]=i,we(n,i.defaults)}})),e.options)if(e.options.hasOwnProperty(r)){var i=this.modifyOption(e,r,e.options[r]);void 0!==i&&(e.options[r]=i)}},getEventProperties:function(e,t){var n={};return nt.forEach((function(o){"function"==typeof o.eventProperties&&we(n,o.eventProperties.call(t[o.pluginName],e))})),n},modifyOption:function(e,t,n){var o;return nt.forEach((function(r){e[r.pluginName]&&r.optionListeners&&"function"==typeof r.optionListeners[t]&&(o=r.optionListeners[t].call(e[r.pluginName],n))})),o}};var it=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=n.evt,r=xe(n,["evt"]);rt.pluginEvent.bind(Vt)(e,t,_e({dragEl:lt,parentEl:st,ghostEl:ct,rootEl:dt,nextEl:ut,lastDownEl:ht,cloneEl:pt,cloneHidden:ft,dragStarted:Dt,putSortable:wt,activeSortable:Vt.active,originalEvent:o,oldIndex:mt,oldDraggableIndex:vt,newIndex:gt,newDraggableIndex:bt,hideGhostForTarget:Jt,unhideGhostForTarget:Wt,cloneNowHidden:function(){ft=!0},cloneNowShown:function(){ft=!1},dispatchSortableEvent:function(e){at({sortable:t,name:e,originalEvent:o})}},r))};function at(e){!function(e){var t=e.sortable,n=e.rootEl,o=e.name,r=e.targetEl,i=e.cloneEl,a=e.toEl,l=e.fromEl,s=e.oldIndex,c=e.newIndex,d=e.oldDraggableIndex,u=e.newDraggableIndex,h=e.originalEvent,p=e.putSortable,f=e.extraEventProperties;if(t=t||n&&n[et]){var m,g=t.options,v="on"+o.charAt(0).toUpperCase()+o.substr(1);!window.CustomEvent||Ae||Ee?(m=document.createEvent("Event")).initEvent(o,!0,!0):m=new CustomEvent(o,{bubbles:!0,cancelable:!0}),m.to=a||n,m.from=l||n,m.item=r||n,m.clone=i,m.oldIndex=s,m.newIndex=c,m.oldDraggableIndex=d,m.newDraggableIndex=u,m.originalEvent=h,m.pullMode=p?p.lastPutMode:void 0;var b=_e({},f,rt.getEventProperties(o,t));for(var y in b)m[y]=b[y];n&&n.dispatchEvent(m),g[v]&&g[v].call(t,m)}}(_e({putSortable:wt,cloneEl:pt,targetEl:lt,rootEl:dt,oldIndex:mt,oldDraggableIndex:vt,newIndex:gt,newDraggableIndex:bt},e))}var lt,st,ct,dt,ut,ht,pt,ft,mt,gt,vt,bt,yt,wt,_t,xt,St,At,Et,Ct,Dt,Tt,kt,Mt,Ot,Nt=!1,Pt=!1,jt=[],It=!1,Lt=!1,qt=[],Xt=!1,Rt=[],Bt="undefined"!=typeof document,Ht=Te,$t=Ee||Ae?"cssFloat":"float",Ft=Bt&&!ke&&!Te&&"draggable"in document.createElement("div"),Yt=function(){if(Bt){if(Ae)return!1;var e=document.createElement("x");return e.style.cssText="pointer-events:auto","auto"===e.style.pointerEvents}}(),Ut=function(e,t){var n=Re(e),o=parseInt(n.width)-parseInt(n.paddingLeft)-parseInt(n.paddingRight)-parseInt(n.borderLeftWidth)-parseInt(n.borderRightWidth),r=Ue(e,0,t),i=Ue(e,1,t),a=r&&Re(r),l=i&&Re(i),s=a&&parseInt(a.marginLeft)+parseInt(a.marginRight)+Fe(r).width,c=l&&parseInt(l.marginLeft)+parseInt(l.marginRight)+Fe(i).width;if("flex"===n.display)return"column"===n.flexDirection||"column-reverse"===n.flexDirection?"vertical":"horizontal";if("grid"===n.display)return n.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal";if(r&&a.float&&"none"!==a.float){var d="left"===a.float?"left":"right";return!i||"both"!==l.clear&&l.clear!==d?"horizontal":"vertical"}return r&&("block"===a.display||"flex"===a.display||"table"===a.display||"grid"===a.display||s>=o&&"none"===n[$t]||i&&"none"===n[$t]&&s+c>o)?"vertical":"horizontal"},zt=function(e){function t(e,n){return function(o,r,i,a){var l=o.options.group.name&&r.options.group.name&&o.options.group.name===r.options.group.name;if(null==e&&(n||l))return!0;if(null==e||!1===e)return!1;if(n&&"clone"===e)return e;if("function"==typeof e)return t(e(o,r,i,a),n)(o,r,i,a);var s=(n?o:r).options.group.name;return!0===e||"string"==typeof e&&e===s||e.join&&e.indexOf(s)>-1}}var n={},o=e.group;o&&"object"==be(o)||(o={name:o}),n.name=o.name,n.checkPull=t(o.pull,!0),n.checkPut=t(o.put),n.revertClone=o.revertClone,e.group=n},Jt=function(){!Yt&&ct&&Re(ct,"display","none")},Wt=function(){!Yt&&ct&&Re(ct,"display","")};Bt&&document.addEventListener("click",(function(e){if(Pt)return e.preventDefault(),e.stopPropagation&&e.stopPropagation(),e.stopImmediatePropagation&&e.stopImmediatePropagation(),Pt=!1,!1}),!0);var Kt=function(e){if(lt){e=e.touches?e.touches[0]:e;var t=(r=e.clientX,i=e.clientY,jt.some((function(e){if(!ze(e)){var t=Fe(e),n=e[et].options.emptyInsertThreshold,o=r>=t.left-n&&r<=t.right+n,l=i>=t.top-n&&i<=t.bottom+n;return n&&o&&l?a=e:void 0}})),a);if(t){var n={};for(var o in e)e.hasOwnProperty(o)&&(n[o]=e[o]);n.target=n.rootEl=t,n.preventDefault=void 0,n.stopPropagation=void 0,t[et]._onDragOver(n)}}var r,i,a},Gt=function(e){lt&&lt.parentNode[et]._isOutsideThisEl(e.target)};function Vt(e,t){if(!e||!e.nodeType||1!==e.nodeType)throw"Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(e));this.el=e,this.options=t=we({},t),e[et]=this;var n={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(e.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return Ut(e,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(e,t){e.setData("Text",t.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:!1!==Vt.supportPointer&&"PointerEvent"in window&&!De,emptyInsertThreshold:5};for(var o in rt.initializePlugins(this,e,n),n)!(o in t)&&(t[o]=n[o]);for(var r in zt(t),this)"_"===r.charAt(0)&&"function"==typeof this[r]&&(this[r]=this[r].bind(this));this.nativeDraggable=!t.forceFallback&&Ft,this.nativeDraggable&&(this.options.touchStartThreshold=1),t.supportPointer?Oe(e,"pointerdown",this._onTapStart):(Oe(e,"mousedown",this._onTapStart),Oe(e,"touchstart",this._onTapStart)),this.nativeDraggable&&(Oe(e,"dragover",this),Oe(e,"dragenter",this)),jt.push(this.el),t.store&&t.store.get&&this.sort(t.store.get(this)||[]),we(this,tt())}function Qt(e,t,n,o,r,i,a,l){var s,c,d=e[et],u=d.options.onMove;return!window.CustomEvent||Ae||Ee?(s=document.createEvent("Event")).initEvent("move",!0,!0):s=new CustomEvent("move",{bubbles:!0,cancelable:!0}),s.to=t,s.from=e,s.dragged=n,s.draggedRect=o,s.related=r||t,s.relatedRect=i||Fe(t),s.willInsertAfter=l,s.originalEvent=a,e.dispatchEvent(s),u&&(c=u.call(d,s,a)),c}function Zt(e){e.draggable=!1}function en(){Xt=!1}function tn(e){for(var t=e.tagName+e.className+e.src+e.href+e.textContent,n=t.length,o=0;n--;)o+=t.charCodeAt(n);return o.toString(36)}function nn(e){return setTimeout(e,0)}function on(e){return clearTimeout(e)}Vt.prototype={constructor:Vt,_isOutsideThisEl:function(e){this.el.contains(e)||e===this.el||(Tt=null)},_getDirection:function(e,t){return"function"==typeof this.options.direction?this.options.direction.call(this,e,t,lt):this.options.direction},_onTapStart:function(e){if(e.cancelable){var t=this,n=this.el,o=this.options,r=o.preventOnFilter,i=e.type,a=e.touches&&e.touches[0]||e.pointerType&&"touch"===e.pointerType&&e,l=(a||e).target,s=e.target.shadowRoot&&(e.path&&e.path[0]||e.composedPath&&e.composedPath()[0])||l,c=o.filter;if(function(e){Rt.length=0;var t=e.getElementsByTagName("input"),n=t.length;for(;n--;){var o=t[n];o.checked&&Rt.push(o)}}(n),!lt&&!(/mousedown|pointerdown/.test(i)&&0!==e.button||o.disabled)&&!s.isContentEditable&&(this.nativeDraggable||!De||!l||"SELECT"!==l.tagName.toUpperCase())&&!((l=Ie(l,o.draggable,n,!1))&&l.animated||ht===l)){if(mt=Je(l),vt=Je(l,o.draggable),"function"==typeof c){if(c.call(this,e,l,this))return at({sortable:t,rootEl:s,name:"filter",targetEl:l,toEl:n,fromEl:n}),it("filter",t,{evt:e}),void(r&&e.cancelable&&e.preventDefault())}else if(c&&(c=c.split(",").some((function(o){if(o=Ie(s,o.trim(),n,!1))return at({sortable:t,rootEl:o,name:"filter",targetEl:l,fromEl:n,toEl:n}),it("filter",t,{evt:e}),!0}))))return void(r&&e.cancelable&&e.preventDefault());o.handle&&!Ie(s,o.handle,n,!1)||this._prepareDragStart(e,a,l)}}},_prepareDragStart:function(e,t,n){var o,r=this,i=r.el,a=r.options,l=i.ownerDocument;if(n&&!lt&&n.parentNode===i){var s=Fe(n);if(dt=i,st=(lt=n).parentNode,ut=lt.nextSibling,ht=n,yt=a.group,Vt.dragged=lt,_t={target:lt,clientX:(t||e).clientX,clientY:(t||e).clientY},Et=_t.clientX-s.left,Ct=_t.clientY-s.top,this._lastX=(t||e).clientX,this._lastY=(t||e).clientY,lt.style["will-change"]="all",o=function(){it("delayEnded",r,{evt:e}),Vt.eventCanceled?r._onDrop():(r._disableDelayedDragEvents(),!Ce&&r.nativeDraggable&&(lt.draggable=!0),r._triggerDragStart(e,t),at({sortable:r,name:"choose",originalEvent:e}),Xe(lt,a.chosenClass,!0))},a.ignore.split(",").forEach((function(e){He(lt,e.trim(),Zt)})),Oe(l,"dragover",Kt),Oe(l,"mousemove",Kt),Oe(l,"touchmove",Kt),Oe(l,"mouseup",r._onDrop),Oe(l,"touchend",r._onDrop),Oe(l,"touchcancel",r._onDrop),Ce&&this.nativeDraggable&&(this.options.touchStartThreshold=4,lt.draggable=!0),it("delayStart",this,{evt:e}),!a.delay||a.delayOnTouchOnly&&!t||this.nativeDraggable&&(Ee||Ae))o();else{if(Vt.eventCanceled)return void this._onDrop();Oe(l,"mouseup",r._disableDelayedDrag),Oe(l,"touchend",r._disableDelayedDrag),Oe(l,"touchcancel",r._disableDelayedDrag),Oe(l,"mousemove",r._delayedDragTouchMoveHandler),Oe(l,"touchmove",r._delayedDragTouchMoveHandler),a.supportPointer&&Oe(l,"pointermove",r._delayedDragTouchMoveHandler),r._dragStartTimer=setTimeout(o,a.delay)}}},_delayedDragTouchMoveHandler:function(e){var t=e.touches?e.touches[0]:e;Math.max(Math.abs(t.clientX-this._lastX),Math.abs(t.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){lt&&Zt(lt),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var e=this.el.ownerDocument;Ne(e,"mouseup",this._disableDelayedDrag),Ne(e,"touchend",this._disableDelayedDrag),Ne(e,"touchcancel",this._disableDelayedDrag),Ne(e,"mousemove",this._delayedDragTouchMoveHandler),Ne(e,"touchmove",this._delayedDragTouchMoveHandler),Ne(e,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(e,t){t=t||"touch"==e.pointerType&&e,!this.nativeDraggable||t?this.options.supportPointer?Oe(document,"pointermove",this._onTouchMove):Oe(document,t?"touchmove":"mousemove",this._onTouchMove):(Oe(lt,"dragend",this),Oe(dt,"dragstart",this._onDragStart));try{document.selection?nn((function(){document.selection.empty()})):window.getSelection().removeAllRanges()}catch(e){}},_dragStarted:function(e,t){if(Nt=!1,dt&&lt){it("dragStarted",this,{evt:t}),this.nativeDraggable&&Oe(document,"dragover",Gt);var n=this.options;!e&&Xe(lt,n.dragClass,!1),Xe(lt,n.ghostClass,!0),Vt.active=this,e&&this._appendGhost(),at({sortable:this,name:"start",originalEvent:t})}else this._nulling()},_emulateDragOver:function(){if(xt){this._lastX=xt.clientX,this._lastY=xt.clientY,Jt();for(var e=document.elementFromPoint(xt.clientX,xt.clientY),t=e;e&&e.shadowRoot&&(e=e.shadowRoot.elementFromPoint(xt.clientX,xt.clientY))!==t;)t=e;if(lt.parentNode[et]._isOutsideThisEl(e),t)do{if(t[et]){if(t[et]._onDragOver({clientX:xt.clientX,clientY:xt.clientY,target:e,rootEl:t})&&!this.options.dragoverBubble)break}e=t}while(t=t.parentNode);Wt()}},_onTouchMove:function(e){if(_t){var t=this.options,n=t.fallbackTolerance,o=t.fallbackOffset,r=e.touches?e.touches[0]:e,i=ct&&Be(ct,!0),a=ct&&i&&i.a,l=ct&&i&&i.d,s=Ht&&Ot&&We(Ot),c=(r.clientX-_t.clientX+o.x)/(a||1)+(s?s[0]-qt[0]:0)/(a||1),d=(r.clientY-_t.clientY+o.y)/(l||1)+(s?s[1]-qt[1]:0)/(l||1);if(!Vt.active&&!Nt){if(n&&Math.max(Math.abs(r.clientX-this._lastX),Math.abs(r.clientY-this._lastY))<n)return;this._onDragStart(e,!0)}if(ct){i?(i.e+=c-(St||0),i.f+=d-(At||0)):i={a:1,b:0,c:0,d:1,e:c,f:d};var u="matrix(".concat(i.a,",").concat(i.b,",").concat(i.c,",").concat(i.d,",").concat(i.e,",").concat(i.f,")");Re(ct,"webkitTransform",u),Re(ct,"mozTransform",u),Re(ct,"msTransform",u),Re(ct,"transform",u),St=c,At=d,xt=r}e.cancelable&&e.preventDefault()}},_appendGhost:function(){if(!ct){var e=this.options.fallbackOnBody?document.body:dt,t=Fe(lt,!0,Ht,!0,e),n=this.options;if(Ht){for(Ot=e;"static"===Re(Ot,"position")&&"none"===Re(Ot,"transform")&&Ot!==document;)Ot=Ot.parentNode;Ot!==document.body&&Ot!==document.documentElement?(Ot===document&&(Ot=$e()),t.top+=Ot.scrollTop,t.left+=Ot.scrollLeft):Ot=$e(),qt=We(Ot)}Xe(ct=lt.cloneNode(!0),n.ghostClass,!1),Xe(ct,n.fallbackClass,!0),Xe(ct,n.dragClass,!0),Re(ct,"transition",""),Re(ct,"transform",""),Re(ct,"box-sizing","border-box"),Re(ct,"margin",0),Re(ct,"top",t.top),Re(ct,"left",t.left),Re(ct,"width",t.width),Re(ct,"height",t.height),Re(ct,"opacity","0.8"),Re(ct,"position",Ht?"absolute":"fixed"),Re(ct,"zIndex","100000"),Re(ct,"pointerEvents","none"),Vt.ghost=ct,e.appendChild(ct),Re(ct,"transform-origin",Et/parseInt(ct.style.width)*100+"% "+Ct/parseInt(ct.style.height)*100+"%")}},_onDragStart:function(e,t){var n=this,o=e.dataTransfer,r=n.options;it("dragStart",this,{evt:e}),Vt.eventCanceled?this._onDrop():(it("setupClone",this),Vt.eventCanceled||((pt=Ze(lt)).draggable=!1,pt.style["will-change"]="",this._hideClone(),Xe(pt,this.options.chosenClass,!1),Vt.clone=pt),n.cloneId=nn((function(){it("clone",n),Vt.eventCanceled||(n.options.removeCloneOnHide||dt.insertBefore(pt,lt),n._hideClone(),at({sortable:n,name:"clone"}))})),!t&&Xe(lt,r.dragClass,!0),t?(Pt=!0,n._loopId=setInterval(n._emulateDragOver,50)):(Ne(document,"mouseup",n._onDrop),Ne(document,"touchend",n._onDrop),Ne(document,"touchcancel",n._onDrop),o&&(o.effectAllowed="move",r.setData&&r.setData.call(n,o,lt)),Oe(document,"drop",n),Re(lt,"transform","translateZ(0)")),Nt=!0,n._dragStartId=nn(n._dragStarted.bind(n,t,e)),Oe(document,"selectstart",n),Dt=!0,De&&Re(document.body,"user-select","none"))},_onDragOver:function(e){var t,n,o,r,i=this.el,a=e.target,l=this.options,s=l.group,c=Vt.active,d=yt===s,u=l.sort,h=wt||c,p=this,f=!1;if(!Xt){if(void 0!==e.preventDefault&&e.cancelable&&e.preventDefault(),a=Ie(a,l.draggable,i,!0),T("dragOver"),Vt.eventCanceled)return f;if(lt.contains(e.target)||a.animated&&a.animatingX&&a.animatingY||p._ignoreWhileAnimating===a)return M(!1);if(Pt=!1,c&&!l.disabled&&(d?u||(o=!dt.contains(lt)):wt===this||(this.lastPutMode=yt.checkPull(this,c,lt,e))&&s.checkPut(this,c,lt,e))){if(r="vertical"===this._getDirection(e,a),t=Fe(lt),T("dragOverValid"),Vt.eventCanceled)return f;if(o)return st=dt,k(),this._hideClone(),T("revert"),Vt.eventCanceled||(ut?dt.insertBefore(lt,ut):dt.appendChild(lt)),M(!0);var m=ze(i,l.draggable);if(!m||function(e,t,n){var o=Fe(ze(n.el,n.options.draggable)),r=10;return t?e.clientX>o.right+r||e.clientX<=o.right&&e.clientY>o.bottom&&e.clientX>=o.left:e.clientX>o.right&&e.clientY>o.top||e.clientX<=o.right&&e.clientY>o.bottom+r}(e,r,this)&&!m.animated){if(m===lt)return M(!1);if(m&&i===e.target&&(a=m),a&&(n=Fe(a)),!1!==Qt(dt,i,lt,t,a,n,e,!!a))return k(),i.appendChild(lt),st=i,O(),M(!0)}else if(a.parentNode===i){n=Fe(a);var g,v,b,y=lt.parentNode!==i,w=!function(e,t,n){var o=n?e.left:e.top,r=n?e.right:e.bottom,i=n?e.width:e.height,a=n?t.left:t.top,l=n?t.right:t.bottom,s=n?t.width:t.height;return o===a||r===l||o+i/2===a+s/2}(lt.animated&&lt.toRect||t,a.animated&&a.toRect||n,r),_=r?"top":"left",x=Ye(a,"top","top")||Ye(lt,"top","top"),S=x?x.scrollTop:void 0;if(Tt!==a&&(v=n[_],It=!1,Lt=!w&&l.invertSwap||y),0!==(g=function(e,t,n,o,r,i,a,l){var s=o?e.clientY:e.clientX,c=o?n.height:n.width,d=o?n.top:n.left,u=o?n.bottom:n.right,h=!1;if(!a)if(l&&Mt<c*r){if(!It&&(1===kt?s>d+c*i/2:s<u-c*i/2)&&(It=!0),It)h=!0;else if(1===kt?s<d+Mt:s>u-Mt)return-kt}else if(s>d+c*(1-r)/2&&s<u-c*(1-r)/2)return function(e){return Je(lt)<Je(e)?1:-1}(t);if((h=h||a)&&(s<d+c*i/2||s>u-c*i/2))return s>d+c/2?1:-1;return 0}(e,a,n,r,w?1:l.swapThreshold,null==l.invertedSwapThreshold?l.swapThreshold:l.invertedSwapThreshold,Lt,Tt===a))){var A=Je(lt);do{A-=g,b=st.children[A]}while(b&&("none"===Re(b,"display")||b===ct))}if(0===g||b===a)return M(!1);Tt=a,kt=g;var E=a.nextElementSibling,C=!1,D=Qt(dt,i,lt,t,a,n,e,C=1===g);if(!1!==D)return 1!==D&&-1!==D||(C=1===D),Xt=!0,setTimeout(en,30),k(),C&&!E?i.appendChild(lt):a.parentNode.insertBefore(lt,C?E:a),x&&Qe(x,0,S-x.scrollTop),st=lt.parentNode,void 0===v||Lt||(Mt=Math.abs(v-Fe(a)[_])),O(),M(!0)}if(i.contains(lt))return M(!1)}return!1}function T(l,s){it(l,p,_e({evt:e,isOwner:d,axis:r?"vertical":"horizontal",revert:o,dragRect:t,targetRect:n,canSort:u,fromSortable:h,target:a,completed:M,onMove:function(n,o){return Qt(dt,i,lt,t,n,Fe(n),e,o)},changed:O},s))}function k(){T("dragOverAnimationCapture"),p.captureAnimationState(),p!==h&&h.captureAnimationState()}function M(t){return T("dragOverCompleted",{insertion:t}),t&&(d?c._hideClone():c._showClone(p),p!==h&&(Xe(lt,wt?wt.options.ghostClass:c.options.ghostClass,!1),Xe(lt,l.ghostClass,!0)),wt!==p&&p!==Vt.active?wt=p:p===Vt.active&&wt&&(wt=null),h===p&&(p._ignoreWhileAnimating=a),p.animateAll((function(){T("dragOverAnimationComplete"),p._ignoreWhileAnimating=null})),p!==h&&(h.animateAll(),h._ignoreWhileAnimating=null)),(a===lt&&!lt.animated||a===i&&!a.animated)&&(Tt=null),l.dragoverBubble||e.rootEl||a===document||(lt.parentNode[et]._isOutsideThisEl(e.target),!t&&Kt(e)),!l.dragoverBubble&&e.stopPropagation&&e.stopPropagation(),f=!0}function O(){gt=Je(lt),bt=Je(lt,l.draggable),at({sortable:p,name:"change",toEl:i,newIndex:gt,newDraggableIndex:bt,originalEvent:e})}},_ignoreWhileAnimating:null,_offMoveEvents:function(){Ne(document,"mousemove",this._onTouchMove),Ne(document,"touchmove",this._onTouchMove),Ne(document,"pointermove",this._onTouchMove),Ne(document,"dragover",Kt),Ne(document,"mousemove",Kt),Ne(document,"touchmove",Kt)},_offUpEvents:function(){var e=this.el.ownerDocument;Ne(e,"mouseup",this._onDrop),Ne(e,"touchend",this._onDrop),Ne(e,"pointerup",this._onDrop),Ne(e,"touchcancel",this._onDrop),Ne(document,"selectstart",this)},_onDrop:function(e){var t=this.el,n=this.options;gt=Je(lt),bt=Je(lt,n.draggable),it("drop",this,{evt:e}),st=lt&&lt.parentNode,gt=Je(lt),bt=Je(lt,n.draggable),Vt.eventCanceled||(Nt=!1,Lt=!1,It=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),on(this.cloneId),on(this._dragStartId),this.nativeDraggable&&(Ne(document,"drop",this),Ne(t,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),De&&Re(document.body,"user-select",""),Re(lt,"transform",""),e&&(Dt&&(e.cancelable&&e.preventDefault(),!n.dropBubble&&e.stopPropagation()),ct&&ct.parentNode&&ct.parentNode.removeChild(ct),(dt===st||wt&&"clone"!==wt.lastPutMode)&&pt&&pt.parentNode&&pt.parentNode.removeChild(pt),lt&&(this.nativeDraggable&&Ne(lt,"dragend",this),Zt(lt),lt.style["will-change"]="",Dt&&!Nt&&Xe(lt,wt?wt.options.ghostClass:this.options.ghostClass,!1),Xe(lt,this.options.chosenClass,!1),at({sortable:this,name:"unchoose",toEl:st,newIndex:null,newDraggableIndex:null,originalEvent:e}),dt!==st?(gt>=0&&(at({rootEl:st,name:"add",toEl:st,fromEl:dt,originalEvent:e}),at({sortable:this,name:"remove",toEl:st,originalEvent:e}),at({rootEl:st,name:"sort",toEl:st,fromEl:dt,originalEvent:e}),at({sortable:this,name:"sort",toEl:st,originalEvent:e})),wt&&wt.save()):gt!==mt&&gt>=0&&(at({sortable:this,name:"update",toEl:st,originalEvent:e}),at({sortable:this,name:"sort",toEl:st,originalEvent:e})),Vt.active&&(null!=gt&&-1!==gt||(gt=mt,bt=vt),at({sortable:this,name:"end",toEl:st,originalEvent:e}),this.save())))),this._nulling()},_nulling:function(){it("nulling",this),dt=lt=st=ct=ut=pt=ht=ft=_t=xt=Dt=gt=bt=mt=vt=Tt=kt=wt=yt=Vt.dragged=Vt.ghost=Vt.clone=Vt.active=null,Rt.forEach((function(e){e.checked=!0})),Rt.length=St=At=0},handleEvent:function(e){switch(e.type){case"drop":case"dragend":this._onDrop(e);break;case"dragenter":case"dragover":lt&&(this._onDragOver(e),function(e){e.dataTransfer&&(e.dataTransfer.dropEffect="move");e.cancelable&&e.preventDefault()}(e));break;case"selectstart":e.preventDefault()}},toArray:function(){for(var e,t=[],n=this.el.children,o=0,r=n.length,i=this.options;o<r;o++)Ie(e=n[o],i.draggable,this.el,!1)&&t.push(e.getAttribute(i.dataIdAttr)||tn(e));return t},sort:function(e,t){var n={},o=this.el;this.toArray().forEach((function(e,t){var r=o.children[t];Ie(r,this.options.draggable,o,!1)&&(n[e]=r)}),this),t&&this.captureAnimationState(),e.forEach((function(e){n[e]&&(o.removeChild(n[e]),o.appendChild(n[e]))})),t&&this.animateAll()},save:function(){var e=this.options.store;e&&e.set&&e.set(this)},closest:function(e,t){return Ie(e,t||this.options.draggable,this.el,!1)},option:function(e,t){var n=this.options;if(void 0===t)return n[e];var o=rt.modifyOption(this,e,t);n[e]=void 0!==o?o:t,"group"===e&&zt(n)},destroy:function(){it("destroy",this);var e=this.el;e[et]=null,Ne(e,"mousedown",this._onTapStart),Ne(e,"touchstart",this._onTapStart),Ne(e,"pointerdown",this._onTapStart),this.nativeDraggable&&(Ne(e,"dragover",this),Ne(e,"dragenter",this)),Array.prototype.forEach.call(e.querySelectorAll("[draggable]"),(function(e){e.removeAttribute("draggable")})),this._onDrop(),this._disableDelayedDragEvents(),jt.splice(jt.indexOf(this.el),1),this.el=e=null},_hideClone:function(){if(!ft){if(it("hideClone",this),Vt.eventCanceled)return;Re(pt,"display","none"),this.options.removeCloneOnHide&&pt.parentNode&&pt.parentNode.removeChild(pt),ft=!0}},_showClone:function(e){if("clone"===e.lastPutMode){if(ft){if(it("showClone",this),Vt.eventCanceled)return;lt.parentNode!=dt||this.options.group.revertClone?ut?dt.insertBefore(pt,ut):dt.appendChild(pt):dt.insertBefore(pt,lt),this.options.group.revertClone&&this.animate(lt,pt),Re(pt,"display",""),ft=!1}}else this._hideClone()}},Bt&&Oe(document,"touchmove",(function(e){(Vt.active||Nt)&&e.cancelable&&e.preventDefault()})),Vt.utils={on:Oe,off:Ne,css:Re,find:He,is:function(e,t){return!!Ie(e,t,e,!1)},extend:function(e,t){if(e&&t)for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e},throttle:Ve,closest:Ie,toggleClass:Xe,clone:Ze,index:Je,nextTick:nn,cancelNextTick:on,detectDirection:Ut,getChild:Ue},Vt.get=function(e){return e[et]},Vt.mount=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];t[0].constructor===Array&&(t=t[0]),t.forEach((function(e){if(!e.prototype||!e.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(e));e.utils&&(Vt.utils=_e({},Vt.utils,e.utils)),rt.mount(e)}))},Vt.create=function(e,t){return new Vt(e,t)},Vt.version="1.13.0";var rn,an,ln,sn,cn,dn,un=[],hn=!1;function pn(){un.forEach((function(e){clearInterval(e.pid)})),un=[]}function fn(){clearInterval(dn)}var mn=Ve((function(e,t,n,o){if(t.scroll){var r,i=(e.touches?e.touches[0]:e).clientX,a=(e.touches?e.touches[0]:e).clientY,l=t.scrollSensitivity,s=t.scrollSpeed,c=$e(),d=!1;an!==n&&(an=n,pn(),rn=t.scroll,r=t.scrollFn,!0===rn&&(rn=Ke(n,!0)));var u=0,h=rn;do{var p=h,f=Fe(p),m=f.top,g=f.bottom,v=f.left,b=f.right,y=f.width,w=f.height,_=void 0,x=void 0,S=p.scrollWidth,A=p.scrollHeight,E=Re(p),C=p.scrollLeft,D=p.scrollTop;p===c?(_=y<S&&("auto"===E.overflowX||"scroll"===E.overflowX||"visible"===E.overflowX),x=w<A&&("auto"===E.overflowY||"scroll"===E.overflowY||"visible"===E.overflowY)):(_=y<S&&("auto"===E.overflowX||"scroll"===E.overflowX),x=w<A&&("auto"===E.overflowY||"scroll"===E.overflowY));var T=_&&(Math.abs(b-i)<=l&&C+y<S)-(Math.abs(v-i)<=l&&!!C),k=x&&(Math.abs(g-a)<=l&&D+w<A)-(Math.abs(m-a)<=l&&!!D);if(!un[u])for(var M=0;M<=u;M++)un[M]||(un[M]={});un[u].vx==T&&un[u].vy==k&&un[u].el===p||(un[u].el=p,un[u].vx=T,un[u].vy=k,clearInterval(un[u].pid),0==T&&0==k||(d=!0,un[u].pid=setInterval(function(){o&&0===this.layer&&Vt.active._onTouchMove(cn);var t=un[this.layer].vy?un[this.layer].vy*s:0,n=un[this.layer].vx?un[this.layer].vx*s:0;"function"==typeof r&&"continue"!==r.call(Vt.dragged.parentNode[et],n,t,e,cn,un[this.layer].el)||Qe(un[this.layer].el,n,t)}.bind({layer:u}),24))),u++}while(t.bubbleScroll&&h!==c&&(h=Ke(h,!1)));hn=d}}),30),gn=function(e){var t=e.originalEvent,n=e.putSortable,o=e.dragEl,r=e.activeSortable,i=e.dispatchSortableEvent,a=e.hideGhostForTarget,l=e.unhideGhostForTarget;if(t){var s=n||r;a();var c=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:t,d=document.elementFromPoint(c.clientX,c.clientY);l(),s&&!s.el.contains(d)&&(i("spill"),this.onSpill({dragEl:o,putSortable:n}))}};function vn(){}function bn(){}vn.prototype={startIndex:null,dragStart:function(e){var t=e.oldDraggableIndex;this.startIndex=t},onSpill:function(e){var t=e.dragEl,n=e.putSortable;this.sortable.captureAnimationState(),n&&n.captureAnimationState();var o=Ue(this.sortable.el,this.startIndex,this.options);o?this.sortable.el.insertBefore(t,o):this.sortable.el.appendChild(t),this.sortable.animateAll(),n&&n.animateAll()},drop:gn},we(vn,{pluginName:"revertOnSpill"}),bn.prototype={onSpill:function(e){var t=e.dragEl,n=e.putSortable||this.sortable;n.captureAnimationState(),t.parentNode&&t.parentNode.removeChild(t),n.animateAll()},drop:gn},we(bn,{pluginName:"removeOnSpill"}),Vt.mount(new function(){function e(){for(var e in this.defaults={scroll:!0,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0},this)"_"===e.charAt(0)&&"function"==typeof this[e]&&(this[e]=this[e].bind(this))}return e.prototype={dragStarted:function(e){var t=e.originalEvent;this.sortable.nativeDraggable?Oe(document,"dragover",this._handleAutoScroll):this.options.supportPointer?Oe(document,"pointermove",this._handleFallbackAutoScroll):t.touches?Oe(document,"touchmove",this._handleFallbackAutoScroll):Oe(document,"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted:function(e){var t=e.originalEvent;this.options.dragOverBubble||t.rootEl||this._handleAutoScroll(t)},drop:function(){this.sortable.nativeDraggable?Ne(document,"dragover",this._handleAutoScroll):(Ne(document,"pointermove",this._handleFallbackAutoScroll),Ne(document,"touchmove",this._handleFallbackAutoScroll),Ne(document,"mousemove",this._handleFallbackAutoScroll)),fn(),pn(),clearTimeout(Le),Le=void 0},nulling:function(){cn=an=rn=hn=dn=ln=sn=null,un.length=0},_handleFallbackAutoScroll:function(e){this._handleAutoScroll(e,!0)},_handleAutoScroll:function(e,t){var n=this,o=(e.touches?e.touches[0]:e).clientX,r=(e.touches?e.touches[0]:e).clientY,i=document.elementFromPoint(o,r);if(cn=e,t||Ee||Ae||De){mn(e,this.options,i,t);var a=Ke(i,!0);!hn||dn&&o===ln&&r===sn||(dn&&fn(),dn=setInterval((function(){var i=Ke(document.elementFromPoint(o,r),!0);i!==a&&(a=i,pn()),mn(e,n.options,i,t)}),10),ln=o,sn=r)}else{if(!this.options.bubbleScroll||Ke(i,!0)===$e())return void pn();mn(e,this.options,Ke(i,!1),!1)}}},we(e,{pluginName:"scroll",initializeByDefault:!0})}),Vt.mount(bn,vn);const yn=new W;var wn={};let _n,xn,Sn,An;wn.ajax_eId="#choose",wn.userAnsXML="",wn.errorCatchFlag=1,yn.listen("body","keyup",".sm_input_text",(function(){""==document.querySelector(".sm_input_text").value&&document.querySelector(".add-option")?document.querySelector(".add-option").disabled=!0:document.querySelector(".add-option")&&(document.querySelector(".add-option").disabled=!1)})),wn.update_XMLValue=function(){var e=[];if(yn.selectAll(".choose_item_container textarea").forEach((t=>{if(t.value.length>0){const n=t.value.replace(/\r?\n/g,"||");yn.prevElm(t,"input")&&yn.prevElm(t,"input").checked?e.push("*"+n):e.push(n)}})),document.querySelector("#special_module_xml")){var t=document.querySelector("#special_module_xml").value;yn.find(t,"list").setAttribute("headingCorrect",document.querySelector("#headingCorrect").value),yn.find(t,"list").setAttribute("allowSort",document.querySelector("#allowSort").getAttribute("value")),yn.find(t,"list").setAttribute("isSentence",document.querySelector("#isSentence").getAttribute("value")),yn.find(t,"list").setAttribute("isParagraph",document.querySelector("#isParagraph").getAttribute("value")),yn.find(t,"list").innerHTML="\x3c!--[CDATA["+e.join("\n")+"]]--\x3e",document.querySelector("#special_module_xml").value=formatXml(t.xml?t.xml:(new XMLSerializer).serializeToString(t[0]),!0)}},wn.showAns=function(e,t,n){"c"==n?(wn.review(e,1),wn.sortList(e,"correct_seq")):"u"==n&&(wn.review(e,0),wn.sortList(e,"user_seq"))},wn.sortList=function(e,t){var n=yn.selectAll(e+" #sortable > li"),o=Array.from(n);o.sort((function(e,n){var o=parseInt(e.getAttribute(t));0===o&&(o=Number.MAX_VALUE);var r=parseInt(n.getAttribute(t));return 0===r&&(r=Number.MAX_VALUE),o-r})),yn.selectAll(e+" #sortable > li").forEach((e=>{e.remove()})),o.forEach((t=>{yn.find(e,"#sortable").append(t)}))},wn.togseq=function(e){var t=yn.find(e,"#sortable").getAttribute("checkSeq");yn.find(e,"#sortable").setAttribute("checkSeq","1"==t?"0":"1"),yn.find(e,"#instruction").innerHTML="1"==t?"":"Sequence Important"},wn.review=function(e,t){var n=document.querySelector(e)?.querySelector("#sortable")?.getAttribute("checkSeq"),o=1==t?"is_correct":"user_answer",r=1==t?"correct_seq":"user_seq";"normal"==yn.select(e).getAttribute?.("type")?yn.find(e,"#sortable li","all").forEach((e=>{if("1"==n){if(1==e.getAttribute(o))var i=e.getAttribute(r);else i=0;yn.find(e,".prefix").innerHTML=i>0?i:"",yn.find(e,".prefix",{action:"removeClass",actionData:"tick"})}else 1==e.getAttribute(o)?yn.find(e,".prefix",{action:"addClass",actionData:"tick"}):yn.find(e,".prefix",{action:"removeClass",actionData:"tick"});1==e.getAttribute("user_answer")&&0==t||1==e.getAttribute("is_correct")&&1==t?e.classList.add("choose_sel"):e.classList.remove("choose_sel")})):"sentence"!=yn.select(e).getAttribute?.("type")&&"paragraph"!=yn.select(e).getAttribute?.("type")||wn.setActiveClass(e,t)},wn.CheckResultchoose=function(e){let t={};var n=!0,o=0;let r=yn.find(e,"#sortable");var i=Array.isArray(r)?"":r.getAttribute("checkSeq"),a="";return yn.find(e,"#sortable li","all").forEach((e=>{var t=e.getAttribute("user_seq"),r=e.getAttribute("user_answer");"1"==i?(t!=e.getAttribute("correct_seq")&&(n=!1),"undefined"!=typeof calculatePoint&&e.getAttribute("correct_seq")>0&&t==e.getAttribute("correct_seq")&&o++):(r!=e.getAttribute("is_correct")&&(n=!1),"undefined"!=typeof calculatePoint&&e.getAttribute("is_correct")>0&&r==e.getAttribute("is_correct")&&o++),a+=e.getAttribute("optID")+"|"+t+"|"+r+","})),"undefined"!=typeof calculatePoint&&calculatePoint(yn.find(e,"#sortable").getAttribute("totalCorrectAns"),o),wn.userAnsXML='<SMANS type="6"><list useranswer="'+a+'" /></SMANS>',t.u=wn.userAnsXML,t.b=n,t},wn.touchHandler=function(e){var t=e.changedTouches[0],n="";switch(e.type){case"touchstart":n="mousedown";break;case"touchmove":n="mousemove";break;case"touchend":n="mouseup";break;default:return}var o=document.createEvent("MouseEvent");o.initMouseEvent(n,!0,!0,window,1,t.screenX,t.screenY,t.clientX,t.clientY,!1,!1,!1,!1,0,null),t.target.dispatchEvent(o)},wn.init=function(e){document.addEventListener("touchstart",wn.touchHandler,!0),document.addEventListener("touchmove",wn.touchHandler,!0),document.addEventListener("touchend",wn.touchHandler,!0),document.addEventListener("touchcancel",wn.touchHandler,!0),yn.bind(e,"touchstart",(function(e){e.preventDefault()})),yn.bind(e,"touchmove",(function(e){e.preventDefault()}))},wn.shouldselect=!1,wn.readyThis=function(e){(null!=typeof isTouchable||isiPad)&&setTimeout((function(){yn.find(e,"#sortable").removeAttribute("onmouseup"),yn.listen(yn.find("body",e),"click","#sortable",(function(){var t=window.event;wn.ow=t.srcElement?t.srcElement:t.target,wn.t=setTimeout((function(){wn.setUserAns(e,wn.ow,wn.shouldselect)}),100)})),"0"!=document.querySelector("#sortable").getAttribute("checkseq")&&new Vt(yn.find(e,"#sortable"),{onEnd:function(t){wn.ow=t.srcElement?t.srcElement:t.target,wn.t=setTimeout((function(){wn.setUserAns(e,wn.ow,wn.shouldselect)}),100)}})}),200)},wn.bindKeyup=function(e){var t=0;function n(e,t=1){if(e.id){let n=yn.selectAll(".ks"),o=-1;for(let r=0;r<n.length;r++)if(e.id==n[r].id){o=t?r==n.length-1?0:r+1:0==r?n.length-1:r-1;break}-1!=o&&n[o].focus()}}function o(){t=0,function(){var n=yn.find(e,"#sortable .copied"),o=yn.find(e,".ks").length;n.classList.contains("copied")&&(0==t?n.insertBefore(yn.find(e,".ks:nth(0)")):n.insertAfter(yn.find(e,".ks:nth("+t+")"))),yn.find(e,".ks:nth("+t+")").focus(),t==o-1?t=0:t++}()}function r(){var e=!1;let t=yn.selectAll("#sortable li"),n=yn.select(":focus");if(n.nodeName){let o=n.getAttribute("id");for(let n=0;n<t.length;n++)if(o==t[n].getAttribute("id")){e=!0;break}}return e}fe.unbind("down,up,enter,alt+down,delete,left,right,tab,shift+tab,esc","choose"+e),yn.find(e,"#sortable li","all").forEach((e=>{e.classList.add("ks")})),yn.bind(document,"click",(function(){r()||yn.find(e,"#sortable .copied",{action:"removeClass",actionData:"copied"})})),yn.listen(document,"keydown",e,(function(){fe.setScope("choose"+e)})),yn.listen(document,"keydown",".ks",(function(e,t){let o="#choose";if(13===t.which&&(t.preventDefault(),"0"==yn.find(o,"#sortable").getAttribute("checkseq")?(wn.ow=yn.find(o,"#sortable li:focus","all")[0],wn.t=setTimeout((function(){wn.setUserAns(o,wn.ow,!0)}),100)):"1"==yn.find(o,"#sortable").getAttribute("checkseq")&&(yn.find(o,"#sortable li:focus").classList.contains("copied")?(wn.ow=yn.find(o,"#sortable li:focus","all")[0],wn.t=setTimeout((function(){wn.setUserAns(o,wn.ow,!yn.find(o,"#sortable li:focus").classList.contains("choose_sel"))}),100),yn.find(o,"#sortable li:focus",{action:"removeClass",actionData:"copied"})):(wn.ow=yn.find(o,"#sortable li:focus","all")[0],wn.t=setTimeout((function(){wn.setUserAns(o,wn.ow,!yn.find(o,"#sortable li:focus").classList.contains("choose_sel"))}),100),yn.find(o,"#sortable li:focus",{action:"addClass",actionData:"copied"})))),39===t.which||40===t.which){var r=yn.find(o,"#sortable .copied");yn.selectAll(o+" .ks").length;let e=yn.select(".ks:focus"),i=yn.selectAll(".ks")[yn.selectAll(".ks").length-1];e.id==i.id?r&&r.classList.contains("copied")?(r.parentNode.insertBefore(r,yn.selectAll(".ks")[0]),r.focus()):yn.selectAll(".ks")[0].focus():r&&r.classList.contains("copied")?(yn.find(o,"#sortable .copied").nextSibling.insertAdjacentElement("afterend",yn.find(o,"#sortable .copied")),r.focus()):n(e,1),t.preventDefault()}if(38===t.which||37===t.which){r=yn.find(o,"#sortable .copied"),yn.find(o,".ks").length;let e=yn.select(".ks:focus"),i=yn.selectAll(".ks")[0];if(e.id==i.id)r&&r.classList.contains("copied")?(yn.selectAll(".ks")[yn.selectAll(".ks").length-1].insertAdjacentElement("afterend",r),r.focus()):yn.selectAll(".ks")[yn.selectAll(".ks").length-1].focus();else{document.querySelector(o);r&&r.classList.contains("copied")?(r.parentNode.insertBefore(r,yn.find(o,"#sortable .copied").previousElementSibling),r.focus()):n(e,0)}t.preventDefault()}})),fe("down, up, enter, alt+down, delete, left, right, tab, shift+tab, esc","choose"+e,(function(t,n){switch(n.key){case"alt+down":o();break;case"delete":r()&&(wn.ow=yn.find(e,"#sortable li:focus","all")[0],wn.t=setTimeout((function(){wn.setUserAns(e,wn.ow,!0)}),100));break;case"tab":r()&&yn.find(e,"#sortable .copied",{action:"removeClass",actionData:"copied"});let n=yn.selectAll(".ks:focus"),i=yn.selectAll(".ks")[yn.selectAll(".ks").length-1];n.id==i.id&&(t.preventDefault(),yn.selectAll(".ks")[0].focus());break;case"shift+tab":r()&&yn.find(e,"#sortable .copied",{action:"removeClass",actionData:"copied"}),n=yn.selectAll(".ks:focus"),i=yn.selectAll(".ks")[yn.selectAll(".ks").length-1],n.id==i.id&&(t.preventDefault(),yn.selectAll(".ks")[yn.selectAll(".ks").length].focus());break;case"esc":r()&&(t.preventDefault(),yn.find(e,"#sortable .copied",{action:"removeClass",actionData:"copied"}),yn.selectAll(".ks")[yn.selectAll(".ks").length-1].focus(),yn.selectAll(".ks")[yn.selectAll(".ks").length-1].blur())}})),fe.setScope("choose"+e)},wn.cmd=function(e,t){wn.shouldselect=!0},wn.cmm=function(e,t){t||(t=window.event);var n=t.srcElement?t.srcElement:t.target;if(n.classList.contains("prefix")&&(n=n.parentElement),n){var o=n.getAttribute("user_answer");wn.shouldselect=!1,"0"==o&&(wn.shouldselect=!0)}},wn.cmu=function(e,t,n=!1){n?wn.ow=t:(t||(t=window.event),wn.ow=t.srcElement?t.srcElement:t.target),wn.ow.classList.contains("prefix")&&(wn.ow=wn.ow.parentElement),wn.t=setTimeout((function(){wn.setUserAns(e,wn.ow,wn.shouldselect)}),100)},wn.setUserAns=function(e,t,n){if("IMG"==t.tagName?(_n=yn.parent(t,"li").getAttribute("user_answer"),xn=yn.parent(t,"li").getAttribute("user_seq"),Sn=yn.find(e,"#sortable").getAttribute("checkSeq")):(_n=t.getAttribute("user_answer"),xn=t.getAttribute("user_seq"),Sn=yn.find(e,"#sortable").getAttribute("checkSeq")),"UL"!=t.tagName){if(n)if("1"==_n)if("IMG"==t.tagName){let e=yn.parent(t,"li");yn.setAttr(e,{user_answer:0}),e.classList.remove("choose_sel"),"1"!=Sn&&yn.find(e,".prefix","all").classList.remove("tick")}else yn.setAttr(t,{user_answer:0}),t.classList.remove("choose_sel"),"1"!=Sn&&yn.find(t,".prefix",{action:"removeClass",actionData:"tick"});else if("IMG"==t.tagName){if(yn.find(document.querySelector(t).parentElement,"li","all").setAttribute("user_answer",1),yn.select(t.parentElement).classList.add("choose_sel"),"1"!=Sn){let e=yn.parent(t,"li");yn.find(e,".prefix").classList.add("tick")}}else yn.setAttr(t,{user_answer:1}),t.classList.add("choose_sel"),"1"!=Sn&&yn.find(t,".prefix",{action:"addClass",actionData:"tick"});if("1"==Sn){var o=1;yn.find(e,"#sortable li","all").forEach((e=>{1==e.getAttribute("user_answer")?(yn.find(e,".prefix").innerHTML=o,yn.setAttr(e,{user_seq:o}),o++):(yn.find(e,".prefix").innerHTML="",yn.setAttr(e,{user_seq:0}))}))}wn.CheckResultchoose(e),wn.shouldselect=!1}else wn.shouldselect=!1},wn.removeItem=function(){yn.remove(e1.parentElement.parentElement),document.querySelectorAll(".choose_item_container").innerHTML.trim().length<=200?document.querySelector(".message_content").style.display="block":document.querySelector(".message_content").style.display="none"},wn.addItem=function(){document.querySelector(".message_content").style.display="none",yn.insert(".choose_item_container",'<div class="clearfix mt choose_options"><div class="col-md-12 mt-head"><input class="choose_compls" type="checkbox"><textarea></textarea><span class="remove-item icomoon-24px-delete-1"></span></div></div>',"afterbegin")},wn.setDragSequence=function(e,t,n){var o=1;yn.find(e,"#sortable li","all").forEach((e=>{yn.setAttr(e,{user_seq:o}),o++})),0==n&&yn.find(e,"#sortable li","all").forEach((e=>{e.classList.remove("choose_sel")})),wn.CheckResultSentenceChoose(e)},wn.CheckResultSentenceChoose=function(e){var t=!0;let n={};Sn=yn.find("#choose","#sortable").getAttribute("checkSeq");var o="";return yn.find(e,"#sortable li","all").forEach((e=>{xn=e.getAttribute("user_seq"),An=e.getAttribute("correct_seq"),_n=e.getAttribute("user_answer"),xn!=An&&0!=e.getAttribute("correct_seq")&&(t=!1),o+=e.getAttribute("optID")+"|"+xn+"|"+_n+","})),wn.userAnsXML='<SMANS type="6"><list useranswer="'+o+'" /></SMANS>',ISSPECIALMODULEUSERXMLCHANGE=1,document.querySelector("#special_module_user_xml")&&(document.querySelector("#special_module_user_xml").value=wn.userAnsXML),document.querySelector("#answer")&&yn.setAttr("#answer",{checked:t}),n.u=wn.userAnsXML,n.ans=t,n},wn.dragSenParItem=function(e){new Vt(yn.find(e,"#sortable"),{onStart:function(e){},onEnd:function(t){console.log("end =>"+t),wn.setDragSequence(e,t.item)}}),wn.CheckResultchoose(e)},wn.setActiveClass=function(e,t){yn.find(e,"#sortable").getAttribute("checkSeq");yn.find(e,"#sortable li","all").forEach((e=>{1==e.getAttribute("user_answer")&&0==t||1==e.getAttribute("is_correct")&&1==t?e.classList.add("choose_sel"):e.classList.remove("choose_sel")}))},wn.removeActive=function(e){yn.find(e,"#sortable li","all").forEach((e=>{e.classList.remove("choose_sel")}))},wn.labBinded=!0,wn.sortable=!1,wn.modeOn=function(e){yn.selectAll(".test","addClass","h"),yn.selectAll(".review","addClass","h"),e?(yn.selectAll(".review","removeClass","h"),wn.unBindLab(),fe.unbind("down,up,enter,alt+down,delete,left,right,tab,shift+tab,esc","choose"+wn.ajax_eId),yn.find(wn.ajax_eId,".copied","all").forEach((e=>{e.classList.remove("copied")})),null!=document.querySelector("#show_ans_group button")&&document.querySelector("#show_ans_group button").forEach((e=>{e.classList.contains("correct-ans btn-primary")?wn.showAns(wn.ajax_eId,e,"c"):e.classList.contains("your-ans btn-primary")&&wn.showAns(wn.ajax_eId,e,"u")}))):(yn.selectAll(".test","removeClass","h"),setTimeout((function(){wn.callBindKey()}),100),wn.review(wn.ajax_eId,0),wn.bindLab())},wn.callBindKey=function(){wn.bindKeyup(wn.ajax_eId)},wn.unBindLab=function(){wn.labBinded=!1,"normal"==document.querySelector(wn.ajax_eId).getAttribute("type")&&yn.find(wn.ajax_eId,"#sortable").removeAttribute("onmouseup onmousemove onmousedown"),yn.find(wn.ajax_eId,"#sortable").classList.contains("ui-sortable")&&(wn.sortable=!0)},wn.bindLab=function(){wn.labBinded=!0,yn.bind(document.querySelector("#sortable"),"mouseup",(function(e){wn.cmu(wn.ajax_eId,e)})),yn.bind(document.querySelector("#sortable"),"mousemove",(function(e){wn.cmm(wn.ajax_eId,e)})),yn.bind(document.querySelector("#sortable"),"mousedown",(function(e){wn.cmd(wn.ajax_eId,e)})),Array.isArray(yn.find(wn.ajax_eId,"#sortable"))||new Vt(yn.find(wn.ajax_eId,"#sortable"),{animation:150,onEnd:function(e){wn.cmu(wn.ajax_eId,e.item,!0),yn.select(wn.ajax_eId).click()}}),"sentence"!=document.querySelector(wn.ajax_eId)?.getAttribute?.("type")&&"paragraph"!=document.querySelector(wn.ajax_eId)?.getAttribute?.("type")||wn.dragSenParItem(wn.ajax_eId)};const En=[];class Cn{config={};VERSION="1.2.0";DOMNodeTypes={ELEMENT_NODE:1,TEXT_NODE:3,CDATA_SECTION_NODE:4,COMMENT_NODE:8,DOCUMENT_NODE:9};constructor(){this.initConfigDefaults(),this.initRequiredPolyfills()}initConfigDefaults(){void 0===this.config.escapeMode&&(this.config.escapeMode=!0),this.config.attributePrefix=this.config.attributePrefix||"_",this.config.arrayAccessForm=this.config.arrayAccessForm||"none",this.config.emptyNodeForm=this.config.emptyNodeForm||"text",void 0===this.config.enableToStringFunc&&(this.config.enableToStringFunc=!0),this.config.arrayAccessFormPaths=this.config.arrayAccessFormPaths||[],void 0===this.config.skipEmptyTextNodesForObj&&(this.config.skipEmptyTextNodesForObj=!0),void 0===this.config.stripWhitespaces&&(this.config.stripWhitespaces=!0),this.config.datetimeAccessFormPaths=this.config.datetimeAccessFormPaths||[],void 0===this.config.useDoubleQuotes&&(this.config.useDoubleQuotes=!1),this.config.xmlElementsFilter=this.config.xmlElementsFilter||[],this.config.jsonPropertiesFilter=this.config.jsonPropertiesFilter||[],void 0===this.config.keepCData&&(this.config.keepCData=!1)}initRequiredPolyfills(){}getNodeLocalName(e){var t=e.localName;return null==t&&(t=e.baseName),null!=t&&""!=t||(t=e.nodeName),t}getNodePrefix(e){return e.prefix}escapeXmlChars(e){return"string"==typeof e?e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;"):e}unescapeXmlChars(e){return e.replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&quot;/g,'"').replace(/&apos;/g,"'").replace(/&amp;/g,"&")}checkInStdFiltersArrayForm(e,t,n,o){for(var r=0;r<e.length;r++){var i=e[r];if("string"==typeof i){if(i==o)break}else if(i instanceof RegExp){if(i.test(o))break}else if("function"==typeof i&&i(t,n,o))break}return r!=e.length}toArrayAccessForm(e,t,n){switch(this.config.arrayAccessForm){case"property":e[t]instanceof Array?e[t+"_asArray"]=e[t]:e[t+"_asArray"]=[e[t]]}!(e[t]instanceof Array)&&this.config.arrayAccessFormPaths.length>0&&this.checkInStdFiltersArrayForm(this.config.arrayAccessFormPaths,e,t,n)&&(e[t]=[e[t]])}fromXmlDateTime(e){var t=e.split(/[-T:+Z]/g),n=new Date(t[0],t[1]-1,t[2]),o=t[5].split(".");if(n.setHours(t[3],t[4],o[0]),o.length>1&&n.setMilliseconds(o[1]),t[6]&&t[7]){var r=60*t[6]+Number(t[7]);r=0+("-"==(/\d\d-\d\d:\d\d$/.test(e)?"-":"+")?-1*r:r),n.setMinutes(n.getMinutes()-r-n.getTimezoneOffset())}else-1!==e.indexOf("Z",e.length-1)&&(n=new Date(Date.UTC(n.getFullYear(),n.getMonth(),n.getDate(),n.getHours(),n.getMinutes(),n.getSeconds(),n.getMilliseconds())));return n}checkFromXmlDateTimePaths(e,t,n){if(this.config.datetimeAccessFormPaths.length>0){var o=n.split(".#")[0];return this.checkInStdFiltersArrayForm(this.config.datetimeAccessFormPaths,e,t,o)?this.fromXmlDateTime(e):e}return e}checkXmlElementsFilter(e,t,n,o){return!(t==this.DOMNodeTypes.ELEMENT_NODE&&this.config.xmlElementsFilter.length>0)||this.checkInStdFiltersArrayForm(this.config.xmlElementsFilter,e,n,o)}parseDOMChildren(e,t){if(e.nodeType==this.DOMNodeTypes.DOCUMENT_NODE){for(var n=new Object,o=e.childNodes,r=0;r<o.length;r++){if((i=o.item(r)).nodeType==this.DOMNodeTypes.ELEMENT_NODE)n[a=this.getNodeLocalName(i)]=this.parseDOMChildren(i,a)}return n}if(e.nodeType==this.DOMNodeTypes.ELEMENT_NODE){(n=new Object).__cnt=0;for(o=e.childNodes,r=0;r<o.length;r++){var i=o.item(r),a=this.getNodeLocalName(i);if(i.nodeType!=this.DOMNodeTypes.COMMENT_NODE){var l=t+"."+a;this.checkXmlElementsFilter(n,i.nodeType,a,l)&&(n.__cnt++,null==n[a]?(n[a]=this.parseDOMChildren(i,l),this.toArrayAccessForm(n,a,l)):(null!=n[a]&&(n[a]instanceof Array||(n[a]=[n[a]],this.toArrayAccessForm(n,a,l))),n[a][n[a].length]=this.parseDOMChildren(i,l)))}}for(var s=0;s<e.attributes.length;s++){var c=e.attributes.item(s);n.__cnt++,n[this.config.attributePrefix+c.name]=c.value}var d=this.getNodePrefix(e);return null!=d&&""!=d&&(n.__cnt++,n.__prefix=d),null!=n["#text"]&&(n.__text=n["#text"],n.__text instanceof Array&&(n.__text=n.__text.join("\n")),this.config.stripWhitespaces&&(n.__text=n.__text.trim()),delete n["#text"],"property"==this.config.arrayAccessForm&&delete n["#text_asArray"],n.__text=this.checkFromXmlDateTimePaths(n.__text,a,t+"."+a)),null!=n["#cdata-section"]&&(n.__cdata=n["#cdata-section"],delete n["#cdata-section"],"property"==this.config.arrayAccessForm&&delete n["#cdata-section_asArray"]),0==n.__cnt&&"text"==this.config.emptyNodeForm?n="":1==n.__cnt&&null!=n.__text?n=n.__text:1!=n.__cnt||null==n.__cdata||this.config.keepCData?n.__cnt>1&&null!=n.__text&&this.config.skipEmptyTextNodesForObj&&(this.config.stripWhitespaces&&""==n.__text||""==n.__text.trim())&&delete n.__text:n=n.__cdata,delete n.__cnt,!this.config.enableToStringFunc||null==n.__text&&null==n.__cdata||(n.toString=function(){return(null!=this.__text?this.__text:"")+(null!=this.__cdata?this.__cdata:"")}),n}if(e.nodeType==this.DOMNodeTypes.TEXT_NODE||e.nodeType==this.DOMNodeTypes.CDATA_SECTION_NODE)return e.nodeValue}startTag(e,t,n,o){var r="<"+(null!=e&&null!=e.__prefix?e.__prefix+":":"")+t;if(null!=n)for(var i=0;i<n.length;i++){var a=n[i],l=e[a];this.config.escapeMode&&(l=this.escapeXmlChars(l)),r+=" "+a.substr(this.config.attributePrefix.length)+"=",this.config.useDoubleQuotes?r+='"'+l+'"':r+="'"+l+"'"}return r+=o?"/>":">"}endTag(e,t){return"</"+(null!=e.__prefix?e.__prefix+":":"")+t+">"}endsWith(e,t){return-1!==e.indexOf(t,e.length-t.length)}jsonXmlSpecialElem(e,t){return!!("property"==this.config.arrayAccessForm&&this.endsWith(t.toString(),"_asArray")||0==t.toString().indexOf(this.config.attributePrefix)||0==t.toString().indexOf("__")||e[t]instanceof Function)}jsonXmlElemCount(e){var t=0;if(e instanceof Object)for(var n in e)this.jsonXmlSpecialElem(e,n)||t++;return t}checkJsonObjPropertiesFilter(e,t,n){return 0==this.config.jsonPropertiesFilter.length||""==n||this.checkInStdFiltersArrayForm(this.config.jsonPropertiesFilter,e,t,n)}parseJSONAttributes(e){var t=[];if(e instanceof Object)for(var n in e)-1==n.toString().indexOf("__")&&0==n.toString().indexOf(this.config.attributePrefix)&&t.push(n);return t}parseJSONTextAttrs(e){var t="";return null!=e.__cdata&&(t+="<![CDATA["+e.__cdata+"]]>"),null!=e.__text&&(this.config.escapeMode?t+=this.escapeXmlChars(e.__text):t+=e.__text),t}parseJSONTextObject(e){var t="";return e instanceof Object?t+=this.parseJSONTextAttrs(e):null!=e&&(this.config.escapeMode?t+=this.escapeXmlChars(e):t+=e),t}getJsonPropertyPath(e,t){return""===e?t:e+"."+t}parseJSONArray(e,t,n,o){var r="";if(0==e.length)r+=this.startTag(e,t,n,!0);else for(var i=0;i<e.length;i++)r+=this.startTag(e[i],t,this.parseJSONAttributes(e[i]),!1),r+=this.parseJSONObject(e[i],this.getJsonPropertyPath(o,t)),r+=this.endTag(e[i],t);return r}parseJSONObject(e,t){var n="";if(this.jsonXmlElemCount(e)>0)for(var o in e)if(!this.jsonXmlSpecialElem(e,o)&&(""==t||this.checkJsonObjPropertiesFilter(e,o,this.getJsonPropertyPath(t,o)))){var r=e[o],i=this.parseJSONAttributes(r);if(null==r||null==r)n+=this.startTag(r,o,i,!0);else if(r instanceof Object)if(r instanceof Array)n+=this.parseJSONArray(r,o,i,t);else if(r instanceof Date)n+=this.startTag(r,o,i,!1),n+=r.toISOString(),n+=this.endTag(r,o);else{this.jsonXmlElemCount(r)>0||null!=r.__text||null!=r.__cdata?(n+=this.startTag(r,o,i,!1),n+=this.parseJSONObject(r,this.getJsonPropertyPath(t,o)),n+=this.endTag(r,o)):n+=this.startTag(r,o,i,!0)}else n+=this.startTag(r,o,i,!1),n+=this.parseJSONTextObject(r),n+=this.endTag(r,o)}return n+=this.parseJSONTextObject(e)}parseXmlString(e){var t,n=window.ActiveXObject||"ActiveXObject"in window;if(void 0===e)return null;if(window.DOMParser){var o=new window.DOMParser,r=null;if(!n)try{r=o.parseFromString("INVALID","text/xml").getElementsByTagName("parsererror")[0].namespaceURI}catch(e){r=null}try{t=o.parseFromString(e,"text/xml"),null!=r&&t.getElementsByTagNameNS(r,"parsererror").length>0&&(t=null)}catch(e){t=null}}else 0==e.indexOf("<?")&&(e=e.substr(e.indexOf("?>")+2)),(t=new ActiveXObject("Microsoft.XMLDOM")).async="false",t.loadXML(e);return t}asArray(e){return void 0===e||null==e?[]:e instanceof Array?e:[e]}toXmlDateTime(e){return e instanceof Date?e.toISOString():"number"==typeof e?new Date(e).toISOString():null}asDateTime(e){return"string"==typeof e?this.fromXmlDateTime(e):e}xml2json(e){return this.parseDOMChildren(e)}xml_str2json(e){var t=this.parseXmlString(e);return null!=t?this.xml2json(t):null}json2xml_str(e){return this.parseJSONObject(e,"")}json2xml(e){var t=this.json2xml_str(e);return this.parseXmlString(t)}getVersion(){return this.VERSION}}function Dn(e){e=e.replace(/<\!--\[CDATA\[/g,"<![CDATA[").replace(/\]\]-->/g,"]]>");let t=new Cn({useDoubleQuotes:!0}),n=JSON.stringify(t.xml_str2json(e));return n=n.replace("SMXML","smxml"),n=JSON.parse(n),n}function Tn(e){1==e.debug&&(console.log("result",e),console.trace()),e&&(kn.select("#answer","checked",!!e.ans),kn.select("#special_module_user_xml","value",e.uXml),"object"==typeof window&&(window.ISSPECIALMODULEUSERXMLCHANGE=1,"undefined"!=typeof calculatePoint&&calculatePoint(e.correctPoints||1,e.ansPoint||e.ans)),globalThis.saveUserAnswerInSapper?.(e))}const kn=new W,{document:Mn}=(new class{constructor(e={}){this._options=e,this._allowed=!1,this._init()}_init(){"undefined"!=typeof Storage?(this._allowed=!0,window.onstorage=e=>{this._options.onStore&&this._options.onStore(e)}):(this._allowed=!1,console.warn("Sorry! No Web Storage support.."))}key(e){if(this._allowed)return this._options.session?console.warn("Session has not key method."):window.localStorage.key(e)}get(e){if(this._allowed)return this._options.session?window.sessionStorage.getItem(e):window.localStorage.getItem(e)}set(e,t){if(this._allowed)return this._options.session?window.sessionStorage.setItem(e,t):window.localStorage.setItem(e,t)}remove(e){if(this._allowed)return this._options.session?window.sessionStorage.removeItem(e):window.localStorage.removeItem(e)}clearAll(){if(this._allowed)return this._options.session?window.sessionStorage.clear():window.localStorage.clear()}},R);function On(t){let n,r,i,a,d,h;return{c(){n=u("div"),r=u("button"),r.textContent="Correct Answer",i=p(),a=u("button"),a.textContent="Your Answer",g(r,"type","button"),g(r,"mode","c"),g(r,"class","btn btn-light correct-ans svelte_items_test"),g(a,"type","button"),g(a,"mode","u"),g(a,"class","btn btn-light your-ans active svelte_items_test"),g(n,"class","smControlerBtn btn-group mb-3"),g(n,"aria-label","Answer buttons")},m(e,o){s(e,n,o),l(n,r),l(n,i),l(n,a),d||(h=[m(r,"click",t[3]),m(a,"click",t[3])],d=!0)},p:e,d(e){e&&c(n),d=!1,o(h)}}}function Nn(t){let n,r,i,a,d,h,f,v=(t[0]||t[1])&&On(t);return{c(){n=u("center"),r=u("button"),i=p(),a=u("button"),d=p(),v&&v.c(),g(r,"type","button"),g(r,"class","h h-imp svelte_items_test"),g(r,"id","set-review"),g(a,"type","button"),g(a,"class","h h-imp svelte_items_test"),g(a,"id","unset-review")},m(e,o){s(e,n,o),l(n,r),l(n,i),l(n,a),l(n,d),v&&v.m(n,null),h||(f=[m(r,"click",t[5]),m(a,"click",t[6])],h=!0)},p(e,[t]){e[0]||e[1]?v?v.p(e,t):(v=On(e),v.c(),v.m(n,null)):v&&(v.d(1),v=null)},i:e,o:e,d(e){e&&c(n),v&&v.d(),h=!1,o(f)}}}function Pn(e,t,n){let{reviewMode:o=!1}=t,{handleReviewClick:r}=t,{customReviewMode:i}=t;kn.listen("body","keydown",".smControlerBtn .correct-ans",(function(e,t){13===t.which&&e.click()})),kn.listen("body","keydown",".smControlerBtn .your-ans",(function(e,t){13===t.which&&e.click()}));const a=A();return e.$$set=e=>{"reviewMode"in e&&n(0,o=e.reviewMode),"handleReviewClick"in e&&n(4,r=e.handleReviewClick),"customReviewMode"in e&&n(1,i=e.customReviewMode)},[o,i,a,function(e){document.querySelectorAll(".smControlerBtn button").forEach((e=>e.classList.remove("active"))),e.target.classList.add("active"),r&&r(e.target.getAttribute("mode"),e)},r,()=>a("setReview"),()=>a("unsetReview")]}class jn extends U{constructor(e){var t;super(),Mn.getElementById("svelte-ri6gyf-style")||((t=u("style")).id="svelte-ri6gyf-style",t.textContent=".smControlerBtn .btn-light:not([disabled]):not(.disabled).active{color:#fff!important;-webkit-box-shadow:inset 0 2px 0 #1266f1!important;box-shadow:inset 0 2px 0 #1266f1!important;background-color:#2572f2!important;border-color:#2572f2!important;border-top-color:#0c57d3!important}",l(Mn.head,t)),Y(this,e,Pn,Nn,i,{reviewMode:0,handleReviewClick:4,customReviewMode:1})}}function In(e,t){void 0===t&&(t={});var n=t.insertAt;if(e&&"undefined"!=typeof document){var o=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css","top"===n&&o.firstChild?o.insertBefore(r,o.firstChild):o.appendChild(r),r.styleSheet?r.styleSheet.cssText=e:r.appendChild(document.createTextNode(e))}}function Ln(e,t,n){const o=e.slice();return o[27]=t[n],o[29]=n,o}function qn(e){let t,n,o,r,i,a,l,d,h,p,f=e[10](e[27])+"";return{c(){t=u("li"),g(t,"key",n=e[29]),g(t,"class",o="1"==e[3].isSentence?"sentence_li":"1"==e[3].isParagraph?"paragraph_li":""),g(t,"is_correct",r=e[27].isCorrect),g(t,"optid",i=e[27].optid),g(t,"correct_seq",a=e[27].seq),g(t,"user_answer",l=e[27].user_answer),g(t,"u",d=e[27].user_answer),g(t,"user_seq",h=e[27].user_seq?e[27].user_seq:e[29]),g(t,"id",p="id"+e[29]),g(t,"tabindex","0")},m(e,n){s(e,t,n),t.innerHTML=f},p(e,n){4&n&&f!==(f=e[10](e[27])+"")&&(t.innerHTML=f),8&n&&o!==(o="1"==e[3].isSentence?"sentence_li":"1"==e[3].isParagraph?"paragraph_li":"")&&g(t,"class",o),4&n&&r!==(r=e[27].isCorrect)&&g(t,"is_correct",r),4&n&&i!==(i=e[27].optid)&&g(t,"optid",i),4&n&&a!==(a=e[27].seq)&&g(t,"correct_seq",a),4&n&&l!==(l=e[27].user_answer)&&g(t,"user_answer",l),4&n&&d!==(d=e[27].user_answer)&&g(t,"u",d),4&n&&h!==(h=e[27].user_seq?e[27].user_seq:e[29])&&g(t,"user_seq",h)},d(e){e&&c(t)}}}function Xn(e){let t;return{c(){t=h("Sequencing of the selected item is not required. Click to select items.")},m(e,n){s(e,t,n)},d(e){e&&c(t)}}}function Rn(e){let t;return{c(){t=h("Click to select. Drag and Drop to set sequence.")},m(e,n){s(e,t,n)},d(e){e&&c(t)}}}function Bn(e){let t,n,i,a,f,b,y,w,_,x,S,A,E,C,D,T,k,M,O,N,P=e[3].headingCorrect+"";a=new jn({props:{handleReviewClick:e[11],reviewMode:e[0],customReviewMode:e[4]}}),a.$on("setReview",e[5]),a.$on("unsetReview",e[6]);let j=e[2],I=[];for(let t=0;t<j.length;t+=1)I[t]=qn(Ln(e,j,t));function L(e,t){return 1==e[3].allowSort||1==e[3].isSentence||1==e[3].isParagraph?Rn:Xn}let R=L(e),F=R(e);return{c(){t=u("main"),n=u("div"),i=u("center"),B(a.$$.fragment),f=p(),b=u("center"),y=u("div"),w=u("div"),_=h(P),x=p(),S=u("ul");for(let e=0;e<I.length;e+=1)I[e].c();D=p(),T=u("div"),F.c(),g(w,"class","choose_header font17 pl-4"),g(S,"id","sortable"),g(S,"totalcorrectans",A=e[3].totalcorrectans),g(S,"checkseq",E=e[3].allowSort),g(S,"class","ui-sortable w-auto mt-0 p-2"),g(S,"style",C="border-left:10px solid #d9e7fd;border-right: 10px solid #d9e7fd"),g(T,"class","choose_bottom pl-4"),g(T,"id","instruction"),g(y,"id",e[1]),g(y,"type",k="1"==e[3].isSentence?"sentence":"1"==e[3].isParagraph?"paragraph":"normal"),g(y,"class","bg-white")},m(o,c){s(o,t,c),l(t,n),l(n,i),H(a,i,null),l(n,f),l(n,b),l(b,y),l(y,w),l(w,_),l(y,x),l(y,S);for(let e=0;e<I.length;e+=1)I[e].m(S,null);l(y,D),l(y,T),F.m(T,null),M=!0,O||(N=[m(S,"mouseup",(function(){r(1!=e[0]?e[7].bind(this):"")&&(1!=e[0]?e[7].bind(this):"").apply(this,arguments)})),m(S,"mousemove",(function(){r(1!=e[0]?e[8].bind(this):"")&&(1!=e[0]?e[8].bind(this):"").apply(this,arguments)})),m(S,"mousedown",(function(){r(1!=e[0]?e[9].bind(this):"")&&(1!=e[0]?e[9].bind(this):"").apply(this,arguments)}))],O=!0)},p(t,[n]){e=t;const o={};if(1&n&&(o.reviewMode=e[0]),a.$set(o),(!M||8&n)&&P!==(P=e[3].headingCorrect+"")&&v(_,P),1036&n){let t;for(j=e[2],t=0;t<j.length;t+=1){const o=Ln(e,j,t);I[t]?I[t].p(o,n):(I[t]=qn(o),I[t].c(),I[t].m(S,null))}for(;t<I.length;t+=1)I[t].d(1);I.length=j.length}(!M||8&n&&A!==(A=e[3].totalcorrectans))&&g(S,"totalcorrectans",A),(!M||8&n&&E!==(E=e[3].allowSort))&&g(S,"checkseq",E),R!==(R=L(e))&&(F.d(1),F=R(e),F&&(F.c(),F.m(T,null))),(!M||2&n)&&g(y,"id",e[1]),(!M||8&n&&k!==(k="1"==e[3].isSentence?"sentence":"1"==e[3].isParagraph?"paragraph":"normal"))&&g(y,"type",k)},i(e){M||(q(a.$$.fragment,e),M=!0)},o(e){X(a.$$.fragment,e),M=!1},d(e){e&&c(t),$(a),d(I,e),F.d(),O=!1,o(N)}}}function Hn(t,n,o){let{cmed:r}=n,{showAns:a}=n,{xml:l}=n,{stopPreviewUpdate:s}=n,{editorState:c}=n,{isReview:d}=n,{uxml:u}=n,h=d,p=r?"choose"+r:"choose";wn.ajax_eId=r?"#choose"+r:"#choose";var f=[];let m={};(function(t,n=e){let o;const r=[];function a(e){if(i(t,e)&&(t=e,o)){const e=!En.length;for(let e=0;e<r.length;e+=1){const n=r[e];n[1](),En.push(n,t)}if(e){for(let e=0;e<En.length;e+=2)En[e][0](En[e+1]);En.length=0}}}return{set:a,update:function(e){a(e(t))},subscribe:function(i,l=e){const s=[i,l];return r.push(s),1===r.length&&(o=n(a)||e),i(t),()=>{const e=r.indexOf(s);-1!==e&&r.splice(e,1),0===r.length&&(o(),o=null)}}}})({xml:"",headingCorrect:"",allowSort:"",isSentence:"",isParagraph:"",chooseClass:"",totalcorrectans:"",stateXMLToJSON:""}).subscribe((e=>{o(3,m=e)}));function g(){var e="";Tn({uXml:(e=("1"==m.isSentence||m.isParagraph,wn.CheckResultchoose("#"+p))).u,ans:e.b}),c&&a(e.b?"Correct":"Incorrect")}function v(){y("none"),wn.modeOn("on"),o(0,d=!0),wn.review("#"+p,0),kn.removeClass("#show_ans_group button","active"),kn.removeClass("#show_ans_group .your-ans","active"),g()}function b(){y("auto"),o(0,d=!1),wn.modeOn(),wn.review("#"+p,0)}function y(e){kn.selectAll("#sortable li").forEach((t=>{t.style.pointerEvents=e}))}return x((()=>{kn.bind(document,"click",(function(){if(document.querySelector(".editorRender"))return document.querySelector(".editorRender").clientHeight})),kn.listen(document,"click","#"+p,(function(){setTimeout((function(){g()}),100)})),kn.listen(document,"click","#show_ans_group button",(e=>{kn.removeClass("#show_ans_group button","active"),kn.addClass(e,"active")}))})),S((()=>{if(l!=m.xml){if(1==s)return!1;r&&(o(1,p="choose"+r),wn.ajax_eId="#choose"+r),o(3,m.xml=l,m),o(3,m.stateXMLToJSON=Dn(l),m),function(e){if(function(e){try{o(2,f=[]);let n=e.smxml.list.__cdata.split("\n"),r=1,i=0,a=0;n.forEach((function(e,t){""!=n[t].trim()&&("*"==n[t].trim().charAt(0)&&i++,f.push({value:n[t].trim(),isCorrect:"*"==n[t].trim().charAt(0)?"1":"0",seq:"*"==n[t].trim().charAt(0)?r:"0",user_answer:"0",optid:a}),"*"==n[t].trim().charAt(0)&&r++,a++)})),function(e){for(var t=e.length-1;t>0;t--){var n=Math.floor(Math.random()*(t+1)),o=e[t];e[t]=e[n],e[n]=o}}(f),e=function(e){let t=e;return t.smxml.list._headingCorrect&&(t.smxml.list._headingcorrect=t.smxml.list._headingCorrect,delete t.smxml.list._headingCorrect),t.smxml.list._allowSort&&(t.smxml.list._allowsort=t.smxml.list._allowSort,delete t.smxml.list._allowSort),t.smxml.list._isParagraph&&(t.smxml.list._isparagraph=t.smxml.list._isParagraph,delete t.smxml.list._isParagraph),t.smxml.list._isSentence&&(t.smxml.list._issentence=t.smxml.list._isSentence,delete t.smxml.list._isSentence),t}(e),o(3,m.headingCorrect=e.smxml.list._headingcorrect,m),o(3,m.allowSort=e.smxml.list._allowsort?e.smxml.list._allowsort:"0",m),o(3,m.isSentence=e.smxml.list._issentence?e.smxml.list._issentence:"0",m),o(3,m.isParagraph=e.smxml.list._isparagraph?e.smxml.list._isparagraph:"0",m),o(3,m.totalcorrectans=i,m);var t=setTimeout(function(){kn.find("#sortable",".sentence_li","all").forEach((function(e,t){e.setAttribute("user_seq",t+1)})),clearTimeout(t)}.bind(this),200)}catch(e){this.onError=e,console.warn({error:e.message,"function name":"parseXMLPreview","File name":"ChooseNReorderPreview.js"})}}(e),u){let e=Dn(u);if(e&&e.SMANS&&e.SMANS&&e.SMANS.list){let t=e.SMANS.list._useranswer.split(","),n=[];for(let e in t)if(t[e]){let r=t[e].split("|");for(let e in f)f[e].optid==r[0]&&(o(2,f[e].user_answer=r[2],f),o(2,f[e].user_seq=r[1],f),n.push(f[e]))}o(2,f=n)}}}(m.stateXMLToJSON);var e=setTimeout((function(){u||(kn.selectAll("#sortable li").forEach((e=>{e.setAttribute("user_answer","0"),e.setAttribute("style","")})),kn.selectAll("#sortable li .prefix").forEach((e=>{e.innerHTML=""}))),wn.removeActive("#"+p),wn.review("#"+p,0),wn.init("#"+p),wn.CheckResultchoose("#"+p);new Vt(kn.find("#"+p,"#sortable"),{animation:150});"1"==m.allowSort&&"1"!=m.isSentence&&"1"!=m.isParagraph||new Vt(kn.find("#"+p,"#sortable"),{onEnd(e){e.item;e.to,e.from,e.oldIndex,e.newIndex,e.oldDraggableIndex,e.newDraggableIndex,e.clone,e.pullMode}}),"1"!=m.isSentence&&"1"!=m.isParagraph||wn.dragSenParItem("#"+p),clearTimeout(e)}),200)}})),t.$$set=e=>{"cmed"in e&&o(12,r=e.cmed),"showAns"in e&&o(13,a=e.showAns),"xml"in e&&o(14,l=e.xml),"stopPreviewUpdate"in e&&o(15,s=e.stopPreviewUpdate),"editorState"in e&&o(16,c=e.editorState),"isReview"in e&&o(0,d=e.isReview),"uxml"in e&&o(17,u=e.uxml)},t.$$.update=()=>{1&t.$$.dirty&&setTimeout((function(){d?v():b()}),200)},[d,p,f,m,h,v,b,function(e){"1"!=m.isSentence&&"1"!=m.isParagraph&&wn.cmu("#"+p,e)},function(e,t){"1"!=m.isSentence&&"1"!=m.isParagraph&&wn.cmm(e,t)},function(e,t){"1"!=m.isSentence&&"1"!=m.isParagraph&&(wn.cmd(e,t),ISSPECIALMODULEUSERXMLCHANGE=1)},function(e){return'<div class="prefix pl-1 mr-2"'+("1"==m.isSentence?"nw":"")+'"></div>'+("1"==m.isParagraph?'<div class="pg_handle">&equiv;</div>':"")+("*"==e.value.charAt(0)?e.value.slice(1):e.value)},function(e,t){"c"==e?wn.showAns("#"+p,t.currentTarget,"c"):wn.showAns("#"+p,t.currentTarget,"u")},r,a,l,s,c,u]}In('#main{max-width:700px;min-width:300px;float:none;margin:0 auto;min-height:1px}#sortable{list-style-type:none;margin:0;padding:0 5px;width:100%;overflow:hidden}#sortable li:not(.multiGrid){margin:5px 3px 5px 5px;padding:.4em;padding-left:2.5em;font-size:1em;border:1px solid #eee;cursor:pointer;background:#edf2fc url(https://s3.amazonaws.com/jigyaasa_assets/items/dot.jpg) repeat-y top left;position:relative;border:1px solid #96bbf6}#sortable li div.prefix{position:absolute;margin-left:-26px;line-height:23px;}#sortable li div{display:inline-block;width:18px;height:18px}.tick:before{content:"\\2713";font-size:18px;font-weight:bolder;color:#fff;vertical-align:middle;margin-left:2px}[id^=choose]{width:100%;max-width:700px;text-align:left}[id^=choose] .choose_header{background-color:#d9e7fd;border-top:2px solid #96bbf6;margin:0;padding:5px 5px 5px 10px;line-height:1.8em;border-top-right-radius:10px;border-top-left-radius:10px}[id^=choose] .choose_bottom{font-size:12px!important;font-weight:700;color:#e33;background-color:#d9e7fd;margin:0;padding:.4em;padding-left:1em;font-size:1.4em;border-bottom-right-radius:10px;border-bottom-left-radius:10px}#sortable li.choose_sel{background-color:#4182b9!important;color:#fff!important}.remove-item{float:right;font-size:16px;color:#000;cursor:pointer;padding-top:9px}.pd-0{padding:0}[id^=choose] .mt{margin:10px 0}.choose_foot_content,.choose_head_content{overflow-x:hidden;padding:10px;text-align:left;background:#fff}.choose_item_container{overflow-x:hidden;padding:10px;text-align:left;background:#fff;overflow-y:scroll}.choose_foot_content,.choose_item_container{border-top:1px solid #cbcbcb}.choose_foot_content{overflow:hidden}.choose_item_container{min-height:207px}.message_content{display:none}#headingCorrect{width:82%;margin-left:16px}.mt-head{margin-left:12px}.choose_item_container textarea{overflow-y:hidden;min-height:34px;height:34px;width:89%;padding:5px;border-radius:5px;margin:0 13px;vertical-align:middle;background-color:#fff;background-image:none;border:1px solid #ccc;border-radius:4px;-webkit-box-shadow:inset 0 1px 1px rgba(0,0,0,.075);box-shadow:inset 0 1px 1px rgba(0,0,0,.075);-webkit-transition:border-color ease-in-out .15s,box-shadow ease-in-out .15s;transition:border-color ease-in-out .15s,box-shadow ease-in-out .15s}.mtl{margin-left:10px}.paragraph_li{line-height:2em!important;border-radius:3px;background:0 0!important;display:block;margin:3px!important;padding:2px!important;padding-left:18px!important;padding-right:11px!important;border:none!important;color:#4d4d4d!important;cursor:move!important}.sentence_li{line-height:22px!important;border-radius:3px;display:inline-block;margin:10px!important;padding:1px 10px 5px 31px!important;cursor:move!important}.paragraph_li:hover,.sentence_li:hover{background-color:#edf2fc!important}.nw{width:0!important}.pg_handle{display:inline;padding-right:8px;font-size:12px;font-weight:bolder}.selmatch{border:solid 2px red!important;border-radius:2px!important}.copied{outline:2px solid #4682b4!important}[id^=choose] #sortable li:-moz-focusring{outline:2px solid #6b9ef1}@media only screen and (max-width:768px){.font17{font-size:15px!important}}');class $n extends U{constructor(e){super(),Y(this,e,Hn,Bn,i,{cmed:12,showAns:13,xml:14,stopPreviewUpdate:15,editorState:16,isReview:0,uxml:17})}}const Fn="Drag and Drop to set sequence.";
/**!
     * Sortable
     * @author	RubaXa   <trash@rubaxa.org>
     * @author	owenm    <owen23355@gmail.com>
     * @license MIT
     */
var Yn,Un=(function(e){var t;t=function(){if("undefined"==typeof window||!window.document)return function(){throw new Error("Sortable.js requires a window with a document")};var e,t,n,o,r,i,a,l,s,c,d,u,h,p,f,m,g,v,b,y,w,_,x,S,A,E,C,D=[],T=[],k=!1,M=!1,O=!1,N=[],P=[],j=!1,I=!1,L=/\s+/g,q="Sortable"+(new Date).getTime(),X=window,R=X.document,B=X.parseInt,H=X.setTimeout,$=X.jQuery||X.Zepto,F=X.Polymer,Y={capture:!1,passive:!1},U=!!navigator.userAgent.match(/(?:Trident.*rv[ :]?11\.|msie|iemobile)/i),z=!!navigator.userAgent.match(/Edge/i),J=z||U?"cssFloat":"float",W="draggable"in R.createElement("div"),K=function(){if(U)return!1;var e=R.createElement("x");return e.style.cssText="pointer-events:auto","auto"===e.style.pointerEvents}(),G=!1,V=Math.abs,Q=Math.min,Z=[],ee=function(e,t){var n=ye(e),o=B(n.width),r=Ce(e,0,t),i=Ce(e,1,t),a=r&&ye(r),l=i&&ye(i),s=a&&B(a.marginLeft)+B(a.marginRight)+Le(r).width,c=l&&B(l.marginLeft)+B(l.marginRight)+Le(i).width;if("flex"===n.display)return"column"===n.flexDirection||"column-reverse"===n.flexDirection?"vertical":"horizontal";if(r&&"none"!==a.float){var d="left"===a.float?"left":"right";return!i||"both"!==l.clear&&l.clear!==d?"horizontal":"vertical"}return r&&("block"===a.display||"flex"===a.display||"table"===a.display||"grid"===a.display||s>=o&&"none"===n[J]||i&&"none"===n[J]&&s+c>o)?"vertical":"horizontal"},te=function(e,t){if(!e||!e.getBoundingClientRect)return ne();var n=e,o=!1;do{if(n.clientWidth<n.scrollWidth||n.clientHeight<n.scrollHeight){var r=ye(n);if(n.clientWidth<n.scrollWidth&&("auto"==r.overflowX||"scroll"==r.overflowX)||n.clientHeight<n.scrollHeight&&("auto"==r.overflowY||"scroll"==r.overflowY)){if(!n||!n.getBoundingClientRect||n===R.body)return ne();if(o||t)return n;o=!0}}}while(n=n.parentNode);return ne()},ne=function(){return U?R.documentElement:R.scrollingElement},oe=function(e){return[e.scrollLeft,e.scrollTop]},re=function(e,t,n){e.scrollLeft+=t,e.scrollTop+=n},ie=Oe((function(e,t,n,o){if(t.scroll){var r=n?n[q]:window,i=t.scrollSensitivity,a=t.scrollSpeed,l=e.clientX,s=e.clientY,h=ne(),p=!1;d!==n&&(ae(),c=t.scroll,u=t.scrollFn,!0===c&&(c=te(n,!0),d=c));var f=0,m=c;do{var g,v,b,y,w,_,S,A,E,C=m,D=Le(C),M=D.top,O=D.bottom,N=D.left,P=D.right,j=D.width,I=D.height;if(g=C.scrollWidth,v=C.scrollHeight,b=ye(C),A=C.scrollLeft,E=C.scrollTop,C===h?(_=j<g&&("auto"===b.overflowX||"scroll"===b.overflowX||"visible"===b.overflowX),S=I<v&&("auto"===b.overflowY||"scroll"===b.overflowY||"visible"===b.overflowY)):(_=j<g&&("auto"===b.overflowX||"scroll"===b.overflowX),S=I<v&&("auto"===b.overflowY||"scroll"===b.overflowY)),y=_&&(V(P-l)<=i&&A+j<g)-(V(N-l)<=i&&!!A),w=S&&(V(O-s)<=i&&E+I<v)-(V(M-s)<=i&&!!E),!T[f])for(var L=0;L<=f;L++)T[L]||(T[L]={});T[f].vx==y&&T[f].vy==w&&T[f].el===C||(T[f].el=C,T[f].vx=y,T[f].vy=w,clearInterval(T[f].pid),!C||0==y&&0==w||(p=!0,T[f].pid=setInterval(function(){o&&0===this.layer&&pe.active._emulateDragOver(!0);var t=T[this.layer].vy?T[this.layer].vy*a:0,n=T[this.layer].vx?T[this.layer].vx*a:0;"function"==typeof u&&"continue"!==u.call(r,n,t,e,x,T[this.layer].el)||re(T[this.layer].el,n,t)}.bind({layer:f}),24))),f++}while(t.bubbleScroll&&m!==h&&(m=te(m,!1)));k=p}}),30),ae=function(){T.forEach((function(e){clearInterval(e.pid)})),T=[]},le=function(e){function t(e,n){return function(o,r,i,a){var l=o.options.group.name&&r.options.group.name&&o.options.group.name===r.options.group.name;if(null==e&&(n||l))return!0;if(null==e||!1===e)return!1;if(n&&"clone"===e)return e;if("function"==typeof e)return t(e(o,r,i,a),n)(o,r,i,a);var s=(n?o:r).options.group.name;return!0===e||"string"==typeof e&&e===s||e.join&&e.indexOf(s)>-1}}var n={},o=e.group;o&&"object"==typeof o||(o={name:o}),n.name=o.name,n.checkPull=t(o.pull,!0),n.checkPut=t(o.put),n.revertClone=o.revertClone,e.group=n},se=function(e,t){for(var n=t;!n[q];)n=n.parentNode;return e===n},ce=function(e,t,n){for(var o=e.parentNode;o&&!o[q];)o=o.parentNode;o&&o[q][n](Ne(t,{artificialBubble:!0}))};R.addEventListener("click",(function(e){if(O)return e.preventDefault(),e.stopPropagation&&e.stopPropagation(),e.stopImmediatePropagation&&e.stopImmediatePropagation(),O=!1,!1}),!0);var de=function(t){if(t=t.touches?t.touches[0]:t,e){var n=function(e,t){for(var n=0;n<N.length;n++)if(!N[n].children.length){var o=Le(N[n]),r=N[n][q].options.emptyInsertThreshold,i=e>=o.left-r&&e<=o.right+r,a=t>=o.top-r&&t<=o.bottom+r;if(i&&a)return N[n]}}(t.clientX,t.clientY);n&&n[q]._onDragOver({clientX:t.clientX,clientY:t.clientY,target:n,rootEl:n})}};ge(R,"dragover",de),ge(R,"mousemove",de),ge(R,"touchmove",de);var ue,he=function(t){e&&e.parentNode[q]._isOutsideThisEl(t.target)};function pe(e,t){if(!e||!e.nodeType||1!==e.nodeType)throw"Sortable: `el` must be HTMLElement, not "+{}.toString.call(e);this.el=e,this.options=t=Ne({},t),e[q]=this;var n={group:null,sort:!0,disabled:!1,store:null,swap:!1,handle:null,scroll:!0,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0,draggable:/[uo]l/i.test(e.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return ee(e,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",swapClass:"sortable-swap-highlight",selectedClass:"sortable-selected",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(e,t){var n="";if(P.length)for(var o=0;o<P.length;o++)n+=(o?", ":"")+P[o].textContent;else n=t.textContent;e.setData("Text",n)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,touchStartThreshold:B(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:!1!==pe.supportPointer&&("PointerEvent"in window||window.navigator&&"msPointerEnabled"in window.navigator),emptyInsertThreshold:5,multiDrag:!1};for(var o in n)!(o in t)&&(t[o]=n[o]);for(var r in le(t),this)"_"===r.charAt(0)&&"function"==typeof this[r]&&(this[r]=this[r].bind(this));this.nativeDraggable=!t.forceFallback&&W,t.supportPointer?(ge(e,"pointerdown",this._onTapStart),ge(R,"pointerup",this._deselectMultiDrag)):(ge(R,"mouseup",this._deselectMultiDrag),ge(R,"touchend",this._deselectMultiDrag),ge(e,"mousedown",this._onTapStart),ge(e,"touchstart",this._onTapStart)),this.nativeDraggable&&(ge(e,"dragover",this),ge(e,"dragenter",this)),N.push(this.el),t.store&&t.store.get&&this.sort(t.store.get(this)||[])}function fe(e,t,n,o){if(e){n=n||R;do{if(null!=t&&(">"===t[0]&&e.parentNode===n&&Me(e,t.substring(1))||Me(e,t))||o&&e===n)return e;if(e===n)break}while(e=me(e))}return null}function me(e){return e.host&&e!==R&&e.host.nodeType?e.host:e.parentNode}function ge(e,t,n){e.addEventListener(t,n,Y)}function ve(e,t,n){e.removeEventListener(t,n,Y)}function be(e,t,n){if(e&&t)if(e.classList)e.classList[n?"add":"remove"](t);else{var o=(" "+e.className+" ").replace(L," ").replace(" "+t+" "," ");e.className=(o+(n?" "+t:"")).replace(L," ")}}function ye(e,t,n){var o=e&&e.style;if(o){if(void 0===n)return R.defaultView&&R.defaultView.getComputedStyle?n=R.defaultView.getComputedStyle(e,""):e.currentStyle&&(n=e.currentStyle),void 0===t?n:n[t];t in o||-1!==t.indexOf("webkit")||(t="-webkit-"+t),o[t]=n+("string"==typeof n?"":"px")}}function we(e){var t="";do{var n=ye(e,"transform");n&&"none"!==n&&(t=n+" "+t)}while(e=e.parentNode);return window.DOMMatrix?new DOMMatrix(t):window.WebKitCSSMatrix?new WebKitCSSMatrix(t):window.CSSMatrix?new CSSMatrix(t):void 0}function _e(e,t,n){if(e){var o=e.getElementsByTagName(t),r=0,i=o.length;if(n)for(;r<i;r++)n(o[r],r);return o}return[]}function xe(e,t,n,o,r,i,a,s,c,d){var u,h=(e=e||t[q]).options,p="on"+n.charAt(0).toUpperCase()+n.substr(1);if(!window.CustomEvent||U||z?(u=R.createEvent("Event")).initEvent(n,!0,!0):u=new CustomEvent(n,{bubbles:!0,cancelable:!0}),u.to=r||t,u.from=i||t,u.item=o||t,u.items=P||[],u.clone=l,u.clones=D||[],u.oldIndex=a,u.newIndex=s,u.originalEvent=c,d)for(var f in d)u[f]=d[f];t&&t.dispatchEvent(u),h[p]&&h[p].call(e,u)}function Se(e,t,n,o,r,i,a,l){var s,c,d=e[q],u=d.options.onMove;return!window.CustomEvent||U||z?(s=R.createEvent("Event")).initEvent("move",!0,!0):s=new CustomEvent("move",{bubbles:!0,cancelable:!0}),s.to=t,s.from=e,s.dragged=n,s.draggedRect=o,s.related=r||t,s.relatedRect=i||Le(t),s.willInsertAfter=l,s.originalEvent=a,e.dispatchEvent(s),u&&(c=u.call(d,s,a)),c}function Ae(e){e.draggable=!1}function Ee(){G=!1}function Ce(t,o,r){for(var i=0,a=0,l=t.children;a<l.length;){if("none"!==l[a].style.display&&l[a]!==n&&l[a]!==e&&fe(l[a],r.draggable,t,!1)){if(i===o)return l[a];i++}a++}return null}function De(e){for(var t=e.lastElementChild;(t===n||"none"===t.style.display)&&(t=t.previousElementSibling););return t||null}function Te(e){for(var t=e.tagName+e.className+e.src+e.href+e.textContent,n=t.length,o=0;n--;)o+=t.charCodeAt(n);return o.toString(36)}function ke(e){var t=0;if(!e||!e.parentNode)return-1;for(;e&&(e=e.previousElementSibling);)"TEMPLATE"!==e.nodeName.toUpperCase()&&e!==l&&t++;return t}function Me(e,t){if(e)try{if(e.matches)return e.matches(t);if(e.msMatchesSelector)return e.msMatchesSelector(t);if(e.webkitMatchesSelector)return e.webkitMatchesSelector(t)}catch(e){return!1}return!1}function Oe(e,t){return function(){if(!ue){var n=arguments,o=this;ue=H((function(){1===n.length?e.call(o,n[0]):e.apply(o,n),ue=void 0}),t)}}}function Ne(e,t){if(e&&t)for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}function Pe(e){return F&&F.dom?F.dom(e).cloneNode(!0):$?$(e).clone(!0)[0]:e.cloneNode(!0)}function je(e){return H(e,0)}function Ie(e){return clearTimeout(e)}function Le(e,t,n){if(e.getBoundingClientRect||e===X){var o,r,i,a,l,s,c;if(e!==X&&e!==ne()?(r=(o=e.getBoundingClientRect()).top,i=o.left,a=o.bottom,l=o.right,s=o.height,c=o.width):(r=0,i=0,a=window.innerHeight,l=window.innerWidth,s=window.innerHeight,c=window.innerWidth),n&&e!==X){if(t=t||e.parentNode,!U)do{if(t&&t.getBoundingClientRect&&"none"!==ye(t,"transform")){var d=t.getBoundingClientRect();r-=d.top+B(ye(t,"border-top-width")),i-=d.left+B(ye(t,"border-left-width")),a=r+o.height,l=i+o.width;break}}while(t=t.parentNode);var u=we(e),h=u&&u.a,p=u&&u.d;u&&(a=(r/=p)+(s/=p),l=(i/=h)+(c/=h))}return{top:r,left:i,bottom:a,right:l,width:c,height:s}}}function qe(e,t){for(var n=te(e,!0),o=Le(e)[t];n;){var r=Le(n)[t];if(!("top"===t||"left"===t?o>=r:o<=r))return n;if(n===ne())break;n=te(n,!1)}return!1}function Xe(e){for(var t=e?D:P,n=0;n<t.length;n++){var r=o.children[t[n].sortableIndex];r?o.insertBefore(t[n],r):o.appendChild(t[n])}}function Re(){for(var t=0;t<P.length;t++)P[t]!==e&&P[t].parentNode&&P[t].parentNode.removeChild(P[t])}return pe.prototype={constructor:pe,_isOutsideThisEl:function(e){this.el.contains(e)||e===this.el||(A=null)},_getDirection:function(t,n){return"function"==typeof this.options.direction?this.options.direction.call(this,t,n,e):this.options.direction},_onTapStart:function(t){if(t.cancelable){var n,o=this,r=this.el,a=this.options,l=a.preventOnFilter,s=t.type,c=t.touches&&t.touches[0],d=(c||t).target,u=t.target.shadowRoot&&(t.path&&t.path[0]||t.composedPath&&t.composedPath()[0])||d,h=a.filter;if(function(e){Z.length=0;for(var t=e.getElementsByTagName("input"),n=t.length;n--;){var o=t[n];o.checked&&Z.push(o)}}(r),(!U||t.artificialBubble||se(r,d))&&!e&&!(/mousedown|pointerdown/.test(s)&&0!==t.button||a.disabled||u.isContentEditable))if(d=fe(d,a.draggable,r,!1)){if(i!==d){if(n=ke(d),"function"==typeof h){if(h.call(this,t,u,this))return xe(o,u,"filter",d,r,r,n),void(l&&t.cancelable&&t.preventDefault())}else if(h&&(h=h.split(",").some((function(e){if(e=fe(u,e.trim(),r,!1))return xe(o,e,"filter",d,r,r,n),!0}))))return void(l&&t.cancelable&&t.preventDefault());a.handle&&!fe(u,a.handle,r,!1)||this._prepareDragStart(t,c,d,n)}}else U&&ce(r,t,"_onTapStart")}},_handleAutoScroll:function(t,n){if(e&&this.options.scroll){var o=t.clientX,r=t.clientY,i=R.elementFromPoint(o,r),a=this;if(n||z||U){ie(t,a.options,i,n);var l=te(i,!0);!k||g&&o===v&&r===b||(g&&clearInterval(g),g=setInterval((function(){if(e){var i=te(R.elementFromPoint(o,r),!0);i!==l&&(l=i,ae(),ie(t,a.options,l,n))}}),10),v=o,b=r)}else{if(!a.options.bubbleScroll||te(i,!0)===ne())return void ae();ie(t,a.options,te(i,!1),!1)}}},_prepareDragStart:function(n,a,l,s){var c,d=this,u=d.el,p=d.options,m=u.ownerDocument;l&&!e&&l.parentNode===u&&(o=u,t=(e=l).parentNode,r=e.nextSibling,i=l,f=p.group,h=s,_={target:e,clientX:(a||n).clientX,clientY:(a||n).clientY},this._lastX=(a||n).clientX,this._lastY=(a||n).clientY,e.style["will-change"]="all",e.style.transition="",e.style.transform="",c=function(){d._disableDelayedDrag(),e.draggable=d.nativeDraggable,d._triggerDragStart(n,a),xe(d,o,"choose",e,o,o,h),be(e,p.chosenClass,!0)},p.ignore.split(",").forEach((function(t){_e(e,t.trim(),Ae)})),p.supportPointer?ge(m,"pointerup",d._onDrop):(ge(m,"mouseup",d._onDrop),ge(m,"touchend",d._onDrop),ge(m,"touchcancel",d._onDrop)),p.delay?(ge(m,"mouseup",d._disableDelayedDrag),ge(m,"touchend",d._disableDelayedDrag),ge(m,"touchcancel",d._disableDelayedDrag),ge(m,"mousemove",d._delayedDragTouchMoveHandler),ge(m,"touchmove",d._delayedDragTouchMoveHandler),p.supportPointer&&ge(m,"pointermove",d._delayedDragTouchMoveHandler),d._dragStartTimer=H(c,p.delay)):c())},_delayedDragTouchMoveHandler:function(e){var t=e.touches?e.touches[0]:e;Q(V(t.clientX-this._lastX),V(t.clientY-this._lastY))>=this.options.touchStartThreshold&&this._disableDelayedDrag()},_disableDelayedDrag:function(){var e=this.el.ownerDocument;clearTimeout(this._dragStartTimer),ve(e,"mouseup",this._disableDelayedDrag),ve(e,"touchend",this._disableDelayedDrag),ve(e,"touchcancel",this._disableDelayedDrag),ve(e,"mousemove",this._delayedDragTouchMoveHandler),ve(e,"touchmove",this._delayedDragTouchMoveHandler),ve(e,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(t,n){n=n||("touch"==t.pointerType?t:null),!this.nativeDraggable||n?this.options.supportPointer?ge(R,"pointermove",this._onTouchMove):ge(R,n?"touchmove":"mousemove",this._onTouchMove):(ge(e,"dragend",this),ge(o,"dragstart",this._onDragStart));try{R.selection?je((function(){R.selection.empty()})):window.getSelection().removeAllRanges()}catch(e){}},_dragStarted:function(t){if(M=!1,o&&e){this.nativeDraggable&&(ge(R,"dragover",this._handleAutoScroll),ge(R,"dragover",he));var n=this.options;!t&&be(e,n.dragClass,!1),be(e,n.ghostClass,!0),ye(e,"transform",""),pe.active=this,t&&this._appendGhost(),xe(this,o,"start",e,o,o,h)}else this._nulling()},_emulateDragOver:function(t){if(x){if(this._lastX===x.clientX&&this._lastY===x.clientY&&!t)return;this._lastX=x.clientX,this._lastY=x.clientY,!K&&n&&ye(n,"display","none");for(var o=R.elementFromPoint(x.clientX,x.clientY),r=o;o&&o.shadowRoot;)r=o=o.shadowRoot.elementFromPoint(x.clientX,x.clientY);if(e.parentNode[q]._isOutsideThisEl(o),r)do{if(r[q]&&r[q]._onDragOver({clientX:x.clientX,clientY:x.clientY,target:o,rootEl:r})&&!this.options.dragoverBubble)break;o=r}while(r=r.parentNode);!K&&n&&ye(n,"display","")}},_onTouchMove:function(e){if(_){var t=this.options,o=t.fallbackTolerance,r=t.fallbackOffset,i=e.touches?e.touches[0]:e,a=n&&we(n),l=n&&a&&a.a,s=n&&a&&a.d,c=(i.clientX-_.clientX+r.x)/(l||1),d=(i.clientY-_.clientY+r.y)/(s||1),u=e.touches?"translate3d("+c+"px,"+d+"px,0)":"translate("+c+"px,"+d+"px)";if(!pe.active&&!M){if(o&&Q(V(i.clientX-this._lastX),V(i.clientY-this._lastY))<o)return;this._onDragStart(e,!0)}this._handleAutoScroll(i,!0),x=i,ye(n,"webkitTransform",u),ye(n,"mozTransform",u),ye(n,"msTransform",u),ye(n,"transform",u),e.cancelable&&e.preventDefault()}},_appendGhost:function(){if(!n){var t=Le(e,this.options.fallbackOnBody?R.body:o,!0),r=(ye(e),this.options);be(n=e.cloneNode(!0),r.ghostClass,!1),be(n,r.fallbackClass,!0),be(n,r.dragClass,!0),ye(n,"box-sizing","border-box"),ye(n,"margin",0),ye(n,"top",t.top),ye(n,"left",t.left),ye(n,"width",t.width),ye(n,"height",t.height),ye(n,"opacity","0.8"),ye(n,"position","fixed"),ye(n,"zIndex","100000"),ye(n,"pointerEvents","none"),r.fallbackOnBody&&R.body.appendChild(n)||o.appendChild(n)}},_onDragStart:function(t,n){var r=this,i=t.dataTransfer,s=r.options;for(var c in a=e,!~P.indexOf(e)&&w&&w[q]._deselectMultiDrag(),P)P[c].sortableIndex=ke(P[c]);if((P=P.sort((function(e,t){return e.sortableIndex-t.sortableIndex}))).length)for(c=0;c<P.length;c++)D.push(Pe(P[c])),D[c].sortableIndex=P[c].sortableIndex,D[c].draggable=!1,D[c].style["will-change"]="",be(D[c],r.options.selectedClass,!1),P[c]===e&&be(D[c],r.options.chosenClass,!1);else(l=Pe(e)).draggable=!1,l.style["will-change"]="",be(l,r.options.chosenClass,!1);this._hideClone(),r._cloneId=je((function(){r.options.sort&&Re(),r.options.removeCloneOnHide||(s.multiDrag?Xe(!0):o.insertBefore(l,e)),xe(r,o,"clone",e)})),!n&&be(e,s.dragClass,!0),n?(O=!0,r._loopId=setInterval(r._emulateDragOver,50)):(ve(R,"mouseup",r._onDrop),ve(R,"touchend",r._onDrop),ve(R,"touchcancel",r._onDrop),i&&(i.effectAllowed="move",s.setData&&s.setData.call(r,i,e)),ge(R,"drop",r),ye(e,"transform","translateZ(0)")),M=!0,r._dragStartId=je(r._dragStarted.bind(r,n)),ge(R,"selectstart",r),S=!0},_onDragOver:function(i){var l,s,c,d=this.el,u=i.target,p=this.options,g=p.group,v=pe.active,b=f===g,y=p.sort,w=this;if(!G&&(!U||i.rootEl||i.artificialBubble||se(d,u))){if(void 0!==i.preventDefault&&i.cancelable&&i.preventDefault(),u=fe(u,p.draggable,d,!0),fe(i.target,null,e,!0)||u.animated)return!0;if(u!==e&&(O=!1),v&&!p.disabled&&(b?y||(c=!o.contains(e)):m===this||(this.lastPutMode=f.checkPull(this,v,e,i))&&g.checkPut(this,v,e,i))){var _=this._getDirection(i,u);if(l=Le(e),p.swap){if(u&&u!==d){var x=a;!1!==Se(o,d,e,l,u,Le(u),i,!1)?(be(u,p.swapClass,!0),a=u):a=null,x&&x!==a&&be(x,p.swapClass,!1)}return F(),$()}if(c)return t=o,this._hideClone(),P.length?Xe():r?o.insertBefore(e,r):o.appendChild(e),$();if(0===d.children.length||d.children[0]===n||function(e,t,n){var o=Le(De(n)),r="vertical"===t?e.clientY:e.clientX,i="vertical"===t?e.clientX:e.clientY,a="vertical"===t?o.bottom:o.right,l="vertical"===t?o.left:o.top,s="vertical"===t?o.right:o.bottom,c=10;return"vertical"===t?i>s+c||i<=s&&r>a&&i>=l:r>a&&i>l||r<=a&&i>s+c}(i,_,d)&&!e.animated){if(0!==d.children.length&&d.children[0]!==n&&d===i.target&&(u=De(d)),u&&(s=Le(u)),!1!==Se(o,d,e,l,u,s,i,!!u))return d.appendChild(e),t=d,F(),this._animate(l,e),u&&this._animate(s,u),$()}else if(u&&u!==e&&u.parentNode===d){var S,D,T=e.parentNode!==d,k="vertical"===_?"top":"left",M=qe(u,k)||qe(e,k),N=M&&(M?oe(M)[1]:void 0);if(A!==u&&(D=Le(u)[k],j=!1,I=p.invertSwap||T),0===(S=function(t,n,o,r,i,a,l){var s=Le(n),c="vertical"===o?t.clientY:t.clientX,d="vertical"===o?s.height:s.width,u="vertical"===o?s.top:s.left,h="vertical"===o?s.bottom:s.right,p=Le(e),f=!1;if(!a)if(l&&C<d*r){if(!j&&(1===E?c>u+d*i/2:c<h-d*i/2)&&(j=!0),j)f=!0;else if("vertical"===o?p.top:p.left,"vertical"===o?p.bottom:p.right,1===E?c<u+C:c>h-C)return-1*E}else if(c>u+d*(1-r)/2&&c<h-d*(1-r)/2)return function(t,n){var o=ke(e),r=ke(t);return o<r?1:-1}(n);return(f=f||a)&&(c<u+d*i/2||c>h-d*i/2)?c>u+d/2?1:-1:0}(i,u,_,p.swapThreshold,null==p.invertedSwapThreshold?p.swapThreshold:p.invertedSwapThreshold,I,A===u)))return $();A=u,E=S,s=Le(u);var L=u.nextElementSibling,X=!1,B=Se(o,d,e,l,u,s,i,X=1===S);if(!1!==B)return 1!==B&&-1!==B||(X=1===B),G=!0,H(Ee,30),X&&!L?d.appendChild(e):u.parentNode.insertBefore(e,X?L:u),M&&re(M,0,N-oe(M)[1]),t=e.parentNode,void 0===D||I||(C=V(D-Le(u)[k])),F(),!T&&this._animate(s,u),this._animate(l,e),$()}if(d.contains(e))return $()}return U&&!i.rootEl&&ce(d,i,"_onDragOver"),!1}function $(){return b?v._hideClone():(Re(),v._showClone(w)),v&&(be(e,m?m.options.ghostClass:v.options.ghostClass,!1),be(e,p.ghostClass,!0)),m!==w&&w!==pe.active?m=w:w===pe.active&&(m=null),(u===e&&!e.animated||u===d&&!u.animated)&&(A=null),p.dragoverBubble||i.rootEl||u===R||(w._handleAutoScroll(i),e.parentNode[q]._isOutsideThisEl(i.target)),!p.dragoverBubble&&i.stopPropagation&&i.stopPropagation(),!0}function F(){xe(w,o,"change",u,d,o,h,ke(a||e),i)}},_animate:function(e,t){var n=this.options.animation;if(n){var o=Le(t);if(1===e.nodeType&&(e=Le(e)),e.left+e.width/2!==o.left+o.width/2||e.top+e.height/2!==o.top+o.height/2){var r=we(this.el),i=r&&r.a,a=r&&r.d;ye(t,"transition","none"),ye(t,"transform","translate3d("+(e.left-o.left)/(i||1)+"px,"+(e.top-o.top)/(a||1)+"px,0)"),t.offsetWidth,ye(t,"transition","transform "+n+"ms"+(this.options.easing?" "+this.options.easing:"")),ye(t,"transform","translate3d(0,0,0)")}"number"==typeof t.animated&&clearTimeout(t.animated),t.animated=H((function(){ye(t,"transition",""),ye(t,"transform",""),t.animated=!1}),n)}},_offUpEvents:function(){var e=this.el.ownerDocument;ve(R,"touchmove",this._onTouchMove),ve(R,"pointermove",this._onTouchMove),ve(e,"mouseup",this._onDrop),ve(e,"touchend",this._onDrop),ve(e,"pointerup",this._onDrop),ve(e,"touchcancel",this._onDrop),ve(R,"selectstart",this)},_deselectMultiDrag:function(e){if(!(w!==this.el||e&&fe(e.target,this.options.draggable,this.el,!1))){for(var t=0;t<P.length;t++)be(P[t],this.options.selectedClass,!1);P=[]}},_onDrop:function(i){var s,c,d,u,f,v,b,_,x=this.el,A=this.options;if(M=!1,k=!1,I=!1,j=!1,clearInterval(this._loopId),clearInterval(g),ae(),clearTimeout(ue),ue=void 0,clearTimeout(this._dragStartTimer),Ie(this._cloneId),Ie(this._dragStartId),ve(R,"mousemove",this._onTouchMove),this.nativeDraggable&&(ve(R,"drop",this),ve(x,"dragstart",this._onDragStart),ve(R,"dragover",this._handleAutoScroll)),this._offUpEvents(),a&&be(a,A.swapClass,!1),a&&(A.swap||m&&m.options.swap)&&e!==a){var E=Le(e),C=Le(a);u=a,b=(d=e).parentNode,_=u.parentNode,b&&_&&!b.isEqualNode(u)&&!_.isEqualNode(d)&&(f=ke(d),v=ke(u),b.isEqualNode(_)&&f<v&&v++,b.insertBefore(u,b.children[f]),_.insertBefore(d,_.children[v])),this._animate(E,e),this._animate(C,a)}if(!S&&A.multiDrag)if(be(e,A.selectedClass,!~P.indexOf(e)),~P.indexOf(e))P.splice(P.indexOf(e),1),y=null;else{if(P.push(e),e.sortableIndex=ke(e),i.shiftKey&&y&&this.el.contains(y)){var D=ke(y),T=ke(e);if(~D&&~T&&D!==T){var O=t.children;for(T>D?(s=D+1,c=T):(s=T+1,c=D);s<c;s++)~P.indexOf(O[s])||(O[s].sortableIndex=ke(O[s]),be(O[s],A.selectedClass,!0),P.push(O[s]))}}y=e,w=t}if(S&&A.multiDrag&&P.length){if(t[q].options.sort){ke(e);var N=Le(e);for(t.insertBefore(P[0],e),P[0]!==e&&t.removeChild(e),s=1;s<P.length;s++)P[s-1].nextSibling?t.insertBefore(P[s],P[s-1].nextSibling):t.appendChild(P[s]),this._animate(N,P[s])}w=t}i&&(S&&(i.cancelable&&i.preventDefault(),!A.dropBubble&&i.stopPropagation()),n&&n.parentNode&&n.parentNode.removeChild(n),(o===t||m&&"clone"!==m.lastPutMode)&&l&&l.parentNode&&l.parentNode.removeChild(l),e&&(this.nativeDraggable&&ve(e,"dragend",this),Ae(e),e.style["will-change"]="",S&&!M&&be(e,m?m.options.ghostClass:this.options.ghostClass,!1),be(e,this.options.chosenClass,!1),xe(this,o,"unchoose",e,t,o,h,null,i),o!==t?((p=ke(e))>=0&&(xe(null,t,"add",e,t,o,h,p,i),xe(this,o,"remove",e,t,o,h,p,i),xe(null,t,"sort",e,t,o,h,p,i),xe(this,o,"sort",e,t,o,h,p,i)),m&&m.save()):(p=ke(e),e.nextSibling!==r&&p>=0&&(xe(this,o,"update",e,t,o,h,p,i),xe(this,o,"sort",e,t,o,h,p,i))),pe.active&&(null!=p&&-1!==p||(p=h),A.swap&&a?xe(this,o,"end",e,t,o,h,p,i,{swapItem:a}):xe(this,o,"end",e,t,o,h,p,i),this.save()))),this._nulling()},_nulling:function(){o=e=t=n=r=l=i=a=c=d=T.length=g=v=b=_=x=S=p=h=A=E=m=f=pe.active=null,Z.forEach((function(e){e.checked=!0})),Z.length=D.length=0},handleEvent:function(t){switch(t.type){case"drop":case"dragend":this._onDrop(t);break;case"dragenter":case"dragover":e&&(this._onDragOver(t),function(e){e.dataTransfer&&(e.dataTransfer.dropEffect="move"),e.cancelable&&e.preventDefault()}(t));break;case"selectstart":t.preventDefault()}},toArray:function(){for(var e,t=[],n=this.el.children,o=0,r=n.length,i=this.options;o<r;o++)fe(e=n[o],i.draggable,this.el,!1)&&t.push(e.getAttribute(i.dataIdAttr)||Te(e));return t},sort:function(e){var t={},n=this.el;this.toArray().forEach((function(e,o){var r=n.children[o];fe(r,this.options.draggable,n,!1)&&(t[e]=r)}),this),e.forEach((function(e){t[e]&&(n.removeChild(t[e]),n.appendChild(t[e]))}))},save:function(){var e=this.options.store;e&&e.set&&e.set(this)},closest:function(e,t){return fe(e,t||this.options.draggable,this.el,!1)},option:function(e,t){var n=this.options;if(void 0===t)return n[e];n[e]=t,"group"===e&&le(n)},destroy:function(){var e=this.el;e[q]=null,ve(e,"mousedown",this._onTapStart),ve(e,"touchstart",this._onTapStart),ve(e,"pointerdown",this._onTapStart),this.nativeDraggable&&(ve(e,"dragover",this),ve(e,"dragenter",this)),Array.prototype.forEach.call(e.querySelectorAll("[draggable]"),(function(e){e.removeAttribute("draggable")})),this._onDrop(),N.splice(N.indexOf(this.el),1),this.el=e=null},_hideClone:function(){if(!s){for(var e=0;e<(D.length||1);e++){var t=D[e];t||(t=l),ye(t,"display","none"),this.options.removeCloneOnHide&&t.parentNode&&t.parentNode.removeChild(t)}s=!0}},_showClone:function(t){if("clone"===t.lastPutMode){if(s){if(D.length){Xe(!0);for(var n=0;n<D.length;n++)ye(D[n],"display","")}else o.contains(e)&&!this.options.group.revertClone?o.insertBefore(l,e):r?o.insertBefore(l,r):o.appendChild(l),this.options.group.revertClone&&this._animate(e,l),ye(l,"display","");s=!1}}else this._hideClone()}},ge(R,"touchmove",(function(e){(pe.active||M)&&e.cancelable&&e.preventDefault()})),pe.utils={on:ge,off:ve,css:ye,find:_e,is:function(e,t){return!!fe(e,t,e,!1)},extend:Ne,throttle:Oe,closest:fe,toggleClass:be,clone:Pe,index:ke,nextTick:je,cancelNextTick:Ie,detectDirection:ee,getChild:Ce},pe.create=function(e,t){return new pe(e,t)},pe.version="1.8.3",pe},e.exports=t()}(Yn={exports:{}},Yn.exports),Yn.exports);In('.userans_status{top:0;right:0}.matchlist_item{height:90px;float:left;border:1px solid #dee2e6}.choose_bottom{background-color:#d9e7fd}#choose{width:668px;max-width:668px}.choose_header{background:#d9e7fd;border-top:2px solid #96bbf6;padding:7px 7px 7px 20px}.choose_body{border-left:10px solid #d9e7fd;border-right:10px solid #d9e7fd}.isreviewbgcolor{background:#edf2fc}[tabindex="0"]:focus{box-shadow:0 0 0 .09rem #89ace4!important;outline:0}.sortable-ghost{box-shadow:0 0 0 .09rem #6e99df!important}.width10{width:90%}.light-cyan-bg{background-color:#d4e4ff;color:#333}.width80{width:80px}.width200{width:200px}.add_cat_btn{transform:rotate(270deg)}.width109{width:109px}.width94{width:94px}.top1{top:1px}');const{document:zn}=R;function Jn(e,t,n){const o=e.slice();return o[27]=t[n],o[29]=n,o}function Wn(e,t,n){const o=e.slice();return o[27]=t[n],o[29]=n,o}function Kn(e){let t,n=e[1].correctxmlarray,o=[];for(let t=0;t<n.length;t+=1)o[t]=to(Wn(e,n,t));return{c(){for(let e=0;e<o.length;e+=1)o[e].c();t=f()},m(e,n){for(let t=0;t<o.length;t+=1)o[t].m(e,n);s(e,t,n)},p(e,r){if(35&r){let i;for(n=e[1].correctxmlarray,i=0;i<n.length;i+=1){const a=Wn(e,n,i);o[i]?o[i].p(a,r):(o[i]=to(a),o[i].c(),o[i].m(t.parentNode,t))}for(;i<o.length;i+=1)o[i].d(1);o.length=n.length}},d(e){d(o,e),e&&c(t)}}}function Gn(e){let t,n,o=e[27].value+"";return{c(){t=u("div"),n=h(o),g(t,"class","position-absolute w-100"),b(t,"top","30%"),b(t,"left","0"),b(t,"right","0")},m(e,o){s(e,t,o),l(t,n)},p(e,t){2&t&&o!==(o=e[27].value+"")&&v(n,o)},d(e){e&&c(t)}}}function Vn(e){let t,n,o;return{c(){t=u("img"),b(t,"height","70px"),b(t,"width","100%"),b(t,"object-fit","contain"),g(t,"class","px-2"),t.src!==(n="//s3.amazonaws.com/jigyaasa_content_static/"+e[27].value.split("##")[0].slice(1))&&g(t,"src",n),g(t,"alt",o=e[27].value.split("##")[1]?e[27].value.split("##")[1]:null)},m(e,n){s(e,t,n)},p(e,r){2&r&&t.src!==(n="//s3.amazonaws.com/jigyaasa_content_static/"+e[27].value.split("##")[0].slice(1))&&g(t,"src",n),2&r&&o!==(o=e[27].value.split("##")[1]?e[27].value.split("##")[1]:null)&&g(t,"alt",o)},d(e){e&&c(t)}}}function Qn(e){let t,n;function o(e,n){return(null==t||2&n)&&(t=!("*"!=e[27].value.charAt(1))),t?eo:"!undefined"!=e[27].value?Zn:void 0}let r=o(e,-1),i=r&&r(e);return{c(){i&&i.c(),n=f()},m(e,t){i&&i.m(e,t),s(e,n,t)},p(e,t){r===(r=o(e,t))&&i?i.p(e,t):(i&&i.d(1),i=r&&r(e),i&&(i.c(),i.m(n.parentNode,n)))},d(e){i&&i.d(e),e&&c(n)}}}function Zn(e){let t,n,o=e[27].value.slice(1)+"";return{c(){t=u("div"),n=h(o),g(t,"class","position-absolute w-100"),b(t,"top","30%"),b(t,"left","0"),b(t,"right","0")},m(e,o){s(e,t,o),l(t,n)},p(e,t){2&t&&o!==(o=e[27].value.slice(1)+"")&&v(n,o)},d(e){e&&c(t)}}}function eo(e){let t,n,o;return{c(){t=u("img"),b(t,"height","70px"),b(t,"width","100%"),b(t,"object-fit","contain"),g(t,"class","px-2"),t.src!==(n="//s3.amazonaws.com/jigyaasa_content_static/"+e[27].value.split("!")[1].split("##")[0].slice(1))&&g(t,"src",n),g(t,"alt",o=e[27].value.split("##")[1]?e[27].value.split("##")[1]:null)},m(e,n){s(e,t,n)},p(e,r){2&r&&t.src!==(n="//s3.amazonaws.com/jigyaasa_content_static/"+e[27].value.split("!")[1].split("##")[0].slice(1))&&g(t,"src",n),2&r&&o!==(o=e[27].value.split("##")[1]?e[27].value.split("##")[1]:null)&&g(t,"alt",o)},d(e){e&&c(t)}}}function to(e){let t,n,o,r,i,d,h,f,m,v,y;function w(e,t){return(null==n||2&t)&&(n=!("!"!=e[27].value.charAt(0))),n?Qn:((null==o||2&t)&&(o=!("*"!=e[27].value.charAt(0))),o?Vn:Gn)}let _=w(e,-1),x=_(e);return{c(){t=u("li"),x.c(),r=p(),g(t,"tabindex",i=1==e[27].ischecked?"-1":"0"),g(t,"id",d="p"+e[29]),g(t,"name",h=e[29]),g(t,"key",f="p"+e[29]),g(t,"data-optid",m=e[29]),g(t,"data-ischecked",v=e[27].ischecked),g(t,"class",y=a("matchlist_item "+(1==e[0]?"drag-none ":"")+(fo(e[27].value)?" bg-primary text-white":"")+" position-relative ui-draggable m-0 overflow-auto multiGrid")+" svelte-8s9lqe"),b(t,"width",e[5])},m(e,n){s(e,t,n),x.m(t,null),l(t,r)},p(e,n){_===(_=w(e,n))&&x?x.p(e,n):(x.d(1),x=_(e),x&&(x.c(),x.m(t,r))),2&n&&i!==(i=1==e[27].ischecked?"-1":"0")&&g(t,"tabindex",i),2&n&&v!==(v=e[27].ischecked)&&g(t,"data-ischecked",v),3&n&&y!==(y=a("matchlist_item "+(1==e[0]?"drag-none ":"")+(fo(e[27].value)?" bg-primary text-white":"")+" position-relative ui-draggable m-0 overflow-auto multiGrid")+" svelte-8s9lqe")&&g(t,"class",y),32&n&&b(t,"width",e[5])},d(e){e&&c(t),x.d()}}}function no(e){let t;function n(e,t){return 1==e[27].iscorrect?ro:oo}let o=n(e),r=o(e);return{c(){t=u("div"),r.c(),g(t,"class","text-end pe-1 w-100 positionSticky svelte-8s9lqe")},m(e,n){s(e,t,n),r.m(t,null)},p(e,i){o!==(o=n(e))&&(r.d(1),r=o(e),r&&(r.c(),r.m(t,null)))},d(e){e&&c(t),r.d()}}}function oo(e){let t;return{c(){t=u("i"),g(t,"class","icomoon-new-24px-cancel-circle-1 s4 text-danger userans_status float-right")},m(e,n){s(e,t,n)},d(e){e&&c(t)}}}function ro(e){let t;return{c(){t=u("i"),g(t,"class","icomoon-new-24px-checkmark-circle-1 s4 text-success userans_status float-right")},m(e,n){s(e,t,n)},d(e){e&&c(t)}}}function io(e){let t,n,o=e[27].value+"";return{c(){t=u("div"),n=h(o),g(t,"class","position-absolute w-100"),b(t,"top","30%"),b(t,"left","0"),b(t,"right","0")},m(e,o){s(e,t,o),l(t,n)},p(e,t){2&t&&o!==(o=e[27].value+"")&&v(n,o)},d(e){e&&c(t)}}}function ao(e){let t,n,o,r;return{c(){t=u("img"),g(t,"img_val",n=e[27].value),b(t,"height","70px"),b(t,"width","100%"),b(t,"object-fit","contain"),g(t,"class","px-2"),t.src!==(o="//s3.amazonaws.com/jigyaasa_content_static/"+e[27].value.split("##")[0].slice(1))&&g(t,"src",o),g(t,"alt",r=e[27].value.split("##")[1]?e[27].value.split("##")[1]:null)},m(e,n){s(e,t,n)},p(e,i){2&i&&n!==(n=e[27].value)&&g(t,"img_val",n),2&i&&t.src!==(o="//s3.amazonaws.com/jigyaasa_content_static/"+e[27].value.split("##")[0].slice(1))&&g(t,"src",o),2&i&&r!==(r=e[27].value.split("##")[1]?e[27].value.split("##")[1]:null)&&g(t,"alt",r)},d(e){e&&c(t)}}}function lo(e){let t,n;function o(e,n){return(null==t||2&n)&&(t=!("*"!=e[27].value.charAt(1))),t?co:"!undefined"!=e[27].value?so:void 0}let r=o(e,-1),i=r&&r(e);return{c(){i&&i.c(),n=f()},m(e,t){i&&i.m(e,t),s(e,n,t)},p(e,t){r===(r=o(e,t))&&i?i.p(e,t):(i&&i.d(1),i=r&&r(e),i&&(i.c(),i.m(n.parentNode,n)))},d(e){i&&i.d(e),e&&c(n)}}}function so(e){let t,n,o=e[27].value.slice(1)+"";return{c(){t=u("div"),n=h(o),g(t,"class","position-absolute w-100"),b(t,"top","30%"),b(t,"left","0"),b(t,"right","0")},m(e,o){s(e,t,o),l(t,n)},p(e,t){2&t&&o!==(o=e[27].value.slice(1)+"")&&v(n,o)},d(e){e&&c(t)}}}function co(e){let t,n,o,r;return{c(){t=u("img"),g(t,"img_val",n=e[27].value),b(t,"height","70px"),b(t,"width","100%"),b(t,"object-fit","contain"),g(t,"class","px-2"),t.src!==(o="//s3.amazonaws.com/jigyaasa_content_static/"+e[27].value.split("!")[1].split("##")[0].slice(1))&&g(t,"src",o),g(t,"alt",r=e[27].value.split("##")[1]?e[27].value.split("##")[1]:null)},m(e,n){s(e,t,n)},p(e,i){2&i&&n!==(n=e[27].value)&&g(t,"img_val",n),2&i&&t.src!==(o="//s3.amazonaws.com/jigyaasa_content_static/"+e[27].value.split("!")[1].split("##")[0].slice(1))&&g(t,"src",o),2&i&&r!==(r=e[27].value.split("##")[1]?e[27].value.split("##")[1]:null)&&g(t,"alt",r)},d(e){e&&c(t)}}}function uo(e){let t,n,o,r,i,d,h,f,v,y,w,_,x,S,A="block"==e[3]&&1==e[4]&&0==e[27].ischecked&&no(e);function E(e,t){return(null==o||2&t)&&(o=!("!"!=e[27].value.charAt(0))),o?lo:((null==r||2&t)&&(r=!("*"!=e[27].value.charAt(0))),r?ao:io)}let C=E(e,-1),D=C(e);return{c(){t=u("li"),A&&A.c(),n=p(),D.c(),i=p(),g(t,"tabindex",d=1==e[27].ischecked?"-1":"0"),g(t,"id",h="p"+e[29]),g(t,"name",f=e[29]),g(t,"key",v="p"+e[29]),g(t,"data-optid",y=e[29]),g(t,"data-ischecked",w=e[27].ischecked),g(t,"class",_=a("matchlist_item "+(0==e[4]?"d-none":"")+(e[0]?" isreviewbgcolor drag-none ":"")+(1==e[27].ischecked?" bg-primary text-white":"")+" position-relative ui-draggable m-0 overflow-auto multiGrid")+" svelte-8s9lqe"),b(t,"width",e[5])},m(o,r){s(o,t,r),A&&A.m(t,null),l(t,n),D.m(t,null),l(t,i),x||(S=m(t,"keydown",e[10]),x=!0)},p(e,o){"block"==e[3]&&1==e[4]&&0==e[27].ischecked?A?A.p(e,o):(A=no(e),A.c(),A.m(t,n)):A&&(A.d(1),A=null),C===(C=E(e,o))&&D?D.p(e,o):(D.d(1),D=C(e),D&&(D.c(),D.m(t,i))),2&o&&d!==(d=1==e[27].ischecked?"-1":"0")&&g(t,"tabindex",d),2&o&&w!==(w=e[27].ischecked)&&g(t,"data-ischecked",w),19&o&&_!==(_=a("matchlist_item "+(0==e[4]?"d-none":"")+(e[0]?" isreviewbgcolor drag-none ":"")+(1==e[27].ischecked?" bg-primary text-white":"")+" position-relative ui-draggable m-0 overflow-auto multiGrid")+" svelte-8s9lqe")&&g(t,"class",_),32&o&&b(t,"width",e[5])},d(e){e&&c(t),A&&A.d(),D.d(),x=!1,S()}}}function ho(e){let t,n,o,r,i,a,f,m,b,y,w,_,x,S,A,E=e[2].headingCorrect+"";n=new jn({props:{reviewMode:e[0],handleReviewClick:e[9],customReviewMode:e[6]}}),n.$on("setReview",e[7]),n.$on("unsetReview",e[8]);let C=0==e[4]&&Kn(e),D=e[1].localCData,T=[];for(let t=0;t<D.length;t+=1)T[t]=uo(Jn(e,D,t));return{c(){t=u("div"),B(n.$$.fragment),o=p(),r=u("div"),i=u("div"),a=h(E),f=p(),m=u("div"),b=u("ul"),C&&C.c(),y=p();for(let e=0;e<T.length;e+=1)T[e].c();x=p(),S=u("div"),S.textContent=""+Fn,g(i,"class","choose_header font17 text-left rounded-top m-0"),g(b,"id","sortable"),g(b,"data-row",w=e[1].maxRow),g(b,"data-col",_=e[1].maxCol),g(b,"class","p-2 d-inline-block w-100 m-0"),g(m,"class","choose_body bg-white"),g(S,"class","choose_bottom font12 m-0 text-left font-weight-bold text-danger p-2 rounded-bottom"),g(S,"id","instruction"),g(r,"id","choose"),g(r,"class","text-center mx-auto"),g(t,"id","chid")},m(e,c){s(e,t,c),H(n,t,null),l(t,o),l(t,r),l(r,i),l(i,a),l(r,f),l(r,m),l(m,b),C&&C.m(b,null),l(b,y);for(let e=0;e<T.length;e+=1)T[e].m(b,null);l(r,x),l(r,S),A=!0},p(e,[t]){const o={};if(1&t&&(o.reviewMode=e[0]),n.$set(o),(!A||4&t)&&E!==(E=e[2].headingCorrect+"")&&v(a,E),0==e[4]?C?C.p(e,t):(C=Kn(e),C.c(),C.m(b,y)):C&&(C.d(1),C=null),1083&t){let n;for(D=e[1].localCData,n=0;n<D.length;n+=1){const o=Jn(e,D,n);T[n]?T[n].p(o,t):(T[n]=uo(o),T[n].c(),T[n].m(b,null))}for(;n<T.length;n+=1)T[n].d(1);T.length=D.length}(!A||2&t&&w!==(w=e[1].maxRow))&&g(b,"data-row",w),(!A||2&t&&_!==(_=e[1].maxCol))&&g(b,"data-col",_)},i(e){A||(q(n.$$.fragment,e),A=!0)},o(e){X(n.$$.fragment,e),A=!1},d(e){e&&c(t),$(n),C&&C.d(),d(T,e)}}}function po(e){for(let t=e.length-1;t>0;t--){let n=Math.floor(Math.random()*(t+1)),o=e[t];e[t]=e[n],e[n]=o}return e}function fo(e){return"!"==e.charAt(0)}function mo(e,t,n){let o,r,i,{xml:a}=t,{uxml:l}=t,{showAns:s}=t,{isReview:c}=t,{editorState:d}=t,u=c,h="none",p={layout:[],maxRow:0,maxCol:0,localCData:[],layoutchanged:[],original_xml_copy:"",countrow:0,countcol:0,totalheading:0,correctxmlarray:[],user_ans_xml:[],isShuffeled:!1,imagepath:"//s3.amazonaws.com/jigyaasa_content_static/",result:"correct"},f={snackback:!1,xml:"",headingCorrect:"",static:!1,isdragging:!1,colstobeshown:3,isanyheading:!1,showlabelofshuffle:"block"};function m(){p.localCData.forEach((e=>{e.iscorrect="",i=0})),p.localCData.forEach(((e,t)=>{1==e.ischecked&&(e.iscorrect=!0),p.localCData.forEach((e=>{p.correctxmlarray[t].value==p.user_ans_xml[t].value&&e.value==p.correctxmlarray[t].value&&(e.iscorrect=!0)}))})),p.localCData.forEach((e=>{1!=e.iscorrect&&(e.iscorrect=!1,i++)})),_()}function g(e){e=Dn(e),n(2,f.headingCorrect=e.smxml.list._headingCorrect,f),n(1,p.maxRow=parseInt(e.smxml.list._row),p),n(1,p.maxCol=parseInt(e.smxml.list._col),p),function(e){let t=e.smxml.list.__cdata.split("\n");for(let e in t)""!=t[e].trim()&&"!"==t[e].trim().charAt(0)&&n(2,f.isanyheading=!0,f);n(1,p.localCData=[],p),n(1,p.correctxmlarray=[],p),n(1,p.totalheading=e.smxml.list._col,p),n(1,p.countcol=e.smxml.list._col,p),n(1,p.countrow=e.smxml.list._row,p);for(let e in t)if(""!=t[e].trim())n(2,f.colstobeshown=parseInt(p.countcol),f),v(t[e].trim(),e);else{let n=!1;for(let o=e;o<t.length;o++){if(""!=t[o].trim()||o==t.length-1){n=!0;break}n=!1}1==n&&v(t[e].trim(),e)}b(p.correctxmlarray),b(p.localCData),l||(n(1,p.isShuffeled=!0,p),n(1,p.localCData=function(e){let t=[];if(1==f.isanyheading){for(let n=0;n<e.length;n++)"!"!=e[n].value.charAt(0)&&t.push(e[n]);t=po(t);let n=0;for(let o=0;o<e.length;o++)"!"!=e[o].value.charAt(0)&&(e[o]=t[n],n++)}else e=po(e);return e=y(e)}(p.localCData),p),b(p.localCData),n(2,f.showlabelofshuffle="none",f));for(let e=0;e<p.localCData.length;e++)"!"!=p.localCData[e].value.charAt(0)?n(1,p.localCData[e].ischecked=!1,p):n(1,p.localCData[e].ischecked=!0,p);n(1,p.user_ans_xml=[],p),n(1,p.userAns="",p),p.localCData.forEach(((e,t)=>{p.user_ans_xml.push({id:t,value:e.value}),n(1,p.userAns+=(0!=t?"\n":"").concat(e.value),p)})),m()}(e)}function v(e,t){p.localCData.push({value:e.trim(),colval:"",rowval:"",mainseq:"",x:0,y:0,id:t}),p.correctxmlarray.push({value:e.trim(),colval:"",rowval:"",mainseq:"",x:"",y:"",id:t})}function b(e){let t=0,n=0;for(let o=0;o<e.length;o++)t==p.countcol&&(t=0,n+=3),e[o].x=t,e[o].y=n,t++}function y(e){let t=1,o=1,r=1;for(let i=0;i<e.length;i++)e[i].colval=o,n(1,p.correctxmlarray[i].colval=o,p),e[i].rowval=t,n(1,p.correctxmlarray[i].rowval=t,p),e[i].mainseq=t+"-"+o,n(1,p.correctxmlarray[i].mainseq=t+"-"+o,p),o++,"!"!=e[i].value.charAt(0)?n(1,p.correctxmlarray[i].ischecked=!1,p):n(1,p.correctxmlarray[i].ischecked=!0,p),r==p.totalheading&&(o=1,t++,r=0),r++;return e}function w(){n(0,c=!0),n(3,h="block"),n(2,f.snackback=!0,f),n(2,f.static=!0,f),n(4,o=!0),_()}function _(){let e=function(){let e;return ISSPECIALMODULEUSERXMLCHANGE=1,e=i>0||null==i?"Incorrect":"Correct",e}();if(d)s(e);else{e="Correct"===e,Tn({uXml:'<smxml type="6" name="ChooseAndReorder"><list groupcheck="false" whichfixed="" headingCorrect="'+f.headingCorrect+'" row="'+p.countrow+'" col="'+p.countcol+'">\x3c!--[CDATA['+p.userAns+"]]--\x3e</list></smxml>",ans:e})}}return x((()=>{g(a),window.inNative&&window.getHeight&&window.getHeight(),d||_()})),S((()=>{let e=kn.select("#sortable");new Un(e,{animation:150,swap:!0,swapClass:"bg-light",onUpdate(){n(1,p.user_ans_xml=[],p),n(1,p.userAns="",p),kn.selectAll("#sortable li").forEach(((e,t)=>{e.id="p"+t,e.setAttribute("data-optid",t),e.setAttribute("name",t),n(1,p.user_ans_xml=[...p.user_ans_xml,{id:t,value:""!=kn.select("#"+e.getAttribute("id")).innerText?kn.select("#"+e.getAttribute("id")).innerText:kn.find("#"+e.getAttribute("id"),"img")?.getAttribute("img_val")}],p)})),n(1,p.correctxmlarray=y(p.correctxmlarray),p),kn.selectAll("#sortable li").forEach(((e,t)=>{n(1,p.userAns+=(0!=t?"\n".concat(p.correctxmlarray[t].ischecked?"!":""):p.correctxmlarray[t].ischecked?"!":"")+(""!=kn.select("#"+e.getAttribute("id")).innerText?kn.select("#"+e.getAttribute("id")).innerText:kn.find("#"+e.getAttribute("id"),"img")?.getAttribute("img_val")),p)})),m()}});kn.selectAll(".matchlist_item").forEach((e=>{e.style.width!=r&&(e.style.width=r)}))})),e.$$set=e=>{"xml"in e&&n(11,a=e.xml),"uxml"in e&&n(12,l=e.uxml),"showAns"in e&&n(13,s=e.showAns),"isReview"in e&&n(0,c=e.isReview),"editorState"in e&&n(14,d=e.editorState)},e.$$.update=()=>{if(1&e.$$.dirty&&(c?(n(3,h="block"),w()):n(3,h="none")),4096&e.$$.dirty)try{'<smans type="6"></smans>'==l&&n(12,l="")}catch(e){console.warn({error:e})}if(6150&e.$$.dirty&&a!=f.xml){if(n(1,p.isShuffeled=!1,p),n(2,f.showlabelofshuffle="block",f),p.user_ans_xml.length>0&&n(1,p.user_ans_xml.length=0,p),n(2,f.isanyheading=!1,f),l){Dn(a);n(1,p.user_ans_xml=l,p),n(11,a=p.user_ans_xml)}n(2,f.xml=a,f),g(a),n(5,r=(632/p.countcol).toFixed(2)+"px")}},[c,p,f,h,o,r,u,w,function(){n(0,c=!1),n(3,h="none"),n(2,f.snackback=!1,f),n(2,f.static=!1,f)},function(e){"c"==e?n(4,o=!1):"u"==e&&n(4,o=!0)},function(e){if(13===e.which){let t=e.target.id;this.classList.contains("copied")?kn.selectAll("#"+t,"removeClass","copied"):(kn.selectAll("#chid .copied").length<1&&(kn.selectAll("#"+t,"addClass","copied"),n(2,f.copied=kn.select("#chid .copied"),f)),function(e,t){if(null!=t&&e.getAttribute("id")!=t.getAttribute("id")){kn.selectAll(".copied","removeClass","copied"),n(1,p.userAns="",p);let o=e.getAttribute("data-optid"),r=t.getAttribute("data-optid");n(1,[p.user_ans_xml[o].value,p.user_ans_xml[r].value]=[p.user_ans_xml[r].value,p.user_ans_xml[o].value],p);let i=document.createElement("div"),a=document.createElement("div");kn.select("#sortable").replaceChild(i,kn.select(e)),kn.select("#sortable").replaceChild(a,kn.select(t)),kn.select("#sortable").replaceChild(kn.select(t),i),kn.select("#sortable").replaceChild(kn.select(e),a),n(1,p.correctxmlarray=y(p.correctxmlarray),p),kn.selectAll("#sortable li").forEach(((e,t)=>{n(1,p.userAns+=(0!=t?"\n".concat(p.correctxmlarray[t].ischecked?"!":""):p.correctxmlarray[t].ischecked?"!":"")+(""!=kn.select("#"+e.getAttribute("id")).innerText?kn.select("#"+e.getAttribute("id")).innerText:kn.find("#"+e.getAttribute("id"),"img")?.getAttribute("img_val")),p)})),window.inNative&&window.getHeight&&window.getHeight()}m()}(f.copied,kn.select("#"+t)))}},a,l,s,d]}class go extends U{constructor(e){var t;super(),zn.getElementById("svelte-8s9lqe-style")||((t=u("style")).id="svelte-8s9lqe-style",t.textContent='.drag-none.svelte-8s9lqe{user-select:none;-moz-user-select:none;-webkit-user-drag:none;-webkit-user-select:none;-ms-user-select:none}li[data-ischecked="true"].svelte-8s9lqe{pointer-events:none}.positionSticky.svelte-8s9lqe{position:sticky;top:0px}',l(zn.head,t)),Y(this,e,mo,ho,i,{xml:11,uxml:12,showAns:13,isReview:0,editorState:14})}}var vo=Dn(window.QXML);return vo.smxml.list._row&&vo.smxml.list._col?new go({target:document.getElementById(window.moduleContainer)||document.body,props:{xml:window.QXML||"",uxml:window.uaXML,ansStatus:0,isReview:window.isReviewMode||!1,smqCounter:window.idCounter,CM:window.idCounter}}):new $n({target:document.getElementById(window.moduleContainer)||document.body,props:{xml:window.QXML||"",uxml:window.uaXML,ansStatus:0,isReview:window.isReviewMode||!1,smqCounter:window.idCounter,CM:window.idCounter}})}();
//# sourceMappingURL=bundle_q6.js.map
