{
  "version": 3,
  "file": "bundle_q5.css",
  "sources": [
    "EssayPreview.svelte"
  ],
  "sourcesContent": [
    "<script>\r\n    import { beforeUpdate, onMount } from \"svelte\";\r\n    import {AH, XMLToJSON} from '../helper/HelperAI.svelte';\r\n    import ItemHelper from '../helper/ItemHelper.svelte';\r\n    import sunEditor from 'suneditor';\r\n    import plugins from 'sunEditor/src/plugins';\r\n    import ucEssay from './eaasy_new_react.js';\r\n\r\n    export let xml;\r\n    export let uaxml;\r\n    export let isReview;\r\n    export let editorState;\r\n    let state = {\r\n            userans: '',\r\n            appPath: \"\",\r\n            essayStr: '',\r\n            userAns: '',\r\n            site_url: \"\"\r\n        }\r\n    let essay_class = \"working_file\";\r\n    let eid = \"essayPreviewContainer\";\r\n    //import './essay_plugin.js';\r\n    let localEssayData = {};\r\n    let uAns =\"\";\r\n    let essayEditor;\r\n    const headingArray = [{\"font\": \"fontSize 6\",\"text\": \"Heading 1\"}, {\"font\": \"fontSize 5\",\"text\": \"Heading 2\"}, {\"font\": \"fontSize 4\",\"text\": \"Heading 3\"},{\"font\": \"fontSize 3\",\"text\": \"Heading 4\"},{\"font\": \"fontSize 2\",\"text\": \"Heading 5\"},{\"font\": \"fontSize 1\",\"text\": \"Heading 6\"}];\r\n\r\n    onMount(()=> {\r\n        loadXML(xml, uaxml);\r\n        // Intialize editor plugin\r\n        initEdit();\r\n    });\r\n\r\n    function initEdit() {\r\n        essayEditor = sunEditor.create('essay_edit', { \r\n            height: '300px',\r\n            value: uAns,\r\n            width: 'auto',\r\n            toolbarContainer:\"#essayPreviewToolbar\",\r\n            placeholder: \"Write text here.\",\r\n            resizingBar: false,\r\n            showPathLabel: false,     \r\n            plugins:plugins,\r\n            fontSize: 10,\r\n            defaultStyle: \"padding-left: 10px\",\r\n            buttonList: [\r\n                ['formatBlock'],\r\n                ['bold', 'italic', 'underline'],\r\n                ['list', 'outdent', 'indent', 'align'],\r\n                ['removeFormat'],\r\n            ],\r\n        });\r\n        let elemId = '#' + eid;\r\n        ucEssay.essay_ready(elemId, essayEditor);\r\n    }\r\n        \r\n    // it is called when state updated\r\n    beforeUpdate(()=> {\r\n        if (xml != state.xml) {\r\n            state.xml= xml ;\r\n            console.log(\"sdas\");\r\n            loadXML(xml, uaxml);\r\n            if (essayEditor) {\r\n                essayEditor.setContents(uAns);\r\n            }\r\n        }\r\n\r\n        if (isReview == true ) { \r\n            essay_class = \"working_file h\"\r\n        } else if (isReview == false) {\r\n            essay_class = \"working_file\"\r\n        }\r\n\r\n    });\r\n    \r\n    // its for loading the xml.\r\n    function loadXML(essayXML, uaxml) {\r\n        let essayUser = (uaxml) ? XMLToJSON(uaxml) : \"\";\r\n        essayXML = XMLToJSON(essayXML);\r\n       // userxml_is_empty = updateAttrToLower(userxml_is_empty);\r\n        // if(userxml_is_empty) {\r\n        //     if(!userxml_is_empty.smans) {\r\n        //         uaxml = \"\";\r\n        //     }\r\n        // }\r\n        // Parsing XMLs\r\n        try {\r\n            let essay = essayXML.smxml.default ? essayXML.smxml.default : essayXML.smxml;\r\n            uAns = essayUser && (essayUser.smans.userans).charCodeAt(0)!=10 ? essayUser.smans.userans : (essay.__cdata !== undefined ? essay.__cdata : '');\r\n            //self.userAnsXML = $('#special_module_user_xml').val();\r\n            localEssayData = {\r\n                userans: uAns,\r\n                filetypeexts: essay._filetypeexts,\r\n                limit: essay._limit,\r\n                type: essay._type == \"5\" ? \"0\" : essay._type,\r\n                upload: essayUser ? essayUser.smans.upload : \"\"\r\n            };\r\n        } catch(error) {\r\n            console.log({error, func:'loadXml', file:'EssayPreview.svelte'});\r\n        }\r\n    }\r\n    \r\n    // its update attributes of user answer xml to lowercase.\r\n    function updateAttrToLower(data) {\r\n        let isLower = false;\r\n        if(data.SMANS) {\r\n            data.smans = data.SMANS;\r\n            delete data.SMANS;\r\n            isLower = true;\r\n        }\r\n        return data;\r\n    }\r\n    \r\n    // calls on click of abort\r\n    function handleClick(e) {\r\n        ucEssay.remove_file(e.currentTarget, '#' + eid);\r\n    }\r\n\r\n    // calls when review mode is on\r\n    function setReview() {\r\n        isReview = true;\r\n        essayEditor.disabled(); // Disable editing for module\r\n        ucEssay.modeOn(\"on\");\r\n    }\r\n    \r\n    // calls when review mode is off after on\r\n    function unsetReview(type) {\r\n        isReview = false;\r\n        essayEditor.enabled(); // Enable editing for module\r\n        if (type != 0) {\r\n            AH.toggleDom(document.querySelector('#upload'), 'show');\r\n            document.querySelector('#upload').classList.remove('h');\r\n        }\r\n        ucEssay.modeOn('');\r\n    }\r\n</script>\r\n<svelte:head>\r\n    <link href=\"{window.baseUrlTheme || baseThemeURL}pe-items/helper/sunEditor/src/assets/css/suneditor.css\" rel=\"stylesheet\" />\r\n</svelte:head>\r\n<main>\r\n    <p id =\"demo\"></p>\r\n    <div>\r\n        {#if localEssayData }\r\n            <ItemHelper \r\n                on:setReview = {setReview}\r\n                on:unsetReview = {unsetReview.bind(this, localEssayData.type)}\r\n            />\r\n            <div \r\n                id={eid} \r\n                data-filetypeexts={localEssayData.filetypeexts} \r\n                data-limit={localEssayData.limit} \r\n                class=\"essay-container m-auto hero-unit\"\r\n            >\r\n                <div id=\"essayPreviewToolbar\" class=\"sun-editor\"></div>\r\n                <textarea id=\"essay_edit\" class=\"text-left editor sun-editor-editable\" ></textarea>\r\n                <div id=\"upload\" class={window.isReview == true || isReview == true || localEssayData.type == \"0\" ? \"h\" : \"\"}>\r\n                    <div id=\"drop\">\r\n                        Drag & Drop Files Here\r\n                        <div class=\"text-center\" style=\"font-size: 12px;font-weight: normal;position:relative;top:45px; word-wrap:break-word\">You can upload upto {localEssayData.limit} {localEssayData.filetypeexts} files.</div>\r\n                        <a class=\"essay-btn btn btn-light darkgrey_border\">Browse</a>\r\n                        <input type=\"file\" name=\"upl\" id=\"upl\" multiple=\"multiple\" style=\"opacity:0.5\"/>\r\n                    </div>\r\n                </div>\r\n                <ul class={localEssayData.type == \"0\" ? \"essay_upload_status text-left h\" : \"essay_upload_status text-left working_file\" } style=\"list-style-type: none;\">\r\n                    {#if localEssayData.upload != ''}\r\n                        {#each localEssayData.upload.split(',') as uploaded, index}\r\n                            <li class=\"working\">\r\n                                <span class=\"download\">\r\n                                    <a href={uploaded} title='Download File' class=\"essay_dwl_file\">\r\n                                        <i class=\"icomoon-file-download\"></i>\r\n                                    </a>\r\n                                </span>\r\n                                <span class=\"filename\">{uploaded}</span>\r\n                                {#if !isReview}\r\n                                    <span class=\"abort\" on:click={handleClick}>abort</span>\r\n                                {/if}\r\n                            </li>\r\n                        {/each}\r\n                    {/if}\r\n                </ul>\r\n            </div>\r\n\r\n        {/if}\r\n    </div>\r\n</main>\r\n<style>\r\n    .hero-unit {\r\n        border: 1px solid #ccc;\r\n        width: 84%;\r\n        padding: 18px!important;\r\n        font-size: 15px!important;\r\n        margin-bottom: 30px;\r\n        font-weight: 200;\r\n        line-height: 30px;\r\n        color: inherit;\r\n        background-color: #eeeeee;\r\n        -webkit-border-radius: 6px;\r\n        -moz-border-radius: 6px;\r\n        border-radius: 6px;\r\n    }\r\n    .essay-btn, #essayfile-button, #editfiles, .essay-btn-add {\r\n        display: inline-block;\r\n        padding: 4px 8px;\r\n        font-size: 12px;\r\n        line-height: 20px;\r\n        text-align: center;\r\n        vertical-align: middle;\r\n        cursor: pointer;\r\n        color: #333333;\r\n        text-shadow: 0 1px 1px rgba(255, 255, 255, 0.75);\r\n        background-color: #f5f5f5;\r\n        background-image: -moz-linear-gradient(top, #ffffff, #e6e6e6);\r\n        background-image: -webkit-gradient(linear, 0 0, 0 100%, from(#ffffff), to(#e6e6e6));\r\n        background-image: -webkit-linear-gradient(top, #ffffff, #e6e6e6);\r\n        background-image: -o-linear-gradient(top, #ffffff, #e6e6e6);\r\n        background-image: linear-gradient(to bottom, #ffffff, #e6e6e6);\r\n        background-repeat: repeat-x;\r\n        filter: progid:DXImageTransform.Microsoft.gradient(startColorstr='#ffffffff', endColorstr='#ffe6e6e6', GradientType=0);\r\n        border-color: #e6e6e6 #e6e6e6 #bfbfbf;\r\n        border-color: rgba(0, 0, 0, 0.1) rgba(0, 0, 0, 0.1) rgba(0, 0, 0, 0.25);\r\n        filter: progid:DXImageTransform.Microsoft.gradient(enabled = false);\r\n        border: 1px solid #cccccc;\r\n        border-bottom-color: #b3b3b3;\r\n        -webkit-border-radius: 4px;\r\n        -moz-border-radius: 4px;\r\n        border-radius: 4px;\r\n        -webkit-box-shadow: inset 0 1px 0 rgba(255,255,255,.2), 0 1px 2px rgba(0,0,0,.05);\r\n        -moz-box-shadow: inset 0 1px 0 rgba(255,255,255,.2), 0 1px 2px rgba(0,0,0,.05);\r\n        box-shadow: inset 0 1px 0 rgba(255,255,255,.2), 0 1px 2px rgba(0,0,0,.05);\r\n    }\r\n    #upload {\r\n        font-family: 'PT Sans Narrow', sans-serif;\r\n        background-color: #E0E0E0;\r\n        background-image: -webkit-linear-gradient(top, #E0E0E0, #E0E0E0);\r\n        background-image: -moz-linear-gradient(top, #E0E0E0, #E0E0E0);\r\n        background-image: linear-gradient(top, #E0E0E0, #E0E0E0);\r\n        width: 100%;\r\n        /* padding: 30px; */\r\n        padding: 30px 30px 0;\r\n        border-radius: 3px;\r\n        border-collapse: separate;\r\n        border: 1px solid rgb(204, 204, 204);\r\n        margin-top: 2px;\r\n    }\r\n    #drop {\r\n        background-color: #EEEEEE;\r\n        padding: 25px 30px;\r\n        margin-bottom: 30px;\r\n        border: 20px solid rgba(0, 0, 0, 0);\r\n        border-radius: 3px;\r\n        text-align: center;\r\n        font-size: 16px;\r\n        font-weight: bold;\r\n        color: #7f858a;\r\n        border: 1px solid #CCCCCC;\r\n    }\r\n    /* .can_upload {\r\n        font-size: 12px;\r\n        font-weight: 100;\r\n        position: relative;\r\n        top: 45px;\r\n        overflow-wrap: break-word;\r\n    } */\r\n    #drop a {\r\n        /* background-color: #007a96; */\r\n        padding: 12px 5%;\r\n        color: #2B2E31;\r\n        font-size: 14px;\r\n        border-radius: 2px;\r\n        cursor: pointer;\r\n        display: inline-block;\r\n        margin-top: 12px;\r\n        margin-bottom: 12px;\r\n        line-height: 1;\r\n        text-decoration: none;\r\n        position: relative;\r\n        top: 30px;\r\n    }\r\n    #drop input {\r\n        display: none;\r\n    }\r\n    .dropdown-item {\r\n        display: block;\r\n        width: 100%;\r\n        padding: 4px 12px;\r\n        clear: both;\r\n        font-weight: 400;\r\n        color: #212529;\r\n        text-align: inherit;\r\n        white-space: nowrap;\r\n        background-color: transparent;\r\n        border: 0;\r\n    }\r\n    .essay-btn {\r\n        margin-bottom: 15px;\r\n    }\r\n    .essay-container {\r\n        width: 89%;\r\n    }\r\n</style>"
  ],
  "names": [],
  "mappings": "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"
}