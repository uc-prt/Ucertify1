(function(pa,X){function ya(h,g){for(var e,d=[],b=0;b<h.length;++b){if(!(e=qa[h[b]]))a:{e=pa;for(var c=h[b].split(/[.\/]/),a=0;a<c.length;++a){if(!e[c[a]]){e=void 0;break a}e=e[c[a]]}}if(!e)throw"module definition dependecy not found: "+h[b];d.push(e)}g.apply(null,d)}function x(h,g,e){if("string"!==typeof h)throw"invalid module definition, module id must be defined and be a string";if(g===X)throw"invalid module definition, dependencies must be specified";if(e===X)throw"invalid module definition, definition function must be specified";
ya(g,function(){qa[h]=e.apply(null,arguments)})}var qa={};x("tinymce/geom/Rect",[],function(){function h(c,a,f){var e=a.x;var d=a.y;var q=c.w;c=c.h;var r=a.w;a=a.h;f=(f||"").split("");"b"===f[0]&&(d+=a);"r"===f[1]&&(e+=r);"c"===f[0]&&(d+=b(a/2));"c"===f[1]&&(e+=b(r/2));"b"===f[3]&&(d-=c);"r"===f[4]&&(e-=q);"c"===f[3]&&(d-=b(c/2));"c"===f[4]&&(e-=b(q/2));return g(e,d,q,c)}function g(b,a,f,e){return{x:b,y:a,w:f,h:e}}var e=Math.min,d=Math.max,b=Math.round;return{inflate:function(b,a,f){return g(b.x-
a,b.y-f,b.w+2*a,b.h+2*f)},relativePosition:h,findBestRelativePosition:function(b,a,f,e){var c;for(c=0;c<e.length;c++){var d=h(b,a,e[c]);if(d.x>=f.x&&d.x+d.w<=f.w+f.x&&d.y>=f.y&&d.y+d.h<=f.h+f.y)return e[c]}return null},intersect:function(b,a){var c=d(b.x,a.x);var p=d(b.y,a.y);var n=e(b.x+b.w,a.x+a.w);var q=e(b.y+b.h,a.y+a.h);return 0>n-c||0>q-p?null:g(c,p,n-c,q-p)},clamp:function(b,a,f){var c=b.x;var e=b.y;var q=b.x+b.w;var r=b.y+b.h;var l=a.x+a.w;var v=a.y+a.h;b=d(0,a.x-c);a=d(0,a.y-e);l=d(0,q-l);
v=d(0,r-v);c+=b;e+=a;f&&(q+=b,r+=a,c-=l,e-=v);return g(c,e,q-l-c,r-v-e)},create:g,fromClientRect:function(b){return g(b.left,b.top,b.width,b.height)}}});x("tinymce/util/Promise",[],function(){function h(a,b){return function(){a.apply(b,arguments)}}function g(a){if("object"!==typeof this)throw new TypeError("Promises must be constructed via new");if("function"!==typeof a)throw new TypeError("not a function");this._value=this._state=null;this._deferreds=[];f(a,h(d,this),h(b,this))}function e(a){var b=
this;null===this._state?this._deferreds.push(a):p(function(){var c=b._state?a.onFulfilled:a.onRejected;if(null===c)(b._state?a.resolve:a.reject)(b._value);else{try{var f=c(b._value)}catch(B){a.reject(B);return}a.resolve(f)}})}function d(a){try{if(a===this)throw new TypeError("A promise cannot be resolved with itself.");if(a&&("object"===typeof a||"function"===typeof a)){var e=a.then;if("function"===typeof e){f(h(e,a),h(d,this),h(b,this));return}}this._state=!0;this._value=a;c.call(this)}catch(l){b.call(this,
l)}}function b(a){this._state=!1;this._value=a;c.call(this)}function c(){for(var a=0,b=this._deferreds.length;a<b;a++)e.call(this,this._deferreds[a]);this._deferreds=null}function a(a,b,c,f){this.onFulfilled="function"===typeof a?a:null;this.onRejected="function"===typeof b?b:null;this.resolve=c;this.reject=f}function f(a,b,c){var f=!1;try{a(function(a){f||(f=!0,b(a))},function(a){f||(f=!0,c(a))})}catch(B){f||(f=!0,c(B))}}if(window.Promise)return window.Promise;var p=g.immediateFn||"function"===typeof setImmediate&&
setImmediate||function(a){setTimeout(a,1)},n=Array.isArray||function(a){return"[object Array]"===Object.prototype.toString.call(a)};g.prototype["catch"]=function(a){return this.then(null,a)};g.prototype.then=function(b,c){var f=this;return new g(function(d,l){e.call(f,new a(b,c,d,l))})};g.all=function(){var a=Array.prototype.slice.call(1===arguments.length&&n(arguments[0])?arguments[0]:arguments);return new g(function(b,c){function f(d,m){try{if(m&&("object"===typeof m||"function"===typeof m)){var l=
m.then;if("function"===typeof l){l.call(m,function(a){f(d,a)},c);return}}a[d]=m;0===--e&&b(a)}catch(A){c(A)}}if(0===a.length)return b([]);for(var e=a.length,d=0;d<a.length;d++)f(d,a[d])})};g.resolve=function(a){return a&&"object"===typeof a&&a.constructor===g?a:new g(function(b){b(a)})};g.reject=function(a){return new g(function(b,c){c(a)})};g.race=function(a){return new g(function(b,c){for(var f=0,e=a.length;f<e;f++)a[f].then(b,c)})};return g});x("tinymce/util/Delay",["tinymce/util/Promise"],function(h){function g(b,
a){function c(a){window.setTimeout(a,0)}var e,d=window.requestAnimationFrame,q=["ms","moz","webkit"];for(e=0;e<q.length&&!d;e++)d=window[q[e]+"RequestAnimationFrame"];d||(d=c);d(b,a)}function e(b,a){"number"!=typeof a&&(a=0);return setTimeout(b,a)}function d(b,a){"number"!=typeof a&&(a=1);return setInterval(b,a)}var b;return{requestAnimationFrame:function(c,a){b?b.then(c):b=(new h(function(b){a||(a=document.body);g(b,a)})).then(c)},setTimeout:e,setInterval:d,setEditorTimeout:function(b,a,f){return e(function(){b.removed||
a()},f)},setEditorInterval:function(b,a,f){var c;return c=d(function(){b.removed?clearInterval(c):a()},f)},throttle:function(b,a){var c;var d=function(){var f=arguments;clearTimeout(c);c=e(function(){b.apply(this,f)},a)};d.stop=function(){clearTimeout(c)};return d},clearInterval:function(b){return clearInterval(b)},clearTimeout:function(b){return clearTimeout(b)}}});x("tinymce/Env",[],function(){var h=navigator,g=h.userAgent;var e=window.opera&&window.opera.buildNumber;var d=/Android/.test(g);var b=
/WebKit/.test(g);var c=(c=!b&&!e&&/MSIE/gi.test(g)&&/Explorer/gi.test(h.appName))&&/MSIE (\w+)\./.exec(g)[1];var a=-1==g.indexOf("Trident/")||-1==g.indexOf("rv:")&&-1==h.appName.indexOf("Netscape")?!1:11;h=-1==g.indexOf("Edge/")||c||a?!1:12;c=c||a||h;a=!b&&!a&&/Gecko/.test(g);var f=-1!=g.indexOf("Mac");var p=/(iPad|iPhone)/.test(g);var n="FormData"in window&&"FileReader"in window&&"URL"in window&&!!URL.createObjectURL;var q=("matchMedia"in window?matchMedia("only screen and (max-device-width: 480px)").matches:
!1)&&(d||p);var r=("matchMedia"in window?matchMedia("only screen and (min-width: 800px)").matches:!1)&&(d||p);var l=-1!=g.indexOf("Windows Phone");h&&(b=!1);g=!p||n||534<=g.match(/AppleWebKit\/(\d*)/)[1];return{opera:e,webkit:b,ie:c,gecko:a,mac:f,iOS:p,android:d,contentEditable:g,transparentSrc:"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",caretAfter:8!=c,range:window.getSelection&&"Range"in window,documentMode:c&&!h?document.documentMode||7:10,fileApi:n,ceFalse:!1===
c||8<c,canHaveCSP:!1===c||11<c,desktop:!q&&!r,windowsPhone:l}});x("tinymce/dom/EventUtils",["tinymce/util/Delay","tinymce/Env"],function(h,g){function e(a,b,c,f){a.addEventListener?a.addEventListener(b,c,f||!1):a.attachEvent&&a.attachEvent("on"+b,c)}function d(a,b,c,f){a.removeEventListener?a.removeEventListener(b,c,f||!1):a.detachEvent&&a.detachEvent("on"+b,c)}function b(a,b){var c,f=b;(c=a.path)&&0<c.length&&(f=c[0]);a.deepPath&&(c=a.deepPath())&&0<c.length&&(f=c[0]);return f}function c(a,c){function f(){return!1}
function e(){return!0}var d=c||{};for(u in a)n[u]||(d[u]=a[u]);d.target||(d.target=d.srcElement||document);g.experimentalShadowDom&&(d.target=b(a,d.target));if(a&&p.test(a.type)&&void 0===a.pageX&&void 0!==a.clientX){var r=d.target.ownerDocument||document;var u=r.documentElement;r=r.body;d.pageX=a.clientX+(u&&u.scrollLeft||r&&r.scrollLeft||0)-(u&&u.clientLeft||r&&r.clientLeft||0);d.pageY=a.clientY+(u&&u.scrollTop||r&&r.scrollTop||0)-(u&&u.clientTop||r&&r.clientTop||0)}d.preventDefault=function(){d.isDefaultPrevented=
e;a&&(a.preventDefault?a.preventDefault():a.returnValue=!1)};d.stopPropagation=function(){d.isPropagationStopped=e;a&&(a.stopPropagation?a.stopPropagation():a.cancelBubble=!0)};d.stopImmediatePropagation=function(){d.isImmediatePropagationStopped=e;d.stopPropagation()};d.isDefaultPrevented||(d.isDefaultPrevented=f,d.isPropagationStopped=f,d.isImmediatePropagationStopped=f);"undefined"==typeof d.metaKey&&(d.metaKey=!1);return d}function a(a,b,c){function f(){c.domLoaded||(c.domLoaded=!0,b(m))}function l(){if("complete"===
u.readyState||"interactive"===u.readyState&&u.body)d(u,"readystatechange",l),f()}function r(){try{u.documentElement.doScroll("left")}catch(w){h.setTimeout(r);return}f()}var u=a.document,m={type:"ready"};c.domLoaded?b(m):(u.addEventListener?"complete"===u.readyState?f():e(a,"DOMContentLoaded",f):(e(u,"readystatechange",l),u.documentElement.doScroll&&a.self===a.top&&r()),e(a,"load",f))}function f(){function b(a,b){var c,k,f;if(c=(c=l[b])&&c[a.type]){var d=0;for(k=c.length;d<k&&((f=c[d])&&!1===f.func.call(f.scope,
a)&&a.preventDefault(),!a.isImmediatePropagationStopped());d++);}}var f=this,l={};var v="mce-data-"+(+new Date).toString(32);var p="onmouseenter"in document.documentElement;var n="onfocusin"in document.documentElement;var u={mouseenter:"mouseover",mouseleave:"mouseout"};var m=1;f.domLoaded=!1;f.events=l;f.bind=function(d,r,q,k){function t(a){b(c(a||g.event),y)}var w,B,z,g=window;if(d&&3!==d.nodeType&&8!==d.nodeType){if(d[v])var y=d[v];else y=m++,d[v]=y,l[y]={};k=k||d;r=r.split(" ");for(B=r.length;B--;){var A=
r[B];var h=t;var M=z=!1;"DOMContentLoaded"===A&&(A="ready");f.domLoaded&&"ready"===A&&"complete"==d.readyState?q.call(k,c({type:A})):(p||(M=u[A])&&(h=function(a){var k;var f=a.currentTarget;if((k=a.relatedTarget)&&f.contains)k=f.contains(k);else for(;k&&k!==f;)k=k.parentNode;k||(a=c(a||g.event),a.type="mouseout"===a.type?"mouseleave":"mouseenter",a.target=f,b(a,y))}),n||"focusin"!==A&&"focusout"!==A||(z=!0,M="focusin"===A?"focus":"blur",h=function(a){a=c(a||g.event);a.type="focus"===a.type?"focusin":
"focusout";b(a,y)}),(w=l[y][A])?"ready"===A&&f.domLoaded?q({type:A}):w.push({func:q,scope:k}):(l[y][A]=w=[{func:q,scope:k}],w.fakeName=M,w.capture=z,w.nativeHandler=h,"ready"===A?a(d,h,f):e(d,M||A,h,z)))}d=w=0;return q}};f.unbind=function(a,b,c){var k,t,e,m;if(!a||3===a.nodeType||8===a.nodeType)return f;if(k=a[v]){var w=l[k];if(b)for(b=b.split(" "),e=b.length;e--;){var u=b[e];if(t=w[u]){if(c)for(m=t.length;m--;)if(t[m].func===c){var r=t.nativeHandler,q=t.fakeName,p=t.capture;t=t.slice(0,m).concat(t.slice(m+
1));t.nativeHandler=r;t.fakeName=q;t.capture=p;w[u]=t}c&&0!==t.length||(delete w[u],d(a,t.fakeName||u,t.nativeHandler,t.capture))}}else{for(u in w)t=w[u],d(a,t.fakeName||u,t.nativeHandler,t.capture);w={}}for(u in w)return f;delete l[k];try{delete a[v]}catch(M){a[v]=null}}return f};f.fire=function(a,d,e){if(!a||3===a.nodeType||8===a.nodeType)return f;e=c(null,e);e.type=d;e.target=a;do(d=a[v])&&b(e,d),a=a.parentNode||a.ownerDocument||a.defaultView||a.parentWindow;while(a&&!e.isPropagationStopped());
return f};f.clean=function(a){var b,c=f.unbind;if(!a||3===a.nodeType||8===a.nodeType)return f;a[v]&&c(a);a.getElementsByTagName||(a=a.document);if(a&&a.getElementsByTagName){c(a);var k=a.getElementsByTagName("*");for(b=k.length;b--;)a=k[b],a[v]&&c(a)}return f};f.destroy=function(){l={}};f.cancel=function(a){a&&(a.preventDefault(),a.stopImmediatePropagation());return!1}}var p=/^(?:mouse|contextmenu)|click/,n={keyLocation:1,layerX:1,layerY:1,returnValue:1,webkitMovementX:1,webkitMovementY:1,keyIdentifier:1};
f.Event=new f;f.Event.bind(window,"ready",function(){});return f});x("tinymce/dom/Sizzle",[],function(){function h(a,b,c,k){var f,d,e,m;(b?b.ownerDocument||b:M)!==t&&na(b);b=b||t;c=c||[];if(!a||"string"!==typeof a)return c;if(1!==(m=b.nodeType)&&9!==m)return[];if(G&&!k){if(f=ra.exec(a))if(e=f[1])if(9===m)if((d=b.getElementById(e))&&d.parentNode){if(d.id===e)return c.push(d),c}else return c;else{if(b.ownerDocument&&(d=b.ownerDocument.getElementById(e))&&K(b,d)&&d.id===e)return c.push(d),c}else{if(f[2])return Z.apply(c,
b.getElementsByTagName(a)),c;if((e=f[3])&&ea.getElementsByClassName)return Z.apply(c,b.getElementsByClassName(e)),c}if(ea.qsa&&(!F||!F.test(a))){d=f=T;e=b;var l=9===m&&a;if(1===m&&"object"!==b.nodeName.toLowerCase()){m=sa(a);(f=b.getAttribute("id"))?d=f.replace(ua,"\\$&"):b.setAttribute("id",d);d="[id='"+d+"'] ";for(e=m.length;e--;)m[e]=d+r(m[e]);e=oa.test(a)&&n(b.parentNode)||b;l=m.join(",")}if(l)try{return Z.apply(c,e.querySelectorAll(l)),c}catch(Ea){}finally{f||b.removeAttribute("id")}}}return Aa(a.replace(aa,
"$1"),b,c,k)}function g(){function a(c,k){b.push(c+" ")>ba.cacheLength&&delete a[b.shift()];return a[c+" "]=k}var b=[];return a}function e(a){a[T]=!0;return a}function d(a){var b=t.createElement("div");try{return!!a(b)}catch(za){return!1}finally{b.parentNode&&b.parentNode.removeChild(b)}}function b(a,b){for(var c=a.split("|"),k=a.length;k--;)ba.attrHandle[c[k]]=b}function c(a,b){var c=b&&a,k=c&&1===a.nodeType&&1===b.nodeType&&(~b.sourceIndex||-2147483648)-(~a.sourceIndex||-2147483648);if(k)return k;
if(c)for(;c=c.nextSibling;)if(c===b)return-1;return a?1:-1}function a(a){return function(b){return"input"===b.nodeName.toLowerCase()&&b.type===a}}function f(a){return function(b){var c=b.nodeName.toLowerCase();return("input"===c||"button"===c)&&b.type===a}}function p(a){return e(function(b){b=+b;return e(function(c,k){for(var f,t=a([],c.length,b),d=t.length;d--;)c[f=t[d]]&&(c[f]=!(k[f]=c[f]))})})}function n(a){return a&&typeof a.getElementsByTagName!==E&&a}function q(){}function r(a){for(var b=0,
c=a.length,k="";b<c;b++)k+=a[b].value;return k}function l(a,b,c){var k=b.dir,f=c&&"parentNode"===k,t=O++;return b.first?function(b,c,t){for(;b=b[k];)if(1===b.nodeType||f)return a(b,c,t)}:function(b,c,d){var e,m=[I,t];if(d)for(;b=b[k];){if((1===b.nodeType||f)&&a(b,c,d))return!0}else for(;b=b[k];)if(1===b.nodeType||f){var l=b[T]||(b[T]={});if((e=l[k])&&e[0]===I&&e[1]===t)return m[2]=e[2];l[k]=m;if(m[2]=a(b,c,d))return!0}}}function v(a){return 1<a.length?function(b,c,k){for(var f=a.length;f--;)if(!a[f](b,
c,k))return!1;return!0}:a[0]}function B(a,b,c,k,f){for(var t,d=[],e=0,m=a.length,l=null!=b;e<m;e++)if(t=a[e])if(!c||c(t,k,f))d.push(t),l&&b.push(e);return d}function y(a,b,c,k,f,t){k&&!k[T]&&(k=y(k));f&&!f[T]&&(f=y(f,t));return e(function(t,d,e,m){var l,v=[],w=[],u=d.length,r;if(!(r=t)){r=b||"*";for(var D=e.nodeType?[e]:e,q=[],p=0,n=D.length;p<n;p++)h(r,D[p],q);r=q}r=!a||!t&&b?r:B(r,v,a,e,m);D=c?f||(t?a:u||k)?[]:d:r;c&&c(r,D,e,m);if(k){var g=B(D,w);k(g,[],e,m);for(e=g.length;e--;)if(l=g[e])D[w[e]]=
!(r[w[e]]=l)}if(t){if(f||a){if(f){g=[];for(e=D.length;e--;)(l=D[e])&&g.push(r[e]=l);f(null,D=[],g,m)}for(e=D.length;e--;)(l=D[e])&&-1<(g=f?Q.call(t,l):v[e])&&(t[g]=!(d[g]=l))}}else D=B(D===d?D.splice(u,D.length):D),f?f(null,d,D,m):Z.apply(d,D)})}function u(a){var b,c,k=a.length,f=ba.relative[a[0].type];var t=f||ba.relative[" "];for(var d=f?1:0,e=l(function(a){return a===b},t,!0),m=l(function(a){return-1<Q.call(b,a)},t,!0),w=[function(a,c,k){return!f&&(k||c!==A)||((b=c).nodeType?e(a,c,k):m(a,c,k))}];d<
k;d++)if(t=ba.relative[a[d].type])w=[l(v(w),t)];else{t=ba.filter[a[d].type].apply(null,a[d].matches);if(t[T]){for(c=++d;c<k&&!ba.relative[a[c].type];c++);return y(1<d&&v(w),1<d&&r(a.slice(0,d-1).concat({value:" "===a[d-2].type?"*":""})).replace(aa,"$1"),t,d<c&&u(a.slice(d,c)),c<k&&u(a=a.slice(c)),c<k&&r(a))}w.push(t)}return v(w)}function m(a,b){var c=0<b.length,k=0<a.length,f=function(f,d,e,m,l){var v,w,u,r=0,D="0",q=f&&[],p=[],g=A,n=f||k&&ba.find.TAG("*",l),z=I+=null==g?1:Math.random()||.1,y=n.length;
for(l&&(A=d!==t&&d);D!==y&&null!=(v=n[D]);D++){if(k&&v){for(w=0;u=a[w++];)if(u(v,d,e)){m.push(v);break}l&&(I=z)}c&&((v=!u&&v)&&r--,f&&q.push(v))}r+=D;if(c&&D!==r){for(w=0;u=b[w++];)u(q,p,d,e);if(f){if(0<r)for(;D--;)q[D]||p[D]||(p[D]=R.call(m));p=B(p)}Z.apply(m,p);l&&!f&&0<p.length&&1<r+b.length&&h.uniqueSort(m)}l&&(I=z,A=g);return q};return c?e(f):f}var w,A,z,k,t,D,G,F,V,H,K,T="sizzle"+-new Date,M=window.document,I=0,O=0,P=g(),S=g(),L=g(),C=function(a,b){a===b&&(k=!0);return 0},E=typeof X,x={}.hasOwnProperty,
N=[],R=N.pop,Y=N.push,Z=N.push,ha=N.slice,Q=N.indexOf||function(a){for(var b=0,c=this.length;b<c;b++)if(this[b]===a)return b;return-1},aa=RegExp("^[\\x20\\t\\r\\n\\f]+|((?:^|[^\\\\])(?:\\\\.)*)[\\x20\\t\\r\\n\\f]+$","g"),da=/^[\x20\t\r\n\f]*,[\x20\t\r\n\f]*/,ca=/^[\x20\t\r\n\f]*([>+~]|[\x20\t\r\n\f])[\x20\t\r\n\f]*/,ja=RegExp("=[\\x20\\t\\r\\n\\f]*([^\\]'\"]*?)[\\x20\\t\\r\\n\\f]*\\]","g"),fa=/:((?:\\.|[\w-]|[^\x00-\xa0])+)(?:\((('((?:\\.|[^\\'])*)'|"((?:\\.|[^\\"])*)")|((?:\\.|[^\\()[\]]|\[[\x20\t\r\n\f]*((?:\\.|[\w-]|[^\x00-\xa0])+)(?:[\x20\t\r\n\f]*([*^$|!~]?=)[\x20\t\r\n\f]*(?:'((?:\\.|[^\\'])*)'|"((?:\\.|[^\\"])*)"|((?:\\.|[\w-]|[^\x00-\xa0])+))|)[\x20\t\r\n\f]*\])*)|.*)\)|)/,
J=/^(?:\\.|[\w-]|[^\x00-\xa0])+$/,W={ID:/^#((?:\\.|[\w-]|[^\x00-\xa0])+)/,CLASS:/^\.((?:\\.|[\w-]|[^\x00-\xa0])+)/,TAG:/^((?:\\.|[\w-]|[^\x00-\xa0])+|[*])/,ATTR:/^\[[\x20\t\r\n\f]*((?:\\.|[\w-]|[^\x00-\xa0])+)(?:[\x20\t\r\n\f]*([*^$|!~]?=)[\x20\t\r\n\f]*(?:'((?:\\.|[^\\'])*)'|"((?:\\.|[^\\"])*)"|((?:\\.|[\w-]|[^\x00-\xa0])+))|)[\x20\t\r\n\f]*\]/,PSEUDO:/^:((?:\\.|[\w-]|[^\x00-\xa0])+)(?:\((('((?:\\.|[^\\'])*)'|"((?:\\.|[^\\"])*)")|((?:\\.|[^\\()[\]]|\[[\x20\t\r\n\f]*((?:\\.|[\w-]|[^\x00-\xa0])+)(?:[\x20\t\r\n\f]*([*^$|!~]?=)[\x20\t\r\n\f]*(?:'((?:\\.|[^\\'])*)'|"((?:\\.|[^\\"])*)"|((?:\\.|[\w-]|[^\x00-\xa0])+))|)[\x20\t\r\n\f]*\])*)|.*)\)|)/,
CHILD:/^:(only|first|last|nth|nth-last)-(child|of-type)(?:\([\x20\t\r\n\f]*(even|odd|(([+-]|)(\d*)n|)[\x20\t\r\n\f]*(?:([+-]|)[\x20\t\r\n\f]*(\d+)|))[\x20\t\r\n\f]*\)|)/i,bool:/^(?:checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped)$/i,needsContext:/^[\x20\t\r\n\f]*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\([\x20\t\r\n\f]*((?:-\d)?\d*)[\x20\t\r\n\f]*\)|)(?=[^-]|$)/i},ia=/^(?:input|select|textarea|button)$/i,ta=/^h\d$/i,la=
/^[^{]+\{\s*\[native \w/,ra=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,oa=/[+~]/,ua=/'|\\/g,ka=RegExp("\\\\([\\da-f]{1,6}[\\x20\\t\\r\\n\\f]?|([\\x20\\t\\r\\n\\f])|.)","ig"),ma=function(a,b,c){a="0x"+b-65536;return a!==a||c?b:0>a?String.fromCharCode(a+65536):String.fromCharCode(a>>10|55296,a&1023|56320)};try{Z.apply(N=ha.call(M.childNodes),M.childNodes),N[M.childNodes.length].nodeType}catch(Ba){Z={apply:N.length?function(a,b){Y.apply(a,ha.call(b))}:function(a,b){for(var c=a.length,k=0;a[c++]=b[k++];);a.length=
c-1}}}var ea=h.support={};var wa=h.isXML=function(a){return(a=a&&(a.ownerDocument||a).documentElement)?"HTML"!==a.nodeName:!1};var na=h.setDocument=function(a){var b=a?a.ownerDocument||a:M;a=b.defaultView;if(b===t||9!==b.nodeType||!b.documentElement)return t;t=b;D=b.documentElement;G=!wa(b);var f;if(f=a){a:{try{var e=a.top;break a}catch(Da){}e=null}f=a!==e}f&&(a.addEventListener?a.addEventListener("unload",function(){na()},!1):a.attachEvent&&a.attachEvent("onunload",function(){na()}));ea.attributes=
d(function(a){a.className="i";return!a.getAttribute("className")});ea.getElementsByTagName=d(function(a){a.appendChild(b.createComment(""));return!a.getElementsByTagName("*").length});ea.getElementsByClassName=la.test(b.getElementsByClassName);ea.getById=d(function(a){D.appendChild(a).id=T;return!b.getElementsByName||!b.getElementsByName(T).length});ea.getById?(ba.find.ID=function(a,b){if(typeof b.getElementById!==E&&G){var c=b.getElementById(a);return c&&c.parentNode?[c]:[]}},ba.filter.ID=function(a){var b=
a.replace(ka,ma);return function(a){return a.getAttribute("id")===b}}):(delete ba.find.ID,ba.filter.ID=function(a){var b=a.replace(ka,ma);return function(a){return(a=typeof a.getAttributeNode!==E&&a.getAttributeNode("id"))&&a.value===b}});ba.find.TAG=ea.getElementsByTagName?function(a,b){if(typeof b.getElementsByTagName!==E)return b.getElementsByTagName(a)}:function(a,b){var c,k=[],f=0,t=b.getElementsByTagName(a);if("*"===a){for(;c=t[f++];)1===c.nodeType&&k.push(c);return k}return t};ba.find.CLASS=
ea.getElementsByClassName&&function(a,b){if(G)return b.getElementsByClassName(a)};V=[];F=[];if(ea.qsa=la.test(b.querySelectorAll))d(function(a){a.innerHTML="<select msallowcapture=''><option selected=''></option></select>";a.querySelectorAll("[msallowcapture^='']").length&&F.push("[*^$]=[\\x20\\t\\r\\n\\f]*(?:''|\"\")");a.querySelectorAll("[selected]").length||F.push("\\[[\\x20\\t\\r\\n\\f]*(?:value|checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped)");
a.querySelectorAll(":checked").length||F.push(":checked")}),d(function(a){var c=b.createElement("input");c.setAttribute("type","hidden");a.appendChild(c).setAttribute("name","D");a.querySelectorAll("[name=d]").length&&F.push("name[\\x20\\t\\r\\n\\f]*[*^$|!~]?=");a.querySelectorAll(":enabled").length||F.push(":enabled",":disabled");a.querySelectorAll("*,:x");F.push(",.*:")});(ea.matchesSelector=la.test(H=D.matches||D.webkitMatchesSelector||D.mozMatchesSelector||D.oMatchesSelector||D.msMatchesSelector))&&
d(function(a){ea.disconnectedMatch=H.call(a,"div");H.call(a,"[s!='']:x");V.push("!=",":((?:\\\\.|[\\w-]|[^\\x00-\\xa0])+)(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|\\[[\\x20\\t\\r\\n\\f]*((?:\\\\.|[\\w-]|[^\\x00-\\xa0])+)(?:[\\x20\\t\\r\\n\\f]*([*^$|!~]?=)[\\x20\\t\\r\\n\\f]*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|((?:\\\\.|[\\w-]|[^\\x00-\\xa0])+))|)[\\x20\\t\\r\\n\\f]*\\])*)|.*)\\)|)")});F=F.length&&new RegExp(F.join("|"));V=V.length&&new RegExp(V.join("|"));
K=(e=la.test(D.compareDocumentPosition))||la.test(D.contains)?function(a,b){var c=9===a.nodeType?a.documentElement:a,k=b&&b.parentNode;return a===k||!!(k&&1===k.nodeType&&(c.contains?c.contains(k):a.compareDocumentPosition&&a.compareDocumentPosition(k)&16))}:function(a,b){if(b)for(;b=b.parentNode;)if(b===a)return!0;return!1};C=e?function(a,c){if(a===c)return k=!0,0;var f=!a.compareDocumentPosition-!c.compareDocumentPosition;if(f)return f;f=(a.ownerDocument||a)===(c.ownerDocument||c)?a.compareDocumentPosition(c):
1;return f&1||!ea.sortDetached&&c.compareDocumentPosition(a)===f?a===b||a.ownerDocument===M&&K(M,a)?-1:c===b||c.ownerDocument===M&&K(M,c)?1:z?Q.call(z,a)-Q.call(z,c):0:f&4?-1:1}:function(a,f){if(a===f)return k=!0,0;var t=0;var d=a.parentNode;var e=f.parentNode,m=[a],l=[f];if(!d||!e)return a===b?-1:f===b?1:d?-1:e?1:z?Q.call(z,a)-Q.call(z,f):0;if(d===e)return c(a,f);for(d=a;d=d.parentNode;)m.unshift(d);for(d=f;d=d.parentNode;)l.unshift(d);for(;m[t]===l[t];)t++;return t?c(m[t],l[t]):m[t]===M?-1:l[t]===
M?1:0};return b};h.matches=function(a,b){return h(a,null,null,b)};h.matchesSelector=function(a,b){(a.ownerDocument||a)!==t&&na(a);b=b.replace(ja,"='$1']");if(!(!ea.matchesSelector||!G||V&&V.test(b)||F&&F.test(b)))try{var c=H.call(a,b);if(c||ea.disconnectedMatch||a.document&&11!==a.document.nodeType)return c}catch(Ca){}return 0<h(b,t,null,[a]).length};h.contains=function(a,b){(a.ownerDocument||a)!==t&&na(a);return K(a,b)};h.attr=function(a,b){(a.ownerDocument||a)!==t&&na(a);var c=ba.attrHandle[b.toLowerCase()];
c=c&&x.call(ba.attrHandle,b.toLowerCase())?c(a,b,!G):X;return c!==X?c:ea.attributes||!G?a.getAttribute(b):(c=a.getAttributeNode(b))&&c.specified?c.value:null};h.error=function(a){throw Error("Syntax error, unrecognized expression: "+a);};h.uniqueSort=function(a){var b,c=[],f=0,t=0;k=!ea.detectDuplicates;z=!ea.sortStable&&a.slice(0);a.sort(C);if(k){for(;b=a[t++];)b===a[t]&&(f=c.push(t));for(;f--;)a.splice(c[f],1)}z=null;return a};var va=h.getText=function(a){var b="",c=0;var k=a.nodeType;if(!k)for(;k=
a[c++];)b+=va(k);else if(1===k||9===k||11===k){if("string"===typeof a.textContent)return a.textContent;for(a=a.firstChild;a;a=a.nextSibling)b+=va(a)}else if(3===k||4===k)return a.nodeValue;return b};var ba=h.selectors={cacheLength:50,createPseudo:e,match:W,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(a){a[1]=a[1].replace(ka,ma);a[3]=(a[3]||a[4]||a[5]||"").replace(ka,
ma);"~="===a[2]&&(a[3]=" "+a[3]+" ");return a.slice(0,4)},CHILD:function(a){a[1]=a[1].toLowerCase();"nth"===a[1].slice(0,3)?(a[3]||h.error(a[0]),a[4]=+(a[4]?a[5]+(a[6]||1):2*("even"===a[3]||"odd"===a[3])),a[5]=+(a[7]+a[8]||"odd"===a[3])):a[3]&&h.error(a[0]);return a},PSEUDO:function(a){var b,c=!a[6]&&a[2];if(W.CHILD.test(a[0]))return null;a[3]?a[2]=a[4]||a[5]||"":c&&fa.test(c)&&(b=sa(c,!0))&&(b=c.indexOf(")",c.length-b)-c.length)&&(a[0]=a[0].slice(0,b),a[2]=c.slice(0,b));return a.slice(0,3)}},filter:{TAG:function(a){var b=
a.replace(ka,ma).toLowerCase();return"*"===a?function(){return!0}:function(a){return a.nodeName&&a.nodeName.toLowerCase()===b}},CLASS:function(a){var b=P[a+" "];return b||(b=new RegExp("(^|[\\x20\\t\\r\\n\\f])"+a+"([\\x20\\t\\r\\n\\f]|$)"),P(a,function(a){return b.test("string"===typeof a.className&&a.className||typeof a.getAttribute!==E&&a.getAttribute("class")||"")}))},ATTR:function(a,b,c){return function(k){k=h.attr(k,a);if(null==k)return"!="===b;if(!b)return!0;k+="";return"="===b?k===c:"!="===
b?k!==c:"^="===b?c&&0===k.indexOf(c):"*="===b?c&&-1<k.indexOf(c):"$="===b?c&&k.slice(-c.length)===c:"~="===b?-1<(" "+k+" ").indexOf(c):"|="===b?k===c||k.slice(0,c.length+1)===c+"-":!1}},CHILD:function(a,b,c,k,f){var t="nth"!==a.slice(0,3),d="last"!==a.slice(-4),e="of-type"===b;return 1===k&&0===f?function(a){return!!a.parentNode}:function(b,c,m){var l;c=t!==d?"nextSibling":"previousSibling";var v=b.parentNode,w=e&&b.nodeName.toLowerCase();m=!m&&!e;if(v){if(t){for(;c;){for(l=b;l=l[c];)if(e?l.nodeName.toLowerCase()===
w:1===l.nodeType)return!1;var u=c="only"===a&&!u&&"nextSibling"}return!0}u=[d?v.firstChild:v.lastChild];if(d&&m){m=v[T]||(v[T]={});var r=m[a]||[];var D=r[0]===I&&r[1];var p=r[0]===I&&r[2];for(l=D&&v.childNodes[D];l=++D&&l&&l[c]||(p=D=0)||u.pop();)if(1===l.nodeType&&++p&&l===b){m[a]=[I,D,p];break}}else if(m&&(r=(b[T]||(b[T]={}))[a])&&r[0]===I)p=r[1];else for(;(l=++D&&l&&l[c]||(p=D=0)||u.pop())&&((e?l.nodeName.toLowerCase()!==w:1!==l.nodeType)||!++p||(m&&((l[T]||(l[T]={}))[a]=[I,p]),l!==b)););p-=f;
return p===k||0===p%k&&0<=p/k}}},PSEUDO:function(a,b){var c=ba.pseudos[a]||ba.setFilters[a.toLowerCase()]||h.error("unsupported pseudo: "+a);if(c[T])return c(b);if(1<c.length){var k=[a,a,"",b];return ba.setFilters.hasOwnProperty(a.toLowerCase())?e(function(a,k){for(var f,t=c(a,b),d=t.length;d--;)f=Q.call(a,t[d]),a[f]=!(k[f]=t[d])}):function(a){return c(a,0,k)}}return c}},pseudos:{not:e(function(a){var b=[],c=[],k=xa(a.replace(aa,"$1"));return k[T]?e(function(a,b,c,f){f=k(a,null,f,[]);for(var t=a.length;t--;)if(c=
f[t])a[t]=!(b[t]=c)}):function(a,f,t){b[0]=a;k(b,null,t,c);return!c.pop()}}),has:e(function(a){return function(b){return 0<h(a,b).length}}),contains:e(function(a){a=a.replace(ka,ma);return function(b){return-1<(b.textContent||b.innerText||va(b)).indexOf(a)}}),lang:e(function(a){J.test(a||"")||h.error("unsupported lang: "+a);a=a.replace(ka,ma).toLowerCase();return function(b){var c;do if(c=G?b.lang:b.getAttribute("xml:lang")||b.getAttribute("lang"))return c=c.toLowerCase(),c===a||0===c.indexOf(a+"-");
while((b=b.parentNode)&&1===b.nodeType);return!1}}),target:function(a){var b=window.location&&window.location.hash;return b&&b.slice(1)===a.id},root:function(a){return a===D},focus:function(a){return a===t.activeElement&&(!t.hasFocus||t.hasFocus())&&!!(a.type||a.href||~a.tabIndex)},enabled:function(a){return!1===a.disabled},disabled:function(a){return!0===a.disabled},checked:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&!!a.checked||"option"===b&&!!a.selected},selected:function(a){a.parentNode&&
a.parentNode.selectedIndex;return!0===a.selected},empty:function(a){for(a=a.firstChild;a;a=a.nextSibling)if(6>a.nodeType)return!1;return!0},parent:function(a){return!ba.pseudos.empty(a)},header:function(a){return ta.test(a.nodeName)},input:function(a){return ia.test(a.nodeName)},button:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&"button"===a.type||"button"===b},text:function(a){var b;return"input"===a.nodeName.toLowerCase()&&"text"===a.type&&(null==(b=a.getAttribute("type"))||"text"===
b.toLowerCase())},first:p(function(){return[0]}),last:p(function(a,b){return[b-1]}),eq:p(function(a,b,c){return[0>c?c+b:c]}),even:p(function(a,b){for(var c=0;c<b;c+=2)a.push(c);return a}),odd:p(function(a,b){for(var c=1;c<b;c+=2)a.push(c);return a}),lt:p(function(a,b,c){for(b=0>c?c+b:c;0<=--b;)a.push(b);return a}),gt:p(function(a,b,c){for(c=0>c?c+b:c;++c<b;)a.push(c);return a})}};ba.pseudos.nth=ba.pseudos.eq;for(w in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})ba.pseudos[w]=a(w);for(w in{submit:!0,
reset:!0})ba.pseudos[w]=f(w);q.prototype=ba.filters=ba.pseudos;ba.setFilters=new q;var sa=h.tokenize=function(a,b){var c,k,f,t,d;if(t=S[a+" "])return b?0:t.slice(0);t=a;var e=[];for(d=ba.preFilter;t;){if(!m||(c=da.exec(t)))c&&(t=t.slice(c[0].length)||t),e.push(k=[]);var m=!1;if(c=ca.exec(t))m=c.shift(),k.push({value:m,type:c[0].replace(aa," ")}),t=t.slice(m.length);for(f in ba.filter)!(c=W[f].exec(t))||d[f]&&!(c=d[f](c))||(m=c.shift(),k.push({value:m,type:f,matches:c}),t=t.slice(m.length));if(!m)break}return b?
t.length:t?h.error(a):S(a,e).slice(0)};var xa=h.compile=function(a,b){var c,k=[],f=[],t=L[a+" "];if(!t){b||(b=sa(a));for(c=b.length;c--;)t=u(b[c]),t[T]?k.push(t):f.push(t);t=L(a,m(f,k));t.selector=a}return t};var Aa=h.select=function(a,b,c,k){var f,t,d,e="function"===typeof a&&a,m=!k&&sa(a=e.selector||a);c=c||[];if(1===m.length){var l=m[0]=m[0].slice(0);if(2<l.length&&"ID"===(t=l[0]).type&&ea.getById&&9===b.nodeType&&G&&ba.relative[l[1].type]){b=(ba.find.ID(t.matches[0].replace(ka,ma),b)||[])[0];
if(!b)return c;e&&(b=b.parentNode);a=a.slice(l.shift().value.length)}for(f=W.needsContext.test(a)?0:l.length;f--;){t=l[f];if(ba.relative[d=t.type])break;if(d=ba.find[d])if(k=d(t.matches[0].replace(ka,ma),oa.test(l[0].type)&&n(b.parentNode)||b)){l.splice(f,1);a=k.length&&r(l);if(!a)return Z.apply(c,k),c;break}}}(e||xa(a,m))(k,b,!G,c,oa.test(a)&&n(b.parentNode)||b);return c};ea.sortStable=T.split("").sort(C).join("")===T;ea.detectDuplicates=!!k;na();ea.sortDetached=d(function(a){return a.compareDocumentPosition(t.createElement("div"))&
1});d(function(a){a.innerHTML="<a href='#'></a>";return"#"===a.firstChild.getAttribute("href")})||b("type|href|height|width",function(a,b,c){if(!c)return a.getAttribute(b,"type"===b.toLowerCase()?1:2)});ea.attributes&&d(function(a){a.innerHTML="<input/>";a.firstChild.setAttribute("value","");return""===a.firstChild.getAttribute("value")})||b("value",function(a,b,c){if(!c&&"input"===a.nodeName.toLowerCase())return a.defaultValue});d(function(a){return null==a.getAttribute("disabled")})||b("checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",
function(a,b,c){var k;if(!c)return!0===a[b]?b.toLowerCase():(k=a.getAttributeNode(b))&&k.specified?k.value:null});return h});x("tinymce/util/Arr",[],function(){function h(d,b,c){var a;if(!d)return 0;c=c||d;if(d.length!==X){var f=0;for(a=d.length;f<a;f++)if(!1===b.call(c,d[f],f,d))return 0}else for(f in d)if(d.hasOwnProperty(f)&&!1===b.call(c,d[f],f,d))return 0;return 1}function g(d,b,c){var a;var f=0;for(a=d.length;f<a;f++)if(b.call(c,d[f],f,d))return f;return-1}var e=Array.isArray||function(d){return"[object Array]"===
Object.prototype.toString.call(d)};return{isArray:e,toArray:function(d){var b=d,c;if(!e(d)){b=[];var a=0;for(c=d.length;a<c;a++)b[a]=d[a]}return b},each:h,map:function(d,b){var c=[];h(d,function(a,f){c.push(b(a,f,d))});return c},filter:function(d,b){var c=[];h(d,function(a,f){b&&!b(a,f,d)||c.push(a)});return c},indexOf:function(d,b){var c;if(d){var a=0;for(c=d.length;a<c;a++)if(d[a]===b)return a}return-1},reduce:function(d,b,c,a){var f=0;for(3>arguments.length&&(c=d[0]);f<d.length;f++)c=b.call(a,
c,d[f],f);return c},findIndex:g,find:function(d,b,c){b=g(d,b,c);return-1!==b?d[b]:X},last:function(d){return d[d.length-1]}}});x("tinymce/util/Tools",["tinymce/Env","tinymce/util/Arr"],function(h,g){function e(a){return null===a||a===X?"":(""+a).replace(c,"")}function d(a,b){return b?"array"==b&&g.isArray(a)?!0:typeof a==b:a!==X}function b(a,c,d,e){e=e||this;a&&(d&&(a=a[d]),g.each(a,function(a,f){if(!1===c.call(e,a,f,d))return!1;b(a,c,d,e)}))}var c=/^\s*|\s*$/g;return{trim:e,isArray:g.isArray,is:d,
toArray:g.toArray,makeMap:function(a,b,c){a=a||[];"string"==typeof a&&(a=a.split(b||","));c=c||{};for(b=a.length;b--;)c[a[b]]={};return c},each:g.each,map:g.map,grep:g.filter,inArray:g.indexOf,extend:function(a,b){var c,f,d=arguments;var e=1;for(c=d.length;e<c;e++)for(f in b=d[e],b)if(b.hasOwnProperty(f)){var l=b[f];l!==X&&(a[f]=l)}return a},create:function(a,b,c){var f=0;a=/^((static) )?([\w.]+)(:([\w.]+))?/.exec(a);var d=a[3].match(/(^|\.)(\w+)$/i)[2];var e=this.createNS(a[3].replace(/\.\w+$/,""),
c);if(!e[d])if("static"==a[2]){if(e[d]=b,this.onCreate)this.onCreate(a[2],a[3],e[d])}else{b[d]||(b[d]=function(){},f=1);e[d]=b[d];this.extend(e[d].prototype,b);if(a[5]){var l=this.resolve(a[5]).prototype;var v=a[5].match(/\.(\w+)$/i)[1];var p=e[d];e[d]=f?function(){return l[v].apply(this,arguments)}:function(){this.parent=l[v];return p.apply(this,arguments)};e[d].prototype[d]=e[d];this.each(l,function(a,b){e[d].prototype[b]=l[b]});this.each(b,function(a,b){l[b]?e[d].prototype[b]=function(){this.parent=
l[b];return a.apply(this,arguments)}:b!=d&&(e[d].prototype[b]=a)})}this.each(b["static"],function(a,b){e[d][b]=a})}},walk:b,createNS:function(a,b){var c;b=b||window;a=a.split(".");for(c=0;c<a.length;c++){var f=a[c];b[f]||(b[f]={});b=b[f]}return b},resolve:function(a,b){var c;b=b||window;a=a.split(".");var f=0;for(c=a.length;f<c&&(b=b[a[f]],b);f++);return b},explode:function(a,b){return!a||d(a,"array")?a:g.map(a.split(b||","),e)},_addCacheSuffix:function(a){var b=h.cacheSuffix;b&&(a+=(-1===a.indexOf("?")?
"?":"&")+b);return a}}});x("tinymce/dom/DomQuery",["tinymce/dom/EventUtils","tinymce/dom/Sizzle","tinymce/util/Tools","tinymce/Env"],function(h,g,e,d){function b(a){return"undefined"!==typeof a}function c(a,b){var c;b=b||w;var k=b.createElement("div");var f=b.createDocumentFragment();for(k.innerHTML=a;c=k.firstChild;)f.appendChild(c);return f}function a(b,k,f,t){var d;if("string"===typeof k)k=c(k,v(b[0]));else if(k.length&&!k.nodeType){k=n.makeArray(k);if(t)for(d=k.length-1;0<=d;d--)a(b,k[d],f,t);
else for(d=0;d<k.length;d++)a(b,k[d],f,t);return b}if(k.nodeType)for(d=b.length;d--;)f.call(b[d],k);return b}function f(a,b){return a&&b&&-1!==(" "+a.className+" ").indexOf(" "+b+" ")}function p(a,b,c){var k,f;b=n(b)[0];a.each(function(){c&&k==this.parentNode||(k=this.parentNode,f=b.cloneNode(!1),this.parentNode.insertBefore(f,this));f.appendChild(this)});return a}function n(a,b){return new n.fn.init(a,b)}function q(a){return null===a||a===D?"":(""+a).replace(I,"")}function r(a,b){var c;if(a){var k=
a.length;if(void 0===k)for(c in a){if(a.hasOwnProperty(c)){var f=a[c];if(!1===b.call(f,c,f))break}}else for(c=0;c<k&&(f=a[c],!1!==b.call(f,c,f));c++);}return a}function l(a,b){var c=[];r(a,function(a,k){b(k,a)&&c.push(k)});return c}function v(a){return a?9==a.nodeType?a:a.ownerDocument:w}function B(a,b,c){var k=[];a=a[b];for("string"!=typeof c&&c instanceof n&&(c=c[0]);a&&9!==a.nodeType;){if(c!==X){if(a===c)break;if("string"==typeof c&&n(a).is(c))break}1===a.nodeType&&k.push(a);a=a[b]}return k}function y(a,
b,c,k){var f=[];for(k instanceof n&&(k=k[0]);a;a=a[b])if(!c||a.nodeType===c){if(k!==X){if(a===k)break;if("string"==typeof k&&n(a).is(k))break}f.push(a)}return f}function u(a,b,c){for(a=a[b];a;a=a[b])if(a.nodeType==c)return a;return null}function m(a,b,c){r(c,function(c,k){a[c]=a[c]||{};a[c][b]=k})}var w=document,A=Array.prototype.push,z=Array.prototype.slice,k=/^(?:[^#<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/,t=h.Event,D,G=e.makeMap("children,contents,next,prev"),F=e.makeMap("fillOpacity fontWeight lineHeight opacity orphans widows zIndex zoom",
" "),V=e.makeMap("checked compact declare defer disabled ismap multiple nohref noshade nowrap readonly selected"," "),H={"for":"htmlFor","class":"className",readonly:"readOnly"},K={"float":"cssFloat"},T={},M={},I=/^\s*|\s*$/g;n.fn=n.prototype={constructor:n,selector:"",context:null,length:0,init:function(a,b){var f,t;if(!a)return this;if(a.nodeType)return this.context=this[0]=a,this.length=1,this;if(b&&b.nodeType)this.context=b;else{if(b)return n(a).attr(b);this.context=b=document}if("string"===typeof a)if(this.selector=
a,f="<"===a.charAt(0)&&">"===a.charAt(a.length-1)&&3<=a.length?[null,a,null]:k.exec(a))if(f[1])for(t=c(a,v(b)).firstChild;t;)A.call(this,t),t=t.nextSibling;else{t=v(b).getElementById(f[2]);if(!t)return this;if(t.id!==f[2])return this.find(a);this.length=1;this[0]=t}else return n(b).find(a);else this.add(a,!1);return this},toArray:function(){return e.toArray(this)},add:function(a,b){var c;if("string"===typeof a)return this.add(n(a));if(!1!==b){var k=n.unique(this.toArray().concat(n.makeArray(a)));
this.length=k.length;for(c=0;c<k.length;c++)this[c]=k[c]}else A.apply(this,n.makeArray(a));return this},attr:function(a,c){var k=this,f;if("object"===typeof a)r(a,function(a,b){k.attr(a,b)});else if(b(c))this.each(function(){var b;1===this.nodeType&&((b=T[a])&&b.set?b.set(this,c):null===c?this.removeAttribute(a,2):this.setAttribute(a,c,2))});else{if(k[0]&&1===k[0].nodeType){if((f=T[a])&&f.get)return f.get(k[0],a);if(V[a])return k.prop(a)?a:D;c=k[0].getAttribute(a,2);null===c&&(c=D)}return c}return k},
removeAttr:function(a){return this.attr(a,null)},prop:function(a,c){var k=this;a=H[a]||a;if("object"===typeof a)r(a,function(a,b){k.prop(a,b)});else if(b(c))this.each(function(){1==this.nodeType&&(this[a]=c)});else return k[0]&&k[0].nodeType&&a in k[0]?k[0][a]:c;return k},css:function(a,c){function k(a){return a.replace(/-(\D)/g,function(a,b){return b.toUpperCase()})}function f(a){return a.replace(/[A-Z]/g,function(a){return"-"+a})}var t=this,d;if("object"===typeof a)r(a,function(a,b){t.css(a,b)});
else if(b(c))a=k(a),"number"!==typeof c||F[a]||(c+="px"),t.each(function(){var b=this.style;if((d=M[a])&&d.set)d.set(this,c);else{try{this.style[K[a]||a]=c}catch(R){}if(null===c||""===c)b.removeProperty?b.removeProperty(f(a)):b.removeAttribute(a)}});else{var e=t[0];if((d=M[a])&&d.get)return d.get(e);if(e.ownerDocument.defaultView)try{return e.ownerDocument.defaultView.getComputedStyle(e,null).getPropertyValue(f(a))}catch(N){return D}else if(e.currentStyle)return e.currentStyle[k(a)]}return t},remove:function(){for(var a,
b=this.length;b--;)a=this[b],t.clean(a),a.parentNode&&a.parentNode.removeChild(a);return this},empty:function(){for(var a,b=this.length;b--;)for(a=this[b];a.firstChild;)a.removeChild(a.firstChild);return this},html:function(a){if(b(a)){var c=this.length;try{for(;c--;)this[c].innerHTML=a}catch(S){n(this[c]).empty().append(a)}return this}return this[0]?this[0].innerHTML:""},text:function(a){var c;if(b(a)){for(c=this.length;c--;)"innerText"in this[c]?this[c].innerText=a:this[0].textContent=a;return this}return this[0]?
this[0].innerText||this[0].textContent:""},append:function(){return a(this,arguments,function(a){(1===this.nodeType||this.host&&1===this.host.nodeType)&&this.appendChild(a)})},prepend:function(){return a(this,arguments,function(a){(1===this.nodeType||this.host&&1===this.host.nodeType)&&this.insertBefore(a,this.firstChild)},!0)},before:function(){return this[0]&&this[0].parentNode?a(this,arguments,function(a){this.parentNode.insertBefore(a,this)}):this},after:function(){return this[0]&&this[0].parentNode?
a(this,arguments,function(a){this.parentNode.insertBefore(a,this.nextSibling)},!0):this},appendTo:function(a){n(a).append(this);return this},prependTo:function(a){n(a).prepend(this);return this},replaceWith:function(a){return this.before(a).remove()},wrap:function(a){return p(this,a)},wrapAll:function(a){return p(this,a,!0)},wrapInner:function(a){this.each(function(){n(this).contents().wrapAll(a)});return this},unwrap:function(){return this.parent().each(function(){n(this).replaceWith(this.childNodes)})},
clone:function(){var a=[];this.each(function(){a.push(this.cloneNode(!0))});return n(a)},addClass:function(a){return this.toggleClass(a,!0)},removeClass:function(a){return this.toggleClass(a,!1)},toggleClass:function(a,b){var c=this;if("string"!=typeof a)return c;-1!==a.indexOf(" ")?r(a.split(" "),function(){c.toggleClass(this,b)}):c.each(function(c,k){var t=f(k,a);if(t!==b){var d=k.className;k.className=t?q((" "+d+" ").replace(" "+a+" "," ")):k.className+(d?" "+a:a)}});return c},hasClass:function(a){return f(this[0],
a)},each:function(a){return r(this,a)},on:function(a,b){return this.each(function(){t.bind(this,a,b)})},off:function(a,b){return this.each(function(){t.unbind(this,a,b)})},trigger:function(a){return this.each(function(){"object"==typeof a?t.fire(this,a.type,a):t.fire(this,a)})},show:function(){return this.css("display","")},hide:function(){return this.css("display","none")},slice:function(){return new n(z.apply(this,arguments))},eq:function(a){return-1===a?this.slice(a):this.slice(a,+a+1)},first:function(){return this.eq(0)},
last:function(){return this.eq(-1)},find:function(a){var b,c=[];var k=0;for(b=this.length;k<b;k++)n.find(a,this[k],c);return n(c)},filter:function(a){return"function"==typeof a?n(l(this.toArray(),function(b,c){return a(c,b)})):n(n.filter(a,this.toArray()))},closest:function(a){var b=[];a instanceof n&&(a=a[0]);this.each(function(c,k){for(;k;){if("string"==typeof a&&n(k).is(a)){b.push(k);break}else if(k==a){b.push(k);break}k=k.parentNode}});return n(b)},offset:function(a){var b,c=0,k=0;if(!a){if(b=
this[0]){a=b.ownerDocument;var f=a.documentElement;b.getBoundingClientRect&&(k=b.getBoundingClientRect(),c=k.left+(f.scrollLeft||a.body.scrollLeft)-f.clientLeft,k=k.top+(f.scrollTop||a.body.scrollTop)-f.clientTop)}return{left:c,top:k}}return this.css(a)},push:A,sort:[].sort,splice:[].splice};e.extend(n,{extend:e.extend,makeArray:function(a){return a&&a==a.window||a.nodeType?[a]:e.toArray(a)},inArray:function(a,b){var c;if(b.indexOf)return b.indexOf(a);for(c=b.length;c--;)if(b[c]===a)return c;return-1},
isArray:e.isArray,each:r,trim:q,grep:l,find:g,expr:g.selectors,unique:g.uniqueSort,text:g.getText,contains:g.contains,filter:function(a,b,c){var k=b.length;for(c&&(a=":not("+a+")");k--;)1!=b[k].nodeType&&b.splice(k,1);return b=1===b.length?n.find.matchesSelector(b[0],a)?[b[0]]:[]:n.find.matches(a,b)}});r({parent:function(a){return(a=a.parentNode)&&11!==a.nodeType?a:null},parents:function(a){return B(a,"parentNode")},next:function(a){return u(a,"nextSibling",1)},prev:function(a){return u(a,"previousSibling",
1)},children:function(a){return y(a.firstChild,"nextSibling",1)},contents:function(a){return e.toArray(("iframe"===a.nodeName?a.contentDocument||a.contentWindow.document:a).childNodes)}},function(a,b){n.fn[a]=function(c){var k=[];this.each(function(){var a=b.call(k,this,c,k);a&&(n.isArray(a)?k.push.apply(k,a):k.push(a))});1<this.length&&(G[a]||(k=n.unique(k)),0===a.indexOf("parents")&&(k=k.reverse()));k=n(k);return c?k.filter(c):k}});r({parentsUntil:function(a,b){return B(a,"parentNode",b)},nextUntil:function(a,
b){return y(a,"nextSibling",1,b).slice(1)},prevUntil:function(a,b){return y(a,"previousSibling",1,b).slice(1)}},function(a,b){n.fn[a]=function(c,k){var f=[];this.each(function(){var a=b.call(f,this,c,f);a&&(n.isArray(a)?f.push.apply(f,a):f.push(a))});1<this.length&&(f=n.unique(f),0===a.indexOf("parents")||"prevUntil"===a)&&(f=f.reverse());f=n(f);return k?f.filter(k):f}});n.fn.is=function(a){return!!a&&0<this.filter(a).length};n.fn.init.prototype=n.fn;n.overrideDefaults=function(a){function b(k,f){c=
c||a();0===arguments.length&&(k=c.element);f||(f=c.context);return new b.fn.init(k,f)}var c;n.extend(b,this);return b};d.ie&&8>d.ie&&(m(T,"get",{maxlength:function(a){a=a.maxLength;return 2147483647===a?D:a},size:function(a){a=a.size;return 20===a?D:a},"class":function(a){return a.className},style:function(a){a=a.style.cssText;return 0===a.length?D:a}}),m(T,"set",{"class":function(a,b){a.className=b},style:function(a,b){a.style.cssText=b}}));d.ie&&9>d.ie&&(K["float"]="styleFloat",m(M,"set",{opacity:function(a,
b){var c=a.style;null===b||""===b?c.removeAttribute("filter"):(c.zoom=1,c.filter="alpha(opacity="+100*b+")")}}));n.attrHooks=T;n.cssHooks=M;return n});x("tinymce/html/Styles",[],function(){return function(h,g){function e(a,b,c,f){function d(a){a=parseInt(a,10).toString(16);return 1<a.length?a:"0"+a}return"#"+d(b)+d(c)+d(f)}var d=/rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\s*\)/gi,b=/(?:url(?:(?:\(\s*\"([^\"]+)\"\s*\))|(?:\(\s*\'([^\']+)\'\s*\))|(?:\(\s*([^)\s]+)\s*\))))|(?:\'([^\']+)\')|(?:\"([^\"]+)\")/gi,
c=/\s*([^:]+):\s*([^;]+);?/g,a=/\s+$/,f,p={};h=h||{};if(g){var n=g.getValidStyles();var q=g.getInvalidStyles()}var r="\\\" \\' \\; \\: ; : \ufeff".split(" ");for(f=0;f<r.length;f++)p[r[f]]="\ufeff"+f,p["\ufeff"+f]=r[f];return{toHex:function(a){return a.replace(d,e)},parse:function(l){function v(a,b,c){var k,t,d,e;if(k=g[a+"-top"+b])if(t=g[a+"-right"+b])if(d=g[a+"-bottom"+b])if(e=g[a+"-left"+b]){k=[k,t,d,e];for(f=k.length-1;f--&&k[f]===k[f+1];);-1<f&&c||(g[a+b]=-1==f?k[0]:k.join(" "),delete g[a+"-top"+
b],delete g[a+"-right"+b],delete g[a+"-bottom"+b],delete g[a+"-left"+b])}}function r(a){var b=g[a],c;if(b){b=b.split(" ");for(c=b.length;c--;)if(b[c]!==b[0])return!1;g[a]=b[0];return!0}}function q(a,b,c,k){r(b)&&r(c)&&r(k)&&(g[a]=g[b]+" "+g[c]+" "+g[k],delete g[b],delete g[c],delete g[k])}function u(a){k=!0;return p[a]}function m(a,b){k&&(a=a.replace(/\uFEFF[0-9]/g,function(a){return p[a]}));b||(a=a.replace(/\\([\'\";:])/g,"$1"));return a}function w(a,b,c,k,f,d){if(f=f||d)return f=m(f),"'"+f.replace(/\'/g,
"\\'")+"'";b=m(b||c||k);if(!h.allow_script_urls&&(a=b.replace(/[\s\r\n]+/,""),/(java|vb)script:/i.test(a)||!h.allow_svg_data_urls&&/^data:image\/svg/i.test(a)))return"";t&&(b=t.call(D,b,"style"));return"url('"+b.replace(/\'/g,"\\'")+"')"}var g={},z,k,t=h.url_converter,D=h.url_converter_scope||this;if(l){l=l.replace(/[\u0000-\u001F]/g,"");for(l=l.replace(/\\[\"\';:\uFEFF]/g,u).replace(/\"[^\"]+\"|\'[^\']+\'/g,function(a){return a.replace(/[;:]/g,u)});z=c.exec(l);){var n=z[1].replace(a,"").toLowerCase();
var F=z[2].replace(a,"");F=F.replace(/\\[0-9a-f]+/g,function(a){return String.fromCharCode(parseInt(a.substr(1),16))});if(n&&0<F.length){if(!h.allow_script_urls&&("behavior"==n||/expression\s*\(|\/\*|\*\//.test(F)))continue;if("font-weight"===n&&"700"===F)F="bold";else if("color"===n||"background-color"===n)F=F.toLowerCase();F=F.replace(d,e);F=F.replace(b,w);g[n]=k?m(F,!0):F}c.lastIndex=z.index+z[0].length}v("border","",!0);v("border","-width");v("border","-color");v("border","-style");v("padding",
"");v("margin","");q("border","border-width","border-style","border-color");"medium none"===g.border&&delete g.border;"none"===g["border-image"]&&delete g["border-image"]}return g},serialize:function(a,b){function c(b){var c,k;if(c=n[b]){var f=0;for(k=c.length;f<k;f++){b=c[f];var e=a[b];void 0!==e&&0<e.length&&(d+=(0<d.length?" ":"")+b+": "+e+";")}}}function f(a,b){var c;return(c=q["*"])&&c[a]?!1:(c=q[b])&&c[a]?!1:!0}var d="",e;if(b&&n)c("*"),c(b);else for(e in a){var l=a[e];void 0!==l&&0<l.length&&
(!q||f(e,b))&&(d+=(0<d.length?" ":"")+e+": "+l+";")}return d}}}});x("tinymce/dom/TreeWalker",[],function(){return function(h,g){function e(b,c,a,f){if(b){if(!f&&b[c])return b[c];if(b!=g){if(c=b[a])return c;for(b=b.parentNode;b&&b!=g;b=b.parentNode)if(c=b[a])return c}}}var d=h;this.current=function(){return d};this.next=function(b){return d=e(d,"firstChild","nextSibling",b)};this.prev=function(b){return d=e(d,"lastChild","previousSibling",b)};this.prev2=function(b){a:{if(d){var c=d.previousSibling;
if(g&&c===g){d=void 0;break a}if(c){if(!b)for(b=c.lastChild;b;b=b.lastChild)if(!b.lastChild){d=b;break a}d=c;break a}if((c=d.parentNode)&&c!==g){d=c;break a}}d=void 0}return d}}});x("tinymce/dom/Range",["tinymce/util/Tools"],function(h){function g(e){function d(a,b){q(!0,a,b)}function b(a,b){q(!1,a,b)}function c(a){d(a.parentNode,z(a))}function a(a){b(a.parentNode,z(a)+1)}function f(){return r(1)}function p(a,b){var c;if(3==a.nodeType||0>b)return a;for(c=a.firstChild;c&&0<b;)--b,c=c.nextSibling;return c?
c:a}function n(a,b,c,f){var k;if(a==c)return b==f?0:b<f?-1:1;for(k=c;k&&k.parentNode!=a;)k=k.parentNode;if(k){var d=0;for(c=a.firstChild;c!=k&&d<b;)d++,c=c.nextSibling;return b<=d?-1:1}for(k=a;k&&k.parentNode!=c;)k=k.parentNode;if(k){d=0;for(c=c.firstChild;c!=k&&d<f;)d++,c=c.nextSibling;return d<f?-1:1}for(b=e.findCommonAncestor(a,c);a&&a.parentNode!=b;)a=a.parentNode;a||(a=b);for(f=c;f&&f.parentNode!=b;)f=f.parentNode;f||(f=b);if(a==f)return 0;for(c=b.firstChild;c;){if(c==a)return-1;if(c==f)return 1;
c=c.nextSibling}}function q(a,b,c){a?(m.startContainer=b,m.startOffset=c):(m.endContainer=b,m.endOffset=c);for(b=m.endContainer;b.parentNode;)b=b.parentNode;for(c=m.startContainer;c.parentNode;)c=c.parentNode;c==b?0<n(m.startContainer,m.startOffset,m.endContainer,m.endOffset)&&m.collapse(a):m.collapse(a);m.collapsed=m.startContainer==m.endContainer&&m.startOffset==m.endOffset;m.commonAncestorContainer=e.findCommonAncestor(m.startContainer,m.endContainer)}function r(a){var b=0,c=0,k;if(m.startContainer==
m.endContainer)return l(a);var f=m.endContainer;for(k=f.parentNode;k;f=k,k=k.parentNode){if(k==m.startContainer){var d=void 0;c=a;2!=c&&(d=w.createDocumentFragment());k=v(f,c);d&&d.appendChild(k);b=z(f)-m.startOffset;if(!(0>=b))for(k=f.previousSibling;0<b;)a=k.previousSibling,k=u(k,c),d&&d.insertBefore(k,d.firstChild),--b,k=a;1!=c&&(m.setEndBefore(f),m.collapse(!1));a=d;return a}++b}f=m.startContainer;for(k=f.parentNode;k;f=k,k=k.parentNode){if(k==m.endContainer){d=void 0;2!=a&&(d=w.createDocumentFragment());
k=B(f,a);d&&d.appendChild(k);b=z(f);++b;c=m.endOffset-b;for(k=f.nextSibling;k&&0<c;)b=k.nextSibling,k=u(k,a),d&&d.appendChild(k),--c,k=b;1!=a&&(m.setStartAfter(f),m.collapse(!0));return d}++c}c-=b;for(f=m.startContainer;0<c;)f=f.parentNode,c--;for(b=m.endContainer;0>c;)b=b.parentNode,c++;c=f.parentNode;for(k=b.parentNode;c!=k;c=c.parentNode,k=k.parentNode)f=c,b=k;2!=a&&(d=w.createDocumentFragment());var e=B(f,a);d&&d.appendChild(e);c=z(f);k=z(b);++c;c=k-c;for(e=f.nextSibling;0<c;)k=e.nextSibling,
e=u(e,a),d&&d.appendChild(e),e=k,--c;e=v(b,a);d&&d.appendChild(e);1!=a&&(m.setStartAfter(f),m.collapse(!0));return d}function l(a){var b;2!=a&&(b=w.createDocumentFragment());if(m.startOffset==m.endOffset)return b;if(3==m.startContainer.nodeType){var c=m.startContainer.nodeValue;var k=c.substring(m.startOffset,m.endOffset);if(1!=a){c=m.startContainer;var f=m.startOffset;var d=m.endOffset-m.startOffset;0===f&&d>=c.nodeValue.length-1?c.parentNode.removeChild(c):c.deleteData(f,d);m.collapse(!0)}if(2==
a)return;0<k.length&&b.appendChild(w.createTextNode(k));return b}c=p(m.startContainer,m.startOffset);for(k=m.endOffset-m.startOffset;c&&0<k;)f=c.nextSibling,c=u(c,a),b&&b.appendChild(c),--k,c=f;1!=a&&m.collapse(!0);return b}function v(a,b){var c=p(m.endContainer,m.endOffset-1),k,f=c!=m.endContainer;if(c==a)return y(c,f,!1,b);var d=c.parentNode;for(k=y(d,!1,!1,b);d;){for(;c;){var e=c.previousSibling;c=y(c,f,!1,b);2!=b&&k.insertBefore(c,k.firstChild);f=!0;c=e}if(d==a)return k;c=d.previousSibling;d=
d.parentNode;e=y(d,!1,!1,b);2!=b&&e.appendChild(k);k=e}}function B(a,b){var c=p(m.startContainer,m.startOffset),k=c!=m.startContainer,f;if(c==a)return y(c,k,!0,b);var d=c.parentNode;for(f=y(d,!1,!0,b);d;){for(;c;){var e=c.nextSibling;c=y(c,k,!0,b);2!=b&&f.appendChild(c);k=!0;c=e}if(d==a)return f;c=d.nextSibling;d=d.parentNode;e=y(d,!1,!0,b);2!=b&&e.appendChild(f);f=e}}function y(a,b,c,f){if(b)return u(a,f);if(3==a.nodeType){b=a.nodeValue;if(c){var k=m.startOffset;c=b.substring(k);b=b.substring(0,
k)}else k=m.endOffset,c=b.substring(0,k),b=b.substring(k);1!=f&&(a.nodeValue=b);if(2==f)return;a=e.clone(a,!1);a.nodeValue=c;return a}if(2!=f)return e.clone(a,!1)}function u(a,b){if(2!=b)return 1==b?e.clone(a,!0):a;a.parentNode.removeChild(a)}var m=this,w=e.doc,A=h.extend,z=e.nodeIndex;A(m,{startContainer:w,startOffset:0,endContainer:w,endOffset:0,collapsed:!0,commonAncestorContainer:w,START_TO_START:0,START_TO_END:1,END_TO_END:2,END_TO_START:3,setStart:d,setEnd:b,setStartBefore:c,setStartAfter:function(a){d(a.parentNode,
z(a)+1)},setEndBefore:function(a){b(a.parentNode,z(a))},setEndAfter:a,collapse:function(a){a?(m.endContainer=m.startContainer,m.endOffset=m.startOffset):(m.startContainer=m.endContainer,m.startOffset=m.endOffset);m.collapsed=!0},selectNode:function(b){c(b);a(b)},selectNodeContents:function(a){d(a,0);b(a,1===a.nodeType?a.childNodes.length:a.nodeValue.length)},compareBoundaryPoints:function(a,b){var c=m.startContainer,k=m.startOffset,f=m.endContainer,d=m.endOffset,e=b.startContainer,t=b.startOffset,
l=b.endContainer,v=b.endOffset;if(0===a)return n(c,k,e,t);if(1===a)return n(f,d,e,t);if(2===a)return n(f,d,l,v);if(3===a)return n(c,k,l,v)},deleteContents:function(){r(2)},extractContents:function(){return r(0)},cloneContents:f,insertNode:function(a){var b=this.startContainer,c=this.startOffset,k;3!==b.nodeType&&4!==b.nodeType||!b.nodeValue?(0<b.childNodes.length&&(k=b.childNodes[c]),k?b.insertBefore(a,k):3==b.nodeType?e.insertAfter(a,b):b.appendChild(a)):c?c>=b.nodeValue.length?e.insertAfter(a,b):
(c=b.splitText(c),b.parentNode.insertBefore(a,c)):b.parentNode.insertBefore(a,b)},surroundContents:function(a){var b=m.extractContents();m.insertNode(a);a.appendChild(b);m.selectNode(a)},cloneRange:function(){return A(new g(e),{startContainer:m.startContainer,startOffset:m.startOffset,endContainer:m.endContainer,endOffset:m.endOffset,collapsed:m.collapsed,commonAncestorContainer:m.commonAncestorContainer})},toStringIE:function(){return e.create("body",null,f()).outerText}});return m}g.prototype.toString=
function(){return this.toStringIE()};return g});x("tinymce/html/Entities",["tinymce/util/Tools"],function(h){function g(a,b){var c,f={};if(a){a=a.split(",");b=b||10;for(c=0;c<a.length;c+=2){var d=String.fromCharCode(parseInt(a[c],b));if(!p[d]){var e="&"+a[c+1]+";";f[d]=e;f[e]=d}}return f}}var e=h.makeMap,d=/[&<>\"\u0060\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,b=/[<>&\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,c=/[<>&\"\']/g,a=/&#([a-z0-9]+);?|&([a-z0-9]+);/gi,
f={128:"\u20ac",130:"\u201a",131:"\u0192",132:"\u201e",133:"\u2026",134:"\u2020",135:"\u2021",136:"\u02c6",137:"\u2030",138:"\u0160",139:"\u2039",140:"\u0152",142:"\u017d",145:"\u2018",146:"\u2019",147:"\u201c",148:"\u201d",149:"\u2022",150:"\u2013",151:"\u2014",152:"\u02dc",153:"\u2122",154:"\u0161",155:"\u203a",156:"\u0153",158:"\u017e",159:"\u0178"};var p={'"':"&quot;","'":"&#39;","<":"&lt;",">":"&gt;","&":"&amp;","`":"&#96;"};var n={"&lt;":"<","&gt;":">","&amp;":"&","&quot;":'"',"&apos;":"'"};
var q=g("50,nbsp,51,iexcl,52,cent,53,pound,54,curren,55,yen,56,brvbar,57,sect,58,uml,59,copy,5a,ordf,5b,laquo,5c,not,5d,shy,5e,reg,5f,macr,5g,deg,5h,plusmn,5i,sup2,5j,sup3,5k,acute,5l,micro,5m,para,5n,middot,5o,cedil,5p,sup1,5q,ordm,5r,raquo,5s,frac14,5t,frac12,5u,frac34,5v,iquest,60,Agrave,61,Aacute,62,Acirc,63,Atilde,64,Auml,65,Aring,66,AElig,67,Ccedil,68,Egrave,69,Eacute,6a,Ecirc,6b,Euml,6c,Igrave,6d,Iacute,6e,Icirc,6f,Iuml,6g,ETH,6h,Ntilde,6i,Ograve,6j,Oacute,6k,Ocirc,6l,Otilde,6m,Ouml,6n,times,6o,Oslash,6p,Ugrave,6q,Uacute,6r,Ucirc,6s,Uuml,6t,Yacute,6u,THORN,6v,szlig,70,agrave,71,aacute,72,acirc,73,atilde,74,auml,75,aring,76,aelig,77,ccedil,78,egrave,79,eacute,7a,ecirc,7b,euml,7c,igrave,7d,iacute,7e,icirc,7f,iuml,7g,eth,7h,ntilde,7i,ograve,7j,oacute,7k,ocirc,7l,otilde,7m,ouml,7n,divide,7o,oslash,7p,ugrave,7q,uacute,7r,ucirc,7s,uuml,7t,yacute,7u,thorn,7v,yuml,ci,fnof,sh,Alpha,si,Beta,sj,Gamma,sk,Delta,sl,Epsilon,sm,Zeta,sn,Eta,so,Theta,sp,Iota,sq,Kappa,sr,Lambda,ss,Mu,st,Nu,su,Xi,sv,Omicron,t0,Pi,t1,Rho,t3,Sigma,t4,Tau,t5,Upsilon,t6,Phi,t7,Chi,t8,Psi,t9,Omega,th,alpha,ti,beta,tj,gamma,tk,delta,tl,epsilon,tm,zeta,tn,eta,to,theta,tp,iota,tq,kappa,tr,lambda,ts,mu,tt,nu,tu,xi,tv,omicron,u0,pi,u1,rho,u2,sigmaf,u3,sigma,u4,tau,u5,upsilon,u6,phi,u7,chi,u8,psi,u9,omega,uh,thetasym,ui,upsih,um,piv,812,bull,816,hellip,81i,prime,81j,Prime,81u,oline,824,frasl,88o,weierp,88h,image,88s,real,892,trade,89l,alefsym,8cg,larr,8ch,uarr,8ci,rarr,8cj,darr,8ck,harr,8dl,crarr,8eg,lArr,8eh,uArr,8ei,rArr,8ej,dArr,8ek,hArr,8g0,forall,8g2,part,8g3,exist,8g5,empty,8g7,nabla,8g8,isin,8g9,notin,8gb,ni,8gf,prod,8gh,sum,8gi,minus,8gn,lowast,8gq,radic,8gt,prop,8gu,infin,8h0,ang,8h7,and,8h8,or,8h9,cap,8ha,cup,8hb,int,8hk,there4,8hs,sim,8i5,cong,8i8,asymp,8j0,ne,8j1,equiv,8j4,le,8j5,ge,8k2,sub,8k3,sup,8k4,nsub,8k6,sube,8k7,supe,8kl,oplus,8kn,otimes,8l5,perp,8m5,sdot,8o8,lceil,8o9,rceil,8oa,lfloor,8ob,rfloor,8p9,lang,8pa,rang,9ea,loz,9j0,spades,9j3,clubs,9j5,hearts,9j6,diams,ai,OElig,aj,oelig,b0,Scaron,b1,scaron,bo,Yuml,m6,circ,ms,tilde,802,ensp,803,emsp,809,thinsp,80c,zwnj,80d,zwj,80e,lrm,80f,rlm,80j,ndash,80k,mdash,80o,lsquo,80p,rsquo,80q,sbquo,80s,ldquo,80t,rdquo,80u,bdquo,810,dagger,811,Dagger,81g,permil,81p,lsaquo,81q,rsaquo,85c,euro",
32);var r={encodeRaw:function(a,c){return a.replace(c?d:b,function(a){return p[a]||a})},encodeAllRaw:function(a){return(""+a).replace(c,function(a){return p[a]||a})},encodeNumeric:function(a,c){return a.replace(c?d:b,function(a){return 1<a.length?"&#"+(1024*(a.charCodeAt(0)-55296)+(a.charCodeAt(1)-56320)+65536)+";":p[a]||"&#"+a.charCodeAt(0)+";"})},encodeNamed:function(a,c,f){f=f||q;return a.replace(c?d:b,function(a){return p[a]||f[a]||a})},getEncodeFunc:function(a,c){function f(a,f){return a.replace(f?
d:b,function(a){return p[a]||c[a]||"&#"+a.charCodeAt(0)+";"||a})}function l(a,b){return r.encodeNamed(a,b,c)}c=g(c)||q;a=e(a.replace(/\+/g,","));return a.named&&a.numeric?f:a.named?c?l:r.encodeNamed:a.numeric?r.encodeNumeric:r.encodeRaw},decode:function(b){return b.replace(a,function(a,b){if(b)return b="x"===b.charAt(0).toLowerCase()?parseInt(b.substr(1),16):parseInt(b,10),65535<b?(b-=65536,String.fromCharCode(55296+(b>>10),56320+(b&1023))):f[b]||String.fromCharCode(b);var c;(c=n[a]||q[a])||(c=document.createElement("div"),
c.innerHTML=a,c=c.textContent||c.innerText||a);return c})}};return r});x("tinymce/dom/StyleSheetLoader",["tinymce/util/Tools","tinymce/util/Delay"],function(h,g){return function(e,d){function b(a){e.getElementsByTagName("head")[0].appendChild(a)}var c=0,a={};d=d||{};var f=d.maxLoadTime||5E3;this.load=function(d,n,q){function r(){for(var a=m.passed,b=a.length;b--;)a[b]();m.status=2;m.passed=[];m.failed=[]}function l(){for(var a=m.failed,b=a.length;b--;)a[b]();m.status=3;m.passed=[];m.failed=[]}function v(){var a=
navigator.userAgent.match(/WebKit\/(\d*)/);return!!(a&&536>a[1])}function p(a,b){a()||((new Date).getTime()-A<f?g.setTimeout(b):l())}function y(){p(function(){for(var a=e.styleSheets,b,c=a.length;c--;)if(b=a[c],(b=b.ownerNode?b.ownerNode:b.owningElement)&&b.id===w.id)return r(),!0},y)}function u(){p(function(){try{var a=z.sheet.cssRules;r();return!!a}catch(t){}},u)}d=h._addCacheSuffix(d);if(a[d])var m=a[d];else m={passed:[],failed:[]},a[d]=m;n&&m.passed.push(n);q&&m.failed.push(q);if(1!=m.status)if(2==
m.status)r();else if(3==m.status)l();else{m.status=1;var w=e.createElement("link");w.rel="stylesheet";w.type="text/css";w.id="u"+c++;w.async=!1;w.defer=!1;var A=(new Date).getTime();if("onload"in w&&!v())w.onload=y,w.onerror=l;else{if(0<navigator.userAgent.indexOf("Firefox")){var z=e.createElement("style");z.textContent='@import "'+d+'"';u();b(z);return}y()}b(w);w.href=d}}}});x("tinymce/dom/DOMUtils","tinymce/dom/Sizzle tinymce/dom/DomQuery tinymce/html/Styles tinymce/dom/EventUtils tinymce/dom/TreeWalker tinymce/dom/Range tinymce/html/Entities tinymce/Env tinymce/util/Tools tinymce/dom/StyleSheetLoader".split(" "),
function(h,g,e,d,b,c,a,f,p,n){function q(a,b){var c={},k=b.keep_values;var f={set:function(c,k,f){b.url_converter&&(k=b.url_converter.call(b.url_converter_scope||a,k,f,c[0]));c.attr("data-mce-"+f,k).attr(f,k)},get:function(a,b){return a.attr("data-mce-"+b)||a.attr(b)}};c={style:{set:function(a,b){null!==b&&"object"===typeof b?a.css(b):(k&&a.attr("data-mce-style",b),a.attr("style",b))},get:function(b){var c=b.attr("data-mce-style")||b.attr("style");return c=a.serializeStyle(a.parseStyle(c),b[0].nodeName)}}};
k&&(c.href=c.src=f);return c}function r(a,b){var c=b.attr("style");(c=a.serializeStyle(a.parseStyle(c),b[0].nodeName))||(c=null);b.attr("data-mce-style",c)}function l(a,b){var c=0;if(a){var k=a.nodeType;for(a=a.previousSibling;a;a=a.previousSibling){var f=a.nodeType;if(!b||3!=f||f!=k&&a.nodeValue.length)c++,k=f}}return c}function v(a,b){var c=this;c.doc=a;c.win=window;c.files={};c.counter=0;c.stdMode=!w||8<=a.documentMode;c.boxModel=!w||"CSS1Compat"==a.compatMode||c.stdMode;c.styleSheetLoader=new n(a);
c.boundEvents=[];c.settings=b=b||{};c.schema=b.schema;c.styles=new e({url_converter:b.url_converter,url_converter_scope:b.url_converter_scope},b.schema);c.fixDoc(a);c.events=b.ownEvents?new d(b.proxy):d.Event;c.attrHooks=q(c,b);var f=b.schema?b.schema.getBlockElements():{};c.$=g.overrideDefaults(function(){return{context:a,element:c.getRoot()}});c.isBlock=function(a){if(!a)return!1;var b=a.nodeType;return b?!(1!==b||!f[a.nodeName]):!!f[a]}}var B=p.each,y=p.is,u=p.grep,m=p.trim,w=f.ie,A=/^([a-z0-9],?)+$/i,
z=/^[ \t\r\n]*$/;v.prototype={$$:function(a){"string"==typeof a&&(a=this.get(a));return this.$(a)},root:null,fixDoc:function(a){var b=this.settings,c;if(w&&b.schema)for(c in"abbr article aside audio canvas details figcaption figure footer header hgroup mark menu meter nav output progress section summary time video".replace(/\w+/g,function(b){a.createElement(b)}),b.schema.getCustomElements())a.createElement(c)},clone:function(a,b){var c=this;if(!w||1!==a.nodeType||b)return a.cloneNode(b);var f=c.doc;
if(!b){var k=f.createElement(a.nodeName);B(c.getAttribs(a),function(b){c.setAttrib(k,b.nodeName,c.getAttrib(a,b.nodeName))});return k}return k.firstChild},getRoot:function(){return this.settings.root_element||this.doc.body},getViewPort:function(a){a=a?a:this.win;var b=a.document;b=this.boxModel?b.documentElement:b.body;return{x:a.pageXOffset||b.scrollLeft,y:a.pageYOffset||b.scrollTop,w:a.innerWidth||b.clientWidth,h:a.innerHeight||b.clientHeight}},getRect:function(a){a=this.get(a);var b=this.getPos(a);
a=this.getSize(a);return{x:b.x,y:b.y,w:a.w,h:a.h}},getSize:function(a){a=this.get(a);var b=this.getStyle(a,"width");var c=this.getStyle(a,"height");-1===b.indexOf("px")&&(b=0);-1===c.indexOf("px")&&(c=0);return{w:parseInt(b,10)||a.offsetWidth||a.clientWidth,h:parseInt(c,10)||a.offsetHeight||a.clientHeight}},getParent:function(a,b,c){return this.getParents(a,b,c,!1)},getParents:function(a,b,c,f){var k=this,d=[];a=k.get(a);f=f===X;c=c||("BODY"!=k.getRoot().nodeName?k.getRoot().parentNode:null);if(y(b,
"string")){var e=b;b="*"===b?function(a){return 1==a.nodeType}:function(a){return k.is(a,e)}}for(;a&&a!=c&&a.nodeType&&9!==a.nodeType;){if(!b||b(a))if(f)d.push(a);else return a;a=a.parentNode}return f?d:null},get:function(a){if(a&&this.doc&&"string"==typeof a){var b=a;if((a=this.doc.getElementById(a))&&a.id!==b)return this.doc.getElementsByName(b)[1]}return a},getNext:function(a,b){return this._findSib(a,b,"nextSibling")},getPrev:function(a,b){return this._findSib(a,b,"previousSibling")},select:function(a,
b){return h(a,this.get(b)||this.settings.root_element||this.doc,[])},is:function(a,b){var c;if(a.length===X){if("*"===b)return 1==a.nodeType;if(A.test(b)){b=b.toLowerCase().split(/,/);a=a.nodeName.toLowerCase();for(c=b.length-1;0<=c;c--)if(b[c]==a)return!0;return!1}}if(a.nodeType&&1!=a.nodeType)return!1;c=a.nodeType?[a]:a;return 0<h(b,c[0].ownerDocument||c[0],null,c).length},add:function(a,b,c,f,d){var k=this;return this.run(a,function(a){var e=y(b,"string")?k.doc.createElement(b):b;k.setAttribs(e,
c);f&&(f.nodeType?e.appendChild(f):k.setHTML(e,f));return d?e:a.appendChild(e)})},create:function(a,b,c){return this.add(this.doc.createElement(a),a,b,c,1)},createHTML:function(a,b,c){var f;var d="<"+a;for(f in b)b.hasOwnProperty(f)&&null!==b[f]&&"undefined"!=typeof b[f]&&(d+=" "+f+'="'+this.encode(b[f])+'"');return"undefined"!=typeof c?d+">"+c+"</"+a+">":d+" />"},createFragment:function(a){var b=this.doc;var c=b.createElement("div");b=b.createDocumentFragment();a&&(c.innerHTML=a);for(;a=c.firstChild;)b.appendChild(a);
return b},remove:function(a,b){a=this.$$(a);b?a.each(function(){for(var a;a=this.firstChild;)3==a.nodeType&&0===a.data.length?this.removeChild(a):this.parentNode.insertBefore(a,this)}).remove():a.remove();return 1<a.length?a.toArray():a[0]},setStyle:function(a,b,c){a=this.$$(a).css(b,c);this.settings.update_styles&&r(this,a)},getStyle:function(a,b,c){a=this.$$(a);if(c)return a.css(b);b=b.replace(/-(\D)/g,function(a,b){return b.toUpperCase()});"float"==b&&(b=f.ie&&12>f.ie?"styleFloat":"cssFloat");
return a[0]&&a[0].style?a[0].style[b]:X},setStyles:function(a,b){a=this.$$(a).css(b);this.settings.update_styles&&r(this,a)},removeAllAttribs:function(a){return this.run(a,function(a){var b,c=a.attributes;for(b=c.length-1;0<=b;b--)a.removeAttributeNode(c.item(b))})},setAttrib:function(a,b,c){var f,d=this.settings;""===c&&(c=null);a=this.$$(a);var k=a.attr(b);if(a.length&&((f=this.attrHooks[b])&&f.set?f.set(a,c,b):a.attr(b,c),k!=c&&d.onSetAttrib))d.onSetAttrib({attrElm:a,attrName:b,attrValue:c})},
setAttribs:function(a,b){var c=this;c.$$(a).each(function(a,f){B(b,function(a,b){c.setAttrib(f,b,a)})})},getAttrib:function(a,b,c){a=this.$$(a);if(a.length)var f=(f=this.attrHooks[b])&&f.get?f.get(a,b):a.attr(b);"undefined"==typeof f&&(f=c||"");return f},getPos:function(a,b){var c=0,f=0;var d=this.doc;var k=d.body;a=this.get(a);b=b||k;if(a){if(b===k&&a.getBoundingClientRect&&"static"===g(k).css("position"))return f=a.getBoundingClientRect(),b=this.boxModel?d.documentElement:k,c=f.left+(d.documentElement.scrollLeft||
k.scrollLeft)-b.clientLeft,f=f.top+(d.documentElement.scrollTop||k.scrollTop)-b.clientTop,{x:c,y:f};for(d=a;d&&d!=b&&d.nodeType;)c+=d.offsetLeft||0,f+=d.offsetTop||0,d=d.offsetParent;for(d=a.parentNode;d&&d!=b&&d.nodeType;)c-=d.scrollLeft||0,f-=d.scrollTop||0,d=d.parentNode}return{x:c,y:f}},parseStyle:function(a){return this.styles.parse(a)},serializeStyle:function(a,b){return this.styles.serialize(a,b)},addStyle:function(a){var b=this.doc;if(this!==v.DOM&&b===document){var c=(c=v.DOM.addedStyles)||
[];if(c[a])return;c[a]=!0;v.DOM.addedStyles=c}var f=b.getElementById("mceDefaultStyles");f||(f=b.createElement("style"),f.id="mceDefaultStyles",f.type="text/css",c=b.getElementsByTagName("head")[0],c.firstChild?c.insertBefore(f,c.firstChild):c.appendChild(f));f.styleSheet?f.styleSheet.cssText+=a:f.appendChild(b.createTextNode(a))},loadCSS:function(a){var b=this,c=b.doc;if(b!==v.DOM&&c===document)v.DOM.loadCSS(a);else{a||(a="");var f=c.getElementsByTagName("head")[0];B(a.split(","),function(a){a=p._addCacheSuffix(a);
if(!b.files[a]){b.files[a]=!0;var d=b.create("link",{rel:"stylesheet",href:a});w&&c.documentMode&&c.recalc&&(d.onload=function(){c.recalc&&c.recalc();d.onload=null});f.appendChild(d)}})}},addClass:function(a,b){this.$$(a).addClass(b)},removeClass:function(a,b){this.toggleClass(a,b,!1)},hasClass:function(a,b){return this.$$(a).hasClass(b)},toggleClass:function(a,b,c){this.$$(a).toggleClass(b,c).each(function(){""===this.className&&g(this).attr("class",null)})},show:function(a){this.$$(a).show()},hide:function(a){this.$$(a).hide()},
isHidden:function(a){return"none"==this.$$(a).css("display")},uniqueId:function(a){return(a?a:"mce_")+this.counter++},setHTML:function(a,b){a=this.$$(a);w?a.each(function(a,c){if(!1!==c.canHaveHTML){for(;c.firstChild;)c.removeChild(c.firstChild);try{c.innerHTML="<br>"+b,c.removeChild(c.firstChild)}catch(F){g("<div>").html("<br>"+b).contents().slice(1).appendTo(c)}return b}}):a.html(b)},getOuterHTML:function(a){a=this.get(a);return 1==a.nodeType&&"outerHTML"in a?a.outerHTML:g("<div>").append(g(a).clone()).html()},
setOuterHTML:function(a,b){var c=this;c.$$(a).each(function(){try{if("outerHTML"in this){this.outerHTML=b;return}}catch(G){}c.remove(g(this).html(b),!0)})},decode:a.decode,encode:a.encodeAllRaw,insertAfter:function(a,b){b=this.get(b);return this.run(a,function(a){var c;var f=b.parentNode;(c=b.nextSibling)?f.insertBefore(a,c):f.appendChild(a);return a})},replace:function(a,b,c){return this.run(b,function(b){y(b,"array")&&(a=a.cloneNode(!0));c&&B(u(b.childNodes),function(b){a.appendChild(b)});return b.parentNode.replaceChild(a,
b)})},rename:function(a,b){var c=this;if(a.nodeName!=b.toUpperCase()){var f=c.create(b);B(c.getAttribs(a),function(b){c.setAttrib(f,b.nodeName,c.getAttrib(a,b.nodeName))});c.replace(f,a,1)}return f||a},findCommonAncestor:function(a,b){for(var c=a,f;c;){for(f=b;f&&c!=f;)f=f.parentNode;if(c==f)break;c=c.parentNode}return!c&&a.ownerDocument?a.ownerDocument.documentElement:c},toHex:function(a){return this.styles.toHex(p.trim(a))},run:function(a,b,c){var f=this;"string"===typeof a&&(a=f.get(a));if(!a)return!1;
c=c||this;if(!a.nodeType&&(a.length||0===a.length)){var d=[];B(a,function(a,e){a&&("string"==typeof a&&(a=f.get(a)),d.push(b.call(c,a,e)))});return d}return b.call(c,a)},getAttribs:function(a){a=this.get(a);if(!a)return[];if(w){var b=[];if("OBJECT"==a.nodeName)return a.attributes;"OPTION"===a.nodeName&&this.getAttrib(a,"selected")&&b.push({specified:1,nodeName:"selected"});a.cloneNode(!1).outerHTML.replace(/<\/?[\w:\-]+ ?|=[\"][^\"]+\"|=\'[^\']+\'|=[\w\-]+|>/gi,"").replace(/[\w:\-]+/gi,function(a){b.push({specified:1,
nodeName:a})});return b}return a.attributes},isEmpty:function(a,c){var f,d=0;if(a=a.firstChild){var e=new b(a,a.parentNode);c=c||(this.schema?this.schema.getNonEmptyElements():null);do{var k=a.nodeType;if(1===k){if(a.getAttribute("data-mce-bogus"))continue;var m=a.nodeName.toLowerCase();if(c&&c[m]){if("br"===m){d++;continue}return!1}var l=this.getAttribs(a);for(f=l.length;f--;)if(m=l[f].nodeName,"name"===m||"data-mce-bookmark"===m)return!1}if(8==k||3===k&&!z.test(a.nodeValue))return!1}while(a=e.next())}return 1>=
d},createRng:function(){var a=this.doc;return a.createRange?a.createRange():new c(this)},nodeIndex:l,split:function(a,b,c){function f(a){var b,c=a.childNodes,e=a.nodeType;if(1!=e||"bookmark"!=a.getAttribute("data-mce-type")){for(b=c.length-1;0<=b;b--)f(c[b]);if(9!=e){if(3==e&&0<a.nodeValue.length){b=m(a.nodeValue).length;if(!(c=!d.isBlock(a.parentNode)||0<b)){if(b=0===b)b=a.nextSibling&&"SPAN"==a.nextSibling.nodeName,b=a.previousSibling&&"SPAN"==a.previousSibling.nodeName&&b;c=b}if(c)return}else if(1==
e&&(c=a.childNodes,1==c.length&&c[0]&&1==c[0].nodeType&&"bookmark"==c[0].getAttribute("data-mce-type")&&a.parentNode.insertBefore(c[0],a),c.length||/^(br|hr|input|img)$/i.test(a.nodeName)))return;d.remove(a)}return a}}var d=this,e=d.createRng();if(a&&b){e.setStart(a.parentNode,d.nodeIndex(a));e.setEnd(b.parentNode,d.nodeIndex(b));var k=e.extractContents();e=d.createRng();e.setStart(b.parentNode,d.nodeIndex(b)+1);e.setEnd(a.parentNode,d.nodeIndex(a)+1);e=e.extractContents();var l=a.parentNode;l.insertBefore(f(k),
a);c?l.insertBefore(c,a):l.insertBefore(b,a);l.insertBefore(f(e),a);d.remove(a);return c||b}},bind:function(a,b,c,f){if(p.isArray(a)){for(var d=a.length;d--;)a[d]=this.bind(a[d],b,c,f);return a}!this.settings.collect||a!==this.doc&&a!==this.win||this.boundEvents.push([a,b,c,f]);return this.events.bind(a,b,c,f||this)},unbind:function(a,b,c){var f;if(p.isArray(a)){for(f=a.length;f--;)a[f]=this.unbind(a[f],b,c);return a}if(this.boundEvents&&(a===this.doc||a===this.win))for(f=this.boundEvents.length;f--;){var d=
this.boundEvents[f];a!=d[0]||b&&b!=d[1]||c&&c!=d[2]||this.events.unbind(d[0],d[1],d[2])}return this.events.unbind(a,b,c)},fire:function(a,b,c){return this.events.fire(a,b,c)},getContentEditable:function(a){var b;return a&&1==a.nodeType?(b=a.getAttribute("data-mce-contenteditable"))&&"inherit"!==b?b:"inherit"!==a.contentEditable?a.contentEditable:null:null},getContentEditableParent:function(a){for(var b=this.getRoot(),c=null;a&&a!==b&&(c=this.getContentEditable(a),null===c);a=a.parentNode);return c},
destroy:function(){if(this.boundEvents){for(var a=this.boundEvents.length;a--;){var b=this.boundEvents[a];this.events.unbind(b[0],b[1],b[2])}this.boundEvents=null}h.setDocument&&h.setDocument();this.win=this.doc=this.root=this.events=this.frag=null},isChildOf:function(a,b){for(;a;){if(b===a)return!0;a=a.parentNode}return!1},dumpRng:function(a){return"startContainer: "+a.startContainer.nodeName+", startOffset: "+a.startOffset+", endContainer: "+a.endContainer.nodeName+", endOffset: "+a.endOffset},
_findSib:function(a,b,c){var f=this,d=b;if(a)for("string"==typeof d&&(d=function(a){return f.is(a,b)}),a=a[c];a;a=a[c])if(d(a))return a;return null}};v.DOM=new v(document);v.nodeIndex=l;return v});x("tinymce/dom/ScriptLoader",["tinymce/dom/DOMUtils","tinymce/util/Tools"],function(h,g){function e(){function a(a,b){function c(){f.remove(e);m&&(m.onreadystatechange=m.onload=m=null);b()}var f=d;var e=f.uniqueId();var m=document.createElement("script");m.id=e;m.type="text/javascript";m.src=g._addCacheSuffix(a);
"onreadystatechange"in m?m.onreadystatechange=function(){/loaded|complete/.test(m.readyState)&&c()}:m.onload=c;m.onerror=function(){"undefined"!==typeof console&&console.log&&console.log("Failed to load: "+a)};(document.getElementsByTagName("head")[0]||document.body).appendChild(m)}var f={},e=[],n={},q=[],r=0;this.isDone=function(a){return 2==f[a]};this.markDone=function(a){f[a]=2};this.add=this.load=function(a,b,c){void 0==f[a]&&(e.push(a),f[a]=0);b&&(n[a]||(n[a]=[]),n[a].push({func:b,scope:c||this}))};
this.remove=function(a){delete f[a];delete n[a]};this.loadQueue=function(a,b){this.loadScripts(e,a,b)};this.loadScripts=function(d,e,p){function l(a){b(n[a],function(a){a.func.call(a.scope)});n[a]=void 0}q.push({func:e,scope:p||this});var v=function(){var e=c(d);d.length=0;b(e,function(b){2==f[b]?l(b):1!=f[b]&&(f[b]=1,r++,a(b,function(){f[b]=2;r--;l(b);v()}))});r||(b(q,function(a){a.func.call(a.scope)}),q.length=0)};v()}}var d=h.DOM,b=g.each,c=g.grep;e.ScriptLoader=new e;return e});x("tinymce/AddOnManager",
["tinymce/dom/ScriptLoader","tinymce/util/Tools"],function(h,g){function e(){this.items=[];this.urls={};this.lookup={}}var d=g.each;e.prototype={get:function(b){return this.lookup[b]?this.lookup[b].instance:X},dependencies:function(b){if(this.lookup[b])var c=this.lookup[b].dependencies;return c||[]},requireLangPack:function(b,c){var a=e.language;if(a&&!1!==e.languageLoad){if(c)if(c=","+c+",",-1!=c.indexOf(","+a.substr(0,2)+","))a=a.substr(0,2);else if(-1==c.indexOf(","+a+","))return;h.ScriptLoader.add(this.urls[b]+
"/langs/"+a+".js")}},add:function(b,c,a){this.items.push(c);this.lookup[b]={instance:c,dependencies:a};return c},remove:function(b){delete this.urls[b];delete this.lookup[b]},createUrl:function(b,c){return"object"===typeof c?c:{prefix:b.prefix,resource:c,suffix:b.suffix}},addComponents:function(b,c){var a=this.urls[b];d(c,function(b){h.ScriptLoader.add(a+"/"+b)})},load:function(b,c,a,f){function p(){var e=g.dependencies(b);d(e,function(a){a=g.createUrl(c,a);g.load(a.resource,a,X,X)});a&&(f?a.call(f):
a.call(h))}var g=this,q=c;g.urls[b]||("object"===typeof c&&(q=c.prefix+c.resource+c.suffix),0!==q.indexOf("/")&&-1==q.indexOf("://")&&(q=e.baseURL+"/"+q),g.urls[b]=q.substring(0,q.lastIndexOf("/")),g.lookup[b]?p():h.ScriptLoader.add(q,p,f))}};e.PluginManager=new e;e.ThemeManager=new e;return e});x("tinymce/dom/NodeType",[],function(){function h(b){return function(c){return!!c&&c.nodeType==b}}function g(b){b=b.toLowerCase().split(" ");return function(c){if(c&&c.nodeType){var a=c.nodeName.toLowerCase();
for(c=0;c<b.length;c++)if(a===b[c])return!0}return!1}}function e(b){return function(c){return!d(c)||c.contentEditable!==b&&c.getAttribute("data-mce-contenteditable")!==b?!1:!0}}var d=h(1);return{isText:h(3),isElement:d,isComment:h(8),isBr:g("br"),isContentEditableTrue:e("true"),isContentEditableFalse:e("false"),matchNodeNames:g,hasPropValue:function(b,c){return function(a){return d(a)&&a[b]===c}},hasAttributeValue:function(b,c){return function(a){return d(a)&&a.getAttribute(b)===c}},matchStyleValues:function(b,
c){c=c.toLowerCase().split(" ");return function(a){var f;if(d(a))for(f=0;f<c.length;f++){var e=getComputedStyle(a,null).getPropertyValue(b);if(e===c[f])return!0}return!1}},isBogus:function(b){return d(b)&&b.hasAttribute("data-mce-bogus")}}});x("tinymce/text/Zwsp",[],function(){return{isZwsp:function(h){return"\ufeff"==h},ZWSP:"\ufeff",trim:function(h){return h.replace(RegExp("\ufeff","g"),"")}}});x("tinymce/caret/CaretContainer",["tinymce/dom/NodeType","tinymce/text/Zwsp"],function(h,g){function e(a){n(a)&&
(a=a.parentNode);return p(a)&&a.hasAttribute("data-mce-caret")}function d(a){return n(a)&&g.isZwsp(a.data)}function b(a){return e(a)||d(a)}function c(a){try{return a.nodeValue}catch(r){return""}}function a(a){return n(a)&&a.data[0]==g.ZWSP}function f(a){return n(a)&&a.data[a.data.length-1]==g.ZWSP}var p=h.isElement,n=h.isText;return{isCaretContainer:b,isCaretContainerBlock:e,isCaretContainerInline:d,insertInline:function(c,d){var e=c.ownerDocument.createTextNode(g.ZWSP);var v=c.parentNode;if(d){var r=
c.previousSibling;if(n(r)){if(b(r))return r;if(f(r))return r.splitText(r.data.length-1)}v.insertBefore(e,c)}else{r=c.nextSibling;if(n(r)){if(b(r))return r;if(a(r))return r.splitText(1),r}c.nextSibling?v.insertBefore(e,c.nextSibling):v.appendChild(e)}return e},insertBlock:function(a,b,c){var f=b.ownerDocument;a=f.createElement(a);a.setAttribute("data-mce-caret",c?"before":"after");a.setAttribute("data-mce-bogus","all");a.appendChild(f.createTextNode("\u00a0"));f=b.parentNode;c?f.insertBefore(a,b):
b.nextSibling?f.insertBefore(a,b.nextSibling):f.appendChild(a);return a},remove:function(a){if(p(a)&&b(a))if("&nbsp;"!=a.innerHTML)a.removeAttribute("data-mce-caret");else{var f=a.parentNode;f&&f.removeChild(a)}n(a)&&(f=g.trim(c(a)),0===f.length?(f=a.parentNode)&&f.removeChild(a):a.nodeValue=f)},startsWithCaretContainer:a,endsWithCaretContainer:f}});x("tinymce/dom/RangeUtils",["tinymce/util/Tools","tinymce/dom/TreeWalker","tinymce/dom/NodeType","tinymce/dom/Range","tinymce/caret/CaretContainer"],
function(h,g,e,d,b){function c(a,b){var c=a.childNodes;b--;b>c.length-1?b=c.length-1:0>b&&(b=0);return c[b]||a}function a(a){this.walk=function(b,f){function d(a){var b=a[0];3===b.nodeType&&b===v&&r>=b.nodeValue.length&&a.splice(0,1);b=a[a.length-1];0===k&&0<a.length&&b===q&&3===b.nodeType&&a.splice(a.length-1,1);return a}function e(a,b,c){for(var f=[];a&&a!=c;a=a[b])f.push(a);return f}function l(a,b){do{if(a.parentNode==b)return a;a=a.parentNode}while(a)}function m(a,b,c){var k=c?"nextSibling":"previousSibling";
t=a;for(g=t.parentNode;t&&t!=b;t=g)g=t.parentNode,V=e(t==a?t:t[k],k),V.length&&(c||V.reverse(),f(d(V)))}var v=b.startContainer,r=b.startOffset,q=b.endContainer,k=b.endOffset,t,g;var n=a.select("td[data-mce-selected],th[data-mce-selected]");if(0<n.length)p(n,function(a){f([a])});else{1==v.nodeType&&v.hasChildNodes()&&(v=v.childNodes[r]);1==q.nodeType&&q.hasChildNodes()&&(q=c(q,k));if(v==q)return f(d([v]));var h=a.findCommonAncestor(v,q);for(t=v;t;t=t.parentNode){if(t===q)return m(v,h,!0);if(t===h)break}for(t=
q;t;t=t.parentNode){if(t===v)return m(q,h);if(t===h)break}n=l(v,h)||v;h=l(q,h)||q;m(v,n,!0);var V=e(n==v?n:n.nextSibling,"nextSibling",h==q?h.nextSibling:h);V.length&&f(d(V));m(q,h)}};this.split=function(a){var b=a.startContainer,c=a.startOffset,f=a.endContainer;a=a.endOffset;b==f&&3==b.nodeType?0<c&&c<b.nodeValue.length&&(f=b.splitText(c),b=f.previousSibling,a>c?(b=f=f.splitText(a-c).previousSibling,a=f.nodeValue.length,c=0):a=0):(3==b.nodeType&&0<c&&c<b.nodeValue.length&&(b=b.splitText(c),c=0),
3==f.nodeType&&0<a&&a<f.nodeValue.length&&(f=f.splitText(a).previousSibling,a=f.nodeValue.length));return{startContainer:b,startOffset:c,endContainer:f,endOffset:a}};this.normalize=function(b){function c(c){function e(b,c){for(var f=new g(b,a.getParent(b.parentNode,a.isBlock)||r);b=f[c?"prev":"next"]();)if("BR"===b.nodeName)return!0}function l(a){for(;a&&a!=r;){if(n(a))return!0;a=a.parentNode}return!1}function v(b,c){c=c||t;var e=a.getParent(c.parentNode,a.isBlock)||r;if(b&&"BR"==c.nodeName&&p&&a.isEmpty(e))t=
c.parentNode,u=a.nodeIndex(c),f=!0;else{for(e=new g(c,e);k=e[b?"prev":"next"]();){if("false"===a.getContentEditableParent(k)||q(k))return;if(3===k.nodeType&&0<k.nodeValue.length){t=k;u=b?k.nodeValue.length:0;f=!0;return}if(a.isBlock(k)||B[k.nodeName.toLowerCase()])return;var m=k}d&&m&&(t=m,f=!0,u=0)}}var r=a.getRoot(),k;var t=b[(c?"start":"end")+"Container"];var u=b[(c?"start":"end")+"Offset"];var p=1==t.nodeType&&u===t.childNodes.length;var B=a.schema.getNonEmptyElements();var y=c;if(!q(t)){1==t.nodeType&&
u>t.childNodes.length-1&&(y=!1);9===t.nodeType&&(t=a.getRoot(),u=0);if(t===r){if(y&&(k=t.childNodes[0<u?u-1:0])&&(q(k)||B[k.nodeName]||"TABLE"==k.nodeName))return;if(t.hasChildNodes()){u=Math.min(!y&&0<u?u-1:u,t.childNodes.length-1);t=t.childNodes[u];u=0;if(!d&&t===r.lastChild&&"TABLE"===t.nodeName||l(t)||q(t))return;if(t.hasChildNodes()&&!/TABLE/.test(t.nodeName)){k=t;var h=new g(t,r);do{if(n(k)||q(k)){f=!1;break}if(3===k.nodeType&&0<k.nodeValue.length){u=y?0:k.nodeValue.length;t=k;f=!0;break}if(B[k.nodeName.toLowerCase()]&&
(!k||!/^(TD|TH|CAPTION)$/.test(k.nodeName))){u=a.nodeIndex(k);t=k.parentNode;"IMG"!=k.nodeName||y||u++;f=!0;break}}while(k=y?h.next():h.prev())}}}d&&(3===t.nodeType&&0===u&&v(!0),1===t.nodeType&&((k=t.childNodes[u])||(k=t.childNodes[u-1]),!k||"BR"!==k.nodeName||k.previousSibling&&"A"==k.previousSibling.nodeName||e(k)||e(k,!0)||v(!0,k)));y&&!d&&3===t.nodeType&&u===t.nodeValue.length&&v(!1);if(f)b["set"+(c?"Start":"End")](t,u)}}var f;var d=b.collapsed;c(!0);d||c();f&&d&&b.collapse(!0);return f}}function f(a,
b,c){var f=c.elementFromPoint(a,b);var d=c.body.createTextRange();f&&"HTML"!=f.tagName||(f=c.body);d.moveToElementText(f);c=h.toArray(d.getClientRects());c=c.sort(function(a,c){a=Math.abs(Math.max(a.top-b,a.bottom-b));c=Math.abs(Math.max(c.top-b,c.bottom-b));return a-c});if(0<c.length){b=(c[0].bottom+c[0].top)/2;try{return d.moveToPoint(a,b),d.collapse(!0),d}catch(u){}}return null}var p=h.each,n=e.isContentEditableFalse,q=b.isCaretContainer;a.compareRanges=function(a,b){if(a&&b)if(a.item||a.duplicate){if(a.item&&
b.item&&a.item(0)===b.item(0)||a.isEqual&&b.isEqual&&b.isEqual(a))return!0}else return a.startContainer==b.startContainer&&a.startOffset==b.startOffset;return!1};a.getCaretRangeFromPoint=function(a,b,c){if(c.caretPositionFromPoint){a=c.caretPositionFromPoint(a,b);var d=c.createRange();d.setStart(a.offsetNode,a.offset);d.collapse(!0)}else if(c.caretRangeFromPoint)d=c.caretRangeFromPoint(a,b);else if(c.body.createTextRange){d=c.body.createTextRange();try{d.moveToPoint(a,b),d.collapse(!0)}catch(y){d=
f(a,b,c)}}return d};a.getSelectedNode=function(a){var b=a.startContainer,c=a.startOffset;return b.hasChildNodes()&&a.endOffset==c+1?b.childNodes[c]:null};a.getNode=function(a,b){1==a.nodeType&&a.hasChildNodes()&&(b>=a.childNodes.length&&(b=a.childNodes.length-1),a=a.childNodes[b]);return a};return a});x("tinymce/NodeChange",["tinymce/dom/RangeUtils","tinymce/Env","tinymce/util/Delay"],function(h,g,e){return function(d){var b,c=[];if(!("onselectionchange"in d.getDoc()))d.on("NodeChange Click MouseUp KeyUp Focus",
function(a){var c=d.selection.getRng();c={startContainer:c.startContainer,startOffset:c.startOffset,endContainer:c.endContainer,endOffset:c.endOffset};"nodechange"!=a.type&&h.compareRanges(c,b)||d.fire("SelectionChange");b=c});d.on("contextmenu",function(){d.fire("SelectionChange")});d.on("SelectionChange",function(){var a=d.selection.getStart(!0);if(g.range||!d.selection.isCollapsed()){var b;a:{var e=d.$(a).parentsUntil(d.getBody()).add(a);if(e.length===c.length){for(b=e.length;0<=b&&e[b]===c[b];b--);
if(-1===b){c=e;b=!0;break a}}c=e;b=!1}!b&&d.dom.isChildOf(a,d.getBody())&&d.nodeChanged({selectionChange:!0})}});d.on("MouseUp",function(a){a.isDefaultPrevented()||("IMG"==d.selection.getNode().nodeName?e.setEditorTimeout(d,function(){d.nodeChanged()}):d.nodeChanged())});this.nodeChanged=function(a){var b=d.selection;if(d.initialized&&b&&!d.settings.disable_nodechange&&!d.readonly){var c=d.getBody();var e=b.getStart()||c;e.ownerDocument==d.getDoc()&&d.dom.isChildOf(e,c)||(e=c);"IMG"==e.nodeName&&
b.isCollapsed()&&(e=e.parentNode);var q=[];d.dom.getParent(e,function(a){if(a===c)return!0;q.push(a)});a=a||{};a.element=e;a.parents=q;d.fire("NodeChange",a)}}}});x("tinymce/html/Node",[],function(){function h(b,c,a){var f=a?"lastChild":"firstChild";a=a?"prev":"next";if(b[f])return b[f];if(b!==c){if(f=b[a])return f;for(b=b.parent;b&&b!==c;b=b.parent)if(f=b[a])return f}}function g(b,c){this.name=b;this.type=c;1===c&&(this.attributes=[],this.attributes.map={})}var e=/^[ \t\r\n]*$/,d={"#text":3,"#comment":8,
"#cdata":4,"#pi":7,"#doctype":10,"#document-fragment":11};g.prototype={replace:function(b){b.parent&&b.remove();this.insert(b,this);this.remove();return this},attr:function(b,c){var a,f;if("string"!==typeof b){for(f in b)this.attr(f,b[f]);return this}if(a=this.attributes){if(void 0!==c){if(null===c){if(b in a.map)for(delete a.map[b],f=a.length;f--;)if(a[f].name===b){a.splice(f,1);break}return this}if(b in a.map)for(f=a.length;f--;){if(a[f].name===b){a[f].value=c;break}}else a.push({name:b,value:c});
a.map[b]=c;return this}return a.map[b]}},clone:function(){var b=new g(this.name,this.type),c,a;if(a=this.attributes){var f=[];f.map={};var d=0;for(c=a.length;d<c;d++){var e=a[d];"id"!==e.name&&(f[f.length]={name:e.name,value:e.value},f.map[e.name]=e.value)}b.attributes=f}b.value=this.value;b.shortEnded=this.shortEnded;return b},wrap:function(b){this.parent.insert(b,this);b.append(this);return this},unwrap:function(){var b;for(b=this.firstChild;b;){var c=b.next;this.insert(b,this,!0);b=c}this.remove()},
remove:function(){var b=this.parent,c=this.next,a=this.prev;if(b){if(b.firstChild===this){if(b.firstChild=c)c.prev=null}else a.next=c;if(b.lastChild===this){if(b.lastChild=a)a.next=null}else c.prev=a;this.parent=this.next=this.prev=null}return this},append:function(b){var c;b.parent&&b.remove();(c=this.lastChild)?(c.next=b,b.prev=c,this.lastChild=b):this.lastChild=this.firstChild=b;b.parent=this;return b},insert:function(b,c,a){b.parent&&b.remove();var f=c.parent||this;a?(c===f.firstChild?f.firstChild=
b:c.prev.next=b,b.prev=c.prev,b.next=c,c.prev=b):(c===f.lastChild?f.lastChild=b:c.next.prev=b,b.next=c.next,b.prev=c,c.next=b);b.parent=f;return b},getAll:function(b){var c,a=[];for(c=this.firstChild;c;c=h(c,this))c.name===b&&a.push(c);return a},empty:function(){var b,c;if(this.firstChild){var a=[];for(c=this.firstChild;c;c=h(c,this))a.push(c);for(b=a.length;b--;)c=a[b],c.parent=c.firstChild=c.lastChild=c.next=c.prev=null}this.firstChild=this.lastChild=null;return this},isEmpty:function(b){var c=
this.firstChild,a;if(c){do{if(1===c.type){if(c.attributes.map["data-mce-bogus"])continue;if(b[c.name])return!1;for(a=c.attributes.length;a--;){var f=c.attributes[a].name;if("name"===f||0===f.indexOf("data-mce-bookmark"))return!1}}if(8===c.type||3===c.type&&!e.test(c.value))return!1}while(c=h(c,this))}return!0},walk:function(b){return h(this,null,b)}};g.create=function(b,c){var a;var f=new g(b,d[b]||1);if(c)for(a in c)f.attr(a,c[a]);return f};return g});x("tinymce/html/Schema",["tinymce/util/Tools"],
function(h){function g(a,b){return a?a.split(b||" "):[]}function e(a){function d(a,b,f){function d(a,b){var c={},f;var d=0;for(f=a.length;d<f;d++)c[a[d]]=b||{};return c}var e;var k=arguments;f=f||[];b=b||"";"string"===typeof f&&(f=g(f));for(e=3;e<k.length;e++)"string"===typeof k[e]&&(k[e]=g(k[e])),f.push.apply(f,k[e]);a=g(a);for(e=a.length;e--;)k=[].concat(p,g(b)),r[a[e]]={attributes:d(k),attributesOrder:k,children:d(f,c)}}function e(a,b){var c;a=g(a);var f=a.length;for(b=g(b);f--;){var d=r[a[f]];
var e=0;for(c=b.length;e<c;e++)d.attributes[b[e]]={},d.attributesOrder.push(b[e])}}var r={};if(b[a])return b[a];var p=g("id accesskey class dir lang style tabindex title");var u=g("address blockquote div dl fieldset form h1 h2 h3 h4 h5 h6 hr menu ol p pre table ul");var m=g("a abbr b bdo br button cite code del dfn em embed i iframe img input ins kbd label map noscript object q s samp script select small span strong sub sup textarea u var #text #comment");"html4"!=a&&(p.push.apply(p,g("contenteditable contextmenu draggable dropzone hidden spellcheck translate")),
u.push.apply(u,g("article aside details dialog figure header footer hgroup section nav")),m.push.apply(m,g("audio canvas command datalist mark meter output picture progress time wbr video ruby bdi keygen")));if("html5-strict"!=a){p.push("xml:lang");var w=g("acronym applet basefont big font strike tt");m.push.apply(m,w);f(w,function(a){d(a,"",m)});w=g("center dir isindex noframes");u.push.apply(u,w);var q=[].concat(u,m);f(w,function(a){d(a,"",q)})}q=q||[].concat(u,m);d("html","manifest","head body");
d("head","","base command link meta noscript script style title");d("title hr noscript br");d("base","href target");d("link","href rel media hreflang type sizes hreflang");d("meta","name http-equiv content charset");d("style","media type scoped");d("script","src async defer type charset");d("body","onafterprint onbeforeprint onbeforeunload onblur onerror onfocus onhashchange onload onmessage onoffline ononline onpagehide onpageshow onpopstate onresize onscroll onstorage onunload",q);d("address dt dd div caption",
"",q);d("h1 h2 h3 h4 h5 h6 pre p abbr code var samp kbd sub sup i b u bdo span legend em strong small s cite dfn","",m);d("blockquote","cite",q);d("ol","reversed start type","li");d("ul","","li");d("li","value",q);d("dl","","dt dd");d("a","href target rel media hreflang type",m);d("q","cite",m);d("ins del","cite datetime",q);d("img","src sizes srcset alt usemap ismap width height");d("iframe","src name width height",q);d("embed","src type width height");d("object","data type typemustmatch name usemap form width height",
q,"param");d("param","name value");d("map","name",q,"area");d("area","alt coords shape href target rel media hreflang type");d("table","border","caption colgroup thead tfoot tbody tr"+("html4"==a?" col":""));d("colgroup","span","col");d("col","span");d("tbody thead tfoot","","tr");d("tr","","td th");d("td","colspan rowspan headers",q);d("th","colspan rowspan headers scope abbr",q);d("form","accept-charset action autocomplete enctype method name novalidate target",q);d("fieldset","disabled form name",
q,"legend");d("label","form for",m);d("input","accept alt autocomplete checked dirname disabled form formaction formenctype formmethod formnovalidate formtarget height list max maxlength min multiple name pattern readonly required size src step type value width");d("button","disabled form formaction formenctype formmethod formnovalidate formtarget name type value","html4"==a?q:m);d("select","disabled form multiple name required size","option optgroup");d("optgroup","disabled label","option");d("option",
"disabled label selected value");d("textarea","cols dirname disabled form maxlength name readonly required rows wrap");d("menu","type label",q,"li");d("noscript","",q);"html4"!=a&&(d("wbr"),d("ruby","",m,"rt rp"),d("figcaption","",q),d("mark rt rp summary bdi","",m),d("canvas","width height",q),d("video","src crossorigin poster preload autoplay mediagroup loop muted controls width height buffered",q,"track source"),d("audio","src crossorigin preload autoplay mediagroup loop muted controls buffered volume",
q,"track source"),d("picture","","img source"),d("source","src srcset type media sizes"),d("track","kind src srclang label default"),d("datalist","",m,"option"),d("article section nav aside header footer","",q),d("hgroup","","h1 h2 h3 h4 h5 h6"),d("figure","",q,"figcaption"),d("time","datetime",m),d("dialog","open",q),d("command","type label icon disabled checked radiogroup command"),d("output","for form name",m),d("progress","value max",m),d("meter","value min max low high optimum",m),d("details",
"open",q,"summary"),d("keygen","autofocus challenge disabled form keytype name"));"html5-strict"!=a&&(e("script","language xml:space"),e("style","xml:space"),e("object","declare classid code codebase codetype archive standby align border hspace vspace"),e("embed","align name hspace vspace"),e("param","valuetype type"),e("a","charset name rev shape coords"),e("br","clear"),e("applet","codebase archive code object alt name width height align hspace vspace"),e("img","name longdesc align border hspace vspace"),
e("iframe","longdesc frameborder marginwidth marginheight scrolling align"),e("font basefont","size color face"),e("input","usemap align"),e("select","onchange"),e("textarea"),e("h1 h2 h3 h4 h5 h6 div p legend caption","align"),e("ul","type compact"),e("li","type"),e("ol dl menu dir","compact"),e("pre","width xml:space"),e("hr","align noshade size width"),e("isindex","prompt"),e("table","summary width frame rules cellspacing cellpadding align bgcolor"),e("col","width align char charoff valign"),e("colgroup",
"width align char charoff valign"),e("thead","align char charoff valign"),e("tr","align char charoff valign bgcolor"),e("th","axis align char charoff valign nowrap bgcolor width height"),e("form","accept"),e("td","abbr axis scope align char charoff valign nowrap bgcolor width height"),e("tfoot","align char charoff valign"),e("tbody","align char charoff valign"),e("area","nohref"),e("body","background bgcolor text link vlink alink"));"html4"!=a&&(e("input button select textarea","autofocus"),e("input textarea",
"placeholder"),e("a","download"),e("link script img","crossorigin"),e("iframe","sandbox seamless allowfullscreen"));f(g("a form meter progress dfn"),function(a){r[a]&&delete r[a].children[a]});delete r.caption.children.table;delete r.script;return b[a]=r}function d(b,c){if(b){var d={};"string"==typeof b&&(b={"*":b});f(b,function(b,f){d[f]=d[f.toUpperCase()]="map"==c?a(b,/[, ]/):n(b,/[, ]/)})}return d}var b={},c={},a=h.makeMap,f=h.each,p=h.extend,n=h.explode,q=h.inArray;return function(c){function l(f,
d,e){var k=c[f];k?k=a(k,/[, ]/,a(k.toUpperCase(),/[, ]/)):(k=b[f],k||(k=a(d," ",a(d.toUpperCase()," ")),k=p(k,e),b[f]=k));return k}function v(a){return new RegExp("^"+a.replace(/([?+*])/g,".$1")+"$")}function r(b){var c,f,d,e,m=/^([#+\-])?([^\[!\/]+)(?:\/([^\[!]+))?(?:(!?)\[([^\]]+)\])?$/,t=/^([!\-])?(\w+::\w+|[^=:<]+)?(?:([=:<])(.*))?$/,u=/[*?+]/;if(b){b=g(b,",");if(A["@"]){var w=A["@"].attributes;var l=A["@"].attributesOrder}var r=0;for(c=b.length;r<c;r++)if(d=m.exec(b[r])){var p=d[1];var n=d[2];
var z=d[3];var B=d[5];var y={};var h=[];var D={attributes:y,attributesOrder:h};"#"===p&&(D.paddEmpty=!0);"-"===p&&(D.removeEmpty=!0);"!"===d[4]&&(D.removeEmptyAttrs=!0);if(w){for(e in w)y[e]=w[e];h.push.apply(h,l)}if(B){B=g(B,"|");var G=0;for(f=B.length;G<f;G++)if(d=t.exec(B[G])){var F={};var V=d[1];var H=d[2].replace(/::/g,":");p=d[3];d=d[4];"!"===V&&(D.attributesRequired=D.attributesRequired||[],D.attributesRequired.push(H),F.required=!0);"-"===V?(delete y[H],h.splice(q(h,H),1)):(p&&("="===p&&(D.attributesDefault=
D.attributesDefault||[],D.attributesDefault.push({name:H,value:d}),F.defaultValue=d),":"===p&&(D.attributesForced=D.attributesForced||[],D.attributesForced.push({name:H,value:d}),F.forcedValue=d),"<"===p&&(F.validValues=a(d,"?"))),u.test(H)?(D.attributePatterns=D.attributePatterns||[],F.pattern=v(H),D.attributePatterns.push(F)):(y[H]||h.push(H),y[H]=F))}}w||"@"!=n||(w=y,l=h);z&&(D.outputName=n,A[z]=D);u.test(n)?(D.pattern=v(n),k.push(D)):A[n]=D}}}function y(a){A={};k=[];r(a);f(G,function(a,b){z[b]=
a.children})}function u(a){var c=/^(~)?(.+)$/;a&&(b.text_block_elements=b.block_elements=null,f(g(a,","),function(a){a=c.exec(a);var b="~"===a[1],d=b?"span":"div",e=a[2];z[e]=z[d];t[e]=d;b||(L[e.toUpperCase()]={},L[e]={});A[e]||(a=A[d],a=p({},a),delete a.removeEmptyAttrs,delete a.removeEmpty,A[e]=a);f(z,function(a,b){a[d]&&(z[b]=a=p({},z[b]),a[e]=a[d])})}))}function m(a){var d=/^([+\-]?)(\w+)\[([^\]]+)\]$/;b[c.schema]=null;a&&f(g(a,","),function(a){a=d.exec(a);var b;if(a){var c=(b=a[1])?z[a[2]]:z[a[2]]=
{"#comment":{}};c=z[a[2]];f(g(a[3],"|"),function(a){"-"===b?delete c[a]:c[a]={}})}})}function w(a){var b=A[a],c;if(b)return b;for(c=k.length;c--;)if(b=k[c],b.pattern.test(a))return b}var A={},z={},k=[],t={},h={};c=c||{};var G=e(c.schema);!1===c.verify_html&&(c.valid_elements="*[*]");var F=d(c.valid_styles);var V=d(c.invalid_styles,"map");var H=d(c.valid_classes,"map");var K=l("whitespace_elements","pre script noscript style textarea video audio iframe object");var x=l("self_closing_elements","colgroup dd dt li option p td tfoot th thead tr");
var M=l("short_ended_elements","area base basefont br col frame hr img input isindex link meta param embed source wbr track");var I=l("boolean_attributes","checked compact declare defer disabled ismap multiple nohref noresize noshade nowrap readonly selected autoplay loop controls");var O=l("non_empty_elements","td th iframe video audio object script",M);var P=l("move_caret_before_on_enter_elements","table",O);var S=l("text_block_elements","h1 h2 h3 h4 h5 h6 p div address pre form blockquote center dir fieldset header footer article section hgroup aside nav figure");
var L=l("block_elements","hr table tbody thead tfoot th tr td li ol ul caption dl dt dd noscript menu isindex option datalist select optgroup figcaption",S);var C=l("text_inline_elements","span strong b em i font strike u var cite dfn code mark q sup sub samp");f((c.special||"script noscript style textarea").split(" "),function(a){h[a]=new RegExp("</"+a+"[^>]*>","gi")});c.valid_elements?y(c.valid_elements):(f(G,function(a,b){A[b]={attributes:a.attributes,attributesOrder:a.attributesOrder};z[b]=a.children}),
"html5"!=c.schema&&f(g("strong/b em/i"),function(a){a=g(a,"/");A[a[1]].outputName=a[0]}),f(g("ol ul sub sup blockquote span font a table tbody tr strong em b i"),function(a){A[a]&&(A[a].removeEmpty=!0)}),f(g("p h1 h2 h3 h4 h5 h6 th td pre div address caption"),function(a){A[a].paddEmpty=!0}),f(g("span"),function(a){A[a].removeEmptyAttrs=!0}));u(c.custom_elements);m(c.valid_children);r(c.extended_valid_elements);m("+ol[ul|ol],+ul[ul|ol]");c.invalid_elements&&f(n(c.invalid_elements),function(a){A[a]&&
delete A[a]});w("span")||r("span[!data-mce-type|*]");this.children=z;this.getValidStyles=function(){return F};this.getInvalidStyles=function(){return V};this.getValidClasses=function(){return H};this.getBoolAttrs=function(){return I};this.getBlockElements=function(){return L};this.getTextBlockElements=function(){return S};this.getTextInlineElements=function(){return C};this.getShortEndedElements=function(){return M};this.getSelfClosingElements=function(){return x};this.getNonEmptyElements=function(){return O};
this.getMoveCaretBeforeOnEnterElements=function(){return P};this.getWhiteSpaceElements=function(){return K};this.getSpecialElements=function(){return h};this.isValidChild=function(a,b){var c=z[a];return!(!c||!c[b])};this.isValid=function(a,b){var c,f;if(c=w(a))if(b){if(c.attributes[b])return!0;if(c=c.attributePatterns)for(f=c.length;f--;)if(c[f].pattern.test(a))return!0}else return!0;return!1};this.getElementRule=w;this.getCustomElements=function(){return t};this.addValidElements=r;this.setValidElements=
y;this.addCustomElements=u;this.addValidChildren=m;this.elements=A}});x("tinymce/html/SaxParser",["tinymce/html/Schema","tinymce/html/Entities","tinymce/util/Tools"],function(h,g,e){function d(a,b,c){var f=1,d;var e=a.getShortEndedElements();a=/<([!?\/])?([A-Za-z0-9\-_\:\.]+)((?:\s+[^"\'>]+(?:(?:"[^"]*")|(?:\'[^\']*\')|[^>]*))*|\/|\s+)>/g;for(a.lastIndex=c;d=a.exec(b);){c=a.lastIndex;if("/"===d[1])f--;else if(!d[1]){if(d[2]in e)continue;f++}if(0===f)break}return c}function b(a,b){function f(){}var n=
this;a=a||{};n.schema=b=b||new h;!1!==a.fix_self_closing&&(a.fix_self_closing=!0);c("comment cdata text start end pi doctype".split(" "),function(b){b&&(n[b]=a[b]||f)});n.parse=function(c){function f(a){var b,c;for(b=m.length;b--&&m[b].name!==a;);if(0<=b){for(c=m.length-1;c>=b;c--)a=m[c],a.valid&&v.end(a.name);m.length=b}}function l(b,c,f,d,e){b=/[\s\u0000-\u001F]+/g;c=c.toLowerCase();f=c in P?c:F(f||d||e||"");if(S&&!z&&0!==c.indexOf("data-")){d=U[c];if(!d&&N){for(e=N.length;e--&&(d=N[e],!d.pattern.test(c)););
-1===e&&(d=null)}if(!d||d.validValues&&!(f in d.validValues))return}if(V[c]&&!a.allow_script_urls){b=f.replace(b,"");try{b=decodeURIComponent(b)}catch(W){b=unescape(b)}if(H.test(b)||!a.allow_html_data_urls&&K.test(b)&&!/^data:image\//i.test(b))return}R.map[c]=f;R.push({name:c,value:f})}var v=this,p,q=0,u,m=[],w,n,z,k,t,h,G=0,F=g.decode,V=e.makeMap("src,href,data,background,formaction,poster"),H=/((java|vb)script|mhtml):/i,K=/^data:/i;var x=RegExp("<(?:(?:!--([\\w\\W]*?)--\x3e)|(?:!\\[CDATA\\[([\\w\\W]*?)\\]\\]>)|(?:!DOCTYPE([\\w\\W]*?)>)|(?:\\?([^\\s\\/<>]+) ?([\\w\\W]*?)[?/]>)|(?:\\/([^>]+)>)|(?:([A-Za-z0-9\\-_\\:\\.]+)((?:\\s+[^\"'>]+(?:(?:\"[^\"]*\")|(?:'[^']*')|[^>]*))*|\\/|\\s+)>))",
"g");var M=/([\w:\-]+)(?:\s*=\s*(?:(?:\"((?:[^\"])*)\")|(?:\'((?:[^\'])*)\')|([^>\s]+)))?/g;var I=b.getShortEndedElements();var O=a.self_closing_elements||b.getSelfClosingElements();var P=b.getBoolAttrs();var S=a.validate;var L=a.remove_internals;var C=a.fix_self_closing;for(h=b.getSpecialElements();p=x.exec(c);){q<p.index&&v.text(F(c.substr(q,p.index-q)));if(u=p[6])u=u.toLowerCase(),":"===u.charAt(0)&&(u=u.substr(1)),f(u);else if(u=p[7]){u=u.toLowerCase();":"===u.charAt(0)&&(u=u.substr(1));q=u in
I;C&&O[u]&&0<m.length&&m[m.length-1].name===u&&f(u);if(!S||(k=b.getElementRule(u))){var E=!0;if(S){var U=k.attributes;var N=k.attributePatterns}if(t=p[8]){(z=-1!==t.indexOf("data-mce-type"))&&L&&(E=!1);var R=[];R.map={};t.replace(M,l)}else R=[],R.map={};if(S&&!z){var Y=k.attributesRequired;var Z=k.attributesDefault;var ha=k.attributesForced;(w=k.removeEmptyAttrs)&&!R.length&&(E=!1);if(ha)for(w=ha.length;w--;){var Q=ha[w];var aa=Q.name;Q=Q.value;"{$uid}"===Q&&(Q="mce_"+G++);R.map[aa]=Q;R.push({name:aa,
value:Q})}if(Z)for(w=Z.length;w--;)Q=Z[w],aa=Q.name,aa in R.map||(Q=Q.value,"{$uid}"===Q&&(Q="mce_"+G++),R.map[aa]=Q,R.push({name:aa,value:Q}));if(Y){for(w=Y.length;w--&&!(Y[w]in R.map););-1===w&&(E=!1)}if(Q=R.map["data-mce-bogus"]){if("all"===Q){q=d(b,c,x.lastIndex);x.lastIndex=q;continue}E=!1}}E&&v.start(u,R,q)}else E=!1;if(Y=h[u]){Y.lastIndex=q=p.index+p[0].length;(p=Y.exec(c))?(E&&(n=c.substr(q,p.index-q)),q=p.index+p[0].length):(n=c.substr(q),q=c.length);E&&(0<n.length&&v.text(n,!0),v.end(u));
x.lastIndex=q;continue}q||(t&&t.indexOf("/")==t.length-1?E&&v.end(u):m.push({name:u,valid:E}))}else(u=p[1])?(">"===u.charAt(0)&&(u=" "+u),a.allow_conditional_comments||"[if"!==u.substr(0,3)||(u=" "+u),v.comment(u)):(u=p[2])?v.cdata(u):(u=p[3])?v.doctype(u):(u=p[4])&&v.pi(u,p[5]);q=p.index+p[0].length}q<c.length&&v.text(F(c.substr(q)));for(w=m.length-1;0<=w;w--)u=m[w],u.valid&&v.end(u.name)}}var c=e.each;b.findEndTag=d;return b});x("tinymce/html/DomParser",["tinymce/html/Node","tinymce/html/Schema",
"tinymce/html/SaxParser","tinymce/util/Tools"],function(h,g,e,d){var b=d.makeMap,c=d.each,a=d.explode,f=d.extend;return function(d,n){function p(a){var c,d,f,e;var k=b("tr,td,th,tbody,thead,tfoot,table");var t=n.getNonEmptyElements();var u=n.getTextBlockElements();var v=n.getSpecialElements();for(c=0;c<a.length;c++){var l=a[c];if(l.parent&&!l.fixed)if(u[l.name]&&"li"==l.parent.name){for(d=l.next;d;){if(u[d.name])d.name="li",d.fixed=!0,l.parent.insert(d,l.parent);else break;d=d.next}l.unwrap(l)}else{var p=
[l];for(d=l.parent;d&&!n.isValidChild(d.name,l.name)&&!k[d.name];d=d.parent)p.push(d);if(d&&1<p.length){p.reverse();var q=f=r.filterNode(p[0].clone());for(e=0;e<p.length-1;e++){if(n.isValidChild(f.name,p[e].name)){var g=r.filterNode(p[e].clone());f.append(g)}else g=f;for(f=p[e].firstChild;f&&f!=p[e+1];){var B=f.next;g.append(f);f=B}f=g}q.isEmpty(t)?d.insert(l,p[0],!0):(d.insert(q,p[0],!0),d.insert(l,q));d=p[0];(d.isEmpty(t)||d.firstChild===d.lastChild&&"br"===d.firstChild.name)&&d.empty().remove()}else l.parent&&
("li"===l.name?(d=l.prev,!d||"ul"!==d.name&&"ul"!==d.name?(d=l.next,!d||"ul"!==d.name&&"ul"!==d.name?l.wrap(r.filterNode(new h("ul",1))):d.insert(l,d.firstChild,!0)):d.append(l)):n.isValidChild(l.parent.name,"div")&&n.isValidChild("div",l.name)?l.wrap(r.filterNode(new h("div",1))):v[l.name]?l.empty().remove():l.unwrap())}}}var r=this,l={},v=[],B={},y={};d=d||{};d.validate="validate"in d?d.validate:!0;d.root_name=d.root_name||"body";r.schema=n=n||new g;r.filterNode=function(a){var b,c;d in l&&((c=
B[d])?c.push(a):B[d]=[a]);for(b=v.length;b--;){var d=v[b].name;d in a.attributes.map&&((c=y[d])?c.push(a):y[d]=[a])}return a};r.addNodeFilter=function(b,d){c(a(b),function(a){var b=l[a];b||(l[a]=b=[]);b.push(d)})};r.addAttributeFilter=function(b,d){c(a(b),function(a){var b;for(b=0;b<v.length;b++)if(v[b].name===a){v[b].callbacks.push(d);return}v.push({name:a,callbacks:[d]})})};r.parse=function(a,c){function m(){function a(a){a&&((b=a.firstChild)&&3==b.type&&(b.value=b.value.replace(P,"")),(b=a.lastChild)&&
3==b.type&&(b.value=b.value.replace(S,"")))}var b=U.firstChild;if(n.isValidChild(U.name,I.toLowerCase())){for(;b;){var c=b.next;if(3==b.type||1==b.type&&"p"!==b.name&&!H[b.name]&&!b.attr("data-mce-type")){if(!f){var f=u(I,1);f.attr(d.forced_root_block_attrs);U.insert(f,b)}f.append(b)}else a(f),f=null;b=c}a(f)}}function u(a,b){var c=new h(a,b),d;a in l&&((d=B[a])?d.push(c):B[a]=[c]);return c}function r(a){var b=n.getBlockElements();for(a=a.prev;a&&3===a.type;){var c=a.value.replace(S,"");if(0<c.length){a.value=
c;break}if(c=a.next){if(3==c.type&&c.value.length){a=a.prev;continue}if(!b[c.name]&&"script"!=c.name&&"style"!=c.name){a=a.prev;continue}}c=a.prev;a.remove();a=c}}var k,t,q,g,F=[],V;c=c||{};B={};y={};var H=f(b("script,style,head,html,body,title,meta,param"),n.getBlockElements());var x=n.getNonEmptyElements();var T=n.children;var M=d.validate;var I="forced_root_block"in c?c.forced_root_block:d.forced_root_block;var O=n.getWhiteSpaceElements();var P=/^[ \t\r\n]+/;var S=/[ \t\r\n]+$/;var L=/[ \t\r\n]+/g;
var C=/^[ \t\r\n]+$/;var E=new e({validate:M,allow_script_urls:d.allow_script_urls,allow_conditional_comments:d.allow_conditional_comments,self_closing_elements:function(a){var b,c={};for(b in a)"li"!==b&&"p"!=b&&(c[b]=a[b]);return c}(n.getSelfClosingElements()),cdata:function(a){k.append(u("#cdata",4)).value=a},text:function(a,b){V||(a=a.replace(L," "),k.lastChild&&H[k.lastChild.name]&&(a=a.replace(P,"")));if(0!==a.length){var c=u("#text",3);c.raw=!!b;k.append(c).value=a}},comment:function(a){k.append(u("#comment",
8)).value=a},pi:function(a,b){k.append(u(a,7)).value=b;r(k)},doctype:function(a){k.append(u("#doctype",10)).value=a;r(k)},start:function(a,b,c){var d,f;if(d=M?n.getElementRule(a):{}){d=u(d.outputName||a,1);d.attributes=b;d.shortEnded=c;k.append(d);(f=T[k.name])&&T[d.name]&&!f[d.name]&&F.push(d);for(f=v.length;f--;){var e=v[f].name;e in b.map&&((N=y[e])?N.push(d):y[e]=[d])}H[a]&&r(d);c||(k=d);!V&&O[a]&&(V=!0)}},end:function(a){var b,c;if(c=M?n.getElementRule(a):{}){if(H[a]&&!V){if((b=k.firstChild)&&
3===b.type){var d=b.value.replace(P,"");if(0<d.length)b.value=d;else{var f=b.next;b.remove();for(b=f;b&&3===b.type;)d=b.value,f=b.next,(0===d.length||C.test(d))&&b.remove(),b=f}}if((b=k.lastChild)&&3===b.type)if(d=b.value.replace(S,""),0<d.length)b.value=d;else for(f=b.prev,b.remove(),b=f;b&&3===b.type;)d=b.value,f=b.prev,(0===d.length||C.test(d))&&b.remove(),b=f}V&&O[a]&&(V=!1);if((c.removeEmpty||c.paddEmpty)&&k.isEmpty(x))if(c.paddEmpty)k.empty().append(new h("#text","3")).value="\u00a0";else if(!k.attributes.map.name&&
!k.attributes.map.id){a=k.parent;H[k.name]?k.empty().remove():k.unwrap();k=a;return}k=k.parent}}},n);var U=k=new h(c.context||d.root_name,11);E.parse(a);M&&F.length&&(c.context?c.invalid=!0:p(F));I&&("body"==U.name||c.isRootContent)&&m();if(!c.invalid){for(g in B){var N=l[g];E=B[g];for(q=E.length;q--;)E[q].parent||E.splice(q,1);var R=0;for(t=N.length;R<t;R++)N[R](E,g,c)}R=0;for(t=v.length;R<t;R++)if(N=v[R],N.name in y){E=y[N.name];for(q=E.length;q--;)E[q].parent||E.splice(q,1);q=0;for(g=N.callbacks.length;q<
g;q++)N.callbacks[q](E,N.name,c)}}return U};d.remove_trailing_brs&&r.addNodeFilter("br",function(a){var b,c=a.length,d=f({},n.getBlockElements()),e=n.getNonEmptyElements(),k;d.body=1;for(b=0;b<c;b++){var t=a[b];var u=t.parent;if(d[t.parent.name]&&t===u.lastChild){for(k=t.prev;k;){var l=k.name;if("span"!==l||"bookmark"!==k.attr("data-mce-type")){if("br"!==l)break;if("br"===l){t=null;break}}k=k.prev}t&&(t.remove(),u.isEmpty(e)&&(t=n.getElementRule(u.name)))&&(t.removeEmpty?u.remove():t.paddEmpty&&(u.empty().append(new h("#text",
3)).value="\u00a0"))}else{for(k=t;u&&u.firstChild===k&&u.lastChild===k;){k=u;if(d[u.name])break;u=u.parent}k===u&&(u=new h("#text",3),u.value="\u00a0",t.replace(u))}}});d.allow_html_in_named_anchor||r.addAttributeFilter("id,name",function(a){for(var b=a.length,c,d,f,e;b--;)if(e=a[b],"a"===e.name&&e.firstChild&&!e.attr("href")){f=e.parent;c=e.lastChild;do d=c.prev,f.insert(c,e),c=d;while(c)}});d.validate&&n.getValidClasses()&&r.addAttributeFilter("class",function(a){for(var b=a.length,c,d,f,e,t,u=
n.getValidClasses(),l,v;b--;){c=a[b];d=c.attr("class").split(" ");t="";for(f=0;f<d.length;f++)e=d[f],v=!1,(l=u["*"])&&l[e]&&(v=!0),l=u[c.name],!v&&l&&l[e]&&(v=!0),v&&(t&&(t+=" "),t+=e);t.length||(t=null);c.attr("class",t)}})}});x("tinymce/html/Writer",["tinymce/html/Entities","tinymce/util/Tools"],function(h,g){var e=g.makeMap;return function(d){var b=[];d=d||{};var c=d.indent;var a=e(d.indent_before||"");var f=e(d.indent_after||"");var p=h.getEncodeFunc(d.entity_encoding||"raw",d.entities);var g=
"html"==d.element_format;return{start:function(d,e,l){var v;if(c&&a[d]&&0<b.length){var q=b[b.length-1];0<q.length&&"\n"!==q&&b.push("\n")}b.push("<",d);if(e)for(q=0,v=e.length;q<v;q++){var r=e[q];b.push(" ",r.name,'="',p(r.value,!0),'"')}b[b.length]=!l||g?">":" />";l&&c&&f[d]&&0<b.length&&(q=b[b.length-1],0<q.length&&"\n"!==q&&b.push("\n"))},end:function(a){b.push("</",a,">");c&&f[a]&&0<b.length&&(a=b[b.length-1],0<a.length&&"\n"!==a&&b.push("\n"))},text:function(a,c){0<a.length&&(b[b.length]=c?
a:p(a))},cdata:function(a){b.push("<![CDATA[",a,"]]\x3e")},comment:function(a){b.push("\x3c!--",a,"--\x3e")},pi:function(a,d){d?b.push("<?",a," ",p(d),"?>"):b.push("<?",a,"?>");c&&b.push("\n")},doctype:function(a){b.push("<!DOCTYPE",a,">",c?"\n":"")},reset:function(){b.length=0},getContent:function(){return b.join("").replace(/\n$/,"")}}}});x("tinymce/html/Serializer",["tinymce/html/Writer","tinymce/html/Schema"],function(h,g){return function(e,d){var b=new h(e);e=e||{};e.validate="validate"in e?
e.validate:!0;this.schema=d=d||new g;this.writer=b;this.serialize=function(c){function a(c){var e=p[c.type],r,l;if(e)e(c);else{e=c.name;var v=c.shortEnded;var g=c.attributes;if(f&&g&&1<g.length){var n=[];n.map={};if(l=d.getElementRule(c.name)){var u=0;for(r=l.attributesOrder.length;u<r;u++){var m=l.attributesOrder[u];if(m in g.map){var w=g.map[m];n.map[m]=w;n.push({name:m,value:w})}}u=0;for(r=g.length;u<r;u++)m=g[u].name,m in n.map||(w=g.map[m],n.map[m]=w,n.push({name:m,value:w}));g=n}}b.start(c.name,
g,v);if(!v){if(c=c.firstChild){do a(c);while(c=c.next)}b.end(e)}}}var f=e.validate;var p={3:function(a){b.text(a.value,a.raw)},8:function(a){b.comment(a.value)},7:function(a){b.pi(a.name,a.value)},10:function(a){b.doctype(a.value)},4:function(a){b.cdata(a.value)},11:function(b){if(b=b.firstChild){do a(b);while(b=b.next)}}};b.reset();if(1!=c.type||e.inner)p[11](c);else a(c);return b.getContent()}}});x("tinymce/dom/Serializer","tinymce/dom/DOMUtils tinymce/html/DomParser tinymce/html/SaxParser tinymce/html/Entities tinymce/html/Serializer tinymce/html/Node tinymce/html/Schema tinymce/Env tinymce/util/Tools tinymce/text/Zwsp".split(" "),
function(h,g,e,d,b,c,a,f,p,n){function q(a){var b;(a=a.lastChild)&&"br"===a.name&&(b=a.prev)&&"br"===b.name&&(a.remove(),b.remove())}var r=p.each,l=p.trim,v=h.DOM,B=["data-mce-selected"];return function(c,u){function m(a){var b=new RegExp(["<span[^>]+data-mce-bogus[^>]+>[\u200b\ufeff]+<\\/span>","\\s?("+B.join("|")+')="[^"]+"'].join("|"),"gi");return a=n.trim(a.replace(b,""))}if(u){var w=u.dom;var h=u.schema}w=w||v;h=h||new a(c);c.entity_encoding=c.entity_encoding||"named";c.remove_trailing_brs="remove_trailing_brs"in
c?c.remove_trailing_brs:!0;var z=new g(c,h);z.addAttributeFilter("data-mce-tabindex",function(a,b){for(var c=a.length,d;c--;)d=a[c],d.attr("tabindex",d.attributes.map["data-mce-tabindex"]),d.attr(b,null)});z.addAttributeFilter("src,href,style",function(a,b){for(var d=a.length,f,e,k="data-mce-"+b,m=c.url_converter,t=c.url_converter_scope;d--;)f=a[d],e=f.attributes.map[k],void 0!==e?(f.attr(b,0<e.length?e:null),f.attr(k,null)):(e=f.attributes.map[b],"style"===b?e=w.serializeStyle(w.parseStyle(e),f.name):
m&&(e=m.call(t,e,b,f.name)),f.attr(b,0<e.length?e:null))});z.addAttributeFilter("class",function(a){for(var b=a.length,c,d;b--;)if(c=a[b],d=c.attr("class"))d=c.attr("class").replace(/(?:^|\s)mce-item-\w+(?!\S)/g,""),c.attr("class",0<d.length?d:null)});z.addAttributeFilter("data-mce-type",function(a,b,c){b=a.length;for(var d;b--;)d=a[b],"bookmark"!==d.attributes.map["data-mce-type"]||c.cleanup||d.remove()});z.addNodeFilter("noscript",function(a){for(var b=a.length,c;b--;)if(c=a[b].firstChild)c.value=
d.decode(c.value)});z.addNodeFilter("script,style",function(a,b){function c(a){return a.replace(/(\x3c!--\[CDATA\[|\]\]--\x3e)/g,"\n").replace(/^[\r\n]*|[\r\n]*$/g,"").replace(/^\s*((\x3c!--)?(\s*\/\/)?\s*<!\[CDATA\[|(\x3c!--\s*)?\/\*\s*<!\[CDATA\[\s*\*\/|(\/\/)?\s*\x3c!--|\/\*\s*\x3c!--\s*\*\/)\s*[\r\n]*/gi,"").replace(/\s*(\/\*\s*\]\]>\s*\*\/(--\x3e)?|\s*\/\/\s*\]\]>(--\x3e)?|\/\/\s*(--\x3e)?|\]\]>|\/\*\s*--\x3e\s*\*\/|\s*--\x3e\s*)\s*$/g,"")}for(var d=a.length,f,e,k;d--;)f=a[d],e=f.firstChild?
f.firstChild.value:"","script"===b?((k=f.attr("type"))&&f.attr("type","mce-no/type"==k?null:k.replace(/^mce\-/,"")),0<e.length&&(f.firstChild.value="// <![CDATA[\n"+c(e)+"\n// ]]\x3e")):0<e.length&&(f.firstChild.value="\x3c!--\n"+c(e)+"\n--\x3e")});z.addNodeFilter("#comment",function(a){for(var b=a.length,c;b--;)c=a[b],0===c.value.indexOf("[CDATA[")?(c.name="#cdata",c.type=4,c.value=c.value.replace(/^\[CDATA\[|\]\]$/g,"")):0===c.value.indexOf("mce:protected ")&&(c.name="#text",c.type=3,c.raw=!0,c.value=
unescape(c.value).substr(14))});z.addNodeFilter("xml:namespace,input",function(a,b){for(var c=a.length,d;c--;)d=a[c],7===d.type?d.remove():1===d.type&&("input"!==b||"type"in d.attributes.map||d.attr("type","text"))});c.fix_list_elements&&z.addNodeFilter("ul,ol",function(a){for(var b=a.length,c,d;b--;)c=a[b],d=c.parent,("ul"===d.name||"ol"===d.name)&&c.prev&&"li"===c.prev.name&&c.prev.append(c)});z.addAttributeFilter("data-mce-src,data-mce-href,data-mce-style,data-mce-selected,data-mce-expando,data-mce-type,data-mce-resize",
function(a,b){for(var c=a.length;c--;)a[c].attr(b,null)});return{schema:h,addNodeFilter:z.addNodeFilter,addAttributeFilter:z.addAttributeFilter,serialize:function(a,d){if(f.ie&&0<w.select("script,style,select,map").length){var e=a.innerHTML;a=a.cloneNode(!1);w.setHTML(a,e)}else a=a.cloneNode(!0);e=document.implementation;if(e.createHTMLDocument){var k=e.createHTMLDocument("");r("BODY"==a.nodeName?a.childNodes:[a],function(a){k.body.appendChild(k.importNode(a,!0))});a="BODY"!=a.nodeName?k.body.firstChild:
k.body;var m=w.doc;w.doc=k}d=d||{};d.format=d.format||"html";d.selection&&(d.forced_root_block="");d.no_events||(d.node=a,this.onPreProcess(d));var u=z.parse(l(d.getInner?a.innerHTML:w.getOuterHTML(a)),d);q(u);e=new b(c,h);d.content=e.serialize(u);d.cleanup||(d.content=n.trim(d.content),d.content=d.content.replace(/\uFEFF/g,""));if(!d.no_events)this.onPostProcess(d);m&&(w.doc=m);d.node=null;return d.content},addRules:function(a){h.addValidElements(a)},setRules:function(a){h.setValidElements(a)},onPreProcess:function(a){u&&
u.fire("PreProcess",a)},onPostProcess:function(a){u&&u.fire("PostProcess",a)},addTempAttr:function(a){-1===p.inArray(B,a)&&(z.addAttributeFilter(a,function(a,b){for(var c=a.length;c--;)a[c].attr(b,null)}),B.push(a))},trimHtml:m,getTrimmedContent:function(){var a=u.getBody().innerHTML,b=/<(\w+) [^>]*data-mce-bogus="all"[^>]*>/g,c,d,f=u.schema;a=m(a);for(d=f.getShortEndedElements();c=b.exec(a);){var v=b.lastIndex;var p=c[0].length;c=d[c[1]]?v:e.findEndTag(f,a,v);a=a.substring(0,v-p)+a.substring(c);
b.lastIndex=v-p}return l(a)}}}});x("tinymce/dom/TridentSelection",[],function(){return function(h){function g(b,c){var a=0,d,e=-1;var g=b.duplicate();g.collapse(c);var q=g.parentElement();if(q.ownerDocument===h.dom.doc){for(;"false"===q.contentEditable;)q=q.parentNode;if(!q.hasChildNodes())return{node:q,inside:1};var r=q.children;for(d=r.length-1;a<=d;){var l=Math.floor((a+d)/2);var v=r[l];g.moveToElementText(v);e=g.compareEndPoints(c?"StartToStart":"EndToEnd",b);if(0<e)d=l-1;else if(0>e)a=l+1;else return{node:v}}if(0>
e){if(v)g.collapse(!1);else{g.moveToElementText(q);g.collapse(!0);v=q;var B=!0}for(a=0;0!==g.compareEndPoints(c?"StartToStart":"StartToEnd",b)&&0!==g.move("character",1)&&q==g.parentElement();)a++}else for(g.collapse(!0),a=0;0!==g.compareEndPoints(c?"StartToStart":"StartToEnd",b)&&0!==g.move("character",-1)&&q==g.parentElement();)a++;return{node:v,position:e,offset:a,inside:B}}}var e=this,d=h.dom;this.getBookmark=function(b){function c(a){var b,c,f=[];var e=a.parentNode;for(b=d.getRoot().parentNode;e!=
b&&9!==e.nodeType;){var p=e.children;for(c=p.length;c--;)if(a===p[c]){f.push(c);break}a=e;e=e.parentNode}return f}function a(a){if(a=g(f,a))return{position:a.position,offset:a.offset,indexes:c(a.node),inside:a.inside}}var f=h.getRng(),e={};2===b&&(f.item?e.start={ctrl:!0,indexes:c(f.item(0))}:(e.start=a(!0),h.isCollapsed()||(e.end=a())));return e};this.moveToBookmark=function(b){function c(a){var b;var c=d.getRoot();for(b=a.length-1;0<=b;b--){var f=c.children;var e=a[b];e<=f.length-1&&(c=f[e])}return c}
function a(a){var d=b[a?"start":"end"];if(d){var p=0<d.position;var l=f.createTextRange();l.moveToElementText(c(d.indexes));var v=d.offset;void 0!==v?(l.collapse(d.inside||p),l.moveStart("character",p?-v:v)):l.collapse(a);e.setEndPoint(a?"StartToStart":"EndToStart",l);a&&e.collapse(!0)}}var f=d.doc.body;if(b.start){if(b.start.ctrl){var e=f.createControlRange();e.addElement(c(b.start.indexes))}else e=f.createTextRange(),a(!0),a();e.select()}};this.addRange=function(b){function c(b){var c=d.create("a");
var u=b?e:q;var v=b?g:r;var p=l.duplicate();if(u==a||u==a.documentElement)u=f,v=0;if(3==u.nodeType)u.parentNode.insertBefore(c,u),p.moveToElementText(c),p.moveStart("character",v),d.remove(c),l.setEndPoint(b?"StartToStart":"EndToEnd",p);else{var k=u.childNodes;k.length?(v>=k.length?d.insertAfter(c,k[k.length-1]):u.insertBefore(c,k[v]),p.moveToElementText(c)):u.canHaveHTML&&(u.innerHTML="<span>&#xFEFF;</span>",c=u.firstChild,p.moveToElementText(c),p.collapse(!1));l.setEndPoint(b?"StartToStart":"EndToEnd",
p);d.remove(c)}}var a=h.dom.doc,f=a.body;var e=b.startContainer;var g=b.startOffset;var q=b.endContainer;var r=b.endOffset;var l=f.createTextRange();if(e==q&&1==e.nodeType){if(g==r&&!e.hasChildNodes()){if(e.canHaveHTML){(b=e.previousSibling)&&!b.hasChildNodes()&&d.isBlock(b)?b.innerHTML="&#xFEFF;":b=null;e.innerHTML="<span>&#xFEFF;</span><span>&#xFEFF;</span>";l.moveToElementText(e.lastChild);l.select();d.doc.selection.clear();e.innerHTML="";b&&(b.innerHTML="");return}g=d.nodeIndex(e);e=e.parentNode}if(g==
r-1)try{var v=e.childNodes[g];var B=f.createControlRange();B.addElement(v);B.select();var y=h.getRng();if(y.item&&v===y.item(0))return}catch(u){}}c(!0);c();l.select()};this.getRangeAt=function(){function b(b){var d=g(c,b),f=0;var e=d.node;var p=d.offset;if(d.inside&&!e.hasChildNodes())a[b?"setStart":"setEnd"](e,0);else if(void 0===p)a[b?"setStartBefore":"setEndAfter"](e);else{if(0>d.position){d=d.inside?e.firstChild:e.nextSibling;if(!d){a[b?"setStartAfter":"setEndAfter"](e);return}if(!p){if(3==d.nodeType)a[b?
"setStart":"setEnd"](d,0);else a[b?"setStartBefore":"setEndBefore"](d);return}for(;d;){if(3==d.nodeType){var u=d.nodeValue;f+=u.length;if(f>=p){e=d;f-=p;f=u.length-f;break}}d=d.nextSibling}}else{d=e.previousSibling;if(!d)return a[b?"setStartBefore":"setEndBefore"](e);if(!p){if(3==e.nodeType)a[b?"setStart":"setEnd"](d,e.nodeValue.length);else a[b?"setStartAfter":"setEndAfter"](d);return}for(;d;){if(3==d.nodeType&&(f+=d.nodeValue.length,f>=p)){e=d;f-=p;break}d=d.previousSibling}}a[b?"setStart":"setEnd"](e,
f)}}var c=h.getRng(),a=d.createRng();var f=c.item?c.item(0):c.parentElement();if(f.ownerDocument!=d.doc)return a;var p=h.isCollapsed();if(c.item)return a.setStart(f.parentNode,d.nodeIndex(f)),a.setEnd(a.startContainer,a.startOffset+1),a;try{b(!0),p||b()}catch(r){if(-2147024809==r.number){var n=e.getBookmark(2);var q=c.duplicate();q.collapse(!0);f=q.parentElement();p||(q=c.duplicate(),q.collapse(!1),q=q.parentElement(),q.innerHTML=q.innerHTML);f.innerHTML=f.innerHTML;e.moveToBookmark(n);c=h.getRng();
b(!0);p||b()}else throw r;}return a}}});x("tinymce/util/VK",["tinymce/Env"],function(h){return{BACKSPACE:8,DELETE:46,DOWN:40,ENTER:13,LEFT:37,RIGHT:39,SPACEBAR:32,TAB:9,UP:38,modifierPressed:function(g){return g.shiftKey||g.ctrlKey||g.altKey||this.metaKeyPressed(g)},metaKeyPressed:function(g){return h.mac?g.metaKey:g.ctrlKey&&!g.altKey}}});x("tinymce/dom/ControlSelection",["tinymce/util/VK","tinymce/util/Tools","tinymce/util/Delay","tinymce/Env","tinymce/dom/NodeType"],function(h,g,e,d,b){var c=b.isContentEditableFalse,
a=b.isContentEditableTrue;return function(b,p){function f(a){var b=p.settings.object_resizing;if(!1===b||d.iOS)return!1;"string"!=typeof b&&(b="table,img,div");return"false"===a.getAttribute("data-mce-resize")||a==p.getBody()?!1:p.dom.is(a,b)}function q(a){var b=a.screenX-T;var c=a.screenY-M;E=b*H[2]+P;U=c*H[3]+S;E=5>E?5:E;U=5>U?5:U;if("IMG"==G.nodeName&&!1!==p.settings.resize_img_proportional?!h.modifierPressed(a):h.modifierPressed(a)||"IMG"==G.nodeName&&0!==H[2]*H[3])Z(b)>Z(c)?(U=ha(E*L),E=ha(U/
L)):(E=ha(U/L),U=ha(E*L));t.setStyles(F,{width:E,height:U});a=H.startPos.x+b;var d=H.startPos.y+c;a=0<a?a:0;d=0<d?d:0;t.setStyles(V,{left:a,top:d,display:"block"});V.innerHTML=E+" &times; "+U;0>H[2]&&F.clientWidth<=E&&t.setStyle(F,"left",I+(P-E));0>H[3]&&F.clientHeight<=U&&t.setStyle(F,"top",O+(S-U));b=Q.scrollWidth-aa;c=Q.scrollHeight-da;0!==b+c&&t.setStyles(V,{left:a-b,top:d-c});C||(p.fire("ObjectResizeStart",{target:G,width:P,height:S}),C=!0)}function r(){function a(a,b){b&&(G.style[a]||!p.schema.isValid(G.nodeName.toLowerCase(),
a)?t.setStyle(G,a,b):t.setAttrib(G,a,b))}C=!1;a("width",E);a("height",U);t.unbind(N,"mousemove",q);t.unbind(N,"mouseup",r);R!=N&&(t.unbind(R,"mousemove",q),t.unbind(R,"mouseup",r));t.remove(F);t.remove(V);Y&&"TABLE"!=G.nodeName||l(G);p.fire("ObjectResized",{target:G,width:E,height:U});t.setAttrib(G,"style",t.getAttrib(G,"style"));p.nodeChanged()}function l(a,b,c){v();A();var e=t.getPos(a,Q);I=e.x;O=e.y;e=a.getBoundingClientRect();var k=e.width||e.right-e.left;var m=e.height||e.bottom-e.top;G!=a&&
(w(),G=a,E=U=0);e=p.fire("ObjectSelected",{target:a});f(a)&&!e.isDefaultPrevented()?D(ca,function(a,f){function e(b){T=b.screenX;M=b.screenY;P=G.clientWidth;S=G.clientHeight;L=S/P;H=a;a.startPos={x:k*a[0]+I,y:m*a[1]+O};aa=Q.scrollWidth;da=Q.scrollHeight;F=G.cloneNode(!0);t.addClass(F,"mce-clonedresizable");t.setAttrib(F,"data-mce-bogus","all");F.contentEditable=!1;F.unSelectabe=!0;t.setStyles(F,{left:I,top:O,margin:0});F.removeAttribute("data-mce-selected");Q.appendChild(F);t.bind(N,"mousemove",q);
t.bind(N,"mouseup",r);R!=N&&(t.bind(R,"mousemove",q),t.bind(R,"mouseup",r));V=t.add(Q,"div",{"class":"mce-resize-helper","data-mce-bogus":"all"},P+" &times; "+S)}var u;b?f==b&&e(c):((u=t.get("mceResizeHandle"+f))&&t.remove(u),u=t.add(Q,"div",{id:"mceResizeHandle"+f,"data-mce-bogus":"all","class":"mce-resizehandle",unselectable:!0,style:"cursor:"+f+"-resize; margin:0; padding:0"}),d.ie&&(u.contentEditable=!1),t.bind(u,"mousedown",function(a){a.stopImmediatePropagation();a.preventDefault();e(a)}),a.elm=
u,t.setStyles(u,{left:k*a[0]+I-u.offsetWidth/2,top:m*a[1]+O-u.offsetHeight/2}))}):v();G.setAttribute("data-mce-selected","1")}function v(){var a,b;A();G&&G.removeAttribute("data-mce-selected");for(a in ca)if(b=t.get("mceResizeHandle"+a))t.unbind(b),t.remove(b)}function B(a){function c(a,b){if(a){do if(a===b)return!0;while(a=a.parentNode)}}if(!C&&!p.removed){D(t.select("img[data-mce-selected],hr[data-mce-selected]"),function(a){a.removeAttribute("data-mce-selected")});var d="mousedown"==a.type?a.target:
b.getNode();d=t.$(d).closest(Y?"table":"table,img,hr")[0];if(c(d,Q)&&(z(),a=b.getStart(!0),c(a,d)&&c(b.getEnd(!0),d)&&(!Y||d!=a&&"IMG"!==a.nodeName))){l(d);return}v()}}function y(a){a=a.srcElement;var b;var c=a.getBoundingClientRect();var d=x.clientX-c.left;var f=x.clientY-c.top;for(b in ca){c=ca[b];var e=a.offsetWidth*c[0];var k=a.offsetHeight*c[1];if(8>Z(e-d)&&8>Z(k-f)){H=c;break}}C=!0;p.fire("ObjectResizeStart",{target:G,width:G.clientWidth,height:G.clientHeight});p.getDoc().selection.empty();
l(a,b,x)}function u(b){var d;a:{for(d=p.getBody();b&&b!=d;){if(a(b)||c(b)){d=b;break a}b=b.parentNode}d=null}return c(d)}function m(a){var b=a.srcElement;if(u(b))a.preventDefault?a.preventDefault():a.returnValue=!1;else if(b!=G)if(p.fire("ObjectSelected",{target:b}),w(),0===b.id.indexOf("mceResizeHandle"))a.returnValue=!1;else if("IMG"==b.nodeName||"TABLE"==b.nodeName)v(),(G=b)&&b.attachEvent&&b.attachEvent("onresizestart",y)}function w(){G&&G.detachEvent&&G.detachEvent("onresizestart",y)}function A(){for(var a in ca){var b=
ca[a];b.elm&&(t.unbind(b.elm),delete b.elm)}}function z(){try{p.getDoc().execCommand("enableObjectResizing",!1,!1)}catch(ja){}}function k(a){if(Y){var b=N.body.createControlRange();try{return b.addElement(a),b.select(),!0}catch(J){}}}var t=p.dom,D=g.each,G,F,V,H,x,T,M,I,O,P,S,L,C,E,U,N=p.getDoc(),R=document,Y=d.ie&&11>d.ie,Z=Math.abs,ha=Math.round,Q=p.getBody(),aa,da;var ca={nw:[0,0,-1,-1],ne:[1,0,1,-1],se:[1,1,1,1],sw:[0,1,-1,1]};p.contentStyles.push(".mce-content-body div.mce-resizehandle {position: absolute;border: 1px solid black;box-sizing: box-sizing;background: #FFF;width: 7px;height: 7px;z-index: 10000}.mce-content-body .mce-resizehandle:hover {background: #000}.mce-content-body img[data-mce-selected],.mce-content-body hr[data-mce-selected] {outline: 1px solid black;resize: none}.mce-content-body .mce-clonedresizable {position: absolute;"+
(d.gecko?"":"outline: 1px dashed black;")+"opacity: .5;filter: alpha(opacity=50);z-index: 10000}.mce-content-body .mce-resize-helper {background: #555;background: rgba(0,0,0,0.75);border-radius: 3px;border: 1px;color: white;display: none;font-family: sans-serif;font-size: 12px;white-space: nowrap;line-height: 14px;margin: 5px 10px;padding: 5px;position: absolute;z-index: 10001}");p.on("init",function(){Y?(p.on("ObjectResized",function(a){"TABLE"!=a.target.nodeName&&(v(),k(a.target))}),Q&&Q.attachEvent&&
Q.attachEvent("oncontrolselect",m),p.on("mousedown",function(a){x=a})):(z(),11<=d.ie&&(p.on("mousedown click",function(a){var b=a.target,c=b.nodeName;C||!/^(TABLE|IMG|HR)$/.test(c)||u(b)||(p.selection.select(b,"TABLE"==c),"mousedown"==a.type&&p.nodeChanged())}),p.dom.bind(Q,"mscontrolselect",function(a){function b(a){e.setEditorTimeout(p,function(){p.selection.select(a)})}u(a.target)?(a.preventDefault(),b(a.target)):/^(TABLE|IMG|HR)$/.test(a.target.nodeName)&&(a.preventDefault(),"IMG"==a.target.tagName&&
b(a.target))})));var a=e.throttle(function(a){p.composing||B(a)});p.on("nodechange ResizeEditor ResizeWindow drop",a);p.on("keyup compositionend",function(b){G&&"TABLE"==G.nodeName&&a(b)});p.on("hide blur",v)});p.on("remove",A);return{isResizable:f,showResizeRect:l,hideResizeRect:v,updateResizeRect:B,controlSelect:k,destroy:function(){G=F=null;Y&&(w(),Q&&Q.detachEvent&&Q.detachEvent("oncontrolselect",m))}}}});x("tinymce/util/Fun",[],function(){function h(e){var d=g.call(arguments);return d.length-
1>=e.length?e.apply(this,d.slice(1)):function(){var b=d.concat([].slice.call(arguments));return h.apply(this,b)}}var g=[].slice;return{constant:function(e){return function(){return e}},negate:function(e){return function(d){return!e(d)}},and:function(){var e=g.call(arguments);return function(d){for(var b=0;b<e.length;b++)if(!e[b](d))return!1;return!0}},or:function(){var e=g.call(arguments);return function(d){for(var b=0;b<e.length;b++)if(e[b](d))return!0;return!1}},curry:h,compose:function(e,d){return function(b){return e(d(b))}}}});
x("tinymce/caret/CaretCandidate",["tinymce/dom/NodeType","tinymce/util/Arr","tinymce/caret/CaretContainer"],function(h,g,e){function d(a){return v(a)?!1:n(a)?q(a.parentNode)?!1:!0:r(a)||p(a)||l(a)||f(a)}function b(b,c){for(b=b.parentNode;b&&b!=c;b=b.parentNode){if(f(b))return!1;if(a(b))break}return!0}function c(b){return f(b)?!0!==g.reduce(b.getElementsByTagName("*"),function(b,c){return b||a(c)},!1):!1}var a=h.isContentEditableTrue,f=h.isContentEditableFalse,p=h.isBr,n=h.isText,q=h.matchNodeNames("script style textarea"),
r=h.matchNodeNames("img input textarea hr iframe video audio object"),l=h.matchNodeNames("table"),v=e.isCaretContainer;return{isCaretCandidate:d,isInEditable:b,isAtomic:function(a){return r(a)||c(a)},isEditableCaretCandidate:function(a,c){return d(a)&&b(a,c)}}});x("tinymce/geom/ClientRect",[],function(){function h(b){return b?{left:a(b.left),top:a(b.top),bottom:a(b.bottom),right:a(b.right),width:a(b.width),height:a(b.height)}:{left:0,top:0,bottom:0,right:0,width:0,height:0}}function g(a,b,c){return 0<=
a&&a<=Math.min(b.height,c.height)/2}function e(a,b){return a.bottom<b.top?!0:a.top>b.bottom?!1:g(b.top-a.bottom,a,b)}function d(a,b){return a.top>b.bottom?!0:a.bottom<b.top?!1:g(b.bottom-a.top,a,b)}function b(a,b){return a.left<b.left}function c(a,b){return a.right>b.right}var a=Math.round;return{clone:h,collapse:function(a,b){a=h(a);b||(a.left+=a.width);a.right=a.left;a.width=0;return a},isEqual:function(a,b){return a.left===b.left&&a.top===b.top&&a.bottom===b.bottom&&a.right===b.right},isAbove:e,
isBelow:d,isLeft:b,isRight:c,compare:function(a,g){return e(a,g)?-1:d(a,g)?1:b(a,g)?-1:c(a,g)?1:0},containsXY:function(a,b,c){return b>=a.left&&b<=a.right&&c>=a.top&&c<=a.bottom}}});x("tinymce/text/ExtendingChar",[],function(){var h=RegExp("[\u0300-\u036f\u0483-\u0487\u0488-\u0489\u0591-\u05bd\u05bf\u05c1-\u05c2\u05c4-\u05c5\u05c7\u0610-\u061a\u064b-\u065f\u0670\u06d6-\u06dc\u06df-\u06e4\u06e7-\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0859-\u085b\u08e3-\u0902\u093a\u093c\u0941-\u0948\u094d\u0951-\u0957\u0962-\u0963\u0981\u09bc\u09be\u09c1-\u09c4\u09cd\u09d7\u09e2-\u09e3\u0a01-\u0a02\u0a3c\u0a41-\u0a42\u0a47-\u0a48\u0a4b-\u0a4d\u0a51\u0a70-\u0a71\u0a75\u0a81-\u0a82\u0abc\u0ac1-\u0ac5\u0ac7-\u0ac8\u0acd\u0ae2-\u0ae3\u0b01\u0b3c\u0b3e\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b57\u0b62-\u0b63\u0b82\u0bbe\u0bc0\u0bcd\u0bd7\u0c00\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55-\u0c56\u0c62-\u0c63\u0c81\u0cbc\u0cbf\u0cc2\u0cc6\u0ccc-\u0ccd\u0cd5-\u0cd6\u0ce2-\u0ce3\u0d01\u0d3e\u0d41-\u0d44\u0d4d\u0d57\u0d62-\u0d63\u0dca\u0dcf\u0dd2-\u0dd4\u0dd6\u0ddf\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb-\u0ebc\u0ec8-\u0ecd\u0f18-\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86-\u0f87\u0f8d-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039-\u103a\u103d-\u103e\u1058-\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085-\u1086\u108d\u109d\u135d-\u135f\u1712-\u1714\u1732-\u1734\u1752-\u1753\u1772-\u1773\u17b4-\u17b5\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u1922\u1927-\u1928\u1932\u1939-\u193b\u1a17-\u1a18\u1a1b\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1ab0-\u1abd\u1abe\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80-\u1b81\u1ba2-\u1ba5\u1ba8-\u1ba9\u1bab-\u1bad\u1be6\u1be8-\u1be9\u1bed\u1bef-\u1bf1\u1c2c-\u1c33\u1c36-\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1cf4\u1cf8-\u1cf9\u1dc0-\u1df5\u1dfc-\u1dff\u200c-\u200d\u20d0-\u20dc\u20dd-\u20e0\u20e1\u20e2-\u20e4\u20e5-\u20f0\u2cef-\u2cf1\u2d7f\u2de0-\u2dff\u302a-\u302d\u302e-\u302f\u3099-\u309a\ua66f\ua670-\ua672\ua674-\ua67d\ua69e-\ua69f\ua6f0-\ua6f1\ua802\ua806\ua80b\ua825-\ua826\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\ua9e5\uaa29-\uaa2e\uaa31-\uaa32\uaa35-\uaa36\uaa43\uaa4c\uaa7c\uaab0\uaab2-\uaab4\uaab7-\uaab8\uaabe-\uaabf\uaac1\uaaec-\uaaed\uaaf6\uabe5\uabe8\uabed\ufb1e\ufe00-\ufe0f\ufe20-\ufe2f\uff9e-\uff9f]");
return{isExtendingChar:function(g){return"string"==typeof g&&768<=g.charCodeAt(0)&&h.test(g)}}});x("tinymce/caret/CaretPosition","tinymce/util/Fun tinymce/dom/NodeType tinymce/dom/DOMUtils tinymce/dom/RangeUtils tinymce/caret/CaretCandidate tinymce/geom/ClientRect tinymce/text/ExtendingChar".split(" "),function(h,g,e,d,b,c,a){function f(a){return"createRange"in a?a.createRange():e.DOM.createRng()}function p(a){return a&&/[\r\n\t ]/.test(a)}function n(a){var b=a.startContainer,c=a.startOffset;return p(a.toString())&&
u(b.parentNode)&&(a=b.data,p(a[c-1])||p(a[c+1]))?!0:!1}function q(b){function d(a){var b=a.getClientRects();b=0<b.length?c.clone(b[0]):c.clone(a.getBoundingClientRect());if(w(a)&&0===b.left){var d=a.ownerDocument;b=f(d);d=d.createTextNode("\u00a0");var e=a.parentNode;e.insertBefore(d,a);b.setStart(d,0);b.setEnd(d,1);a=c.clone(b.getBoundingClientRect());e.removeChild(d);return a}return b}function e(a,b){a=c.collapse(a,b);a.width=1;a.right=a.left+1;return a}function k(a){0!==a.height&&(0<g.length&&
c.isEqual(a,g[g.length-1])||g.push(a))}function u(b,c){var m=f(b.ownerDocument);if(c<b.data.length){if(a.isExtendingChar(b.data[c]))return g;if(a.isExtendingChar(b.data[c-1])&&(m.setStart(b,c),m.setEnd(b,c+1),!n(m)))return k(e(d(m),!1)),g}0<c&&(m.setStart(b,c-1),m.setEnd(b,c),n(m)||k(e(d(m),!1)));c<b.data.length&&(m.setStart(b,c),m.setEnd(b,c+1),n(m)||k(e(d(m),!0)))}var g=[];if(m(b.container()))return u(b.container(),b.offset()),g;if(l(b.container()))if(b.isAtEnd()){var p=z(b.container(),b.offset());
m(p)&&u(p,p.data.length);y(p)&&!w(p)&&k(e(d(p),!1))}else{p=z(b.container(),b.offset());m(p)&&u(p,0);if(y(p)&&b.isAtEnd())return k(e(d(p),!1)),g;b=z(b.container(),b.offset()-1);y(b)&&!w(b)&&(v(b)||v(p)||!y(p))&&k(e(d(b),!1));y(p)&&k(e(d(p),!0))}return g}function r(a,b,c){function d(){c||(c=q(new r(a,b)));return c}return{container:h.constant(a),offset:h.constant(b),toRange:function(){var c=f(a.ownerDocument);c.setStart(a,b);c.setEnd(a,b);return c},getClientRects:d,isVisible:function(){return 0<d().length},
isAtStart:function(){m(a);return 0===b},isAtEnd:function(){return m(a)?b>=a.data.length:b>=a.childNodes.length},isEqual:function(c){return c&&a===c.container()&&b===c.offset()},getNode:function(c){return z(a,c?b-1:b)}}}var l=g.isElement;b=b.isCaretCandidate;var v=g.matchStyleValues("display","block table"),B=g.matchStyleValues("float","left right"),y=h.and(l,b,h.negate(B)),u=h.negate(g.matchStyleValues("white-space","pre pre-line pre-wrap")),m=g.isText,w=g.isBr,A=e.nodeIndex,z=d.getNode;r.fromRangeStart=
function(a){return new r(a.startContainer,a.startOffset)};r.fromRangeEnd=function(a){return new r(a.endContainer,a.endOffset)};r.after=function(a){return new r(a.parentNode,A(a)+1)};r.before=function(a){return new r(a.parentNode,A(a))};return r});x("tinymce/caret/CaretBookmark",["tinymce/dom/NodeType","tinymce/dom/DOMUtils","tinymce/util/Fun","tinymce/util/Arr","tinymce/caret/CaretPosition"],function(h,g,e,d,b){function c(a){a=a.parentNode;return y(a)?c(a):a}function a(b){return b?d.reduce(b.childNodes,
function(b,c){y(c)&&"BR"!=c.nodeName?b=b.concat(a(c)):b.push(c);return b},[]):[]}function f(a,b){for(;(a=a.previousSibling)&&B(a);)b+=a.data.length;return b}function p(a){return function(b){return a===b}}function n(b){var f=a(c(b));var e=d.findIndex(f,p(b),b);f=f.slice(0,e+1);var m=d.reduce(f,function(a,b,c){B(b)&&B(f[c-1])&&a++;return a},0);f=d.filter(f,h.matchNodeNames(b.nodeName));e=d.findIndex(f,p(b),b);return e-m}function q(a){return(B(a)?"text()":a.nodeName.toLowerCase())+"["+n(a)+"]"}function r(a,
b,c){var d=[];for(b=b.parentNode;!(b==a||c&&c(b));b=b.parentNode)d.push(b);return d}function l(b,c,f){var e=a(b);e=d.filter(e,function(a,b){return!B(a)||!B(e[b-1])});e=d.filter(e,h.matchNodeNames(c));return e[f]}function v(a,c){for(var d=a,f=0,e;B(d);){e=d.data.length;if(c>=f&&c<=f+e){a=d;c-=f;break}if(!B(d.nextSibling)){a=d;c=e;break}f+=e;d=d.nextSibling}c>a.data.length&&(c=a.data.length);return new b(a,c)}var B=h.isText,y=h.isBogus,u=g.nodeIndex;return{create:function(a,b){var c=[];var m=b.container();
var k=b.offset();if(B(m))var u=f(m,k);else m=m.childNodes,k>=m.length?(u="after",k=m.length-1):u="before",m=m[k];c.push(q(m));k=r(a,m);k=d.filter(k,e.negate(h.isBogus));c=c.concat(d.map(k,function(a){return q(a)}));return c.reverse().join("/")+","+u},resolve:function(a,c){if(!c)return null;var f=c.split(",");c=f[0].split("/");var e=1<f.length?f[1]:"before";f=d.reduce(c,function(a,b){b=/([\w\-\(\)]+)\[([0-9]+)\]/.exec(b);if(!b)return null;"text()"===b[1]&&(b[1]="#text");return l(a,b[1],parseInt(b[2],
10))},a);return f?B(f)?v(f,parseInt(e,10)):(e="after"===e?u(f)+1:u(f),new b(f.parentNode,e)):null}}});x("tinymce/dom/BookmarkManager","tinymce/Env tinymce/util/Tools tinymce/caret/CaretContainer tinymce/caret/CaretBookmark tinymce/caret/CaretPosition tinymce/dom/NodeType".split(" "),function(h,g,e,d,b,c){function a(a){var p=a.dom;this.getBookmark=function(q,r){function l(a,b){var c=0;g.each(p.select(a),function(a){if("all"!==a.getAttribute("data-mce-bogus")){if(a==b)return!1;c++}});return c}function v(a){function b(b){var c=
b?"start":"end";var d=a[c+"Container"];c=a[c+"Offset"];1==d.nodeType&&"TR"==d.nodeName&&(d=d.childNodes,d=d[Math.min(b?c:c-1,d.length-1)])&&(c=b?0:d.childNodes.length,a["set"+(b?"Start":"End")](d,c))}b(!0);b();return a}function h(b){function c(a,b){var c=a[b?"startContainer":"endContainer"],f=a[b?"startOffset":"endOffset"],e=[],k,m=0;if(3==c.nodeType){if(r)for(k=c.previousSibling;k&&3==k.nodeType;k=k.previousSibling)f+=k.nodeValue.length;e.push(f)}else k=c.childNodes,f>=k.length&&k.length&&(m=1,f=
Math.max(0,k.length-1)),e.push(p.nodeIndex(k[f],r)+m);for(;c&&c!=d;c=c.parentNode)e.push(p.nodeIndex(c,r));return e}var d=p.getRoot(),f={};f.start=c(b,!0);a.isCollapsed()||(f.end=c(b));return f}function n(a){function b(a){if(e.isCaretContainer(a)){c.isText(a)&&e.isCaretContainerBlock(a)&&(a=a.parentNode);var b=a.previousSibling;if(f(b))return b;b=a.nextSibling;if(f(b))return b}}return b(a.startContainer)||b(a.endContainer)}var u;if(2==q){var m=(u=a.getNode())?u.nodeName:null;var w=a.getRng();return f(u)||
"IMG"==m?{name:m,index:l(m,u)}:a.tridentSel?a.tridentSel.getBookmark(q):(u=n(w))?(m=u.tagName,{name:m,index:l(m,u)}):h(w)}if(3==q)return w=a.getRng(),{start:d.create(p.getRoot(),b.fromRangeStart(w)),end:d.create(p.getRoot(),b.fromRangeEnd(w))};if(q)return{rng:a.getRng()};w=a.getRng();var A=p.uniqueId();var z=a.isCollapsed();if(w.duplicate||w.item){if(w.item)return u=w.item(0),m=u.nodeName,{name:m,index:l(m,u)};m=w.duplicate();try{w.collapse(),w.pasteHTML('<span data-mce-type="bookmark" id="'+A+'_start" style="overflow:hidden;line-height:0px">&#xFEFF;</span>'),
z||(m.collapse(!1),w.moveToElementText(m.parentElement()),0===w.compareEndPoints("StartToEnd",m)&&m.move("character",-1),m.pasteHTML('<span data-mce-type="bookmark" id="'+A+'_end" style="overflow:hidden;line-height:0px">&#xFEFF;</span>'))}catch(k){return null}}else{u=a.getNode();m=u.nodeName;if("IMG"==m)return{name:m,index:l(m,u)};m=v(w.cloneRange());z||(m.collapse(!1),m.insertNode(p.create("span",{"data-mce-type":"bookmark",id:A+"_end",style:"overflow:hidden;line-height:0px"},"&#xFEFF;")));w=v(w);
w.collapse(!0);w.insertNode(p.create("span",{"data-mce-type":"bookmark",id:A+"_start",style:"overflow:hidden;line-height:0px"},"&#xFEFF;"))}a.moveToBookmark({id:A,keep:1});return{id:A}};this.moveToBookmark=function(b){function c(a){var c=b[a?"start":"end"],d;if(c){var f=c[0];var e=z;for(d=c.length-1;1<=d;d--){e=e.childNodes;if(c[d]>e.length-1)return;e=e[c[d]]}3===e.nodeType&&(f=Math.min(c[0],e.nodeValue.length));1===e.nodeType&&(f=Math.min(c[0],e.childNodes.length));a?A.setStart(e,f):A.setEnd(e,f)}return!0}
function f(a){var c=p.get(b.id+"_"+a);var d=b.keep;if(c){var f=c.parentNode;if("start"==a){if(d){f=c.firstChild;var e=1}else e=p.nodeIndex(c);n=u=f;m=w=e}else d?(f=c.firstChild,e=1):e=p.nodeIndex(c),u=f,w=e;if(!d){d=c.previousSibling;f=c.nextSibling;for(g.each(g.grep(c.childNodes),function(a){3==a.nodeType&&(a.nodeValue=a.nodeValue.replace(/\uFEFF/g,""))});c=p.get(b.id+"_"+a);)p.remove(c,1);d&&f&&d.nodeType==f.nodeType&&3==d.nodeType&&!h.opera&&(e=d.nodeValue.length,d.appendData(f.nodeValue),p.remove(f),
"start"==a?(n=u=d,m=w=e):(u=d,w=e))}}}function e(a){!p.isBlock(a)||a.innerHTML||h.ie||(a.innerHTML='<br data-mce-bogus="1" />');return a}function q(){var a=p.createRng();var c=d.resolve(p.getRoot(),b.start);a.setStart(c.container(),c.offset());c=d.resolve(p.getRoot(),b.end);a.setEnd(c.container(),c.offset());return a}var n,u,m,w;if(b)if(g.isArray(b.start)){var A=p.createRng();var z=p.getRoot();if(a.tridentSel)return a.tridentSel.moveToBookmark(b);c(!0)&&c()&&a.setRng(A)}else"string"==typeof b.start?
a.setRng(q(b)):b.id?(f("start"),f("end"),n&&(A=p.createRng(),A.setStart(e(n),m),A.setEnd(e(u),w),a.setRng(A))):b.name?a.select(p.select(b.name)[b.index]):b.rng&&a.setRng(b.rng)}}var f=c.isContentEditableFalse;a.isBookmarkNode=function(a){return a&&"SPAN"===a.tagName&&"bookmark"===a.getAttribute("data-mce-type")};return a});x("tinymce/dom/Selection","tinymce/dom/TreeWalker tinymce/dom/TridentSelection tinymce/dom/ControlSelection tinymce/dom/RangeUtils tinymce/dom/BookmarkManager tinymce/dom/NodeType tinymce/Env tinymce/util/Tools tinymce/caret/CaretPosition".split(" "),
function(h,g,e,d,b,c,a,f,p){function n(a,c,d,f){this.dom=a;this.win=c;this.serializer=d;this.editor=f;this.bookmarkManager=new b(this);this.controlSelection=new e(this,f);this.win.getSelection||(this.tridentSel=new g(this))}var q=f.each,r=f.trim,l=a.ie;n.prototype={setCursorLocation:function(a,b){var c=this.dom.createRng();a?(c.setStart(a,b),c.setEnd(a,b),this.setRng(c),this.collapse(!1)):(this._moveEndPoint(c,this.editor.getBody(),!0),this.setRng(c))},getContent:function(a){var b=this.getRng(),c=
this.dom.create("body"),d=this.getSel(),f;a=a||{};var e=f="";a.get=!0;a.format=a.format||"html";a.selection=!0;this.editor.fire("BeforeGetContent",a);if("text"==a.format)return this.isCollapsed()?"":b.text||(d.toString?d.toString():"");b.cloneContents?(b=b.cloneContents())&&c.appendChild(b):b.item!==X||b.htmlText!==X?(c.innerHTML="<br>"+(b.item?b.item(0).outerHTML:b.htmlText),c.removeChild(c.firstChild)):c.innerHTML=b.toString();/^\s/.test(c.innerHTML)&&(e=" ");/\s+$/.test(c.innerHTML)&&(f=" ");a.getInner=
!0;a.content=this.isCollapsed()?"":e+this.serializer.serialize(c,a)+f;this.editor.fire("GetContent",a);return a.content},setContent:function(a,b){var c=this.getRng(),d=this.win.document;b=b||{format:"html"};b.set=!0;b.selection=!0;b.content=a;b.no_events||this.editor.fire("BeforeSetContent",b);a=b.content;if(c.insertNode){a+='<span id="__caret">_</span>';if(c.startContainer==d&&c.endContainer==d)d.body.innerHTML=a;else if(c.deleteContents(),0===d.body.childNodes.length)d.body.innerHTML=a;else if(c.createContextualFragment)c.insertNode(c.createContextualFragment(a));
else{var f=d.createDocumentFragment();var e=d.createElement("div");f.appendChild(e);e.outerHTML=a;c.insertNode(f)}f=this.dom.get("__caret");c=d.createRange();c.setStartBefore(f);c.setEndBefore(f);this.setRng(c);this.dom.remove("__caret");try{this.setRng(c)}catch(A){}}else c.item&&(d.execCommand("Delete",!1,null),c=this.getRng()),/^\s+/.test(a)?(c.pasteHTML('<span id="__mce_tmp">_</span>'+a),this.dom.remove("__mce_tmp")):c.pasteHTML(a);b.no_events||this.editor.fire("SetContent",b)},getStart:function(a){var b=
this.getRng();if(b.duplicate||b.item){if(b.item)return b.item(0);var c=b.duplicate();c.collapse(1);c=c.parentElement();c.ownerDocument!==this.dom.doc&&(c=this.dom.getRoot());for(b=a=b.parentElement();a=a.parentNode;)if(a==c){c=b;break}return c}c=b.startContainer;1==c.nodeType&&c.hasChildNodes()&&(a&&b.collapsed||(c=c.childNodes[Math.min(c.childNodes.length-1,b.startOffset)]));return c&&3==c.nodeType?c.parentNode:c},getEnd:function(a){var b=this.getRng();if(b.duplicate||b.item){if(b.item)return b.item(0);
b=b.duplicate();b.collapse(0);var c=b.parentElement();c.ownerDocument!==this.dom.doc&&(c=this.dom.getRoot());return c&&"BODY"==c.nodeName?c.lastChild||c:c}c=b.endContainer;var d=b.endOffset;1==c.nodeType&&c.hasChildNodes()&&(a&&b.collapsed||(c=c.childNodes[0<d?d-1:d]));return c&&3==c.nodeType?c.parentNode:c},getBookmark:function(a,b){return this.bookmarkManager.getBookmark(a,b)},moveToBookmark:function(a){return this.bookmarkManager.moveToBookmark(a)},select:function(a,b){var c=this.dom,d=c.createRng();
this.lastFocusBookmark=null;if(a){if(!b&&this.controlSelection.controlSelect(a))return;c=c.nodeIndex(a);d.setStart(a.parentNode,c);d.setEnd(a.parentNode,c+1);b&&(this._moveEndPoint(d,a,!0),this._moveEndPoint(d,a));this.setRng(d)}return a},isCollapsed:function(){var a=this.getRng(),b=this.getSel();return!a||a.item?!1:a.compareEndPoints?0===a.compareEndPoints("StartToEnd",a):!b||a.collapsed},collapse:function(a){var b=this.getRng();if(b.item){var c=b.item(0);b=this.win.document.body.createTextRange();
b.moveToElementText(c)}b.collapse(!!a);this.setRng(b)},getSel:function(){var a=this.win;return a.getSelection?a.getSelection():a.document.selection},getRng:function(a){function b(a,b,c){try{return b.compareBoundaryPoints(a,c)}catch(t){return-1}}var c;if(!this.win)return null;var d=this.win.document;if(!a&&this.lastFocusBookmark){var f=this.lastFocusBookmark;if(f.startContainer){var e=d.createRange();e.setStart(f.startContainer,f.startOffset);e.setEnd(f.endContainer,f.endOffset)}else e=f;return e}if(a&&
this.tridentSel)return this.tridentSel.getRangeAt(0);try{if(c=this.getSel())e=0<c.rangeCount?c.getRangeAt(0):c.createRange?c.createRange():d.createRange()}catch(A){}a=this.editor.fire("GetSelectionRange",{range:e});if(a.range!==e)return a.range;if(l&&e&&e.setStart&&d.selection){try{f=d.selection.createRange()}catch(A){}f&&f.item&&(f=f.item(0),e=d.createRange(),e.setStartBefore(f),e.setEndAfter(f))}e||(e=d.createRange?d.createRange():d.body.createTextRange());e.setStart&&9===e.startContainer.nodeType&&
e.collapsed&&(f=this.dom.getRoot(),e.setStart(f,0),e.setEnd(f,0));this.selectedRange&&this.explicitRange&&(0===b(e.START_TO_START,e,this.selectedRange)&&0===b(e.END_TO_END,e,this.selectedRange)?e=this.explicitRange:this.explicitRange=this.selectedRange=null);return e},setRng:function(b,c){if(b)if(b.select){this.explicitRange=null;try{b.select()}catch(m){}}else if(!this.tridentSel){var d=this.getSel();var f=this.editor.fire("SetSelectionRange",{range:b});b=f.range;if(d){this.explicitRange=b;try{d.removeAllRanges(),
d.addRange(b)}catch(m){}!1===c&&d.extend&&(d.collapse(b.endContainer,b.endOffset),d.extend(b.startContainer,b.startOffset));this.selectedRange=0<d.rangeCount?d.getRangeAt(0):null}!b.collapsed&&b.startContainer==b.endContainer&&d.setBaseAndExtent&&!a.ie&&2>b.endOffset-b.startOffset&&b.startContainer.hasChildNodes()&&(d=b.startContainer.childNodes[b.startOffset])&&"IMG"==d.tagName&&this.getSel().setBaseAndExtent(d,0,d,1)}else if(b.cloneRange)try{this.tridentSel.addRange(b)}catch(m){}},setNode:function(a){this.setContent(this.dom.getOuterHTML(a));
return a},getNode:function(){function a(a,b){for(var c=a;a&&3===a.nodeType&&0===a.length;)a=b?a.nextSibling:a.previousSibling;return a||c}var b=this.getRng(),c=this.dom.getRoot();if(!b)return c;var d=b.startContainer;var f=b.endContainer;var e=b.startOffset;var g=b.endOffset;if(b.setStart){var l=b.commonAncestorContainer;return!b.collapsed&&(d==f&&2>g-e&&d.hasChildNodes()&&(l=d.childNodes[e]),3===d.nodeType&&3===f.nodeType&&(d=d.length===e?a(d.nextSibling,!0):d.parentNode,f=0===g?a(f.previousSibling,
!1):f.parentNode,d&&d===f))?d:l&&3==l.nodeType?l.parentNode:l}l=b.item?b.item(0):b.parentElement();l.ownerDocument!==this.win.document&&(l=c);return l},getSelectedBlocks:function(a,b){var c=this.dom,d=[];var f=c.getRoot();a=c.getParent(a||this.getStart(),c.isBlock);b=c.getParent(b||this.getEnd(),c.isBlock);a&&a!=f&&d.push(a);if(a&&b&&a!=b){var e=a;for(var l=new h(a,f);(e=l.next())&&e!=b;)c.isBlock(e)&&d.push(e)}b&&a!=b&&b!=f&&d.push(b);return d},isForward:function(){var a=this.dom,b=this.getSel();
if(!b||!b.anchorNode||!b.focusNode)return!0;var c=a.createRng();c.setStart(b.anchorNode,b.anchorOffset);c.collapse(!0);a=a.createRng();a.setStart(b.focusNode,b.focusOffset);a.collapse(!0);return 0>=c.compareBoundaryPoints(c.START_TO_START,a)},normalize:function(){var b=this.getRng();a.range&&(new d(this.dom)).normalize(b)&&this.setRng(b,this.isForward());return b},selectorChanged:function(a,b){var c=this;if(!c.selectorChangedData){c.selectorChangedData={};var d={};c.editor.on("NodeChange",function(a){var b=
a.element,f=c.dom,e=f.getParents(b,null,f.getRoot()),k={};q(c.selectorChangedData,function(a,b){q(e,function(c){if(f.is(c,b))return d[b]||(q(a,function(a){a(!0,{node:c,selector:b,parents:e})}),d[b]=a),k[b]=a,!1})});q(d,function(a,c){k[c]||(delete d[c],q(a,function(a){a(!1,{node:b,selector:c,parents:e})}))})})}c.selectorChangedData[a]||(c.selectorChangedData[a]=[]);c.selectorChangedData[a].push(b);return c},getScrollContainer:function(){for(var a,b=this.dom.getRoot();b&&"BODY"!=b.nodeName;){if(b.scrollHeight>
b.clientHeight){a=b;break}b=b.parentNode}return a},scrollIntoView:function(a,b){function d(a){for(var b=0,c=0;a&&a.nodeType;)b+=a.offsetLeft||0,c+=a.offsetTop||0,a=a.offsetParent;return{x:b,y:c}}var f=this.dom;var e=f.getRoot();var l=0;if(c.isElement(a)){!1===b&&(l=a.offsetHeight);if("BODY"!=e.nodeName&&(e=this.getScrollContainer())){f=d(a).y-d(e).y+l;var g=e.clientHeight;l=e.scrollTop;if(f<l||f+25>l+g)e.scrollTop=f<l?f:f-g+25;return}e=f.getViewPort(this.editor.getWin());f=f.getPos(a).y+l;l=e.y;g=
e.h;(f<e.y||f+25>l+g)&&this.editor.getWin().scrollTo(0,f<l?f:f-g+25)}},placeCaretAt:function(a,b){this.setRng(d.getCaretRangeFromPoint(a,b,this.editor.getDoc()))},_moveEndPoint:function(b,c,d){var f=c,e=new h(c,f),l=this.dom.schema.getNonEmptyElements();do{if(3==c.nodeType&&0!==r(c.nodeValue).length){d?b.setStart(c,0):b.setEnd(c,c.nodeValue.length);return}if(l[c.nodeName]&&!/^(TD|TH)$/.test(c.nodeName)){d?b.setStartBefore(c):"BR"==c.nodeName?b.setEndBefore(c):b.setEndAfter(c);return}if(a.ie&&11>a.ie&&
this.dom.isBlock(c)&&this.dom.isEmpty(c)){d?b.setStart(c,0):b.setEnd(c,0);return}}while(c=d?e.next():e.prev());"BODY"==f.nodeName&&(d?b.setStart(f,0):b.setEnd(f,f.childNodes.length))},getBoundingClientRect:function(){var a=this.getRng();return a.collapsed?p.fromRangeStart(a).getClientRects()[0]:a.getBoundingClientRect()},destroy:function(){this.win=null;this.controlSelection.destroy()}};return n});x("tinymce/dom/ElementUtils",["tinymce/dom/BookmarkManager","tinymce/util/Tools"],function(h,g){var e=
g.each;return function(d){this.compare=function(b,c){function a(a){var b={};e(d.getAttribs(a),function(c){c=c.nodeName.toLowerCase();0!==c.indexOf("_")&&"style"!==c&&0!==c.indexOf("data-")&&(b[c]=d.getAttrib(a,c))});return b}function f(a,b){var c;for(c in a)if(a.hasOwnProperty(c)){var d=b[c];if("undefined"==typeof d||a[c]!=d)return!1;delete b[c]}for(c in b)if(b.hasOwnProperty(c))return!1;return!0}return b.nodeName==c.nodeName&&f(a(b),a(c))&&f(d.parseStyle(d.getAttrib(b,"style")),d.parseStyle(d.getAttrib(c,
"style")))?!h.isBookmarkNode(b)&&!h.isBookmarkNode(c):!1}}});x("tinymce/fmt/Preview",["tinymce/util/Tools"],function(h){var g=h.each;return{getCssText:function(e,d){var b=e.dom,c="";var a=e.settings.preview_styles;if(!1===a)return"";a||(a="font-family font-size font-weight font-style text-decoration text-transform color background-color border border-radius outline text-shadow");if("string"==typeof d){d=e.formatter.get(d);if(!d)return;d=d[0]}var f=b.create(d.block||d.inline||"span");g(d.styles,function(a,
c){(a=a.replace(/%(\w+)/g,""))&&b.setStyle(f,c,a)});g(d.attributes,function(a,c){(a=a.replace(/%(\w+)/g,""))&&b.setAttrib(f,c,a)});g(d.classes,function(a){a=a.replace(/%(\w+)/g,"");b.hasClass(f,a)||b.addClass(f,a)});e.fire("PreviewFormats");b.setStyles(f,{position:"absolute",left:-65535});e.getBody().appendChild(f);var p=b.getStyle(e.getBody(),"fontSize",!0);p=/px$/.test(p)?parseInt(p,10):0;g(a.split(" "),function(a){var d=b.getStyle(f,a,!0);if("background-color"==a&&/transparent|rgba\s*\([^)]+,\s*0\)/.test(d)&&
(d=b.getStyle(e.getBody(),a,!0),"#ffffff"==b.toHex(d).toLowerCase()))return;if("color"!=a||"#000000"!=b.toHex(d).toLowerCase()){if("font-size"==a&&/em|%$/.test(d)){if(0===p)return;d=parseFloat(d,10)/(/%$/.test(d)?100:1);d=d*p+"px"}"border"==a&&d&&(c+="padding:0 2px;");c+=a+":"+d+";"}});e.fire("AfterPreviewFormats");b.remove(f);return c}}});x("tinymce/fmt/Hooks",["tinymce/util/Arr","tinymce/dom/NodeType","tinymce/dom/DomQuery"],function(h,g,e){var d=[],b=h.filter,c=h.each;(function(a,b){d[a]||(d[a]=
[]);d[a].push(b)})("pre",function(a){function d(a){return n(a.previousSibling)&&-1!=h.indexOf(q,a.previousSibling)}var p=a.selection.getRng();var n=g.matchNodeNames("pre");if(!p.collapsed){var q=a.selection.getSelectedBlocks();c(b(b(q,n),d),function(a){var b=a.previousSibling;e(a).remove();e(b).append("<br><br>").append(a.childNodes)})}});return{postProcess:function(a,b){c(d[a],function(a){a(b)})}}});x("tinymce/Formatter","tinymce/dom/TreeWalker tinymce/dom/RangeUtils tinymce/dom/BookmarkManager tinymce/dom/ElementUtils tinymce/util/Tools tinymce/fmt/Preview tinymce/fmt/Hooks".split(" "),
function(h,g,e,d,b,c,a){return function(f){function p(a){a.nodeType&&(a=a.nodeName);return!!f.schema.getTextBlockElements()[a.toLowerCase()]}function n(a,b){return C.getParents(a,b,C.getRoot())}function q(a){return 1===a.nodeType&&"_mce_caret"===a.id}function r(a){return a?L[a]:L}function l(a,b){a&&("string"!==typeof a?J(a,function(a,b){l(b,a)}):(b=b.length?b:[b],J(b,function(a){a.deep===aa&&(a.deep=!a.selector);a.split===aa&&(a.split=!a.selector||a.inline);a.remove===aa&&a.selector&&!a.inline&&(a.remove=
"none");a.selector&&a.inline&&(a.mixed=!0,a.block_expand=!0);"string"===typeof a.classes&&(a.classes=a.classes.split(/\s+/))}),L[a]=b))}function v(a,b){var c=r(b);if(c)for(var d=0;d<c.length;d++)if(!1===c[d].inherit&&C.is(a,c[d].selector))return!0;return!1}function B(a){var b;f.dom.getParent(a,function(a){return(b=f.dom.getStyle(a,"text-decoration"))&&"none"!==b});return b}function y(a){if(1===a.nodeType&&a.parentNode&&1===a.parentNode.nodeType){var b=B(a.parentNode);f.dom.getStyle(a,"color")&&b?
f.dom.setStyle(a,"text-decoration",b):f.dom.getStyle(a,"text-decoration")===b&&f.dom.setStyle(a,"text-decoration",null)}}function u(b,c,d){function e(a,b){b=b||t;if(a){if(b.onformat)b.onformat(a,b,c,d);J(b.styles,function(b,d){C.setStyle(a,d,G(b,c))});if(b.styles){var f=C.getAttrib(a,"style");f&&a.setAttribute("data-mce-style",f)}J(b.attributes,function(b,d){C.setAttrib(a,d,G(b,c))});J(b.classes,function(b){b=G(b,c);C.hasClass(a,b)||C.addClass(a,b)})}}function m(){var a=f.selection.getRng(),b=a.startContainer,
c=a.endContainer;if(b!=c&&0===a.endOffset){a:{c=new h(c);for(d=c.prev2();d;d=c.prev2()){if(3==d.nodeType&&0<d.data.length){b=d;break a}if(1<d.childNodes.length||d==b||"BR"==d.tagName){b=d;break a}}b=void 0}a.setEnd(b,3==b.nodeType?b.data.length:b.childNodes.length)}return a}function l(a,d,f){var m=[],l=!0;var u=t.inline||t.block;var r=C.create(u);e(r);U.walk(a,function(a){function d(a){var n;var z=l;var A=a.nodeName.toLowerCase();var B=a.parentNode.nodeName.toLowerCase();if(1===a.nodeType&&da(a)){z=
l;l="true"===da(a);var y=!0}if(k(A,"br"))h=0,t.block&&C.remove(a);else if(t.wrapper&&w(a,b,c))h=0;else if(l&&!y&&t.block&&!t.wrapper&&p(A)&&N(B,u))a=C.rename(a,u),e(a),m.push(a),h=0;else{if(t.selector&&(J(g,function(b){if(!("collapsed"in b&&b.collapsed!==v)&&C.is(a,b.selector)&&!q(a))return e(a,b),n=!0,!1}),!t.inline||n)){h=0;return}!l||y||!N(u,A)||!N(B,u)||!f&&3===a.nodeType&&1===a.nodeValue.length&&65279===a.nodeValue.charCodeAt(0)||q(a)||t.inline&&R(a)?(h=0,J(W(a.childNodes),d),y&&(l=z),h=0):(h||
(h=C.clone(r,!1),a.parentNode.insertBefore(h,a),m.push(h)),h.appendChild(a))}}var h;J(a,d)});!0===t.links&&J(m,function(a){function b(a){"A"===a.nodeName&&e(a,t);J(W(a.childNodes),b)}b(a)});J(m,function(a){function d(a){var b;J(a.childNodes,function(a){if(1==a.nodeType&&!fa(a)&&!q(a))return b=a,!1});if(b&&!fa(b)&&z(b,t)){var c=C.clone(b,!1);e(c);C.replace(c,a,!0);C.remove(b,1)}return c||a}var f=function(a){var b=0;J(a.childNodes,function(a){F(a)||fa(a)||b++});return b}(a);if((1<m.length||!R(a))&&
0===f)C.remove(a,1);else if(t.inline||t.wrapper){t.exact||1!==f||(a=d(a));J(g,function(b){J(C.select(b.inline,a),function(a){fa(a)||K(b,c,a,b.exact?a:null)})});if(w(a.parentNode,b,c))return C.remove(a,1),a=0,!0;t.merge_with_parents&&C.getParent(a.parentNode,function(d){if(w(d,b,c))return C.remove(a,1),a=0,!0});a&&!1!==t.merge_siblings&&(a=I(M(a),a),a=I(a,M(a,!0)))}})}var g=r(b),t=g[0],v=!d&&E.isCollapsed();if("false"===da(E.getNode())){d=E.getNode();var n=0;for(var A=g.length;n<A;n++)if(g[n].ceFalseOverride&&
C.is(d,g[n].selector)){e(d,g[n]);break}}else t&&(d?d.nodeType?(n=C.createRng(),n.setStartBefore(d),n.setEndAfter(d),l(H(n,g),null,!0)):l(d,null,!0):v&&t.inline&&!C.select("td[data-mce-selected],th[data-mce-selected]").length?P("apply",b,c):(A=f.selection.getNode(),Y||!g[0].defaultBlock||C.getParent(A,C.isBlock)||u(g[0].defaultBlock),f.selection.setRng(m()),n=E.getBookmark(),l(H(E.getRng(!0),g),n),t.styles&&(t.styles.color||t.styles.textDecoration)&&(ia(A,y,"childNodes"),y(A)),E.moveToBookmark(n),
S(E.getRng(!0)),f.nodeChanged()),a.postProcess(b,f))}function m(a,b,c,d){function e(a){var c;if(1===a.nodeType&&da(a)){var d=t;t="true"===da(a);var f=!0}var k=W(a.childNodes);if(t&&!f){var m=0;for(c=u.length;m<c&&!K(u[m],b,a,a);m++);}if(p.deep&&k.length){m=0;for(c=k.length;m<c;m++)e(k[m]);f&&(t=d)}}function k(c){var f;J(n(c.parentNode).reverse(),function(c){var e;f||"_start"==c.id||"_end"==c.id||(e=w(c,a,b,d))&&!1!==e.split&&(f=c)});return f}function m(a){var c=k(a),d=a,f,e,m;if(c){var l=c.parentNode;
for(f=d.parentNode;f&&f!=l;f=f.parentNode){var g=C.clone(f,!1);for(m=0;m<u.length;m++)if(K(u[m],b,g,g)){g=0;break}if(g){t&&g.appendChild(t);e||(e=g);var t=g}}p.mixed&&R(c)||(d=C.split(c,d));t&&(a.parentNode.insertBefore(t,a),e.appendChild(a))}return d}function l(a){var b=C.get(a?"_start":"_end"),c=b[a?"firstChild":"lastChild"];fa(c)&&(c=c[a?"firstChild":"lastChild"]);3==c.nodeType&&0===c.data.length&&(c=a?b.previousSibling||b.nextSibling:b.nextSibling||b.previousSibling);C.remove(b,!0);return c}function g(a){var b=
a.commonAncestorContainer;a=H(a,u,!0);if(p.split){var c=O(a,!0);var d=O(a);if(c!=d){/^(TR|TH|TD)$/.test(c.nodeName)&&c.firstChild&&(c="TR"==c.nodeName?c.firstChild.firstChild||c:c.firstChild||c);b&&/^T(HEAD|BODY|FOOT|R)$/.test(b.nodeName)&&/^(TH|TD)$/.test(d.nodeName)&&d.firstChild&&(d=d.firstChild||d);if(C.isChildOf(c,d)&&!R(d)&&!/^(TH|TD)$/.test(c.nodeName)&&!/^(TH|TD)$/.test(d.nodeName)){c=x(c,"span",{id:"_start","data-mce-type":"bookmark"});m(c);c=l(!0);return}c=x(c,"span",{id:"_start","data-mce-type":"bookmark"});
d=x(d,"span",{id:"_end","data-mce-type":"bookmark"});m(c);m(d);c=l(!0);d=l()}else c=d=m(c);a.startContainer=c.parentNode?c.parentNode:c;a.startOffset=Z(c);a.endContainer=d.parentNode?d.parentNode:d;a.endOffset=Z(d)+1}U.walk(a,function(a){J(a,function(a){e(a);1===a.nodeType&&"underline"===f.dom.getStyle(a,"text-decoration")&&a.parentNode&&"underline"===B(a.parentNode)&&K({deep:!1,exact:!0,inline:"span",styles:{textDecoration:"underline"}},null,a)})})}var u=r(a),p=u[0],t=!0;if(c)if(c.nodeType){var q=
C.createRng();q.setStartBefore(c);q.setEndAfter(c);g(q)}else g(c);else if("false"===da(E.getNode())){c=E.getNode();q=0;for(var v=u.length;q<v&&(!u[q].ceFalseOverride||!K(u[q],b,c,c));q++);}else E.isCollapsed()&&p.inline&&!C.select("td[data-mce-selected],th[data-mce-selected]").length?P("remove",a,b,d):(c=E.getBookmark(),g(E.getRng(!0)),E.moveToBookmark(c),p.inline&&A(a,b,E.getStart())&&S(E.getRng(!0)),f.nodeChanged())}function w(a,b,c,d){function f(a,b,f){var e,m=b[f];if(b.onmatch)return b.onmatch(a,
b,f);if(m)if(m.length===aa)for(e in m){if(m.hasOwnProperty(e)){var l="attributes"===f?C.getAttrib(a,e):t(a,e);if(d&&!l&&!b.exact||(!d||b.exact)&&!k(l,D(G(m[e],c),e)))return}}else for(e=0;e<m.length&&("attributes"===f?!C.getAttrib(a,m[e]):!t(a,m[e]));e++);return b}var e=r(b),m;if(e&&a)for(m=0;m<e.length;m++)if(b=e[m],z(a,b)&&f(a,b,"attributes")&&f(a,b,"styles")){if(e=b.classes)for(m=0;m<e.length;m++)if(!C.hasClass(a,e[m]))return;return b}}function A(a,b,c){function d(c){var d=C.getRoot();if(c===d)return!1;
c=C.getParent(c,function(c){return v(c,a)?!0:c.parentNode===d||!!w(c,a,b,!0)});return w(c,a,b)}if(c)return d(c);c=E.getNode();if(d(c))return!0;var f=E.getStart();return f!=c&&d(f)?!0:!1}function z(a,b){if(k(a,b.inline)||k(a,b.block))return!0;if(b.selector)return 1==a.nodeType&&C.is(a,b.selector)}function k(a,b){a=a||"";b=b||"";a=""+(a.nodeName||a);b=""+(b.nodeName||b);return a.toLowerCase()==b.toLowerCase()}function t(a,b){return D(C.getStyle(a,b),b)}function D(a,b){if("color"==b||"backgroundColor"==
b)a=C.toHex(a);"fontWeight"==b&&700==a&&(a="bold");"fontFamily"==b&&(a=a.replace(/[\'\"]/g,"").replace(/,\s+/g,","));return""+a}function G(a,b){"string"!=typeof a?a=a(b):b&&(a=a.replace(/%(\w+)/g,function(a,c){return b[c]||a}));return a}function F(a){return a&&3===a.nodeType&&/^([\t \r\n]+|)$/.test(a.nodeValue)}function x(a,b,c){b=C.create(b,c);a.parentNode.insertBefore(b,a);b.appendChild(a);return b}function H(a,b,c){function d(a){var c;var d=c=a?t:q;var f=a?"previousSibling":"nextSibling";var e=
C.getRoot();if(3==d.nodeType&&!F(d)&&(a?0<r:w<d.nodeValue.length))return d;for(;b[0].block_expand||!R(c);){for(a=c[f];a;a=a[f]){if(d=!fa(a)&&!F(a))d=a,d=!("BR"==d.nodeName&&d.getAttribute("data-mce-bogus")&&!d.nextSibling);if(d)return c}if(c==e||c.parentNode==e)break;c=c.parentNode}return c}function e(a,b){for(b===aa&&(b=3===a.nodeType?a.length:a.childNodes.length);a&&a.hasChildNodes();)(a=a.childNodes[b])&&(b=3===a.nodeType?a.length:a.childNodes.length);return{node:a,offset:b}}function m(a){for(var b=
a;b;){if(1===b.nodeType&&da(b))return"false"===da(b)?b:a;b=b.parentNode}return a}function l(a,b,d){function e(a,b){var f=a.nodeValue;"undefined"==typeof b&&(b=d?f.length:0);if(d){var e=f.lastIndexOf(" ",b);f=f.lastIndexOf("\u00a0",b);e=e>f?e:f;-1===e||c||e++}else e=f.indexOf(" ",b),f=f.indexOf("\u00a0",b),e=-1!==e&&(-1===f||e<f)?e:f;return e}var k;if(3===a.nodeType){b=e(a,b);if(-1!==b)return{container:a,offset:b};var m=a}for(a=new h(a,C.getParent(a,R)||f.getBody());k=a[d?"prev":"next"]();)if(3===
k.nodeType){if(m=k,b=e(k),-1!==b)return{container:k,offset:b}}else if(R(k))break;if(m)return b=d?0:m.length,{container:m,offset:b}}function g(c,d){var f,e;3==c.nodeType&&0===c.nodeValue.length&&c[d]&&(c=c[d]);var k=n(c);for(f=0;f<k.length;f++)for(e=0;e<b.length;e++){var m=b[e];if(!("collapsed"in m&&m.collapsed!==a.collapsed)&&C.is(k[f],m.selector))return k[f]}return c}function u(a,c){var d,f=C.getRoot();b[0].wrapper||(d=C.getParent(a,b[0].block,f));d||(d=C.getParent(3==a.nodeType?a.parentNode:a,function(a){return a!=
f&&p(a)}));d&&b[0].wrapper&&(d=n(d,"ul,ol").reverse()[0]||d);if(!d)for(d=a;d[c]&&!R(d[c])&&(d=d[c],!k(d,"br")););return d||a}var t=a.startContainer,r=a.startOffset,q=a.endContainer,w=a.endOffset;if(1==t.nodeType&&t.hasChildNodes()){var v=t.childNodes.length-1;t=t.childNodes[r>v?v:r];3==t.nodeType&&(r=0)}1==q.nodeType&&q.hasChildNodes()&&(v=q.childNodes.length-1,q=q.childNodes[w>v?v:w-1],3==q.nodeType&&(w=q.nodeValue.length));t=m(t);q=m(q);if(fa(t.parentNode)||fa(t))t=fa(t)?t:t.parentNode,t=t.nextSibling||
t,3==t.nodeType&&(r=0);if(fa(q.parentNode)||fa(q))q=fa(q)?q:q.parentNode,q=q.previousSibling||q,3==q.nodeType&&(w=q.length);if(b[0].inline){if(a.collapsed){if(v=l(t,r,!0))t=v.container,r=v.offset;if(v=l(q,w))q=v.container,w=v.offset}v=e(q,w);if(v.node){for(;v.node&&0===v.offset&&v.node.previousSibling;)v=e(v.node.previousSibling);v.node&&0<v.offset&&3===v.node.nodeType&&" "===v.node.nodeValue.charAt(v.offset-1)&&1<v.offset&&(q=v.node,q.splitText(v.offset-1))}}if(b[0].inline||b[0].block_expand)b[0].inline&&
3==t.nodeType&&0!==r||(t=d(!0)),b[0].inline&&3==q.nodeType&&w!==q.nodeValue.length||(q=d());b[0].selector&&!1!==b[0].expand&&!b[0].inline&&(t=g(t,"previousSibling"),q=g(q,"nextSibling"));if(b[0].block||b[0].selector)t=u(t,"previousSibling"),q=u(q,"nextSibling"),b[0].block&&(R(t)||(t=d(!0)),R(q)||(q=d()));1==t.nodeType&&(r=Z(t),t=t.parentNode);1==q.nodeType&&(w=Z(q)+1,q=q.parentNode);return{startContainer:t,startOffset:r,endContainer:q,endOffset:w}}function K(a,b,c,d){var f,e;if(!(z(c,a)||a.links&&
"A"==c.tagName))return!1;if("all"!=a.remove){J(a.styles,function(f,m){f=D(G(f,b),m);"number"===typeof m&&(m=f,d=0);(a.remove_similar||!d||k(t(d,m),f))&&C.setStyle(c,m,"");e=1});e&&""===C.getAttrib(c,"style")&&(c.removeAttribute("style"),c.removeAttribute("data-mce-style"));J(a.attributes,function(a,f){a=G(a,b);"number"===typeof f&&(f=a,d=0);if(!d||k(C.getAttrib(d,f),a)){if("class"==f&&(a=C.getAttrib(c,f))){var e="";J(a.split(/\s+/),function(a){/mce\-\w+/.test(a)&&(e+=(e?" ":"")+a)});if(e){C.setAttrib(c,
f,e);return}}"class"==f&&c.removeAttribute("className");ha.test(f)&&c.removeAttribute("data-mce-"+f);c.removeAttribute(f)}});J(a.classes,function(a){a=G(a,b);d&&!C.hasClass(d,a)||C.removeClass(c,a)});var m=C.getAttribs(c);for(f=0;f<m.length;f++){var l=m[f].nodeName;if(0!==l.indexOf("_")&&0!==l.indexOf("data-"))return!1}}if("none"!=a.remove)return T(c,a),!0}function T(a,b){function c(a,b,c){a=M(a,b,c);return!a||"BR"==a.nodeName||R(a)}var d=a.parentNode,e;b.block&&(Y?d==C.getRoot()&&(b.list_block&&
k(a,b.list_block)||J(W(a.childNodes),function(a){N(Y,a.nodeName.toLowerCase())?e?e.appendChild(a):(e=x(a,Y),C.setAttribs(e,f.settings.forced_root_block_attrs)):e=0})):R(a)&&!R(d)&&(c(a,!1)||c(a.firstChild,!0,1)||a.insertBefore(C.create("br"),a.firstChild),c(a,!0)||c(a.lastChild,!1,1)||a.appendChild(C.create("br"))));b.selector&&b.inline&&!k(b.inline,a)||C.remove(a,1)}function M(a,b,c){if(a)for(b=b?"nextSibling":"previousSibling",a=c?a:a[b];a;a=a[b])if(1==a.nodeType||!F(a))return a}function I(a,b){function c(a,
b){for(f=a;f&&(3!=f.nodeType||0===f.nodeValue.length);f=f[b])if(1==f.nodeType&&!fa(f))return f;return a}var f;var e=new d(C);if(a&&b&&(a=c(a,"previousSibling"),b=c(b,"nextSibling"),e.compare(a,b))){for(f=a.nextSibling;f&&f!=b;)e=f,f=f.nextSibling,a.appendChild(e);C.remove(b);J(W(b.childNodes),function(b){a.appendChild(b)});return a}return b}function O(a,b){var c=a[b?"startContainer":"endContainer"];var d=a[b?"startOffset":"endOffset"];if(1==c.nodeType){var e=c.childNodes.length-1;!b&&d&&d--;c=c.childNodes[d>
e?e:d]}3===c.nodeType&&b&&d>=c.nodeValue.length&&(c=(new h(c,f.getBody())).next()||c);3!==c.nodeType||b||0!==d||(c=(new h(c,f.getBody())).prev()||c);return c}function P(a,b,c,d){function e(a){var b=C.create("span",{id:"_mce_caret","data-mce-bogus":!0,style:z?"color:red":""});a&&b.appendChild(f.getDoc().createTextNode("\ufeff"));return b}function k(a,b){for(;a;){if(3===a.nodeType&&"\ufeff"!==a.nodeValue||1<a.childNodes.length)return!1;b&&1===a.nodeType&&b.push(a);a=a.firstChild}return!0}function l(a){for(;a;){if("_mce_caret"===
a.id)return a;a=a.parentNode}}function g(a){if(a){var b=new h(a,a);for(a=b.current();a;a=b.next())if(3===a.nodeType)return a}}function t(a,b){if(a){var c=E.getRng(!0);if(k(a))!1!==b&&(c.setStartBefore(a),c.setEndBefore(a)),C.remove(a);else{var d=g(a);"\ufeff"===d.nodeValue.charAt(0)&&(d.deleteData(0,1),c.startContainer==d&&0<c.startOffset&&c.setStart(d,c.startOffset-1),c.endContainer==d&&0<c.endOffset&&c.setEnd(d,c.endOffset-1));C.remove(a,1)}E.setRng(c)}else if(a=l(E.getStart()),!a)for(;a=C.get("_mce_caret");)t(a,
!1)}function q(){var a,d;var f=E.getRng(!0);var k=f.startOffset;var m=f.startContainer.nodeValue;(a=l(E.getStart()))&&(d=g(a));m&&0<k&&k<m.length&&/\w/.test(m.charAt(k))&&/\w/.test(m.charAt(k-1))?(a=E.getBookmark(),f.collapse(!0),f=H(f,r(b)),f=U.split(f),u(b,c,f),E.moveToBookmark(a)):(a&&"\ufeff"===d.nodeValue||(a=e(!0),d=a.firstChild,f.insertNode(a),k=1),u(b,c,a),E.setCursorLocation(d,k))}function v(){var a=E.getRng(!0),f,k=[];var l=a.startContainer;var g=a.startOffset;var u=l;3==l.nodeType&&(g!=
l.nodeValue.length&&(f=!0),u=u.parentNode);for(;u;){if(w(u,b,c,d)){var t=u;break}u.nextSibling&&(f=!0);k.push(u);u=u.parentNode}if(t)if(f)u=E.getBookmark(),a.collapse(!0),a=H(a,r(b),!0),a=U.split(a),m(b,c,a),E.moveToBookmark(u);else{u=a=e();for(l=k.length-1;0<=l;l--)u.appendChild(C.clone(k[l],!1)),u=u.firstChild;u.appendChild(C.doc.createTextNode("\ufeff"));u=u.firstChild;(k=C.getParent(t,p))&&C.isEmpty(k)?t.parentNode.replaceChild(a,t):C.insertAfter(a,t);E.setCursorLocation(u,1);C.isEmpty(t)&&C.remove(t)}}
function n(){var a;(a=l(E.getStart()))&&!C.isEmpty(a)&&ia(a,function(a){1!=a.nodeType||"_mce_caret"===a.id||C.isEmpty(a)||C.setAttrib(a,"data-mce-bogus",null)},"childNodes")}var z=f.settings.caret_debug;f._hasCaretEvents||(ja=function(){var a=[],b;if(k(l(E.getStart()),a))for(b=a.length;b--;)C.setAttrib(a[b],"data-mce-bogus","1")},ca=function(a){a=a.keyCode;t();8==a&&E.isCollapsed()&&"\ufeff"==E.getStart().innerHTML&&t(l(E.getStart()));37!=a&&39!=a||t(l(E.getStart()));n()},f.on("SetContent",function(a){a.selection&&
n()}),f._hasCaretEvents=!0);"apply"==a?q():v()}function S(a){var b=a.startContainer,c=a.startOffset,d;if(a.startContainer==a.endContainer&&(d=a.startContainer.childNodes[a.startOffset])&&/^(IMG)$/.test(d.nodeName))return;if(3==b.nodeType&&c>=b.nodeValue.length){c=Z(b);b=b.parentNode;var f=!0}if(1==b.nodeType)for(d=b.childNodes,b=d[Math.min(c,d.length-1)],b=new h(b,C.getParent(b,C.isBlock)),(c>d.length-1||f)&&b.next(),c=b.current();c;c=b.next())if(3==c.nodeType&&!F(c)){f=C.create("a",{"data-mce-bogus":"all"},
"\ufeff");c.parentNode.insertBefore(f,c);a.setStart(c,0);E.setRng(a);C.remove(f);break}}var L={},C=f.dom,E=f.selection,U=new g(C),N=f.schema.isValidChild,R=C.isBlock,Y=f.settings.forced_root_block,Z=C.nodeIndex,ha=/^(src|href|style)$/,Q,aa,da=C.getContentEditable,ca,ja,fa=e.isBookmarkNode,J=b.each,W=b.grep,ia=b.walk,X=b.extend;X(this,{get:r,register:l,unregister:function(a){a&&L[a]&&delete L[a];return L},apply:u,remove:m,toggle:function(a,b,c){var d=r(a);!A(a,b,c)||"toggle"in d[0]&&!d[0].toggle?u(a,
b,c):m(a,b,c)},match:A,matchAll:function(a,b){var c=[],d={};var f=E.getStart();C.getParent(f,function(f){var e;for(e=0;e<a.length;e++){var k=a[e];!d[k]&&w(f,k,b)&&(d[k]=!0,c.push(k))}},C.getRoot());return c},matchNode:w,canApply:function(a){a=r(a);var b,c;if(a){var d=E.getStart();d=n(d);for(c=a.length-1;0<=c;c--){var f=a[c].selector;if(!f||a[c].defaultBlock)return!0;for(b=d.length-1;0<=b;b--)if(C.is(d[b],f))return!0}}return!1},formatChanged:function(a,c,d){if(!Q){Q={};var e={};f.on("NodeChange",function(a){var c=
n(a.element),d={};c=b.grep(c,function(a){return 1==a.nodeType&&!a.getAttribute("data-mce-bogus")});J(Q,function(a,b){J(c,function(f){if(w(f,b,{},a.similar))return e[b]||(J(a,function(a){a(!0,{node:f,format:b,parents:c})}),e[b]=a),d[b]=a,!1;if(v(f,b))return!1})});J(e,function(b,f){d[f]||(delete e[f],J(b,function(b){b(!1,{node:a.element,format:f,parents:c})}))})})}J(a.split(","),function(a){Q[a]||(Q[a]=[],Q[a].similar=d);Q[a].push(c)});return this},getCssText:function(a){return c.getCssText(f,a)}});
(function(){l({valigntop:[{selector:"td,th",styles:{verticalAlign:"top"}}],valignmiddle:[{selector:"td,th",styles:{verticalAlign:"middle"}}],valignbottom:[{selector:"td,th",styles:{verticalAlign:"bottom"}}],alignleft:[{selector:"figure.image",collapsed:!1,classes:"align-left",ceFalseOverride:!0},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"left"},inherit:!1,defaultBlock:"div"},{selector:"img,table",collapsed:!1,styles:{"float":"left"}}],aligncenter:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",
styles:{textAlign:"center"},inherit:!1,defaultBlock:"div"},{selector:"figure.image",collapsed:!1,classes:"align-center",ceFalseOverride:!0},{selector:"img",collapsed:!1,styles:{display:"block",marginLeft:"auto",marginRight:"auto"}},{selector:"table",collapsed:!1,styles:{marginLeft:"auto",marginRight:"auto"}}],alignright:[{selector:"figure.image",collapsed:!1,classes:"align-right",ceFalseOverride:!0},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"right"},inherit:!1,
defaultBlock:"div"},{selector:"img,table",collapsed:!1,styles:{"float":"right"}}],alignjustify:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"justify"},inherit:!1,defaultBlock:"div"}],bold:[{inline:"strong",remove:"all"},{inline:"span",styles:{fontWeight:"bold"}},{inline:"b",remove:"all"}],italic:[{inline:"em",remove:"all"},{inline:"span",styles:{fontStyle:"italic"}},{inline:"i",remove:"all"}],underline:[{inline:"span",styles:{textDecoration:"underline"},exact:!0},
{inline:"u",remove:"all"}],strikethrough:[{inline:"span",styles:{textDecoration:"line-through"},exact:!0},{inline:"strike",remove:"all"}],forecolor:{inline:"span",styles:{color:"%value"},links:!0,remove_similar:!0},hilitecolor:{inline:"span",styles:{backgroundColor:"%value"},links:!0,remove_similar:!0},fontname:{inline:"span",styles:{fontFamily:"%value"}},fontsize:{inline:"span",styles:{fontSize:"%value"}},fontsize_class:{inline:"span",attributes:{"class":"%value"}},blockquote:{block:"blockquote",
wrapper:1,remove:"all"},subscript:{inline:"sub"},superscript:{inline:"sup"},code:{inline:"code"},link:{inline:"a",selector:"a",remove:"all",split:!0,deep:!0,onmatch:function(){return!0},onformat:function(a,b,c){J(c,function(b,c){C.setAttrib(a,c,b)})}},removeformat:[{selector:"b,strong,em,i,font,u,strike,sub,sup,dfn,code,samp,kbd,var,cite,mark,q,del,ins",remove:"all",split:!0,expand:!1,block_expand:!0,deep:!0},{selector:"span",attributes:["style","class"],remove:"empty",split:!0,expand:!1,deep:!0},
{selector:"*",attributes:["style","class"],split:!1,expand:!1,deep:!0}]});J("p h1 h2 h3 h4 h5 h6 div address pre div dt dd samp".split(/\s/),function(a){l(a,{block:a,remove:"all"})});l(f.settings.formats)})();(function(){f.addShortcut("meta+b","bold_desc","Bold");f.addShortcut("meta+i","italic_desc","Italic");f.addShortcut("meta+u","underline_desc","Underline");for(var a=1;6>=a;a++)f.addShortcut("access+"+a,"",["FormatBlock",!1,"h"+a]);f.addShortcut("access+7","",["FormatBlock",!1,"p"]);f.addShortcut("access+8",
"",["FormatBlock",!1,"div"]);f.addShortcut("access+9","",["FormatBlock",!1,"address"])})();f.on("BeforeGetContent",function(a){ja&&"raw"!=a.format&&ja()});f.on("mouseup keydown",function(a){ca&&ca(a)})}});x("tinymce/UndoManager",["tinymce/util/VK","tinymce/Env"],function(h,g){return function(e){function d(a){b.typing=!1;b.add({},a)}var b=this,c=0,a=[],f,p,h=0;e.on("init",function(){b.add()});e.on("BeforeExecCommand",function(a){a=a.command;"Undo"!=a&&"Redo"!=a&&"mceRepaint"!=a&&b.beforeChange()});
e.on("ExecCommand",function(a){var b=a.command;"Undo"!=b&&"Redo"!=b&&"mceRepaint"!=b&&d(a)});e.on("ObjectResizeStart Cut",function(){b.beforeChange()});e.on("SaveContent ObjectResized blur",d);e.on("DragEnd",d);e.on("KeyUp",function(c){var f=c.keyCode;if(!c.isDefaultPrevented()){if(33<=f&&36>=f||37<=f&&40>=f||45==f||13==f||c.ctrlKey)d(),e.nodeChanged();(46==f||8==f||g.mac&&(91==f||93==f))&&e.nodeChanged();p&&b.typing&&(e.isDirty()||(e.setDirty(a[0]&&e.serializer.getTrimmedContent()!=a[0].content),
e.isDirty()&&e.fire("change",{level:a[0],lastLevel:null})),e.fire("TypingUndo"),p=!1,e.nodeChanged())}});e.on("KeyDown",function(a){var c=a.keyCode;if(!a.isDefaultPrevented())if(33<=c&&36>=c||37<=c&&40>=c||45==c)b.typing&&d(a);else{var f=a.ctrlKey&&!a.altKey||a.metaKey;!(16>c||20<c)||224==c||91==c||b.typing||f||(b.beforeChange(),b.typing=!0,b.add({},a),p=!0)}});e.on("MouseDown",function(a){b.typing&&d(a)});e.addShortcut("meta+z","","Undo");e.addShortcut("meta+y,meta+shift+z","","Redo");e.on("AddUndo Undo Redo ClearUndos",
function(a){a.isDefaultPrevented()||e.nodeChanged()});return b={data:a,typing:!1,beforeChange:function(){h||(f=e.selection.getBookmark(2,!0))},add:function(b,d){var l=e.settings;b=b||{};b.content=e.serializer.getTrimmedContent();if(h||e.removed)return null;var g=a[c];if(e.fire("BeforeAddUndo",{level:b,lastLevel:g,originalEvent:d}).isDefaultPrevented()||g&&g.content==b.content)return null;a[c]&&(a[c].beforeBookmark=f);if(l.custom_undo_redo_levels&&a.length>l.custom_undo_redo_levels){for(l=0;l<a.length-
1;l++)a[l]=a[l+1];a.length--;c=a.length}b.bookmark=e.selection.getBookmark(2,!0);c<a.length-1&&(a.length=c+1);a.push(b);c=a.length-1;g={level:b,lastLevel:g,originalEvent:d};e.fire("AddUndo",g);0<c&&(e.setDirty(!0),e.fire("change",g));return b},undo:function(){b.typing&&(b.add(),b.typing=!1);if(0<c){var d=a[--c];e.setContent(d.content,{format:"raw"});e.selection.moveToBookmark(d.beforeBookmark);e.setDirty(!0);e.fire("undo",{level:d})}return d},redo:function(){if(c<a.length-1){var b=a[++c];e.setContent(b.content,
{format:"raw"});e.selection.moveToBookmark(b.bookmark);e.setDirty(!0);e.fire("redo",{level:b})}return b},clear:function(){a=[];c=0;b.typing=!1;b.data=a;e.fire("ClearUndos")},hasUndo:function(){return 0<c||b.typing&&a[0]&&e.serializer.getTrimmedContent()!=a[0].content},hasRedo:function(){return c<a.length-1&&!this.typing},transact:function(a){b.beforeChange();try{h++,a()}finally{h--}return b.add()},extra:function(d,f){if(b.transact(d)){var l=a[c].bookmark;var g=a[c-1];e.setContent(g.content,{format:"raw"});
e.selection.moveToBookmark(g.beforeBookmark);b.transact(f)&&(a[c-1].beforeBookmark=l)}}}}});x("tinymce/EnterKey",["tinymce/dom/TreeWalker","tinymce/dom/RangeUtils","tinymce/Env"],function(h,g,e){var d=e.ie&&11>e.ie;return function(b){function c(c){function v(b){return b&&a.isBlock(b)&&!/^(TD|TH|CAPTION|FORM)$/.test(b.nodeName)&&!/^(fixed|absolute)/i.test(b.style.position)&&"true"!==a.getContentEditable(b)}function y(b){if(a.isBlock(b)){var c=f.getRng();b.appendChild(a.create("span",null,"\u00a0"));
f.select(b);b.lastChild.outerHTML="";f.setRng(c)}}function u(b){var c=[],d;if(b){for(;b=b.firstChild;){if(a.isBlock(b))return;1!=b.nodeType||r[b.nodeName.toLowerCase()]||c.push(b)}for(d=c.length;d--;)b=c[d],!b.hasChildNodes()||b.firstChild==b.lastChild&&""===b.firstChild.nodeValue?a.remove(b):"A"==b.nodeName&&" "===(b.innerText||b.textContent)&&a.remove(b)}}function m(b){var c,d,k=b;if(b){e.ie&&9>e.ie&&K&&K.firstChild&&K.firstChild==K.lastChild&&"BR"==K.firstChild.tagName&&a.remove(K.firstChild);
if(/^(LI|DT|DD)$/.test(b.nodeName)){a:{for(c=b.firstChild;c;){if(1==c.nodeType||3==c.nodeType&&c.data&&/[\r\n\s]/.test(c.data))break a;c=c.nextSibling}c=void 0}c&&/^(UL|OL|DL)$/.test(c.nodeName)&&b.insertBefore(a.doc.createTextNode("\u00a0"),b.firstChild)}var m=a.createRng();e.ie||b.normalize();if(b.hasChildNodes()){for(c=new h(b,b);d=c.current();){if(3==d.nodeType){m.setStart(d,0);m.setEnd(d,0);break}if(l[d.nodeName.toLowerCase()]){m.setStartBefore(d);m.setEndBefore(d);break}k=d;c.next()}d||(m.setStart(k,
0),m.setEnd(k,0))}else if("BR"==b.nodeName)if(b.nextSibling&&a.isBlock(b.nextSibling)){if(!P||9>P){var g=a.create("br");b.parentNode.insertBefore(g,b)}m.setStartBefore(b);m.setEndBefore(b)}else m.setStartAfter(b),m.setEndAfter(b);else m.setStart(b,0),m.setEnd(b,0);f.setRng(m);a.remove(g);f.scrollIntoView(b)}}function w(b){var c=p.forced_root_block;c&&c.toLowerCase()===b.tagName.toLowerCase()&&a.setAttribs(b,p.forced_root_block_attrs)}function A(b){var c=M,f=q.getTextInlineElements();b||"TABLE"==E?
(b=a.create(b||O),w(b)):b=K.cloneNode(!1);var e=b;if(!1!==p.keep_styles){do if(f[c.nodeName]&&"_mce_caret"!=c.id){var k=c.cloneNode(!1);a.setAttrib(k,"id","");b.hasChildNodes()?k.appendChild(b.firstChild):e=k;b.appendChild(k)}while((c=c.parentNode)&&c!=H)}d||(e.innerHTML='<br data-mce-bogus="1">');return b}function z(a){var b;if(3==M.nodeType&&(a?0<I:I<M.nodeValue.length))return!1;if(M.parentNode==K&&L&&!a||a&&1==M.nodeType&&M==K.firstChild)return!0;if("TABLE"===M.nodeName||M.previousSibling&&"TABLE"==
M.previousSibling.nodeName)return L&&!a||!L&&a;var c=new h(M,K);for(3==M.nodeType&&(a&&0===I?c.prev():a||I!=M.nodeValue.length||c.next());b=c.current();){if(1===b.nodeType){if(!b.getAttribute("data-mce-bogus")&&(b=b.nodeName.toLowerCase(),r[b]&&"br"!==b))return!1}else if(3===b.nodeType&&!/^[ \t\r\n]*$/.test(b.nodeValue))return!1;a?c.prev():c.next()}return!0}function k(c,d){var f,e=O||"P";var k=a.getParent(c,a.isBlock);if(!k||!v(k)){k=k||H;var m=k==b.getBody()||k&&/^(TD|TH|CAPTION)$/.test(k.nodeName)?
k.nodeName.toLowerCase():k.parentNode.nodeName.toLowerCase();if(!k.hasChildNodes())return m=a.create(e),w(m),k.appendChild(m),T.setStart(m,0),T.setEnd(m,0),m;for(f=c;f.parentNode!=k;)f=f.parentNode;for(;f&&!a.isBlock(f);){var l=f;f=f.previousSibling}if(l&&q.isValidChild(m,e.toLowerCase())){m=a.create(e);w(m);l.parentNode.insertBefore(m,l);for(f=l;f&&!a.isBlock(f);)k=f.nextSibling,m.appendChild(f),f=k;T.setStart(c,d);T.setEnd(c,d)}}return c}function t(){function c(a){for(var b=C[a?"firstChild":"lastChild"];b&&
1!=b.nodeType;)b=b[a?"nextSibling":"previousSibling"];return b===K}function d(){var a=C.parentNode;return/^(LI|DT|DD)$/.test(a.nodeName)?a:C}if(C!=b.getBody()){var f=C.parentNode.nodeName;/^(OL|UL|LI)$/.test(f)&&(O="LI");N=O?A(O):a.create("BR");c(!0)&&c()?"LI"==f?a.insertAfter(N,d()):a.replace(N,C):c(!0)?"LI"==f?(a.insertAfter(N,d()),N.appendChild(a.doc.createTextNode(" ")),N.appendChild(C)):C.parentNode.insertBefore(N,C):c()?(a.insertAfter(N,d()),y(N)):(C=d(),R=T.cloneRange(),R.setStartAfter(K),
R.setEndAfter(C),Y=R.extractContents(),"LI"==O&&"LI"==Y.firstChild.nodeName?(N=Y.firstChild,a.insertAfter(Y,C)):(a.insertAfter(Y,C),a.insertAfter(N,C)));a.remove(K);m(N);n.add()}}function D(){b.execCommand("InsertLineBreak",!1,c)}function G(a){do 3===a.nodeType&&(a.nodeValue=a.nodeValue.replace(/^[\r\n]+/,"")),a=a.firstChild;while(a)}function F(b){var c;d||(b.normalize(),(c=b.lastChild)&&!/^(left|right)$/gi.test(a.getStyle(c,"float",!0))||a.add(b,"br"))}function x(){N=/^(H[1-6]|PRE|FIGURE)$/.test(E)&&
"HGROUP"!=U?A(O):A();p.end_container_on_empty_block&&v(C)&&a.isEmpty(K)?N=a.split(C,K):a.insertAfter(N,K);m(N)}var H,K;var T=f.getRng(!0);if(!c.isDefaultPrevented())if(T.collapsed){(new g(a)).normalize(T);var M=T.startContainer;var I=T.startOffset;var O=(O=(p.force_p_newlines?"p":"")||p.forced_root_block)?O.toUpperCase():"";var P=a.doc.documentMode;var S=c.shiftKey;if(1==M.nodeType&&M.hasChildNodes()){var L=I>M.childNodes.length-1;M=M.childNodes[Math.min(I,M.childNodes.length-1)]||M;I=L&&3==M.nodeType?
M.nodeValue.length:0}if(H=function(b){for(var c=a.getRoot(),d;b!==c&&"false"!==a.getContentEditable(b);)"true"===a.getContentEditable(b)&&(d=b),b=b.parentNode;return b!==c?d:c}(M))if(n.beforeChange(),a.isBlock(H)||H==a.getRoot()){if(O&&!S||!O&&S)M=k(M,I);var C=(K=a.getParent(M,a.isBlock))?a.getParent(K.parentNode,a.isBlock):null;var E=K?K.nodeName.toUpperCase():"";var U=C?C.nodeName.toUpperCase():"";"LI"!=U||c.ctrlKey||(K=C,E=U);if(/^(LI|DT|DD)$/.test(E)){if(!O&&S){D();return}if(a.isEmpty(K)){t();
return}}if("PRE"==E&&!1!==p.br_in_pre){if(!S){D();return}}else if(!O&&!S&&"LI"!=E||O&&S){D();return}if(!O||K!==b.getBody()){O=O||"P";if(z())x();else if(z(!0)){var N=K.parentNode.insertBefore(A(),K);y(N);m(K)}else{var R=T.cloneRange();R.setEndAfter(K);var Y=R.extractContents();G(Y);N=Y.firstChild;a.insertAfter(Y,K);u(N);F(K);a.isEmpty(K)&&(K.innerHTML=d?"":'<br data-mce-bogus="1">');N.normalize();a.isEmpty(N)?(a.remove(N),x()):m(N)}a.setAttrib(N,"id","");b.fire("NewBlock",{newBlock:N});n.add()}}else O&&
!S||D()}else b.execCommand("Delete")}var a=b.dom,f=b.selection,p=b.settings,n=b.undoManager,q=b.schema,r=q.getNonEmptyElements(),l=q.getMoveCaretBeforeOnEnterElements();b.on("keydown",function(a){13==a.keyCode&&!1!==c(a)&&a.preventDefault()})}});x("tinymce/ForceBlocks",[],function(){return function(h){function g(){var f=b.getStart(),g=h.getBody(),n;var q=e.forced_root_block;if(f&&1===f.nodeType&&q){for(;f&&f!=g;){if(a[f.nodeName])return;f=f.parentNode}var r=b.getRng();if(r.setStart){var l=r.startContainer;
var v=r.startOffset;var B=r.endContainer;var y=r.endOffset;try{var u=h.getDoc().activeElement===g}catch(z){}}else r.item&&(f=r.item(0),r=h.getDoc().body.createTextRange(),r.moveToElementText(f)),u=r.parentElement().ownerDocument===h.getDoc(),f=r.duplicate(),f.collapse(!0),v=-1*f.move("character",-16777215),f.collapsed||(f=r.duplicate(),f.collapse(!1),y=-1*f.move("character",-16777215)-v);f=g.firstChild;for(n=g.nodeName.toLowerCase();f;)if((3===f.nodeType||1==f.nodeType&&!a[f.nodeName])&&c.isValidChild(n,
q.toLowerCase()))if(3===f.nodeType&&0===f.nodeValue.length){var m=f;f=f.nextSibling;d.remove(m)}else{if(!w){var w=d.create(q,h.settings.forced_root_block_attrs);f.parentNode.insertBefore(w,f);var A=!0}m=f;f=f.nextSibling;w.appendChild(m)}else w=null,f=f.nextSibling;if(A&&u){if(r.setStart)r.setStart(l,v),r.setEnd(B,y),b.setRng(r);else try{r=h.getDoc().body.createTextRange(),r.moveToElementText(g),r.collapse(!0),r.moveStart("character",v),0<y&&r.moveEnd("character",y),r.select()}catch(z){}h.nodeChanged()}}}
var e=h.settings,d=h.dom,b=h.selection,c=h.schema,a=c.getBlockElements();if(e.forced_root_block)h.on("NodeChange",g)}});x("tinymce/caret/CaretUtils","tinymce/util/Fun tinymce/dom/TreeWalker tinymce/dom/NodeType tinymce/caret/CaretPosition tinymce/caret/CaretContainer tinymce/caret/CaretCandidate".split(" "),function(h,g,e,d,b,c){function a(a,b){for(a=a.parentNode;a&&a!=b;a=a.parentNode)if(r(a))return a;return b}function f(a,b){for(;a&&a!=b;){if(v(a))return a;a=a.parentNode}return null}function p(a,
b){var c=b.ownerDocument.createRange();a?(c.setStartBefore(b),c.setEndBefore(b)):(c.setStartAfter(b),c.setEndAfter(b));return c}function n(a,b,c){var d;for(d=a?"previousSibling":"nextSibling";c&&c!=b;){a=c[d];B(a)&&(a=a[d]);if(l(a)){if(f(a,b)==f(c,b))return a;break}if(m(a))break;c=c.parentNode}return null}function q(a,b){if(b){var c=b.container();var d=b.offset();c=u(c)?c.childNodes[d+a]:null}else c=null;return l(c)}var r=e.isContentEditableTrue,l=e.isContentEditableFalse,v=e.matchStyleValues("display",
"block table table-cell table-caption"),B=b.isCaretContainer,y=h.curry,u=e.isElement,m=c.isCaretCandidate,w=y(p,!0),A=y(p,!1);return{isForwards:function(a){return 0<a},isBackwards:function(a){return 0>a},findNode:function(a,b,c,d,f){d=new g(a,d);if(0>b){if(l(a)&&(a=d.prev(!0),c(a)))return a;for(;a=d.prev(f);)if(c(a))return a}if(0<b){if(l(a)&&(a=d.next(!0),c(a)))return a;for(;a=d.next(f);)if(c(a))return a}return null},getEditingHost:a,getParentBlock:f,isInSameBlock:function(a,b,c){return f(a.container(),
c)==f(b.container(),c)},isInSameEditingHost:function(b,c,d){return a(b.container(),d)==a(c.container(),d)},isBeforeContentEditableFalse:y(q,0),isAfterContentEditableFalse:y(q,-1),normalizeRange:function(a,c,d){var f=y(n,!0,c),m=y(n,!1,c);var k=d.startContainer;var g=d.startOffset;if(b.isCaretContainerBlock(k)){u(k)||(k=k.parentNode);var p=k.getAttribute("data-mce-caret");if("before"==p&&(c=k.nextSibling,l(c)))return w(c);if("after"==p&&(c=k.previousSibling,l(c)))return A(c)}if(!d.collapsed)return d;
if(e.isText(k)){if(B(k)){if(1===a){if(c=m(k))return w(c);if(c=f(k))return A(c)}if(-1===a){if(c=f(k))return A(c);if(c=m(k))return w(c)}return d}if(b.endsWithCaretContainer(k)&&g>=k.data.length-1)return 1===a&&(c=m(k))?w(c):d;if(b.startsWithCaretContainer(k)&&1>=g)return-1===a&&(c=f(k))?A(c):d;if(g===k.data.length)return(c=m(k))?w(c):d;if(0===g&&(c=f(k)))return A(c)}return d}}});x("tinymce/caret/CaretWalker","tinymce/dom/NodeType tinymce/caret/CaretCandidate tinymce/caret/CaretPosition tinymce/caret/CaretUtils tinymce/util/Arr tinymce/util/Fun".split(" "),
function(h,g,e,d,b,c){function a(a,b){for(var c=[];a&&a!=b;)c.push(a),a=a.parentNode;return c}function f(a,b){return a.hasChildNodes()&&b<a.childNodes.length?a.childNodes[b]:null}function p(a,b){if(B(a)){if(u(b.previousSibling)&&!r(b.previousSibling))return e.before(b);if(r(b))return e(b,0)}if(y(a)){if(u(b.nextSibling)&&!r(b.nextSibling))return e.after(b);if(r(b))return e(b,b.data.length)}return y(a)?v(b)?e.before(b):e.after(b):e.before(b)}function n(g,v,k){if(!l(k)||!v)return null;var t=v;var z=
t.container();var A=t.offset();if(r(z)){if(y(g)&&0<A)return e(z,--A);if(B(g)&&A<z.length)return e(z,++A);v=z}else{if(y(g)&&0<A&&(v=f(z,A-1),u(v)))return!m(v)&&(g=d.findNode(v,g,w,v))?r(g)?e(g,g.data.length):e.after(g):r(v)?e(v,v.data.length):e.before(v);if(B(g)&&A<z.childNodes.length&&(v=f(z,A),u(v)))return z=v,z=h.isBr(z)?(t=n(1,e.after(z),k))?!d.isInSameBlock(e.before(z),e.before(t),k):!1:!1,z?n(g,e.after(v),k):!m(v)&&(g=d.findNode(v,g,w,v))?r(g)?e(g,0):e.before(g):r(v)?e(v,0):e.after(v);v=t.getNode()}if(B(g)&&
t.isAtEnd()||y(g)&&t.isAtStart())if(v=d.findNode(v,g,c.constant(!0),k,!0),w(v))return p(g,v);v=d.findNode(v,g,w,k);return!(k=b.last(b.filter(a(z,k),q)))||v&&k.contains(v)?v?p(g,v):null:t=B(g)?e.after(k):e.before(k)}var q=h.isContentEditableFalse,r=h.isText,l=h.isElement,v=h.isBr,B=d.isForwards,y=d.isBackwards,u=g.isCaretCandidate,m=g.isAtomic,w=g.isEditableCaretCandidate;return function(a){return{next:function(b){return n(1,b,a)},prev:function(b){return n(-1,b,a)}}}});x("tinymce/InsertList",["tinymce/util/Tools",
"tinymce/caret/CaretWalker","tinymce/caret/CaretPosition"],function(h,g,e){var d=function(a,b,c){b=b.serialize(c);a=a.createFragment(b);b=a.firstChild;c=a.lastChild;b&&"META"===b.nodeName&&b.parentNode.removeChild(b);c&&"mce_marker"===c.id&&c.parentNode.removeChild(c);return a},b=function(a){return h.grep(a.childNodes,function(a){return"LI"===a.nodeName})},c=function(a){return 0<a.length&&!a[a.length-1].firstChild?a.slice(0,-1):a},a=function(a,b){var c=a.getParent(b,a.isBlock);return c&&"LI"===c.nodeName?
c:null},f=function(a,b){var c=b.cloneRange(),d=b.cloneRange();c.setStartBefore(a);d.setEndAfter(a);return[c.cloneContents(),d.cloneContents()]},p=function(a,b){var c=e.before(a);return(c=(new g(b)).next(c))?c.toRange():null},n=function(a,b){var c=e.after(a);return(c=(new g(b)).prev(c))?c.toRange():null},q=function(a,b,c,d){d=f(a,d);var e=a.parentNode;e.insertBefore(d[0],a);h.each(b,function(b){e.insertBefore(b,a)});e.insertBefore(d[1],a);e.removeChild(a);return n(b[b.length-1],c)},r=function(a,b,
c){var d=a.parentNode;h.each(b,function(b){d.insertBefore(b,a)});return p(a,c)},l=function(a,b,c,d){d.insertAfter(b.reverse(),a);return n(b[0],c)};return{isListFragment:function(a){var b=a.firstChild;a=a.lastChild;b&&"meta"===b.name&&(b=b.next);a&&"mce_marker"===a.attr("id")&&(a=a.prev);return b&&b===a?"ul"===b.name||"ol"===b.name:!1},insertAtCaret:function(f,p,h,u){f=d(p,f,u);var m=a(p,h.startContainer);f=c(b(f.firstChild));u=p.getRoot();var w=function(b){var c=e.fromRangeStart(h),d=new g(p.getRoot());
return(b=1===b?d.prev(c):d.next(c))?a(p,b.getNode())!==m:!0};return w(1)?r(m,f,u):w(2)?l(m,f,u,p):q(m,f,u,h)},isParentBlockLi:function(b,c){return!!a(b,c)},trimListItems:c,listItems:b}});x("tinymce/InsertContent","tinymce/Env tinymce/util/Tools tinymce/html/Serializer tinymce/caret/CaretWalker tinymce/caret/CaretPosition tinymce/dom/ElementUtils tinymce/dom/NodeType tinymce/InsertList".split(" "),function(h,g,e,d,b,c,a,f){var p=a.matchNodeNames("td th"),n=function(a,r,l){function q(a){function b(a){return d[a]&&
3==d[a].nodeType}var c=m.getRng(!0);var d=c.startContainer;c=c.startOffset;3==d.nodeType&&(0<c?a=a.replace(/^&nbsp;/," "):b("previousSibling")||(a=a.replace(/^ /,"&nbsp;")),c<d.length?a=a.replace(/&nbsp;(<br>|)$/," "):b("nextSibling")||(a=a.replace(/(&nbsp;| )(<br>|)$/,"&nbsp;")));return a}function n(){var a=m.getRng(!0);var b=a.startContainer;var c=a.startOffset;3==b.nodeType&&a.collapsed&&("\u00a0"===b.data[c]?(b.deleteData(c,1),/[\u00a0| ]$/.test(r)||(r+=" ")):"\u00a0"===b.data[c-1]&&(b.deleteData(c-
1,1),/[\u00a0| ]$/.test(r)||(r=" "+r)))}function y(b){return b&&!a.schema.getShortEndedElements()[b.nodeName]}var u=a.schema.getTextInlineElements(),m=a.selection,w=a.dom;/^ | $/.test(r)&&(r=q(r));var A=a.parser;var z=l.merge;var k=new e({validate:a.settings.validate},a.schema);var t={content:r,format:"html",selection:!0};a.fire("BeforeSetContent",t);r=t.content;-1==r.indexOf("{$caret}")&&(r+="{$caret}");r=r.replace(/\{\$caret\}/,'<span id="mce_marker" data-mce-type="bookmark">&#xFEFF;&#x200B;</span>');
var D=m.getRng();var G=D.startContainer||(D.parentElement?D.parentElement():null);var F=a.getBody();G===F&&m.isCollapsed()&&w.isBlock(F.firstChild)&&y(F.firstChild)&&w.isEmpty(F.firstChild)&&(D=w.createRng(),D.setStart(F.firstChild,0),D.setEnd(F.firstChild,0),m.setRng(D));m.isCollapsed()||(a.selection.setRng(a.selection.getRng()),a.getDoc().execCommand("Delete",!1,null),n());G=m.getNode();F={context:G.nodeName.toLowerCase(),data:l.data};var x=A.parse(r,F);if(!0===l.paste&&f.isListFragment(x)&&f.isParentBlockLi(w,
G))D=f.insertAtCaret(k,w,a.selection.getRng(!0),x),a.selection.setRng(D),a.fire("SetContent",t);else{(function(a){for(;a=a.walk();)1===a.type&&a.attr("data-mce-fragment","1")})(x);var H=x.lastChild;if("mce_marker"==H.attr("id"))for(l=H,H=H.prev;H;H=H.walk(!0))if(3==H.type||!w.isBlock(H.name)){a.schema.isValidChild(H.parent.name,"span")&&H.parent.insert(l,H,"br"===H.name);break}a._selectionOverrides.showBlockCaretContainer(G);if(F.invalid){m.setContent('<span id="mce_marker" data-mce-type="bookmark">&#xFEFF;&#x200B;</span>');
G=m.getNode();l=a.getBody();for(9==G.nodeType?G=H=l:H=G;H!==l;)G=H,H=H.parentNode;r=G==l?l.innerHTML:w.getOuterHTML(G);r=k.serialize(A.parse(r.replace(/<span (id="mce_marker"|id=mce_marker).+?<\/span>/i,function(){return k.serialize(x)})));G==l?w.setHTML(l,r):w.setOuterHTML(G,r)}else{r=k.serialize(x);H=G.firstChild;var K=G.lastChild;!H||H===K&&"BR"===H.nodeName?w.setHTML(G,r):m.setContent(r)}(function(){if(z){var b=a.getBody(),d=new c(w);g.each(w.select("*[data-mce-fragment]"),function(a){for(var c=
a.parentNode;c&&c!=b;c=c.parentNode)u[a.nodeName.toLowerCase()]&&d.compare(c,a)&&w.remove(a,!0)})}})();(function(c){function f(c){c=b.fromRangeStart(c);if(c=(new d(a.getBody())).next(c))return c.toRange()}var e,k;c&&(m.scrollIntoView(c),(e=function(b){for(var c=a.getBody();b&&b!==c;b=b.parentNode)if("false"===a.dom.getContentEditable(b))return b;return null}(c))?(w.remove(c),m.select(e)):(D=w.createRng(),(H=c.previousSibling)&&3==H.nodeType?(D.setStart(H,H.nodeValue.length),h.ie||(K=c.nextSibling)&&
3==K.nodeType&&(H.appendData(K.data),K.parentNode.removeChild(K))):(D.setStartBefore(c),D.setEndBefore(c)),e=w.getParent(c,w.isBlock),w.remove(c),e&&w.isEmpty(e)&&(a.$(e).empty(),D.setStart(e,0),D.setEnd(e,0),p(e)||e.getAttribute("data-mce-fragment")||!(k=f(D))?w.add(e,w.create("br",{"data-mce-bogus":"1"})):(D=k,w.remove(e))),m.setRng(D)))})(w.get("mce_marker"));(function(a){g.each(a.getElementsByTagName("*"),function(a){a.removeAttribute("data-mce-fragment")})})(a.getBody());a.fire("SetContent",
t);a.addVisual()}};return{insertAtCaret:function(a,b){if("string"!==typeof b){var c=g.extend({paste:b.paste,data:{paste:b.paste}},b);var d=b.content}else d=b,c={};n(a,d,c)}}});x("tinymce/EditorCommands",["tinymce/Env","tinymce/util/Tools","tinymce/dom/RangeUtils","tinymce/dom/TreeWalker","tinymce/InsertContent"],function(h,g,e,d,b){var c=g.each,a=g.extend,f=g.map,p=g.inArray,n=g.explode,q=h.ie&&11>h.ie;return function(g){function l(a){var b;if(!g.quirks.isHidden()){a=a.toLowerCase();if(b=A.state[a])return b(a);
try{return g.getDoc().queryCommandState(a)}catch(G){}return!1}}function r(a,b){b=b||"exec";c(a,function(a,d){c(d.toLowerCase().split(","),function(c){A[b][c]=a})})}function B(a,b,c){b===X&&(b=!1);c===X&&(c=null);return g.getDoc().execCommand(a,b,c)}function y(a,b){w.toggle(a,b?{value:b}:X);g.nodeChanged()}var u,m,w,A={state:{},exec:{},value:{}},z=g.settings,k;g.on("PreInit",function(){u=g.dom;m=g.selection;z=g.settings;w=g.formatter});a(this,{execCommand:function(a,b,d,f){var e=0;/^(mceAddUndoLevel|mceEndUndoLevel|mceBeginUndoLevel|mceRepaint)$/.test(a)||
f&&f.skip_focus||g.focus();f=g.fire("BeforeExecCommand",{command:a,ui:b,value:d});if(f.isDefaultPrevented())return!1;var m=a.toLowerCase();if(f=A.exec[m])return f(m,b,d),g.fire("ExecCommand",{command:a,ui:b,value:d}),!0;c(g.plugins,function(c){if(c.execCommand&&c.execCommand(a,b,d))return g.fire("ExecCommand",{command:a,ui:b,value:d}),e=!0,!1});if(e)return e;if(g.theme&&g.theme.execCommand&&g.theme.execCommand(a,b,d))return g.fire("ExecCommand",{command:a,ui:b,value:d}),!0;try{e=g.getDoc().execCommand(a,
b,d)}catch(K){}return e?(g.fire("ExecCommand",{command:a,ui:b,value:d}),!0):!1},queryCommandState:l,queryCommandValue:function(a){var b;if(!g.quirks.isHidden()){a=a.toLowerCase();if(b=A.value[a])return b(a);try{return g.getDoc().queryCommandValue(a)}catch(G){}}},queryCommandSupported:function(a){a=a.toLowerCase();if(A.exec[a])return!0;try{return g.getDoc().queryCommandSupported(a)}catch(D){}return!1},addCommands:r,addCommand:function(a,b,c){a=a.toLowerCase();A.exec[a]=function(a,d,f,e){return b.call(c||
g,d,f,e)}},addQueryStateHandler:function(a,b,c){a=a.toLowerCase();A.state[a]=function(){return b.call(c||g)}},addQueryValueHandler:function(a,b,c){a=a.toLowerCase();A.value[a]=function(){return b.call(c||g)}},hasCustomCommand:function(a){a=a.toLowerCase();return!!A.exec[a]}});r({"mceResetDesignMode,mceBeginUndoLevel":function(){},"mceEndUndoLevel,mceAddUndoLevel":function(){g.undoManager.add()},"Cut,Copy,Paste":function(a){var b=g.getDoc();try{B(a)}catch(F){var c=!0}"paste"!==a||b.queryCommandEnabled(a)||
(c=!0);if(c||!b.queryCommandSupported(a))a=g.translate("Your browser doesn't support direct access to the clipboard. Please use the Ctrl+X/C/V keyboard shortcuts instead."),h.mac&&(a=a.replace(/Ctrl\+/g,"\u2318+")),g.notificationManager.open({text:a,type:"error"})},unlink:function(){if(m.isCollapsed()){var a=m.getNode();"A"==a.tagName&&g.dom.remove(a,!0)}else w.remove("link")},"JustifyLeft,JustifyCenter,JustifyRight,JustifyFull,JustifyNone":function(a){var b=a.substring(7);"full"==b&&(b="justify");
c(["left","center","right","justify"],function(a){b!=a&&w.remove("align"+a)});"none"!=b&&y("align"+b)},"InsertUnorderedList,InsertOrderedList":function(a){B(a);if(a=u.getParent(m.getNode(),"ol,ul")){var b=a.parentNode;/^(H[1-6]|P|ADDRESS|PRE)$/.test(b.nodeName)&&(k=m.getBookmark(void 0),u.split(b,a),m.moveToBookmark(k))}},"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":function(a){y(a)},"ForeColor,HiliteColor,FontName":function(a,b,c){y(a,c)},FontSize:function(a,b,c){if(1<=c&&7>=c){var d=
n(z.font_size_style_values);c=(b=n(z.font_size_classes))?b[c-1]||c:d[c-1]||c}y(a,c)},RemoveFormat:function(a){w.remove(a)},mceBlockQuote:function(){y("blockquote")},FormatBlock:function(a,b,c){return y(c||"p")},mceCleanup:function(){var a=m.getBookmark();g.setContent(g.getContent({cleanup:!0}),{cleanup:!0});m.moveToBookmark(a)},mceRemoveNode:function(a,b,c){a=c||m.getNode();a!=g.getBody()&&(k=m.getBookmark(void 0),g.dom.remove(a,!0),m.moveToBookmark(k))},mceSelectNodeDepth:function(a,b,c){var d=0;
u.getParent(m.getNode(),function(a){if(1==a.nodeType&&d++==c)return m.select(a),!1},g.getBody())},mceSelectNode:function(a,b,c){m.select(c)},mceInsertContent:function(a,c,d){b.insertAtCaret(g,d)},mceInsertRawHTML:function(a,b,c){m.setContent("tiny_mce_marker");g.setContent(g.getContent().replace(/tiny_mce_marker/g,function(){return c}))},mceToggleFormat:function(a,b,c){y(c)},mceSetContent:function(a,b,c){g.setContent(c)},"Indent,Outdent":function(a){var b;var d=z.indentation;var f=/[a-z%]+$/i.exec(d);
d=parseInt(d,10);l("InsertUnorderedList")||l("InsertOrderedList")?B(a):(z.forced_root_block||u.getParent(m.getNode(),u.isBlock)||w.apply("div"),c(m.getSelectedBlocks(),function(c){if("false"!==u.getContentEditable(c)&&"LI"!=c.nodeName){var e=g.getParam("indent_use_margin",!1)?"margin":"padding";e+="rtl"==u.getStyle(c,"direction",!0)?"Right":"Left";"outdent"==a?(b=Math.max(0,parseInt(c.style[e]||0,10)-d),u.setStyle(c,e,b?b+f:"")):(b=parseInt(c.style[e]||0,10)+d+f,u.setStyle(c,e,b))}}))},mceRepaint:function(){},
InsertHorizontalRule:function(){g.execCommand("mceInsertContent",!1,"<hr />")},mceToggleVisualAid:function(){g.hasVisual=!g.hasVisual;g.addVisual()},mceReplaceContent:function(a,b,c){g.execCommand("mceInsertContent",!1,c.replace(/\{\$selection\}/g,m.getContent({format:"text"})))},mceInsertLink:function(a,b,c){"string"==typeof c&&(c={href:c});a=u.getParent(m.getNode(),"a");c.href=c.href.replace(" ","%20");a&&c.href||w.remove("link");c.href&&w.apply("link",c,a)},selectAll:function(){var a=u.getRoot();
if(m.getRng().setStart){var b=u.createRng();b.setStart(a,0);b.setEnd(a,a.childNodes.length);m.setRng(b)}else b=m.getRng(),b.item||(b.moveToElementText(a),b.select())},"delete":function(){B("Delete");var a=g.getBody();u.isEmpty(a)&&(g.setContent(""),a.firstChild&&u.isBlock(a.firstChild)?g.selection.setCursorLocation(a.firstChild,0):g.selection.setCursorLocation(a,0))},mceNewDocument:function(){g.setContent("")},InsertLineBreak:function(a,b,c){a=m.getRng(!0);(new e(u)).normalize(a);var f=a.startOffset,
k=a.startContainer;1==k.nodeType&&k.hasChildNodes()&&(b=f>k.childNodes.length-1,k=k.childNodes[Math.min(f,k.childNodes.length-1)]||k,f=b&&3==k.nodeType?k.nodeValue.length:0);var l=u.getParent(k,u.isBlock);b=l?l.nodeName.toUpperCase():"";var p=l?u.getParent(l.parentNode,u.isBlock):null,w=p?p.nodeName.toUpperCase():"";c=c&&c.ctrlKey;"LI"!=w||c||(l=p,b=w);if(k&&3==k.nodeType&&f>=k.nodeValue.length){if(c=!q){a:{c=new d(k,l);for(f=g.schema.getNonEmptyElements();k=c.next();)if(f[k.nodeName.toLowerCase()]||
0<k.length){c=!0;break a}c=void 0}c=!c}if(c){c=u.create("br");a.insertNode(c);a.setStartAfter(c);a.setEndAfter(c);var r=!0}}c=u.create("br");a.insertNode(c);k=u.doc.documentMode;q&&"PRE"==b&&(!k||8>k)&&c.parentNode.insertBefore(u.doc.createTextNode("\r"),c);b=u.create("span",{},"&nbsp;");c.parentNode.insertBefore(b,c);m.scrollIntoView(b);u.remove(b);r?(a.setStartBefore(c),a.setEndBefore(c)):(a.setStartAfter(c),a.setEndAfter(c));m.setRng(a);g.undoManager.add();return!0}});r({"JustifyLeft,JustifyCenter,JustifyRight,JustifyFull":function(a){var b=
"align"+a.substring(7);a=m.isCollapsed()?[u.getParent(m.getNode(),u.isBlock)]:m.getSelectedBlocks();a=f(a,function(a){return!!w.matchNode(a,b)});return-1!==p(a,!0)},"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":function(a){return w.match(a)},mceBlockQuote:function(){return w.match("blockquote")},Outdent:function(){var a;return z.inline_styles&&((a=u.getParent(m.getStart(),u.isBlock))&&0<parseInt(a.style.paddingLeft,10)||(a=u.getParent(m.getEnd(),u.isBlock))&&0<parseInt(a.style.paddingLeft,
10))?!0:l("InsertUnorderedList")||l("InsertOrderedList")||!z.inline_styles&&!!u.getParent(m.getNode(),"BLOCKQUOTE")},"InsertUnorderedList,InsertOrderedList":function(a){var b=u.getParent(m.getNode(),"ul,ol");return b&&("insertunorderedlist"===a&&"UL"===b.tagName||"insertorderedlist"===a&&"OL"===b.tagName)}},"state");r({"FontSize,FontName":function(a){var b=0,c;if(c=u.getParent(m.getNode(),"span"))b="fontsize"==a?c.style.fontSize:c.style.fontFamily.replace(/, /g,",").replace(/[\'\"]/g,"").toLowerCase();
return b}},"value");r({Undo:function(){g.undoManager.undo()},Redo:function(){g.undoManager.redo()}})}});x("tinymce/util/URI",["tinymce/util/Tools"],function(h){function g(a,c){var f=this;a=d(a);c=f.settings=c||{};var h=c.base_uri;if(/^([\w\-]+):([^\/]{2})/i.test(a)||/^\s*#/.test(a))f.source=a;else{var q=0===a.indexOf("//");0!==a.indexOf("/")||q||(a=(h?h.protocol||"http":"http")+"://mce_host"+a);if(!/^[\w\-]*:?\/\//.test(a)){var r=c.base_uri?c.base_uri.path:(new g(location.href)).directory;""===c.base_uri.protocol?
a="//mce_host"+f.toAbsPath(r,a):(a=/([^#?]*)([#?]?.*)/.exec(a),a=(h&&h.protocol||"http")+"://mce_host"+f.toAbsPath(r,a[1])+a[2])}a=a.replace(/@@/g,"(mce_at)");a=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@\/]*):?([^:@\/]*))?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/.exec(a);e(b,function(b,c){var d=a[c];d&&(d=d.replace(/\(mce_at\)/g,"@@"));f[b]=d});h&&(f.protocol||(f.protocol=h.protocol),f.userInfo||(f.userInfo=
h.userInfo),f.port||"mce_host"!==f.host||(f.port=h.port),f.host&&"mce_host"!==f.host||(f.host=h.host),f.source="");q&&(f.protocol="")}}var e=h.each,d=h.trim,b="source protocol authority userInfo user password host port relative path directory file query anchor".split(" "),c={ftp:21,http:80,https:443,mailto:25};g.prototype={setPath:function(a){a=/^(.*?)\/?(\w+)?$/.exec(a);this.path=a[0];this.directory=a[1];this.file=a[2];this.source="";this.getURI()},toRelative:function(a){if("./"===a)return a;a=new g(a,
{base_uri:this});if("mce_host"!=a.host&&this.host!=a.host&&a.host||this.port!=a.port||this.protocol!=a.protocol&&""!==a.protocol)return a.getURI();var b=this.getURI();var c=a.getURI();if(b==c||"/"==b.charAt(b.length-1)&&b.substr(0,b.length-1)==c)return b;b=this.toRelPath(this.path,a.path);a.query&&(b+="?"+a.query);a.anchor&&(b+="#"+a.anchor);return b},toAbsolute:function(a,b){a=new g(a,{base_uri:this});return a.getURI(b&&this.isSameOrigin(a))},isSameOrigin:function(a){if(this.host==a.host&&this.protocol==
a.protocol){if(this.port==a.port)return!0;var b=c[this.protocol];if(b&&(this.port||b)==(a.port||b))return!0}return!1},toRelPath:function(a,b){var c=0,d="",f;a=a.substring(0,a.lastIndexOf("/"));a=a.split("/");var e=b.split("/");if(a.length>=e.length){var g=0;for(f=a.length;g<f;g++)if(g>=e.length||a[g]!=e[g]){c=g+1;break}}if(a.length<e.length)for(g=0,f=e.length;g<f;g++)if(g>=a.length||a[g]!=e[g]){c=g+1;break}if(1===c)return b;g=0;for(f=a.length-(c-1);g<f;g++)d+="../";g=c-1;for(f=e.length;g<f;g++)d=
g!=c-1?d+("/"+e[g]):d+e[g];return d},toAbsPath:function(a,b){var c=0,d=[];var f=/\/$/.test(b)?"/":"";a=a.split("/");b=b.split("/");e(a,function(a){a&&d.push(a)});a=d;var g=b.length-1;for(d=[];0<=g;g--)0!==b[g].length&&"."!==b[g]&&(".."===b[g]?c++:0<c?c--:d.push(b[g]));g=a.length-c;g=0>=g?d.reverse().join("/"):a.slice(0,g).join("/")+"/"+d.reverse().join("/");0!==g.indexOf("/")&&(g="/"+g);f&&g.lastIndexOf("/")!==g.length-1&&(g+=f);return g},getURI:function(a){if(!this.source||a){var b="";a||(b=this.protocol?
b+(this.protocol+"://"):b+"//",this.userInfo&&(b+=this.userInfo+"@"),this.host&&(b+=this.host),this.port&&(b+=":"+this.port));this.path&&(b+=this.path);this.query&&(b+="?"+this.query);this.anchor&&(b+="#"+this.anchor);this.source=b}return this.source}};g.parseDataUri=function(a){var b,c;a=decodeURIComponent(a).split(",");(c=/data:([^;]+)/.exec(a[0]))&&(b=c[1]);return{type:b,data:a[1]}};g.getDocumentBaseUrl=function(a){a=0!==a.protocol.indexOf("http")&&"file:"!==a.protocol?a.href:a.protocol+"//"+a.host+
a.pathname;/^[^:]+:\/\/\/?[^\/]+\//.test(a)&&(a=a.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(a)||(a+="/"));return a};return g});x("tinymce/util/Class",["tinymce/util/Tools"],function(h){function g(){}var e=h.each,d=h.extend,b,c;g.extend=b=function(a){function f(){var a,b;if(!c&&(this.init&&this.init.apply(this,arguments),b=this.Mixins))for(a=b.length;a--;){var d=b[a];d.init&&d.init.apply(this,arguments)}}function g(){return this}function h(a,b){return function(){var c=this._super;
this._super=q[a];var d=b.apply(this,arguments);this._super=c;return d}}var q=this.prototype,r;c=!0;var l=new this;c=!1;a.Mixins&&(e(a.Mixins,function(b){for(var c in b)"init"!==c&&(a[c]=b[c])}),q.Mixins&&(a.Mixins=q.Mixins.concat(a.Mixins)));a.Methods&&e(a.Methods.split(","),function(b){a[b]=g});a.Properties&&e(a.Properties.split(","),function(b){var c="_"+b;a[b]=function(a){return void 0!==a?(this[c]=a,this):this[c]}});a.Statics&&e(a.Statics,function(a,b){f[b]=a});a.Defaults&&q.Defaults&&(a.Defaults=
d({},q.Defaults,a.Defaults));for(r in a){var v=a[r];l[r]="function"==typeof v&&q[r]?h(r,v):v}f.prototype=l;f.constructor=f;f.extend=b;return f};return g});x("tinymce/util/EventDispatcher",["tinymce/util/Tools"],function(h){function g(d){function b(){return!1}function c(){return!0}function a(a,c,d,f){var l;!1===c&&(c=b);if(c){c={func:c};f&&h.extend(c,f);var m=a.toLowerCase().split(" ");for(l=m.length;l--;)a=m[l],f=g[a],f||(f=g[a]=[],r(a,!0)),d?f.unshift(c):f.push(c)}return e}function f(a,b){var c,
d,f;if(a){var m=a.toLowerCase().split(" ");for(c=m.length;c--;){a=m[c];var l=g[a];if(!a){for(d in g)r(d,!1),delete g[d];break}if(l){if(b)for(f=l.length;f--;)l[f].func===b&&(l=l.slice(0,f).concat(l.slice(f+1)),g[a]=l);else l.length=0;l.length||(r(a,!1),delete g[a])}}}else{for(a in g)r(a,!1);g={}}return e}var e=this,g={};d=d||{};var q=d.scope||e;var r=d.toggleEvent||b;e.fire=function(a,e){var l,p;a=a.toLowerCase();e=e||{};e.type=a;e.target||(e.target=q);e.preventDefault||(e.preventDefault=function(){e.isDefaultPrevented=
c},e.stopPropagation=function(){e.isPropagationStopped=c},e.stopImmediatePropagation=function(){e.isImmediatePropagationStopped=c},e.isDefaultPrevented=b,e.isPropagationStopped=b,e.isImmediatePropagationStopped=b);d.beforeFire&&d.beforeFire(e);if(l=g[a]){var u=0;for(p=l.length;u<p;u++){var m=l[u];m.once&&f(a,m.func);if(e.isImmediatePropagationStopped()){e.stopPropagation();break}if(!1===m.func.call(q,e)){e.preventDefault();break}}}return e};e.on=a;e.off=f;e.once=function(b,c,d){return a(b,c,d,{once:!0})};
e.has=function(a){a=a.toLowerCase();return!(!g[a]||0===g[a].length)}}var e=h.makeMap("focus blur focusin focusout click dblclick mousedown mouseup mousemove mouseover beforepaste paste cut copy selectionchange mouseout mouseenter mouseleave wheel keydown keypress keyup input contextmenu dragstart dragend dragover draggesture dragdrop drop drag submit compositionstart compositionend compositionupdate touchstart touchmove touchend"," ");g.isNative=function(d){return!!e[d.toLowerCase()]};return g});
x("tinymce/data/Binding",[],function(){function h(g){this.create=g.create}h.create=function(g,e){return new h({create:function(d,b){function c(a){d.set(b,a.value)}d.on("change:"+b,function(a){g.set(e,a.value)});g.on("change:"+e,c);var a=d._bindings;a||(a=d._bindings=[],d.on("destroy",function(){for(var b=a.length;b--;)a[b]()}));a.push(function(){g.off("change:"+e,c)});return g.get(e)}})};return h});x("tinymce/util/Observable",["tinymce/util/EventDispatcher"],function(h){function g(e){e._eventDispatcher||
(e._eventDispatcher=new h({scope:e,toggleEvent:function(d,b){h.isNative(d)&&e.toggleNativeEvent&&e.toggleNativeEvent(d,b)}}));return e._eventDispatcher}return{fire:function(e,d,b){if(this.removed&&"remove"!==e)return d;d=g(this).fire(e,d,b);if(!1!==b&&this.parent)for(b=this.parent();b&&!d.isPropagationStopped();)b.fire(e,d,!1),b=b.parent();return d},on:function(e,d,b){return g(this).on(e,d,b)},off:function(e,d){return g(this).off(e,d)},once:function(e,d){return g(this).once(e,d)},hasEventListeners:function(e){return g(this).has(e)}}});
x("tinymce/data/ObservableObject",["tinymce/data/Binding","tinymce/util/Observable","tinymce/util/Class","tinymce/util/Tools"],function(h,g,e,d){function b(c,a){var f;if(c===a)return!0;if(null===c||null===a||"object"!==typeof c||"object"!==typeof a)return c===a;if(d.isArray(a)){if(c.length!==a.length)return!1;for(f=c.length;f--;)if(!b(c[f],a[f]))return!1}if(0<c.nodeType||0<a.nodeType)return c===a;var e={};for(f in a){if(!b(c[f],a[f]))return!1;e[f]=!0}for(f in c)if(!e[f]&&!b(c[f],a[f]))return!1;return!0}
return e.extend({Mixins:[g],init:function(b){var a;b=b||{};for(a in b){var c=b[a];c instanceof h&&(b[a]=c.create(this,a))}this.data=b},set:function(c,a){var d=this.data[c];a instanceof h&&(a=a.create(this,c));if("object"===typeof c){for(e in c)this.set(e,c[e]);return this}if(!b(d,a)){this.data[c]=a;var e={target:this,name:c,value:a,oldValue:d};this.fire("change:"+c,e);this.fire("change",e)}return this},get:function(b){return this.data[b]},has:function(b){return b in this.data},bind:function(b){return h.create(this,
b)},destroy:function(){this.fire("destroy")}})});x("tinymce/ui/Selector",["tinymce/util/Class"],function(h){function g(a){for(var b=[],c=a.length,d;c--;)d=a[c],d.__checked||(b.push(d),d.__checked=1);for(c=b.length;c--;)delete b[c].__checked;return b}var e=/^([\w\\*]+)?(?:#([\w\-\\]+))?(?:\.([\w\\\.]+))?(?:\[\@?([\w\\]+)([\^\$\*!~]?=)([\w\\]+)\])?(?:\:(.+))?/i,d=/((?:\((?:\([^()]+\)|[^()]+)+\)|\[(?:\[[^\[\]]*\]|['"][^'"]*['"]|[^\[\]'"]+)+\]|\\.|[^ >+~,(\[\\]+)+|[>+~])(\s*,\s*)?((?:.|\r|\n)*)/g,b=/^\s*|\s*$/g,
c,a=h.extend({init:function(a){function c(a){if(a)return a=a.toLowerCase(),function(b){return"*"===a||b.type===a}}function f(a){if(a)return function(b){return b._name===a}}function g(a){if(a)return a=a.split("."),function(b){for(var c=a.length;c--;)if(!b.classes.contains(a[c]))return!1;return!0}}function h(a,b,c){if(a)return function(d){d=d[a]?d[a]():"";return b?"="===b?d===c:"*="===b?0<=d.indexOf(c):"~="===b?0<=(" "+d+" ").indexOf(" "+c+" "):"!="===b?d!=c:"^="===b?0===d.indexOf(c):"$="===b?d.substr(d.length-
c.length)===c:!1:!!c}}function l(a){if(a){a=/(?:not\((.+)\))|(.+)/i.exec(a);if(!a[1])return a=a[2],function(b,c,d){return"first"===a?0===c:"last"===a?c===d-1:"even"===a?0===c%2:"odd"===a?1===c%2:b[a]?b[a]():!1};var b=B(a[1],[]);return function(a){return!y(a,b)}}}function v(a,d,p){function m(a){a&&d.push(a)}a=e.exec(a.replace(b,""));m(c(a[1]));m(f(a[2]));m(g(a[3]));m(h(a[4],a[5],a[6]));m(l(a[7]));d.pseudo=!!a[7];d.direct=p;return d}function B(a,b){var c=[],f;do if(d.exec(""),f=d.exec(a))if(a=f[3],
c.push(f[1]),f[2]){var e=f[3];break}while(f);e&&B(e,b);a=[];for(e=0;e<c.length;e++)">"!=c[e]&&a.push(v(c[e],[],">"===c[e-1]));b.push(a);return b}var y=this.match;this._selectors=B(a,[])},match:function(a,b){var c,d,f,e,g,p;b=b||this._selectors;var h=0;for(c=b.length;h<c;h++){var u=b[h];var m=u.length;var w=a;var A=0;for(d=m-1;0<=d;d--)for(e=u[d];w;){if(e.pseudo){var z=w.parent().items();for(g=p=z.length;g--&&z[g]!==w;);}z=0;for(f=e.length;z<f;z++)if(!e[z](w,g,p)){z=f+1;break}if(z===f){A++;break}else if(d===
m-1)break;w=w.parent()}if(A===m)return!0}return!1},find:function(b){function d(a,b,c){var e,g,l=b[c];var p=0;for(e=a.length;p<e;p++){var h=a[p];var k=0;for(g=l.length;k<g;k++)if(!l[k](h,p,e)){k=g+1;break}if(k===g)c==b.length-1?f.push(h):h.items&&d(h.items(),b,c+1);else if(l.direct)break;h.items&&d(h.items(),b,c)}}var f=[],e,h=this._selectors;if(b.items){var l=0;for(e=h.length;l<e;l++)d(b.items(),h[l],0);1<e&&(f=g(f))}c||(c=a.Collection);return new c(f)}});return a});x("tinymce/ui/Collection",["tinymce/util/Tools",
"tinymce/ui/Selector","tinymce/util/Class"],function(h,g,e){var d=Array.prototype.push,b=Array.prototype.slice;var c={length:0,init:function(a){a&&this.add(a)},add:function(b){h.isArray(b)?d.apply(this,b):b instanceof a?this.add(b.toArray()):d.call(this,b);return this},set:function(a){var b=this.length;this.length=0;this.add(a);for(a=this.length;a<b;a++)delete this[a];return this},filter:function(b){var c,d=[];if("string"===typeof b){b=new g(b);var f=function(a){return b.match(a)}}else f=b;var e=
0;for(c=this.length;e<c;e++){var l=this[e];f(l)&&d.push(l)}return new a(d)},slice:function(){return new a(b.apply(this,arguments))},eq:function(a){return-1===a?this.slice(a):this.slice(a,+a+1)},each:function(a){h.each(this,a);return this},toArray:function(){return h.toArray(this)},indexOf:function(a){for(var b=this.length;b--&&this[b]!==a;);return b},reverse:function(){return new a(h.toArray(this).reverse())},hasClass:function(a){return this[0]?this[0].classes.contains(a):!1},prop:function(a,b){var c;
if(void 0!==b)return this.each(function(c){if(c[a])c[a](b)}),this;if((c=this[0])&&c[a])return c[a]()},exec:function(a){var b=h.toArray(arguments).slice(1);this.each(function(c){c[a]&&c[a].apply(c,b)});return this},remove:function(){for(var a=this.length;a--;)this[a].remove();return this},addClass:function(a){return this.each(function(b){b.classes.add(a)})},removeClass:function(a){return this.each(function(b){b.classes.remove(a)})}};h.each("fire on off show hide append prepend before after reflow".split(" "),
function(a){c[a]=function(){var b=h.toArray(arguments);this.each(function(c){a in c&&c[a].apply(c,b)});return this}});h.each("text name disabled active selected checked visible parent value data".split(" "),function(a){c[a]=function(b){return this.prop(a,b)}});var a=e.extend(c);return g.Collection=a});x("tinymce/ui/DomUtils",["tinymce/Env","tinymce/util/Tools","tinymce/dom/DOMUtils"],function(h,g,e){var d=0,b={id:function(){return"mceu_"+d++},create:function(b,a,d){var c=document.createElement(b);
e.DOM.setAttribs(c,a);"string"===typeof d?c.innerHTML=d:g.each(d,function(a){a.nodeType&&c.appendChild(a)});return c},createFragment:function(b){return e.DOM.createFragment(b)},getWindowSize:function(){return e.DOM.getViewPort()},getSize:function(b){if(b.getBoundingClientRect){var a=b.getBoundingClientRect();var c=Math.max(a.width||a.right-a.left,b.offsetWidth);b=Math.max(a.height||a.bottom-a.bottom,b.offsetHeight)}else c=b.offsetWidth,b=b.offsetHeight;return{width:c,height:b}},getPos:function(c,
a){return e.DOM.getPos(c,a||b.getContainer())},getContainer:function(){return h.container?h.container:document.body},getViewPort:function(b){return e.DOM.getViewPort(b)},get:function(b){return document.getElementById(b)},addClass:function(b,a){return e.DOM.addClass(b,a)},removeClass:function(b,a){return e.DOM.removeClass(b,a)},hasClass:function(b,a){return e.DOM.hasClass(b,a)},toggleClass:function(b,a,d){return e.DOM.toggleClass(b,a,d)},css:function(b,a,d){return e.DOM.setStyle(b,a,d)},getRuntimeStyle:function(b,
a){return e.DOM.getStyle(b,a,!0)},on:function(b,a,d,g){return e.DOM.bind(b,a,d,g)},off:function(b,a,d){return e.DOM.unbind(b,a,d)},fire:function(b,a,d){return e.DOM.fire(b,a,d)},innerHtml:function(b,a){e.DOM.setHTML(b,a)}};return b});x("tinymce/ui/BoxUtils",[],function(){return{parseBox:function(h){if(h){if("number"===typeof h)return h=h||0,{top:h,left:h,bottom:h,right:h};h=h.split(" ");var g=h.length;1===g?h[1]=h[2]=h[3]=h[0]:2===g?(h[2]=h[0],h[3]=h[1]):3===g&&(h[3]=h[1]);return{top:parseInt(h[0],
10)||0,right:parseInt(h[1],10)||0,bottom:parseInt(h[2],10)||0,left:parseInt(h[3],10)||0}}},measureBox:function(h,g){function e(b){var c=document.defaultView;return c?(b=b.replace(/[A-Z]/g,function(a){return"-"+a}),c.getComputedStyle(h,null).getPropertyValue(b)):h.currentStyle[b]}function d(b){b=parseFloat(e(b),10);return isNaN(b)?0:b}return{top:d(g+"TopWidth"),right:d(g+"RightWidth"),bottom:d(g+"BottomWidth"),left:d(g+"LeftWidth")}}}});x("tinymce/ui/ClassList",["tinymce/util/Tools"],function(h){function g(){}
function e(d){this.cls=[];this.cls._map={};this.onchange=d||g;this.prefix=""}h.extend(e.prototype,{add:function(d){d&&!this.contains(d)&&(this.cls._map[d]=!0,this.cls.push(d),this._change());return this},remove:function(d){if(this.contains(d)){for(var b=0;b<this.cls.length&&this.cls[b]!==d;b++);this.cls.splice(b,1);delete this.cls._map[d];this._change()}return this},toggle:function(d,b){var c=this.contains(d);c!==b&&(c?this.remove(d):this.add(d),this._change());return this},contains:function(d){return!!this.cls._map[d]},
_change:function(){delete this.clsValue;this.onchange.call(this)}});e.prototype.toString=function(){if(this.clsValue)return this.clsValue;var d="";for(var b=0;b<this.cls.length;b++)0<b&&(d+=" "),d+=this.prefix+this.cls[b];return d};return e});x("tinymce/ui/ReflowQueue",["tinymce/util/Delay"],function(h){var g={},e;return{add:function(d){(d=d.parent())&&d._layout&&!d._layout.isNative()&&(g[d._id]||(g[d._id]=d),e||(e=!0,h.requestAnimationFrame(function(){var b;e=!1;for(b in g){var c=g[b];c.state.get("rendered")&&
c.reflow()}g={}},document.body)))},remove:function(d){g[d._id]&&delete g[d._id]}}});x("tinymce/ui/Control","tinymce/util/Class tinymce/util/Tools tinymce/util/EventDispatcher tinymce/data/ObservableObject tinymce/ui/Collection tinymce/ui/DomUtils tinymce/dom/DomQuery tinymce/ui/BoxUtils tinymce/ui/ClassList tinymce/ui/ReflowQueue".split(" "),function(h,g,e,d,b,c,a,f,p,n){function q(a){a._eventDispatcher||(a._eventDispatcher=new e({scope:a,toggleEvent:function(b,c){c&&e.isNative(b)&&(a._nativeEvents||
(a._nativeEvents={}),a._nativeEvents[b]=!0,a.state.get("rendered")&&r(a))}}));return a._eventDispatcher}function r(b){function c(a){var c=b.getParentCtrl(a.target);c&&c.fire(a.type,a)}function d(){var a=r._lastHoverCtrl;a&&(a.fire("mouseleave",{target:a.getEl()}),a.parents().each(function(a){a.fire("mouseleave",{target:a.getEl()})}),r._lastHoverCtrl=null)}function e(a){var c=b.getParentCtrl(a.target);a=r._lastHoverCtrl;var d=0,e;if(c!==a){r._lastHoverCtrl=c;var f=c.parents().toArray().reverse();f.push(c);
if(a){c=a.parents().toArray().reverse();c.push(a);for(d=0;d<c.length&&f[d]===c[d];d++);for(e=c.length-1;e>=d;e--)a=c[e],a.fire("mouseleave",{target:a.getEl()})}for(e=d;e<f.length;e++)c=f[e],c.fire("mouseenter",{target:c.getEl()})}}function f(a){a.preventDefault();"mousewheel"==a.type?(a.deltaY=-.025*a.wheelDelta,a.wheelDeltaX&&(a.deltaX=-.025*a.wheelDeltaX)):(a.deltaX=0,a.deltaY=a.detail);b.fire("wheel",a)}var g,u,p;if(u=b._nativeEvents){var h=b.parents().toArray();h.unshift(b);var q=0;for(g=h.length;!r&&
q<g;q++)var r=h[q]._eventsRoot;r||(r=h[h.length-1]||b);b._eventsRoot=r;g=q;for(q=0;q<g;q++)h[q]._eventsRoot=r;q=r._delegates;q||(q=r._delegates={});for(p in u){if(!u)return!1;if("wheel"===p)if(l)a(b.getEl()).on("mousewheel",f);else a(b.getEl()).on("DOMMouseScroll",f);else"mouseenter"===p||"mouseleave"===p?r._hasMouseEnter||(a(r.getEl()).on("mouseleave",d).on("mouseover",e),r._hasMouseEnter=1):q[p]||(a(r.getEl()).on(p,c),q[p]=!0),u[p]=!1}}}var l="onmousewheel"in document,v,B=0,y={Statics:{classPrefix:"mce-"},
isRtl:function(){return v.rtl},classPrefix:"mce-",init:function(b){function c(a){var b;a=a.split(" ");for(b=0;b<a.length;b++)e.classes.add(a[b])}var e=this,l,u;e.settings=b=g.extend({},e.Defaults,b);e._id=b.id||"mceu_"+B++;e._aria={role:b.role};e._elmCache={};e.$=a;e.state=new d({visible:!0,active:!1,disabled:!1,value:""});e.data=new d(b.data);e.classes=new p(function(){e.state.get("rendered")&&(e.getEl().className=this.toString())});e.classes.prefix=e.classPrefix;if(l=b.classes)e.Defaults&&(u=e.Defaults.classes)&&
l!=u&&c(u),c(l);g.each("title text name visible disabled active value".split(" "),function(a){if(a in b)e[a](b[a])});e.on("click",function(){if(e.disabled())return!1});e.settings=b;e.borderBox=f.parseBox(b.border);e.paddingBox=f.parseBox(b.padding);e.marginBox=f.parseBox(b.margin);b.hidden&&e.hide()},Properties:"parent,name",getContainerElm:function(){return c.getContainer()},getParentCtrl:function(a){for(var b,c=this.getRoot().controlIdLookup;a&&c&&!(b=c[a.id]);)a=a.parentNode;return b},initLayoutRect:function(){var a=
this.settings,b=this.getEl();var d=this.borderBox=this.borderBox||f.measureBox(b,"border");this.paddingBox=this.paddingBox||f.measureBox(b,"padding");this.marginBox=this.marginBox||f.measureBox(b,"margin");var e=c.getSize(b);var g=a.minWidth;var k=a.minHeight;b=g||e.width;var l=k||e.height;e=a.width;var p=a.height;var h=a.autoResize;h="undefined"!=typeof h?h:!e&&!p;e=e||b;p=p||l;var q=d.left+d.right;d=d.top+d.bottom;var r=a.maxWidth||65535,v=a.maxHeight||65535;this._layoutRect=a={x:a.x||0,y:a.y||
0,w:e,h:p,deltaW:q,deltaH:d,contentW:e-q,contentH:p-d,innerW:e-q,innerH:p-d,startMinWidth:g||0,startMinHeight:k||0,minW:Math.min(b,r),minH:Math.min(l,v),maxW:r,maxH:v,autoResize:h,scrollW:0};this._lastLayoutRect={};return a},layoutRect:function(a){var b=this._layoutRect;b||(b=this.initLayoutRect());if(a){var c=b.deltaW;var d=b.deltaH;void 0!==a.x&&(b.x=a.x);void 0!==a.y&&(b.y=a.y);void 0!==a.minW&&(b.minW=a.minW);void 0!==a.minH&&(b.minH=a.minH);var e=a.w;void 0!==e&&(e=e<b.minW?b.minW:e,e=e>b.maxW?
b.maxW:e,b.w=e,b.innerW=e-c);e=a.h;void 0!==e&&(e=e<b.minH?b.minH:e,e=e>b.maxH?b.maxH:e,b.h=e,b.innerH=e-d);e=a.innerW;void 0!==e&&(e=e<b.minW-c?b.minW-c:e,e=e>b.maxW-c?b.maxW-c:e,b.innerW=e,b.w=e+c);e=a.innerH;void 0!==e&&(e=e<b.minH-d?b.minH-d:e,e=e>b.maxH-d?b.maxH-d:e,b.innerH=e,b.h=e+d);void 0!==a.contentW&&(b.contentW=a.contentW);void 0!==a.contentH&&(b.contentH=a.contentH);a=this._lastLayoutRect;if(a.x!==b.x||a.y!==b.y||a.w!==b.w||a.h!==b.h)(e=v.repaintControls)&&e.map&&!e.map[this._id]&&(e.push(this),
e.map[this._id]=!0),a.x=b.x,a.y=b.y,a.w=b.w,a.h=b.h;return this}return b},repaint:function(){var a;var b=document.createRange?function(a){return a}:Math.round;var c=this.getEl().style;var d=this._layoutRect;var e=this._lastRepaintRect||{};var f=this.borderBox;var g=f.left+f.right;f=f.top+f.bottom;d.x!==e.x&&(c.left=b(d.x)+"px",e.x=d.x);d.y!==e.y&&(c.top=b(d.y)+"px",e.y=d.y);d.w!==e.w&&(g=b(d.w-g),c.width=(0<=g?g:0)+"px",e.w=d.w);d.h!==e.h&&(g=b(d.h-f),c.height=(0<=g?g:0)+"px",e.h=d.h);if(this._hasBody&&
d.innerW!==e.innerW){g=b(d.innerW);if(a=this.getEl("body")){var l=a.style;l.width=(0<=g?g:0)+"px"}e.innerW=d.innerW}if(this._hasBody&&d.innerH!==e.innerH){g=b(d.innerH);if(a=a||this.getEl("body"))l=l||a.style,l.height=(0<=g?g:0)+"px";e.innerH=d.innerH}this._lastRepaintRect=e;this.fire("repaint",{},!1)},updateLayoutRect:function(){this.parent()._lastRect=null;c.css(this.getEl(),{width:"",height:""});this._layoutRect=this._lastRepaintRect=this._lastLayoutRect=null;this.initLayoutRect()},on:function(a,
b){var c=this;q(c).on(a,function(a){var b,d;return"string"!=typeof a?a:function(e){b||c.parentsAndSelf().each(function(c){var e=c.settings.callbacks;if(e&&(b=e[a]))return d=c,!1});if(b)return b.call(d,e);e.action=a;this.fire("execute",e)}}(b));return c},off:function(a,b){q(this).off(a,b);return this},fire:function(a,b,c){b=b||{};b.control||(b.control=this);b=q(this).fire(a,b);if(!1!==c&&this.parent)for(c=this.parent();c&&!b.isPropagationStopped();)c.fire(a,b,!1),c=c.parent();return b},hasEventListeners:function(a){return q(this).has(a)},
parents:function(a){var c,d=new b;for(c=this.parent();c;c=c.parent())d.add(c);a&&(d=d.filter(a));return d},parentsAndSelf:function(a){return(new b(this)).add(this.parents(a))},next:function(){var a=this.parent().items();return a[a.indexOf(this)+1]},prev:function(){var a=this.parent().items();return a[a.indexOf(this)-1]},innerHtml:function(a){this.$el.html(a);return this},getEl:function(b){b=b?this._id+"-"+b:this._id;this._elmCache[b]||(this._elmCache[b]=a("#"+b)[0]);return this._elmCache[b]},show:function(){return this.visible(!0)},
hide:function(){return this.visible(!1)},focus:function(){try{this.getEl().focus()}catch(u){}return this},blur:function(){this.getEl().blur();return this},aria:function(a,b){var c=this.getEl(this.ariaTarget);if("undefined"===typeof b)return this._aria[a];this._aria[a]=b;this.state.get("rendered")&&c.setAttribute("role"==a?a:"aria-"+a,b);return this},encode:function(a,b){!1!==b&&(a=this.translate(a));return(a||"").replace(/[&<>"]/g,function(a){return"&#"+a.charCodeAt(0)+";"})},translate:function(a){return v.translate?
v.translate(a):a},before:function(a){var b=this.parent();b&&b.insert(a,b.items().indexOf(this),!0);return this},after:function(a){var b=this.parent();b&&b.insert(a,b.items().indexOf(this));return this},remove:function(){var b=this,c=b.getEl(),d=b.parent(),e;if(b.items){var f=b.items().toArray();for(e=f.length;e--;)f[e].remove()}if(d&&d.items){var g=[];d.items().each(function(a){a!==b&&g.push(a)});d.items().set(g);d._lastRect=null}b._eventsRoot&&b._eventsRoot==b&&a(c).off();(d=b.getRoot().controlIdLookup)&&
delete d[b._id];c&&c.parentNode&&c.parentNode.removeChild(c);b.state.set("rendered",!1);b.state.destroy();b.fire("remove");return b},renderBefore:function(b){a(b).before(this.renderHtml());this.postRender();return this},renderTo:function(b){a(b||this.getContainerElm()).append(this.renderHtml());this.postRender();return this},preRender:function(){},render:function(){},renderHtml:function(){return'<div id="'+this._id+'" class="'+this.classes+'"></div>'},postRender:function(){var b=this,c=b.settings,
d,e;b.$el=a(b.getEl());b.state.set("rendered",!0);for(e in c)if(0===e.indexOf("on"))b.on(e.substr(2),c[e]);if(b._eventsRoot){for(d=b.parent();!f&&d;d=d.parent())var f=d._eventsRoot;if(f)for(e in f._nativeEvents)b._nativeEvents[e]=!0}r(b);c.style&&(d=b.getEl())&&(d.setAttribute("style",c.style),d.style.cssText=c.style);b.settings.border&&(c=b.borderBox,b.$el.css({"border-top-width":c.top,"border-right-width":c.right,"border-bottom-width":c.bottom,"border-left-width":c.left}));c=b.getRoot();c.controlIdLookup||
(c.controlIdLookup={});c.controlIdLookup[b._id]=b;for(var g in b._aria)b.aria(g,b._aria[g]);!1===b.state.get("visible")&&(b.getEl().style.display="none");b.bindStates();b.state.on("change:visible",function(a){a=a.value;var c;b.state.get("rendered")&&(b.getEl().style.display=!1===a?"none":"",b.getEl().getBoundingClientRect());if(c=b.parent())c._lastRect=null;b.fire(a?"show":"hide");n.add(b)});b.fire("postrender",{},!1)},bindStates:function(){},scrollIntoView:function(a){var b=this.getEl(),c=b.parentNode,
d,e;var f=b;for(d=e=0;f&&f!=c&&f.nodeType;)d+=f.offsetLeft||0,e+=f.offsetTop||0,f=f.offsetParent;f=b.offsetWidth;b=b.offsetHeight;var g=c.clientWidth;var l=c.clientHeight;"end"==a?(d-=g-f,e-=l-b):"center"==a&&(d-=g/2-f/2,e-=l/2-b/2);c.scrollLeft=d;c.scrollTop=e;return this},getRoot:function(){for(var a=this,b,c=[];a;){if(a.rootControl){b=a.rootControl;break}c.push(a);b=a;a=a.parent()}b||(b=this);for(a=c.length;a--;)c[a].rootControl=b;return b},reflow:function(){n.remove(this);var a=this.parent();
a._layout&&!a._layout.isNative()&&a.reflow();return this}};g.each("text title visible disabled active value".split(" "),function(a){y[a]=function(b){if(0===arguments.length)return this.state.get(a);"undefined"!=typeof b&&this.state.set(a,b);return this}});return v=h.extend(y)});x("tinymce/ui/Factory",[],function(){var h={},g;return{add:function(e,d){h[e.toLowerCase()]=d},has:function(e){return!!h[e.toLowerCase()]},create:function(e,d){if(!g){var b=tinymce.ui;for(c in b)h[c.toLowerCase()]=b[c];g=!0}"string"==
typeof e?(d=d||{},d.type=e):(d=e,e=d.type);e=e.toLowerCase();var c=h[e];if(!c)throw Error("Could not find control by type: "+e);c=new c(d);c.type=e;return c}}});x("tinymce/ui/KeyboardNavigation",[],function(){return function(h){function g(a){return(a=a||u)&&1===a.nodeType?a.getAttribute("role"):null}function e(a){for(var b=a||u;b=b.parentNode;)if(a=g(b))return a}function d(a){var b=u;if(b&&1===b.nodeType)return b.getAttribute("aria-"+a)}function b(a){a=a.tagName.toUpperCase();return"INPUT"==a||"TEXTAREA"==
a||"SELECT"==a}function c(a){function c(a){if(1==a.nodeType&&"none"!=a.style.display){var e=b(a)&&!a.hidden?!0:/^(button|menuitem|checkbox|tab|menuitemcheckbox|option|gridcell|slider)$/.test(g(a))?!0:!1;e&&d.push(a);for(e=0;e<a.childNodes.length;e++)c(a.childNodes[e])}}var d=[];c(a||y.getEl());return d}function a(a){a=a||m;var b=a.parents().toArray();b.unshift(a);for(a=0;a<b.length;a++){var c=b[a];if(c.settings.ariaRoot)break}return c}function f(a,b){0>a?a=b.length-1:a>=b.length&&(a=0);b[a]&&b[a].focus();
return a}function p(b,d){var e=-1,g=a();d=d||c(g.getEl());for(var l=0;l<d.length;l++)d[l]===u&&(e=l);g.lastAriaIndex=f(e+b,d)}function n(){"tablist"==e()?p(-1,c(u.parentNode)):m.parent().submenu?m.fire("cancel"):p(-1)}function q(){var a=g(),b=e();"tablist"==b?p(1,c(u.parentNode)):"menuitem"==a&&"menu"==b&&d("haspopup")?B():p(1)}function r(){p(-1)}function l(){var a=g(),b=e();"menuitem"==a&&"menubar"==b?B():"button"==a&&d("haspopup")?B({key:"down"}):p(1)}function v(a){"tablist"==e()?(a=c(m.getEl("body"))[0])&&
a.focus():p(a.shiftKey?-1:1)}function B(a){a=a||{};m.fire("click",{target:u,aria:a})}var y=h.root;try{var u=document.activeElement}catch(w){u=document.body}var m=y.getParentCtrl(u);y.on("keydown",function(a){function c(a,c){b(u)||"slider"!==g(u)&&!1!==c(a)&&a.preventDefault()}if(!a.isDefaultPrevented())switch(a.keyCode){case 37:c(a,n);break;case 39:c(a,q);break;case 38:c(a,r);break;case 40:c(a,l);break;case 27:m.fire("cancel");break;case 14:case 13:case 32:c(a,B);break;case 9:!1!==v(a)&&a.preventDefault()}});
y.on("focusin",function(a){u=a.target;m=a.control});return{focusFirst:function(b){b=a(b);var d=c(b.getEl());b.settings.ariaRemember&&"lastAriaIndex"in b?f(b.lastAriaIndex,d):f(0,d)}}}});x("tinymce/ui/Container","tinymce/ui/Control tinymce/ui/Collection tinymce/ui/Selector tinymce/ui/Factory tinymce/ui/KeyboardNavigation tinymce/util/Tools tinymce/dom/DomQuery tinymce/ui/ClassList tinymce/ui/ReflowQueue".split(" "),function(h,g,e,d,b,c,a,f,p){var n={};return h.extend({init:function(a){var b=this;b._super(a);
a=b.settings;a.fixed&&b.state.set("fixed",!0);b._items=new g;b.isRtl()&&b.classes.add("rtl");b.bodyClasses=new f(function(){b.state.get("rendered")&&(b.getEl("body").className=this.toString())});b.bodyClasses.prefix=b.classPrefix;b.classes.add("container");b.bodyClasses.add("container-body");a.containerCls&&b.classes.add(a.containerCls);b._layout=d.create((a.layout||"")+"layout");b.settings.items?b.add(b.settings.items):b.add(b.render());b._hasBody=!0},items:function(){return this._items},find:function(a){a=
n[a]=n[a]||new e(a);return a.find(this)},add:function(a){this.items().add(this.create(a)).parent(this);return this},focus:function(a){var b;if(a&&(a=this.keyboardNav||this.parents().eq(-1)[0].keyboardNav)){a.focusFirst(this);return}a=this.find("*");this.statusbar&&a.add(this.statusbar.items());a.each(function(a){if(a.settings.autofocus)return b=null,!1;a.canFocus&&(b=b||a)});b&&b.focus();return this},replace:function(a,b){var c=this.items();for(var d=c.length;d--;)if(c[d]===a){c[d]=b;break}0<=d&&
((c=b.getEl())&&c.parentNode.removeChild(c),(c=a.getEl())&&c.parentNode.removeChild(c));b.parent(this)},create:function(a){var b=this,e,f=[];c.isArray(a)||(a=[a]);c.each(a,function(a){a&&(a instanceof h||("string"==typeof a&&(a={type:a}),e=c.extend({},b.settings.defaults,a),a.type=e.type=e.type||a.type||b.settings.defaultType||(e.defaults?e.defaults.type:null),a=d.create(e)),f.push(a))});return f},renderNew:function(){var b=this;b.items().each(function(c,d){c.parent(b);if(!c.state.get("rendered")){var e=
b.getEl("body");e.hasChildNodes()&&d<=e.childNodes.length-1?a(e.childNodes[d]).before(c.renderHtml()):a(e).append(c.renderHtml());c.postRender();p.add(c)}});b._layout.applyClasses(b.items().filter(":visible"));b._lastRect=null;return b},append:function(a){return this.add(a).renderNew()},prepend:function(a){this.items().set(this.create(a).concat(this.items().toArray()));return this.renderNew()},insert:function(a,b,c){a=this.create(a);var d=this.items();!c&&b<d.length-1&&(b+=1);0<=b&&b<d.length&&(c=
d.slice(0,b).toArray(),b=d.slice(b).toArray(),d.set(c.concat(a,b)));return this.renderNew()},fromJSON:function(a){for(var b in a)this.find("#"+b).value(a[b]);return this},toJSON:function(){var a={};this.find("*").each(function(b){var c=b.name();b=b.value();c&&"undefined"!=typeof b&&(a[c]=b)});return a},renderHtml:function(){var a=this._layout,b=this.settings.role;this.preRender();a.preRender(this);return'<div id="'+this._id+'" class="'+this.classes+'"'+(b?' role="'+this.settings.role+'"':"")+'><div id="'+
this._id+'-body" class="'+this.bodyClasses+'">'+(this.settings.html||"")+a.renderHtml(this)+"</div></div>"},postRender:function(){this.items().exec("postRender");this._super();this._layout.postRender(this);this.state.set("rendered",!0);this.settings.style&&this.$el.css(this.settings.style);if(this.settings.border){var a=this.borderBox;this.$el.css({"border-top-width":a.top,"border-right-width":a.right,"border-bottom-width":a.bottom,"border-left-width":a.left})}this.parent()||(this.keyboardNav=new b({root:this}));
return this},initLayoutRect:function(){var a=this._super();this._layout.recalc(this);return a},recalc:function(){var a=this._layoutRect,b=this._lastRect;if(!b||b.w!=a.w||b.h!=a.h)return this._layout.recalc(this),a=this.layoutRect(),this._lastRect={x:a.x,y:a.y,w:a.w,h:a.h},!0},reflow:function(){var a;p.remove(this);if(this.visible()){h.repaintControls=[];h.repaintControls.map={};this.recalc();for(a=h.repaintControls.length;a--;)h.repaintControls[a].repaint();"flow"!==this.settings.layout&&"stack"!==
this.settings.layout&&this.repaint();h.repaintControls=[]}return this}})});x("tinymce/ui/DragHelper",["tinymce/dom/DomQuery"],function(h){function g(e){var d;if(e.changedTouches){var b="screenX screenY pageX pageY clientX clientY".split(" ");for(d=0;d<b.length;d++)e[b[d]]=e.changedTouches[0][b[d]]}}return function(e,d){var b,c=d.document||document,a,f,p;d=d||{};var n=function(b){g(b);if(b.button!==a)return q(b);b.deltaX=b.screenX-f;b.deltaY=b.screenY-p;b.preventDefault();d.drag(b)};var q=function(a){g(a);
h(c).off("mousemove touchmove",n).off("mouseup touchend",q);b.remove();d.stop&&d.stop(a)};this.destroy=function(){h(c.getElementById(d.handle||e)).off()};h(c.getElementById(d.handle||e)).on("mousedown touchstart",function(r){var l=Math.max;var v=c.documentElement;var B=c.body;var y=l(v.scrollWidth,B.scrollWidth);var u=l(v.clientWidth,B.clientWidth);var m=l(v.offsetWidth,B.offsetWidth);var w=l(v.scrollHeight,B.scrollHeight);var A=l(v.clientHeight,B.clientHeight);v=l(v.offsetHeight,B.offsetHeight);
y=y<m?u:y;w=w<v?A:w;g(r);r.preventDefault();a=r.button;A=c.getElementById(d.handle||e);f=r.screenX;p=r.screenY;A=window.getComputedStyle?window.getComputedStyle(A,null).getPropertyValue("cursor"):A.runtimeStyle.cursor;b=h("<div>").css({position:"absolute",top:0,left:0,width:y,height:w,zIndex:2147483647,opacity:1E-4,cursor:A}).appendTo(c.body);h(c).on("mousemove touchmove",n).on("mouseup touchend",q);d.start(r)})}});x("tinymce/ui/Scrollable",["tinymce/dom/DomQuery","tinymce/ui/DragHelper"],function(h,
g){return{init:function(){this.on("repaint",this.renderScroll)},renderScroll:function(){function e(){function c(a,c,f,g,p,B){var l;if(l=b.getEl("scroll"+a)){var q=c.toLowerCase();var m=f.toLowerCase();h(b.getEl("absend")).css(q,b.layoutRect()[g]-1);p?(h(l).css("display","block"),g=b.getEl("body"),a=b.getEl("scroll"+a+"t"),p=g["client"+f]-4,p-=d&&e?l["client"+B]:0,f=g["scroll"+f],f=p/f,B={},B[q]=g["offset"+c]+2,B[m]=p,h(l).css(B),B={},B[q]=g["scroll"+c]*f,B[m]=p*f,h(a).css(B)):h(l).css("display","none")}}
var a=b.getEl("body");var d=a.scrollWidth>a.clientWidth;var e=a.scrollHeight>a.clientHeight;c("h","Left","Width","contentW",d,"Height");c("v","Top","Height","contentH",e,"Width")}function d(){function c(a,c,d,e,q){var f,l=b._id+"-scroll"+a,p=b.classPrefix;h(b.getEl()).append('<div id="'+l+'" class="'+p+"scrollbar "+p+"scrollbar-"+a+'"><div id="'+l+'t" class="'+p+'scrollbar-thumb"></div></div>');b.draghelper=new g(l+"t",{start:function(){f=b.getEl("body")["scroll"+c];h("#"+l).addClass(p+"active")},
drag:function(g){var l=b.layoutRect();var p=l.contentW>l.innerW;l=l.contentH>l.innerH;var m=b.getEl("body")["client"+d]-4;m-=p&&l?b.getEl("scroll"+a)["client"+q]:0;p=m/b.getEl("body")["scroll"+d];b.getEl("body")["scroll"+c]=f+g["delta"+e]/p},stop:function(){h("#"+l).removeClass(p+"active")}})}b.classes.add("scroll");c("v","Top","Height","Y","Width");c("h","Left","Width","X","Height")}var b=this;b.settings.autoScroll&&(b._hasScroll||(b._hasScroll=!0,d(),b.on("wheel",function(c){var a=b.getEl("body");
a.scrollLeft+=10*(c.deltaX||0);a.scrollTop+=10*c.deltaY;e()}),h(b.getEl("body")).on("scroll",e)),e())}}});x("tinymce/ui/Panel",["tinymce/ui/Container","tinymce/ui/Scrollable"],function(h,g){return h.extend({Defaults:{layout:"fit",containerCls:"panel"},Mixins:[g],renderHtml:function(){var e=this._layout,d=this.settings.html;this.preRender();e.preRender(this);"undefined"==typeof d?d='<div id="'+this._id+'-body" class="'+this.bodyClasses+'">'+e.renderHtml(this)+"</div>":("function"==typeof d&&(d=d.call(this)),
this._hasBody=!1);return'<div id="'+this._id+'" class="'+this.classes+'" hidefocus="1" tabindex="-1" role="group">'+(this._preBodyHtml||"")+d+"</div>"}})});x("tinymce/ui/Movable",["tinymce/ui/DomUtils"],function(h){function g(e,d,b){var c=h.getViewPort();var a=h.getPos(d);var f=a.x;a=a.y;e.state.get("fixed")&&"static"==h.getRuntimeStyle(document.body,"position")&&(f-=c.x,a-=c.y);e=e.getEl();var g=h.getSize(e);e=g.width;c=g.height;g=h.getSize(d);d=g.width;g=g.height;b=(b||"").split("");"b"===b[0]&&
(a+=g);"r"===b[1]&&(f+=d);"c"===b[0]&&(a+=Math.round(g/2));"c"===b[1]&&(f+=Math.round(d/2));"b"===b[3]&&(a-=c);"r"===b[4]&&(f-=e);"c"===b[3]&&(a-=Math.round(c/2));"c"===b[4]&&(f-=Math.round(e/2));return{x:f,y:a,w:e,h:c}}return{testMoveRel:function(e,d){for(var b=h.getViewPort(),c=0;c<d.length;c++){var a=g(this,e,d[c]);if(this.state.get("fixed")){if(0<a.x&&a.x+a.w<b.w&&0<a.y&&a.y+a.h<b.h)return d[c]}else if(a.x>b.x&&a.x+a.w<b.w+b.x&&a.y>b.y&&a.y+a.h<b.h+b.y)return d[c]}return d[0]},moveRel:function(e,
d){"string"!=typeof d&&(d=this.testMoveRel(e,d));var b=g(this,e,d);return this.moveTo(b.x,b.y)},moveBy:function(e,d){var b=this.layoutRect();this.moveTo(b.x+e,b.y+d);return this},moveTo:function(e,d){function b(a,b,c){return 0>a?0:a+c>b?(a=b-c,0>a?0:a):a}if(this.settings.constrainToViewport){var c=h.getViewPort(window),a=this.layoutRect();e=b(e,c.w+c.x,a.w);d=b(d,c.h+c.y,a.h)}this.state.get("rendered")?this.layoutRect({x:e,y:d}).repaint():(this.settings.x=e,this.settings.y=d);this.fire("move",{x:e,
y:d});return this}}});x("tinymce/ui/Resizable",["tinymce/ui/DomUtils"],function(h){return{resizeToContent:function(){this._layoutRect.autoResize=!0;this._lastRect=null;this.reflow()},resizeTo:function(g,e){if(1>=g||1>=e){var d=h.getWindowSize();g=1>=g?g*d.w:g;e=1>=e?e*d.h:e}this._layoutRect.autoResize=!1;return this.layoutRect({minW:g,minH:e,w:g,h:e}).reflow()},resizeBy:function(g,e){var d=this.layoutRect();return this.resizeTo(d.w+g,d.h+e)}}});x("tinymce/ui/FloatPanel","tinymce/ui/Panel tinymce/ui/Movable tinymce/ui/Resizable tinymce/ui/DomUtils tinymce/dom/DomQuery tinymce/util/Delay".split(" "),
function(h,g,e,d,b,c){function a(){l||(l=function(a){if(2!=a.button)for(var b=y.length;b--;){var c=y[b],d=c.getParentCtrl(a.target),e;if((e=c.settings.autohide)&&!(e=!d)){a:{e=d;for(var f=c;e;){if(e==f){e=!0;break a}e=e.parent()}e=void 0}e=!e&&c.parent()!==d}e&&(a=c.fire("autohide",{target:a.target}),a.isDefaultPrevented()||c.hide())}},b(document).on("click touchstart",l))}function f(){v||(v=function(){var a;for(a=y.length;a--;)n(y[a])},b(window).on("scroll",v))}function p(){if(!B){var a=document.documentElement,
c=a.clientWidth,d=a.clientHeight;B=function(){document.all&&c==a.clientWidth&&d==a.clientHeight||(c=a.clientWidth,d=a.clientHeight,w.hideAll())};b(window).on("resize",B)}}function n(a){function b(b,c){for(var d,e=0;e<y.length;e++)if(y[e]!=a)for(d=y[e].parent();d&&(d=d.parent());)d==a&&y[e].fixed(b).moveBy(0,c).repaint()}var c=d.getViewPort().y;a.settings.autofix&&(a.state.get("fixed")?a._autoFixY>c&&(a.fixed(!1).layoutRect({y:a._autoFixY}).repaint(),b(!1,a._autoFixY-c)):(a._autoFixY=a.layoutRect().y,
a._autoFixY<c&&(a.fixed(!0).layoutRect({y:0}).repaint(),b(!0,c-a._autoFixY))))}function q(a,c){var d,e=w.zIndex||65535;if(a)u.push(c);else for(d=u.length;d--;)u[d]===c&&u.splice(d,1);if(u.length)for(d=0;d<u.length;d++){if(u[d].modal){e++;var f=u[d]}u[d].getEl().style.zIndex=e;u[d].zIndex=e;e++}d=b("#"+c.classPrefix+"modal-block",c.getContainerElm())[0];f?b(d).css("z-index",f.zIndex-1):d&&(d.parentNode.removeChild(d),m=!1);w.currentZIndex=e}function r(a){var b;for(b=y.length;b--;)y[b]===a&&y.splice(b,
1);for(b=u.length;b--;)u[b]===a&&u.splice(b,1)}var l,v,B,y=[],u=[],m,w=h.extend({Mixins:[g,e],init:function(d){var e=this;e._super(d);e._eventsRoot=e;e.classes.add("floatpanel");d.autohide&&(a(),p(),y.push(e));d.autofix&&(f(),e.on("move",function(){n(this)}));e.on("postrender show",function(a){if(a.control==e){var d=e.classPrefix;if(e.modal&&!m){var f=b("#"+d+"modal-block",e.getContainerElm());f[0]||(f=b('<div id="'+d+'modal-block" class="'+d+"reset "+d+'fade"></div>').appendTo(e.getContainerElm()));
c.setTimeout(function(){f.addClass(d+"in");b(e.getEl()).addClass(d+"in")});m=!0}q(!0,e)}});e.on("show",function(){e.parents().each(function(a){if(a.state.get("fixed"))return e.fixed(!0),!1})});d.popover&&(e._preBodyHtml='<div class="'+e.classPrefix+'arrow"></div>',e.classes.add("popover").add("bottom").add(e.isRtl()?"end":"start"));e.aria("label",d.ariaLabel);e.aria("labelledby",e._id);e.aria("describedby",e.describedBy||e._id+"-none")},fixed:function(a){if(this.state.get("fixed")!=a){if(this.state.get("rendered")){var b=
d.getViewPort();a?this.layoutRect().y-=b.y:this.layoutRect().y+=b.y}this.classes.toggle("fixed",a);this.state.set("fixed",a)}return this},show:function(){var a,b=this._super();for(a=y.length;a--&&y[a]!==this;);-1===a&&y.push(this);return b},hide:function(){r(this);q(!1,this);return this._super()},hideAll:function(){w.hideAll()},close:function(){this.fire("close").isDefaultPrevented()||(this.remove(),q(!1,this));return this},remove:function(){r(this);this._super()},postRender:function(){this.settings.bodyRole&&
this.getEl("body").setAttribute("role",this.settings.bodyRole);return this._super()}});w.hideAll=function(){for(var a=y.length;a--;){var b=y[a];b&&b.settings.autohide&&(b.hide(),y.splice(a,1))}};return w});x("tinymce/ui/Window","tinymce/ui/FloatPanel tinymce/ui/Panel tinymce/ui/DomUtils tinymce/dom/DomQuery tinymce/ui/DragHelper tinymce/ui/BoxUtils tinymce/Env tinymce/util/Delay".split(" "),function(h,g,e,d,b,c,a,f){function p(b){var c=d("meta[name=viewport]")[0],e;!1!==a.overrideViewPort&&(c||(c=
document.createElement("meta"),c.setAttribute("name","viewport"),document.getElementsByTagName("head")[0].appendChild(c)),(e=c.getAttribute("content"))&&"undefined"!=typeof q&&(q=e),c.setAttribute("content",b?"width=device-width,initial-scale=1.0,user-scalable=0,minimum-scale=1.0,maximum-scale=1.0":q))}var n=[],q="";h=h.extend({modal:!0,Defaults:{border:1,layout:"flex",containerCls:"panel",role:"dialog",callbacks:{submit:function(){this.fire("submit",{data:this.toJSON()})},close:function(){this.close()}}},
init:function(a){var b=this;b._super(a);b.isRtl()&&b.classes.add("rtl");b.classes.add("window");b.bodyClasses.add("window-body");b.state.set("fixed",!0);a.buttons&&(b.statusbar=new g({layout:"flex",border:"1 0 0 0",spacing:3,padding:10,align:"center",pack:b.isRtl()?"start":"end",defaults:{type:"button"},items:a.buttons}),b.statusbar.classes.add("foot"),b.statusbar.parent(b));b.on("click",function(a){var c=b.classPrefix+"close";(e.hasClass(a.target,c)||e.hasClass(a.target.parentNode,c))&&b.close()});
b.on("cancel",function(){b.close()});b.aria("describedby",b.describedBy||b._id+"-none");b.aria("label",a.title);b._fullscreen=!1},recalc:function(){var a=this.statusbar;this._fullscreen&&(this.layoutRect(e.getWindowSize()),this.layoutRect().contentH=this.layoutRect().innerH);this._super();var b=this.layoutRect();if(this.settings.title&&!this._fullscreen){var c=b.headerW;if(c>b.w){var d=b.x-Math.max(0,c/2);this.layoutRect({w:c,x:d});d=!0}}a&&(a.layoutRect({w:this.layoutRect().innerW}).recalc(),c=a.layoutRect().minW+
b.deltaW,c>b.w&&(d=b.x-Math.max(0,c-b.w),this.layoutRect({w:c,x:d}),d=!0));d&&this.recalc()},initLayoutRect:function(){var a=this._super(),b=0;if(this.settings.title&&!this._fullscreen){var c=this.getEl("head");c=e.getSize(c);a.headerW=c.width;a.headerH=c.height;b+=a.headerH}this.statusbar&&(b+=this.statusbar.layoutRect().h);a.deltaH+=b;a.minH+=b;a.h+=b;b=e.getWindowSize();a.x=this.settings.x||Math.max(0,b.w/2-a.w/2);a.y=this.settings.y||Math.max(0,b.h/2-a.h/2);return a},renderHtml:function(){var a=
this._layout,b=this._id,c=this.classPrefix,d=this.settings,e="",f="",g=d.html;this.preRender();a.preRender(this);d.title&&(e='<div id="'+b+'-head" class="'+c+'window-head"><div id="'+b+'-title" class="'+c+'title">'+this.encode(d.title)+'</div><div id="'+b+'-dragh" class="'+c+'dragh"></div><button type="button" class="'+c+'close" aria-hidden="true"><i class="mce-ico mce-i-remove"></i></button></div>');d.url&&(g='<iframe src="'+d.url+'" tabindex="-1"></iframe>');"undefined"==typeof g&&(g=a.renderHtml(this));
this.statusbar&&(f=this.statusbar.renderHtml());return'<div id="'+b+'" class="'+this.classes+'" hidefocus="1"><div class="'+this.classPrefix+'reset" role="application">'+e+'<div id="'+b+'-body" class="'+this.bodyClasses+'">'+g+"</div>"+f+"</div></div>"},fullscreen:function(a){var b=this,g=document.documentElement,p,h=b.classPrefix;if(a!=b._fullscreen){d(window).on("resize",function(){if(b._fullscreen)if(p)b._timer||(b._timer=f.setTimeout(function(){var a=e.getWindowSize();b.moveTo(0,0).resizeTo(a.w,
a.h);b._timer=0},50));else{var a=(new Date).getTime();var c=e.getWindowSize();b.moveTo(0,0).resizeTo(c.w,c.h);50<(new Date).getTime()-a&&(p=!0)}});var q=b.layoutRect();(b._fullscreen=a)?(b._initial={x:q.x,y:q.y,w:q.w,h:q.h},b.borderBox=c.parseBox("0"),b.getEl("head").style.display="none",q.deltaH-=q.headerH+2,d([g,document.body]).addClass(h+"fullscreen"),b.classes.add("fullscreen"),a=e.getWindowSize(),b.moveTo(0,0).resizeTo(a.w,a.h)):(b.borderBox=c.parseBox(b.settings.border),b.getEl("head").style.display=
"",q.deltaH+=q.headerH,d([g,document.body]).removeClass(h+"fullscreen"),b.classes.remove("fullscreen"),b.moveTo(b._initial.x,b._initial.y).resizeTo(b._initial.w,b._initial.h))}return b.reflow()},postRender:function(){var a,c,d=this;setTimeout(function(){d.classes.add("in");d.fire("open")},0);d._super();d.statusbar&&d.statusbar.postRender();d.focus();this.dragHelper=new b(d._id+"-dragh",{start:function(){a=d.layoutRect().x;c=d.layoutRect().y},drag:function(b){d.moveTo(a+b.deltaX,c+b.deltaY)}});d.on("submit",
function(a){a.isDefaultPrevented()||d.close()});n.push(d);p(!0)},submit:function(){return this.fire("submit",{data:this.toJSON()})},remove:function(){var a;this.dragHelper.destroy();this._super();this.statusbar&&this.statusbar.remove();for(a=n.length;a--;)n[a]===this&&n.splice(a,1);p(0<n.length);a:{a=this.classPrefix;for(var b=0;b<n.length;b++)if(n[b]._fullscreen)break a;d([document.documentElement,document.body]).removeClass(a+"fullscreen")}},getContentWindow:function(){var a=this.getEl().getElementsByTagName("iframe")[0];
return a?a.contentWindow:null}});(function(){if(!a.desktop){var b=window.innerWidth,c=window.innerHeight;f.setInterval(function(){var a=window.innerWidth,e=window.innerHeight;if(b!=a||c!=e)b=a,c=e,d(window).trigger("resize")},100)}d(window).on("resize",function(){var a,b=e.getWindowSize();for(a=0;a<n.length;a++){var c=n[a].layoutRect();n[a].moveTo(n[a].settings.x||Math.max(0,b.w/2-c.w/2),n[a].settings.y||Math.max(0,b.h/2-c.h/2))}})})();return h});x("tinymce/ui/MessageBox",["tinymce/ui/Window"],function(h){var g=
h.extend({init:function(e){e={border:1,padding:20,layout:"flex",pack:"center",align:"center",containerCls:"panel",autoScroll:!0,buttons:{type:"button",text:"Ok",action:"ok"},items:{type:"label",multiline:!0,maxWidth:500,maxHeight:200}};this._super(e)},Statics:{OK:1,OK_CANCEL:2,YES_NO:3,YES_NO_CANCEL:4,msgBox:function(e){function d(a,c,d){return{type:"button",text:a,subtype:d?"primary":"",onClick:function(a){a.control.parents()[1].close();b(c)}}}var b=e.callback||function(){};switch(e.buttons){case g.OK_CANCEL:var c=
[d("Ok",!0,!0),d("Cancel",!1)];break;case g.YES_NO:case g.YES_NO_CANCEL:c=[d("Yes",1,!0),d("No",0)];e.buttons==g.YES_NO_CANCEL&&c.push(d("Cancel",-1));break;default:c=[d("Ok",!0,!0)]}return(new h({padding:20,x:e.x,y:e.y,minWidth:300,minHeight:100,layout:"flex",pack:"center",align:"center",buttons:c,title:e.title,role:"alertdialog",items:{type:"label",multiline:!0,maxWidth:500,maxHeight:200,text:e.text},onPostRender:function(){this.aria("describedby",this.items()[0]._id)},onClose:e.onClose,onCancel:function(){b(!1)}})).renderTo(document.body).reflow()},
alert:function(e,d){"string"==typeof e&&(e={text:e});e.callback=d;return g.msgBox(e)},confirm:function(e,d){"string"==typeof e&&(e={text:e});e.callback=d;e.buttons=g.OK_CANCEL;return g.msgBox(e)}}});return g});x("tinymce/WindowManager",["tinymce/ui/Window","tinymce/ui/MessageBox"],function(h,g){return function(e){function d(){if(a.length)return a[a.length-1]}function b(a){e.fire("OpenWindow",{win:a})}function c(a){e.fire("CloseWindow",{win:a})}var a=[];this.windows=a;e.on("remove",function(){for(var b=
a.length;b--;)a[b].close()});this.open=function(d,g){e.editorManager.setActive(e);d.title=d.title||" ";d.url=d.url||d.file;d.url&&(d.width=parseInt(d.width||320,10),d.height=parseInt(d.height||240,10));d.body&&(d.items={defaults:d.defaults,type:d.bodyType||"form",items:d.body,data:d.data,callbacks:d.commands});d.url||d.buttons||(d.buttons=[{text:"Ok",subtype:"primary",onclick:function(){f.find("form")[0].submit()}},{text:"Cancel",onclick:function(){f.close()}}]);var f=new h(d);a.push(f);f.on("close",
function(){for(var b=a.length;b--;)a[b]===f&&a.splice(b,1);a.length||e.focus();c(f)});if(d.data)f.on("postRender",function(){this.find("*").each(function(a){var b=a.name();b in d.data&&a.value(d.data[b])})});f.features=d||{};f.params=g||{};1===a.length&&e.nodeChanged();f=f.renderTo().reflow();b(f);return f};this.alert=function(a,d,h){var f=g.alert(a,function(){d?d.call(h||this):e.focus()});f.on("close",function(){c(f)});b(f)};this.confirm=function(a,d,e){var f=g.confirm(a,function(a){d.call(e||this,
a)});f.on("close",function(){c(f)});b(f)};this.close=function(){d()&&d().close()};this.getParams=function(){return d()?d().params:null};this.setParams=function(a){d()&&(d().params=a)};this.getWindows=function(){return a}}});x("tinymce/ui/Tooltip",["tinymce/ui/Control","tinymce/ui/Movable"],function(h,g){return h.extend({Mixins:[g],Defaults:{classes:"widget tooltip tooltip-n"},renderHtml:function(){var e=this.classPrefix;return'<div id="'+this._id+'" class="'+this.classes+'" role="presentation"><div class="'+
e+'tooltip-arrow"></div><div class="'+e+'tooltip-inner">'+this.encode(this.state.get("text"))+"</div></div>"},bindStates:function(){var e=this;e.state.on("change:text",function(d){e.getEl().lastChild.innerHTML=e.encode(d.value)});return e._super()},repaint:function(){var e=this.getEl().style;var d=this._layoutRect;e.left=d.x+"px";e.top=d.y+"px";e.zIndex=131070}})});x("tinymce/ui/Widget",["tinymce/ui/Control","tinymce/ui/Tooltip"],function(h,g){var e,d=h.extend({init:function(b){var c=this;c._super(b);
b=c.settings;c.canFocus=!0;b.tooltip&&!1!==d.tooltips&&(c.on("mouseenter",function(a){var d=c.tooltip().moveTo(-65535);a.control==c?(a=d.text(b.tooltip).show().testMoveRel(c.getEl(),["bc-tc","bc-tl","bc-tr"]),d.classes.toggle("tooltip-n","bc-tc"==a),d.classes.toggle("tooltip-nw","bc-tl"==a),d.classes.toggle("tooltip-ne","bc-tr"==a),d.moveRel(c.getEl(),a)):d.hide()}),c.on("mouseleave mousedown click",function(){c.tooltip().hide()}));c.aria("label",b.ariaLabel||b.tooltip)},tooltip:function(){e||(e=
new g({type:"tooltip"}),e.renderTo());return e},postRender:function(){var b=this.settings;this._super();this.parent()||!b.width&&!b.height||(this.initLayoutRect(),this.repaint());b.autofocus&&this.focus()},bindStates:function(){function b(b){a.aria("disabled",b);a.classes.toggle("disabled",b)}function c(b){a.aria("pressed",b);a.classes.toggle("active",b)}var a=this;a.state.on("change:disabled",function(a){b(a.value)});a.state.on("change:active",function(a){c(a.value)});a.state.get("disabled")&&b(!0);
a.state.get("active")&&c(!0);return a._super()},remove:function(){this._super();e&&(e.remove(),e=null)}});return d});x("tinymce/ui/Progress",["tinymce/ui/Widget"],function(h){return h.extend({Defaults:{value:0},init:function(g){this._super(g);this.classes.add("progress");this.settings.filter||(this.settings.filter=function(e){return Math.round(e)})},renderHtml:function(){var g=this.classPrefix;return'<div id="'+this._id+'" class="'+this.classes+'"><div class="'+g+'bar-container"><div class="'+g+'bar"></div></div><div class="'+
g+'text">0%</div></div>'},postRender:function(){this._super();this.value(this.settings.value);return this},bindStates:function(){function g(d){d=e.settings.filter(d);e.getEl().lastChild.innerHTML=d+"%";e.getEl().firstChild.firstChild.style.width=d+"%"}var e=this;e.state.on("change:value",function(d){g(d.value)});g(e.state.get("value"));return e._super()}})});x("tinymce/ui/Notification",["tinymce/ui/Control","tinymce/ui/Movable","tinymce/ui/Progress","tinymce/util/Delay"],function(h,g,e,d){return h.extend({Mixins:[g],
Defaults:{classes:"widget notification"},init:function(b){var c=this;c._super(b);b.text&&c.text(b.text);b.icon&&(c.icon=b.icon);b.color&&(c.color=b.color);b.type&&c.classes.add("notification-"+b.type);b.timeout&&(0>b.timeout||0<b.timeout)&&!b.closeButton?c.closeButton=!1:(c.classes.add("has-close"),c.closeButton=!0);b.progressBar&&(c.progressBar=new e);c.on("click",function(a){-1!=a.target.className.indexOf(c.classPrefix+"close")&&c.close()})},renderHtml:function(){var b=this.classPrefix,c="",a="",
d="",e="";this.icon&&(c='<i class="'+b+"ico "+b+"i-"+this.icon+'"></i>');this.color&&(e=' style="background-color: '+this.color+'"');this.closeButton&&(a='<button type="button" class="'+b+'close" aria-hidden="true">\u00d7</button>');this.progressBar&&(d=this.progressBar.renderHtml());return'<div id="'+this._id+'" class="'+this.classes+'"'+e+' role="presentation">'+c+'<div class="'+b+'notification-inner">'+this.state.get("text")+"</div>"+d+a+"</div>"},postRender:function(){var b=this;d.setTimeout(function(){b.$el.addClass(b.classPrefix+
"in")});return b._super()},bindStates:function(){var b=this;b.state.on("change:text",function(c){b.getEl().childNodes[1].innerHTML=c.value});b.progressBar&&b.progressBar.bindStates();return b._super()},close:function(){this.fire("close").isDefaultPrevented()||this.remove();return this},repaint:function(){var b=this.getEl().style;var c=this._layoutRect;b.left=c.x+"px";b.top=c.y+"px";b.zIndex=131070}})});x("tinymce/NotificationManager",["tinymce/ui/Notification","tinymce/util/Delay"],function(h,g){return function(e){function d(){if(c.length)return c[c.length-
1]}function b(){if(0<c.length){var a=c.slice(0,1)[0],b=e.inline?e.getElement():e.getContentAreaContainer();a.moveRel(b,"tc-tc");if(1<c.length)for(a=1;a<c.length;a++)c[a].moveRel(c[a-1].getEl(),"bc-tc")}}var c=[];this.notifications=c;e.on("remove",function(){for(var a=c.length;a--;)c[a].close()});e.on("ResizeEditor",b);e.on("ResizeWindow",function(){g.requestAnimationFrame(function(){for(var a=0;a<c.length;a++)c[a].moveTo(0,0);b()})});this.open=function(a){e.editorManager.setActive(e);var d=new h(a);
c.push(d);0<a.timeout&&(d.timer=setTimeout(function(){d.close()},a.timeout));d.on("close",function(){var a=c.length;for(d.timer&&e.getWin().clearTimeout(d.timer);a--;)c[a]===d&&c.splice(a,1);b()});d.renderTo();b();return d};this.close=function(){d()&&d().close()};this.getNotifications=function(){return c};e.on("SkinLoaded",function(){var a=e.settings.service_message;a&&e.notificationManager.open({text:a,type:"warning",timeout:0,icon:""})})}});x("tinymce/dom/NodePath",["tinymce/dom/DOMUtils"],function(h){return{create:function(g,
e,d){for(var b=[];e&&e!=g;e=e.parentNode)b.push(h.nodeIndex(e,d));return b},resolve:function(g,e){var d;var b=g;for(d=e.length-1;0<=d;d--){b=b.childNodes;if(e[d]>b.length-1)return null;b=b[e[d]]}return b}}});x("tinymce/util/Quirks","tinymce/util/VK tinymce/dom/RangeUtils tinymce/dom/TreeWalker tinymce/dom/NodePath tinymce/html/Node tinymce/html/Entities tinymce/Env tinymce/util/Tools tinymce/util/Delay tinymce/caret/CaretContainer tinymce/caret/CaretPosition tinymce/caret/CaretWalker".split(" "),
function(h,g,e,d,b,c,a,f,p,n,q,r){return function(l){function v(a,b){try{l.getDoc().execCommand(a,!1,b)}catch(wa){}}function B(){var a=l.getDoc().documentMode;return a?a:6}function y(a){if(a.dataTransfer){l.selection.isCollapsed()&&"IMG"==a.target.tagName&&W.select(a.target);var b=l.selection.getContent();0<b.length&&(b="data:text/mce-internal,"+escape(l.id)+","+escape(b),a.dataTransfer.setData(ka,b))}}function u(a){return a.dataTransfer&&(a=a.dataTransfer.getData(ka))&&0<=a.indexOf("data:text/mce-internal,")?
(a=a.substr(23).split(","),{id:unescape(a[0]),html:unescape(a[1])}):null}function m(a){l.queryCommandSupported("mceInsertClipboardContent")?l.execCommand("mceInsertClipboardContent",!1,{content:a}):l.execCommand("mceInsertContent",!1,a)}function w(){function a(a){var b=n.schema.getBlockElements(),c=l.getBody();if("BR"!=a.nodeName)return!1;for(;a!=c&&!b[a.nodeName];a=a.parentNode)if(a.nextSibling)return!1;return!0}function b(a,b){var c;for(c=a.nextSibling;c&&c!=b;c=c.nextSibling)if((3!=c.nodeType||
0!==ca.trim(c.data).length)&&c!==b)return!1;return c===b}function c(b,c,d){var f=n.schema.getNonEmptyElements();for(b=new e(d||b,b);d=b[c?"next":"prev"]();)if(f[d.nodeName]&&!a(d)||3==d.nodeType&&0<d.data.length)return d}function k(a,d){if(!a.collapsed)return a;var e=a.startContainer;var f=a.startOffset;if(3==e.nodeType)if(d){if(f<e.data.length)return a}else if(0<f)return a;e=g.getNode(a.startContainer,a.startOffset);var k=n.getParent(e,n.isBlock);f=c(l.getBody(),d,e);var m=n.getParent(f,n.isBlock);
if(!e||!f)return a;if(m&&k!=m)if(d){if(!b(k,m))return a;1==e.nodeType?"BR"==e.nodeName?a.setStartBefore(e):a.setStartAfter(e):a.setStart(e,e.data.length);1==f.nodeType?a.setEnd(f,0):a.setEndBefore(f)}else{if(!b(m,k))return a;1==f.nodeType?"BR"==f.nodeName?a.setStartBefore(f):a.setStartAfter(f):a.setStart(f,f.data.length);1==e.nodeType?a.setEnd(e,0):a.setEndBefore(e)}return a}function q(a){var b=w.getRng();b=k(b,a);a:{a=b;if(!a.collapsed){b=n.getParent(g.getNode(a.startContainer,a.startOffset),n.isBlock);
var d=n.getParent(g.getNode(a.endContainer,a.endOffset),n.isBlock);var e=l.schema.getTextBlockElements();if(b!=d&&e[b.nodeName]&&e[d.nodeName]&&"false"!==n.getContentEditable(b)&&"false"!==n.getContentEditable(d)){a.deleteContents();e=c(b,!1);var f=c(d,!0);n.isEmpty(d)||ca(b).append(d.childNodes);ca(d).remove();e?1==e.nodeType?"BR"==e.nodeName?(a.setStartBefore(e),a.setEndBefore(e)):(a.setStartAfter(e),a.setEndAfter(e)):(a.setStart(e,e.data.length),a.setEnd(e,e.data.length)):f&&(1==f.nodeType?(a.setStartBefore(f),
a.setEndBefore(f)):(a.setStart(f,0),a.setEnd(f,0)));w.setRng(a);a=!0;break a}}a=void 0}if(a)return!0}function t(a,b){function c(a,c){m=ca(c).parents().filter(function(a,b){return!!l.schema.getTextInlineElements()[b.nodeName]});g=a.cloneNode(!1);m=f.map(m,function(a){a=a.cloneNode(!1);g.hasChildNodes()&&a.appendChild(g.firstChild);g.appendChild(a);g.appendChild(a);return a});return m.length?(k=n.create("br"),m[0].appendChild(k),n.replace(g,a),b.setStartBefore(k),b.setEndBefore(k),l.selection.setRng(b),
k):null}function e(a){return a&&l.schema.getTextBlockElements()[a.tagName]}var g,k,m;if(b.collapsed){var p=b.startContainer;var h=b.startOffset;var q=n.getParent(p,n.isBlock);if(e(q))if(1==p.nodeType){if(p=p.childNodes[h],!p||"BR"==p.tagName){var t=a?q.nextSibling:q.previousSibling;if(n.isEmpty(q)&&e(t)&&n.isEmpty(t)&&c(q,p))return n.remove(t),!0}}else if(3==p.nodeType){p=d.create(q,p);t=q.cloneNode(!0);p=d.resolve(t,p);if(a){if(h>=p.data.length)return;p.deleteData(h,1)}else{if(0>=h)return;p.deleteData(h-
1,1)}if(n.isEmpty(t))return c(q,p)}}}function v(a){if(!q(a)){f.each(l.getBody().getElementsByTagName("*"),function(a){"SPAN"==a.tagName&&a.setAttribute("mce-data-marked",1);!a.hasAttribute("data-mce-style")&&a.hasAttribute("style")&&l.dom.setAttrib(a,"style",l.dom.getAttrib(a,"style"))});var b=new Q(function(){});b.observe(l.getDoc(),{childList:!0,attributes:!0,subtree:!0,attributeFilter:["style"]});l.getDoc().execCommand(a?"ForwardDelete":"Delete",!1,null);var c=l.selection.getRng();var d=c.startContainer.parentNode;
f.each(b.takeRecords(),function(a){if(n.isChildOf(a.target,l.getBody())){if("style"==a.attributeName){var b=a.target.getAttribute("data-mce-style");b?a.target.setAttribute("style",b):a.target.removeAttribute("style")}f.each(a.addedNodes,function(a){if("SPAN"==a.nodeName&&!a.getAttribute("mce-data-marked")){if(a==d){var b=c.startOffset;var e=a.firstChild}n.remove(a,!0);e&&(c.setStart(e,b),c.setEnd(e,b),l.selection.setRng(c))}})}});b.disconnect();f.each(l.dom.select("span[mce-data-marked]"),function(a){a.removeAttribute("mce-data-marked")})}}
var r=l.getDoc(),n=l.dom,w=l.selection,Q=window.MutationObserver,B;if(!Q){var z=!0;Q=function(){function a(a){a=a.relatedNode||a.target;c.push({target:a,addedNodes:[a]})}function b(a){c.push({target:a.relatedNode||a.target,attributeName:a.attrName})}var c=[],d;this.observe=function(c){d=c;d.addEventListener("DOMSubtreeModified",a,!1);d.addEventListener("DOMNodeInsertedIntoDocument",a,!1);d.addEventListener("DOMNodeInserted",a,!1);d.addEventListener("DOMAttrModified",b,!1)};this.disconnect=function(){d.removeEventListener("DOMSubtreeModified",
a,!1);d.removeEventListener("DOMNodeInsertedIntoDocument",a,!1);d.removeEventListener("DOMNodeInserted",a,!1);d.removeEventListener("DOMAttrModified",b,!1)};this.takeRecords=function(){return c}}}l.on("keydown",function(a){var b=a.keyCode==fa,c=a.ctrlKey||a.metaKey;if(!a.isDefaultPrevented()&&(b||a.keyCode==ja)){var d=l.selection.getRng(),e=d.startContainer,f=d.startOffset;b&&a.shiftKey||(t(b,d)?a.preventDefault():!c&&d.collapsed&&3==e.nodeType&&(b?f<e.data.length:0<f)||(a.preventDefault(),c&&l.selection.getSel().modify("extend",
b?"forward":"backward",a.metaKey?"lineboundary":"word"),v(b)))}});l.on("keypress",function(a){if(!a.isDefaultPrevented()&&!w.isCollapsed()&&31<a.charCode&&!h.metaKeyPressed(a)){var b;var c=l.selection.getRng();var d=String.fromCharCode(a.charCode);a.preventDefault();a=ca(c.startContainer).parents().filter(function(a,b){return!!l.schema.getTextInlineElements()[b.nodeName]});v(!0);a=a.filter(function(a,b){return!ca.contains(l.getBody(),b)});if(a.length){var e=n.createFragment();a.each(function(a,c){c=
c.cloneNode(!1);e.hasChildNodes()?c.appendChild(e.firstChild):b=c;e.appendChild(c);e.appendChild(c)});b.appendChild(l.getDoc().createTextNode(d));d=n.getParent(c.startContainer,n.isBlock);n.isEmpty(d)?ca(d).empty().append(e):c.insertNode(e);c.setStart(b.firstChild,1);c.setEnd(b.firstChild,1);l.selection.setRng(c)}else l.selection.setContent(d)}});l.addCommand("Delete",function(){v()});l.addCommand("ForwardDelete",function(){v(!0)});z||(l.on("dragstart",function(a){B=w.getRng();y(a)}),l.on("drop",
function(a){if(!a.isDefaultPrevented()){var b=u(a);b&&(a.preventDefault(),p.setEditorTimeout(l,function(){var c=g.getCaretRangeFromPoint(a.x,a.y,r);B&&(w.setRng(B),B=null);v();w.setRng(c);m(b.html)}))}}),l.on("cut",function(a){a.isDefaultPrevented()||!a.clipboardData||l.selection.isCollapsed()||(a.preventDefault(),a.clipboardData.clearData(),a.clipboardData.setData("text/html",l.selection.getContent()),a.clipboardData.setData("text/plain",l.selection.getContent({format:"text"})),p.setEditorTimeout(l,
function(){v(!0)}))}))}function A(){l.shortcuts.add("meta+a",null,"SelectAll")}function z(){l.settings.content_editable||J.bind(l.getDoc(),"mousedown mouseup",function(a){if(a.target==l.getDoc().documentElement){var b=W.getRng();l.getBody().focus();"mousedown"==a.type?n.isCaretContainer(b.startContainer)||W.placeCaretAt(a.clientX,a.clientY):W.setRng(b)}})}function k(){l.on("keydown",function(a){if(!a.isDefaultPrevented()&&a.keyCode===ja&&l.getBody().getElementsByTagName("hr").length&&W.isCollapsed()&&
0===W.getRng(!0).startOffset){var b=W.getNode(),c=b.previousSibling;"HR"==b.nodeName?(J.remove(b),a.preventDefault()):c&&c.nodeName&&"hr"===c.nodeName.toLowerCase()&&(J.remove(c),a.preventDefault())}})}function t(){if(!window.Range.prototype.getClientRects)l.on("mousedown",function(a){if(!a.isDefaultPrevented()&&"HTML"===a.target.nodeName){var b=l.getBody();b.blur();p.setEditorTimeout(l,function(){b.focus()})}})}function D(){l.on("click",function(a){var b=a.target;/^(IMG|HR)$/.test(b.nodeName)&&"false"!==
J.getContentEditableParent(b)&&(a.preventDefault(),W.select(b),l.nodeChanged());"A"==b.nodeName&&J.hasClass(b,"mce-item-anchor")&&(a.preventDefault(),W.select(b))})}function x(){function a(){var a=J.getAttribs(W.getStart().cloneNode(!1));return function(){var b=W.getStart();b!==l.getBody()&&(J.setAttrib(b,"style",null),da(a,function(a){b.setAttributeNode(a.cloneNode(!0))}))}}function b(){return!W.isCollapsed()&&J.getParent(W.getStart(),J.isBlock)!=J.getParent(W.getEnd(),J.isBlock)}
l.on("keypress",function(c){if(!c.isDefaultPrevented()&&(8==c.keyCode||46==c.keyCode)&&b()){var d=a();l.getDoc().execCommand("delete",!1,null);d();c.preventDefault();return!1}});J.bind(l.getDoc(),"cut",function(c){if(!c.isDefaultPrevented()&&b()){var d=a();p.setEditorTimeout(l,function(){d()})}})}function F(){l.on("keydown",function(a){if(!a.isDefaultPrevented()&&a.keyCode===ja&&W.isCollapsed()&&0===W.getRng(!0).startOffset){var b=W.getNode().previousSibling;if(b&&b.nodeName&&"table"===b.nodeName.toLowerCase())return a.preventDefault(),
!1}})}function V(){7<B()||(v("RespectVisibilityInDesign",!0),l.contentStyles.push(".mceHideBrInPre pre br {display: none}"),J.addClass(l.getBody(),"mceHideBrInPre"),X.addNodeFilter("pre",function(a){for(var c=a.length,d,e,f,g;c--;)for(d=a[c].getAll("br"),e=d.length;e--;)f=d[e],(g=f.prev)&&3===g.type&&"\n"!=g.value.charAt(g.value-1)?g.value+="\n":f.parent.insert(new b("#text",3),f,!0).value="\n"}),la.addNodeFilter("pre",function(a){for(var b=a.length,c,d,e;b--;)for(c=a[b].getAll("br"),d=c.length;d--;)e=
c[d],(e=e.prev)&&3==e.type&&(e.value=e.value.replace(/\r?\n$/,""))}))}function H(){J.bind(l.getBody(),"mouseup",function(){var a,b=W.getNode();if("IMG"==b.nodeName){if(a=J.getStyle(b,"width"))J.setAttrib(b,"width",a.replace(/[^0-9%]+/g,"")),J.setStyle(b,"width","");if(a=J.getStyle(b,"height"))J.setAttrib(b,"height",a.replace(/[^0-9%]+/g,"")),J.setStyle(b,"height","")}})}function K(){function a(){ha();v("StyleWithCSS",!1);v("enableInlineTableEditing",!1);ia.object_resizing||v("enableObjectResizing",
!1)}if(!ia.readonly)l.on("BeforeExecCommand MouseDown",a)}function T(){function a(){da(J.select("a"),function(a){var b=a.parentNode,c=J.getRoot();if(b.lastChild===a){for(;b&&!J.isBlock(b);){if(b.parentNode.lastChild!==b||b===c)return;b=b.parentNode}J.add(b,"br",{"data-mce-bogus":1})}})}l.on("SetContent ExecCommand",function(b){"setcontent"!=b.type&&"mceInsertLink"!==b.command||a()})}function M(){if(ia.forced_root_block)l.on("init",function(){v("DefaultParagraphSeparator",ia.forced_root_block)})}function I(){l.on("keydown",
function(a){var b;a.isDefaultPrevented()||a.keyCode!=ja||(b=l.getDoc().selection.createRange())&&b.item&&(a.preventDefault(),l.undoManager.beforeChange(),J.remove(b.item(0)),l.undoManager.add())})}function O(){if(10<=B()){var a="";da("p div h1 h2 h3 h4 h5 h6".split(" "),function(b,c){a+=(0<c?",":"")+b+":empty"});l.contentStyles.push(a+"{padding-right: 1px !important}")}}function P(){9>B()&&(X.addNodeFilter("noscript",function(a){for(var b=a.length,c,d;b--;)c=a[b],(d=c.firstChild)&&c.attr("data-mce-innertext",
d.value)}),la.addNodeFilter("noscript",function(a){for(var d=a.length,e,f,g;d--;)if(e=a[d],f=a[d].firstChild)f.value=c.decode(f.value);else if(g=e.attributes.map["data-mce-innertext"])e.attr("data-mce-innertext",null),f=new b("#text",3),f.value=g,f.raw=!0,e.append(f)}))}function S(){function a(a,b){var c=e.createTextRange();try{c.moveToPoint(a,b)}catch(za){c=null}return c}function b(b){if(b.button){if(b=a(b.x,b.y))0<b.compareEndPoints("StartToStart",g)?b.setEndPoint("StartToStart",g):b.setEndPoint("EndToEnd",
g),b.select()}else c()}function c(){var a=d.selection.createRange();g&&!a.item&&0===a.compareEndPoints("StartToEnd",a)&&g.select();J.unbind(d,"mouseup",c);J.unbind(d,"mousemove",b);g=f=0}var d=J.doc,e=d.body,f,g,k;d.documentElement.unselectable=!0;J.bind(d,"mousedown contextmenu",function(e){"HTML"===e.target.nodeName&&(f&&c(),k=d.documentElement,!(k.scrollHeight>k.clientHeight)&&(f=1,g=a(e.x,e.y)))&&(J.bind(d,"mouseup",c),J.bind(d,"mousemove",b),J.getRoot().focus(),g.select())})}function L(){l.on("keyup focusin mouseup",
function(a){65==a.keyCode&&h.metaKeyPressed(a)||W.normalize()},!0)}function C(){if(!l.inline)l.on("keydown",function(){document.activeElement==document.body&&l.getWin().focus()})}function E(){l.inline||(l.contentStyles.push("body {min-height: 150px}"),l.on("click",function(b){"HTML"==b.target.nodeName&&(11<a.ie?l.getBody().focus():(b=l.selection.getRng(),l.getBody().focus(),l.selection.setRng(b),l.selection.normalize(),l.nodeChanged()))}))}function U(){if(a.mac)l.on("keydown",function(a){!h.metaKeyPressed(a)||
a.shiftKey||37!=a.keyCode&&39!=a.keyCode||(a.preventDefault(),l.selection.getSel().modify("move",37==a.keyCode?"backward":"forward","lineboundary"))})}function N(){l.on("click",function(a){var b=a.target;do if("A"===b.tagName){a.preventDefault();break}while(b=b.parentNode)});l.contentStyles.push(".mce-content-body {-webkit-touch-callout: none}")}function R(){l.on("init",function(){l.dom.bind(l.getBody(),"submit",function(a){a.preventDefault()})})}function Y(){X.addNodeFilter("br",function(a){for(var b=
a.length;b--;)"Apple-interchange-newline"==a[b].attr("class")&&a[b].remove()})}function Z(){l.on("dragstart",function(a){y(a)});l.on("drop",function(a){if(!a.isDefaultPrevented()){var b=u(a);b&&b.id!=l.id&&(a.preventDefault(),a=g.getCaretRangeFromPoint(a.x,a.y,l.getDoc()),W.setRng(a),m(b.html))}})}function ha(){if(Q()){var a=l.getBody();var b=a.parentNode;b.removeChild(a);b.appendChild(a);a.focus()}}function Q(){if(!ra)return 0;var a=l.selection.getSel();return!a||!a.rangeCount||0===a.rangeCount}
function aa(){function a(a){var b=new r(a.getBody()),c=a.selection.getRng(),d=q.fromRangeStart(c);c=q.fromRangeEnd(c);return!a.selection.isCollapsed()&&!b.prev(d)&&!b.next(c)}l.on("keypress",function(b){!b.isDefaultPrevented()&&!W.isCollapsed()&&31<b.charCode&&!h.metaKeyPressed(b)&&a(l)&&(b.preventDefault(),l.setContent(String.fromCharCode(b.charCode)),l.selection.select(l.getBody(),!0),l.selection.collapse(!1),l.nodeChanged())});l.on("keydown",function(b){var c=b.keyCode;b.isDefaultPrevented()||
c!=fa&&c!=ja||!a(l)||(b.preventDefault(),l.setContent(""),l.nodeChanged())})}var da=f.each,ca=l.$,ja=h.BACKSPACE,fa=h.DELETE,J=l.dom,W=l.selection,ia=l.settings,X=l.parser,la=l.serializer,ra=a.gecko,oa=a.ie,ua=a.webkit,ka=oa?"Text":"URL";(function(){l.on("keydown",function(a){if(!a.isDefaultPrevented()&&a.keyCode==h.BACKSPACE){a=W.getRng();var b=a.startContainer;var c=a.startOffset;var d=J.getRoot();var e=b;if(a.collapsed&&0===c){for(;e&&e.parentNode&&e.parentNode.firstChild==e&&e.parentNode!=d;)e=
e.parentNode;"BLOCKQUOTE"===e.tagName&&(l.formatter.toggle("blockquote",null,e),a=J.createRng(),a.setStart(b,0),a.setEnd(b,0),W.setRng(a))}}})})();(function(){function a(a){var b=J.create("body");a=a.cloneContents();b.appendChild(a);return W.serializer.serialize(b,{format:"html"})}l.on("keydown",function(b){var c=b.keyCode;if(!b.isDefaultPrevented()&&(c==fa||c==ja)){var d=l.selection.isCollapsed();c=l.getBody();if(!d||J.isEmpty(c)){if(d=!d){d=l.selection.getRng();if(d.setStart){d=a(d);var e=J.createRng();
e.selectNode(l.getBody());e=a(e);d=d===e}else d.item?d=!1:(e=d.duplicate(),e.moveToElementText(l.getBody()),d=g.compareRanges(d,e));d=!d}d||(b.preventDefault(),l.setContent(""),c.firstChild&&J.isBlock(c.firstChild)?l.selection.setCursorLocation(c.firstChild,0):l.selection.setCursorLocation(c,0),l.nodeChanged())}}})})();a.windowsPhone||L();ua&&(aa(),w(),z(),D(),M(),R(),F(),Y(),a.iOS?(C(),E(),N()):A());oa&&11>a.ie&&(k(),document.body.setAttribute("role","application"),V(),H(),I(),O(),P(),S());11<=a.ie&&
(E(),F());a.ie&&(A(),v("AutoUrlDetect",!1),Z());ra&&(aa(),k(),t(),x(),K(),T(),l.contentStyles.push("img:-moz-broken {-moz-force-broken-image-icon:1;min-width:24px;min-height:24px}"),U(),F());return{refreshContentEditable:ha,isHidden:Q}}});x("tinymce/EditorObservable",["tinymce/util/Observable","tinymce/dom/DOMUtils","tinymce/util/Tools"],function(h,g,e){function d(a,b){return"selectionchange"==b?a.getDoc():!a.inline&&/^mouse|touch|click|contextmenu|drop|dragover|dragend/.test(b)?a.getDoc().documentElement:
a.settings.event_root?(a.eventRoot||(a.eventRoot=c.select(a.settings.event_root)[0]),a.eventRoot):a.getBody()}function b(b,e){var f=d(b,e);b.delegates||(b.delegates={});if(!b.delegates[e])if(b.settings.event_root){if(a||(a={},b.editorManager.on("removeEditor",function(){var c;if(!b.editorManager.activeEditor&&a){for(c in a)b.dom.unbind(d(b,c));a=null}})),!a[e]){var g=function(a){for(var d=a.target,f=b.editorManager.editors,g=f.length;g--;){var p=f[g].getBody();if(p===d||c.isChildOf(d,p))p=f[g],p.hidden||
p.readonly||f[g].fire(e,a)}};a[e]=g;c.bind(f,e,g)}}else g=function(a){b.hidden||b.readonly||b.fire(e,a)},c.bind(f,e,g),b.delegates[e]=g}var c=g.DOM,a;g={bindPendingEventDelegates:function(){var a=this;e.each(a._pendingNativeEvents,function(c){b(a,c)})},toggleNativeEvent:function(a,c){"focus"!=a&&"blur"!=a&&(c?this.initialized?b(this,a):this._pendingNativeEvents?this._pendingNativeEvents.push(a):this._pendingNativeEvents=[a]:this.initialized&&(this.dom.unbind(d(this,a),a,this.delegates[a]),delete this.delegates[a]))},
unbindAllNativeEvents:function(){var a;if(this.delegates){for(a in this.delegates)this.dom.unbind(d(this,a),a,this.delegates[a]);delete this.delegates}this.inline||(this.getBody().onload=null,this.dom.unbind(this.getWin()),this.dom.unbind(this.getDoc()));this.dom.unbind(this.getBody());this.dom.unbind(this.getContainer())}};return g=e.extend({},h,g)});x("tinymce/Mode",[],function(){function h(d,b,c){try{d.getDoc().execCommand(b,!1,c)}catch(a){}}function g(d){var b=d.getBody();var c=function(a){0<
d.dom.getParents(a.target,"a").length&&a.preventDefault()};d.dom.bind(b,"click",c);return{unbind:function(){d.dom.unbind(b,"click",c)}}}function e(d,b){d._clickBlocker&&(d._clickBlocker.unbind(),d._clickBlocker=null);b?(d._clickBlocker=g(d),d.selection.controlSelection.hideResizeRect(),d.readonly=!0,d.getBody().contentEditable=!1):(d.readonly=!1,d.getBody().contentEditable=!0,h(d,"StyleWithCSS",!1),h(d,"enableInlineTableEditing",!1),h(d,"enableObjectResizing",!1),d.focus(),d.nodeChanged())}return{setMode:function(d,
b){if(b!=(d.readonly?"readonly":"design")){if(d.initialized)e(d,"readonly"==b);else d.on("init",function(){e(d,"readonly"==b)});d.fire("SwitchMode",{mode:b})}}}});x("tinymce/Shortcuts",["tinymce/util/Tools","tinymce/Env"],function(h,g){var e=h.each,d=h.explode,b={f9:120,f10:121,f11:122},c=h.makeMap("alt,ctrl,shift,meta,access");return function(a){function f(a){var f,l={};e(d(a,"+"),function(a){a in c?l[a]=!0:/^[0-9]{2,}$/.test(a)?l.keyCode=parseInt(a,10):(l.charCode=a.charCodeAt(0),l.keyCode=b[a]||
a.toUpperCase().charCodeAt(0))});a=[l.keyCode];for(f in c)l[f]?a.push(f):l[f]=!1;l.id=a.join(",");l.access&&(l.alt=!0,g.mac?l.ctrl=!0:l.shift=!0);l.meta&&(g.mac?l.meta=!0:(l.ctrl=!0,l.meta=!1));return l}function p(b,c,e,g){b=h.map(d(b,">"),f);b[b.length-1]=h.extend(b[b.length-1],{func:e,scope:g||a});return h.extend(b[0],{desc:a.translate(c),subpatterns:b.slice(1)})}function n(a,b){return b&&b.ctrl==a.ctrlKey&&b.meta==a.metaKey&&b.alt==a.altKey&&b.shift==a.shiftKey?a.keyCode==b.keyCode||a.charCode&&
a.charCode==b.charCode?(a.preventDefault(),!0):!1:!1}function q(a){return a.func?a.func.call(a.scope):null}var r={},l=[];a.on("keyup keypress keydown",function(a){(a.altKey||a.ctrlKey||a.metaKey||112<=a.keyCode&&123>=a.keyCode)&&!a.isDefaultPrevented()&&(e(r,function(b){if(n(a,b))return l=b.subpatterns.slice(0),"keydown"==a.type&&q(b),!0}),n(a,l[0])&&(1===l.length&&"keydown"==a.type&&q(l[0]),l.shift()))});this.add=function(b,c,f,g){var m=f;"string"===typeof f?f=function(){a.execCommand(m,!1,null)}:
h.isArray(m)&&(f=function(){a.execCommand(m[0],m[1],m[2])});e(d(h.trim(b.toLowerCase())),function(a){a=p(a,c,f,g);r[a.id]=a});return!0};this.remove=function(a){a=p(a);return r[a.id]?(delete r[a.id],!0):!1}}});x("tinymce/file/Uploader",["tinymce/util/Promise","tinymce/util/Tools","tinymce/util/Fun"],function(h,g,e){return function(d,b){function c(a){var b={"image/jpeg":"jpg","image/jpg":"jpg","image/gif":"gif","image/png":"png"}[a.blob().type.toLowerCase()]||"dat";return a.id()+"."+b}function a(a,
d,e,f){var g=new XMLHttpRequest;g.open("POST",b.url);g.withCredentials=b.credentials;g.upload.onprogress=function(a){f(a.loaded/a.total*100)};g.onerror=function(){e("Image upload failed due to a XHR Transport error. Code: "+g.status)};g.onload=function(){var a;if(200!=g.status)e("HTTP Error: "+g.status);else if((a=JSON.parse(g.responseText))&&"string"==typeof a.location){var c=b.basePath;a=a.location;c=c?c.replace(/\/$/,"")+"/"+a.replace(/^\//,""):a;d(c)}else e("Invalid JSON: "+g.responseText)};var m=
new FormData;m.append("file",a.blob(),c(a));g.send(m)}function f(){return new h(function(a){a([])})}function p(a,b){return{url:"",blobInfo:a,status:!1,error:b}}function n(a,b){g.each(v[a],function(a){a(b)});delete v[a]}function q(a,b,f){d.markPending(a.blobUri());return new h(function(g){var m,l=function(){};try{var h=function(){m&&(m.close(),k=l);d.removeFailed(a.blobUri());n(a.blobUri(),p(a,h));g(p(a,h))};var k=function(a){0>a||100<a||(m||(m=f()),m.progressBar.value(a))};b({id:a.id,blob:a.blob,
base64:a.base64,filename:e.constant(c(a))},function(b){m&&(m.close(),k=l);d.markUploaded(a.blobUri(),b);n(a.blobUri(),{url:b,blobInfo:a,status:!0});g({url:b,blobInfo:a,status:!0})},h,k)}catch(t){g(p(a,t.message))}})}function r(a){var b=a.blobUri();return new h(function(a){v[b]=v[b]||[];v[b].push(a)})}function l(a,c){a=g.grep(a,function(a){return!d.isUploaded(a.blobUri())});return h.all(g.map(a,function(a){return d.isPending(a.blobUri())?r(a):q(a,b.handler,c)}))}var v={};b=g.extend({credentials:!1,
handler:a},b);return{upload:function(c,d){return b.url||b.handler!==a?l(c,d):f()}}}});x("tinymce/file/Conversions",["tinymce/util/Promise"],function(h){function g(b){return new h(function(c){var a=new XMLHttpRequest;a.open("GET",b,!0);a.responseType="blob";a.onload=function(){200==this.status&&c(this.response)};a.send()})}function e(b){var c,a;b=decodeURIComponent(b).split(",");(a=/data:([^;]+)/.exec(b[0]))&&(c=a[1]);return{type:c,data:b[1]}}function d(b){return new h(function(c){var a;b=e(b);try{var d=
atob(b.data)}catch(n){c(new Blob([]));return}var g=new Uint8Array(d.length);for(a=0;a<g.length;a++)g[a]=d.charCodeAt(a);c(new Blob([g],{type:b.type}))})}return{uriToBlob:function(b){return 0===b.indexOf("blob:")?g(b):0===b.indexOf("data:")?d(b):null},blobToDataUri:function(b){return new h(function(c){var a=new FileReader;a.onloadend=function(){c(a.result)};a.readAsDataURL(b)})},parseDataUri:e}});x("tinymce/file/ImageScanner",["tinymce/util/Promise","tinymce/util/Arr","tinymce/util/Fun","tinymce/file/Conversions",
"tinymce/Env"],function(h,g,e,d,b){var c=0;return function(a,f){var p={};return{findAll:function(n,q){function r(a,b){var e;if(0===a.src.indexOf("blob:"))(e=f.getByUri(a.src))&&b({image:a,blobInfo:e});else{var g=d.parseDataUri(a.src).data;(e=f.findFirst(function(a){return a.base64()===g}))?b({image:a,blobInfo:e}):d.uriToBlob(a.src).then(function(d){var e="blobid"+c++;d=f.create(e,d,g);f.add(d);b({image:a,blobInfo:d})})}}q||(q=e.constant(!0));var l=g.filter(n.getElementsByTagName("img"),function(c){var d=
c.src;return!b.fileApi||c.hasAttribute("data-mce-bogus")||c.hasAttribute("data-mce-placeholder")||!d||d==b.transparentSrc?!1:0===d.indexOf("blob:")?!a.isUploaded(d):0===d.indexOf("data:")?q(c):!1});l=g.map(l,function(a){if(p[a.src])return new h(function(b){p[a.src].then(function(c){b({image:a,blobInfo:c.blobInfo})})});var b=(new h(function(b){r(a,b)})).then(function(a){delete p[a.image.src];return a})["catch"](function(b){delete p[a.src];return b});return p[a.src]=b});return h.all(l)}}}});x("tinymce/file/BlobCache",
["tinymce/util/Arr","tinymce/util/Fun"],function(h,g){return function(){function e(a){return d(function(b){return b.id()===a})}function d(a){return h.filter(b,a)[0]}var b=[],c=g.constant;return{create:function(a,b,d){return{id:c(a),blob:c(b),base64:c(d),blobUri:c(URL.createObjectURL(b))}},add:function(a){e(a.id())||b.push(a)},get:e,getByUri:function(a){return d(function(b){return b.blobUri()==a})},findFirst:d,removeByUri:function(a){b=h.filter(b,function(b){return b.blobUri()===a?(URL.revokeObjectURL(b.blobUri()),
!1):!0})},destroy:function(){h.each(b,function(a){URL.revokeObjectURL(a.blobUri())});b=[]}}}});x("tinymce/file/UploadStatus",[],function(){return function(){function h(e){return e in g}var g={};return{hasBlobUri:h,getResultUri:function(e){return(e=g[e])?e.resultUri:null},isPending:function(e){return h(e)?1===g[e].status:!1},isUploaded:function(e){return h(e)?2===g[e].status:!1},markPending:function(e){g[e]={status:1,resultUri:null}},markUploaded:function(e,d){g[e]={status:2,resultUri:d}},removeFailed:function(e){delete g[e]},
destroy:function(){g={}}}}});x("tinymce/EditorUpload",["tinymce/util/Arr","tinymce/file/Uploader","tinymce/file/ImageScanner","tinymce/file/BlobCache","tinymce/file/UploadStatus"],function(h,g,e,d,b){return function(c){function a(a){return function(b){return c.selection?a(b):[]}}function f(a,b,c){var d=0;do d=a.indexOf(b,d),-1!==d&&(a=a.substring(0,d)+c+a.substr(d+b.length),d+=c.length-b.length+1);while(-1!==d);return a}function p(a,b){h.each(c.undoManager.data,function(c){var d=c.content;d=f(d,'src="'+
a+'"','src="'+b+'"');d=f(d,'data-mce-src="'+a+'"','data-mce-src="'+b+'"');c.content=d})}function n(){return c.notificationManager.open({text:c.translate("Image uploading..."),type:"info",timeout:-1,progressBar:!0})}function q(b){u||(u=new g(A,{url:w.images_upload_url,basePath:w.images_upload_base_path,credentials:w.images_upload_credentials,handler:w.images_upload_handler}));return v().then(a(function(d){var e=h.map(d,function(a){return a.blobInfo});return u.upload(e,n).then(a(function(a){a=h.map(a,
function(a,b){var e=d[b].image;if(a.status&&!1!==c.settings.images_replace_blob_uris){var f=a.url;y.removeByUri(e.src);p(e.src,f);c.$(e).attr({src:f,"data-mce-src":c.convertURL(f,"src")})}return{element:e,status:a.status}});b&&b(a);return a}))}))}function r(a){if(!1!==w.automatic_uploads)return q(a)}function l(a){return w.images_dataimg_filter?w.images_dataimg_filter(a):!0}function v(){m||(m=new e(A,y));return m.findAll(c.getBody(),l).then(a(function(a){h.each(a,function(a){p(a.image.src,a.blobInfo.blobUri());
a.image.src=a.blobInfo.blobUri();a.image.removeAttribute("data-mce-src")});return a}))}function B(a){return a.replace(/src="(blob:[^"]+)"/g,function(a,b){var d=A.getResultUri(b);if(d)return'src="'+d+'"';(d=y.getByUri(b))||(d=h.reduce(c.editorManager.editors,function(a,c){return a||c.editorUpload.blobCache.getByUri(b)},null));return d?'src="data:'+d.blob().type+";base64,"+d.base64()+'"':a})}var y=new d,u,m,w=c.settings,A=new b;c.on("setContent",function(){!1!==c.settings.automatic_uploads?r():v()});
c.on("RawSaveContent",function(a){a.content=B(a.content)});c.on("getContent",function(a){a.source_view||"raw"==a.format||(a.content=B(a.content))});c.on("PostRender",function(){c.parser.addNodeFilter("img",function(a){h.each(a,function(a){var b=a.attr("src");y.getByUri(b)||(b=A.getResultUri(b))&&a.attr("src",b)})})});return{blobCache:y,uploadImages:q,uploadImagesAuto:r,scanForImages:v,destroy:function(){y.destroy();A.destroy();m=u=null}}}});x("tinymce/caret/FakeCaret","tinymce/caret/CaretContainer tinymce/caret/CaretPosition tinymce/dom/NodeType tinymce/dom/RangeUtils tinymce/dom/DomQuery tinymce/geom/ClientRect tinymce/util/Delay".split(" "),
function(h,g,e,d,b,c,a){var f=e.isContentEditableFalse;return function(d,e){function g(){var a;var c=b("*[contentEditable=false]",d);for(a=0;a<c.length;a++){var e=c[a];var f=e.previousSibling;if(h.endsWithCaretContainer(f)){var g=f.data;1==g.length?f.parentNode.removeChild(f):f.deleteData(g.length-1,1)}f=e.nextSibling;h.startsWithCaretContainer(f)&&(g=f.data,1==g.length?f.parentNode.removeChild(f):f.deleteData(0,1))}B&&(h.remove(B),B=null);n&&(n.remove(),n=null);clearInterval(l)}function p(){l=a.setInterval(function(){b("div.mce-visual-caret",
d).toggleClass("mce-visual-caret-hidden")},500)}var l,n,B;return{show:function(a,l){g();if(e(l)){B=h.insertBlock("p",l,a);var m=c.collapse(l.getBoundingClientRect(),a);if("BODY"==d.tagName){var q=d.ownerDocument.documentElement;var r=d.scrollLeft||q.scrollLeft;q=d.scrollTop||q.scrollTop}else q=d.getBoundingClientRect(),r=d.scrollLeft-q.left,q=d.scrollTop-q.top;m.left+=r;m.right+=r;m.top+=q;m.bottom+=q;m.width=1;r=l.offsetWidth-l.clientWidth;0<r&&(a&&(r*=-1),m.left+=r,m.right+=r);b(B).css("top",m.top);
n=b('<div class="mce-visual-caret" data-mce-bogus="all"></div>').css(m).appendTo(d);a&&n.addClass("mce-visual-caret-before");p();m=l.ownerDocument.createRange();r=B.firstChild;m.setStart(r,0);m.setEnd(r,1)}else B=h.insertInline(l,a),m=l.ownerDocument.createRange(),f(B.nextSibling)?(m.setStart(B,0),m.setEnd(B,0)):(m.setStart(B,1),m.setEnd(B,1));return m},hide:g,getCss:function(){return".mce-visual-caret {position: absolute;background-color: black;background-color: currentcolor;}.mce-visual-caret-hidden {display: none;}*[data-mce-caret] {position: absolute;left: -1000px;right: auto;top: 0;margin: 0;padding: 0;}"},
destroy:function(){a.clearInterval(l)}}}});x("tinymce/dom/Dimensions",["tinymce/util/Arr","tinymce/dom/NodeType","tinymce/geom/ClientRect"],function(h,g,e){function d(b){function c(a){return h.map(a,function(a){a=e.clone(a);a.node=b;return a})}if(h.isArray(b))return h.reduce(b,function(a,b){return a.concat(d(b))},[]);if(g.isElement(b))return c(b.getClientRects());if(g.isText(b)){var a=b.ownerDocument.createRange();a.setStart(b,0);a.setEnd(b,b.data.length);return c(a.getClientRects())}}return{getClientRects:d}});
x("tinymce/caret/LineWalker","tinymce/util/Fun tinymce/util/Arr tinymce/dom/Dimensions tinymce/caret/CaretCandidate tinymce/caret/CaretUtils tinymce/caret/CaretWalker tinymce/caret/CaretPosition tinymce/geom/ClientRect".split(" "),function(h,g,e,d,b,c,a,f){function p(a,c,e,f){for(;(f=b.findNode(f,a,d.isEditableCaretCandidate,c))&&!e(f););}function n(a,b,c,d,f,m){function l(d){var m=e.getClientRects(d);-1==a&&(m=m.reverse());for(d=0;d<m.length;d++){var l=m[d];if(!c(l,k)){0<q.length&&b(l,g.last(q))&&
h++;l.line=h;if(f(l))return!0;q.push(l)}}}var h=0,q=[];var k=g.last(m.getClientRects());if(!k)return q;m=m.getNode();l(m);p(a,d,l,m);return q}h=h.curry;var q=h(n,-1,f.isAbove,f.isBelow),r=h(n,1,f.isBelow,f.isAbove);return{upUntil:q,downUntil:r,positionsUntil:function(b,d,e,h){var l=new c(d);d=[];var m=0;if(1==b){b=l.next;l=f.isBelow;var p=f.isAbove;h=a.after(h)}else b=l.prev,l=f.isAbove,p=f.isBelow,h=a.before(h);var q=g.last(h.getClientRects());do if(h.isVisible()){var r=g.last(h.getClientRects());
if(!p(r,q)){0<d.length&&l(r,g.last(d))&&m++;r=f.clone(r);r.position=h;r.line=m;if(e(r))break;d.push(r)}}while(h=b(h));return d},isAboveLine:h(function(a,b){return b.line>a}),isLine:h(function(a,b){return b.line===a})}});x("tinymce/caret/LineUtils","tinymce/util/Fun tinymce/util/Arr tinymce/dom/NodeType tinymce/dom/Dimensions tinymce/geom/ClientRect tinymce/caret/CaretUtils tinymce/caret/CaretCandidate".split(" "),function(h,g,e,d,b,c,a){function f(a,b){return g.reduce(a,function(a,c){var d=Math.min(Math.abs(a.left-
b),Math.abs(a.right-b));var e=Math.min(Math.abs(c.left-b),Math.abs(c.right-b));return b>=c.left&&b<=c.right?c:b>=a.left&&b<=a.right?a:e==d&&q(c.node)||e<d?c:a})}function p(b,c,d,e){for(;(e=r(e,b,a.isEditableCaretCandidate,c))&&!d(e););}function n(a,c){function e(a,b){var e=g.filter(d.getClientRects(b),function(b){return!a(b,c)});f=f.concat(e);return 0===e.length}var f=[];f.push(c);p(-1,a,l(e,b.isAbove),c.node);p(1,a,l(e,b.isBelow),c.node);return f}var q=e.isContentEditableFalse,r=c.findNode,l=h.curry;
return{findClosestClientRect:f,findLineNodeRects:n,closestCaret:function(a,b,c){var e=d.getClientRects(g.filter(g.toArray(a.getElementsByTagName("*")),q));e=g.filter(e,function(a){return c>=a.top&&c<=a.bottom});return(e=f(e,b))&&(e=f(n(a,e),b))&&q(e.node)?{node:e.node,before:Math.abs(e.left-b)<Math.abs(e.right-b)}:null}}});x("tinymce/dom/MousePosition",[],function(){var h=function(g){var e=g.getBoundingClientRect();var d=g.ownerDocument;g=d.documentElement;d=d.defaultView;return{top:e.top+d.pageYOffset-
g.clientTop,left:e.left+d.pageXOffset-g.clientLeft}};return{calc:function(g,e){var d=g.inline?h(g.getBody()):{left:0,top:0},b=g.getBody();b=g.inline?{left:b.scrollLeft,top:b.scrollTop}:{left:0,top:0};if(e.target.ownerDocument!==g.getDoc()){var c=h(g.getContentAreaContainer());var a=g.getBody();var f=g.getDoc().documentElement;var p={left:a.scrollLeft,top:a.scrollTop};a={left:a.scrollLeft||f.scrollLeft,top:a.scrollTop||f.scrollTop};a=g.inline?p:a;p=e.pageX-c.left+a.left;c=e.pageY-c.top+a.top}else p=
e.pageX,c=e.pageY;return{pageX:p-d.left+b.left,pageY:c-d.top+b.top}}}});x("tinymce/DragDropOverrides","tinymce/dom/NodeType tinymce/util/Arr tinymce/util/Fun tinymce/util/Delay tinymce/dom/DOMUtils tinymce/dom/MousePosition".split(" "),function(h,g,e,d,b,c){var a=h.isContentEditableFalse,f=h.isContentEditableTrue,p=function(b,c,d){return c===d||b.dom.isChildOf(c,d)||a(c)?!1:!0},n=function(a){a=a.cloneNode(!0);a.removeAttribute("data-mce-selected");return a},q=function(b,c){return function(d){if(0===
d.button){var m=g.find(c.dom.getParents(d.target),e.or(a,f));if(a(m)){var k=c.dom.getPos(m),l=c.getBody(),h=c.getDoc().documentElement;b.element=m;b.screenX=d.screenX;b.screenY=d.screenY;b.maxX=(c.inline?l.scrollWidth:h.offsetWidth)-2;b.maxY=(c.inline?l.scrollHeight:h.offsetHeight)-2;b.relX=d.pageX-k.x;b.relY=d.pageY-k.y;b.width=m.offsetWidth;b.height=m.offsetHeight;d=b.width;k=b.height;m=m.cloneNode(!0);c.dom.setStyles(m,{width:d,height:k});c.dom.setAttrib(m,"data-mce-selected",null);l=c.dom.create("div",
{"class":"mce-drag-container","data-mce-bogus":"all",unselectable:"on",contenteditable:"false"});c.dom.setStyles(l,{position:"absolute",opacity:.5,overflow:"hidden",border:0,padding:0,margin:0,width:d,height:k});c.dom.setStyles(m,{margin:0,boxSizing:"border-box"});l.appendChild(m);b.ghost=l}}}},r=function(a,b){var e=d.throttle(function(a,c){b._selectionOverrides.hideFakeCaret();b.selection.placeCaretAt(a,c)},0);return function(d){var f=Math.max(Math.abs(d.screenX-a.screenX),Math.abs(d.screenY-a.screenY));
if(a.element&&!a.dragging&&10<f){if(b.fire("dragstart",{target:a.element}).isDefaultPrevented())return;a.dragging=!0;b.focus()}if(a.dragging){var g=c.calc(b,d);f=g.pageX-a.relX;g=g.pageY+5;var m=a.ghost,l=b.getBody();m.parentNode!==l&&l.appendChild(m);m=a.ghost;l=a.width;var h=a.height,p=a.maxX,q=a.maxY,r=0,n=0;m.style.left=f+"px";m.style.top=g+"px";f+l>p&&(r=f+l-p);g+h>q&&(n=g+h-q);m.style.width=l-r+"px";m.style.height=h-n+"px";e(d.clientX,d.clientY)}}},l=function(a,b){return function(c){if(a.dragging&&
p(b,b.selection.getNode(),a.element)){var d=n(a.element);c=b.fire("drop",{targetClone:d,clientX:c.clientX,clientY:c.clientY});c.isDefaultPrevented()||(d=c.targetClone,b.undoManager.transact(function(){var c=a.element;c&&c.parentNode&&c.parentNode.removeChild(c);b.insertContent(b.dom.getOuterHTML(d));b._selectionOverrides.hideFakeCaret()}))}B(a)}},v=function(a,b){return function(){B(a);a.dragging&&b.fire("dragend")}},B=function(a){a.dragging=!1;a.element=null;(a=a.ghost)&&a.parentNode&&a.parentNode.removeChild(a)},
y=function(a){var c={};var d=b.DOM;var e=document;var f=q(c,a);var g=r(c,a);var m=l(c,a);var h=v(c,a);a.on("mousedown",f);a.on("mousemove",g);a.on("mouseup",m);d.bind(e,"mousemove",g);d.bind(e,"mouseup",h);a.on("remove",function(){d.unbind(e,"mousemove",g);d.unbind(e,"mouseup",h)})},u=function(b){b.on("drop",function(c){var d="undefined"!==typeof c.clientX?b.getDoc().elementFromPoint(c.clientX,c.clientY):null;(a(d)||a(b.dom.getContentEditableParent(d)))&&c.preventDefault()})};return{init:function(a){y(a);
u(a)}}});x("tinymce/SelectionOverrides","tinymce/Env tinymce/caret/CaretWalker tinymce/caret/CaretPosition tinymce/caret/CaretContainer tinymce/caret/CaretUtils tinymce/caret/FakeCaret tinymce/caret/LineWalker tinymce/caret/LineUtils tinymce/dom/NodeType tinymce/dom/RangeUtils tinymce/geom/ClientRect tinymce/util/VK tinymce/util/Fun tinymce/util/Arr tinymce/util/Delay tinymce/DragDropOverrides tinymce/text/Zwsp".split(" "),function(h,g,e,d,b,c,a,f,p,n,q,r,l,v,B,y,u){function m(a,b){for(;(b=a(b))&&
!b.isVisible(););return b}var w=l.curry,A=p.isContentEditableTrue,z=p.isContentEditableFalse,k=p.isElement,t=b.isAfterContentEditableFalse,x=b.isBeforeContentEditableFalse,G=n.getSelectedNode;return function(n){function D(a){return n.dom.isBlock(a)}function F(a){a&&n.selection.setRng(a)}function K(a,b,c){if(n.fire("ShowCaret",{target:b,direction:a,before:c}).isDefaultPrevented())return null;n.selection.scrollIntoView(b,-1===a);return J.show(c,b)}function T(a){J.hide();if(n.fire("BeforeObjectSelected",
{target:a}).isDefaultPrevented())return null;var b=a.ownerDocument.createRange();b.selectNode(a);return b}function M(a,c){c=b.normalizeRange(a,da,c);return-1==a?e.fromRangeStart(c):e.fromRangeEnd(c)}function I(a,c,e,f){if(!f.collapsed){var g=G(f);if(z(g))return K(a,g,-1==a)}var k=d.isCaretContainerBlock(f.startContainer);g=M(a,f);if(e(g))return T(g.getNode(-1==a));g=c(g);if(!g)return k?f:null;if(e(g))return K(a,g.getNode(-1==a),1==a);c=c(g);return e(c)&&(e=g,f=b.isInSameBlock(e,c),e=!f&&p.isBr(e.getNode())?
!0:f,e)?K(a,c.getNode(-1==a),1==a):k?E(g.toRange()):null}function O(a,b){var c;if(b.collapsed&&n.settings.forced_root_block&&(c=n.dom.getParent(b.startContainer,"PRE"))){var d=1==a?ja(e.fromRangeStart(b)):fa(e.fromRangeStart(b));if(!d){d=n.dom.create(n.settings.forced_root_block);if(!h.ie||11<=h.ie)d.innerHTML='<br data-mce-bogus="1">';1==a?n.$(c).after(d):n.$(c).before(d);n.selection.select(d,!0);n.selection.collapse()}}}function P(a,b,c,d){return(b=I(a,b,c,d))?b:(b=O(a,d))?b:null}function S(b,c,
d){a:{var e=G(d);var g=M(b,d);c=c(da,a.isAboveLine(1),g);var k=v.filter(c,a.isLine(1));c=v.last(g.getClientRects());x(g)&&(e=g.getNode());t(g)&&(e=g.getNode(!0));if(c)if(c=c.left,(g=f.findClosestClientRect(k,c))&&z(g.node))e=Math.abs(c-g.left),c=Math.abs(c-g.right),e=K(b,g.node,e<c);else{if(e){e=a.positionsUntil(b,da,a.isAboveLine(1),e);if(g=f.findClosestClientRect(v.filter(e,a.isLine(1)),c)){e=E(g.position.toRange());break a}if(g=v.last(v.filter(e,a.isLine(0)))){e=E(g.position.toRange());break a}}e=
void 0}else e=null}return e?e:(e=O(b,d))?e:null}function L(a){a=ta(a);a.attr("data-mce-caret")&&(J.hide(),a.removeAttr("data-mce-caret"),a.removeAttr("data-mce-bogus"),a.removeAttr("style"),F(n.selection.getRng()),n.selection.scrollIntoView(a[0],void 0))}function C(a){a=b.normalizeRange(1,da,a);a=e.fromRangeStart(a);if(z(a.getNode()))return K(1,a.getNode(),!a.isAtEnd());if(z(a.getNode(!0)))return K(1,a.getNode(!0),!1);a=n.dom.getParent(a.getNode(),l.or(z,A));if(z(a))return K(1,a,!1);J.hide();return null}
function E(a){var b;return a&&a.collapsed?(b=C(a))?b:a:a}function U(a){var b,c,f;if(!z(a))return null;if(z(a.previousSibling))var g=a.previousSibling;(c=fa(e.before(a)))||(b=ja(e.after(a)));b&&k(b.getNode())&&(f=b.getNode());d.remove(a.previousSibling);d.remove(a.nextSibling);n.dom.remove(a);aa();if(n.dom.isEmpty(n.getBody()))n.setContent(""),n.focus();else return g?e.after(g).toRange():f?e.before(f).toRange():c?c.toRange():b?b.toRange():null}function N(a){var b=n.schema.getTextBlockElements();return a.nodeName in
b}function R(a,b,c){var d=n.dom;var f=d.getParent(b.getNode(),d.isBlock);var g=d.getParent(c.getNode(),d.isBlock);if(-1===a){if(a=c.getNode(!0),t(c)&&D(a))return N(f)?(n.dom.isEmpty(f)&&d.remove(f),e.after(a).toRange()):U(c.getNode(!0))}else if(a=b.getNode(),x(b)&&D(a))return N(g)?(n.dom.isEmpty(g)&&d.remove(g),e.before(a).toRange()):U(b.getNode());if(f===g||!N(f)||!N(g))return null;for(;b=f.firstChild;)g.appendChild(b);n.dom.remove(f);return c.toRange()}function Y(a,b,c,e){if(!e.collapsed){var f=
G(e);if(z(f))return E(U(f))}f=M(a,e);if(c(f)&&d.isCaretContainerBlock(e.startContainer))return(a=-1==a?ca.prev(f):ca.next(f))?E(a.toRange()):e;if(b(f))return E(U(f.getNode(-1==a)));e=-1==a?ca.prev(f):ca.next(f);if(b(e))return-1===a?R(a,f,e):R(a,e,f)}function X(){function b(a,b){var c=b(n.selection.getRng());c&&!a.isDefaultPrevented()&&(a.preventDefault(),F(c))}function c(a){for(var b=n.getBody();a&&a!=b;){if(A(a)||z(a))return a;a=a.parentNode}return null}function d(a,b,c){return c.collapsed?!1:v.reduce(c.getClientRects(),
function(c,d){return c||q.containsXY(d,a,b)},!1)}function k(){var a=c(n.selection.getNode());if(A(a)&&D(a)&&n.dom.isEmpty(a)){var b=n.dom.create("br",{"data-mce-bogus":"1"});n.$(a).empty().append(b);n.selection.setRng(e.before(b).toRange())}}var l=w(P,1,ja,x),m=w(P,-1,fa,t),p=w(Y,1,x,t),u=w(Y,-1,t,x),ha=w(S,-1,a.upUntil),G=w(S,1,a.downUntil);n.on("mouseup",function(){var a=n.selection.getRng();a.collapsed&&F(C(a))});n.on("click",function(a){var b;(b=c(a.target))&&z(b)&&(a.preventDefault(),n.focus())});
(function(a){var b=!1;a.on("touchstart",function(){b=!1});a.on("touchmove",function(){b=!0});a.on("touchend",function(a){var d=c(a.target);z(d)?b||(a.preventDefault(),Q(T(d))):aa()})})(n);n.on("mousedown",function(a){var b;if(b=c(a.target))z(b)?(a.preventDefault(),Q(T(b))):(aa(),d(a.clientX,a.clientY,n.selection.getRng())||n.selection.placeCaretAt(a.clientX,a.clientY));else if(aa(),J.hide(),b=f.closestCaret(da,a.clientX,a.clientY)){var k=b.node,l=n.dom.getParent(a.target,n.dom.isBlock);k=n.dom.getParent(k,
n.dom.isBlock);var m;(m=!l)||(m=n.dom.getParent(l,n.dom.isBlock),k=n.dom.getParent(k,n.dom.isBlock),m=m===k);(k=m)||(k=new g(l),l.firstChild?(l=e.before(l.firstChild),l=(l=k.next(l))&&!x(l)&&!t(l)):l=!1,k=!l);k&&(a.preventDefault(),n.getBody().focus(),F(K(1,b.node,b.before)))}});n.on("keydown",function(a){if(!r.modifierPressed(a))switch(a.keyCode){case r.RIGHT:b(a,l);break;case r.DOWN:b(a,G);break;case r.LEFT:b(a,m);break;case r.UP:b(a,ha);break;case r.DELETE:b(a,p);break;case r.BACKSPACE:b(a,u);
break;default:z(n.selection.getNode())&&a.preventDefault()}});n.on("keyup compositionstart",function(a){var b=ta("*[data-mce-caret]")[0];b&&("compositionstart"==a.type?(a.preventDefault(),a.stopPropagation(),L(b)):"&nbsp;"!=b.innerHTML&&L(b));switch(a.keyCode){case r.DELETE:var c=k();break;case r.BACKSPACE:c=k()}c&&a.preventDefault()},!0);n.on("cut",function(){var a=n.selection.getNode();z(a)&&B.setEditorTimeout(n,function(){F(E(U(a)))})});n.on("getSelectionRange",function(a){var b=a.range;ia&&(ia.parentNode?
(b=b.cloneRange(),b.selectNode(ia),a.range=b):ia=null)});n.on("setSelectionRange",function(a){var b;if(b=Q(a.range))a.range=b});n.on("focus",function(){B.setEditorTimeout(n,function(){n.selection.setRng(E(n.selection.getRng()))},0)});n.on("copy",function(a){var b=a.clipboardData;if(!a.isDefaultPrevented()&&a.clipboardData&&!h.ie){var c;if(c=(c=n.dom.get(W))?c.getElementsByTagName("*")[0]:c)a.preventDefault(),b.clearData(),b.setData("text/html",c.outerHTML),b.setData("text/plain",c.outerText)}});y.init(n)}
function ha(){var a=n.contentStyles;a.push(J.getCss());a.push(".mce-content-body .mce-offscreen-selection {position: absolute;left: -9999999999px;}.mce-content-body *[contentEditable=false] {cursor: default;}.mce-content-body *[contentEditable=true] {cursor: text;}")}function Q(a){var b=n.$,c=n.dom;if(!a)return aa(),null;if(a.collapsed){aa();var e=a;if(!d.isCaretContainer(e.startContainer)&&!d.isCaretContainer(e.endContainer)){e=M(1,a);if(z(e.getNode()))return K(1,e.getNode(),!e.isAtEnd());if(z(e.getNode(!0)))return K(1,
e.getNode(!0),!1)}return null}var f=a.startContainer;var g=a.startOffset;a=a.endOffset;3==f.nodeType&&0==g&&z(f.parentNode)&&(f=f.parentNode,g=c.nodeIndex(f),f=f.parentNode);if(1!=f.nodeType)return aa(),null;a==g+1&&(e=f.childNodes[g]);if(!z(e))return aa(),null;var k=f=e.cloneNode(!0);a=n.fire("ObjectSelected",{target:e,targetClone:k});if(a.isDefaultPrevented())return aa(),null;k=a.targetClone;g=b("#"+W);0===g.length&&(g=b('<div data-mce-bogus="all" class="mce-offscreen-selection"></div>').attr("id",
W),g.appendTo(n.getBody()));a=n.dom.createRng();k===f&&h.ie?(g.empty().append(u.ZWSP).append(k).append(u.ZWSP),a.setStart(g[0].firstChild,0),a.setEnd(g[0].lastChild,1)):(g.empty().append("\u00a0").append(k).append("\u00a0"),a.setStart(g[0].firstChild,1),a.setEnd(g[0].lastChild,0));g.css({top:c.getPos(e,n.getBody()).y});g[0].focus();b=n.selection.getSel();b.removeAllRanges();b.addRange(a);n.$("*[data-mce-selected]").removeAttr("data-mce-selected");e.setAttribute("data-mce-selected",1);ia=e;return a}
function aa(){ia&&(ia.removeAttribute("data-mce-selected"),n.$("#"+W).remove(),ia=null)}var da=n.getBody(),ca=new g(da),ja=w(m,ca.next),fa=w(m,ca.prev),J=new c(n.getBody(),D),W="sel-"+n.dom.uniqueId(),ia,ta=n.$;h.ceFalse&&(X(),ha());return{showBlockCaretContainer:L,hideFakeCaret:function(){J.hide()},destroy:function(){J.destroy();ia=null}}}});x("tinymce/util/Uuid",[],function(){var h=0,g=function(){var e=function(){return Math.round(4294967295*Math.random()).toString(36)};return"s"+(new Date).getTime().toString(36)+
e()+e()+e()};return{uuid:function(e){return e+h++ +g()}}});x("tinymce/Editor","tinymce/dom/DOMUtils tinymce/dom/DomQuery tinymce/AddOnManager tinymce/NodeChange tinymce/html/Node tinymce/dom/Serializer tinymce/html/Serializer tinymce/dom/Selection tinymce/Formatter tinymce/UndoManager tinymce/EnterKey tinymce/ForceBlocks tinymce/EditorCommands tinymce/util/URI tinymce/dom/ScriptLoader tinymce/dom/EventUtils tinymce/WindowManager tinymce/NotificationManager tinymce/html/Schema tinymce/html/DomParser tinymce/util/Quirks tinymce/Env tinymce/util/Tools tinymce/util/Delay tinymce/EditorObservable tinymce/Mode tinymce/Shortcuts tinymce/EditorUpload tinymce/SelectionOverrides tinymce/util/Uuid".split(" "),
function(h,g,e,d,b,c,a,f,p,n,q,r,l,v,B,y,u,m,w,A,z,k,t,x,G,F,V,H,K,T){function D(a,b,c){var d=this;var f=d.documentBaseUrl=c.documentBaseURL;var m=c.baseURI;var h=c.defaultSettings;b=S({id:a,theme:"modern",delta_width:0,delta_height:0,popup_css:"",plugins:"",document_base_url:f,add_form_submit_trigger:!0,submit_patch:!0,add_unload_trigger:!0,convert_urls:!0,relative_urls:!0,remove_script_host:!0,object_resizing:!0,doctype:"<!DOCTYPE html>",visual:!0,font_size_style_values:"xx-small,x-small,small,medium,large,x-large,xx-large",
font_size_legacy_values:"xx-small,small,medium,large,x-large,xx-large,300%",forced_root_block:"p",hidden_input:!0,padd_empty_editor:!0,render_ui:!0,indentation:"30px",inline_styles:!0,convert_fonts_to_spans:!0,indent:"simple",indent_before:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,article,hgroup,aside,figure,figcaption,option,optgroup,datalist",indent_after:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,article,hgroup,aside,figure,figcaption,option,optgroup,datalist",
validate:!0,entity_encoding:"named",url_converter:d.convertURL,url_converter_scope:d,ie7_compat:!0},h,b);h&&h.external_plugins&&b.external_plugins&&(b.external_plugins=S({},h.external_plugins,b.external_plugins));d.settings=b;e.language=b.language||"en";e.languageLoad=b.language_load;e.baseURL=c.baseURL;d.id=b.id=a;d.setDirty(!1);d.plugins={};d.documentBaseURI=new v(b.document_base_url||f,{base_uri:m});d.baseURI=m;d.contentCSS=[];d.contentStyles=[];d.shortcuts=new V(d);d.loadedCSS={};d.editorCommands=
new l(d);b.target&&(d.targetElm=b.target);d.suffix=c.suffix;d.editorManager=c;d.inline=b.inline;d.settings.content_editable=d.inline;b.cache_suffix&&(k.cacheSuffix=b.cache_suffix.replace(/^[\?\&]+/,""));!1===b.override_viewport&&(k.overrideViewPort=!1);c.fire("SetupEditor",d);d.execCallback("setup",d);d.$=g.overrideDefaults(function(){return{context:d.inline?d.getBody():d.getDoc(),element:d.getBody()}})}var I=h.DOM,O=e.ThemeManager,P=e.PluginManager,S=t.extend,L=t.each,C=t.explode,E=t.inArray,U=t.trim,
N=t.resolve,R=y.Event,Y=k.gecko,Z=k.ie;D.prototype={render:function(){function a(){I.unbind(window,"ready",a);b.render()}var b=this,c=b.settings,d=b.id,e=b.suffix;if(!R.domLoaded)I.bind(window,"ready",a);else if(b.getElement()&&k.contentEditable){c.inline?b.inline=!0:(b.orgVisibility=b.getElement().style.visibility,b.getElement().style.visibility="hidden");var f=b.getElement().form||I.getParent(d,"form");f&&(b.formElement=f,c.hidden_input&&!/TEXTAREA|INPUT/i.test(b.getElement().nodeName)&&(I.insertAfter(I.create("input",
{type:"hidden",name:d}),d),b.hasHiddenInput=!0),b.formEventDelegate=function(a){b.fire(a.type,a)},I.bind(f,"submit reset",b.formEventDelegate),b.on("reset",function(){b.setContent(b.startContent,{format:"raw"})}),!c.submit_patch||f.submit.nodeType||f.submit.length||f._mceOldSubmit||(f._mceOldSubmit=f.submit,f.submit=function(){b.editorManager.triggerSave();b.setDirty(!1);return f._mceOldSubmit(f)}));b.windowManager=new u(b);b.notificationManager=new m(b);if("xml"==c.encoding)b.on("GetContent",function(a){a.save&&
(a.content=I.encode(a.content))});if(c.add_form_submit_trigger)b.on("submit",function(){b.initialized&&b.save()});c.add_unload_trigger&&(b._beforeUnload=function(){!b.initialized||b.destroyed||b.isHidden()||b.save({format:"raw",no_events:!0,set_dirty:!1})},b.editorManager.on("BeforeUnload",b._beforeUnload));b.editorManager.add(b);(function(){var a=B.ScriptLoader;c.language&&"en"!=c.language&&!c.language_url&&(c.language_url=b.editorManager.baseURL+"/langs/"+c.language+".js");c.language_url&&a.add(c.language_url);
if(c.theme&&"function"!=typeof c.theme&&"-"!=c.theme.charAt(0)&&!O.urls[c.theme]){var d=c.theme_url;d=d?b.documentBaseURI.toAbsolute(d):"themes/"+c.theme+"/theme"+e+".js";O.load(c.theme,d)}t.isArray(c.plugins)&&(c.plugins=c.plugins.join(" "));L(c.external_plugins,function(a,b){P.load(b,a);c.plugins+=" "+b});L(c.plugins.split(/[ ,]/),function(a){(a=U(a))&&!P.urls[a]&&("-"==a.charAt(0)?(a=a.substr(1,a.length),a=P.dependencies(a),L(a,function(a){a=P.createUrl({prefix:"plugins/",resource:a,suffix:"/plugin"+
e+".js"},a);P.load(a.resource,a)})):P.load(a,{prefix:"plugins/",resource:a,suffix:"/plugin"+e+".js"}))});a.loadQueue(function(){b.removed||b.init()})})()}},init:function(){function a(c){var d=P.get(c);var e=P.urls[c]||b.documentBaseUrl.replace(/\/$/,"");c=U(c);d&&-1===E(f,c)&&(L(P.dependencies(c),function(b){a(b)}),b.plugins[c]||(d=new d(b,e,b.$),b.plugins[c]=d,d.init&&(d.init(b,e),f.push(c))))}var b=this,c=b.settings,d=b.getElement(),e,f=[];b.rtl=c.rtl_ui||b.editorManager.i18n.rtl;b.editorManager.i18n.setCode(c.language);
c.aria_label=c.aria_label||I.getAttrib(d,"aria-label",b.getLang("aria.rich_text_area"));b.fire("ScriptsLoaded");if(c.theme)if("function"!=typeof c.theme){c.theme=c.theme.replace(/-/,"");var g=O.get(c.theme);b.theme=new g(b,O.urls[c.theme]);b.theme.init&&b.theme.init(b,O.urls[c.theme]||b.documentBaseUrl.replace(/\/$/,""),b.$)}else b.theme=c.theme;L(c.plugins.replace(/\-/g,"").split(/[ ,]/),a);if(c.render_ui&&b.theme){b.orgDisplay=d.style.display;if("function"!=typeof c.theme){var l=c.width||d.style.width||
d.offsetWidth;var m=c.height||d.style.height||d.offsetHeight;g=c.min_height||100;var h=/^[0-9\.]+(|px)$/i;h.test(""+l)&&(l=Math.max(parseInt(l,10),100));h.test(""+m)&&(m=Math.max(parseInt(m,10),g));l=b.theme.renderUI({targetNode:d,width:l,height:m,deltaWidth:c.delta_width,deltaHeight:c.delta_height});c.content_editable||(m=(l.iframeHeight||m)+("number"==typeof m?l.deltaHeight||0:""),m<g&&(m=g))}else l=c.theme(b,d),l.editorContainer.nodeType&&(l.editorContainer=l.editorContainer.id=l.editorContainer.id||
b.id+"_parent"),l.iframeContainer.nodeType&&(l.iframeContainer=l.iframeContainer.id=l.iframeContainer.id||b.id+"_iframecontainer"),m=l.iframeHeight||d.offsetHeight;b.editorContainer=l.editorContainer}c.content_css&&L(C(c.content_css),function(a){b.contentCSS.push(b.documentBaseURI.toAbsolute(a))});c.content_style&&b.contentStyles.push(c.content_style);if(c.content_editable)return d=m=l=null,b.initContentBody();b.iframeHTML=c.doctype+"<html><head>";c.document_base_url!=b.documentBaseUrl&&(b.iframeHTML+=
'<base href="'+b.documentBaseURI.getURI()+'" />');!k.caretAfter&&c.ie7_compat&&(b.iframeHTML+='<meta http-equiv="X-UA-Compatible" content="IE=7" />');b.iframeHTML+='<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />';if(!/#$/.test(document.location.href))for(d=0;d<b.contentCSS.length;d++)g=b.contentCSS[d],b.iframeHTML+='<link type="text/css" rel="stylesheet" href="'+t._addCacheSuffix(g)+'" />',b.loadedCSS[g]=!0;d=c.body_id||"tinymce";-1!=d.indexOf("=")&&(d=b.getParam("body_id",
"","hash"),d=d[b.id]||d);g=c.body_class||"";-1!=g.indexOf("=")&&(g=b.getParam("body_class","","hash"),g=g[b.id]||"");c.content_security_policy&&(b.iframeHTML+='<meta http-equiv="Content-Security-Policy" content="'+c.content_security_policy+'" />');b.iframeHTML+='</head><body id="'+d+'" class="mce-content-body '+g+'" data-id="'+b.id+'"><br></body></html>';c='javascript:(function(){document.open();document.domain="'+document.domain+'";var ed = window.parent.tinymce.get("'+b.id+'");document.write(ed.iframeHTML);document.close();ed.initContentBody(true);})()';
document.domain!=location.hostname&&k.ie&&12>k.ie&&(e=c);var p=I.create("iframe",{id:b.id+"_ifr",frameBorder:"0",allowTransparency:"true",title:b.editorManager.translate("Rich Text Area. Press ALT-F9 for menu. Press ALT-F10 for toolbar. Press ALT-0 for help"),style:{width:"100%",height:m,display:"block"}});p.onload=function(){p.onload=null;b.fire("load")};I.setAttrib(p,"src",e||'javascript:""');b.contentAreaContainer=l.iframeContainer;b.iframeElement=p;m=I.add(l.iframeContainer,p);if(Z)try{b.getDoc()}catch(la){m.src=
e=c}l.editorContainer&&(I.get(l.editorContainer).style.display=b.orgDisplay,b.hidden=I.isHidden(l.editorContainer));b.getElement().style.display="none";I.setAttrib(b.id,"aria-hidden",!0);e||b.initContentBody();d=m=l=null},initContentBody:function(a){var e=this,g=e.settings,k=e.getElement(),l=e.getDoc();g.inline||(e.getElement().style.visibility=e.orgVisibility);a||g.content_editable||(l.open(),l.write(e.iframeHTML),l.close());g.content_editable&&(e.on("remove",function(){var a=this.getBody();I.removeClass(a,
"mce-content-body");I.removeClass(a,"mce-edit-focus");I.setAttrib(a,"contentEditable",null)}),I.addClass(k,"mce-content-body"),e.contentDocument=l=g.content_document||document,e.contentWindow=g.content_window||window,e.bodyElement=k,g.content_document=g.content_window=null,g.root_name=k.nodeName.toLowerCase());a=e.getBody();a.disabled=!0;e.readonly=g.readonly;e.readonly||(e.inline&&"static"==I.getStyle(a,"position",!0)&&(a.style.position="relative"),a.contentEditable=e.getParam("content_editable_state",
!0));a.disabled=!1;e.editorUpload=new H(e);e.schema=new w(g);e.dom=new h(l,{keep_values:!0,url_converter:e.convertURL,url_converter_scope:e,hex_colors:g.force_hex_style_colors,class_filter:g.class_filter,update_styles:!0,root_element:e.inline?e.getBody():null,collect:g.content_editable,schema:e.schema,onSetAttrib:function(a){e.fire("SetAttrib",a)}});e.parser=new A(g,e.schema);e.parser.addAttributeFilter("src,href,style,tabindex",function(a,b){for(var c=a.length,d,f=e.dom,g,k;c--;)d=a[c],g=d.attr(b),
k="data-mce-"+b,d.attributes.map[k]||0===g.indexOf("data:")||0===g.indexOf("blob:")||("style"===b?(g=f.serializeStyle(f.parseStyle(g),d.name),g.length||(g=null),d.attr(k,g),d.attr(b,g)):"tabindex"===b?(d.attr(k,g),d.attr(b,null)):d.attr(k,e.convertURL(g,b,d.name)))});e.parser.addNodeFilter("script",function(a){for(var b=a.length,c,d;b--;)c=a[b],d=c.attr("type")||"no/type",0!==d.indexOf("mce-")&&c.attr("type","mce-"+d)});e.parser.addNodeFilter("#cdata",function(a){for(var b=a.length,c;b--;)c=a[b],
c.type=8,c.name="#comment",c.value="[CDATA["+c.value+"]]"});e.parser.addNodeFilter("p,h1,h2,h3,h4,h5,h6,div",function(a){for(var c=a.length,d,f=e.schema.getNonEmptyElements();c--;)d=a[c],d.isEmpty(f)&&(d.append(new b("br",1)).shortEnded=!0)});e.serializer=new c(g,e);e.selection=new f(e.dom,e.getWin(),e.serializer,e);e.formatter=new p(e);e.undoManager=new n(e);e.forceBlocks=new r(e);e.enterKey=new q(e);e._nodeChangeDispatcher=new d(e);e._selectionOverrides=new K(e);e.fire("PreInit");g.browser_spellcheck||
g.gecko_spellcheck||(l.body.spellcheck=!1,I.setAttrib(a,"spellcheck","false"));e.quirks=new z(e);e.fire("PostRender");g.directionality&&(a.dir=g.directionality);g.nowrap&&(a.style.whiteSpace="nowrap");if(g.protect)e.on("BeforeSetContent",function(a){L(g.protect,function(b){a.content=a.content.replace(b,function(a){return"\x3c!--mce:protected "+escape(a)+"--\x3e"})})});e.on("SetContent",function(){e.addVisual(e.getBody())});if(g.padd_empty_editor)e.on("PostProcess",function(a){a.content=a.content.replace(/^(<p[^>]*>(&nbsp;|&#160;|\s|\u00a0|)<\/p>[\r\n]*|<br \/>[\r\n]*)$/,
"")});e.load({initial:!0,format:"html"});e.startContent=e.getContent({format:"raw"});e.initialized=!0;e.bindPendingEventDelegates();e.fire("init");e.focus(!0);e.nodeChanged({initial:!0});e.execCallback("init_instance_callback",e);e.on("compositionstart compositionend",function(a){e.composing="compositionstart"===a.type});if(0<e.contentStyles.length){var m="";L(e.contentStyles,function(a){m+=a+"\r\n"});e.dom.addStyle(m)}L(e.contentCSS,function(a){e.loadedCSS[a]||(e.dom.loadCSS(a),e.loadedCSS[a]=!0)});
g.auto_focus&&x.setEditorTimeout(e,function(){var a=!0===g.auto_focus?e:e.editorManager.get(g.auto_focus);a.destroyed||a.focus()},100);k=l=a=null},focus:function(a){function b(a){return c.dom.getParent(a,function(a){return"true"===c.dom.getContentEditable(a)})}var c=this,d=c.selection,e=c.settings.content_editable,f,g=c.getDoc(),l=c.getBody();if(!a){a=d.getRng();a.item&&(f=a.item(0));c.quirks.refreshContentEditable();a=b(d.getNode());if(c.$.contains(l,a)){a.focus();d.normalize();c.editorManager.setActive(c);
return}e||(k.opera||c.getBody().focus(),c.getWin().focus());if(Y||e){if(l.setActive)try{l.setActive()}catch(W){l.focus()}else l.focus();e&&d.normalize()}f&&f.ownerDocument==g&&(a=g.body.createControlRange(),a.addElement(f),a.select())}c.editorManager.setActive(c)},execCallback:function(a){var b=this.settings[a],c;if(b)return this.callbackLookup&&(c=this.callbackLookup[a])&&(b=c.func,c=c.scope),"string"===typeof b&&(c=(c=b.replace(/\.\w+$/,""))?N(c):0,b=N(b),this.callbackLookup=this.callbackLookup||
{},this.callbackLookup[a]={func:b,scope:c}),b.apply(c||this,Array.prototype.slice.call(arguments,1))},translate:function(a){var b=this.settings.language||"en",c=this.editorManager.i18n;if(!a)return"";a=c.data[b+"."+a]||a.replace(/\{\#([^\}]+)\}/g,function(a,d){return c.data[b+"."+d]||"{#"+d+"}"});return this.editorManager.translate(a)},getLang:function(a,b){return this.editorManager.i18n.data[(this.settings.language||"en")+"."+a]||(b!==X?b:"{#"+a+"}")},getParam:function(a,b,c){a=a in this.settings?
this.settings[a]:b;if("hash"===c){var d={};"string"===typeof a?L(0<a.indexOf("=")?a.split(/[;,](?![^=;,]*(?:[;,]|$))/):a.split(","),function(a){a=a.split("=");1<a.length?d[U(a[0])]=U(a[1]):d[U(a[0])]=U(a)}):d=a;return d}return a},nodeChanged:function(a){this._nodeChangeDispatcher.nodeChanged(a)},addButton:function(a,b){var c=this;b.cmd&&(b.onclick=function(){c.execCommand(b.cmd)});b.text||b.icon||(b.icon=a);c.buttons=c.buttons||{};b.tooltip=b.tooltip||b.title;c.buttons[a]=b},addMenuItem:function(a,
b){var c=this;b.cmd&&(b.onclick=function(){c.execCommand(b.cmd)});c.menuItems=c.menuItems||{};c.menuItems[a]=b},addContextToolbar:function(a,b){var c=this;c.contextToolbars=c.contextToolbars||[];if("string"==typeof a){var d=a;a=function(a){return c.dom.is(a,d)}}c.contextToolbars.push({id:T.uuid("mcet"),predicate:a,items:b})},addCommand:function(a,b,c){this.editorCommands.addCommand(a,b,c)},addQueryStateHandler:function(a,b,c){this.editorCommands.addQueryStateHandler(a,b,c)},addQueryValueHandler:function(a,
b,c){this.editorCommands.addQueryValueHandler(a,b,c)},addShortcut:function(a,b,c,d){this.shortcuts.add(a,b,c,d)},execCommand:function(a,b,c,d){return this.editorCommands.execCommand(a,b,c,d)},queryCommandState:function(a){return this.editorCommands.queryCommandState(a)},queryCommandValue:function(a){return this.editorCommands.queryCommandValue(a)},queryCommandSupported:function(a){return this.editorCommands.queryCommandSupported(a)},show:function(){this.hidden&&(this.hidden=!1,this.inline?this.getBody().contentEditable=
!0:(I.show(this.getContainer()),I.hide(this.id)),this.load(),this.fire("show"))},hide:function(){var a=this.getDoc();this.hidden||(Z&&a&&!this.inline&&a.execCommand("SelectAll"),this.save(),this.inline?(this.getBody().contentEditable=!1,this==this.editorManager.focusedEditor&&(this.editorManager.focusedEditor=null)):(I.hide(this.getContainer()),I.setStyle(this.id,"display",this.orgDisplay)),this.hidden=!0,this.fire("hide"))},isHidden:function(){return!!this.hidden},setProgressState:function(a,b){this.fire("ProgressState",
{state:a,time:b})},load:function(a){var b=this.getElement();if(b){a=a||{};a.load=!0;var c=this.setContent(b.value!==X?b.value:b.innerHTML,a);a.element=b;a.no_events||this.fire("LoadContent",a);a.element=null;return c}},save:function(a){var b=this,c=b.getElement(),d;if(c&&b.initialized){a=a||{};a.save=!0;a.element=c;var e=a.content=b.getContent(a);a.no_events||b.fire("SaveContent",a);"raw"==a.format&&b.fire("RawSaveContent",a);e=a.content;/TEXTAREA|INPUT/i.test(c.nodeName)?c.value=e:(b.inline||(c.innerHTML=
e),(d=I.getParent(b.id,"form"))&&L(d.elements,function(a){if(a.name==b.id)return a.value=e,!1}));a.element=c=null;!1!==a.set_dirty&&b.setDirty(!1);return e}},setContent:function(b,c){var d=this.getBody(),e;c=c||{};c.format=c.format||"html";c.set=!0;c.content=b;c.no_events||this.fire("BeforeSetContent",c);b=c.content;if(0===b.length||/^\s+$/.test(b)){var f=Z&&11>Z?"":'<br data-mce-bogus="1">';"TABLE"==d.nodeName?b="<tr><td>"+f+"</td></tr>":/^(UL|OL)$/.test(d.nodeName)&&(b="<li>"+f+"</li>");(e=this.settings.forced_root_block)&&
this.schema.isValidChild(d.nodeName.toLowerCase(),e.toLowerCase())?b=this.dom.createHTML(e,this.settings.forced_root_block_attrs,f):Z||b||(b='<br data-mce-bogus="1">');this.dom.setHTML(d,b);this.fire("SetContent",c)}else"raw"!==c.format&&(b=(new a({validate:this.validate},this.schema)).serialize(this.parser.parse(b,{isRootContent:!0}))),c.content=U(b),this.dom.setHTML(d,c.content),c.no_events||this.fire("SetContent",c);return c.content},getContent:function(a){var b=this.getBody();a=a||{};a.format=
a.format||"html";a.get=!0;a.getInner=!0;a.no_events||this.fire("BeforeGetContent",a);b="raw"==a.format?this.serializer.getTrimmedContent():"text"==a.format?b.innerText||b.textContent:this.serializer.serialize(b,a);a.content="text"!=a.format?U(b):b;a.no_events||this.fire("GetContent",a);return a.content},insertContent:function(a,b){b&&(a=S({content:a},b));this.execCommand("mceInsertContent",!1,a)},isDirty:function(){return!this.isNotDirty},setDirty:function(a){var b=!this.isNotDirty;this.isNotDirty=
!a;a&&a!=b&&this.fire("dirty")},setMode:function(a){F.setMode(this,a)},getContainer:function(){this.container||(this.container=I.get(this.editorContainer||this.id+"_parent"));return this.container},getContentAreaContainer:function(){return this.contentAreaContainer},getElement:function(){this.targetElm||(this.targetElm=I.get(this.id));return this.targetElm},getWin:function(){var a;!this.contentWindow&&(a=this.iframeElement)&&(this.contentWindow=a.contentWindow);return this.contentWindow},getDoc:function(){var a;
!this.contentDocument&&(a=this.getWin())&&(this.contentDocument=a.document);return this.contentDocument},getBody:function(){var a=this.getDoc();return this.bodyElement||(a?a.body:null)},convertURL:function(a,b,c){var d=this.settings;return d.urlconverter_callback?this.execCallback("urlconverter_callback",a,c,!0,b):!d.convert_urls||c&&"LINK"==c.nodeName||0===a.indexOf("file:")||0===a.length?a:d.relative_urls?this.documentBaseURI.toRelative(a):a=this.documentBaseURI.toAbsolute(a,d.remove_script_host)},
addVisual:function(a){var b=this,c=b.settings,d=b.dom,e;a=a||b.getBody();b.hasVisual===X&&(b.hasVisual=c.visual);L(d.select("table,a",a),function(a){var f;switch(a.nodeName){case "TABLE":e=c.visual_table_class||"mce-item-table";(f=d.getAttrib(a,"border"))&&"0"!=f||!b.hasVisual?d.removeClass(a,e):d.addClass(a,e);break;case "A":d.getAttrib(a,"href",!1)||(f=d.getAttrib(a,"name")||a.id,e=c.visual_anchor_class||"mce-item-anchor",f&&b.hasVisual?d.addClass(a,e):d.removeClass(a,e))}});b.fire("VisualAid",
{element:a,hasVisual:b.hasVisual})},remove:function(){this.removed||(this.save(),this.removed=1,this.unbindAllNativeEvents(),this.hasHiddenInput&&I.remove(this.getElement().nextSibling),this.inline||(Z&&10>Z&&this.getDoc().execCommand("SelectAll",!1,null),I.setStyle(this.id,"display",this.orgDisplay),this.getBody().onload=null),this.fire("remove"),this.editorManager.remove(this),I.remove(this.getContainer()),this._selectionOverrides.destroy(),this.editorUpload.destroy(),this.destroy())},destroy:function(a){if(!this.destroyed)if(a||
this.removed){a||(this.editorManager.off("beforeunload",this._beforeUnload),this.theme&&this.theme.destroy&&this.theme.destroy(),this.selection.destroy(),this.dom.destroy());if(a=this.formElement)a._mceOldSubmit&&(a.submit=a._mceOldSubmit,a._mceOldSubmit=null),I.unbind(a,"submit reset",this.formEventDelegate);this.iframeElement=this.targetElm=this.bodyElement=this.contentDocument=this.contentWindow=this.contentAreaContainer=this.formElement=this.container=this.editorContainer=null;this.selection&&
(this.selection=this.selection.win=this.selection.dom=this.selection.dom.doc=null);this.destroyed=1}else this.remove()},uploadImages:function(a){return this.editorUpload.uploadImages(a)},_scanForImages:function(){return this.editorUpload.scanForImages()}};S(D.prototype,G);return D});x("tinymce/util/I18n",[],function(){var h={},g="en";return{setCode:function(e){e&&(g=e,this.rtl=this.data[e]?"rtl"===this.data[e]._dir:!1)},getCode:function(){return g},rtl:!1,add:function(e,d){var b=h[e];b||(h[e]=b={});
for(var c in d)b[c]=d[c];this.setCode(e)},translate:function(e){var d;(d=h[g])||(d={});if("undefined"==typeof e)return e;if("string"!=typeof e&&e.raw)return e.raw;if(e.push){var b=e.slice(1);e=(d[e[0]]||e[0]).replace(/\{([0-9]+)\}/g,function(c,a){return b[a]})}return(d[e]||e).replace(/{context:\w+}$/,"")},data:h}});x("tinymce/FocusManager",["tinymce/dom/DOMUtils","tinymce/util/Delay","tinymce/Env"],function(h,g,e){function d(h){function p(){try{return document.activeElement}catch(q){return document.body}}
h.on("AddEditor",function(q){var n=q.editor;n.on("init",function(){if(n.inline||e.ie){if("onbeforedeactivate"in document&&9>e.ie)n.dom.bind(n.getBody(),"beforedeactivate",function(a){if(a.target==n.getBody())try{n.lastRng=n.selection.getRng()}catch(v){}});else n.on("nodechange mouseup keyup",function(a){var b=p();"nodechange"==a.type&&a.selectionChange||(b&&b.id==n.id+"_ifr"&&(b=n.getBody()),n.dom.isChildOf(b,n.getBody())&&(n.lastRng=n.selection.getRng()))});e.webkit&&!b&&(b=function(){var a=h.activeEditor;
a&&a.selection&&(a=a.selection.getRng())&&!a.collapsed&&(n.lastRng=a)},f.bind(document,"selectionchange",b))}});n.on("setcontent",function(){n.lastRng=null});n.on("mousedown",function(){n.selection.lastFocusBookmark=null});n.on("focusin",function(){var a=h.focusedEditor;if(n.selection.lastFocusBookmark){var b=n.selection.lastFocusBookmark;if(b.startContainer){var c=n.getDoc().createRange();c.setStart(b.startContainer,b.startOffset);c.setEnd(b.endContainer,b.endOffset)}else c=b;n.selection.lastFocusBookmark=
null;n.selection.setRng(c)}a!=n&&(a&&a.fire("blur",{focusedEditor:n}),h.setActive(n),h.focusedEditor=n,n.fire("focus",{blurredEditor:a}),n.focus(!0));n.lastRng=null});n.on("focusout",function(){g.setEditorTimeout(n,function(){var a=h.focusedEditor;f.getParent(p(),d.isEditorUIElement)||a!=n||(n.fire("blur",{focusedEditor:null}),h.focusedEditor=null,n.selection&&(n.selection.lastFocusBookmark=null))})});c||(c=function(a){var b=h.activeEditor;a=a.target;if(b&&a.ownerDocument==document){if(b.selection&&
a!=b.getBody()){var c=b.selection;var e=b.dom;var g=b.lastRng;e=g&&g.startContainer?e.isChildOf(g.startContainer,e.getRoot())&&e.isChildOf(g.endContainer,e.getRoot())?{startContainer:g.startContainer,startOffset:g.startOffset,endContainer:g.endContainer,endOffset:g.endOffset}:void 0:g;c.lastFocusBookmark=e}a==document.body||f.getParent(a,d.isEditorUIElement)||h.focusedEditor!=b||(b.fire("blur",{focusedEditor:null}),h.focusedEditor=null)}},f.bind(document,"focusin",c));n.inline&&!a&&(a=function(a){var b=
h.activeEditor,c=b.dom;b.inline&&c&&!c.isChildOf(a.target,b.getBody())&&(a=b.selection.getRng(),a.collapsed||(b.lastRng=a))},f.bind(document,"mouseup",a))});h.on("RemoveEditor",function(d){h.focusedEditor==d.editor&&(h.focusedEditor=null);h.activeEditor||(f.unbind(document,"selectionchange",b),f.unbind(document,"focusin",c),f.unbind(document,"mouseup",a),b=c=a=null)})}var b,c,a,f=h.DOM;d.isEditorUIElement=function(a){return-1!==a.className.toString().indexOf("mce-")};return d});x("tinymce/EditorManager",
"tinymce/Editor tinymce/dom/DomQuery tinymce/dom/DOMUtils tinymce/util/URI tinymce/Env tinymce/util/Tools tinymce/util/Promise tinymce/util/Observable tinymce/util/I18n tinymce/FocusManager".split(" "),function(h,g,e,d,b,c,a,f,p,n){function q(a){y(z.editors,function(b){"scroll"===a.type?b.fire("ScrollWindow",a):b.fire("ResizeWindow",a)})}function r(a,b){if(b!==A){if(b)g(window).on("resize scroll",q);else g(window).off("resize scroll",q);A=b}}function l(a){var b=z.editors;delete b[a.id];for(var c=
0;c<b.length;c++)if(b[c]==a){b.splice(c,1);var d=!0;break}z.activeEditor==a&&(z.activeEditor=b[0]);z.focusedEditor==a&&(z.focusedEditor=null);return d}var v=e.DOM,x=c.explode,y=c.each,u=c.extend,m=0,w,A=!1;var z={$:g,majorVersion:"4",minorVersion:"4.3",releaseDate:"2016-09-01",editors:[],i18n:p,activeEditor:null,setup:function(){var a="",b;var c=d.getDocumentBaseUrl(document.location);/^[^:]+:\/\/\/?[^\/]+\//.test(c)&&(c=c.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(c)||(c+=
"/"));if(b=window.tinymce||window.tinyMCEPreInit){var e=b.base||b.baseURL;a=b.suffix}else{for(var f=document.getElementsByTagName("script"),g=0;g<f.length;g++){b=f[g].src;var l=b.substring(b.lastIndexOf("/"));if(/tinymce(\.full|\.jquery|)(\.min|\.dev|)\.js/.test(b)){-1!=l.indexOf(".min")&&(a=".min");e=b.substring(0,b.lastIndexOf("/"));break}}!e&&document.currentScript&&(b=document.currentScript.src,-1!=b.indexOf(".min")&&(a=".min"),e=b.substring(0,b.lastIndexOf("/")))}this.baseURL=(new d(c)).toAbsolute(e);
this.documentBaseURL=c;this.baseURI=new d(this.baseURL);this.suffix=a;this.focusManager=new n(this)},overrideDefaults:function(a){var b;if(b=a.base_url)this.baseURL=(new d(this.documentBaseURL)).toAbsolute(b.replace(/\/+$/,"")),this.baseURI=new d(this.baseURL);if(b=a.suffix)this.suffix=b;this.defaultSettings=a},init:function(b){function d(a){var b=a.id;b||(b=(b=a.name)&&!v.get(b)?a.name:v.uniqueId(),a.setAttribute("id",b));return b}function e(a){var c=b[a];if(c)return c.apply(n,Array.prototype.slice.call(arguments,
2))}function f(a,b){return b.constructor===RegExp?b.test(a.className):v.hasClass(a,b)}function k(a){var b=[];if(a.types)return y(a.types,function(a){b=b.concat(v.select(a.selector))}),b;if(a.selector)return v.select(a.selector);if(a.target)return[a.target];switch(a.mode){case "exact":var c=a.elements||"";0<c.length&&y(x(c),function(a){var c;(c=v.get(a))?b.push(c):y(document.forms,function(c){y(c.elements,function(c){c.name===a&&(a="mce_editor_"+m++,v.setAttrib(c,"id",a),b.push(c))})})});break;case "textareas":case "specific_textareas":y(v.select("textarea"),
function(c){a.editor_deselector&&f(c,a.editor_deselector)||a.editor_selector&&!f(c,a.editor_selector)||b.push(c)})}return b}function p(){function a(a,b,c){a=new h(a,b,n);m.push(a);a.on("init",function(){++f===q.length&&w(m)});a.targetElm=a.targetElm||c;a.render()}var f=0,m=[];v.unbind(window,"ready",p);e("onpageload");var q=g.unique(k(b));b.types?y(b.types,function(e){c.each(q,function(c){return v.is(c,e.selector)?(a(d(c),u({},b,e),c),!1):!0})}):(c.each(q,function(a){(a=n.get(a.id))&&a.initialized&&
!(a.getContainer()||a.getBody()).parentNode&&(l(a),a.unbindAllNativeEvents(),a.destroy(!0),a.removed=!0)}),q=c.grep(q,function(a){return!n.get(a.id)}),y(q,function(c){b.inline&&c.tagName.toLowerCase()in r?window.console&&!window.test&&window.console.log("Could not initialize inline editor on invalid inline target element",c):a(d(c),b,c)}))}var n=this,q;var r=c.makeMap("area base basefont br col frame hr img input isindex link meta param embed source wbr track colgroup option tbody tfoot thead tr script noscript style textarea video audio iframe object menu",
" ");var w=function(a){q=a};n.settings=b;v.bind(window,"ready",p);return new a(function(a){q?a(q):w=function(b){a(b)}})},get:function(a){return arguments.length?a in this.editors?this.editors[a]:null:this.editors},add:function(a){var b=this,c=b.editors;c[a.id]=a;c.push(a);r(c,!0);b.activeEditor=a;b.fire("AddEditor",{editor:a});w||(w=function(){b.fire("BeforeUnload")},v.bind(window,"beforeunload",w));return a},createEditor:function(a,b){return this.add(new h(a,b,this))},remove:function(a){var b=this,
c=b.editors;if(a)if("string"==typeof a)a=a.selector||a,y(v.select(a),function(a){(d=c[a.id])&&b.remove(d)});else{var d=a;if(!c[d.id])return null;l(d)&&b.fire("RemoveEditor",{editor:d});c.length||v.unbind(window,"beforeunload",w);d.remove();r(c,0<c.length);return d}else for(a=c.length-1;0<=a;a--)b.remove(c[a])},execCommand:function(a,b,c){var d=this.get(c);switch(a){case "mceAddEditor":return this.get(c)||(new h(c,this.settings,this)).render(),!0;case "mceRemoveEditor":return d&&d.remove(),!0;case "mceToggleEditor":if(!d)return this.execCommand("mceAddEditor",
0,c),!0;d.isHidden()?d.show():d.hide();return!0}return this.activeEditor?this.activeEditor.execCommand(a,b,c):!1},triggerSave:function(){y(this.editors,function(a){a.save()})},addI18n:function(a,b){p.add(a,b)},translate:function(a){return p.translate(a)},setActive:function(a){var b=this.activeEditor;this.activeEditor!=a&&(b&&b.fire("deactivate",{relatedTarget:a}),a.fire("activate",{relatedTarget:b}));this.activeEditor=a}};u(z,f);z.setup();return window.tinymce=window.tinyMCE=z});x("tinymce/LegacyInput",
["tinymce/EditorManager","tinymce/util/Tools"],function(h,g){var e=g.each,d=g.explode;h.on("AddEditor",function(b){var c=b.editor;c.on("preInit",function(){function a(a,b){e(b,function(b,c){b&&g.setStyle(a,c,b)});g.rename(a,"span")}function b(a){g=c.dom;h.convert_fonts_to_spans&&e(g.select("font,u,strike",a.node),function(a){r[a.nodeName.toLowerCase()](g,a)})}var g,h=c.settings;if(h.inline_styles){var q=d(h.font_size_legacy_values);var r={font:function(b,c){a(c,{backgroundColor:c.style.backgroundColor,
color:c.color,fontFamily:c.face,fontSize:q[parseInt(c.size,10)-1]})},u:function(b,d){"html4"===c.settings.schema&&a(d,{textDecoration:"underline"})},strike:function(b,c){a(c,{textDecoration:"line-through"})}};c.on("PreProcess SetContent",b)}})})});x("tinymce/util/XHR",["tinymce/util/Observable","tinymce/util/Tools"],function(h,g){var e={send:function(d){function b(){!d.async||4==a.readyState||1E4<c++?(d.success&&1E4>c&&200==a.status?d.success.call(d.success_scope,""+a.responseText,a,d):d.error&&d.error.call(d.error_scope,
1E4<c?"TIMED_OUT":"GENERAL",a,d),a=null):setTimeout(b,10)}var c=0;d.scope=d.scope||this;d.success_scope=d.success_scope||d.scope;d.error_scope=d.error_scope||d.scope;d.async=!1===d.async?!1:!0;d.data=d.data||"";e.fire("beforeInitialize",{settings:d});var a=new XMLHttpRequest;a.overrideMimeType&&a.overrideMimeType(d.content_type);a.open(d.type||(d.data?"POST":"GET"),d.url,d.async);d.crossDomain&&(a.withCredentials=!0);d.content_type&&a.setRequestHeader("Content-Type",d.content_type);d.requestheaders&&
g.each(d.requestheaders,function(b){a.setRequestHeader(b.key,b.value)});a.setRequestHeader("X-Requested-With","XMLHttpRequest");a=e.fire("beforeSend",{xhr:a,settings:d}).xhr;a.send(d.data);if(!d.async)return b();setTimeout(b,10)}};g.extend(e,h);return e});x("tinymce/util/JSON",[],function(){function h(g,e){var d;e=e||'"';if(null===g)return"null";var b=typeof g;if("string"==b){var c="\bb\tt\nn\ff\rr\"\"''\\\\";return e+g.replace(/([\u0080-\uFFFF\x00-\x1f\"\'\\])/g,function(b,d){if('"'===e&&"'"===b)return b;
a=c.indexOf(d);if(a+1)return"\\"+c.charAt(a+1);b=d.charCodeAt().toString(16);return"\\u"+"0000".substring(b.length)+b})+e}if("object"==b){if(g.hasOwnProperty&&"[object Array]"===Object.prototype.toString.call(g)){var a=0;for(c="[";a<g.length;a++)c+=(0<a?",":"")+h(g[a],e);return c+"]"}c="{";for(d in g)g.hasOwnProperty(d)&&(c+="function"!=typeof g[d]?(1<c.length?","+e:e)+d+e+":"+h(g[d],e):"");return c+"}"}return""+g}return{serialize:h,parse:function(g){try{return window[String.fromCharCode(101)+"val"]("("+
g+")")}catch(e){}}}});x("tinymce/util/JSONRequest",["tinymce/util/JSON","tinymce/util/XHR","tinymce/util/Tools"],function(h,g,e){function d(c){this.settings=b({},c);this.count=0}var b=e.extend;d.sendRPC=function(b){return(new d).send(b)};d.prototype={send:function(c){var a=c.error,d=c.success;c=b(this.settings,c);c.success=function(b,e){b=h.parse(b);"undefined"==typeof b&&(b={error:"JSON Parse error."});b.error?a.call(c.error_scope||c.scope,b.error,e):d.call(c.success_scope||c.scope,b.result)};c.error=
function(b,d){a&&a.call(c.error_scope||c.scope,b,d)};c.data=h.serialize({id:c.id||"c"+this.count++,method:c.method,params:c.params});c.content_type="application/json";g.send(c)}};return d});x("tinymce/util/JSONP",["tinymce/dom/DOMUtils"],function(h){return{callbacks:{},count:0,send:function(g){var e=this,d=h.DOM,b=g.count!==X?g.count:e.count,c="tinymce_jsonp_"+b;e.callbacks[b]=function(a){d.remove(c);delete e.callbacks[b];g.callback(a)};d.add(d.doc.body,"script",{id:c,src:g.url,type:"text/javascript"});
e.count++}}});x("tinymce/util/LocalStorage",[],function(){function h(){d=[];for(var a in e)d.push(a);f.length=d.length}function g(){var d="";if(b){for(var f in e){var g=e[f];d+=(d?",":"")+f.length.toString(32)+","+f+","+g.length.toString(32)+","+g}a.setAttribute(c,d);try{a.save(c)}catch(r){}h()}}var e,d,b;try{if(window.localStorage)return localStorage}catch(p){}var c="tinymce";var a=document.documentElement;(b=!!a.addBehavior)&&a.addBehavior("#default#userData");var f={key:function(a){return d[a]},
getItem:function(a){return a in e?e[a]:null},setItem:function(a,b){e[a]=""+b;g()},removeItem:function(a){delete e[a];g()},clear:function(){e={};g()}};(function(){function d(a){var b=a!==X?f+a:g.indexOf(",",f);if(-1===b||b>g.length)return null;a=g.substring(f,b);f=b+1;return a}var f=0;e={};if(b){a.load(c);var g=a.getAttribute(c)||"";do{var r=d();if(null===r)break;var l=d(parseInt(r,32)||0);if(null!==l){r=d();if(null===r)break;r=d(parseInt(r,32)||0);l&&(e[l]=r)}}while(null!==l);h()}})();return f});
x("tinymce/Compat","tinymce/dom/DOMUtils tinymce/dom/EventUtils tinymce/dom/ScriptLoader tinymce/AddOnManager tinymce/util/Tools tinymce/Env".split(" "),function(h,g,e,d,b,c){var a=window.tinymce;a.DOM=h.DOM;a.ScriptLoader=e.ScriptLoader;a.PluginManager=d.PluginManager;a.ThemeManager=d.ThemeManager;a.dom=a.dom||{};a.dom.Event=g.Event;b.each(b,function(b,c){a[c]=b});b.each(["isOpera","isWebKit","isIE","isGecko","isMac"],function(b){a[b]=c[b.substr(2).toLowerCase()]});return{}});x("tinymce/ui/Layout",
["tinymce/util/Class","tinymce/util/Tools"],function(h,g){return h.extend({Defaults:{firstControlClass:"first",lastControlClass:"last"},init:function(e){this.settings=g.extend({},this.Defaults,e)},preRender:function(e){e.bodyClasses.add(this.settings.containerClass)},applyClasses:function(e){var d=this.settings,b,c;var a=d.firstControlClass;var f=d.lastControlClass;e.each(function(e){e.classes.remove(a).remove(f).add(d.controlClass);e.visible()&&(b||(b=e),c=e)});b&&b.classes.add(a);c&&c.classes.add(f)},
renderHtml:function(e){var d="";this.applyClasses(e.items());e.items().each(function(b){d+=b.renderHtml()});return d},recalc:function(){},postRender:function(){},isNative:function(){return!1}})});x("tinymce/ui/AbsoluteLayout",["tinymce/ui/Layout"],function(h){return h.extend({Defaults:{containerClass:"abs-layout",controlClass:"abs-layout-item"},recalc:function(g){g.items().filter(":visible").each(function(e){var d=e.settings;e.layoutRect({x:d.x,y:d.y,w:d.w,h:d.h});e.recalc&&e.recalc()})},renderHtml:function(g){return'<div id="'+
g._id+'-absend" class="'+g.classPrefix+'abs-end"></div>'+this._super(g)}})});x("tinymce/ui/Button",["tinymce/ui/Widget"],function(h){return h.extend({Defaults:{classes:"widget btn",role:"button"},init:function(g){var e=this;e._super(g);g=e.settings;var d=e.settings.size;e.on("click mousedown",function(b){b.preventDefault()});e.on("touchstart",function(b){e.fire("click",b);b.preventDefault()});g.subtype&&e.classes.add(g.subtype);d&&e.classes.add("btn-"+d);g.icon&&e.icon(g.icon)},icon:function(g){if(!arguments.length)return this.state.get("icon");
this.state.set("icon",g);return this},repaint:function(){var g=this.getEl().firstChild;g&&(g=g.style,g.width=g.height="100%");this._super()},renderHtml:function(){var g=this._id,e=this.classPrefix,d=this.state.get("icon"),b,c=this.state.get("text"),a="";(b=this.settings.image)?(d="none","string"!=typeof b&&(b=window.getSelection?b[0]:b[1]),b=" style=\"background-image: url('"+b+"')\""):b="";c&&(this.classes.add("btn-has-text"),a='<span class="'+e+'txt">'+this.encode(c)+"</span>");d=this.settings.icon?
e+"ico "+e+"i-"+d:"";return'<div id="'+g+'" class="'+this.classes+'" tabindex="-1" aria-labelledby="'+g+'"><button role="presentation" type="button" tabindex="-1">'+(d?'<i class="'+d+'"'+b+"></i>":"")+a+"</button></div>"},bindStates:function(){function g(c){var a=d("span."+b,e.getEl());c?(a[0]||(d("button:first",e.getEl()).append('<span class="'+b+'"></span>'),a=d("span."+b,e.getEl())),a.html(e.encode(c))):a.remove();e.classes.toggle("btn-has-text",!!c)}var e=this,d=e.$,b=e.classPrefix+"txt";e.state.on("change:text",
function(b){g(b.value)});e.state.on("change:icon",function(b){b=b.value;var a=e.classPrefix;b=(e.settings.icon=b)?a+"ico "+a+"i-"+e.settings.icon:"";a=e.getEl().firstChild;var c=a.getElementsByTagName("i")[0];b?(c&&c==a.firstChild||(c=document.createElement("i"),a.insertBefore(c,a.firstChild)),c.className=b):c&&a.removeChild(c);g(e.state.get("text"))});return e._super()}})});x("tinymce/ui/ButtonGroup",["tinymce/ui/Container"],function(h){return h.extend({Defaults:{defaultType:"button",role:"group"},
renderHtml:function(){var g=this._layout;this.classes.add("btn-group");this.preRender();g.preRender(this);return'<div id="'+this._id+'" class="'+this.classes+'"><div id="'+this._id+'-body">'+(this.settings.html||"")+g.renderHtml(this)+"</div></div>"}})});x("tinymce/ui/Checkbox",["tinymce/ui/Widget"],function(h){return h.extend({Defaults:{classes:"checkbox",role:"checkbox",checked:!1},init:function(g){var e=this;e._super(g);e.on("click mousedown",function(d){d.preventDefault()});e.on("click",function(d){d.preventDefault();
e.disabled()||e.checked(!e.checked())});e.checked(e.settings.checked)},checked:function(g){if(!arguments.length)return this.state.get("checked");this.state.set("checked",g);return this},value:function(g){return arguments.length?this.checked(g):this.checked()},renderHtml:function(){var g=this._id,e=this.classPrefix;return'<div id="'+g+'" class="'+this.classes+'" unselectable="on" aria-labelledby="'+g+'-al" tabindex="-1"><i class="'+e+"ico "+e+'i-checkbox"></i><span id="'+g+'-al" class="'+e+'label">'+
this.encode(this.state.get("text"))+"</span></div>"},bindStates:function(){function g(d){e.classes.toggle("checked",d);e.aria("checked",d)}var e=this;e.state.on("change:text",function(d){e.getEl("al").firstChild.data=e.translate(d.value)});e.state.on("change:checked change:value",function(d){e.fire("change");g(d.value)});e.state.on("change:icon",function(d){d=d.value;var b=e.classPrefix;if("undefined"==typeof d)return e.settings.icon;d=(e.settings.icon=d)?b+"ico "+b+"i-"+e.settings.icon:"";b=e.getEl().firstChild;
var c=b.getElementsByTagName("i")[0];d?(c&&c==b.firstChild||(c=document.createElement("i"),b.insertBefore(c,b.firstChild)),c.className=d):c&&b.removeChild(c)});e.state.get("checked")&&g(!0);return e._super()}})});x("tinymce/ui/ComboBox",["tinymce/ui/Widget","tinymce/ui/Factory","tinymce/ui/DomUtils","tinymce/dom/DomQuery"],function(h,g,e,d){return h.extend({init:function(b){var c=this;c._super(b);b=c.settings;c.classes.add("combobox");c.subinput=!0;c.ariaTarget="inp";b.menu=b.menu||b.values;b.menu&&
(b.icon="caret");c.on("click",function(a){var e=a.target,g=c.getEl();if(d.contains(g,e)||e==g)for(;e&&e!=g;)e.id&&-1!=e.id.indexOf("-open")&&(c.fire("action"),b.menu&&(c.showMenu(),a.aria&&c.menu.items()[0].focus())),e=e.parentNode});c.on("keydown",function(a){"INPUT"==a.target.nodeName&&13==a.keyCode&&c.parents().reverse().each(function(b){var d=c.state.get("value"),e=c.getEl("inp").value;a.preventDefault();c.state.set("value",e);d!=e&&c.fire("change");if(b.hasEventListeners("submit")&&b.toJSON)return b.fire("submit",
{data:b.toJSON()}),!1})});c.on("keyup",function(a){"INPUT"==a.target.nodeName&&c.state.set("value",a.target.value)})},showMenu:function(){var b=this,c=b.settings;b.menu||(c=c.menu||[],c.length?c={type:"menu",items:c}:c.type=c.type||"menu",b.menu=g.create(c).parent(b).renderTo(b.getContainerElm()),b.fire("createmenu"),b.menu.reflow(),b.menu.on("cancel",function(a){a.control===b.menu&&b.focus()}),b.menu.on("show hide",function(a){a.control.items().each(function(a){a.active(a.value()==b.value())})}).fire("show"),
b.menu.on("select",function(a){b.value(a.control.value())}),b.on("focusin",function(a){"INPUT"==a.target.tagName.toUpperCase()&&b.menu.hide()}),b.aria("expanded",!0));b.menu.show();b.menu.layoutRect({w:b.layoutRect().w});b.menu.moveRel(b.getEl(),b.isRtl()?["br-tr","tr-br"]:["bl-tl","tl-bl"])},focus:function(){this.getEl("inp").focus()},repaint:function(){var b=this.getEl(),c=this.getEl("open"),a=this.layoutRect(),f;c=c?a.w-e.getSize(c).width-10:a.w-10;a=document;a.all&&(!a.documentMode||8>=a.documentMode)&&
(f=this.layoutRect().h-2+"px");d(b.firstChild).css({width:c,lineHeight:f});this._super();return this},postRender:function(){var b=this;d(this.getEl("inp")).on("change",function(c){b.state.set("value",c.target.value);b.fire("change",c)});return b._super()},renderHtml:function(){var b=this._id,c=this.settings,a=this.classPrefix,d=this.state.get("value")||"",e,g="",h="";"spellcheck"in c&&(h+=' spellcheck="'+c.spellcheck+'"');c.maxLength&&(h+=' maxlength="'+c.maxLength+'"');c.size&&(h+=' size="'+c.size+
'"');c.subtype&&(h+=' type="'+c.subtype+'"');this.disabled()&&(h+=' disabled="disabled"');(e=c.icon)&&"caret"!=e&&(e=a+"ico "+a+"i-"+c.icon);var r=this.state.get("text");if(e||r)g='<div id="'+b+'-open" class="'+a+"btn "+a+'open" tabIndex="-1" role="button"><button id="'+b+'-action" type="button" hidefocus="1" tabindex="-1">'+("caret"!=e?'<i class="'+e+'"></i>':'<i class="'+a+'caret"></i>')+(r?(e?" ":"")+r:"")+"</button></div>",this.classes.add("has-open");return'<div id="'+b+'" class="'+this.classes+
'"><input id="'+b+'-inp" class="'+a+'textbox" value="'+this.encode(d,!1)+'" hidefocus="1"'+h+' placeholder="'+this.encode(c.placeholder)+'" />'+g+"</div>"},value:function(b){if(arguments.length)return this.state.set("value",b),this;this.state.get("rendered")&&this.state.set("value",this.getEl("inp").value);return this.state.get("value")},bindStates:function(){var b=this;b.state.on("change:value",function(c){b.getEl("inp").value!=c.value&&(b.getEl("inp").value=c.value)});b.state.on("change:disabled",
function(c){b.getEl("inp").disabled=c.value});return b._super()},remove:function(){d(this.getEl("inp")).off();this._super()}})});x("tinymce/ui/ColorBox",["tinymce/ui/ComboBox"],function(h){return h.extend({init:function(g){var e=this;g.spellcheck=!1;g.onaction&&(g.icon="none");e._super(g);e.classes.add("colorbox");e.on("change keyup postrender",function(){e.repaintColor(e.value())})},repaintColor:function(g){var e=this.getEl().getElementsByTagName("i")[0];if(e)try{e.style.background=g}catch(d){}},
bindStates:function(){var g=this;g.state.on("change:value",function(e){g.state.get("rendered")&&g.repaintColor(e.value)});return g._super()}})});x("tinymce/ui/PanelButton",["tinymce/ui/Button","tinymce/ui/FloatPanel"],function(h,g){return h.extend({showPanel:function(){var e=this,d=e.settings;e.active(!0);if(e.panel)e.panel.show();else{var b=d.panel;b.type&&(b={layout:"grid",items:b});b.role=b.role||"dialog";b.popover=!0;b.autohide=!0;b.ariaRoot=!0;e.panel=(new g(b)).on("hide",function(){e.active(!1)}).on("cancel",
function(b){b.stopPropagation();e.focus();e.hidePanel()}).parent(e).renderTo(e.getContainerElm());e.panel.fire("show");e.panel.reflow()}e.panel.moveRel(e.getEl(),d.popoverAlign||(e.isRtl()?["bc-tr","bc-tc"]:["bc-tl","bc-tc"]))},hidePanel:function(){this.panel&&this.panel.hide()},postRender:function(){var e=this;e.aria("haspopup",!0);e.on("click",function(d){d.control===e&&(e.panel&&e.panel.visible()?e.hidePanel():(e.showPanel(),e.panel.focus(!!d.aria)))});return e._super()},remove:function(){this.panel&&
(this.panel.remove(),this.panel=null);return this._super()}})});x("tinymce/ui/ColorButton",["tinymce/ui/PanelButton","tinymce/dom/DOMUtils"],function(h,g){var e=g.DOM;return h.extend({init:function(d){this._super(d);this.classes.add("colorbutton")},color:function(d){return d?(this._color=d,this.getEl("preview").style.backgroundColor=d,this):this._color},resetColor:function(){this._color=null;this.getEl("preview").style.backgroundColor=null;return this},renderHtml:function(){var d=this._id,b=this.classPrefix,
c=this.state.get("text"),a=this.settings.icon?b+"ico "+b+"i-"+this.settings.icon:"",e=this.settings.image?" style=\"background-image: url('"+this.settings.image+"')\"":"",g="";c&&(this.classes.add("btn-has-text"),g='<span class="'+b+'txt">'+this.encode(c)+"</span>");return'<div id="'+d+'" class="'+this.classes+'" role="button" tabindex="-1" aria-haspopup="true"><button role="presentation" hidefocus="1" type="button" tabindex="-1">'+(a?'<i class="'+a+'"'+e+"></i>":"")+'<span id="'+d+'-preview" class="'+
b+'preview"></span>'+g+'</button><button type="button" class="'+b+'open" hidefocus="1" tabindex="-1"> <i class="'+b+'caret"></i></button></div>'},postRender:function(){var d=this,b=d.settings.onclick;d.on("click",function(c){c.aria&&"down"==c.aria.key||c.control!=d||e.getParent(c.target,"."+d.classPrefix+"open")||(c.stopImmediatePropagation(),b.call(d,c))});delete d.settings.onclick;return d._super()}})});x("tinymce/util/Color",[],function(){var h=Math.min,g=Math.max,e=Math.round;return function(d){function b(b){if("object"==
typeof b)if("r"in b)a=b.r,f=b.g,p=b.b;else{if("v"in b){var d=b.h;var n=b.s;b=b.v;d=(parseInt(d,10)||0)%360;n=parseInt(n,10)/100;b=parseInt(b,10)/100;n=g(0,h(n,1));b=g(0,h(b,1));if(0===n)a=f=p=e(255*b);else{d/=60;n*=b;var l=n*(1-Math.abs(d%2-1));b-=n;switch(Math.floor(d)){case 0:a=n;f=l;p=0;break;case 1:a=l;f=n;p=0;break;case 2:a=0;f=n;p=l;break;case 3:a=0;f=l;p=n;break;case 4:a=l;f=0;p=n;break;case 5:a=n;f=0;p=l;break;default:a=f=p=0}a=e(255*(a+b));f=e(255*(f+b));p=e(255*(p+b))}}}else if(d=/rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)[^\)]*\)/gi.exec(b))a=
parseInt(d[1],10),f=parseInt(d[2],10),p=parseInt(d[3],10);else if(d=/#([0-F]{2})([0-F]{2})([0-F]{2})/gi.exec(b))a=parseInt(d[1],16),f=parseInt(d[2],16),p=parseInt(d[3],16);else if(d=/#([0-F])([0-F])([0-F])/gi.exec(b))a=parseInt(d[1]+d[1],16),f=parseInt(d[2]+d[2],16),p=parseInt(d[3]+d[3],16);a=0>a?0:255<a?255:a;f=0>f?0:255<f?255:f;p=0>p?0:255<p?255:p;return c}var c=this,a=0,f=0,p=0;d&&b(d);c.toRgb=function(){return{r:a,g:f,b:p}};c.toHsv=function(){var b=a;var c=f,d=p;b/=255;c/=255;d/=255;var l=h(b,
h(c,d));var v=g(b,g(c,d));if(l==v)b={h:0,s:0,v:100*l};else{var x=(v-l)/v;b={h:e(60*((b==l?3:d==l?1:5)-(b==l?c-d:d==l?b-c:d-b)/(v-l))),s:e(100*x),v:e(100*v)}}return b};c.toHex=function(){function b(a){a=parseInt(a,10).toString(16);return 1<a.length?a:"0"+a}return"#"+b(a)+b(f)+b(p)};c.parse=b}});x("tinymce/ui/ColorPicker",["tinymce/ui/Widget","tinymce/ui/DragHelper","tinymce/ui/DomUtils","tinymce/util/Color"],function(h,g,e,d){return h.extend({Defaults:{classes:"widget colorpicker"},init:function(b){this._super(b)},
postRender:function(){function b(a,b){var c=e.getPos(a);var d=b.pageX-c.x;c=b.pageY-c.y;d=Math.max(0,Math.min(d/a.clientWidth,1));c=Math.max(0,Math.min(c/a.clientHeight,1));return{x:d,y:c}}function c(a,b){e.css(l,{top:(360-a.h)/360*100+"%"});b||e.css(x,{left:a.s+"%",top:100-a.v+"%"});v.style.background=(new d({s:100,v:100,h:a.h})).toHex();h.color().parse({s:a.s,v:a.v,h:a.h})}function a(a){a=b(v,a);q.s=100*a.x;q.v=100*(1-a.y);c(q);h.fire("change")}function f(a){a=b(r,a);q=n.toHsv();q.h=360*(1-a.y);
c(q,!0);h.fire("change")}var h=this,n=h.color(),q;var r=h.getEl("h");var l=h.getEl("hp");var v=h.getEl("sv");var x=h.getEl("svp");h._repaint=function(){q=n.toHsv();c(q)};h._super();h._svdraghelper=new g(h._id+"-sv",{start:a,drag:a});h._hdraghelper=new g(h._id+"-h",{start:f,drag:f});h._repaint()},rgb:function(){return this.color().toRgb()},value:function(b){if(arguments.length)this.color().parse(b),this._rendered&&this._repaint();else return this.color().toHex()},color:function(){this._color||(this._color=
new d);return this._color},renderHtml:function(){var b=this._id,c=this.classPrefix,a,d="";var e="#ff0000 #ff0080 #ff00ff #8000ff #0000ff #0080ff #00ffff #00ff80 #00ff00 #80ff00 #ffff00 #ff8000 #ff0000".split(" ");var g=0;for(a=e.length-1;g<a;g++)d+='<div class="'+c+'colorpicker-h-chunk" style="height:'+100/a+"%;filter:progid:DXImageTransform.Microsoft.gradient(GradientType=0,startColorstr="+e[g]+",endColorstr="+e[g+1]+");-ms-filter:progid:DXImageTransform.Microsoft.gradient(GradientType=0,startColorstr="+
e[g]+",endColorstr="+e[g+1]+')"></div>';return'<div id="'+b+'" class="'+this.classes+'"><div id="'+b+'-sv" class="'+c+'colorpicker-sv"><div class="'+c+'colorpicker-overlay1"><div class="'+c+'colorpicker-overlay2"><div id="'+b+'-svp" class="'+c+'colorpicker-selector1"><div class="'+c+'colorpicker-selector2"></div></div></div></div></div>'+('<div id="'+b+'-h" class="'+c+'colorpicker-h" style="background: -ms-linear-gradient(top,#ff0000,#ff0080,#ff00ff,#8000ff,#0000ff,#0080ff,#00ffff,#00ff80,#00ff00,#80ff00,#ffff00,#ff8000,#ff0000);background: linear-gradient(to bottom,#ff0000,#ff0080,#ff00ff,#8000ff,#0000ff,#0080ff,#00ffff,#00ff80,#00ff00,#80ff00,#ffff00,#ff8000,#ff0000);">'+
d+'<div id="'+b+'-hp" class="'+c+'colorpicker-h-marker"></div></div>')+"</div>"}})});x("tinymce/ui/Path",["tinymce/ui/Widget"],function(h){return h.extend({init:function(g){var e=this;g.delimiter||(g.delimiter="\u00bb");e._super(g);e.classes.add("path");e.canFocus=!0;e.on("click",function(d){var b;(b=d.target.getAttribute("data-index"))&&e.fire("select",{value:e.row()[b],index:b})});e.row(e.settings.row)},focus:function(){this.getEl().firstChild.focus();return this},row:function(g){if(!arguments.length)return this.state.get("row");
this.state.set("row",g);return this},renderHtml:function(){return'<div id="'+this._id+'" class="'+this.classes+'">'+this._getDataPathHtml(this.state.get("row"))+"</div>"},bindStates:function(){var g=this;g.state.on("change:row",function(e){g.innerHtml(g._getDataPathHtml(e.value))});return g._super()},_getDataPathHtml:function(g){g=g||[];var e,d="",b=this.classPrefix;var c=0;for(e=g.length;c<e;c++)d+=(0<c?'<div class="'+b+'divider" aria-hidden="true"> '+this.settings.delimiter+" </div>":"")+'<div role="button" class="'+
b+"path-item"+(c==e-1?" "+b+"last":"")+'" data-index="'+c+'" tabindex="-1" id="'+this._id+"-"+c+'" aria-level="'+c+'">'+g[c].name+"</div>";d||(d='<div class="'+b+'path-item">\u00a0</div>');return d}})});x("tinymce/ui/ElementPath",["tinymce/ui/Path"],function(h){return h.extend({postRender:function(){var g=this,e=g.settings.editor;!1!==e.settings.elementpath&&(g.on("select",function(d){e.focus();e.selection.select(this.row()[d.index].element);e.nodeChanged()}),e.on("nodeChange",function(d){var b=[];
d=d.parents;for(var c=d.length;c--;){var a;if(a=1==d[c].nodeType){a:{a=d[c];if(1===a.nodeType){if("BR"==a.nodeName||a.getAttribute("data-mce-bogus")){a=!0;break a}if("bookmark"===a.getAttribute("data-mce-type")){a=!0;break a}}a=!1}a=!a}if(a&&(a=e.fire("ResolveName",{name:d[c].nodeName.toLowerCase(),target:d[c]}),a.isDefaultPrevented()||b.push({name:a.name,element:d[c]}),a.isPropagationStopped()))break}g.row(b)}));return g._super()}})});x("tinymce/ui/FormItem",["tinymce/ui/Container"],function(h){return h.extend({Defaults:{layout:"flex",
align:"center",defaults:{flex:1}},renderHtml:function(){var g=this._layout,e=this.classPrefix;this.classes.add("formitem");g.preRender(this);return'<div id="'+this._id+'" class="'+this.classes+'" hidefocus="1" tabindex="-1">'+(this.settings.title?'<div id="'+this._id+'-title" class="'+e+'title">'+this.settings.title+"</div>":"")+'<div id="'+this._id+'-body" class="'+this.bodyClasses+'">'+(this.settings.html||"")+g.renderHtml(this)+"</div></div>"}})});x("tinymce/ui/Form",["tinymce/ui/Container","tinymce/ui/FormItem",
"tinymce/util/Tools"],function(h,g,e){return h.extend({Defaults:{containerCls:"form",layout:"flex",direction:"column",align:"stretch",flex:1,padding:20,labelGap:30,spacing:10,callbacks:{submit:function(){this.submit()}}},preRender:function(){var d=this,b=d.items();d.settings.formItemDefaults||(d.settings.formItemDefaults={layout:"flex",autoResize:"overflow",defaults:{flex:1}});b.each(function(b){var a;if(a=b.settings.label)a=new g(e.extend({items:{type:"label",id:b._id+"-l",text:a,flex:0,forId:b._id,
disabled:b.disabled()}},d.settings.formItemDefaults)),a.type="formitem",b.aria("labelledby",b._id+"-l"),"undefined"==typeof b.settings.flex&&(b.settings.flex=1),d.replace(b,a),a.add(b)})},submit:function(){return this.fire("submit",{data:this.toJSON()})},postRender:function(){this._super();this.fromJSON(this.settings.data)},bindStates:function(){function d(){var c=0,a=[];if(!1!==b.settings.labelGapCalc){var d="children"==b.settings.labelGapCalc?b.find("formitem"):b.items();d.filter("formitem").each(function(b){b=
b.items()[0];var d=b.getEl().clientWidth;c=d>c?d:c;a.push(b)});var e=b.settings.labelGap||0;for(d=a.length;d--;)a[d].settings.minWidth=c+e}}var b=this;b._super();b.on("show",d);d()}})});x("tinymce/ui/FieldSet",["tinymce/ui/Form"],function(h){return h.extend({Defaults:{containerCls:"fieldset",layout:"flex",direction:"column",align:"stretch",flex:1,padding:"25 15 5 15",labelGap:30,spacing:10,border:1},renderHtml:function(){var g=this._layout,e=this.classPrefix;this.preRender();g.preRender(this);return'<fieldset id="'+
this._id+'" class="'+this.classes+'" hidefocus="1" tabindex="-1">'+(this.settings.title?'<legend id="'+this._id+'-title" class="'+e+'fieldset-title">'+this.settings.title+"</legend>":"")+'<div id="'+this._id+'-body" class="'+this.bodyClasses+'">'+(this.settings.html||"")+g.renderHtml(this)+"</div></fieldset>"}})});x("tinymce/ui/FilePicker",["tinymce/ui/ComboBox","tinymce/util/Tools"],function(h,g){return h.extend({init:function(e){var d=this,b=tinymce.activeEditor,c=b.settings,a,f;e.spellcheck=!1;
(f=c.file_picker_types||c.file_browser_callback_types)&&(f=g.makeMap(f,/[, ]/));if(!f||f[e.filetype]){var h=c.file_picker_callback;!h||f&&!f[e.filetype]?(h=c.file_browser_callback,!h||f&&!f[e.filetype]||(a=function(){h(d.getEl("inp").id,d.value(),e.filetype,window)})):a=function(){var a=d.fire("beforecall").meta;a=g.extend({filetype:e.filetype},a);h.call(b,function(a,b){d.value(a).fire("change",{meta:b})},d.value(),a)}}a&&(e.icon="browse",e.onaction=a);d._super(e)}})});x("tinymce/ui/FitLayout",["tinymce/ui/AbsoluteLayout"],
function(h){return h.extend({recalc:function(g){var e=g.layoutRect(),d=g.paddingBox;g.items().filter(":visible").each(function(b){b.layoutRect({x:d.left,y:d.top,w:e.innerW-d.right-d.left,h:e.innerH-d.top-d.bottom});b.recalc&&b.recalc()})}})});x("tinymce/ui/FlexLayout",["tinymce/ui/AbsoluteLayout"],function(h){return h.extend({recalc:function(g){var e,d,b=[],c,a=Math.max,f=Math.min;var h=g.items().filter(":visible");var n=g.layoutRect();var q=g.paddingBox;var r=g.settings;var l=g.isRtl()?r.direction||
"row-reversed":r.direction;var v=r.align;var x=g.isRtl()?r.pack||"end":r.pack;r=r.spacing||0;if("row-reversed"==l||"column-reverse"==l)h=h.set(h.toArray().reverse()),l=l.split("-")[0];if("column"==l){var y="y";var u="h";var m="minH";var w="maxH";var A="innerH";var z="top";var k="deltaH";var t="contentH";var D="left";var G="w";var F="x";var V="innerW";var H="minW";var K="right";var T="deltaW";var M="contentW"}else y="x",u="w",m="minW",w="maxW",A="innerW",z="left",k="deltaW",t="contentW",D="top",G=
"h",F="y",V="innerH",H="minH",K="bottom",T="deltaH",M="contentH";var I=n[A]-q[z]-q[z];l=c=d=0;for(e=h.length;l<e;l++){var O=h[l];var P=O.layoutRect();var S=O.settings;S=S.flex;I-=l<e-1?r:0;0<S&&(d+=S,P[w]&&b.push(O),P.flex=S);I-=P[m];S=q[D]+P[H]+q[K];S>c&&(c=S)}var L={};L[m]=0>I?n[m]-I+n[k]:n[A]-I+n[k];L[H]=c+n[T];L[t]=n[A]-I;L[M]=c;L.minW=f(L.minW,n.maxW);L.minH=f(L.minH,n.maxH);L.minW=a(L.minW,n.startMinWidth);L.minH=a(L.minH,n.startMinHeight);if(!n.autoResize||L.minW==n.minW&&L.minH==n.minH){g=
I/d;l=0;for(e=b.length;l<e;l++)O=b[l],P=O.layoutRect(),O=P[w],S=P[m]+P.flex*g,S>O?(I-=P[w]-P[m],d-=P.flex,P.flex=0,P.maxFlexSize=O):P.maxFlexSize=0;g=I/d;b=q[z];L={};0===d&&("end"==x?b=I+q[z]:"center"==x?(b=Math.round(n[A]/2-(n[A]-I)/2)+q[z],0>b&&(b=q[z])):"justify"==x&&(b=q[z],r=Math.floor(I/(h.length-1))));L[F]=q[D];l=0;for(e=h.length;l<e;l++)O=h[l],P=O.layoutRect(),S=P.maxFlexSize||P[m],"center"===v?L[F]=Math.round(n[V]/2-P[G]/2):"stretch"===v?(L[G]=a(P[H]||0,n[V]-q[D]-q[K]),L[F]=q[D]):"end"===
v&&(L[F]=n[V]-P[G]-q.top),0<P.flex&&(S+=P.flex*g),L[u]=S,L[y]=b,O.layoutRect(L),O.recalc&&O.recalc(),b+=S+r}else if(L.w=L.minW,L.h=L.minH,g.layoutRect(L),this.recalc(g),null===g._lastRect&&(h=g.parent()))h._lastRect=null,h.recalc()}})});x("tinymce/ui/FlowLayout",["tinymce/ui/Layout"],function(h){return h.extend({Defaults:{containerClass:"flow-layout",controlClass:"flow-layout-item",endClass:"break"},recalc:function(g){g.items().filter(":visible").each(function(e){e.recalc&&e.recalc()})},isNative:function(){return!0}})});
x("tinymce/ui/FormatControls","tinymce/ui/Control tinymce/ui/Widget tinymce/ui/FloatPanel tinymce/util/Tools tinymce/dom/DOMUtils tinymce/EditorManager tinymce/Env".split(" "),function(h,g,e,d,b,c,a){function f(a){a.on("ScriptsLoaded",function(){a.rtl&&(h.rtl=!0)})}function p(a){function b(b,c){return function(){var d=this;a.on("nodeChange",function(e){var f=a.formatter,g=null;n(e.parents,function(a){n(b,function(b){c?f.matchNode(a,c,{value:b.value})&&(g=b.value):f.matchNode(a,b.value)&&(g=b.value);
if(g)return!1});if(g)return!1});d.value(g)})}}function c(a){a=a.replace(/;$/,"").split(";");for(var b=a.length;b--;)a[b]=a[b].split("=");return a}function d(b){return function(){var c=this;if(a.formatter)a.formatter.formatChanged(b,function(a){c.active(a)});else a.on("init",function(){a.formatter.formatChanged(b,function(a){c.active(a)})})}}function f(b){return function(){var c=this;b="redo"==b?"hasRedo":"hasUndo";c.disabled(!(a.undoManager&&a.undoManager[b]()));a.on("Undo Redo AddUndo TypingUndo ClearUndos SwitchMode",
function(){c.disabled(a.readonly||!(a.undoManager&&a.undoManager[b]()))})}}function g(b){b.control&&(b=b.control.value());b&&a.execCommand("mceToggleFormat",!1,b)}var h=function(){function b(a){var e=[];if(a)return n(a,function(a){var f={text:a.title,icon:a.icon};if(a.items)f.menu=b(a.items);else{var g=a.format||"custom"+c++;a.format||(a.name=g,d.push(a));f.format=g;f.cmd=a.cmd}e.push(f)}),e}var c=0,d=[],e=[{title:"Headings",items:[{title:"Heading 1",format:"h1"},{title:"Heading 2",format:"h2"},{title:"Heading 3",
format:"h3"},{title:"Heading 4",format:"h4"},{title:"Heading 5",format:"h5"},{title:"Heading 6",format:"h6"}]},{title:"Inline",items:[{title:"Bold",icon:"bold",format:"bold"},{title:"Italic",icon:"italic",format:"italic"},{title:"Underline",icon:"underline",format:"underline"},{title:"Strikethrough",icon:"strikethrough",format:"strikethrough"},{title:"Superscript",icon:"superscript",format:"superscript"},{title:"Subscript",icon:"subscript",format:"subscript"},{title:"Code",icon:"code",format:"code"}]},
{title:"Blocks",items:[{title:"Paragraph",format:"p"},{title:"Blockquote",format:"blockquote"},{title:"Div",format:"div"},{title:"Pre",format:"pre"}]},{title:"Alignment",items:[{title:"Left",icon:"alignleft",format:"alignleft"},{title:"Center",icon:"aligncenter",format:"aligncenter"},{title:"Right",icon:"alignright",format:"alignright"},{title:"Justify",icon:"alignjustify",format:"alignjustify"}]}];a.on("init",function(){n(d,function(b){a.formatter.register(b.name,b)})});return{type:"menu",items:a.settings.style_formats_merge?
a.settings.style_formats?b(e.concat(a.settings.style_formats)):b(e):b(a.settings.style_formats||e),onPostRender:function(b){a.fire("renderFormatsMenu",{control:b.control})},itemDefaults:{preview:!0,textStyle:function(){if(this.settings.format)return a.formatter.getCssText(this.settings.format)},onPostRender:function(){var b=this;b.parent().on("show",function(){var c;if(c=b.settings.format)b.disabled(!a.formatter.canApply(c)),b.active(a.formatter.match(c));(c=b.settings.cmd)&&b.active(a.queryCommandState(c))})},
onclick:function(){this.settings.format&&g(this.settings.format);this.settings.cmd&&a.execCommand(this.settings.cmd)}}}}();n({bold:"Bold",italic:"Italic",underline:"Underline",strikethrough:"Strikethrough",subscript:"Subscript",superscript:"Superscript"},function(b,c){a.addButton(c,{tooltip:b,onPostRender:d(c),onclick:function(){g(c)}})});n({outdent:["Decrease indent","Outdent"],indent:["Increase indent","Indent"],cut:["Cut","Cut"],copy:["Copy","Copy"],paste:["Paste","Paste"],help:["Help","mceHelp"],
selectall:["Select all","SelectAll"],removeformat:["Clear formatting","RemoveFormat"],visualaid:["Visual aids","mceToggleVisualAid"],newdocument:["New document","mceNewDocument"]},function(b,c){a.addButton(c,{tooltip:b[0],cmd:b[1]})});n({blockquote:["Blockquote","mceBlockQuote"],numlist:["Numbered list","InsertOrderedList"],bullist:["Bullet list","InsertUnorderedList"],subscript:["Subscript","Subscript"],superscript:["Superscript","Superscript"],alignleft:["Align left","JustifyLeft"],aligncenter:["Align center",
"JustifyCenter"],alignright:["Align right","JustifyRight"],alignjustify:["Justify","JustifyFull"],alignnone:["No alignment","JustifyNone"]},function(b,c){a.addButton(c,{tooltip:b[0],cmd:b[1],onPostRender:d(c)})});a.addButton("undo",{tooltip:"Undo",onPostRender:f("undo"),cmd:"undo"});a.addButton("redo",{tooltip:"Redo",onPostRender:f("redo"),cmd:"redo"});a.addMenuItem("newdocument",{text:"New document",icon:"newdocument",cmd:"mceNewDocument"});a.addMenuItem("undo",{text:"Undo",icon:"undo",shortcut:"Meta+Z",
onPostRender:f("undo"),cmd:"undo"});a.addMenuItem("redo",{text:"Redo",icon:"redo",shortcut:"Meta+Y",onPostRender:f("redo"),cmd:"redo"});a.addMenuItem("visualaid",{text:"Visual aids",selectable:!0,onPostRender:function(){var b=this;a.on("VisualAid",function(a){b.active(a.hasVisual)});b.active(a.hasVisual)},cmd:"mceToggleVisualAid"});a.addButton("remove",{tooltip:"Remove",icon:"remove",cmd:"Delete"});n({cut:["Cut","Cut","Meta+X"],copy:["Copy","Copy","Meta+C"],paste:["Paste","Paste","Meta+V"],selectall:["Select all",
"SelectAll","Meta+A"],bold:["Bold","Bold","Meta+B"],italic:["Italic","Italic","Meta+I"],underline:["Underline","Underline"],strikethrough:["Strikethrough","Strikethrough"],subscript:["Subscript","Subscript"],superscript:["Superscript","Superscript"],removeformat:["Clear formatting","RemoveFormat"]},function(b,c){a.addMenuItem(c,{text:b[0],icon:c,shortcut:b[2],cmd:b[1]})});a.on("mousedown",function(){e.hideAll()});a.addButton("styleselect",{type:"menubutton",text:"Formats",menu:h});a.addButton("formatselect",
function(){var d=[],e=c(a.settings.block_formats||"Paragraph=p;Heading 1=h1;Heading 2=h2;Heading 3=h3;Heading 4=h4;Heading 5=h5;Heading 6=h6;Preformatted=pre");n(e,function(b){d.push({text:b[0],value:b[1],textStyle:function(){return a.formatter.getCssText(b[1])}})});return{type:"listbox",text:e[0][0],values:d,fixedWidth:!0,onselect:g,onPostRender:b(d)}});a.addButton("fontselect",function(){var d=[],e=c(a.settings.font_formats||"Andale Mono=andale mono,monospace;Arial=arial,helvetica,sans-serif;Arial Black=arial black,sans-serif;Book Antiqua=book antiqua,palatino,serif;Comic Sans MS=comic sans ms,sans-serif;Courier New=courier new,courier,monospace;Georgia=georgia,palatino,serif;Helvetica=helvetica,arial,sans-serif;Impact=impact,sans-serif;Symbol=symbol;Tahoma=tahoma,arial,helvetica,sans-serif;Terminal=terminal,monaco,monospace;Times New Roman=times new roman,times,serif;Trebuchet MS=trebuchet ms,geneva,sans-serif;Verdana=verdana,geneva,sans-serif;Webdings=webdings;Wingdings=wingdings,zapf dingbats");
n(e,function(a){d.push({text:{raw:a[0]},value:a[1],textStyle:-1==a[1].indexOf("dings")?"font-family:"+a[1]:""})});return{type:"listbox",text:"Font Family",tooltip:"Font Family",values:d,fixedWidth:!0,onPostRender:b(d,"fontname"),onselect:function(b){b.control.settings.value&&a.execCommand("FontName",!1,b.control.settings.value)}}});a.addButton("fontsizeselect",function(){var c=[];n((a.settings.fontsize_formats||"8pt 10pt 12pt 14pt 18pt 24pt 36pt").split(" "),function(a){var b=a,d=a;a=a.split("=");
1<a.length&&(b=a[0],d=a[1]);c.push({text:b,value:d})});return{type:"listbox",text:"Font Sizes",tooltip:"Font Sizes",values:c,fixedWidth:!0,onPostRender:b(c,"fontsize"),onclick:function(b){b.control.settings.value&&a.execCommand("FontSize",!1,b.control.settings.value)}}});a.addMenuItem("formats",{text:"Formats",menu:h})}var n=d.each;c.on("AddEditor",function(c){c=c.editor;f(c);p(c);c.settings.ui_container&&(a.container=b.DOM.select(c.settings.ui_container)[0])});h.translate=function(a){return c.translate(a)};
g.tooltips=!a.iOS});x("tinymce/ui/GridLayout",["tinymce/ui/AbsoluteLayout"],function(h){return h.extend({recalc:function(g){var e,d,b=[],c=[];var a=g.settings;var f=g.items().filter(":visible");var h=g.layoutRect();var n=a.columns||Math.ceil(Math.sqrt(f.length));var q=Math.ceil(f.length/n);var r=a.spacingH||a.spacing||0;var l=a.spacingV||a.spacing||0;var v=a.alignH||a.align;var x=a.alignV||a.align;var y=g.paddingBox;var u="reverseRows"in a?a.reverseRows:g.isRtl();v&&"string"==typeof v&&(v=[v]);x&&
"string"==typeof x&&(x=[x]);for(d=0;d<n;d++)b.push(0);for(e=0;e<q;e++)c.push(0);for(e=0;e<q;e++)for(d=0;d<n;d++){var m=f[e*n+d];if(!m)break;var w=m.layoutRect();m=w.minW;w=w.minH;b[d]=m>b[d]?m:b[d];c[e]=w>c[e]?w:c[e]}w=h.innerW-y.left-y.right;for(d=m=0;d<n;d++)m+=b[d]+(0<d?r:0),w-=(0<d?r:0)+b[d];var A=h.innerH-y.top-y.bottom;for(e=d=0;e<q;e++)d+=c[e]+(0<e?l:0),A-=(0<e?l:0)+c[e];m+=y.left+y.right;d+=y.top+y.bottom;e={};e.minW=m+(h.w-h.innerW);e.minH=d+(h.h-h.innerH);e.contentW=e.minW-h.deltaW;e.contentH=
e.minH-h.deltaH;e.minW=Math.min(e.minW,h.maxW);e.minH=Math.min(e.minH,h.maxH);e.minW=Math.max(e.minW,h.startMinWidth);e.minH=Math.max(e.minH,h.startMinHeight);if(!h.autoResize||e.minW==h.minW&&e.minH==h.minH){h.autoResize&&(e=g.layoutRect(e),e.contentW=e.minW-h.deltaW,e.contentH=e.minH-h.deltaH);g="start"==a.packV?0:0<A?Math.floor(A/q):0;e=0;if(a=a.flexWidths)for(d=0;d<a.length;d++)e+=a[d];else e=n;e=w/e;for(d=0;d<n;d++)b[d]+=a?a[d]*e:e;A=y.top;for(e=0;e<q;e++){h=y.left;a=c[e]+g;for(d=0;d<n;d++){w=
u?e*n+n-1-d:e*n+d;m=f[w];if(!m)break;var z=m.settings;w=m.layoutRect();var k=Math.max(b[d],w.startMinWidth);w.x=h;w.y=A;var t=z.alignH||(v?v[d]||v[0]:null);"center"==t?w.x=h+k/2-w.w/2:"right"==t?w.x=h+k-w.w:"stretch"==t&&(w.w=k);t=z.alignV||(x?x[d]||x[0]:null);"center"==t?w.y=A+a/2-w.h/2:"bottom"==t?w.y=A+a-w.h:"stretch"==t&&(w.h=a);m.layoutRect(w);h+=k+r;m.recalc&&m.recalc()}A+=a+l}}else if(e.w=e.minW,e.h=e.minH,g.layoutRect(e),this.recalc(g),null===g._lastRect&&(q=g.parent()))q._lastRect=null,q.recalc()}})});
x("tinymce/ui/Iframe",["tinymce/ui/Widget","tinymce/util/Delay"],function(h,g){return h.extend({renderHtml:function(){this.classes.add("iframe");this.canFocus=!1;return'<iframe id="'+this._id+'" class="'+this.classes+'" tabindex="-1" src="'+(this.settings.url||"javascript:''")+'" frameborder="0"></iframe>'},src:function(e){this.getEl().src=e},html:function(e,d){var b=this,c=this.getEl().contentWindow.document.body;c?(c.innerHTML=e,d&&d()):g.setTimeout(function(){b.html(e)});return this}})});x("tinymce/ui/InfoBox",
["tinymce/ui/Widget"],function(h){return h.extend({init:function(g){this._super(g);this.classes.add("widget").add("infobox");this.canFocus=!1},severity:function(g){this.classes.remove("error");this.classes.remove("warning");this.classes.remove("success");this.classes.add(g)},help:function(g){this.state.set("help",g)},renderHtml:function(){var g=this.classPrefix;return'<div id="'+this._id+'" class="'+this.classes+'"><div id="'+this._id+'-body">'+this.encode(this.state.get("text"))+'<button role="button" tabindex="-1"><i class="'+
g+"ico "+g+'i-help"></i></button></div></div>'},bindStates:function(){var g=this;g.state.on("change:text",function(e){g.getEl("body").firstChild.data=g.encode(e.value);g.state.get("rendered")&&g.updateLayoutRect()});g.state.on("change:help",function(e){g.classes.toggle("has-help",e.value);g.state.get("rendered")&&g.updateLayoutRect()});return g._super()}})});x("tinymce/ui/Label",["tinymce/ui/Widget","tinymce/ui/DomUtils"],function(h,g){return h.extend({init:function(e){this._super(e);this.classes.add("widget").add("label");
this.canFocus=!1;e.multiline&&this.classes.add("autoscroll");e.strong&&this.classes.add("strong")},initLayoutRect:function(){var e=this._super();this.settings.multiline&&(g.getSize(this.getEl()).width>e.maxW&&(e.minW=e.maxW,this.classes.add("multiline")),this.getEl().style.width=e.minW+"px",e.startMinH=e.h=e.minH=Math.min(e.maxH,g.getSize(this.getEl()).height));return e},repaint:function(){this.settings.multiline||(this.getEl().style.lineHeight=this.layoutRect().h+"px");return this._super()},severity:function(e){this.classes.remove("error");
this.classes.remove("warning");this.classes.remove("success");this.classes.add(e)},renderHtml:function(){var e,d=this.settings.forId;!d&&(e=this.settings.forName)&&(e=this.getRoot().find("#"+e)[0])&&(d=e._id);return d?'<label id="'+this._id+'" class="'+this.classes+'"'+(d?' for="'+d+'"':"")+">"+this.encode(this.state.get("text"))+"</label>":'<span id="'+this._id+'" class="'+this.classes+'">'+this.encode(this.state.get("text"))+"</span>"},bindStates:function(){var e=this;e.state.on("change:text",function(d){e.innerHtml(e.encode(d.value));
e.state.get("rendered")&&e.updateLayoutRect()});return e._super()}})});x("tinymce/ui/Toolbar",["tinymce/ui/Container"],function(h){return h.extend({Defaults:{role:"toolbar",layout:"flow"},init:function(g){this._super(g);this.classes.add("toolbar")},postRender:function(){this.items().each(function(g){g.classes.add("toolbar-item")});return this._super()}})});x("tinymce/ui/MenuBar",["tinymce/ui/Toolbar"],function(h){return h.extend({Defaults:{role:"menubar",containerCls:"menubar",ariaRoot:!0,defaults:{type:"menubutton"}}})});
x("tinymce/ui/MenuButton",["tinymce/ui/Button","tinymce/ui/Factory","tinymce/ui/MenuBar"],function(h,g,e){var d=h.extend({init:function(b){this._renderOpen=!0;this._super(b);b=this.settings;this.classes.add("menubtn");b.fixedWidth&&this.classes.add("fixed-width");this.aria("haspopup",!0);this.state.set("menu",b.menu||this.render())},showMenu:function(){var b=this;if(b.menu&&b.menu.visible())return b.hideMenu();if(!b.menu){var c=b.state.get("menu")||[];c.length?c={type:"menu",items:c}:c.type=c.type||
"menu";b.menu=c.renderTo?c.parent(b).show().renderTo():g.create(c).parent(b).renderTo();b.fire("createmenu");b.menu.reflow();b.menu.on("cancel",function(a){a.control.parent()===b.menu&&(a.stopPropagation(),b.focus(),b.hideMenu())});b.menu.on("select",function(){b.focus()});b.menu.on("show hide",function(a){a.control==b.menu&&b.activeMenu("show"==a.type);b.aria("expanded","show"==a.type)}).fire("show")}b.menu.show();b.menu.layoutRect({w:b.layoutRect().w});b.menu.moveRel(b.getEl(),b.isRtl()?["br-tr",
"tr-br"]:["bl-tl","tl-bl"])},hideMenu:function(){this.menu&&(this.menu.items().each(function(b){b.hideMenu&&b.hideMenu()}),this.menu.hide())},activeMenu:function(b){this.classes.toggle("active",b)},renderHtml:function(){var b=this._id,c=this.classPrefix,a=this.settings.icon,d,g=this.state.get("text"),h="";(d=this.settings.image)?(a="none","string"!=typeof d&&(d=window.getSelection?d[0]:d[1]),d=" style=\"background-image: url('"+d+"')\""):d="";g&&(this.classes.add("btn-has-text"),h='<span class="'+
c+'txt">'+this.encode(g)+"</span>");a=this.settings.icon?c+"ico "+c+"i-"+a:"";this.aria("role",this.parent()instanceof e?"menuitem":"button");return'<div id="'+b+'" class="'+this.classes+'" tabindex="-1" aria-labelledby="'+b+'"><button id="'+b+'-open" role="presentation" type="button" tabindex="-1">'+(a?'<i class="'+a+'"'+d+"></i>":"")+h+' <i class="'+c+'caret"></i></button></div>'},postRender:function(){var b=this;b.on("click",function(c){var a;if(a=c.control===b)a:{a=c.target;for(var d=b.getEl();a;){if(d===
a){a=!0;break a}a=a.parentNode}a=!1}a&&(b.showMenu(),c.aria&&b.menu.items()[0].focus())});b.on("mouseenter",function(c){var a=c.control;c=b.parent();var e;a&&c&&a instanceof d&&a.parent()==c&&(c.items().filter("MenuButton").each(function(b){b.hideMenu&&b!=a&&(b.menu&&b.menu.visible()&&(e=!0),b.hideMenu())}),e&&(a.focus(),a.showMenu()))});return b._super()},bindStates:function(){var b=this;b.state.on("change:menu",function(){b.menu&&b.menu.remove();b.menu=null});return b._super()},remove:function(){this._super();
this.menu&&this.menu.remove()}});return d});x("tinymce/ui/MenuItem",["tinymce/ui/Widget","tinymce/ui/Factory","tinymce/Env","tinymce/util/Delay"],function(h,g,e,d){return h.extend({Defaults:{border:0,role:"menuitem"},init:function(b){this._super(b);b=this.settings;this.classes.add("menu-item");b.menu&&this.classes.add("menu-item-expand");b.preview&&this.classes.add("menu-item-preview");var c=this.state.get("text");if("-"===c||"|"===c)this.classes.add("menu-item-sep"),this.aria("role","separator"),
this.state.set("text","-");b.selectable&&(this.aria("role","menuitemcheckbox"),this.classes.add("menu-item-checkbox"),b.icon="selected");b.preview||b.selectable||this.classes.add("menu-item-normal");this.on("mousedown",function(a){a.preventDefault()});b.menu&&!b.ariaHideMenu&&this.aria("haspopup",!0)},hasMenus:function(){return!!this.settings.menu},showMenu:function(){var b=this,c=b.settings,a,d=b.parent();d.items().each(function(a){a!==b&&a.hideMenu()});c.menu&&((a=b.menu)?a.show():(a=c.menu,a.length?
a={type:"menu",items:a}:a.type=a.type||"menu",d.settings.itemDefaults&&(a.itemDefaults=d.settings.itemDefaults),a=b.menu=g.create(a).parent(b).renderTo(),a.reflow(),a.on("cancel",function(c){c.stopPropagation();b.focus();a.hide()}),a.on("show hide",function(a){a.control.items().each(function(a){a.active(a.settings.selected)})}).fire("show"),a.on("hide",function(c){c.control===a&&b.classes.remove("selected")}),a.submenu=!0),a._parentMenu=d,a.classes.add("menu-sub"),c=a.testMoveRel(b.getEl(),b.isRtl()?
["tl-tr","bl-br","tr-tl","br-bl"]:["tr-tl","br-bl","tl-tr","bl-br"]),a.moveRel(b.getEl(),c),a.rel=c,c="menu-sub-"+c,a.classes.remove(a._lastRel).add(c),a._lastRel=c,b.classes.add("selected"),b.aria("expanded",!0))},hideMenu:function(){this.menu&&(this.menu.items().each(function(b){b.hideMenu&&b.hideMenu()}),this.menu.hide(),this.aria("expanded",!1));return this},renderHtml:function(){var b=this._id,c=this.settings,a=this.classPrefix,d=this.encode(this.state.get("text")),g=this.settings.icon,h="",
q=c.shortcut;g&&this.parent().classes.add("menu-has-icons");c.image&&(h=" style=\"background-image: url('"+c.image+"')\"");if(q){var r,l;g=e.mac?{alt:"&#x2325;",ctrl:"&#x2318;",shift:"&#x21E7;",meta:"&#x2318;"}:{meta:"Ctrl"};q=q.split("+");for(r=0;r<q.length;r++)(l=g[q[r].toLowerCase()])&&(q[r]=l);q=q.join("+")}g=a+"ico "+a+"i-"+(this.settings.icon||"none");return'<div id="'+b+'" class="'+this.classes+'" tabindex="-1">'+("-"!==d?'<i class="'+g+'"'+h+"></i>\u00a0":"")+("-"!==d?'<span id="'+b+'-text" class="'+
a+'text">'+d+"</span>":"")+(q?'<div id="'+b+'-shortcut" class="'+a+'menu-shortcut">'+q+"</div>":"")+(c.menu?'<div class="'+a+'caret"></div>':"")+"</div>"},postRender:function(){var b=this,c=b.settings,a=c.textStyle;"function"==typeof a&&(a=a.call(this));if(a){var e=b.getEl("text");e&&e.setAttribute("style",a)}b.on("mouseenter click",function(a){a.control===b&&(c.menu||"click"!==a.type?(b.showMenu(),a.aria&&b.menu.focus(!0)):(b.fire("select"),d.requestAnimationFrame(function(){b.parent().hideAll()})))});
b._super();return b},hover:function(){this.parent().items().each(function(b){b.classes.remove("selected")});this.classes.toggle("selected",!0);return this},active:function(b){"undefined"!=typeof b&&this.aria("checked",b);return this._super(b)},remove:function(){this._super();this.menu&&this.menu.remove()}})});x("tinymce/ui/Throbber",["tinymce/dom/DomQuery","tinymce/ui/Control","tinymce/util/Delay"],function(h,g,e){return function(d,b){var c=this,a,f=g.classPrefix,p;c.show=function(g,q){function n(){a&&
(h(d).append('<div class="'+f+"throbber"+(b?" "+f+"throbber-inline":"")+'"></div>'),q&&q())}c.hide();a=!0;g?p=e.setTimeout(n,g):n();return c};c.hide=function(){var b=d.lastChild;e.clearTimeout(p);b&&-1!=b.className.indexOf("throbber")&&b.parentNode.removeChild(b);a=!1;return c}}});x("tinymce/ui/Menu",["tinymce/ui/FloatPanel","tinymce/ui/MenuItem","tinymce/ui/Throbber","tinymce/util/Tools"],function(h,g,e,d){return h.extend({Defaults:{defaultType:"menuitem",border:1,layout:"stack",role:"application",
bodyRole:"menu",ariaRoot:!0},init:function(b){b.autohide=!0;b.constrainToViewport=!0;"function"===typeof b.items&&(b.itemsFactory=b.items,b.items=[]);if(b.itemDefaults)for(var c=b.items,a=c.length;a--;)c[a]=d.extend({},b.itemDefaults,c[a]);this._super(b);this.classes.add("menu")},repaint:function(){this.classes.toggle("menu-align",!0);this._super();this.getEl().style.height="";this.getEl("body").style.height="";return this},cancel:function(){this.hideAll();this.fire("select")},load:function(){function b(){c.throbber&&
(c.throbber.hide(),c.throbber=null)}var c=this,a;c.settings.itemsFactory&&(c.throbber||(c.throbber=new e(c.getEl("body"),!0),0===c.items().length?(c.throbber.show(),c.fire("loading")):c.throbber.show(100,function(){c.items().remove();c.fire("loading")}),c.on("hide close",b)),c.requestTime=a=(new Date).getTime(),c.settings.itemsFactory(function(d){0===d.length?c.hide():c.requestTime===a&&(c.getEl().style.width="",c.getEl("body").style.width="",b(),c.items().remove(),c.getEl("body").innerHTML="",c.add(d),
c.renderNew(),c.fire("loaded"))}))},hideAll:function(){this.find("menuitem").exec("hideMenu");return this._super()},preRender:function(){var b=this;b.items().each(function(c){c=c.settings;if(c.icon||c.image||c.selectable)return b._hasIcons=!0,!1});if(b.settings.itemsFactory)b.on("postrender",function(){b.settings.itemsFactory&&b.load()});return b._super()}})});x("tinymce/ui/ListBox",["tinymce/ui/MenuButton","tinymce/ui/Menu"],function(h,g){return h.extend({init:function(e){function d(c){for(var f=
0;f<c.length;f++){if(a=c[f].selected||e.value===c[f].value)return g=g||c[f].text,b.state.set("value",c[f].value),!0;if(c[f].menu&&d(c[f].menu))return!0}}var b=this,c,a,f;b._super(e);e=b.settings;if(b._values=c=e.values){"undefined"!=typeof e.value&&d(c);if(!a&&0<c.length){var g=c[0].text;b.state.set("value",c[0].value)}b.state.set("menu",c)}b.state.set("text",e.text||g);b.classes.add("listbox");b.on("select",function(a){var c=a.control;f&&(a.lastControl=f);e.multiple?c.active(!c.active()):b.value(a.control.value());
f=c})},bindStates:function(){function e(b,a){b instanceof g&&b.items().each(function(b){b.hasMenus()||b.active(b.value()===a)})}function d(b,a){var c;if(b)for(var e=0;e<b.length;e++){if(b[e].value===a)return b[e];if(b[e].menu&&(c=d(b[e].menu,a)))return c}}var b=this;b.on("show",function(c){e(c.control,b.value())});b.state.on("change:value",function(c){(c=d(b.state.get("menu"),c.value))?b.text(c.text):b.text(b.settings.text)});return b._super()}})});x("tinymce/ui/Radio",["tinymce/ui/Checkbox"],function(h){return h.extend({Defaults:{classes:"radio",
role:"radio"}})});x("tinymce/ui/ResizeHandle",["tinymce/ui/Widget","tinymce/ui/DragHelper"],function(h,g){return h.extend({renderHtml:function(){var e=this.classPrefix;this.classes.add("resizehandle");"both"==this.settings.direction&&this.classes.add("resizehandle-both");this.canFocus=!1;return'<div id="'+this._id+'" class="'+this.classes+'"><i class="'+e+"ico "+e+'i-resize"></i></div>'},postRender:function(){var e=this;e._super();e.resizeDragHelper=new g(this._id,{start:function(){e.fire("ResizeStart")},
drag:function(d){"both"!=e.settings.direction&&(d.deltaX=0);e.fire("Resize",d)},stop:function(){e.fire("ResizeEnd")}})},remove:function(){this.resizeDragHelper&&this.resizeDragHelper.destroy();return this._super()}})});x("tinymce/ui/SelectBox",["tinymce/ui/Widget"],function(h){function g(e){var d="";if(e)for(var b=0;b<e.length;b++)d+='<option value="'+e[b]+'">'+e[b]+"</option>";return d}return h.extend({Defaults:{classes:"selectbox",role:"selectbox",options:[]},init:function(e){var d=this;d._super(e);
d.settings.size&&(d.size=d.settings.size);d.settings.options&&(d._options=d.settings.options);d.on("keydown",function(b){var c;13==b.keyCode&&(b.preventDefault(),d.parents().reverse().each(function(a){if(a.toJSON)return c=a,!1}),d.fire("submit",{data:c.toJSON()}))})},options:function(e){if(!arguments.length)return this.state.get("options");this.state.set("options",e);return this},renderHtml:function(){var e="";var d=g(this._options);this.size&&(e=' size = "'+this.size+'"');return'<select id="'+this._id+
'" class="'+this.classes+'"'+e+">"+d+"</select>"},bindStates:function(){var e=this;e.state.on("change:options",function(d){e.getEl().innerHTML=g(d.value)});return e._super()}})});x("tinymce/ui/Slider",["tinymce/ui/Widget","tinymce/ui/DragHelper","tinymce/ui/DomUtils"],function(h,g,e){function d(b,a,d){b<a&&(b=a);b>d&&(b=d);return b}function b(b,a){if("v"==b.settings.orientation){var c="top";var d="height";var g="h"}else c="left",d="width",g="w";var h=b.getEl("handle");g=((b.layoutRect()[g]||100)-
e.getSize(h)[d])*((a-b._minValue)/(b._maxValue-b._minValue))+"px";h.style[c]=g;h.style.height=b.layoutRect().h+"px";h.setAttribute("aria-valuenow",a);c=""+b.settings.previewFilter(a);h.setAttribute("aria-valuetext",c);h.setAttribute("aria-valuemin",b._minValue);h.setAttribute("aria-valuemax",b._maxValue)}return h.extend({init:function(b){b.previewFilter||(b.previewFilter=function(a){return Math.round(100*a)/100});this._super(b);this.classes.add("slider");"v"==b.orientation&&this.classes.add("vertical");
this._minValue=b.minValue||0;this._maxValue=b.maxValue||100;this._initValue=this.state.get("value")},renderHtml:function(){var b=this._id;return'<div id="'+b+'" class="'+this.classes+'"><div id="'+b+'-handle" class="'+this.classPrefix+'slider-handle" role="slider" tabindex="-1"></div></div>'},reset:function(){this.value(this._initValue).repaint()},postRender:function(){var b=this;var a=b._minValue;var f=b._maxValue;if("v"==b.settings.orientation){var h="screenY";var n="top";var q="height";var r="h"}else h=
"screenX",n="left",q="width",r="w";b._super();(function(a,c){function e(e){var f=b.value();f=((f+a)/(c-a)+.05*e)*(c-a)-a;f=d(f,a,c);b.value(f);b.fire("dragstart",{value:f});b.fire("drag",{value:f});b.fire("dragend",{value:f})}b.on("keydown",function(a){switch(a.keyCode){case 37:case 38:e(-1);break;case 39:case 40:e(1)}})})(a,f,b.getEl("handle"));(function(a,c,f){var l,p,m,v,x;b._dragHelper=new g(b._id,{handle:b._id+"-handle",start:function(a){l=a[h];p=parseInt(b.getEl("handle").style[n],10);m=(b.layoutRect()[r]||
100)-e.getSize(f)[q];b.fire("dragstart",{value:x})},drag:function(e){v=d(p+(e[h]-l),0,m);f.style[n]=v+"px";x=a+v/m*(c-a);b.value(x);b.tooltip().text(""+b.settings.previewFilter(x)).show().moveRel(f,"bc tc");b.fire("drag",{value:x})},stop:function(){b.tooltip().hide();b.fire("dragend",{value:x})}})})(a,f,b.getEl("handle"))},repaint:function(){this._super();b(this,this.value())},bindStates:function(){var c=this;c.state.on("change:value",function(a){b(c,a.value)});return c._super()}})});x("tinymce/ui/Spacer",
["tinymce/ui/Widget"],function(h){return h.extend({renderHtml:function(){this.classes.add("spacer");this.canFocus=!1;return'<div id="'+this._id+'" class="'+this.classes+'"></div>'}})});x("tinymce/ui/SplitButton",["tinymce/ui/MenuButton","tinymce/ui/DomUtils","tinymce/dom/DomQuery"],function(h,g,e){return h.extend({Defaults:{classes:"widget btn splitbtn",role:"button"},repaint:function(){var d=this.getEl(),b=this.layoutRect();this._super();var c=d.firstChild;d=d.lastChild;e(c).css({width:b.w-g.getSize(d).width,
height:b.h-2});e(d).css({height:b.h-2});return this},activeMenu:function(d){e(this.getEl().lastChild).toggleClass(this.classPrefix+"active",d)},renderHtml:function(){var d=this._id,b=this.classPrefix,c,a=this.state.get("icon"),e=this.state.get("text"),g="";(c=this.settings.image)?(a="none","string"!=typeof c&&(c=window.getSelection?c[0]:c[1]),c=" style=\"background-image: url('"+c+"')\""):c="";a=this.settings.icon?b+"ico "+b+"i-"+a:"";e&&(this.classes.add("btn-has-text"),g='<span class="'+b+'txt">'+
this.encode(e)+"</span>");return'<div id="'+d+'" class="'+this.classes+'" role="button" tabindex="-1"><button type="button" hidefocus="1" tabindex="-1">'+(a?'<i class="'+a+'"'+c+"></i>":"")+g+'</button><button type="button" class="'+b+'open" hidefocus="1" tabindex="-1">'+(this._menuBtnText?(a?"\u00a0":"")+this._menuBtnText:"")+' <i class="'+b+'caret"></i></button></div>'},postRender:function(){var d=this.settings.onclick;this.on("click",function(b){var c=b.target;if(b.control==this)for(;c;){if(b.aria&&
"down"!=b.aria.key||"BUTTON"==c.nodeName&&-1==c.className.indexOf("open")){b.stopImmediatePropagation();d&&d.call(this,b);break}c=c.parentNode}});delete this.settings.onclick;return this._super()}})});x("tinymce/ui/StackLayout",["tinymce/ui/FlowLayout"],function(h){return h.extend({Defaults:{containerClass:"stack-layout",controlClass:"stack-layout-item",endClass:"break"},isNative:function(){return!0}})});x("tinymce/ui/TabPanel",["tinymce/ui/Panel","tinymce/dom/DomQuery","tinymce/ui/DomUtils"],function(h,
g,e){return h.extend({Defaults:{layout:"absolute",defaults:{type:"panel"}},activateTab:function(d){if(this.activeTabId){var b=this.getEl(this.activeTabId);g(b).removeClass(this.classPrefix+"active");b.setAttribute("aria-selected","false")}this.activeTabId="t"+d;b=this.getEl("t"+d);b.setAttribute("aria-selected","true");g(b).addClass(this.classPrefix+"active");this.items()[d].show().fire("showtab");this.reflow();this.items().each(function(b,a){d!=a&&b.hide()})},renderHtml:function(){var d=this,b=d._layout,
c="",a=d.classPrefix;d.preRender();b.preRender(d);d.items().each(function(b,e){var f=d._id+"-t"+e;b.aria("role","tabpanel");b.aria("labelledby",f);c+='<div id="'+f+'" class="'+a+'tab" unselectable="on" role="tab" aria-controls="'+b._id+'" aria-selected="false" tabIndex="-1">'+d.encode(b.settings.title)+"</div>"});return'<div id="'+d._id+'" class="'+d.classes+'" hidefocus="1" tabindex="-1"><div id="'+d._id+'-head" class="'+a+'tabs" role="tablist">'+c+'</div><div id="'+d._id+'-body" class="'+d.bodyClasses+
'">'+b.renderHtml(d)+"</div></div>"},postRender:function(){var d=this;d._super();d.settings.activeTab=d.settings.activeTab||0;d.activateTab(d.settings.activeTab);this.on("click",function(b){var c=b.target.parentNode;if(b.target.parentNode.id==d._id+"-head")for(var a=c.childNodes.length;a--;)c.childNodes[a]==b.target&&d.activateTab(a)})},initLayoutRect:function(){var d=e.getSize(this.getEl("head")).width;d=0>d?0:d;var b=0;this.items().each(function(a){d=Math.max(d,a.layoutRect().minW);b=Math.max(b,
a.layoutRect().minH)});this.items().each(function(a){a.settings.x=0;a.settings.y=0;a.settings.w=d;a.settings.h=b;a.layoutRect({x:0,y:0,w:d,h:b})});var c=e.getSize(this.getEl("head")).height;this.settings.minWidth=d;this.settings.minHeight=b+c;var a=this._super();a.deltaH+=c;a.innerH=a.h-a.deltaH;return a}})});x("tinymce/ui/TextBox",["tinymce/ui/Widget","tinymce/util/Tools","tinymce/ui/DomUtils"],function(h,g,e){return h.extend({init:function(d){var b=this;b._super(d);b.classes.add("textbox");d.multiline?
b.classes.add("multiline"):(b.on("keydown",function(c){var a;13==c.keyCode&&(c.preventDefault(),b.parents().reverse().each(function(b){if(b.toJSON)return a=b,!1}),b.fire("submit",{data:a.toJSON()}))}),b.on("keyup",function(c){b.state.set("value",c.target.value)}))},repaint:function(){var d=0;var b=this.getEl().style;var c=this._layoutRect;var a=this._lastRepaintRect||{};var e=document;!this.settings.multiline&&e.all&&(!e.documentMode||8>=e.documentMode)&&(b.lineHeight=c.h-d+"px");d=this.borderBox;
e=d.left+d.right+8;d=d.top+d.bottom+(this.settings.multiline?8:0);c.x!==a.x&&(b.left=c.x+"px",a.x=c.x);c.y!==a.y&&(b.top=c.y+"px",a.y=c.y);c.w!==a.w&&(b.width=c.w-e+"px",a.w=c.w);c.h!==a.h&&(b.height=c.h-d+"px",a.h=c.h);this._lastRepaintRect=a;this.fire("repaint",{},!1);return this},renderHtml:function(){var d=this.settings;var b={id:this._id,hidefocus:"1"};g.each("rows spellcheck maxLength size readonly min max step list pattern placeholder required multiple".split(" "),function(a){b[a]=d[a]});this.disabled()&&
(b.disabled="disabled");d.subtype&&(b.type=d.subtype);var c=e.create(d.multiline?"textarea":"input",b);c.value=this.state.get("value");c.className=this.classes;return c.outerHTML},value:function(d){if(arguments.length)return this.state.set("value",d),this;this.state.get("rendered")&&this.state.set("value",this.getEl().value);return this.state.get("value")},postRender:function(){var d=this;d.getEl().value=d.state.get("value");d._super();d.$el.on("change",function(b){d.state.set("value",b.target.value);
d.fire("change",b)})},bindStates:function(){var d=this;d.state.on("change:value",function(b){d.getEl().value!=b.value&&(d.getEl().value=b.value)});d.state.on("change:disabled",function(b){d.getEl().disabled=b.value});return d._super()},remove:function(){this.$el.off();this._super()}})});x("tinymce/Register",[],function(){var h=this||window;"function"===typeof h.define&&(h.define.amd||h.define("ephox/tinymce",[],function(){return h.tinymce}));return{}});(function(h){var g;for(g=0;g<h.length;g++){var e=
pa;var d=h[g];var b=d.split(/[.\/]/);for(var c=0;c<b.length-1;++c)e[b[c]]===X&&(e[b[c]]={}),e=e[b[c]];e[b[b.length-1]]=qa[d]}if(pa.AMDLC_TESTS){e=pa.privateModules||{};for(d in qa)e[d]=qa[d];for(g=0;g<h.length;g++)delete e[h[g]];pa.privateModules=e}})("tinymce/geom/Rect tinymce/util/Promise tinymce/util/Delay tinymce/Env tinymce/dom/EventUtils tinymce/dom/Sizzle tinymce/util/Tools tinymce/dom/DomQuery tinymce/html/Styles tinymce/dom/TreeWalker tinymce/html/Entities tinymce/dom/DOMUtils tinymce/dom/ScriptLoader tinymce/AddOnManager tinymce/dom/RangeUtils tinymce/html/Node tinymce/html/Schema tinymce/html/SaxParser tinymce/html/DomParser tinymce/html/Writer tinymce/html/Serializer tinymce/dom/Serializer tinymce/util/VK tinymce/dom/ControlSelection tinymce/dom/BookmarkManager tinymce/dom/Selection tinymce/Formatter tinymce/UndoManager tinymce/EditorCommands tinymce/util/URI tinymce/util/Class tinymce/util/EventDispatcher tinymce/util/Observable tinymce/ui/Selector tinymce/ui/Collection tinymce/ui/ReflowQueue tinymce/ui/Control tinymce/ui/Factory tinymce/ui/KeyboardNavigation tinymce/ui/Container tinymce/ui/DragHelper tinymce/ui/Scrollable tinymce/ui/Panel tinymce/ui/Movable tinymce/ui/Resizable tinymce/ui/FloatPanel tinymce/ui/Window tinymce/ui/MessageBox tinymce/WindowManager tinymce/ui/Tooltip tinymce/ui/Widget tinymce/ui/Progress tinymce/ui/Notification tinymce/NotificationManager tinymce/EditorObservable tinymce/Shortcuts tinymce/Editor tinymce/util/I18n tinymce/FocusManager tinymce/EditorManager tinymce/util/XHR tinymce/util/JSON tinymce/util/JSONRequest tinymce/util/JSONP tinymce/util/LocalStorage tinymce/Compat tinymce/ui/Layout tinymce/ui/AbsoluteLayout tinymce/ui/Button tinymce/ui/ButtonGroup tinymce/ui/Checkbox tinymce/ui/ComboBox tinymce/ui/ColorBox tinymce/ui/PanelButton tinymce/ui/ColorButton tinymce/util/Color tinymce/ui/ColorPicker tinymce/ui/Path tinymce/ui/ElementPath tinymce/ui/FormItem tinymce/ui/Form tinymce/ui/FieldSet tinymce/ui/FilePicker tinymce/ui/FitLayout tinymce/ui/FlexLayout tinymce/ui/FlowLayout tinymce/ui/FormatControls tinymce/ui/GridLayout tinymce/ui/Iframe tinymce/ui/InfoBox tinymce/ui/Label tinymce/ui/Toolbar tinymce/ui/MenuBar tinymce/ui/MenuButton tinymce/ui/MenuItem tinymce/ui/Throbber tinymce/ui/Menu tinymce/ui/ListBox tinymce/ui/Radio tinymce/ui/ResizeHandle tinymce/ui/SelectBox tinymce/ui/Slider tinymce/ui/Spacer tinymce/ui/SplitButton tinymce/ui/StackLayout tinymce/ui/TabPanel tinymce/ui/TextBox".split(" "))})(this);